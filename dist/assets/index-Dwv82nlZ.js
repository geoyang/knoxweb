var Jj=Object.defineProperty;var Qj=(i,r,n)=>r in i?Jj(i,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[r]=n;var R5=(i,r,n)=>Qj(i,typeof r!="symbol"?r+"":r,n);function X8(i,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in i)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ym(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function rd(i){if(i.__esModule)return i;var r=i.default;if(typeof r=="function"){var n=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var l=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:function(){return i[s]}})}),n}var z8={exports:{}},oh={},L8={exports:{}},K2={exports:{}};K2.exports;(function(i,r){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function n(k,Q){Object.defineProperty(u.prototype,k,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",Q[0],Q[1])}})}function s(k){return k===null||typeof k!="object"?null:(k=he&&k[he]||k["@@iterator"],typeof k=="function"?k:null)}function l(k,Q){k=(k=k.constructor)&&(k.displayName||k.name)||"ReactClass";var Ve=k+"."+Q;oe[Ve]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",Q,k),oe[Ve]=!0)}function u(k,Q,Ve){this.props=k,this.context=Q,this.refs=je,this.updater=Ve||ke}function d(){}function A(k,Q,Ve){this.props=k,this.context=Q,this.refs=je,this.updater=Ve||ke}function b(){}function p(k){return""+k}function x(k){try{p(k);var Q=!1}catch{Q=!0}if(Q){Q=console;var Ve=Q.error,Ce=typeof Symbol=="function"&&Symbol.toStringTag&&k[Symbol.toStringTag]||k.constructor.name||"Object";return Ve.call(Q,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",Ce),p(k)}}function N(k){if(k==null)return null;if(typeof k=="function")return k.$$typeof===Xe?null:k.displayName||k.name||null;if(typeof k=="string")return k;switch(k){case C:return"Fragment";case S:return"Profiler";case I:return"StrictMode";case re:return"Suspense";case se:return"SuspenseList";case W:return"Activity"}if(typeof k=="object")switch(typeof k.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),k.$$typeof){case X:return"Portal";case U:return k.displayName||"Context";case P:return(k._context.displayName||"Context")+".Consumer";case K:var Q=k.render;return k=k.displayName,k||(k=Q.displayName||Q.name||"",k=k!==""?"ForwardRef("+k+")":"ForwardRef"),k;case Ee:return Q=k.displayName||null,Q!==null?Q:N(k.type)||"Memo";case ye:Q=k._payload,k=k._init;try{return N(k(Q))}catch{}}return null}function v(k){if(k===C)return"<>";if(typeof k=="object"&&k!==null&&k.$$typeof===ye)return"<...>";try{var Q=N(k);return Q?"<"+Q+">":"<...>"}catch{return"<...>"}}function w(){var k=ae.A;return k===null?null:k.getOwner()}function E(){return Error("react-stack-top-frame")}function F(k){if(fe.call(k,"key")){var Q=Object.getOwnPropertyDescriptor(k,"key").get;if(Q&&Q.isReactWarning)return!1}return k.key!==void 0}function V(k,Q){function Ve(){Oe||(Oe=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Q))}Ve.isReactWarning=!0,Object.defineProperty(k,"key",{get:Ve,configurable:!0})}function G(){var k=N(this.type);return $e[k]||($e[k]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),k=this.props.ref,k!==void 0?k:null}function Z(k,Q,Ve,Ce,Le,nr){var Re=Ve.ref;return k={$$typeof:R,type:k,key:Q,props:Ve,_owner:Ce},(Re!==void 0?Re:null)!==null?Object.defineProperty(k,"ref",{enumerable:!1,get:G}):Object.defineProperty(k,"ref",{enumerable:!1,value:null}),k._store={},Object.defineProperty(k._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(k,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(k,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:Le}),Object.defineProperty(k,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:nr}),Object.freeze&&(Object.freeze(k.props),Object.freeze(k)),k}function H(k,Q){return Q=Z(k.type,Q,k.props,k._owner,k._debugStack,k._debugTask),k._store&&(Q._store.validated=k._store.validated),Q}function te(k){T(k)?k._store&&(k._store.validated=1):typeof k=="object"&&k!==null&&k.$$typeof===ye&&(k._payload.status==="fulfilled"?T(k._payload.value)&&k._payload.value._store&&(k._payload.value._store.validated=1):k._store&&(k._store.validated=1))}function T(k){return typeof k=="object"&&k!==null&&k.$$typeof===R}function M(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Ve){return Q[Ve]})}function q(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?(x(k.key),M(""+k.key)):Q.toString(36)}function $(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(b,b):(k.status="pending",k.then(function(Q){k.status==="pending"&&(k.status="fulfilled",k.value=Q)},function(Q){k.status==="pending"&&(k.status="rejected",k.reason=Q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ae(k,Q,Ve,Ce,Le){var nr=typeof k;(nr==="undefined"||nr==="boolean")&&(k=null);var Re=!1;if(k===null)Re=!0;else switch(nr){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(k.$$typeof){case R:case X:Re=!0;break;case ye:return Re=k._init,Ae(Re(k._payload),Q,Ve,Ce,Le)}}if(Re){Re=k,Le=Le(Re);var We=Ce===""?"."+q(Re,0):Ce;return De(Le)?(Ve="",We!=null&&(Ve=We.replace(Pe,"$&/")+"/"),Ae(Le,Q,Ve,"",function(Ye){return Ye})):Le!=null&&(T(Le)&&(Le.key!=null&&(Re&&Re.key===Le.key||x(Le.key)),Ve=H(Le,Ve+(Le.key==null||Re&&Re.key===Le.key?"":(""+Le.key).replace(Pe,"$&/")+"/")+We),Ce!==""&&Re!=null&&T(Re)&&Re.key==null&&Re._store&&!Re._store.validated&&(Ve._store.validated=2),Le=Ve),Q.push(Le)),1}if(Re=0,We=Ce===""?".":Ce+":",De(k))for(var Je=0;Je<k.length;Je++)Ce=k[Je],nr=We+q(Ce,Je),Re+=Ae(Ce,Q,Ve,nr,Le);else if(Je=s(k),typeof Je=="function")for(Je===k.entries&&(xe||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),xe=!0),k=Je.call(k),Je=0;!(Ce=k.next()).done;)Ce=Ce.value,nr=We+q(Ce,Je++),Re+=Ae(Ce,Q,Ve,nr,Le);else if(nr==="object"){if(typeof k.then=="function")return Ae($(k),Q,Ve,Ce,Le);throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Re}function L(k,Q,Ve){if(k==null)return k;var Ce=[],Le=0;return Ae(k,Ce,"","",function(nr){return Q.call(Ve,nr,Le++)}),Ce}function J(k){if(k._status===-1){var Q=k._ioInfo;Q!=null&&(Q.start=Q.end=performance.now()),Q=k._result;var Ve=Q();if(Ve.then(function(Le){if(k._status===0||k._status===-1){k._status=1,k._result=Le;var nr=k._ioInfo;nr!=null&&(nr.end=performance.now()),Ve.status===void 0&&(Ve.status="fulfilled",Ve.value=Le)}},function(Le){if(k._status===0||k._status===-1){k._status=2,k._result=Le;var nr=k._ioInfo;nr!=null&&(nr.end=performance.now()),Ve.status===void 0&&(Ve.status="rejected",Ve.reason=Le)}}),Q=k._ioInfo,Q!=null){Q.value=Ve;var Ce=Ve.displayName;typeof Ce=="string"&&(Q.name=Ce)}k._status===-1&&(k._status=0,k._result=Ve)}if(k._status===1)return Q=k._result,Q===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Q),"default"in Q||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Q),Q.default;throw k._result}function j(){var k=ae.H;return k===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),k}function O(){ae.asyncTransitions--}function Y(k){if(xr===null)try{var Q=("require"+Math.random()).slice(0,7);xr=(i&&i[Q]).call(i,"timers").setImmediate}catch{xr=function(Ce){er===!1&&(er=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Le=new MessageChannel;Le.port1.onmessage=Ce,Le.port2.postMessage(void 0)}}return xr(k)}function ie(k){return 1<k.length&&typeof AggregateError=="function"?new AggregateError(k):k[0]}function z(k,Q){Q!==ur-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),ur=Q}function ee(k,Q,Ve){var Ce=ae.actQueue;if(Ce!==null)if(Ce.length!==0)try{D(Ce),Y(function(){return ee(k,Q,Ve)});return}catch(Le){ae.thrownErrors.push(Le)}else ae.actQueue=null;0<ae.thrownErrors.length?(Ce=ie(ae.thrownErrors),ae.thrownErrors.length=0,Ve(Ce)):Q(k)}function D(k){if(!we){we=!0;var Q=0;try{for(;Q<k.length;Q++){var Ve=k[Q];do{ae.didUsePromise=!1;var Ce=Ve(!1);if(Ce!==null){if(ae.didUsePromise){k[Q]=Ve,k.splice(0,Q);return}Ve=Ce}else break}while(!0)}k.length=0}catch(Le){k.splice(0,Q+1),ae.thrownErrors.push(Le)}finally{we=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var R=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),he=Symbol.iterator,oe={},ke={isMounted:function(){return!1},enqueueForceUpdate:function(k){l(k,"forceUpdate")},enqueueReplaceState:function(k){l(k,"replaceState")},enqueueSetState:function(k){l(k,"setState")}},Ne=Object.assign,je={};Object.freeze(je),u.prototype.isReactComponent={},u.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},u.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};var Be={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(de in Be)Be.hasOwnProperty(de)&&n(de,Be[de]);d.prototype=u.prototype,Be=A.prototype=new d,Be.constructor=A,Ne(Be,u.prototype),Be.isPureReactComponent=!0;var De=Array.isArray,Xe=Symbol.for("react.client.reference"),ae={H:null,A:null,T:null,S:null,actQueue:null,asyncTransitions:0,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},fe=Object.prototype.hasOwnProperty,be=console.createTask?console.createTask:function(){return null};Be={react_stack_bottom_frame:function(k){return k()}};var Oe,Fe,$e={},me=Be.react_stack_bottom_frame.bind(Be,E)(),ze=be(v(E)),xe=!1,Pe=/\/+/g,Ze=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},er=!1,xr=null,ur=0,ra=!1,we=!1,ne=typeof queueMicrotask=="function"?function(k){queueMicrotask(function(){return queueMicrotask(k)})}:Y;Be=Object.freeze({__proto__:null,c:function(k){return j().useMemoCache(k)}});var de={map:L,forEach:function(k,Q,Ve){L(k,function(){Q.apply(this,arguments)},Ve)},count:function(k){var Q=0;return L(k,function(){Q++}),Q},toArray:function(k){return L(k,function(Q){return Q})||[]},only:function(k){if(!T(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};r.Activity=W,r.Children=de,r.Component=u,r.Fragment=C,r.Profiler=S,r.PureComponent=A,r.StrictMode=I,r.Suspense=re,r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,r.__COMPILER_RUNTIME=Be,r.act=function(k){var Q=ae.actQueue,Ve=ur;ur++;var Ce=ae.actQueue=Q!==null?Q:[],Le=!1;try{var nr=k()}catch(Je){ae.thrownErrors.push(Je)}if(0<ae.thrownErrors.length)throw z(Q,Ve),k=ie(ae.thrownErrors),ae.thrownErrors.length=0,k;if(nr!==null&&typeof nr=="object"&&typeof nr.then=="function"){var Re=nr;return ne(function(){Le||ra||(ra=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(Je,Ye){Le=!0,Re.then(function(ir){if(z(Q,Ve),Ve===0){try{D(Ce),Y(function(){return ee(ir,Je,Ye)})}catch(tr){ae.thrownErrors.push(tr)}if(0<ae.thrownErrors.length){var rr=ie(ae.thrownErrors);ae.thrownErrors.length=0,Ye(rr)}}else Je(ir)},function(ir){z(Q,Ve),0<ae.thrownErrors.length&&(ir=ie(ae.thrownErrors),ae.thrownErrors.length=0),Ye(ir)})}}}var We=nr;if(z(Q,Ve),Ve===0&&(D(Ce),Ce.length!==0&&ne(function(){Le||ra||(ra=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),ae.actQueue=null),0<ae.thrownErrors.length)throw k=ie(ae.thrownErrors),ae.thrownErrors.length=0,k;return{then:function(Je,Ye){Le=!0,Ve===0?(ae.actQueue=Ce,Y(function(){return ee(We,Je,Ye)})):Je(We)}}},r.cache=function(k){return function(){return k.apply(null,arguments)}},r.cacheSignal=function(){return null},r.captureOwnerStack=function(){var k=ae.getCurrentStack;return k===null?null:k()},r.cloneElement=function(k,Q,Ve){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Ce=Ne({},k.props),Le=k.key,nr=k._owner;if(Q!=null){var Re;e:{if(fe.call(Q,"ref")&&(Re=Object.getOwnPropertyDescriptor(Q,"ref").get)&&Re.isReactWarning){Re=!1;break e}Re=Q.ref!==void 0}Re&&(nr=w()),F(Q)&&(x(Q.key),Le=""+Q.key);for(We in Q)!fe.call(Q,We)||We==="key"||We==="__self"||We==="__source"||We==="ref"&&Q.ref===void 0||(Ce[We]=Q[We])}var We=arguments.length-2;if(We===1)Ce.children=Ve;else if(1<We){Re=Array(We);for(var Je=0;Je<We;Je++)Re[Je]=arguments[Je+2];Ce.children=Re}for(Ce=Z(k.type,Le,Ce,nr,k._debugStack,k._debugTask),Le=2;Le<arguments.length;Le++)te(arguments[Le]);return Ce},r.createContext=function(k){return k={$$typeof:U,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:P,_context:k},k._currentRenderer=null,k._currentRenderer2=null,k},r.createElement=function(k,Q,Ve){for(var Ce=2;Ce<arguments.length;Ce++)te(arguments[Ce]);Ce={};var Le=null;if(Q!=null)for(Je in Fe||!("__self"in Q)||"key"in Q||(Fe=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),F(Q)&&(x(Q.key),Le=""+Q.key),Q)fe.call(Q,Je)&&Je!=="key"&&Je!=="__self"&&Je!=="__source"&&(Ce[Je]=Q[Je]);var nr=arguments.length-2;if(nr===1)Ce.children=Ve;else if(1<nr){for(var Re=Array(nr),We=0;We<nr;We++)Re[We]=arguments[We+2];Object.freeze&&Object.freeze(Re),Ce.children=Re}if(k&&k.defaultProps)for(Je in nr=k.defaultProps,nr)Ce[Je]===void 0&&(Ce[Je]=nr[Je]);Le&&V(Ce,typeof k=="function"?k.displayName||k.name||"Unknown":k);var Je=1e4>ae.recentlyCreatedOwnerStacks++;return Z(k,Le,Ce,w(),Je?Error("react-stack-top-frame"):me,Je?be(v(k)):ze)},r.createRef=function(){var k={current:null};return Object.seal(k),k},r.forwardRef=function(k){k!=null&&k.$$typeof===Ee?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof k!="function"?console.error("forwardRef requires a render function but was given %s.",k===null?"null":typeof k):k.length!==0&&k.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",k.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),k!=null&&k.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var Q={$$typeof:K,render:k},Ve;return Object.defineProperty(Q,"displayName",{enumerable:!1,configurable:!0,get:function(){return Ve},set:function(Ce){Ve=Ce,k.name||k.displayName||(Object.defineProperty(k,"name",{value:Ce}),k.displayName=Ce)}}),Q},r.isValidElement=T,r.lazy=function(k){k={_status:-1,_result:k};var Q={$$typeof:ye,_payload:k,_init:J},Ve={name:"lazy",start:-1,end:-1,value:null,owner:null,debugStack:Error("react-stack-top-frame"),debugTask:console.createTask?console.createTask("lazy()"):null};return k._ioInfo=Ve,Q._debugInfo=[{awaited:Ve}],Q},r.memo=function(k,Q){k==null&&console.error("memo: The first argument must be a component. Instead received: %s",k===null?"null":typeof k),Q={$$typeof:Ee,type:k,compare:Q===void 0?null:Q};var Ve;return Object.defineProperty(Q,"displayName",{enumerable:!1,configurable:!0,get:function(){return Ve},set:function(Ce){Ve=Ce,k.name||k.displayName||(Object.defineProperty(k,"name",{value:Ce}),k.displayName=Ce)}}),Q},r.startTransition=function(k){var Q=ae.T,Ve={};Ve._updatedFibers=new Set,ae.T=Ve;try{var Ce=k(),Le=ae.S;Le!==null&&Le(Ve,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&(ae.asyncTransitions++,Ce.then(O,O),Ce.then(b,Ze))}catch(nr){Ze(nr)}finally{Q===null&&Ve._updatedFibers&&(k=Ve._updatedFibers.size,Ve._updatedFibers.clear(),10<k&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),Q!==null&&Ve.types!==null&&(Q.types!==null&&Q.types!==Ve.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),Q.types=Ve.types),ae.T=Q}},r.unstable_useCacheRefresh=function(){return j().useCacheRefresh()},r.use=function(k){return j().use(k)},r.useActionState=function(k,Q,Ve){return j().useActionState(k,Q,Ve)},r.useCallback=function(k,Q){return j().useCallback(k,Q)},r.useContext=function(k){var Q=j();return k.$$typeof===P&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),Q.useContext(k)},r.useDebugValue=function(k,Q){return j().useDebugValue(k,Q)},r.useDeferredValue=function(k,Q){return j().useDeferredValue(k,Q)},r.useEffect=function(k,Q){return k==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"),j().useEffect(k,Q)},r.useEffectEvent=function(k){return j().useEffectEvent(k)},r.useId=function(){return j().useId()},r.useImperativeHandle=function(k,Q,Ve){return j().useImperativeHandle(k,Q,Ve)},r.useInsertionEffect=function(k,Q){return k==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),j().useInsertionEffect(k,Q)},r.useLayoutEffect=function(k,Q){return k==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),j().useLayoutEffect(k,Q)},r.useMemo=function(k,Q){return j().useMemo(k,Q)},r.useOptimistic=function(k,Q){return j().useOptimistic(k,Q)},r.useReducer=function(k,Q,Ve){return j().useReducer(k,Q,Ve)},r.useRef=function(k){return j().useRef(k)},r.useState=function(k){return j().useState(k)},r.useSyncExternalStore=function(k,Q,Ve){return j().useSyncExternalStore(k,Q,Ve)},r.useTransition=function(){return j().useTransition()},r.version="19.2.3",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()})(K2,K2.exports);var $j=K2.exports;L8.exports=$j;var h=L8.exports;const Wl=ym(h),qj=X8({__proto__:null,default:Wl},[h]);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function i(C){if(C==null)return null;if(typeof C=="function")return C.$$typeof===J?null:C.displayName||C.name||null;if(typeof C=="string")return C;switch(C){case V:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case M:return"Suspense";case q:return"SuspenseList";case L:return"Activity"}if(typeof C=="object")switch(typeof C.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),C.$$typeof){case F:return"Portal";case te:return C.displayName||"Context";case H:return(C._context.displayName||"Context")+".Consumer";case T:var I=C.render;return C=C.displayName,C||(C=I.displayName||I.name||"",C=C!==""?"ForwardRef("+C+")":"ForwardRef"),C;case $:return I=C.displayName||null,I!==null?I:i(C.type)||"Memo";case Ae:I=C._payload,C=C._init;try{return i(C(I))}catch{}}return null}function r(C){return""+C}function n(C){try{r(C);var I=!1}catch{I=!0}if(I){I=console;var S=I.error,P=typeof Symbol=="function"&&Symbol.toStringTag&&C[Symbol.toStringTag]||C.constructor.name||"Object";return S.call(I,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",P),r(C)}}function s(C){if(C===V)return"<>";if(typeof C=="object"&&C!==null&&C.$$typeof===Ae)return"<...>";try{var I=i(C);return I?"<"+I+">":"<...>"}catch{return"<...>"}}function l(){var C=j.A;return C===null?null:C.getOwner()}function u(){return Error("react-stack-top-frame")}function d(C){if(O.call(C,"key")){var I=Object.getOwnPropertyDescriptor(C,"key").get;if(I&&I.isReactWarning)return!1}return C.key!==void 0}function A(C,I){function S(){z||(z=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",I))}S.isReactWarning=!0,Object.defineProperty(C,"key",{get:S,configurable:!0})}function b(){var C=i(this.type);return ee[C]||(ee[C]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),C=this.props.ref,C!==void 0?C:null}function p(C,I,S,P,U,K){var re=S.ref;return C={$$typeof:E,type:C,key:I,props:S,_owner:P},(re!==void 0?re:null)!==null?Object.defineProperty(C,"ref",{enumerable:!1,get:b}):Object.defineProperty(C,"ref",{enumerable:!1,value:null}),C._store={},Object.defineProperty(C._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(C,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(C,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:U}),Object.defineProperty(C,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:K}),Object.freeze&&(Object.freeze(C.props),Object.freeze(C)),C}function x(C,I,S,P,U,K){var re=I.children;if(re!==void 0)if(P)if(Y(re)){for(P=0;P<re.length;P++)N(re[P]);Object.freeze&&Object.freeze(re)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else N(re);if(O.call(I,"key")){re=i(C);var se=Object.keys(I).filter(function(ye){return ye!=="key"});P=0<se.length?"{key: someKey, "+se.join(": ..., ")+": ...}":"{key: someKey}",X[re+P]||(se=0<se.length?"{"+se.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,P,re,se,re),X[re+P]=!0)}if(re=null,S!==void 0&&(n(S),re=""+S),d(I)&&(n(I.key),re=""+I.key),"key"in I){S={};for(var Ee in I)Ee!=="key"&&(S[Ee]=I[Ee])}else S=I;return re&&A(S,typeof C=="function"?C.displayName||C.name||"Unknown":C),p(C,re,S,l(),U,K)}function N(C){v(C)?C._store&&(C._store.validated=1):typeof C=="object"&&C!==null&&C.$$typeof===Ae&&(C._payload.status==="fulfilled"?v(C._payload.value)&&C._payload.value._store&&(C._payload.value._store.validated=1):C._store&&(C._store.validated=1))}function v(C){return typeof C=="object"&&C!==null&&C.$$typeof===E}var w=h,E=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),te=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),J=Symbol.for("react.client.reference"),j=w.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.prototype.hasOwnProperty,Y=Array.isArray,ie=console.createTask?console.createTask:function(){return null};w={react_stack_bottom_frame:function(C){return C()}};var z,ee={},D=w.react_stack_bottom_frame.bind(w,u)(),R=ie(s(u)),X={};oh.Fragment=V,oh.jsxDEV=function(C,I,S,P){var U=1e4>j.recentlyCreatedOwnerStacks++;return x(C,I,S,P,U?Error("react-stack-top-frame"):D,U?ie(s(C)):R)}})();z8.exports=oh;var t=z8.exports,Y8={exports:{}},P2={},H8={exports:{}},J8={};(function(i){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function r(){if(T=!1,Ae){var z=i.unstable_now();j=z;var ee=!0;try{e:{H=!1,te&&(te=!1,q(L),L=-1),Z=!0;var D=G;try{r:{for(d(z),V=s(w);V!==null&&!(V.expirationTime>z&&b());){var R=V.callback;if(typeof R=="function"){V.callback=null,G=V.priorityLevel;var X=R(V.expirationTime<=z);if(z=i.unstable_now(),typeof X=="function"){V.callback=X,d(z),ee=!0;break r}V===s(w)&&l(w),d(z)}else l(w);V=s(w)}if(V!==null)ee=!0;else{var C=s(E);C!==null&&p(A,C.startTime-z),ee=!1}}break e}finally{V=null,G=D,Z=!1}ee=void 0}}finally{ee?O():Ae=!1}}}function n(z,ee){var D=z.length;z.push(ee);e:for(;0<D;){var R=D-1>>>1,X=z[R];if(0<u(X,ee))z[R]=ee,z[D]=X,D=R;else break e}}function s(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var ee=z[0],D=z.pop();if(D!==ee){z[0]=D;e:for(var R=0,X=z.length,C=X>>>1;R<C;){var I=2*(R+1)-1,S=z[I],P=I+1,U=z[P];if(0>u(S,D))P<X&&0>u(U,S)?(z[R]=U,z[P]=D,R=P):(z[R]=S,z[I]=D,R=I);else if(P<X&&0>u(U,D))z[R]=U,z[P]=D,R=P;else break e}}return ee}function u(z,ee){var D=z.sortIndex-ee.sortIndex;return D!==0?D:z.id-ee.id}function d(z){for(var ee=s(E);ee!==null;){if(ee.callback===null)l(E);else if(ee.startTime<=z)l(E),ee.sortIndex=ee.expirationTime,n(w,ee);else break;ee=s(E)}}function A(z){if(te=!1,d(z),!H)if(s(w)!==null)H=!0,Ae||(Ae=!0,O());else{var ee=s(E);ee!==null&&p(A,ee.startTime-z)}}function b(){return T?!0:!(i.unstable_now()-j<J)}function p(z,ee){L=M(function(){z(i.unstable_now())},ee)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;i.unstable_now=function(){return x.now()}}else{var N=Date,v=N.now();i.unstable_now=function(){return N.now()-v}}var w=[],E=[],F=1,V=null,G=3,Z=!1,H=!1,te=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null,Ae=!1,L=-1,J=5,j=-1;if(typeof $=="function")var O=function(){$(r)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ie=Y.port2;Y.port1.onmessage=r,O=function(){ie.postMessage(null)}}else O=function(){M(r,0)};i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return G},i.unstable_next=function(z){switch(G){case 1:case 2:case 3:var ee=3;break;default:ee=G}var D=G;G=ee;try{return z()}finally{G=D}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(z,ee){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var D=G;G=z;try{return ee()}finally{G=D}},i.unstable_scheduleCallback=function(z,ee,D){var R=i.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?R+D:R):D=R,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=D+X,z={id:F++,callback:ee,priorityLevel:z,startTime:D,expirationTime:X,sortIndex:-1},D>R?(z.sortIndex=D,n(E,z),s(w)===null&&z===s(E)&&(te?(q(L),L=-1):te=!0,p(A,D-R))):(z.sortIndex=X,n(w,z),H||Z||(H=!0,Ae||(Ae=!0,O()))),z},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(z){var ee=G;return function(){var D=G;G=ee;try{return z.apply(this,arguments)}finally{G=D}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()})(J8);H8.exports=J8;var Kj=H8.exports,Q8={exports:{}},ht={};/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function i(){}function r(N){return""+N}function n(N,v,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{r(E);var F=!1}catch{F=!0}return F&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol=="function"&&Symbol.toStringTag&&E[Symbol.toStringTag]||E.constructor.name||"Object"),r(E)),{$$typeof:p,key:E==null?null:""+E,children:N,containerInfo:v,implementation:w}}function s(N,v){if(N==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}function l(N){return N===null?"`null`":N===void 0?"`undefined`":N===""?"an empty string":'something with type "'+typeof N+'"'}function u(N){return N===null?"`null`":N===void 0?"`undefined`":N===""?"an empty string":typeof N=="string"?JSON.stringify(N):typeof N=="number"?"`"+N+"`":'something with type "'+typeof N+'"'}function d(){var N=x.H;return N===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),N}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var A=h,b={d:{f:i,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},p=Symbol.for("react.portal"),x=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,ht.createPortal=function(N,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error("Target container is not a DOM element.");return n(N,v,null,w)},ht.flushSync=function(N){var v=x.T,w=b.p;try{if(x.T=null,b.p=2,N)return N()}finally{x.T=v,b.p=w,b.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},ht.preconnect=function(N,v){typeof N=="string"&&N?v!=null&&typeof v!="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",u(v)):v!=null&&typeof v.crossOrigin!="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",l(v.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",l(N)),typeof N=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,b.d.C(N,v))},ht.prefetchDNS=function(N){if(typeof N!="string"||!N)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",l(N));else if(1<arguments.length){var v=arguments[1];typeof v=="object"&&v.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",u(v)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",u(v))}typeof N=="string"&&b.d.D(N)},ht.preinit=function(N,v){if(typeof N=="string"&&N?v==null||typeof v!="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",u(v)):v.as!=="style"&&v.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',u(v.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",l(N)),typeof N=="string"&&v&&typeof v.as=="string"){var w=v.as,E=s(w,v.crossOrigin),F=typeof v.integrity=="string"?v.integrity:void 0,V=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?b.d.S(N,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:F,fetchPriority:V}):w==="script"&&b.d.X(N,{crossOrigin:E,integrity:F,fetchPriority:V,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ht.preinitModule=function(N,v){var w="";if(typeof N=="string"&&N||(w+=" The `href` argument encountered was "+l(N)+"."),v!==void 0&&typeof v!="object"?w+=" The `options` argument encountered was "+l(v)+".":v&&"as"in v&&v.as!=="script"&&(w+=" The `as` option encountered was "+u(v.as)+"."),w)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",w);else switch(w=v&&typeof v.as=="string"?v.as:"script",w){case"script":break;default:w=u(w),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',w,N)}typeof N=="string"&&(typeof v=="object"&&v!==null?(v.as==null||v.as==="script")&&(w=s(v.as,v.crossOrigin),b.d.M(N,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})):v==null&&b.d.M(N))},ht.preload=function(N,v){var w="";if(typeof N=="string"&&N||(w+=" The `href` argument encountered was "+l(N)+"."),v==null||typeof v!="object"?w+=" The `options` argument encountered was "+l(v)+".":typeof v.as=="string"&&v.as||(w+=" The `as` option encountered was "+l(v.as)+"."),w&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',w),typeof N=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){w=v.as;var E=s(w,v.crossOrigin);b.d.L(N,w,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ht.preloadModule=function(N,v){var w="";typeof N=="string"&&N||(w+=" The `href` argument encountered was "+l(N)+"."),v!==void 0&&typeof v!="object"?w+=" The `options` argument encountered was "+l(v)+".":v&&"as"in v&&typeof v.as!="string"&&(w+=" The `as` option encountered was "+l(v.as)+"."),w&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',w),typeof N=="string"&&(v?(w=s(v.as,v.crossOrigin),b.d.m(N,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})):b.d.m(N))},ht.requestFormReset=function(N){b.d.r(N)},ht.unstable_batchedUpdates=function(N,v){return N(v)},ht.useFormState=function(N,v,w){return d().useFormState(N,v,w)},ht.useFormStatus=function(){return d().useHostTransitionStatus()},ht.version="19.2.3",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})();Q8.exports=ht;var eC=Q8.exports;/**
 * @license React
 * react-dom-client.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function i(e,a){for(e=e.memoizedState;e!==null&&0<a;)e=e.next,a--;return e}function r(e,a,o,c){if(o>=a.length)return c;var f=a[o],m=Ra(e)?e.slice():Cr({},e);return m[f]=r(e[f],a,o+1,c),m}function n(e,a,o){if(a.length!==o.length)console.warn("copyWithRename() expects paths of the same length");else{for(var c=0;c<o.length-1;c++)if(a[c]!==o[c]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return s(e,a,o,0)}}function s(e,a,o,c){var f=a[c],m=Ra(e)?e.slice():Cr({},e);return c+1===a.length?(m[o[c]]=m[f],Ra(m)?m.splice(f,1):delete m[f]):m[f]=s(e[f],a,o,c+1),m}function l(e,a,o){var c=a[o],f=Ra(e)?e.slice():Cr({},e);return o+1===a.length?(Ra(f)?f.splice(c,1):delete f[c],f):(f[c]=l(e[c],a,o+1),f)}function u(){return!1}function d(){return null}function A(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function b(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function p(){}function x(){}function N(e){var a=[];return e.forEach(function(o){a.push(o)}),a.sort().join(", ")}function v(e,a,o,c){return new B7(e,a,o,c)}function w(e,a){e.context===Ai&&(G1(e.current,2,a,e,null,null),Ms())}function E(e,a){if(qt!==null){var o=a.staleFamilies;a=a.updatedFamilies,xc(),Pg(e.current,a,o),Ms()}}function F(e){qt=e}function V(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function G(e){var a=e,o=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,a.flags&4098&&(o=a.return),e=a.return;while(e)}return a.tag===3?o:null}function Z(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function H(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function te(e){if(G(e)!==e)throw Error("Unable to find node on an unmounted component.")}function T(e){var a=e.alternate;if(!a){if(a=G(e),a===null)throw Error("Unable to find node on an unmounted component.");return a!==e?null:e}for(var o=e,c=a;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return te(f),e;if(m===c)return te(f),a;m=m.sibling}throw Error("Unable to find node on an unmounted component.")}if(o.return!==c.return)o=f,c=m;else{for(var g=!1,y=f.child;y;){if(y===o){g=!0,o=f,c=m;break}if(y===c){g=!0,c=f,o=m;break}y=y.sibling}if(!g){for(y=m.child;y;){if(y===o){g=!0,o=m,c=f;break}if(y===c){g=!0,c=m,o=f;break}y=y.sibling}if(!g)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(o.alternate!==c)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(o.tag!==3)throw Error("Unable to find node on an unmounted component.");return o.stateNode.current===o?e:a}function M(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=M(e),a!==null)return a;e=e.sibling}return null}function q(e){return e===null||typeof e!="object"?null:(e=Yx&&e[Yx]||e["@@iterator"],typeof e=="function"?e:null)}function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nV?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case J1:return"Profiler";case hf:return"StrictMode";case $1:return"Suspense";case q1:return"SuspenseList";case K1:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case Zs:return"Portal";case Y0:return e.displayName||"Context";case Q1:return(e._context.displayName||"Context")+".Consumer";case Sc:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gf:return a=e.displayName||null,a!==null?a:$(e.type)||"Memo";case Zt:a=e._payload,e=e._init;try{return $(e(a))}catch{}}return null}function Ae(e){return typeof e.tag=="number"?L(e):typeof e.name=="string"?e.name:null}function L(e){var a=e.type;switch(e.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(a._context.displayName||"Context")+".Consumer";case 10:return a.displayName||"Context";case 18:return"DehydratedFragment";case 11:return e=a.render,e=e.displayName||e.name||"",a.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(a);case 8:return a===hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;break;case 29:if(a=e._debugInfo,a!=null){for(var o=a.length-1;0<=o;o--)if(typeof a[o].name=="string")return a[o].name}if(e.return!==null)return L(e.return)}return null}function J(e){return{current:e}}function j(e,a){0>pn?console.error("Unexpected pop."):(a!==rb[pn]&&console.error("Unexpected Fiber popped."),e.current=eb[pn],eb[pn]=null,rb[pn]=null,pn--)}function O(e,a,o){pn++,eb[pn]=e.current,rb[pn]=o,e.current=a}function Y(e){return e===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),e}function ie(e,a){O(li,a,e),O(Mc,e,e),O(si,null,e);var o=a.nodeType;switch(o){case 9:case 11:o=o===9?"#document":"#fragment",a=(a=a.documentElement)&&(a=a.namespaceURI)?hx(a):Sn;break;default:if(o=a.tagName,a=a.namespaceURI)a=hx(a),a=gx(a,o);else switch(o){case"svg":a=vl;break;case"math":a=p2;break;default:a=Sn}}o=o.toLowerCase(),o=dg(null,o),o={context:a,ancestorInfo:o},j(si,e),O(si,o,e)}function z(e){j(si,e),j(Mc,e),j(li,e)}function ee(){return Y(si.current)}function D(e){e.memoizedState!==null&&O(vf,e,e);var a=Y(si.current),o=e.type,c=gx(a.context,o);o=dg(a.ancestorInfo,o),c={context:c,ancestorInfo:o},a!==c&&(O(Mc,e,e),O(si,c,e))}function R(e){Mc.current===e&&(j(si,e),j(Mc,e)),vf.current===e&&(j(vf,e),wu._currentValue=Wo)}function X(){}function C(){if(Ic===0){Hx=console.log,Jx=console.info,Qx=console.warn,$x=console.error,qx=console.group,Kx=console.groupCollapsed,e3=console.groupEnd;var e={configurable:!0,enumerable:!0,value:X,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}Ic++}function I(){if(Ic--,Ic===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Cr({},e,{value:Hx}),info:Cr({},e,{value:Jx}),warn:Cr({},e,{value:Qx}),error:Cr({},e,{value:$x}),group:Cr({},e,{value:qx}),groupCollapsed:Cr({},e,{value:Kx}),groupEnd:Cr({},e,{value:e3})})}0>Ic&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function S(e){var a=Error.prepareStackTrace;if(Error.prepareStackTrace=void 0,e=e.stack,Error.prepareStackTrace=a,e.startsWith(`Error: react-stack-top-frame
`)&&(e=e.slice(29)),a=e.indexOf(`
`),a!==-1&&(e=e.slice(a+1)),a=e.indexOf("react_stack_bottom_frame"),a!==-1&&(a=e.lastIndexOf(`
`,a)),a!==-1)e=e.slice(0,a);else return"";return e}function P(e){if(ab===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);ab=a&&a[1]||"",r3=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ab+e+r3}function U(e,a){if(!e||tb)return"";var o=nb.get(e);if(o!==void 0)return o;tb=!0,o=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var c=null;c=Ie.H,Ie.H=null,C();try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(Qe){var _e=Qe}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(Qe){_e=Qe}e.call(ce.prototype)}}else{try{throw Error()}catch(Qe){_e=Qe}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(Qe){if(Qe&&_e&&typeof Qe.stack=="string")return[Qe.stack,_e.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),y=g[0],_=g[1];if(y&&_){var B=y.split(`
`),ge=_.split(`
`);for(g=m=0;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;for(;g<ge.length&&!ge[g].includes("DetermineComponentFrameRoot");)g++;if(m===B.length||g===ge.length)for(m=B.length-1,g=ge.length-1;1<=m&&0<=g&&B[m]!==ge[g];)g--;for(;1<=m&&0<=g;m--,g--)if(B[m]!==ge[g]){if(m!==1||g!==1)do if(m--,g--,0>g||B[m]!==ge[g]){var ve=`
`+B[m].replace(" at new "," at ");return e.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",e.displayName)),typeof e=="function"&&nb.set(e,ve),ve}while(1<=m&&0<=g);break}}}finally{tb=!1,Ie.H=c,I(),Error.prepareStackTrace=o}return B=(B=e?e.displayName||e.name:"")?P(B):"",typeof e=="function"&&nb.set(e,B),B}function K(e,a){switch(e.tag){case 26:case 27:case 5:return P(e.type);case 16:return P("Lazy");case 13:return e.child!==a&&a!==null?P("Suspense Fallback"):P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);case 31:return P("Activity");default:return""}}function re(e){try{var a="",o=null;do{a+=K(e,o);var c=e._debugInfo;if(c)for(var f=c.length-1;0<=f;f--){var m=c[f];if(typeof m.name=="string"){var g=a;e:{var y=m.name,_=m.env,B=m.debugLocation;if(B!=null){var ge=S(B),ve=ge.lastIndexOf(`
`),ce=ve===-1?ge:ge.slice(ve+1);if(ce.indexOf(y)!==-1){var _e=`
`+ce;break e}}_e=P(y+(_?" ["+_+"]":""))}a=g+_e}}o=e,e=e.return}while(e);return a}catch(Qe){return`
Error generating stack: `+Qe.message+`
`+Qe.stack}}function se(e){return(e=e?e.displayName||e.name:"")?P(e):""}function Ee(){if(Ot===null)return null;var e=Ot._debugOwner;return e!=null?Ae(e):null}function ye(){if(Ot===null)return"";var e=Ot;try{var a="";switch(e.tag===6&&(e=e.return),e.tag){case 26:case 27:case 5:a+=P(e.type);break;case 13:a+=P("Suspense");break;case 19:a+=P("SuspenseList");break;case 31:a+=P("Activity");break;case 30:case 0:case 15:case 1:e._debugOwner||a!==""||(a+=se(e.type));break;case 11:e._debugOwner||a!==""||(a+=se(e.type.render))}for(;e;)if(typeof e.tag=="number"){var o=e;e=o._debugOwner;var c=o._debugStack;if(e&&c){var f=S(c);f!==""&&(a+=`
`+f)}}else if(e.debugStack!=null){var m=e.debugStack;(e=e.owner)&&m&&(a+=`
`+S(m))}else break;var g=a}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return g}function W(e,a,o,c,f,m,g){var y=Ot;he(e);try{return e!==null&&e._debugTask?e._debugTask.run(a.bind(null,o,c,f,m,g)):a(o,c,f,m,g)}finally{he(y)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function he(e){Ie.getCurrentStack=e===null?null:ye,H0=!1,Ot=e}function oe(e){return typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}function ke(e){try{return Ne(e),!1}catch{return!0}}function Ne(e){return""+e}function je(e,a){if(ke(e))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",a,oe(e)),Ne(e)}function Be(e,a){if(ke(e))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",a,oe(e)),Ne(e)}function De(e){if(ke(e))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",oe(e)),Ne(e)}function Xe(e){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled)return!0;if(!a.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{Ws=a.inject(e),nt=a}catch(o){console.error("React instrumentation encountered an error: %o.",o)}return!!a.checkDCE}function ae(e){if(typeof dV=="function"&&fV(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Ws,e)}catch(a){J0||(J0=!0,console.error("React instrumentation encountered an error: %o",a))}}function fe(e){return e>>>=0,e===0?32:31-(mV(e)/AV|0)|0}function be(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),e}}function Oe(e,a,o){var c=e.pendingLanes;if(c===0)return 0;var f=0,m=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var y=c&134217727;return y!==0?(c=y&~m,c!==0?f=be(c):(g&=y,g!==0?f=be(g):o||(o=y&~e,o!==0&&(f=be(o))))):(y=c&~m,y!==0?f=be(y):g!==0?f=be(g):o||(o=c&~e,o!==0&&(f=be(o)))),f===0?0:a!==0&&a!==f&&!(a&m)&&(m=f&-f,o=a&-a,m>=o||m===32&&(o&4194048)!==0)?a:f}function Fe(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function $e(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function me(){var e=yf;return yf<<=1,!(yf&62914560)&&(yf=4194304),e}function ze(e){for(var a=[],o=0;31>o;o++)a.push(e);return a}function xe(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,a,o,c,f,m){var g=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,B=e.hiddenUpdates;for(o=g&~o;0<o;){var ge=31-ct(o),ve=1<<ge;y[ge]=0,_[ge]=-1;var ce=B[ge];if(ce!==null)for(B[ge]=null,ge=0;ge<ce.length;ge++){var _e=ce[ge];_e!==null&&(_e.lane&=-536870913)}o&=~ve}c!==0&&Ze(e,c,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(g&~a))}function Ze(e,a,o){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-ct(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function er(e,a){var o=e.entangledLanes|=a;for(e=e.entanglements;o;){var c=31-ct(o),f=1<<c;f&a|e[c]&a&&(e[c]|=a),o&=~f}}function xr(e,a){var o=a&-a;return o=o&42?1:ur(o),o&(e.suspendedLanes|a)?0:o}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ra(e,a,o){if(Q0)for(e=e.pendingUpdatersLaneMap;0<o;){var c=31-ct(o),f=1<<c;e[c].add(a),o&=~f}}function we(e,a){if(Q0)for(var o=e.pendingUpdatersLaneMap,c=e.memoizedUpdaters;0<a;){var f=31-ct(a);e=1<<f,f=o[f],0<f.size&&(f.forEach(function(m){var g=m.alternate;g!==null&&c.has(g)||c.add(m)}),f.clear()),a&=~e}}function ne(e){return e&=-e,Jt<e?$0<e?e&134217727?hn:wf:$0:Jt}function de(){var e=Wr.p;return e!==0?e:(e=window.event,e===void 0?hn:Px(e.type))}function k(e,a){var o=Wr.p;try{return Wr.p=e,a()}finally{Wr.p=o}}function Q(e){delete e[Qa],delete e[ut],delete e[cb],delete e[bV],delete e[pV]}function Ve(e){var a=e[Qa];if(a)return a;for(var o=e.parentNode;o;){if(a=o[ui]||o[Qa]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(e=Dx(e);e!==null;){if(o=e[Qa])return o;e=Dx(e)}return a}e=o,o=e.parentNode}return null}function Ce(e){if(e=e[Qa]||e[ui]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Le(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function nr(e){var a=e[a3];return a||(a=e[a3]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Re(e){e[Rc]=!0}function We(e,a){Je(e,a),Je(e+"Capture",a)}function Je(e,a){go[e]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",e),go[e]=a;var o=e.toLowerCase();for(ub[o]=e,e==="onDoubleClick"&&(ub.ondblclick=e),e=0;e<a.length;e++)t3.add(a[e])}function Ye(e,a){hV[a.type]||a.onChange||a.onInput||a.readOnly||a.disabled||a.value==null||console.error(e==="select"?"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`.":"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),a.onChange||a.readOnly||a.disabled||a.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function ir(e){return A0.call(i3,e)?!0:A0.call(n3,e)?!1:gV.test(e)?i3[e]=!0:(n3[e]=!0,console.error("Invalid attribute name: `%s`",e),!1)}function rr(e,a,o){if(ir(a)){if(!e.hasAttribute(a)){switch(typeof o){case"symbol":case"object":return o;case"function":return o;case"boolean":if(o===!1)return o}return o===void 0?void 0:null}return e=e.getAttribute(a),e===""&&o===!0?!0:(je(o,a),e===""+o?o:e)}}function tr(e,a,o){if(ir(a))if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}je(o,a),e.setAttribute(a,""+o)}}function _r(e,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}je(o,a),e.setAttribute(a,""+o)}}function Sr(e,a,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}je(c,o),e.setAttributeNS(a,o,""+c)}}function Ir(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return De(e),e;default:return""}}function za(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xr(e,a,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return f.call(this)},set:function(g){De(g),o=""+g,m.call(this,g)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(g){De(g),o=""+g},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function pa(e){if(!e._valueTracker){var a=za(e)?"checked":"value";e._valueTracker=Xr(e,a,""+e[a])}}function Me(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return e&&(c=za(e)?e.checked?"true":"false":e.value),e=c,e!==o?(a.setValue(e),!0):!1}function Ke(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mr(e){return e.replace(vV,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Fa(e,a){a.checked===void 0||a.defaultChecked===void 0||s3||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",Ee()||"A component",a.type),s3=!0),a.value===void 0||a.defaultValue===void 0||o3||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",Ee()||"A component",a.type),o3=!0)}function La(e,a,o,c,f,m,g,y){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?(je(g,"type"),e.type=g):e.removeAttribute("type"),a!=null?g==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Ir(a)):e.value!==""+Ir(a)&&(e.value=""+Ir(a)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),a!=null?Xm(e,g,Ir(a)):o!=null?Xm(e,g,Ir(o)):c!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?(je(y,"name"),e.name=""+Ir(y)):e.removeAttribute("name")}function vs(e,a,o,c,f,m,g,y){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(je(m,"type"),e.type=m),a!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){pa(e);return}o=o!=null?""+Ir(o):"",a=a!=null?""+Ir(a):o,y||a===e.value||(e.value=a),e.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=y?e.checked:!!c,e.defaultChecked=!!c,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(je(g,"name"),e.name=g),pa(e)}function Xm(e,a,o){a==="number"&&Ke(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function rg(e,a){a.value==null&&(typeof a.children=="object"&&a.children!==null?H1.Children.forEach(a.children,function(o){o==null||typeof o=="string"||typeof o=="number"||typeof o=="bigint"||c3||(c3=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):a.dangerouslySetInnerHTML==null||u3||(u3=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),a.selected==null||l3||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),l3=!0)}function ag(){var e=Ee();return e?`

Check the render method of \``+e+"`.":""}function Ns(e,a,o,c){if(e=e.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=a.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Ir(o),a=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}a!==null||e[f].disabled||(a=e[f])}a!==null&&(a.selected=!0)}}function tg(e,a){for(e=0;e<f3.length;e++){var o=f3[e];if(a[o]!=null){var c=Ra(a[o]);a.multiple&&!c?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",o,ag()):!a.multiple&&c&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",o,ag())}}a.value===void 0||a.defaultValue===void 0||d3||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),d3=!0)}function ng(e,a){a.value===void 0||a.defaultValue===void 0||m3||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",Ee()||"A component"),m3=!0),a.children!=null&&a.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function ig(e,a,o){if(a!=null&&(a=""+Ir(a),a!==e.value&&(e.value=a),o==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=o!=null?""+Ir(o):""}function og(e,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Ra(c)){if(1<c.length)throw Error("<textarea> can only have at most one child.");c=c[0]}o=c}o==null&&(o=""),a=o}o=Ir(a),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),pa(e)}function sg(e,a){return e.serverProps===void 0&&e.serverTail.length===0&&e.children.length===1&&3<e.distanceFromLeaf&&e.distanceFromLeaf>15-a?sg(e.children[0],a):e}function St(e){return"  "+"  ".repeat(e)}function xs(e){return"+ "+"  ".repeat(e)}function ao(e){return"- "+"  ".repeat(e)}function lg(e){switch(e.tag){case 26:case 27:case 5:return e.type;case 16:return"Lazy";case 31:return"Activity";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return e=e.type,e.displayName||e.name||null;case 11:return e=e.type.render,e.displayName||e.name||null;case 1:return e=e.type,e.displayName||e.name||null;default:return null}}function $l(e,a){return A3.test(e)?(e=JSON.stringify(e),e.length>a-2?8>a?'{"..."}':"{"+e.slice(0,a-7)+'..."}':"{"+e+"}"):e.length>a?5>a?'{"..."}':e.slice(0,a-3)+"...":e}function dd(e,a,o){var c=120-2*o;if(a===null)return xs(o)+$l(e,c)+`
`;if(typeof a=="string"){for(var f=0;f<a.length&&f<e.length&&a.charCodeAt(f)===e.charCodeAt(f);f++);return f>c-8&&10<f&&(e="..."+e.slice(f-8),a="..."+a.slice(f-8)),xs(o)+$l(e,c)+`
`+ao(o)+$l(a,c)+`
`}return St(o)+$l(e,c)+`
`}function zm(e){return Object.prototype.toString.call(e).replace(/^\[object (.*)\]$/,function(a,o){return o})}function ql(e,a){switch(typeof e){case"string":return e=JSON.stringify(e),e.length>a?5>a?'"..."':e.slice(0,a-4)+'..."':e;case"object":if(e===null)return"null";if(Ra(e))return"[...]";if(e.$$typeof===L0)return(a=$(e.type))?"<"+a+">":"<...>";var o=zm(e);if(o==="Object"){o="",a-=2;for(var c in e)if(e.hasOwnProperty(c)){var f=JSON.stringify(c);if(f!=='"'+c+'"'&&(c=f),a-=c.length-2,f=ql(e[c],15>a?a:15),a-=f.length,0>a){o+=o===""?"...":", ...";break}o+=(o===""?"":",")+c+":"+f}return"{"+o+"}"}return o;case"function":return(a=e.displayName||e.name)?"function "+a:"function";default:return String(e)}}function ys(e,a){return typeof e!="string"||A3.test(e)?"{"+ql(e,a-2)+"}":e.length>a-2?5>a?'"..."':'"'+e.slice(0,a-5)+'..."':'"'+e+'"'}function Lm(e,a,o){var c=120-o.length-e.length,f=[],m;for(m in a)if(a.hasOwnProperty(m)&&m!=="children"){var g=ys(a[m],120-o.length-m.length-1);c-=m.length+g.length+2,f.push(m+"="+g)}return f.length===0?o+"<"+e+`>
`:0<c?o+"<"+e+" "+f.join(" ")+`>
`:o+"<"+e+`
`+o+"  "+f.join(`
`+o+"  ")+`
`+o+`>
`}function A7(e,a,o){var c="",f=Cr({},a),m;for(m in e)if(e.hasOwnProperty(m)){delete f[m];var g=120-2*o-m.length-2,y=ql(e[m],g);a.hasOwnProperty(m)?(g=ql(a[m],g),c+=xs(o)+m+": "+y+`
`,c+=ao(o)+m+": "+g+`
`):c+=xs(o)+m+": "+y+`
`}for(var _ in f)f.hasOwnProperty(_)&&(e=ql(f[_],120-2*o-_.length-2),c+=ao(o)+_+": "+e+`
`);return c}function b7(e,a,o,c){var f="",m=new Map;for(B in o)o.hasOwnProperty(B)&&m.set(B.toLowerCase(),B);if(m.size===1&&m.has("children"))f+=Lm(e,a,St(c));else{for(var g in a)if(a.hasOwnProperty(g)&&g!=="children"){var y=120-2*(c+1)-g.length-1,_=m.get(g.toLowerCase());if(_!==void 0){m.delete(g.toLowerCase());var B=a[g];_=o[_];var ge=ys(B,y);y=ys(_,y),typeof B=="object"&&B!==null&&typeof _=="object"&&_!==null&&zm(B)==="Object"&&zm(_)==="Object"&&(2<Object.keys(B).length||2<Object.keys(_).length||-1<ge.indexOf("...")||-1<y.indexOf("..."))?f+=St(c+1)+g+`={{
`+A7(B,_,c+2)+St(c+1)+`}}
`:(f+=xs(c+1)+g+"="+ge+`
`,f+=ao(c+1)+g+"="+y+`
`)}else f+=St(c+1)+g+"="+ys(a[g],y)+`
`}m.forEach(function(ve){if(ve!=="children"){var ce=120-2*(c+1)-ve.length-1;f+=ao(c+1)+ve+"="+ys(o[ve],ce)+`
`}}),f=f===""?St(c)+"<"+e+`>
`:St(c)+"<"+e+`
`+f+St(c)+`>
`}return e=o.children,a=a.children,typeof e=="string"||typeof e=="number"||typeof e=="bigint"?(m="",(typeof a=="string"||typeof a=="number"||typeof a=="bigint")&&(m=""+a),f+=dd(m,""+e,c+1)):(typeof a=="string"||typeof a=="number"||typeof a=="bigint")&&(f=e==null?f+dd(""+a,null,c+1):f+dd(""+a,void 0,c+1)),f}function cg(e,a){var o=lg(e);if(o===null){for(o="",e=e.child;e;)o+=cg(e,a),e=e.sibling;return o}return St(a)+"<"+o+`>
`}function Ym(e,a){var o=sg(e,a);if(o!==e&&(e.children.length!==1||e.children[0]!==o))return St(a)+`...
`+Ym(o,a+1);o="";var c=e.fiber._debugInfo;if(c)for(var f=0;f<c.length;f++){var m=c[f].name;typeof m=="string"&&(o+=St(a)+"<"+m+`>
`,a++)}if(c="",f=e.fiber.pendingProps,e.fiber.tag===6)c=dd(f,e.serverProps,a),a++;else if(m=lg(e.fiber),m!==null)if(e.serverProps===void 0){c=a;var g=120-2*c-m.length-2,y="";for(B in f)if(f.hasOwnProperty(B)&&B!=="children"){var _=ys(f[B],15);if(g-=B.length+_.length+2,0>g){y+=" ...";break}y+=" "+B+"="+_}c=St(c)+"<"+m+y+`>
`,a++}else e.serverProps===null?(c=Lm(m,f,xs(a)),a++):typeof e.serverProps=="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(c=b7(m,f,e.serverProps,a),a++);var B="";for(f=e.fiber.child,m=0;f&&m<e.children.length;)g=e.children[m],g.fiber===f?(B+=Ym(g,a),m++):B+=cg(f,a),f=f.sibling;for(f&&0<e.children.length&&(B+=St(a)+`...
`),f=e.serverTail,e.serverProps===null&&a--,e=0;e<f.length;e++)m=f[e],B=typeof m=="string"?B+(ao(a)+$l(m,120-2*a)+`
`):B+Lm(m.type,m.props,ao(a));return o+c+B}function Hm(e){try{return`

`+Ym(e,0)}catch{return""}}function ug(e,a,o){for(var c=a,f=null,m=0;c;)c===e&&(m=0),f={fiber:c,children:f!==null?[f]:[],serverProps:c===a?o:c===e?null:void 0,serverTail:[],distanceFromLeaf:m},m++,c=c.return;return f!==null?Hm(f).replaceAll(/^[+-]/gm,">"):""}function dg(e,a){var o=Cr({},e||p3),c={tag:a};return b3.indexOf(a)!==-1&&(o.aTagInScope=null,o.buttonTagInScope=null,o.nobrTagInScope=null),xV.indexOf(a)!==-1&&(o.pTagInButtonScope=null),NV.indexOf(a)!==-1&&a!=="address"&&a!=="div"&&a!=="p"&&(o.listItemTagAutoclosing=null,o.dlItemTagAutoclosing=null),o.current=c,a==="form"&&(o.formTag=c),a==="a"&&(o.aTagInScope=c),a==="button"&&(o.buttonTagInScope=c),a==="nobr"&&(o.nobrTagInScope=c),a==="p"&&(o.pTagInButtonScope=c),a==="li"&&(o.listItemTagAutoclosing=c),(a==="dd"||a==="dt")&&(o.dlItemTagAutoclosing=c),a==="#document"||a==="html"?o.containerTagInScope=null:o.containerTagInScope||(o.containerTagInScope=c),e!==null||a!=="#document"&&a!=="html"&&a!=="body"?o.implicitRootScope===!0&&(o.implicitRootScope=!1):o.implicitRootScope=!0,o}function fg(e,a,o){switch(a){case"select":return e==="hr"||e==="option"||e==="optgroup"||e==="script"||e==="template"||e==="#text";case"optgroup":return e==="option"||e==="#text";case"option":return e==="#text";case"tr":return e==="th"||e==="td"||e==="style"||e==="script"||e==="template";case"tbody":case"thead":case"tfoot":return e==="tr"||e==="style"||e==="script"||e==="template";case"colgroup":return e==="col"||e==="template";case"table":return e==="caption"||e==="colgroup"||e==="tbody"||e==="tfoot"||e==="thead"||e==="style"||e==="script"||e==="template";case"head":return e==="base"||e==="basefont"||e==="bgsound"||e==="link"||e==="meta"||e==="title"||e==="noscript"||e==="noframes"||e==="style"||e==="script"||e==="template";case"html":if(o)break;return e==="head"||e==="body"||e==="frameset";case"frameset":return e==="frame";case"#document":if(!o)return e==="html"}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a!=="h1"&&a!=="h2"&&a!=="h3"&&a!=="h4"&&a!=="h5"&&a!=="h6";case"rp":case"rt":return yV.indexOf(a)===-1;case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return a==null;case"head":return o||a===null;case"html":return o&&a==="#document"||a===null;case"body":return o&&(a==="#document"||a==="html")||a===null}return!0}function p7(e,a){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a.pTagInButtonScope;case"form":return a.formTag||a.pTagInButtonScope;case"li":return a.listItemTagAutoclosing;case"dd":case"dt":return a.dlItemTagAutoclosing;case"button":return a.buttonTagInScope;case"a":return a.aTagInScope;case"nobr":return a.nobrTagInScope}return null}function mg(e,a){for(;e;){switch(e.tag){case 5:case 26:case 27:if(e.type===a)return e}e=e.return}return null}function Jm(e,a){a=a||p3;var o=a.current;if(a=(o=fg(e,o&&o.tag,a.implicitRootScope)?null:o)?null:p7(e,a),a=o||a,!a)return!0;var c=a.tag;if(a=String(!!o)+"|"+e+"|"+c,Ef[a])return!1;Ef[a]=!0;var f=(a=Ot)?mg(a.return,c):null,m=a!==null&&f!==null?ug(f,a,null):"",g="<"+e+">";return o?(o="",c==="table"&&e==="tr"&&(o+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,g,c,o,m)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,g,c,m),a&&(e=a.return,f===null||e===null||f===e&&e._debugOwner===a._debugOwner||W(f,function(){console.error(`<%s> cannot contain a nested %s.
See this log for the ancestor stack trace.`,c,g)})),!1}function fd(e,a,o){if(o||fg("#text",a,!1))return!0;if(o="#text|"+a,Ef[o])return!1;Ef[o]=!0;var c=(o=Ot)?mg(o,a):null;return o=o!==null&&c!==null?ug(c,o,o.tag!==6?{children:null}:null):"",/\S/.test(e)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,a,o):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,a,o),!1}function Kl(e,a){if(a){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=a;return}}e.textContent=a}function h7(e){return e.replace(kV,function(a,o){return o.toUpperCase()})}function Ag(e,a,o){var c=a.indexOf("--")===0;c||(-1<a.indexOf("-")?Gs.hasOwnProperty(a)&&Gs[a]||(Gs[a]=!0,console.error("Unsupported style property %s. Did you mean %s?",a,h7(a.replace(EV,"ms-")))):wV.test(a)?Gs.hasOwnProperty(a)&&Gs[a]||(Gs[a]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1))):!v3.test(o)||fb.hasOwnProperty(o)&&fb[o]||(fb[o]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,a,o.replace(v3,""))),typeof o=="number"&&(isNaN(o)?N3||(N3=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",a)):isFinite(o)||x3||(x3=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",a)))),o==null||typeof o=="boolean"||o===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,o):typeof o!="number"||o===0||y3.has(a)?a==="float"?e.cssFloat=o:(Be(o,a),e[a]=(""+o).trim()):e[a]=o+"px"}function bg(e,a,o){if(a!=null&&typeof a!="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(a&&Object.freeze(a),e=e.style,o!=null){if(a){var c={};if(o){for(var f in o)if(o.hasOwnProperty(f)&&!a.hasOwnProperty(f))for(var m=db[f]||[f],g=0;g<m.length;g++)c[m[g]]=f}for(var y in a)if(a.hasOwnProperty(y)&&(!o||o[y]!==a[y]))for(f=db[y]||[y],m=0;m<f.length;m++)c[f[m]]=y;y={};for(var _ in a)for(f=db[_]||[_],m=0;m<f.length;m++)y[f[m]]=_;_={};for(var B in c)if(f=c[B],(m=y[B])&&f!==m&&(g=f+","+m,!_[g])){_[g]=!0,g=console;var ge=a[f];g.error.call(g,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",ge==null||typeof ge=="boolean"||ge===""?"Removing":"Updating",f,m)}}for(var ve in o)!o.hasOwnProperty(ve)||a!=null&&a.hasOwnProperty(ve)||(ve.indexOf("--")===0?e.setProperty(ve,""):ve==="float"?e.cssFloat="":e[ve]="");for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&o[ce]!==B&&Ag(e,ce,B)}else for(c in a)a.hasOwnProperty(c)&&Ag(e,c,a[c])}function ec(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pg(e){return DV.get(e)||e}function g7(e,a){if(A0.call(Xs,a)&&Xs[a])return!0;if(jV.test(a)){if(e="aria-"+a.slice(4).toLowerCase(),e=w3.hasOwnProperty(e)?e:null,e==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",a),Xs[a]=!0;if(a!==e)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",a,e),Xs[a]=!0}if(VV.test(a)){if(e=a.toLowerCase(),e=w3.hasOwnProperty(e)?e:null,e==null)return Xs[a]=!0,!1;a!==e&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",a,e),Xs[a]=!0)}return!0}function v7(e,a){var o=[],c;for(c in a)g7(e,c)||o.push(c);a=o.map(function(f){return"`"+f+"`"}).join(", "),o.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",a,e):1<o.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",a,e)}function N7(e,a,o,c){if(A0.call(dt,a)&&dt[a])return!0;var f=a.toLowerCase();if(f==="onfocusin"||f==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),dt[a]=!0;if(typeof o=="function"&&(e==="form"&&a==="action"||e==="input"&&a==="formAction"||e==="button"&&a==="formAction"))return!0;if(c!=null){if(e=c.possibleRegistrationNames,c.registrationNameDependencies.hasOwnProperty(a))return!0;if(c=e.hasOwnProperty(f)?e[f]:null,c!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",a,c),dt[a]=!0;if(k3.test(a))return console.error("Unknown event handler property `%s`. It will be ignored.",a),dt[a]=!0}else if(k3.test(a))return CV.test(a)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",a),dt[a]=!0;if(_V.test(a)||SV.test(a))return!0;if(f==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),dt[a]=!0;if(f==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),dt[a]=!0;if(f==="is"&&o!==null&&o!==void 0&&typeof o!="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof o),dt[a]=!0;if(typeof o=="number"&&isNaN(o))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",a),dt[a]=!0;if(Df.hasOwnProperty(f)){if(f=Df[f],f!==a)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",a,f),dt[a]=!0}else if(a!==f)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",a,f),dt[a]=!0;switch(a){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof o){case"boolean":switch(a){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:return f=a.toLowerCase().slice(0,5),f==="data-"||f==="aria-"?!0:(o?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',o,a,a,o,a):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',o,a,a,o,a,a,a),dt[a]=!0)}case"function":case"symbol":return dt[a]=!0,!1;case"string":if(o==="false"||o==="true"){switch(a){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",o,a,o==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',a,o),dt[a]=!0}}return!0}function x7(e,a,o){var c=[],f;for(f in a)N7(e,f,a[f],o)||c.push(f);a=c.map(function(m){return"`"+m+"`"}).join(", "),c.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",a,e):1<c.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",a,e)}function rc(e){return MV.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}function Qm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}function hg(e){var a=Ce(e);if(a&&(e=a.stateNode)){var o=e[ut]||null;e:switch(e=a.stateNode,a.type){case"input":if(La(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=e;o.parentNode;)o=o.parentNode;for(je(a,"name"),o=o.querySelectorAll('input[name="'+mr(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==e&&c.form===e.form){var f=c[ut]||null;if(!f)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");La(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===e.form&&Me(c)}break e;case"textarea":ig(e,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ns(e,!!o.multiple,a,!1)}}}function gg(e,a,o){if(mb)return e(a,o);mb=!0;try{var c=e(a);return c}finally{if(mb=!1,(zs!==null||Ls!==null)&&(Ms(),zs&&(a=zs,e=Ls,Ls=zs=null,hg(a),e)))for(a=0;a<e.length;a++)hg(e[a])}}function ac(e,a){var o=e.stateNode;if(o===null)return null;var c=o[ut]||null;if(c===null)return null;o=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error("Expected `"+a+"` listener to be a function, instead got a value of `"+typeof o+"` type.");return o}function vg(){if(Vf)return Vf;var e,a=bb,o=a.length,c,f="value"in di?di.value:di.textContent,m=f.length;for(e=0;e<o&&a[e]===f[e];e++);var g=o-e;for(c=1;c<=g&&a[o-c]===f[m-c];c++);return Vf=f.slice(e,1<c?1-c:void 0)}function md(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ad(){return!0}function Ng(){return!1}function xt(e){function a(o,c,f,m,g){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(o=e[y],this[y]=o?o(m):m[y]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ad:Ng,this.isPropagationStopped=Ng,this}return Cr(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),a}function y7(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=zV[e])?!!a[e]:!1}function $m(){return y7}function xg(e,a){switch(e){case"keyup":return tj.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==C3;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}function w7(e,a){switch(e){case"compositionend":return yg(a);case"keypress":return a.which!==S3?null:(I3=!0,M3);case"textInput":return e=a.data,e===M3&&I3?null:e;default:return null}}function E7(e,a){if(Ys)return e==="compositionend"||!vb&&xg(e,a)?(e=vg(),Vf=bb=di=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _3&&a.locale!=="ko"?null:a.data;default:return null}}function wg(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!ij[e.type]:a==="textarea"}function k7(e){if(!q0)return!1;e="on"+e;var a=e in document;return a||(a=document.createElement("div"),a.setAttribute(e,"return;"),a=typeof a[e]=="function"),a}function Eg(e,a,o,c){zs?Ls?Ls.push(c):Ls=[c]:zs=c,a=sf(a,"onChange"),0<a.length&&(o=new jf("onChange","change",null,o,c),e.push({event:o,listeners:a}))}function D7(e){ox(e,0)}function bd(e){var a=Le(e);if(Me(a))return e}function kg(e,a){if(e==="change")return a}function Dg(){Pc&&(Pc.detachEvent("onpropertychange",Vg),Wc=Pc=null)}function Vg(e){if(e.propertyName==="value"&&bd(Wc)){var a=[];Eg(a,Wc,e,Qm(e)),gg(D7,a)}}function V7(e,a,o){e==="focusin"?(Dg(),Pc=a,Wc=o,Pc.attachEvent("onpropertychange",Vg)):e==="focusout"&&Dg()}function j7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bd(Wc)}function C7(e,a){if(e==="click")return bd(a)}function _7(e,a){if(e==="input"||e==="change")return bd(a)}function S7(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}function tc(e,a){if(ft(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var o=Object.keys(e),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!A0.call(a,f)||!ft(e[f],a[f]))return!1}return!0}function jg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cg(e,a){var o=jg(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=a&&c>=a)return{node:o,offset:a-e};e=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jg(o)}}function _g(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?_g(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=Ke(e.document);a instanceof e.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)e=a.contentWindow;else break;a=Ke(e.document)}return a}function qm(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}function Mg(e,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xb||Hs==null||Hs!==Ke(c)||(c=Hs,"selectionStart"in c&&qm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gc&&tc(Gc,c)||(Gc=c,c=sf(Nb,"onSelect"),0<c.length&&(a=new jf("onSelect","select",null,a,o),e.push({event:a,listeners:c}),a.target=Hs)))}function to(e,a){var o={};return o[e.toLowerCase()]=a.toLowerCase(),o["Webkit"+e]="webkit"+a,o["Moz"+e]="moz"+a,o}function no(e){if(yb[e])return yb[e];if(!Js[e])return e;var a=Js[e],o;for(o in a)if(a.hasOwnProperty(o)&&o in T3)return yb[e]=a[o];return e}function u0(e,a){P3.set(e,a),We(a,[e])}function M7(e){for(var a=_f,o=0;o<e.length;o++){var c=e[o];if(typeof c=="object"&&c!==null)if(Ra(c)&&c.length===2&&typeof c[0]=="string"){if(a!==_f&&a!==Vb)return kb;a=Vb}else return kb;else{if(typeof c=="function"||typeof c=="string"&&50<c.length||a!==_f&&a!==Db)return kb;a=Db}}return a}function Km(e,a,o,c){for(var f in e)A0.call(e,f)&&f[0]!=="_"&&_0(f,e[f],a,o,c)}function _0(e,a,o,c,f){switch(typeof a){case"object":if(a===null){a="null";break}else{if(a.$$typeof===L0){var m=$(a.type)||"",g=a.key;a=a.props;var y=Object.keys(a),_=y.length;if(g==null&&_===0){a="<"+m+" />";break}if(3>c||_===1&&y[0]==="children"&&g==null){a="<"+m+"  />";break}o.push([f+"".repeat(c)+e,"<"+m]),g!==null&&_0("key",g,o,c+1,f),e=!1;for(var B in a)B==="children"?a.children!=null&&(!Ra(a.children)||0<a.children.length)&&(e=!0):A0.call(a,B)&&B[0]!=="_"&&_0(B,a[B],o,c+1,f);o.push(["",e?"></"+m+">":"/>"]);return}if(m=Object.prototype.toString.call(a),m=m.slice(8,m.length-1),m==="Array"){if(B=M7(a),B===Db||B===_f){a=JSON.stringify(a);break}else if(B===Vb){for(o.push([f+"".repeat(c)+e,""]),e=0;e<a.length;e++)m=a[e],_0(m[0],m[1],o,c+1,f);return}}if(m==="Promise"){if(a.status==="fulfilled"){if(m=o.length,_0(e,a.value,o,c,f),o.length>m){o=o[m],o[1]="Promise<"+(o[1]||"Object")+">";return}}else if(a.status==="rejected"&&(m=o.length,_0(e,a.reason,o,c,f),o.length>m)){o=o[m],o[1]="Rejected Promise<"+o[1]+">";return}o.push(["".repeat(c)+e,"Promise"]);return}m==="Object"&&(B=Object.getPrototypeOf(a))&&typeof B.constructor=="function"&&(m=B.constructor.name),o.push([f+"".repeat(c)+e,m==="Object"?3>c?"":"":m]),3>c&&Km(a,o,c+1,f);return}case"function":a=a.name===""?"() => {}":a.name+"() {}";break;case"string":a=a===fj?"":JSON.stringify(a);break;case"undefined":a="undefined";break;case"boolean":a=a?"true":"false";break;default:a=String(a)}o.push([f+"".repeat(c)+e,a])}function Ig(e,a,o,c){var f=!0;for(g in e)g in a||(o.push([Sf+"".repeat(c)+g,""]),f=!1);for(var m in a)if(m in e){var g=e[m],y=a[m];if(g!==y){if(c===0&&m==="children")f="".repeat(c)+m,o.push([Sf+f,""],[Mf+f,""]);else{if(!(3<=c)){if(typeof g=="object"&&typeof y=="object"&&g!==null&&y!==null&&g.$$typeof===y.$$typeof)if(y.$$typeof===L0){if(g.type===y.type&&g.key===y.key){g=$(y.type)||"",f="".repeat(c)+m,g="<"+g+"  />",o.push([Sf+f,g],[Mf+f,g]),f=!1;continue}}else{var _=Object.prototype.toString.call(g),B=Object.prototype.toString.call(y);if(_===B&&(B==="[object Object]"||B==="[object Array]")){_=[U3+"".repeat(c)+m,B==="[object Array]"?"Array":""],o.push(_),B=o.length,Ig(g,y,o,c+1)?B===o.length&&(_[1]="Referentially unequal but deeply equal objects. Consider memoization."):f=!1;continue}}else if(typeof g=="function"&&typeof y=="function"&&g.name===y.name&&g.length===y.length&&(_=Function.prototype.toString.call(g),B=Function.prototype.toString.call(y),_===B)){g=y.name===""?"() => {}":y.name+"() {}",o.push([U3+"".repeat(c)+m,g+" Referentially unequal function closure. Consider memoization."]);continue}}_0(m,g,o,c,Sf),_0(m,y,o,c,Mf)}f=!1}}else o.push([Mf+"".repeat(c)+m,""]),f=!1;return f}function d0(e){Fr=e&63?"Blocking":e&64?"Gesture":e&4194176?"Transition":e&62914560?"Suspense":e&2080374784?"Idle":"Other"}function S0(e,a,o,c){Qr&&(mi.start=a,mi.end=o,gn.color="warning",gn.tooltipText=c,gn.properties=null,(e=e._debugTask)?e.run(performance.measure.bind(performance,c,mi)):performance.measure(c,mi))}function pd(e,a,o){S0(e,a,o,"Reconnect")}function hd(e,a,o,c,f){var m=L(e);if(m!==null&&Qr){var g=e.alternate,y=e.actualDuration;if(g===null||g.child!==e.child)for(var _=e.child;_!==null;_=_.sibling)y-=_.actualDuration;c=.5>y?c?"tertiary-light":"primary-light":10>y?c?"tertiary":"primary":100>y?c?"tertiary-dark":"primary-dark":"error";var B=e.memoizedProps;y=e._debugTask,B!==null&&g!==null&&g.memoizedProps!==B?(_=[mj],B=Ig(g.memoizedProps,B,_,0),1<_.length&&(B&&!fi&&!(g.lanes&f)&&100<e.actualDuration?(fi=!0,_[0]=Aj,gn.color="warning",gn.tooltipText=X3):(gn.color=c,gn.tooltipText=m),gn.properties=_,mi.start=a,mi.end=o,y!=null?y.run(performance.measure.bind(performance,""+m,mi)):performance.measure(""+m,mi))):y!=null?y.run(console.timeStamp.bind(console,m,a,o,Qt,void 0,c)):console.timeStamp(m,a,o,Qt,void 0,c)}}function eA(e,a,o,c){if(Qr){var f=L(e);if(f!==null){for(var m=null,g=[],y=0;y<c.length;y++){var _=c[y];m==null&&_.source!==null&&(m=_.source._debugTask),_=_.value,g.push(["Error",typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_)])}e.key!==null&&_0("key",e.key,g,0,""),e.memoizedProps!==null&&Km(e.memoizedProps,g,0,""),m==null&&(m=e._debugTask),e={start:a,end:o,detail:{devtools:{color:"error",track:Qt,tooltipText:e.tag===13?"Hydration failed":"Error boundary caught an error",properties:g}}},m?m.run(performance.measure.bind(performance,""+f,e)):performance.measure(""+f,e)}}}function M0(e,a,o,c,f){if(f!==null){if(Qr){var m=L(e);if(m!==null){c=[];for(var g=0;g<f.length;g++){var y=f[g].value;c.push(["Error",typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y)])}e.key!==null&&_0("key",e.key,c,0,""),e.memoizedProps!==null&&Km(e.memoizedProps,c,0,""),a={start:a,end:o,detail:{devtools:{color:"error",track:Qt,tooltipText:"A lifecycle or effect errored",properties:c}}},(e=e._debugTask)?e.run(performance.measure.bind(performance,""+m,a)):performance.measure(""+m,a)}}}else m=L(e),m!==null&&Qr&&(f=1>c?"secondary-light":100>c?"secondary":500>c?"secondary-dark":"error",(e=e._debugTask)?e.run(console.timeStamp.bind(console,m,a,o,Qt,void 0,f)):console.timeStamp(m,a,o,Qt,void 0,f))}function I7(e,a,o,c){if(Qr&&!(a<=e)){var f=(o&738197653)===o?"tertiary-dark":"primary-dark";o=(o&536870912)===o?"Prepared":(o&201326741)===o?"Hydrated":"Render",c?c.run(console.timeStamp.bind(console,o,e,a,Fr,Tr,f)):console.timeStamp(o,e,a,Fr,Tr,f)}}function Rg(e,a,o,c){!Qr||a<=e||(o=(o&738197653)===o?"tertiary-dark":"primary-dark",c?c.run(console.timeStamp.bind(console,"Prewarm",e,a,Fr,Tr,o)):console.timeStamp("Prewarm",e,a,Fr,Tr,o))}function Tg(e,a,o,c){!Qr||a<=e||(o=(o&738197653)===o?"tertiary-dark":"primary-dark",c?c.run(console.timeStamp.bind(console,"Suspended",e,a,Fr,Tr,o)):console.timeStamp("Suspended",e,a,Fr,Tr,o))}function R7(e,a,o,c,f,m){if(Qr&&!(a<=e)){o=[];for(var g=0;g<c.length;g++){var y=c[g].value;o.push(["Recoverable Error",typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y)])}e={start:e,end:a,detail:{devtools:{color:"primary-dark",track:Fr,trackGroup:Tr,tooltipText:f?"Hydration Failed":"Recovered after Error",properties:o}}},m?m.run(performance.measure.bind(performance,"Recovered",e)):performance.measure("Recovered",e)}}function rA(e,a,o,c){!Qr||a<=e||(c?c.run(console.timeStamp.bind(console,"Errored",e,a,Fr,Tr,"error")):console.timeStamp("Errored",e,a,Fr,Tr,"error"))}function T7(e,a,o,c){!Qr||a<=e||(c?c.run(console.timeStamp.bind(console,o,e,a,Fr,Tr,"secondary-light")):console.timeStamp(o,e,a,Fr,Tr,"secondary-light"))}function Bg(e,a,o,c,f){if(Qr&&!(a<=e)){for(var m=[],g=0;g<o.length;g++){var y=o[g].value;m.push(["Error",typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y)])}e={start:e,end:a,detail:{devtools:{color:"error",track:Fr,trackGroup:Tr,tooltipText:c?"Remaining Effects Errored":"Commit Errored",properties:m}}},f?f.run(performance.measure.bind(performance,"Errored",e)):performance.measure("Errored",e)}}function aA(e,a,o){!Qr||a<=e||console.timeStamp("Animating",e,a,Fr,Tr,"secondary-dark")}function gd(){for(var e=Qs,a=jb=Qs=0;a<e;){var o=$t[a];$t[a++]=null;var c=$t[a];$t[a++]=null;var f=$t[a];$t[a++]=null;var m=$t[a];if($t[a++]=null,c!==null&&f!==null){var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}m!==0&&Fg(o,f,m)}}function vd(e,a,o,c){$t[Qs++]=e,$t[Qs++]=a,$t[Qs++]=o,$t[Qs++]=c,jb|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function tA(e,a,o,c){return vd(e,a,o,c),Nd(e)}function tt(e,a){return vd(e,null,null,a),Nd(e)}function Fg(e,a,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var f=!1,m=e.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&Uc||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&a!==null&&(f=31-ct(o),e=m.hiddenUpdates,c=e[f],c===null?e[f]=[a]:c.push(a),a.lane=o|536870912),m):null}function Nd(e){if(pu>_j)throw To=pu=0,hu=sp=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");To>Sj&&(To=0,hu=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),e.alternate===null&&e.flags&4098&&KN(e);for(var a=e,o=a.return;o!==null;)a.alternate===null&&a.flags&4098&&KN(e),a=o,o=a.return;return a.tag===3?a.stateNode:null}function io(e){if(qt===null)return e;var a=qt(e);return a===void 0?e:a.current}function nA(e){if(qt===null)return e;var a=qt(e);return a===void 0?e!=null&&typeof e.render=="function"&&(a=io(e.render),e.render!==a)?(a={$$typeof:Sc,render:a},e.displayName!==void 0&&(a.displayName=e.displayName),a):e:a.current}function Zg(e,a){if(qt===null)return!1;var o=e.elementType;a=a.type;var c=!1,f=typeof a=="object"&&a!==null?a.$$typeof:null;switch(e.tag){case 1:typeof a=="function"&&(c=!0);break;case 0:(typeof a=="function"||f===Zt)&&(c=!0);break;case 11:(f===Sc||f===Zt)&&(c=!0);break;case 14:case 15:(f===gf||f===Zt)&&(c=!0);break;default:return!1}return!!(c&&(e=qt(o),e!==void 0&&e===qt(a)))}function Og(e){qt!==null&&typeof WeakSet=="function"&&($s===null&&($s=new WeakSet),$s.add(e))}function Pg(e,a,o){do{var c=e,f=c.alternate,m=c.child,g=c.sibling,y=c.tag;c=c.type;var _=null;switch(y){case 0:case 15:case 1:_=c;break;case 11:_=c.render}if(qt===null)throw Error("Expected resolveFamily to be set during hot reload.");var B=!1;if(c=!1,_!==null&&(_=qt(_),_!==void 0&&(o.has(_)?c=!0:a.has(_)&&(y===1?c=!0:B=!0))),$s!==null&&($s.has(e)||f!==null&&$s.has(f))&&(c=!0),c&&(e._debugNeedsRemount=!0),(c||B)&&(f=tt(e,2),f!==null&&da(f,e,2)),m===null||c||Pg(m,a,o),g===null)break;e=g}while(!0)}function B7(e,a,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,z3||typeof Object.preventExtensions!="function"||Object.preventExtensions(this)}function iA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,a){var o=e.alternate;switch(o===null?(o=v(e.tag,a,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o._debugOwner=e._debugOwner,o._debugStack=e._debugStack,o._debugTask=e._debugTask,o._debugHookTypes=e._debugHookTypes,o.alternate=e,e.alternate=o):(o.pendingProps=a,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null,o.actualDuration=-0,o.actualStartTime=-1.1),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext,_debugThenableState:a._debugThenableState},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o.selfBaseDuration=e.selfBaseDuration,o.treeBaseDuration=e.treeBaseDuration,o._debugInfo=e._debugInfo,o._debugNeedsRemount=e._debugNeedsRemount,o.tag){case 0:case 15:o.type=io(e.type);break;case 1:o.type=io(e.type);break;case 11:o.type=nA(e.type)}return o}function Wg(e,a){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,a=o.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext,_debugThenableState:a._debugThenableState},e.selfBaseDuration=o.selfBaseDuration,e.treeBaseDuration=o.treeBaseDuration),e}function oA(e,a,o,c,f,m){var g=0,y=e;if(typeof e=="function")iA(e)&&(g=1),y=io(y);else if(typeof e=="string")g=ee(),g=zD(e,o,g)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K1:return a=v(31,o,a,f),a.elementType=K1,a.lanes=m,a;case Os:return oo(o.children,f,m,a);case hf:g=8,f|=it,f|=b0;break;case J1:return e=o,c=f,typeof e.id!="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof e.id),a=v(12,e,a,c|wr),a.elementType=J1,a.lanes=m,a.stateNode={effectDuration:0,passiveEffectDuration:0},a;case $1:return a=v(13,o,a,f),a.elementType=$1,a.lanes=m,a;case q1:return a=v(19,o,a,f),a.elementType=q1,a.lanes=m,a;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y0:g=10;break e;case Q1:g=9;break e;case Sc:g=11,y=nA(y);break e;case gf:g=14;break e;case Zt:g=16,y=null;break e}y="",(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(y+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),e===null?o="null":Ra(e)?o="array":e!==void 0&&e.$$typeof===L0?(o="<"+($(e.type)||"Unknown")+" />",y=" Did you accidentally export a JSX literal instead of a component?"):o=typeof e,(g=c?Ae(c):null)&&(y+=`

Check the render method of \``+g+"`."),g=29,o=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(o+"."+y)),y=null}return a=v(g,o,a,f),a.elementType=e,a.type=y,a.lanes=m,a._debugOwner=c,a}function xd(e,a,o){return a=oA(e.type,e.key,e.props,e._owner,a,o),a._debugOwner=e._owner,a._debugStack=e._debugStack,a._debugTask=e._debugTask,a}function oo(e,a,o,c){return e=v(7,e,c,a),e.lanes=o,e}function sA(e,a,o){return e=v(6,e,null,a),e.lanes=o,e}function Gg(e){var a=v(18,null,null,pr);return a.stateNode=e,a}function lA(e,a,o){return a=v(4,e.children!==null?e.children:[],e.key,a),a.lanes=o,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}function Mt(e,a){if(typeof e=="object"&&e!==null){var o=Cb.get(e);return o!==void 0?o:(a={value:e,source:a,stack:re(a)},Cb.set(e,a),a)}return{value:e,source:a,stack:re(a)}}function un(e,a){Jn(),qs[Ks++]=Xc,qs[Ks++]=If,If=e,Xc=a}function Ug(e,a,o){Jn(),Kt[e0++]=Nn,Kt[e0++]=xn,Kt[e0++]=No,No=e;var c=Nn;e=xn;var f=32-ct(c)-1;c&=~(1<<f),o+=1;var m=32-ct(a)+f;if(30<m){var g=f-f%5;m=(c&(1<<g)-1).toString(32),c>>=g,f-=g,Nn=1<<32-ct(a)+f|o<<f|c,xn=m+e}else Nn=1<<m|o<<f|c,xn=e}function cA(e){Jn(),e.return!==null&&(un(e,1),Ug(e,1,0))}function uA(e){for(;e===If;)If=qs[--Ks],qs[Ks]=null,Xc=qs[--Ks],qs[Ks]=null;for(;e===No;)No=Kt[--e0],Kt[e0]=null,xn=Kt[--e0],Kt[e0]=null,Nn=Kt[--e0],Kt[e0]=null}function Xg(){return Jn(),No!==null?{id:Nn,overflow:xn}:null}function zg(e,a){Jn(),Kt[e0++]=Nn,Kt[e0++]=xn,Kt[e0++]=No,Nn=a.id,xn=a.overflow,No=e}function Jn(){Mr||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function so(e,a){if(e.return===null){if(Pt===null)Pt={fiber:e,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:a};else{if(Pt.fiber!==e)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");Pt.distanceFromLeaf>a&&(Pt.distanceFromLeaf=a)}return Pt}var o=so(e.return,a+1).children;return 0<o.length&&o[o.length-1].fiber===e?(o=o[o.length-1],o.distanceFromLeaf>a&&(o.distanceFromLeaf=a),o):(a={fiber:e,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:a},o.push(a),a)}function Lg(){Mr&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug.")}function yd(e,a){K0||(e=so(e,0),e.serverProps=null,a!==null&&(a=Ex(a),e.serverTail.push(a)))}function Qn(e){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1,o="",c=Pt;throw c!==null&&(Pt=null,o=Hm(c)),nc(Mt(Error("Hydration failed because the server rendered "+(a?"text":"HTML")+` didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+o),e)),_b}function Yg(e){var a=e.stateNode,o=e.type,c=e.memoizedProps;switch(a[Qa]=e,a[ut]=c,_1(o,c),o){case"dialog":Rr("cancel",a),Rr("close",a);break;case"iframe":case"object":case"embed":Rr("load",a);break;case"video":case"audio":for(o=0;o<gu.length;o++)Rr(gu[o],a);break;case"source":Rr("error",a);break;case"img":case"image":case"link":Rr("error",a),Rr("load",a);break;case"details":Rr("toggle",a);break;case"input":Ye("input",c),Rr("invalid",a),Fa(a,c),vs(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"option":rg(a,c);break;case"select":Ye("select",c),Rr("invalid",a),tg(a,c);break;case"textarea":Ye("textarea",c),Rr("invalid",a),ng(a,c),og(a,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||ux(a.textContent,o)?(c.popover!=null&&(Rr("beforetoggle",a),Rr("toggle",a)),c.onScroll!=null&&Rr("scroll",a),c.onScrollEnd!=null&&Rr("scrollend",a),c.onClick!=null&&(a.onclick=ln),a=!0):a=!1,a||Qn(e,!0)}function Hg(e){for($a=e.return;$a;)switch($a.tag){case 5:case 31:case 13:r0=!1;return;case 27:case 3:r0=!0;return;default:$a=$a.return}}function ws(e){if(e!==$a)return!1;if(!Mr)return Hg(e),Mr=!0,!1;var a=e.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||T1(e.type,e.memoizedProps)),o=!o),o&&$r){for(o=$r;o;){var c=so(e,0),f=Ex(o);c.serverTail.push(f),o=f.type==="Suspense"?O1(o):Ft(o.nextSibling)}Qn(e)}if(Hg(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");$r=O1(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");$r=O1(e)}else a===27?(a=$r,oi(e.type)?(e=vp,vp=null,$r=e):$r=a):$r=$a?Ft(e.stateNode.nextSibling):null;return!0}function lo(){$r=$a=null,K0=Mr=!1}function dA(){var e=bi;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),bi=null),e}function nc(e){bi===null?bi=[e]:bi.push(e)}function fA(){var e=Pt;if(e!==null){Pt=null;for(var a=Hm(e);0<e.children.length;)e=e.children[0];W(e.fiber,function(){console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",a)})}}function wd(){el=Rf=null,rl=!1}function $n(e,a,o){O(Sb,a._currentValue,e),a._currentValue=o,O(Mb,a._currentRenderer,e),a._currentRenderer!==void 0&&a._currentRenderer!==null&&a._currentRenderer!==Y3&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),a._currentRenderer=Y3}function dn(e,a){e._currentValue=Sb.current;var o=Mb.current;j(Mb,a),e._currentRenderer=o,j(Sb,a)}function mA(e,a,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===o)break;e=e.return}e!==o&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function AA(e,a,o,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var g=f.child;m=m.firstContext;e:for(;m!==null;){var y=m;m=f;for(var _=0;_<a.length;_++)if(y.context===a[_]){m.lanes|=o,y=m.alternate,y!==null&&(y.lanes|=o),mA(m.return,o,e),c||(g=null);break e}m=y.next}}else if(f.tag===18){if(g=f.return,g===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");g.lanes|=o,m=g.alternate,m!==null&&(m.lanes|=o),mA(g,o,e),g=null}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===e){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}}function Es(e,a,o,c){e=null;for(var f=a,m=!1;f!==null;){if(!m){if(f.flags&524288)m=!0;else if(f.flags&262144)break}if(f.tag===10){var g=f.alternate;if(g===null)throw Error("Should have a current fiber. This is a bug in React.");if(g=g.memoizedProps,g!==null){var y=f.type;ft(f.pendingProps.value,g.value)||(e!==null?e.push(y):e=[y])}}else if(f===vf.current){if(g=f.alternate,g===null)throw Error("Should have a current fiber. This is a bug in React.");g.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(wu):e=[wu])}f=f.return}e!==null&&AA(a,e,o,c),a.flags|=262144}function Ed(e){for(e=e.firstContext;e!==null;){if(!ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function co(e){Rf=e,el=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function aa(e){return rl&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),Jg(Rf,e)}function kd(e,a){return Rf===null&&co(e),Jg(e,a)}function Jg(e,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},el===null){if(e===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");el=a,e.dependencies={lanes:0,firstContext:a,_debugThenableState:null},e.flags|=524288}else el=el.next=a;return o}function bA(){return{controller:new hj,data:new Map,refCount:0}}function uo(e){e.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),e.refCount++}function ic(e){e.refCount--,0>e.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),e.refCount===0&&gj(vj,function(){e.controller.abort()})}function I0(e,a,o){e&127?0>en&&(en=ya(),Lc=Tf(a),Ib=a,o!=null&&(Rb=L(o)),(Or&(Ba|Ut))!==Ga&&(fa=!0,hi=zc),e=Dc(),a=kc(),e!==al||a!==Yc?al=-1.1:a!==null&&(hi=zc),wo=e,Yc=a):e&4194048&&0>a0&&(a0=ya(),Hc=Tf(a),H3=a,o!=null&&(J3=L(o)),0>kn)&&(e=Dc(),a=kc(),(e!==vi||a!==Eo)&&(vi=-1.1),gi=e,Eo=a)}function F7(e){if(0>en){en=ya(),Lc=e._debugTask!=null?e._debugTask:null,(Or&(Ba|Ut))!==Ga&&(hi=zc);var a=Dc(),o=kc();a!==al||o!==Yc?al=-1.1:o!==null&&(hi=zc),wo=a,Yc=o}0>a0&&(a0=ya(),Hc=e._debugTask!=null?e._debugTask:null,0>kn)&&(e=Dc(),a=kc(),(e!==vi||a!==Eo)&&(vi=-1.1),gi=e,Eo=a)}function fn(){var e=xo;return xo=0,e}function Dd(e){var a=xo;return xo=e,a}function oc(e){var a=xo;return xo+=e,a}function Vd(){Ar=dr=-1.1}function It(){var e=dr;return dr=-1.1,e}function Rt(e){0<=e&&(dr=e)}function R0(){var e=oa;return oa=-0,e}function T0(e){0<=e&&(oa=e)}function B0(){var e=ta;return ta=null,e}function F0(){var e=fa;return fa=!1,e}function pA(e){mt=ya(),0>e.actualStartTime&&(e.actualStartTime=mt)}function hA(e){if(0<=mt){var a=ya()-mt;e.actualDuration+=a,e.selfBaseDuration=a,mt=-1}}function Qg(e){if(0<=mt){var a=ya()-mt;e.actualDuration+=a,mt=-1}}function Z0(){if(0<=mt){var e=ya(),a=e-mt;mt=-1,xo+=a,oa+=a,Ar=e}}function $g(e){ta===null&&(ta=[]),ta.push(e),wn===null&&(wn=[]),wn.push(e)}function O0(){mt=ya(),0>dr&&(dr=mt)}function sc(e){for(var a=e.child;a;)e.actualDuration+=a.actualDuration,a=a.sibling}function Z7(e,a){if(Qc===null){var o=Qc=[];Bb=0,ko=D1(),tl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Bb++,a.then(qg,qg),a}function qg(){if(--Bb===0&&(-1<a0||(kn=-1.1),Qc!==null)){tl!==null&&(tl.status="fulfilled");var e=Qc;Qc=null,ko=0,tl=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function O7(e,a){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}function gA(){var e=Do.current;return e!==null?e:Yr.pooledCache}function jd(e,a){a===null?O(Do,Do.current,e):O(Do,a.pool,e)}function Kg(){var e=gA();return e===null?null:{parent:xa._currentValue,pool:e}}function ev(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function rv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function av(e,a,o){Ie.actQueue!==null&&(Ie.didUsePromise=!0);var c=e.thenables;if(o=c[o],o===void 0?c.push(a):o!==a&&(e.didWarnAboutUncachedPromise||(e.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),a.then(ln,ln),a=o),a._debugInfo===void 0){e=performance.now(),c=a.displayName;var f={name:typeof c=="string"?c:"Promise",start:e,end:e,value:a};a._debugInfo=[{awaited:f}],a.status!=="fulfilled"&&a.status!=="rejected"&&(e=function(){f.end=performance.now()},a.then(e,e))}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,nv(e),e;default:if(typeof a.status=="string")a.then(ln,ln);else{if(e=Yr,e!==null&&100<e.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");e=a,e.status="pending",e.then(function(m){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=m}},function(m){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=m}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,nv(e),e}throw jo=a,tu=!0,nl}}function qn(e){try{return Ej(e)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jo=a,tu=!0,nl):a}}function tv(){if(jo===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=jo;return jo=null,tu=!1,e}function nv(e){if(e===nl||e===Uf)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function Ya(e){var a=Er;return e!=null&&(Er=a===null?e:a.concat(e)),a}function vA(){var e=Er;if(e!=null){for(var a=e.length-1;0<=a;a--)if(e[a].name!=null){var o=e[a].debugTask;if(o!=null)return o}}return null}function Cd(e,a,o){for(var c=Object.keys(e.props),f=0;f<c.length;f++){var m=c[f];if(m!=="children"&&m!=="key"){a===null&&(a=xd(e,o.mode,0),a._debugInfo=Er,a.return=o),W(a,function(g){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g)},m);break}}}function _d(e){var a=nu;return nu+=1,il===null&&(il=ev()),av(il,e,a)}function lc(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function iv(e,a){throw a.$$typeof===aV?Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`):(e=Object.prototype.toString.call(a),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead."))}function Sd(e,a){var o=vA();o!==null?o.run(iv.bind(null,e,a)):iv(e,a)}function ov(e,a){var o=L(e)||"Component";b6[o]||(b6[o]=!0,a=a.displayName||a.name||"Component",e.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,a,a,a):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,a,a,o,a,o))}function Md(e,a){var o=vA();o!==null?o.run(ov.bind(null,e,a)):ov(e,a)}function sv(e,a){var o=L(e)||"Component";p6[o]||(p6[o]=!0,a=String(a),e.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,a):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,o,a,o))}function Id(e,a){var o=vA();o!==null?o.run(sv.bind(null,e,a)):sv(e,a)}function lv(e){function a(le,ue){if(e){var pe=le.deletions;pe===null?(le.deletions=[ue],le.flags|=16):pe.push(ue)}}function o(le,ue){if(!e)return null;for(;ue!==null;)a(le,ue),ue=ue.sibling;return null}function c(le){for(var ue=new Map;le!==null;)le.key!==null?ue.set(le.key,le):ue.set(le.index,le),le=le.sibling;return ue}function f(le,ue){return le=cn(le,ue),le.index=0,le.sibling=null,le}function m(le,ue,pe){return le.index=pe,e?(pe=le.alternate,pe!==null?(pe=pe.index,pe<ue?(le.flags|=67108866,ue):pe):(le.flags|=67108866,ue)):(le.flags|=1048576,ue)}function g(le){return e&&le.alternate===null&&(le.flags|=67108866),le}function y(le,ue,pe,Te){return ue===null||ue.tag!==6?(ue=sA(pe,le.mode,Te),ue.return=le,ue._debugOwner=le,ue._debugTask=le._debugTask,ue._debugInfo=Er,ue):(ue=f(ue,pe),ue.return=le,ue._debugInfo=Er,ue)}function _(le,ue,pe,Te){var qe=pe.type;return qe===Os?(ue=ge(le,ue,pe.props.children,Te,pe.key),Cd(pe,ue,le),ue):ue!==null&&(ue.elementType===qe||Zg(ue,pe)||typeof qe=="object"&&qe!==null&&qe.$$typeof===Zt&&qn(qe)===ue.type)?(ue=f(ue,pe.props),lc(ue,pe),ue.return=le,ue._debugOwner=pe._owner,ue._debugInfo=Er,ue):(ue=xd(pe,le.mode,Te),lc(ue,pe),ue.return=le,ue._debugInfo=Er,ue)}function B(le,ue,pe,Te){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==pe.containerInfo||ue.stateNode.implementation!==pe.implementation?(ue=lA(pe,le.mode,Te),ue.return=le,ue._debugInfo=Er,ue):(ue=f(ue,pe.children||[]),ue.return=le,ue._debugInfo=Er,ue)}function ge(le,ue,pe,Te,qe){return ue===null||ue.tag!==7?(ue=oo(pe,le.mode,Te,qe),ue.return=le,ue._debugOwner=le,ue._debugTask=le._debugTask,ue._debugInfo=Er,ue):(ue=f(ue,pe),ue.return=le,ue._debugInfo=Er,ue)}function ve(le,ue,pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=sA(""+ue,le.mode,pe),ue.return=le,ue._debugOwner=le,ue._debugTask=le._debugTask,ue._debugInfo=Er,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L0:return pe=xd(ue,le.mode,pe),lc(pe,ue),pe.return=le,le=Ya(ue._debugInfo),pe._debugInfo=Er,Er=le,pe;case Zs:return ue=lA(ue,le.mode,pe),ue.return=le,ue._debugInfo=Er,ue;case Zt:var Te=Ya(ue._debugInfo);return ue=qn(ue),le=ve(le,ue,pe),Er=Te,le}if(Ra(ue)||q(ue))return pe=oo(ue,le.mode,pe,null),pe.return=le,pe._debugOwner=le,pe._debugTask=le._debugTask,le=Ya(ue._debugInfo),pe._debugInfo=Er,Er=le,pe;if(typeof ue.then=="function")return Te=Ya(ue._debugInfo),le=ve(le,_d(ue),pe),Er=Te,le;if(ue.$$typeof===Y0)return ve(le,kd(le,ue),pe);Sd(le,ue)}return typeof ue=="function"&&Md(le,ue),typeof ue=="symbol"&&Id(le,ue),null}function ce(le,ue,pe,Te){var qe=ue!==null?ue.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return qe!==null?null:y(le,ue,""+pe,Te);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case L0:return pe.key===qe?(qe=Ya(pe._debugInfo),le=_(le,ue,pe,Te),Er=qe,le):null;case Zs:return pe.key===qe?B(le,ue,pe,Te):null;case Zt:return qe=Ya(pe._debugInfo),pe=qn(pe),le=ce(le,ue,pe,Te),Er=qe,le}if(Ra(pe)||q(pe))return qe!==null?null:(qe=Ya(pe._debugInfo),le=ge(le,ue,pe,Te,null),Er=qe,le);if(typeof pe.then=="function")return qe=Ya(pe._debugInfo),le=ce(le,ue,_d(pe),Te),Er=qe,le;if(pe.$$typeof===Y0)return ce(le,ue,kd(le,pe),Te);Sd(le,pe)}return typeof pe=="function"&&Md(le,pe),typeof pe=="symbol"&&Id(le,pe),null}function _e(le,ue,pe,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return le=le.get(pe)||null,y(ue,le,""+Te,qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case L0:return pe=le.get(Te.key===null?pe:Te.key)||null,le=Ya(Te._debugInfo),ue=_(ue,pe,Te,qe),Er=le,ue;case Zs:return le=le.get(Te.key===null?pe:Te.key)||null,B(ue,le,Te,qe);case Zt:var vr=Ya(Te._debugInfo);return Te=qn(Te),ue=_e(le,ue,pe,Te,qe),Er=vr,ue}if(Ra(Te)||q(Te))return pe=le.get(pe)||null,le=Ya(Te._debugInfo),ue=ge(ue,pe,Te,qe,null),Er=le,ue;if(typeof Te.then=="function")return vr=Ya(Te._debugInfo),ue=_e(le,ue,pe,_d(Te),qe),Er=vr,ue;if(Te.$$typeof===Y0)return _e(le,ue,pe,kd(ue,Te),qe);Sd(ue,Te)}return typeof Te=="function"&&Md(ue,Te),typeof Te=="symbol"&&Id(ue,Te),null}function Qe(le,ue,pe,Te){if(typeof pe!="object"||pe===null)return Te;switch(pe.$$typeof){case L0:case Zs:x(le,ue,pe);var qe=pe.key;if(typeof qe!="string")break;if(Te===null){Te=new Set,Te.add(qe);break}if(!Te.has(qe)){Te.add(qe);break}W(ue,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",qe)});break;case Zt:pe=qn(pe),Qe(le,ue,pe,Te)}return Te}function ar(le,ue,pe,Te){for(var qe=null,vr=null,cr=null,sr=ue,yr=ue=0,qr=null;sr!==null&&yr<pe.length;yr++){sr.index>yr?(qr=sr,sr=null):qr=sr.sibling;var ga=ce(le,sr,pe[yr],Te);if(ga===null){sr===null&&(sr=qr);break}qe=Qe(le,ga,pe[yr],qe),e&&sr&&ga.alternate===null&&a(le,sr),ue=m(ga,ue,yr),cr===null?vr=ga:cr.sibling=ga,cr=ga,sr=qr}if(yr===pe.length)return o(le,sr),Mr&&un(le,yr),vr;if(sr===null){for(;yr<pe.length;yr++)sr=ve(le,pe[yr],Te),sr!==null&&(qe=Qe(le,sr,pe[yr],qe),ue=m(sr,ue,yr),cr===null?vr=sr:cr.sibling=sr,cr=sr);return Mr&&un(le,yr),vr}for(sr=c(sr);yr<pe.length;yr++)qr=_e(sr,le,yr,pe[yr],Te),qr!==null&&(qe=Qe(le,qr,pe[yr],qe),e&&qr.alternate!==null&&sr.delete(qr.key===null?yr:qr.key),ue=m(qr,ue,yr),cr===null?vr=qr:cr.sibling=qr,cr=qr);return e&&sr.forEach(function(In){return a(le,In)}),Mr&&un(le,yr),vr}function Jr(le,ue,pe,Te){if(pe==null)throw Error("An iterable object provided no iterator.");for(var qe=null,vr=null,cr=ue,sr=ue=0,yr=null,qr=null,ga=pe.next();cr!==null&&!ga.done;sr++,ga=pe.next()){cr.index>sr?(yr=cr,cr=null):yr=cr.sibling;var In=ce(le,cr,ga.value,Te);if(In===null){cr===null&&(cr=yr);break}qr=Qe(le,In,ga.value,qr),e&&cr&&In.alternate===null&&a(le,cr),ue=m(In,ue,sr),vr===null?qe=In:vr.sibling=In,vr=In,cr=yr}if(ga.done)return o(le,cr),Mr&&un(le,sr),qe;if(cr===null){for(;!ga.done;sr++,ga=pe.next())cr=ve(le,ga.value,Te),cr!==null&&(qr=Qe(le,cr,ga.value,qr),ue=m(cr,ue,sr),vr===null?qe=cr:vr.sibling=cr,vr=cr);return Mr&&un(le,sr),qe}for(cr=c(cr);!ga.done;sr++,ga=pe.next())yr=_e(cr,le,sr,ga.value,Te),yr!==null&&(qr=Qe(le,yr,ga.value,qr),e&&yr.alternate!==null&&cr.delete(yr.key===null?sr:yr.key),ue=m(yr,ue,sr),vr===null?qe=yr:vr.sibling=yr,vr=yr);return e&&cr.forEach(function(Hj){return a(le,Hj)}),Mr&&un(le,sr),qe}function Br(le,ue,pe,Te){if(typeof pe=="object"&&pe!==null&&pe.type===Os&&pe.key===null&&(Cd(pe,null,le),pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case L0:var qe=Ya(pe._debugInfo);e:{for(var vr=pe.key;ue!==null;){if(ue.key===vr){if(vr=pe.type,vr===Os){if(ue.tag===7){o(le,ue.sibling),Te=f(ue,pe.props.children),Te.return=le,Te._debugOwner=pe._owner,Te._debugInfo=Er,Cd(pe,Te,le),le=Te;break e}}else if(ue.elementType===vr||Zg(ue,pe)||typeof vr=="object"&&vr!==null&&vr.$$typeof===Zt&&qn(vr)===ue.type){o(le,ue.sibling),Te=f(ue,pe.props),lc(Te,pe),Te.return=le,Te._debugOwner=pe._owner,Te._debugInfo=Er,le=Te;break e}o(le,ue);break}else a(le,ue);ue=ue.sibling}pe.type===Os?(Te=oo(pe.props.children,le.mode,Te,pe.key),Te.return=le,Te._debugOwner=le,Te._debugTask=le._debugTask,Te._debugInfo=Er,Cd(pe,Te,le),le=Te):(Te=xd(pe,le.mode,Te),lc(Te,pe),Te.return=le,Te._debugInfo=Er,le=Te)}return le=g(le),Er=qe,le;case Zs:e:{for(qe=pe,pe=qe.key;ue!==null;){if(ue.key===pe)if(ue.tag===4&&ue.stateNode.containerInfo===qe.containerInfo&&ue.stateNode.implementation===qe.implementation){o(le,ue.sibling),Te=f(ue,qe.children||[]),Te.return=le,le=Te;break e}else{o(le,ue);break}else a(le,ue);ue=ue.sibling}Te=lA(qe,le.mode,Te),Te.return=le,le=Te}return g(le);case Zt:return qe=Ya(pe._debugInfo),pe=qn(pe),le=Br(le,ue,pe,Te),Er=qe,le}if(Ra(pe))return qe=Ya(pe._debugInfo),le=ar(le,ue,pe,Te),Er=qe,le;if(q(pe)){if(qe=Ya(pe._debugInfo),vr=q(pe),typeof vr!="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var cr=vr.call(pe);return cr===pe?(le.tag!==0||Object.prototype.toString.call(le.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(cr)!=="[object Generator]")&&(m6||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),m6=!0):pe.entries!==vr||Pb||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Pb=!0),le=Jr(le,ue,cr,Te),Er=qe,le}if(typeof pe.then=="function")return qe=Ya(pe._debugInfo),le=Br(le,ue,_d(pe),Te),Er=qe,le;if(pe.$$typeof===Y0)return Br(le,ue,kd(le,pe),Te);Sd(le,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(qe=""+pe,ue!==null&&ue.tag===6?(o(le,ue.sibling),Te=f(ue,qe),Te.return=le,le=Te):(o(le,ue),Te=sA(qe,le.mode,Te),Te.return=le,Te._debugOwner=le,Te._debugTask=le._debugTask,Te._debugInfo=Er,le=Te),g(le)):(typeof pe=="function"&&Md(le,pe),typeof pe=="symbol"&&Id(le,pe),o(le,ue))}return function(le,ue,pe,Te){var qe=Er;Er=null;try{nu=0;var vr=Br(le,ue,pe,Te);return il=null,vr}catch(qr){if(qr===nl||qr===Uf)throw qr;var cr=v(29,qr,null,le.mode);cr.lanes=Te,cr.return=le;var sr=cr._debugInfo=Er;if(cr._debugOwner=le._debugOwner,cr._debugTask=le._debugTask,sr!=null){for(var yr=sr.length-1;0<=yr;yr--)if(typeof sr[yr].stack=="string"){cr._debugOwner=sr[yr],cr._debugTask=sr[yr].debugTask;break}}return cr}finally{Er=qe}}}function cv(e,a){var o=Ra(e);return e=!o&&typeof q(e)=="function",o||e?(o=o?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",o,a,o),!1):!0}function NA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xA(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kn(e){return{lane:e,tag:g6,payload:null,callback:null,next:null}}function ei(e,a,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,Gb===c&&!x6){var f=L(e);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,f),x6=!0}return(Or&Ba)!==Ga?(f=c.pending,f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=Nd(e),Fg(e,null,o),a):(vd(e,c,a,o),Nd(e))}function cc(e,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,o|=c,a.lanes=o,er(e,o)}}function Rd(e,a){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var g={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=g:m=m.next=g,o=o.next}while(o!==null);m===null?f=m=a:m=m.next=a}else f=m=a;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=a:e.next=a,o.lastBaseUpdate=a}function uc(){if(Ub){var e=tl;if(e!==null)throw e}}function dc(e,a,o,c){Ub=!1;var f=e.updateQueue;Ni=!1,Gb=f.shared;var m=f.firstBaseUpdate,g=f.lastBaseUpdate,y=f.shared.pending;if(y!==null){f.shared.pending=null;var _=y,B=_.next;_.next=null,g===null?m=B:g.next=B,g=_;var ge=e.alternate;ge!==null&&(ge=ge.updateQueue,y=ge.lastBaseUpdate,y!==g&&(y===null?ge.firstBaseUpdate=B:y.next=B,ge.lastBaseUpdate=_))}if(m!==null){var ve=f.baseState;g=0,ge=B=_=null,y=m;do{var ce=y.lane&-536870913,_e=ce!==y.lane;if(_e?(kr&ce)===ce:(c&ce)===ce){ce!==0&&ce===ko&&(Ub=!0),ge!==null&&(ge=ge.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{ce=e;var Qe=y,ar=a,Jr=o;switch(Qe.tag){case v6:if(Qe=Qe.payload,typeof Qe=="function"){rl=!0;var Br=Qe.call(Jr,ve,ar);if(ce.mode&it){ae(!0);try{Qe.call(Jr,ve,ar)}finally{ae(!1)}}rl=!1,ve=Br;break e}ve=Qe;break e;case Wb:ce.flags=ce.flags&-65537|128;case g6:if(Br=Qe.payload,typeof Br=="function"){if(rl=!0,Qe=Br.call(Jr,ve,ar),ce.mode&it){ae(!0);try{Br.call(Jr,ve,ar)}finally{ae(!1)}}rl=!1}else Qe=Br;if(Qe==null)break e;ve=Cr({},ve,Qe);break e;case N6:Ni=!0}}ce=y.callback,ce!==null&&(e.flags|=64,_e&&(e.flags|=8192),_e=f.callbacks,_e===null?f.callbacks=[ce]:_e.push(ce))}else _e={lane:ce,tag:y.tag,payload:y.payload,callback:y.callback,next:null},ge===null?(B=ge=_e,_=ve):ge=ge.next=_e,g|=ce;if(y=y.next,y===null){if(y=f.shared.pending,y===null)break;_e=y,y=_e.next,_e.next=null,f.lastBaseUpdate=_e,f.shared.pending=null}}while(!0);ge===null&&(_=ve),f.baseState=_,f.firstBaseUpdate=B,f.lastBaseUpdate=ge,m===null&&(f.shared.lanes=0),wi|=g,e.lanes=g,e.memoizedState=ve}Gb=null}function uv(e,a){if(typeof e!="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(a)}function P7(e,a){var o=e.shared.hiddenCallbacks;if(o!==null)for(e.shared.hiddenCallbacks=null,e=0;e<o.length;e++)uv(o[e],a)}function dv(e,a){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)uv(o[e],a)}function fv(e,a){var o=an;O(zf,o,e),O(ol,a,e),an=o|a.baseLanes}function yA(e){O(zf,an,e),O(ol,ol.current,e)}function wA(e){an=zf.current,j(ol,e),j(zf,e)}function ri(e){var a=e.alternate;O(ha,ha.current&sl,e),O(Wt,e,e),t0===null&&(a===null||ol.current!==null||a.memoizedState!==null)&&(t0=e)}function EA(e){O(ha,ha.current,e),O(Wt,e,e),t0===null&&(t0=e)}function mv(e){e.tag===22?(O(ha,ha.current,e),O(Wt,e,e),t0===null&&(t0=e)):ai(e)}function ai(e){O(ha,ha.current,e),O(Wt,Wt.current,e)}function Tt(e){j(Wt,e),t0===e&&(t0=null),j(ha,e)}function Td(e){for(var a=e;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||F1(o)||Z1(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function jr(){var e=Se;i0===null?i0=[e]:i0.push(e)}function Ue(){var e=Se;if(i0!==null&&(jn++,i0[jn]!==e)){var a=L(gr);if(!y6.has(a)&&(y6.add(a),i0!==null)){for(var o="",c=0;c<=jn;c++){var f=i0[c],m=c===jn?e:f;for(f=c+1+". "+f;30>f.length;)f+=" ";f+=m+`
`,o+=f}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,a,o)}}}function ks(e){e==null||Ra(e)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Se,typeof e)}function Bd(){var e=L(gr);E6.has(e)||(E6.add(e),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",e))}function ma(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function kA(e,a){if(su)return!1;if(a===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Se),!1;e.length!==a.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Se,"["+a.join(", ")+"]","["+e.join(", ")+"]");for(var o=0;o<a.length&&o<e.length;o++)if(!ft(e[o],a[o]))return!1;return!0}function DA(e,a,o,c,f,m){Dn=m,gr=a,i0=e!==null?e._debugHookTypes:null,jn=-1,su=e!==null&&e.type!==a.type,(Object.prototype.toString.call(o)==="[object AsyncFunction]"||Object.prototype.toString.call(o)==="[object AsyncGeneratorFunction]")&&(m=L(gr),Xb.has(m)||(Xb.add(m),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",m===null?"An unknown Component":"<"+m+">"))),a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ie.H=e!==null&&e.memoizedState!==null?Lb:i0!==null?k6:zb,_o=m=(a.mode&it)!==pr;var g=Fb(o,c,f);if(_o=!1,cl&&(g=VA(a,o,c,f)),m){ae(!0);try{g=VA(a,o,c,f)}finally{ae(!1)}}return Av(e,a),g}function Av(e,a){a._debugHookTypes=i0,a.dependencies===null?Vn!==null&&(a.dependencies={lanes:0,firstContext:null,_debugThenableState:Vn}):a.dependencies._debugThenableState=Vn,Ie.H=lu;var o=Lr!==null&&Lr.next!==null;if(Dn=0,i0=Se=wa=Lr=gr=null,jn=-1,e!==null&&(e.flags&65011712)!==(a.flags&65011712)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),Yf=!1,ou=0,Vn=null,o)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");e===null||Ea||(e=e.dependencies,e!==null&&Ed(e)&&(Ea=!0)),tu?(tu=!1,e=!0):e=!1,e&&(a=L(a)||"Unknown",w6.has(a)||Xb.has(a)||(w6.add(a),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function VA(e,a,o,c){gr=e;var f=0;do{if(cl&&(Vn=null),ou=0,cl=!1,f>=Dj)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(f+=1,su=!1,wa=Lr=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}jn=-1,Ie.H=D6,m=Fb(a,o,c)}while(cl);return m}function W7(){var e=Ie.H,a=e.useState()[0];return a=typeof a.then=="function"?fc(a):a,e=e.useState()[0],(Lr!==null?Lr.memoizedState:null)!==e&&(gr.flags|=1024),a}function jA(){var e=Hf!==0;return Hf=0,e}function CA(e,a,o){a.updateQueue=e.updateQueue,a.flags=(a.mode&b0)!==pr?a.flags&-402655237:a.flags&-2053,e.lanes&=~o}function _A(e){if(Yf){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Yf=!1}Dn=0,i0=wa=Lr=gr=null,jn=-1,Se=null,cl=!1,ou=Hf=0,Vn=null}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wa===null?gr.memoizedState=wa=e:wa=wa.next=e,wa}function Gr(){if(Lr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var a=wa===null?gr.memoizedState:wa.next;if(a!==null)wa=a,Lr=e;else{if(e===null)throw gr.alternate===null?Error("Update hook called on initial render. This is likely a bug in React. Please file an issue."):Error("Rendered more hooks than during the previous render.");Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},wa===null?gr.memoizedState=wa=e:wa=wa.next=e}return wa}function Fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fc(e){var a=ou;return ou+=1,Vn===null&&(Vn=ev()),e=av(Vn,e,a),a=gr,(wa===null?a.memoizedState:wa.next)===null&&(a=a.alternate,Ie.H=a!==null&&a.memoizedState!==null?Lb:zb),e}function ti(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fc(e);if(e.$$typeof===Y0)return aa(e)}throw Error("An unsupported type was passed to use(): "+String(e))}function fo(e){var a=null,o=gr.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=gr.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Fd(),gr.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0||su)for(o=a.data[a.index]=Array(e),c=0;c<e;c++)o[c]=tV;else o.length!==e&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",o.length,e);return a.index++,o}function f0(e,a){return typeof a=="function"?a(e):a}function SA(e,a,o){var c=lt();if(o!==void 0){var f=o(a);if(_o){ae(!0);try{o(a)}finally{ae(!1)}}}else f=a;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=L7.bind(null,gr,e),[c.memoizedState,e]}function Ds(e){var a=Gr();return MA(a,Lr,e)}function MA(e,a,o){var c=e.queue;if(c===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");c.lastRenderedReducer=o;var f=e.baseQueue,m=c.pending;if(m!==null){if(f!==null){var g=f.next;f.next=m.next,m.next=g}a.baseQueue!==f&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),a.baseQueue=f=m,c.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{a=f.next;var y=g=null,_=null,B=a,ge=!1;do{var ve=B.lane&-536870913;if(ve!==B.lane?(kr&ve)===ve:(Dn&ve)===ve){var ce=B.revertLane;if(ce===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ve===ko&&(ge=!0);else if((Dn&ce)===ce){B=B.next,ce===ko&&(ge=!0);continue}else ve={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},_===null?(y=_=ve,g=m):_=_.next=ve,gr.lanes|=ce,wi|=ce;ve=B.action,_o&&o(m,ve),m=B.hasEagerState?B.eagerState:o(m,ve)}else ce={lane:ve,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},_===null?(y=_=ce,g=m):_=_.next=ce,gr.lanes|=ve,wi|=ve;B=B.next}while(B!==null&&B!==a);if(_===null?g=m:_.next=y,!ft(m,e.memoizedState)&&(Ea=!0,ge&&(o=tl,o!==null)))throw o;e.memoizedState=m,e.baseState=g,e.baseQueue=_,c.lastRenderedState=m}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function mc(e){var a=Gr(),o=a.queue;if(o===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");o.lastRenderedReducer=e;var c=o.dispatch,f=o.pending,m=a.memoizedState;if(f!==null){o.pending=null;var g=f=f.next;do m=e(m,g.action),g=g.next;while(g!==f);ft(m,a.memoizedState)||(Ea=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),o.lastRenderedState=m}return[m,c]}function IA(e,a,o){var c=gr,f=lt();if(Mr){if(o===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var m=o();ll||m===o()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),ll=!0)}else{if(m=a(),ll||(o=a(),ft(m,o)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),ll=!0)),Yr===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");kr&127||bv(c,a,m)}return f.memoizedState=m,o={value:m,getSnapshot:a},f.queue=o,Wd(hv.bind(null,c,o,e),[e]),c.flags|=2048,js(n0|bt,{destroy:void 0},pv.bind(null,c,o,m,a),null),m}function Zd(e,a,o){var c=gr,f=Gr(),m=Mr;if(m){if(o===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");o=o()}else if(o=a(),!ll){var g=a();ft(o,g)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),ll=!0)}(g=!ft((Lr||f).memoizedState,o))&&(f.memoizedState=o,Ea=!0),f=f.queue;var y=hv.bind(null,c,f,e);if(yt(2048,bt,y,[e]),f.getSnapshot!==a||g||wa!==null&&wa.memoizedState.tag&n0){if(c.flags|=2048,js(n0|bt,{destroy:void 0},pv.bind(null,c,f,o,a),null),Yr===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");m||Dn&127||bv(c,a,o)}return o}function bv(e,a,o){e.flags|=16384,e={getSnapshot:a,value:o},a=gr.updateQueue,a===null?(a=Fd(),gr.updateQueue=a,a.stores=[e]):(o=a.stores,o===null?a.stores=[e]:o.push(e))}function pv(e,a,o,c){a.value=o,a.getSnapshot=c,gv(a)&&vv(e)}function hv(e,a,o){return o(function(){gv(a)&&(I0(2,"updateSyncExternalStore()",e),vv(e))})}function gv(e){var a=e.getSnapshot;e=e.value;try{var o=a();return!ft(e,o)}catch{return!0}}function vv(e){var a=tt(e,2);a!==null&&da(a,e,2)}function RA(e){var a=lt();if(typeof e=="function"){var o=e;if(e=o(),_o){ae(!0);try{o()}finally{ae(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:e},a}function TA(e){e=RA(e);var a=e.queue,o=Zv.bind(null,gr,a);return a.dispatch=o,[e.memoizedState,o]}function BA(e){var a=lt();a.memoizedState=a.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=QA.bind(null,gr,!0,o),o.dispatch=a,[e,a]}function Nv(e,a){var o=Gr();return xv(o,Lr,e,a)}function xv(e,a,o,c){return e.baseState=o,MA(e,Lr,typeof c=="function"?c:f0)}function yv(e,a){var o=Gr();return Lr!==null?xv(o,Lr,e,a):(o.baseState=e,[e,o.queue.dispatch])}function G7(e,a,o,c,f){if(Yd(e))throw Error("Cannot update form state while rendering.");if(e=a.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){m.listeners.push(g)}};Ie.T!==null?o(!0):m.isTransition=!1,c(m),o=a.pending,o===null?(m.next=a.pending=m,wv(a,m)):(m.next=o.next,a.pending=o.next=m)}}function wv(e,a){var o=a.action,c=a.payload,f=e.state;if(a.isTransition){var m=Ie.T,g={};g._updatedFibers=new Set,Ie.T=g;try{var y=o(f,c),_=Ie.S;_!==null&&_(g,y),Ev(e,a,y)}catch(B){FA(e,a,B)}finally{m!==null&&g.types!==null&&(m.types!==null&&m.types!==g.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),m.types=g.types),Ie.T=m,m===null&&g._updatedFibers&&(e=g._updatedFibers.size,g._updatedFibers.clear(),10<e&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{g=o(f,c),Ev(e,a,g)}catch(B){FA(e,a,B)}}function Ev(e,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ie.asyncTransitions++,o.then(Ld,Ld),o.then(function(c){kv(e,a,c)},function(c){return FA(e,a,c)}),a.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):kv(e,a,o)}function kv(e,a,o){a.status="fulfilled",a.value=o,Dv(a),e.state=o,a=e.pending,a!==null&&(o=a.next,o===a?e.pending=null:(o=o.next,a.next=o,wv(e,o)))}function FA(e,a,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,Dv(a),a=a.next;while(a!==c)}e.action=null}function Dv(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Vv(e,a){return a}function Vs(e,a){if(Mr){var o=Yr.formState;if(o!==null){e:{var c=gr;if(Mr){if($r){r:{for(var f=$r,m=r0;f.nodeType!==8;){if(!m){f=null;break r}if(f=Ft(f.nextSibling),f===null){f=null;break r}}m=f.data,f=m===bp||m===d5?f:null}if(f){$r=Ft(f.nextSibling),c=f.data===bp;break e}}Qn(c)}c=!1}c&&(a=o[0])}}return o=lt(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vv,lastRenderedState:a},o.queue=c,o=Zv.bind(null,gr,c),c.dispatch=o,c=RA(!1),m=QA.bind(null,gr,!1,c.queue),c=lt(),f={state:a,dispatch:null,action:e,pending:null},c.queue=f,o=G7.bind(null,gr,f,m,o),f.dispatch=o,c.memoizedState=e,[a,o,!1]}function Od(e){var a=Gr();return jv(a,Lr,e)}function jv(e,a,o){if(a=MA(e,a,Vv)[0],e=Ds(f0)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=fc(a)}catch(g){throw g===nl?Uf:g}else c=a;a=Gr();var f=a.queue,m=f.dispatch;return o!==a.memoizedState&&(gr.flags|=2048,js(n0|bt,{destroy:void 0},U7.bind(null,f,o),null)),[c,m,e]}function U7(e,a){e.action=a}function Pd(e){var a=Gr(),o=Lr;if(o!==null)return jv(a,o,e);Gr(),a=a.memoizedState,o=Gr();var c=o.queue.dispatch;return o.memoizedState=e,[a,c,!1]}function js(e,a,o,c){return e={tag:e,create:o,deps:c,inst:a,next:null},a=gr.updateQueue,a===null&&(a=Fd(),gr.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,a.lastEffect=e),e}function ZA(e){var a=lt();return e={current:e},a.memoizedState=e}function mo(e,a,o,c){var f=lt();gr.flags|=e,f.memoizedState=js(n0|a,{destroy:void 0},o,c===void 0?null:c)}function yt(e,a,o,c){var f=Gr();c=c===void 0?null:c;var m=f.memoizedState.inst;Lr!==null&&c!==null&&kA(c,Lr.memoizedState.deps)?f.memoizedState=js(a,m,o,c):(gr.flags|=e,f.memoizedState=js(n0|a,m,o,c))}function Wd(e,a){(gr.mode&b0)!==pr?mo(276826112,bt,e,a):mo(8390656,bt,e,a)}function X7(e){gr.flags|=4;var a=gr.updateQueue;if(a===null)a=Fd(),gr.updateQueue=a,a.events=[e];else{var o=a.events;o===null?a.events=[e]:o.push(e)}}function OA(e){var a=lt(),o={impl:e};return a.memoizedState=o,function(){if((Or&Ba)!==Ga)throw Error("A function wrapped in useEffectEvent can't be called during rendering.");return o.impl.apply(void 0,arguments)}}function Gd(e){var a=Gr().memoizedState;return X7({ref:a,nextImpl:e}),function(){if((Or&Ba)!==Ga)throw Error("A function wrapped in useEffectEvent can't be called during rendering.");return a.impl.apply(void 0,arguments)}}function PA(e,a){var o=4194308;return(gr.mode&b0)!==pr&&(o|=134217728),mo(o,Gt,e,a)}function Cv(e,a){if(typeof a=="function"){e=e();var o=a(e);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return a.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(a).join(", ")+"}"),e=e(),a.current=e,function(){a.current=null}}function WA(e,a,o){typeof a!="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null"),o=o!=null?o.concat([e]):null;var c=4194308;(gr.mode&b0)!==pr&&(c|=134217728),mo(c,Gt,Cv.bind(null,a,e),o)}function Ud(e,a,o){typeof a!="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null"),o=o!=null?o.concat([e]):null,yt(4,Gt,Cv.bind(null,a,e),o)}function GA(e,a){return lt().memoizedState=[e,a===void 0?null:a],e}function Xd(e,a){var o=Gr();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&kA(a,c[1])?c[0]:(o.memoizedState=[e,a],e)}function UA(e,a){var o=lt();a=a===void 0?null:a;var c=e();if(_o){ae(!0);try{e()}finally{ae(!1)}}return o.memoizedState=[c,a],c}function zd(e,a){var o=Gr();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&kA(a,c[1]))return c[0];if(c=e(),_o){ae(!0);try{e()}finally{ae(!1)}}return o.memoizedState=[c,a],c}function XA(e,a){var o=lt();return zA(o,e,a)}function _v(e,a){var o=Gr();return Mv(o,Lr.memoizedState,e,a)}function Sv(e,a){var o=Gr();return Lr===null?zA(o,e,a):Mv(o,Lr.memoizedState,e,a)}function zA(e,a,o){return o===void 0||Dn&1073741824&&!(kr&261930)?e.memoizedState=a:(e.memoizedState=o,e=IN(),gr.lanes|=e,wi|=e,o)}function Mv(e,a,o,c){return ft(o,a)?o:ol.current!==null?(e=zA(e,o,c),ft(e,a)||(Ea=!0),e):!(Dn&42)||Dn&1073741824&&!(kr&261930)?(Ea=!0,e.memoizedState=o):(e=IN(),gr.lanes|=e,wi|=e,a)}function Ld(){Ie.asyncTransitions--}function Iv(e,a,o,c,f){var m=Wr.p;Wr.p=m!==0&&m<$0?m:$0;var g=Ie.T,y={};y._updatedFibers=new Set,Ie.T=y,QA(e,!1,a,o);try{var _=f(),B=Ie.S;if(B!==null&&B(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){Ie.asyncTransitions++,_.then(Ld,Ld);var ge=O7(_,c);Ac(e,a,ge,Bt(e))}else Ac(e,a,c,Bt(e))}catch(ve){Ac(e,a,{then:function(){},status:"rejected",reason:ve},Bt(e))}finally{Wr.p=m,g!==null&&y.types!==null&&(g.types!==null&&g.types!==y.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),g.types=y.types),Ie.T=g,g===null&&y._updatedFibers&&(e=y._updatedFibers.size,y._updatedFibers.clear(),10<e&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function LA(e,a,o,c){if(e.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var f=Rv(e).queue;F7(e),Iv(e,f,a,Wo,o===null?p:function(){return Tv(e),o(c)})}function Rv(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:Wo,baseState:Wo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:Wo},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:o},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Tv(e){Ie.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var a=Rv(e);a.next===null&&(a=e.alternate.memoizedState),Ac(e,a.next.queue,{},Bt(e))}function YA(){var e=RA(!1);return e=Iv.bind(null,gr,e.queue,!0,!1),lt().memoizedState=e,[!1,e]}function Bv(){var e=Ds(f0)[0],a=Gr().memoizedState;return[typeof e=="boolean"?e:fc(e),a]}function Fv(){var e=mc(f0)[0],a=Gr().memoizedState;return[typeof e=="boolean"?e:fc(e),a]}function Ao(){return aa(wu)}function HA(){var e=lt(),a=Yr.identifierPrefix;if(Mr){var o=xn,c=Nn;o=(c&~(1<<32-ct(c)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Hf++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=kj++,a="_"+a+"r_"+o.toString(32)+"_";return e.memoizedState=a}function JA(){return lt().memoizedState=z7.bind(null,gr)}function z7(e,a){for(var o=e.return;o!==null;){switch(o.tag){case 24:case 3:var c=Bt(o),f=Kn(c),m=ei(o,f,c);m!==null&&(I0(c,"refresh()",e),da(m,o,c),cc(m,o,c)),e=bA(),a!=null&&m!==null&&console.error("The seed argument is not enabled outside experimental channels."),f.payload={cache:e};return}o=o.return}}function L7(e,a,o){var c=arguments;typeof c[3]=="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),c=Bt(e);var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};Yd(e)?Ov(a,f):(f=tA(e,a,f,c),f!==null&&(I0(c,"dispatch()",e),da(f,e,c),Pv(f,a,c)))}function Zv(e,a,o){var c=arguments;typeof c[3]=="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),c=Bt(e),Ac(e,a,o,c)&&I0(c,"setState()",e)}function Ac(e,a,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yd(e))Ov(a,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null)){var g=Ie.H;Ie.H=h0;try{var y=a.lastRenderedState,_=m(y,o);if(f.hasEagerState=!0,f.eagerState=_,ft(_,y))return vd(e,a,f,0),Yr===null&&gd(),!1}catch{}finally{Ie.H=g}}if(o=tA(e,a,f,c),o!==null)return da(o,e,c),Pv(o,a,c),!0}return!1}function QA(e,a,o,c){if(Ie.T===null&&ko===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),c={lane:2,revertLane:D1(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yd(e)){if(a)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else a=tA(e,o,c,2),a!==null&&(I0(2,"setOptimistic()",e),da(a,e,2))}function Yd(e){var a=e.alternate;return e===gr||a!==null&&a===gr}function Ov(e,a){cl=Yf=!0;var o=e.pending;o===null?a.next=a:(a.next=o.next,o.next=a),e.pending=a}function Pv(e,a,o){if(o&4194048){var c=a.lanes;c&=e.pendingLanes,o|=c,a.lanes=o,er(e,o)}}function $A(e){if(e!==null&&typeof e!="function"){var a=String(e);F6.has(a)||(F6.add(a),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",e))}}function qA(e,a,o,c){var f=e.memoizedState,m=o(c,f);if(e.mode&it){ae(!0);try{m=o(c,f)}finally{ae(!1)}}m===void 0&&(a=$(a)||"Component",I6.has(a)||(I6.add(a),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",a))),f=m==null?f:Cr({},f,m),e.memoizedState=f,e.lanes===0&&(e.updateQueue.baseState=f)}function Wv(e,a,o,c,f,m,g){var y=e.stateNode;if(typeof y.shouldComponentUpdate=="function"){if(o=y.shouldComponentUpdate(c,m,g),e.mode&it){ae(!0);try{o=y.shouldComponentUpdate(c,m,g)}finally{ae(!1)}}return o===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",$(a)||"Component"),o}return a.prototype&&a.prototype.isPureReactComponent?!tc(o,c)||!tc(f,m):!0}function Gv(e,a,o,c){var f=a.state;typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==f&&(e=L(e)||"Component",j6.has(e)||(j6.add(e),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",e)),Yb.enqueueReplaceState(a,a.state,null))}function bo(e,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(e=e.defaultProps){o===a&&(o=Cr({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function Uv(e){Eb(e),console.warn(`%s

%s
`,ul?"An error occurred in the <"+ul+"> component.":"An error occurred in one of your React components.",`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}function Xv(e){var a=ul?"The above error occurred in the <"+ul+"> component.":"The above error occurred in one of your React components.",o="React will try to recreate this component tree from scratch using the error boundary you provided, "+((Hb||"Anonymous")+".");if(typeof e=="object"&&e!==null&&typeof e.environmentName=="string"){var c=e.environmentName;e=[`%o

%s

%s
`,e,a,o].slice(0),typeof e[0]=="string"?e.splice(0,1,v5+" "+e[0],N5,v2+c+v2,x5):e.splice(0,0,v5,N5,v2+c+v2,x5),e.unshift(console),c=Lj.apply(console.error,e),c()}else console.error(`%o

%s

%s
`,e,a,o)}function zv(e){Eb(e)}function Hd(e,a){try{ul=a.source?L(a.source):null,Hb=null;var o=a.value;if(Ie.actQueue!==null)Ie.thrownErrors.push(o);else{var c=e.onUncaughtError;c(o,{componentStack:a.stack})}}catch(f){setTimeout(function(){throw f})}}function Lv(e,a,o){try{ul=o.source?L(o.source):null,Hb=L(a);var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function KA(e,a,o){return o=Kn(o),o.tag=Wb,o.payload={element:null},o.callback=function(){W(a.source,Hd,e,a)},o}function e1(e){return e=Kn(e),e.tag=Wb,e}function r1(e,a,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;e.payload=function(){return f(m)},e.callback=function(){Og(o),W(c.source,Lv,a,o,c)}}var g=o.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Og(o),W(c.source,Lv,a,o,c),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this)),xj(this,c),typeof f=="function"||!(o.lanes&2)&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",L(o)||"Unknown")})}function Y7(e,a,o,c,f){if(o.flags|=32768,Q0&&yc(e,f),c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Es(a,o,f,!0),Mr&&(K0=!0),o=Wt.current,o!==null){switch(o.tag){case 31:case 13:return t0===null?tf():o.alternate===null&&sa===_n&&(sa=$f),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Xf?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),y1(e,c,f)),!1;case 22:return o.flags|=65536,c===Xf?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),y1(e,c,f)),!1}throw Error("Unexpected Suspense handler tag ("+o.tag+"). This is a bug in React.")}return y1(e,c,f),tf(),!1}if(Mr)return K0=!0,a=Wt.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==_b&&nc(Mt(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:c}),o))):(c!==_b&&nc(Mt(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:c}),o)),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=Mt(c,o),f=KA(e.stateNode,c,f),Rd(e,f),sa!==xi&&(sa=So)),!1;var m=Mt(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:c}),o);if(Au===null?Au=[m]:Au.push(m),sa!==xi&&(sa=So),a===null)return!0;c=Mt(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=KA(o.stateNode,c,e),Rd(o,e),!1;case 1:if(a=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ki===null||!ki.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=e1(f),r1(f,e,o,c),Rd(o,f),!1}o=o.return}while(o!==null);return!1}function Ha(e,a,o,c){a.child=e===null?h6(a,null,o,c):Co(a,e.child,o,c)}function Yv(e,a,o,c,f){o=o.render;var m=a.ref;if("ref"in c){var g={};for(var y in c)y!=="ref"&&(g[y]=c[y])}else g=c;return co(a),c=DA(e,a,o,g,m,f),y=jA(),e!==null&&!Ea?(CA(e,a,f),mn(e,a,f)):(Mr&&y&&cA(a),a.flags|=1,Ha(e,a,c,f),a.child)}function Hv(e,a,o,c,f){if(e===null){var m=o.type;return typeof m=="function"&&!iA(m)&&m.defaultProps===void 0&&o.compare===null?(o=io(m),a.tag=15,a.type=o,t1(a,m),Jv(e,a,o,c,f)):(e=oA(o.type,null,c,a,a.mode,f),e.ref=a.ref,e.return=a,a.child=e)}if(m=e.child,!c1(e,f)){var g=m.memoizedProps;if(o=o.compare,o=o!==null?o:tc,o(g,c)&&e.ref===a.ref)return mn(e,a,f)}return a.flags|=1,e=cn(m,c),e.ref=a.ref,e.return=a,a.child=e}function Jv(e,a,o,c,f){if(e!==null){var m=e.memoizedProps;if(tc(m,c)&&e.ref===a.ref&&a.type===e.type)if(Ea=!1,a.pendingProps=c=m,c1(e,f))e.flags&131072&&(Ea=!0);else return a.lanes=e.lanes,mn(e,a,f)}return a1(e,a,o,c,f)}function Qv(e,a,o,c){var f=c.children,m=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:Uc,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if(a.flags&128){if(m=m!==null?m.baseLanes|o:o,e!==null){for(c=a.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,a.child=null;return $v(e,a,m,o,c)}if(o&536870912)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&jd(a,m!==null?m.cachePool:null),m!==null?fv(a,m):yA(a),mv(a);else return c=a.lanes=536870912,$v(e,a,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(jd(a,m.cachePool),fv(a,m),ai(a),a.memoizedState=null):(e!==null&&jd(a,null),yA(a),ai(a));return Ha(e,a,f,o),a.child}function bc(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:Uc,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function $v(e,a,o,c,f){var m=gA();return m=m===null?null:{parent:xa._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},e!==null&&jd(a,null),yA(a),mv(a),e!==null&&Es(e,a,c,!0),a.childLanes=f,null}function Jd(e,a){var o=a.hidden;return o!==void 0&&console.error(`<Activity> doesn't accept a hidden prop. Use mode="hidden" instead.
- <Activity %s>
+ <Activity %s>`,o===!0?"hidden":o===!1?"hidden={false}":"hidden={...}",o?'mode="hidden"':'mode="visible"'),a=$d({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function qv(e,a,o){return Co(a,e.child,null,o),e=Jd(a,a.pendingProps),e.flags|=2,Tt(a),a.memoizedState=null,e}function H7(e,a,o){var c=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Mr){if(c.mode==="hidden")return e=Jd(a,c),a.lanes=536870912,bc(null,e);if(EA(a),(e=$r)?(o=wx(e,r0),o=o!==null&&o.data===Fo?o:null,o!==null&&(c={dehydrated:o,treeContext:Xg(),retryLane:536870912,hydrationErrors:null},a.memoizedState=c,c=Gg(o),c.return=a,a.child=c,$a=a,$r=null)):o=null,o===null)throw yd(a,e),Qn(a);return a.lanes=536870912,null}return Jd(a,c)}var m=e.memoizedState;if(m!==null){var g=m.dehydrated;if(EA(a),f)if(a.flags&256)a.flags&=-257,a=qv(e,a,o);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error("Client rendering an Activity suspended it again. This is a bug in React.");else if(Lg(),o&536870912&&af(a),Ea||Es(e,a,o,!1),f=(o&e.childLanes)!==0,Ea||f){if(c=Yr,c!==null&&(g=xr(c,o),g!==0&&g!==m.retryLane))throw m.retryLane=g,tt(e,g),da(c,e,g),Jb;tf(),a=qv(e,a,o)}else e=m.treeContext,$r=Ft(g.nextSibling),$a=a,Mr=!0,bi=null,K0=!1,Pt=null,r0=!1,e!==null&&zg(a,e),a=Jd(a,c),a.flags|=4096;return a}return m=e.child,c={mode:c.mode,children:c.children},o&536870912&&o&e.lanes&&af(a),e=cn(m,c),e.ref=a.ref,a.child=e,e.return=a,e}function Qd(e,a){var o=a.ref;if(o===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");(e===null||e.ref!==o)&&(a.flags|=4194816)}}function a1(e,a,o,c,f){if(o.prototype&&typeof o.prototype.render=="function"){var m=$(o)||"Unknown";Z6[m]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",m,m),Z6[m]=!0)}return a.mode&it&&p0.recordLegacyContextWarning(a,null),e===null&&(t1(a,a.type),o.contextTypes&&(m=$(o)||"Unknown",P6[m]||(P6[m]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",m)))),co(a),o=DA(e,a,o,c,void 0,f),c=jA(),e!==null&&!Ea?(CA(e,a,f),mn(e,a,f)):(Mr&&c&&cA(a),a.flags|=1,Ha(e,a,o,f),a.child)}function Kv(e,a,o,c,f,m){return co(a),jn=-1,su=e!==null&&e.type!==a.type,a.updateQueue=null,o=VA(a,c,o,f),Av(e,a),c=jA(),e!==null&&!Ea?(CA(e,a,m),mn(e,a,m)):(Mr&&c&&cA(a),a.flags|=1,Ha(e,a,o,m),a.child)}function eN(e,a,o,c,f){switch(d(a)){case!1:var m=a.stateNode,g=new a.type(a.memoizedProps,m.context).state;m.updater.enqueueSetState(m,g,null);break;case!0:a.flags|=128,a.flags|=65536,m=Error("Simulated error coming from DevTools");var y=f&-f;if(a.lanes|=y,g=Yr,g===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");y=e1(y),r1(y,g,a,Mt(m,a)),Rd(a,y)}if(co(a),a.stateNode===null){if(g=Ai,m=o.contextType,"contextType"in o&&m!==null&&(m===void 0||m.$$typeof!==Y0)&&!B6.has(o)&&(B6.add(o),y=m===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof m!="object"?" However, it is set to a "+typeof m+".":m.$$typeof===Q1?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(m).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",$(o)||"Component",y)),typeof m=="object"&&m!==null&&(g=aa(m)),m=new o(c,g),a.mode&it){ae(!0);try{m=new o(c,g)}finally{ae(!1)}}if(g=a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Yb,a.stateNode=m,m._reactInternals=a,m._reactInternalInstance=V6,typeof o.getDerivedStateFromProps=="function"&&g===null&&(g=$(o)||"Component",C6.has(g)||(C6.add(g),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",g,m.state===null?"null":"undefined",g))),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"){var _=y=g=null;if(typeof m.componentWillMount=="function"&&m.componentWillMount.__suppressDeprecationWarning!==!0?g="componentWillMount":typeof m.UNSAFE_componentWillMount=="function"&&(g="UNSAFE_componentWillMount"),typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps.__suppressDeprecationWarning!==!0?y="componentWillReceiveProps":typeof m.UNSAFE_componentWillReceiveProps=="function"&&(y="UNSAFE_componentWillReceiveProps"),typeof m.componentWillUpdate=="function"&&m.componentWillUpdate.__suppressDeprecationWarning!==!0?_="componentWillUpdate":typeof m.UNSAFE_componentWillUpdate=="function"&&(_="UNSAFE_componentWillUpdate"),g!==null||y!==null||_!==null){m=$(o)||"Component";var B=typeof o.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";S6.has(m)||(S6.add(m),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,m,B,g!==null?`
  `+g:"",y!==null?`
  `+y:"",_!==null?`
  `+_:""))}}m=a.stateNode,g=$(o)||"Component",m.render||(o.prototype&&typeof o.prototype.render=="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",g):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",g)),!m.getInitialState||m.getInitialState.isReactClassApproved||m.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",g),m.getDefaultProps&&!m.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",g),m.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",g),o.childContextTypes&&!T6.has(o)&&(T6.add(o),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",g)),o.contextTypes&&!R6.has(o)&&(R6.add(o),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",g)),typeof m.componentShouldUpdate=="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",g),o.prototype&&o.prototype.isPureReactComponent&&typeof m.shouldComponentUpdate<"u"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",$(o)||"A pure component"),typeof m.componentDidUnmount=="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",g),typeof m.componentDidReceiveProps=="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",g),typeof m.componentWillRecieveProps=="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",g),typeof m.UNSAFE_componentWillRecieveProps=="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",g),y=m.props!==c,m.props!==void 0&&y&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",g),m.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",g,g),typeof m.getSnapshotBeforeUpdate!="function"||typeof m.componentDidUpdate=="function"||_6.has(o)||(_6.add(o),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",$(o))),typeof m.getDerivedStateFromProps=="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",g),typeof m.getDerivedStateFromError=="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",g),typeof o.getSnapshotBeforeUpdate=="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",g),(y=m.state)&&(typeof y!="object"||Ra(y))&&console.error("%s.state: must be set to an object or null",g),typeof m.getChildContext=="function"&&typeof o.childContextTypes!="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",g),m=a.stateNode,m.props=c,m.state=a.memoizedState,m.refs={},NA(a),g=o.contextType,m.context=typeof g=="object"&&g!==null?aa(g):Ai,m.state===c&&(g=$(o)||"Component",M6.has(g)||(M6.add(g),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",g))),a.mode&it&&p0.recordLegacyContextWarning(a,m),p0.recordUnsafeLifecycleWarnings(a,m),m.state=a.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(qA(a,o,g,c),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(g=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),g!==m.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",L(a)||"Component"),Yb.enqueueReplaceState(m,m.state,null)),dc(a,c,m,f),uc(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&b0)!==pr&&(a.flags|=134217728),m=!0}else if(e===null){m=a.stateNode;var ge=a.memoizedProps;y=bo(o,ge),m.props=y;var ve=m.context;_=o.contextType,g=Ai,typeof _=="object"&&_!==null&&(g=aa(_)),B=o.getDerivedStateFromProps,_=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",ge=a.pendingProps!==ge,_||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(ge||ve!==g)&&Gv(a,m,c,g),Ni=!1;var ce=a.memoizedState;m.state=ce,dc(a,c,m,f),uc(),ve=a.memoizedState,ge||ce!==ve||Ni?(typeof B=="function"&&(qA(a,o,B,c),ve=a.memoizedState),(y=Ni||Wv(a,o,y,c,ce,ve,g))?(_||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&b0)!==pr&&(a.flags|=134217728)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&b0)!==pr&&(a.flags|=134217728),a.memoizedProps=c,a.memoizedState=ve),m.props=c,m.state=ve,m.context=g,m=y):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),(a.mode&b0)!==pr&&(a.flags|=134217728),m=!1)}else{m=a.stateNode,xA(e,a),g=a.memoizedProps,_=bo(o,g),m.props=_,B=a.pendingProps,ce=m.context,ve=o.contextType,y=Ai,typeof ve=="object"&&ve!==null&&(y=aa(ve)),ge=o.getDerivedStateFromProps,(ve=typeof ge=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(g!==B||ce!==y)&&Gv(a,m,c,y),Ni=!1,ce=a.memoizedState,m.state=ce,dc(a,c,m,f),uc();var _e=a.memoizedState;g!==B||ce!==_e||Ni||e!==null&&e.dependencies!==null&&Ed(e.dependencies)?(typeof ge=="function"&&(qA(a,o,ge,c),_e=a.memoizedState),(_=Ni||Wv(a,o,_,c,ce,_e,y)||e!==null&&e.dependencies!==null&&Ed(e.dependencies))?(ve||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,_e,y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,_e,y)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||g===e.memoizedProps&&ce===e.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&ce===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=_e),m.props=c,m.state=_e,m.context=y,m=_):(typeof m.componentDidUpdate!="function"||g===e.memoizedProps&&ce===e.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&ce===e.memoizedState||(a.flags|=1024),m=!1)}if(y=m,Qd(e,a),g=(a.flags&128)!==0,y||g){if(y=a.stateNode,he(a),g&&typeof o.getDerivedStateFromError!="function")o=null,mt=-1;else if(o=t6(y),a.mode&it){ae(!0);try{t6(y)}finally{ae(!1)}}a.flags|=1,e!==null&&g?(a.child=Co(a,e.child,null,f),a.child=Co(a,null,o,f)):Ha(e,a,o,f),a.memoizedState=y.state,e=a.child}else e=mn(e,a,f);return f=a.stateNode,m&&f.props!==c&&(dl||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",L(a)||"a component"),dl=!0),e}function rN(e,a,o,c){return lo(),a.flags|=256,Ha(e,a,o,c),a.child}function t1(e,a){a&&a.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,a.displayName||a.name||"Component"),typeof a.getDerivedStateFromProps=="function"&&(e=$(a)||"Unknown",W6[e]||(console.error("%s: Function components do not support getDerivedStateFromProps.",e),W6[e]=!0)),typeof a.contextType=="object"&&a.contextType!==null&&(a=$(a)||"Unknown",O6[a]||(console.error("%s: Function components do not support contextType.",a),O6[a]=!0))}function n1(e){return{baseLanes:e,cachePool:Kg()}}function i1(e,a,o){return e=e!==null?e.childLanes&~o:0,a&&(e|=Vt),e}function aN(e,a,o){var c,f=a.pendingProps;u(a)&&(a.flags|=128);var m=!1,g=(a.flags&128)!==0;if((c=g)||(c=e!==null&&e.memoizedState===null?!1:(ha.current&iu)!==0),c&&(m=!0,a.flags&=-129),c=(a.flags&32)!==0,a.flags&=-33,e===null){if(Mr){if(m?ri(a):ai(a),(e=$r)?(o=wx(e,r0),o=o!==null&&o.data!==Fo?o:null,o!==null&&(c={dehydrated:o,treeContext:Xg(),retryLane:536870912,hydrationErrors:null},a.memoizedState=c,c=Gg(o),c.return=a,a.child=c,$a=a,$r=null)):o=null,o===null)throw yd(a,e),Qn(a);return Z1(o)?a.lanes=32:a.lanes=536870912,null}var y=f.children;if(f=f.fallback,m){ai(a);var _=a.mode;return y=$d({mode:"hidden",children:y},_),f=oo(f,_,o,null),y.return=a,f.return=a,y.sibling=f,a.child=y,f=a.child,f.memoizedState=n1(o),f.childLanes=i1(e,c,o),a.memoizedState=Qb,bc(null,f)}return ri(a),o1(a,y)}var B=e.memoizedState;if(B!==null){var ge=B.dehydrated;if(ge!==null){if(g)a.flags&256?(ri(a),a.flags&=-257,a=s1(e,a,o)):a.memoizedState!==null?(ai(a),a.child=e.child,a.flags|=128,a=null):(ai(a),y=f.fallback,_=a.mode,f=$d({mode:"visible",children:f.children},_),y=oo(y,_,o,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,Co(a,e.child,null,o),f=a.child,f.memoizedState=n1(o),f.childLanes=i1(e,c,o),a.memoizedState=Qb,a=bc(null,f));else if(ri(a),Lg(),o&536870912&&af(a),Z1(ge)){if(c=ge.nextSibling&&ge.nextSibling.dataset,c){y=c.dgst;var ve=c.msg;_=c.stck;var ce=c.cstck}m=ve,c=y,f=_,ge=ce,y=m,_=ge,y=Error(y||"The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),y.stack=f||"",y.digest=c,c=_===void 0?null:_,f={value:y,source:null,stack:c},typeof c=="string"&&Cb.set(y,f),nc(f),a=s1(e,a,o)}else if(Ea||Es(e,a,o,!1),c=(o&e.childLanes)!==0,Ea||c){if(c=Yr,c!==null&&(f=xr(c,o),f!==0&&f!==B.retryLane))throw B.retryLane=f,tt(e,f),da(c,e,f),Jb;F1(ge)||tf(),a=s1(e,a,o)}else F1(ge)?(a.flags|=192,a.child=e.child,a=null):(e=B.treeContext,$r=Ft(ge.nextSibling),$a=a,Mr=!0,bi=null,K0=!1,Pt=null,r0=!1,e!==null&&zg(a,e),a=o1(a,f.children),a.flags|=4096);return a}}return m?(ai(a),y=f.fallback,_=a.mode,ce=e.child,ge=ce.sibling,f=cn(ce,{mode:"hidden",children:f.children}),f.subtreeFlags=ce.subtreeFlags&65011712,ge!==null?y=cn(ge,y):(y=oo(y,_,o,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,bc(null,f),f=a.child,y=e.child.memoizedState,y===null?y=n1(o):(_=y.cachePool,_!==null?(ce=xa._currentValue,_=_.parent!==ce?{parent:ce,pool:ce}:_):_=Kg(),y={baseLanes:y.baseLanes|o,cachePool:_}),f.memoizedState=y,f.childLanes=i1(e,c,o),a.memoizedState=Qb,bc(e.child,f)):(B!==null&&(o&62914560)===o&&o&e.lanes&&af(a),ri(a),o=e.child,e=o.sibling,o=cn(o,{mode:"visible",children:f.children}),o.return=a,o.sibling=null,e!==null&&(c=a.deletions,c===null?(a.deletions=[e],a.flags|=16):c.push(e)),a.child=o,a.memoizedState=null,o)}function o1(e,a){return a=$d({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function $d(e,a){return e=v(22,e,null,a),e.lanes=0,e}function s1(e,a,o){return Co(a,e.child,null,o),e=o1(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function tN(e,a,o){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),mA(e.return,a,o)}function l1(e,a,o,c,f,m){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:m}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=f,g.treeForkCount=m)}function nN(e,a,o){var c=a.pendingProps,f=c.revealOrder,m=c.tail,g=c.children,y=ha.current;if((c=(y&iu)!==0)?(y=y&sl|iu,a.flags|=128):y&=sl,O(ha,y,a),y=f??"null",f!=="forwards"&&f!=="unstable_legacy-backwards"&&f!=="together"&&f!=="independent"&&!G6[y])if(G6[y]=!0,f==null)console.error('The default for the <SuspenseList revealOrder="..."> prop is changing. To be future compatible you must explictly specify either "independent" (the current default), "together", "forwards" or "legacy_unstable-backwards".');else if(f==="backwards")console.error('The rendering order of <SuspenseList revealOrder="backwards"> is changing. To be future compatible you must specify revealOrder="legacy_unstable-backwards" instead.');else if(typeof f=="string")switch(f.toLowerCase()){case"together":case"forwards":case"backwards":case"independent":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',f,f.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',f,f.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "independent", "together", "forwards" or "backwards"?',f)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "independent", "together", "forwards" or "backwards"?',f);y=m??"null",Qf[y]||(m==null?(f==="forwards"||f==="backwards"||f==="unstable_legacy-backwards")&&(Qf[y]=!0,console.error('The default for the <SuspenseList tail="..."> prop is changing. To be future compatible you must explictly specify either "visible" (the current default), "collapsed" or "hidden".')):m!=="visible"&&m!=="collapsed"&&m!=="hidden"?(Qf[y]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "visible", "collapsed" or "hidden"?',m)):f!=="forwards"&&f!=="backwards"&&f!=="unstable_legacy-backwards"&&(Qf[y]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',m)));e:if((f==="forwards"||f==="backwards"||f==="unstable_legacy-backwards")&&g!==void 0&&g!==null&&g!==!1)if(Ra(g)){for(y=0;y<g.length;y++)if(!cv(g[y],y))break e}else if(y=q(g),typeof y=="function"){if(y=y.call(g))for(var _=y.next(),B=0;!_.done;_=y.next()){if(!cv(_.value,B))break e;B++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',f);if(Ha(e,a,g,o),Mr?(Jn(),g=Xc):g=0,!c&&e!==null&&e.flags&128)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tN(e,o,a);else if(e.tag===19)tN(e,o,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=a.child,f=null;o!==null;)e=o.alternate,e!==null&&Td(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),l1(a,!1,f,o,m,g);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(e=f.alternate,e!==null&&Td(e)===null){a.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}l1(a,!0,o,null,m,g);break;case"together":l1(a,!1,null,null,void 0,g);break;default:a.memoizedState=null}return a.child}function mn(e,a,o){if(e!==null&&(a.dependencies=e.dependencies),mt=-1,wi|=a.lanes,!(o&a.childLanes))if(e!==null){if(Es(e,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error("Resuming work not yet implemented.");if(a.child!==null){for(e=a.child,o=cn(e,e.pendingProps),a.child=o,o.return=a;e.sibling!==null;)e=e.sibling,o=o.sibling=cn(e,e.pendingProps),o.return=a;o.sibling=null}return a.child}function c1(e,a){return e.lanes&a?!0:(e=e.dependencies,!!(e!==null&&Ed(e)))}function J7(e,a,o){switch(a.tag){case 3:ie(a,a.stateNode.containerInfo),$n(a,xa,e.memoizedState.cache),lo();break;case 27:case 5:D(a);break;case 4:ie(a,a.stateNode.containerInfo);break;case 10:$n(a,a.type,a.memoizedProps.value);break;case 12:o&a.childLanes&&(a.flags|=4),a.flags|=2048;var c=a.stateNode;c.effectDuration=-0,c.passiveEffectDuration=-0;break;case 31:if(a.memoizedState!==null)return a.flags|=128,EA(a),null;break;case 13:if(c=a.memoizedState,c!==null)return c.dehydrated!==null?(ri(a),a.flags|=128,null):o&a.child.childLanes?aN(e,a,o):(ri(a),e=mn(e,a,o),e!==null?e.sibling:null);ri(a);break;case 19:var f=(e.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Es(e,a,o,!1),c=(o&a.childLanes)!==0),f){if(c)return nN(e,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),O(ha,ha.current,a),c)break;return null;case 22:return a.lanes=0,Qv(e,a,o,a.pendingProps);case 24:$n(a,xa,e.memoizedState.cache)}return mn(e,a,o)}function u1(e,a,o){if(a._debugNeedsRemount&&e!==null){o=oA(a.type,a.key,a.pendingProps,a._debugOwner||null,a.mode,a.lanes),o._debugStack=a._debugStack,o._debugTask=a._debugTask;var c=a.return;if(c===null)throw Error("Cannot swap the root fiber.");if(e.alternate=null,a.alternate=null,o.index=a.index,o.sibling=a.sibling,o.return=a.return,o.ref=a.ref,o._debugInfo=a._debugInfo,a===c.child)c.child=o;else{var f=c.child;if(f===null)throw Error("Expected parent to have a child.");for(;f.sibling!==a;)if(f=f.sibling,f===null)throw Error("Expected to find the previous sibling.");f.sibling=o}return a=c.deletions,a===null?(c.deletions=[e],c.flags|=16):a.push(e),o.flags|=2,o}if(e!==null)if(e.memoizedProps!==a.pendingProps||a.type!==e.type)Ea=!0;else{if(!c1(e,o)&&!(a.flags&128))return Ea=!1,J7(e,a,o);Ea=!!(e.flags&131072)}else Ea=!1,(c=Mr)&&(Jn(),c=(a.flags&1048576)!==0),c&&(c=a.index,Jn(),Ug(a,Xc,c));switch(a.lanes=0,a.tag){case 16:e:if(c=a.pendingProps,e=qn(a.elementType),a.type=e,typeof e=="function")iA(e)?(c=bo(e,c),a.tag=1,a.type=e=io(e),a=eN(null,a,e,c,o)):(a.tag=0,t1(a,e),a.type=e=io(e),a=a1(null,a,e,c,o));else{if(e!=null){if(f=e.$$typeof,f===Sc){a.tag=11,a.type=e=nA(e),a=Yv(null,a,e,c,o);break e}else if(f===gf){a.tag=14,a=Hv(null,a,e,c,o);break e}}throw a="",e!==null&&typeof e=="object"&&e.$$typeof===Zt&&(a=" Did you wrap a component in React.lazy() more than once?"),o=$(e)||e,Error("Element type is invalid. Received a promise that resolves to: "+o+". Lazy element type must resolve to a class or function."+a)}return a;case 0:return a1(e,a,a.type,a.pendingProps,o);case 1:return c=a.type,f=bo(c,a.pendingProps),eN(e,a,c,f,o);case 3:e:{if(ie(a,a.stateNode.containerInfo),e===null)throw Error("Should have a current fiber. This is a bug in React.");c=a.pendingProps;var m=a.memoizedState;f=m.element,xA(e,a),dc(a,c,null,o);var g=a.memoizedState;if(c=g.cache,$n(a,xa,c),c!==m.cache&&AA(a,[xa],o,!0),uc(),c=g.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:g.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=rN(e,a,c,o);break e}else if(c!==f){f=Mt(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),a),nc(f),a=rN(e,a,c,o);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($r=Ft(e.firstChild),$a=a,Mr=!0,bi=null,K0=!1,Pt=null,r0=!0,o=h6(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(lo(),c===f){a=mn(e,a,o);break e}Ha(e,a,c,o)}a=a.child}return a;case 26:return Qd(e,a),e===null?(o=Cx(a.type,null,a.pendingProps,null))?a.memoizedState=o:Mr||(o=a.type,e=a.pendingProps,c=Y(li.current),c=lf(c).createElement(o),c[Qa]=a,c[ut]=e,Ja(c,o,e),Re(c),a.stateNode=c):a.memoizedState=Cx(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return D(a),e===null&&Mr&&(c=Y(li.current),f=ee(),c=a.stateNode=Vx(a.type,a.pendingProps,c,f,!1),K0||(f=bx(c,a.type,a.pendingProps,f),f!==null&&(so(a,0).serverProps=f)),$a=a,r0=!0,f=$r,oi(a.type)?(vp=f,$r=Ft(c.firstChild)):$r=f),Ha(e,a,a.pendingProps.children,o),Qd(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Mr&&(m=ee(),c=Jm(a.type,m.ancestorInfo),f=$r,(g=!f)||(g=FD(f,a.type,a.pendingProps,r0),g!==null?(a.stateNode=g,K0||(m=bx(g,a.type,a.pendingProps,m),m!==null&&(so(a,0).serverProps=m)),$a=a,$r=Ft(g.firstChild),r0=!1,m=!0):m=!1,g=!m),g&&(c&&yd(a,f),Qn(a))),D(a),f=a.type,m=a.pendingProps,g=e!==null?e.memoizedProps:null,c=m.children,T1(f,m)?c=null:g!==null&&T1(f,g)&&(a.flags|=32),a.memoizedState!==null&&(f=DA(e,a,W7,null,null,o),wu._currentValue=f),Qd(e,a),Ha(e,a,c,o),a.child;case 6:return e===null&&Mr&&(o=a.pendingProps,e=ee(),c=e.ancestorInfo.current,o=c!=null?fd(o,c.tag,e.ancestorInfo.implicitRootScope):!0,e=$r,(c=!e)||(c=ZD(e,a.pendingProps,r0),c!==null?(a.stateNode=c,$a=a,$r=null,c=!0):c=!1,c=!c),c&&(o&&yd(a,e),Qn(a))),null;case 13:return aN(e,a,o);case 4:return ie(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=Co(a,null,c,o):Ha(e,a,c,o),a.child;case 11:return Yv(e,a,a.type,a.pendingProps,o);case 7:return Ha(e,a,a.pendingProps,o),a.child;case 8:return Ha(e,a,a.pendingProps.children,o),a.child;case 12:return a.flags|=4,a.flags|=2048,c=a.stateNode,c.effectDuration=-0,c.passiveEffectDuration=-0,Ha(e,a,a.pendingProps.children,o),a.child;case 10:return c=a.type,f=a.pendingProps,m=f.value,"value"in f||U6||(U6=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),$n(a,c,m),Ha(e,a,f.children,o),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,typeof c!="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),co(a),f=aa(f),c=Fb(c,f,void 0),a.flags|=1,Ha(e,a,c,o),a.child;case 14:return Hv(e,a,a.type,a.pendingProps,o);case 15:return Jv(e,a,a.type,a.pendingProps,o);case 19:return nN(e,a,o);case 31:return H7(e,a,o);case 22:return Qv(e,a,o,a.pendingProps);case 24:return co(a),c=aa(xa),e===null?(f=gA(),f===null&&(f=Yr,m=bA(),f.pooledCache=m,uo(m),m!==null&&(f.pooledCacheLanes|=o),f=m),a.memoizedState={parent:c,cache:f},NA(a),$n(a,xa,f)):(e.lanes&o&&(xA(e,a),dc(a,null,null,o),uc()),f=e.memoizedState,m=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),$n(a,xa,c)):(c=m.cache,$n(a,xa,c),c!==f.cache&&AA(a,[xa],o,!0))),Ha(e,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function An(e){e.flags|=4}function d1(e,a,o,c,f){if((a=(e.mode&pj)!==pr)&&(a=!1),a){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(FN())e.flags|=8192;else throw jo=Xf,Ob}else e.flags&=-16777217}function iN(e,a){if(a.type!=="stylesheet"||(a.state.loading&o0)!==Po)e.flags&=-16777217;else if(e.flags|=16777216,!Rx(a))if(FN())e.flags|=8192;else throw jo=Xf,Ob}function qd(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?me():536870912,e.lanes|=a,Ro|=a)}function pc(e,a){if(!Mr)switch(e.tailMode){case"hidden":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Hr(e){var a=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(a)if((e.mode&wr)!==pr){for(var f=e.selfBaseDuration,m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,f+=m.treeBaseDuration,m=m.sibling;e.treeBaseDuration=f}else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else if((e.mode&wr)!==pr){f=e.actualDuration,m=e.selfBaseDuration;for(var g=e.child;g!==null;)o|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,f+=g.actualDuration,m+=g.treeBaseDuration,g=g.sibling;e.actualDuration=f,e.treeBaseDuration=m}else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=o,a}function Q7(e,a,o){var c=a.pendingProps;switch(uA(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(a),null;case 1:return Hr(a),null;case 3:return o=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),dn(xa,a),z(a),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ws(a)?(fA(),An(a)):e===null||e.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,dA())),Hr(a),null;case 26:var f=a.type,m=a.memoizedState;return e===null?(An(a),m!==null?(Hr(a),iN(a,m)):(Hr(a),d1(a,f,null,c,o))):m?m!==e.memoizedState?(An(a),Hr(a),iN(a,m)):(Hr(a),a.flags&=-16777217):(e=e.memoizedProps,e!==c&&An(a),Hr(a),d1(a,f,e,c,o)),null;case 27:if(R(a),o=Y(li.current),f=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&An(a);else{if(!c){if(a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Hr(a),null}e=ee(),ws(a)?Yg(a):(e=Vx(f,c,o,e,!0),a.stateNode=e,An(a))}return Hr(a),null;case 5:if(R(a),f=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&An(a);else{if(!c){if(a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Hr(a),null}var g=ee();if(ws(a))Yg(a);else{switch(m=Y(li.current),Jm(f,g.ancestorInfo),g=g.context,m=lf(m),g){case vl:m=m.createElementNS(Us,f);break;case p2:m=m.createElementNS(kf,f);break;default:switch(f){case"svg":m=m.createElementNS(Us,f);break;case"math":m=m.createElementNS(kf,f);break;case"script":m=m.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?m.createElement(f,{is:c.is}):m.createElement(f),f.indexOf("-")===-1&&(f!==f.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",f),Object.prototype.toString.call(m)!=="[object HTMLUnknownElement]"||A0.call(m5,f)||(m5[f]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",f)))}}m[Qa]=a,m[ut]=c;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)m.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=m;e:switch(Ja(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&An(a)}}return Hr(a),d1(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,o),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&An(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=Y(li.current),o=ee(),ws(a)){if(e=a.stateNode,o=a.memoizedProps,f=!K0,c=null,m=$a,m!==null)switch(m.tag){case 3:f&&(f=kx(e,o,c),f!==null&&(so(a,0).serverProps=f));break;case 27:case 5:c=m.memoizedProps,f&&(f=kx(e,o,c),f!==null&&(so(a,0).serverProps=f))}e[Qa]=a,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ux(e.nodeValue,o)),e||Qn(a,!0)}else f=o.ancestorInfo.current,f!=null&&fd(c,f.tag,o.ancestorInfo.implicitRootScope),e=lf(e).createTextNode(c),e[Qa]=a,a.stateNode=e}return Hr(a),null;case 31:if(o=a.memoizedState,e===null||e.memoizedState!==null){if(c=ws(a),o!==null){if(e===null){if(!c)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error("Expected to have a hydrated activity instance. This error is likely caused by a bug in React. Please file an issue.");e[Qa]=a,Hr(a),(a.mode&wr)!==pr&&o!==null&&(e=a.child,e!==null&&(a.treeBaseDuration-=e.treeBaseDuration))}else fA(),lo(),!(a.flags&128)&&(o=a.memoizedState=null),a.flags|=4,Hr(a),(a.mode&wr)!==pr&&o!==null&&(e=a.child,e!==null&&(a.treeBaseDuration-=e.treeBaseDuration));e=!1}else o=dA(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return a.flags&256?(Tt(a),a):(Tt(a),null);if(a.flags&128)throw Error("Client rendering an Activity suspended it again. This is a bug in React.")}return Hr(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=c,m=ws(a),f!==null&&f.dehydrated!==null){if(e===null){if(!m)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");m[Qa]=a,Hr(a),(a.mode&wr)!==pr&&f!==null&&(f=a.child,f!==null&&(a.treeBaseDuration-=f.treeBaseDuration))}else fA(),lo(),!(a.flags&128)&&(f=a.memoizedState=null),a.flags|=4,Hr(a),(a.mode&wr)!==pr&&f!==null&&(f=a.child,f!==null&&(a.treeBaseDuration-=f.treeBaseDuration));f=!1}else f=dA(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Tt(a),a):(Tt(a),null)}return Tt(a),a.flags&128?(a.lanes=o,(a.mode&wr)!==pr&&sc(a),a):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),o!==e&&o&&(a.child.flags|=8192),qd(a,a.updateQueue),Hr(a),(a.mode&wr)!==pr&&o&&(e=a.child,e!==null&&(a.treeBaseDuration-=e.treeBaseDuration)),null);case 4:return z(a),e===null&&j1(a.stateNode.containerInfo),Hr(a),null;case 10:return dn(a.type,a),Hr(a),null;case 19:if(j(ha,a),c=a.memoizedState,c===null)return Hr(a),null;if(f=(a.flags&128)!==0,m=c.rendering,m===null)if(f)pc(c,!1);else{if(sa!==_n||e!==null&&e.flags&128)for(e=a.child;e!==null;){if(m=Td(e),m!==null){for(a.flags|=128,pc(c,!1),e=m.updateQueue,a.updateQueue=e,qd(a,e),a.subtreeFlags=0,e=o,o=a.child;o!==null;)Wg(o,e),o=o.sibling;return O(ha,ha.current&sl|iu,a),Mr&&un(a,c.treeForkCount),a.child}e=e.sibling}c.tail!==null&&Oa()>t2&&(a.flags|=128,f=!0,pc(c,!1),a.lanes=4194304)}else{if(!f)if(e=Td(m),e!==null){if(a.flags|=128,f=!0,e=e.updateQueue,a.updateQueue=e,qd(a,e),pc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Mr)return Hr(a),null}else 2*Oa()-c.renderingStartTime>t2&&o!==536870912&&(a.flags|=128,f=!0,pc(c,!1),a.lanes=4194304);c.isBackwards?(m.sibling=a.child,a.child=m):(e=c.last,e!==null?e.sibling=m:a.child=m,c.last=m)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Oa(),e.sibling=null,o=ha.current,o=f?o&sl|iu:o&sl,O(ha,o,a),Mr&&un(a,c.treeForkCount),e):(Hr(a),null);case 22:case 23:return Tt(a),wA(a),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?o&536870912&&!(a.flags&128)&&(Hr(a),a.subtreeFlags&6&&(a.flags|=8192)):Hr(a),o=a.updateQueue,o!==null&&qd(a,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),e!==null&&j(Do,a),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),dn(xa,a),Hr(a),null;case 25:return null;case 30:return null}throw Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function $7(e,a){switch(uA(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,(a.mode&wr)!==pr&&sc(a),a):null;case 3:return dn(xa,a),z(a),e=a.flags,e&65536&&!(e&128)?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return R(a),null;case 31:if(a.memoizedState!==null){if(Tt(a),a.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");lo()}return e=a.flags,e&65536?(a.flags=e&-65537|128,(a.mode&wr)!==pr&&sc(a),a):null;case 13:if(Tt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");lo()}return e=a.flags,e&65536?(a.flags=e&-65537|128,(a.mode&wr)!==pr&&sc(a),a):null;case 19:return j(ha,a),null;case 4:return z(a),null;case 10:return dn(a.type,a),null;case 22:case 23:return Tt(a),wA(a),e!==null&&j(Do,a),e=a.flags,e&65536?(a.flags=e&-65537|128,(a.mode&wr)!==pr&&sc(a),a):null;case 24:return dn(xa,a),null;case 25:return null;default:return null}}function oN(e,a){switch(uA(a),a.tag){case 3:dn(xa,a),z(a);break;case 26:case 27:case 5:R(a);break;case 4:z(a);break;case 31:a.memoizedState!==null&&Tt(a);break;case 13:Tt(a);break;case 19:j(ha,a);break;case 10:dn(a.type,a);break;case 22:case 23:Tt(a),wA(a),e!==null&&j(Do,a);break;case 24:dn(xa,a)}}function P0(e){return(e.mode&wr)!==pr}function sN(e,a){P0(e)?(O0(),hc(a,e),Z0()):hc(a,e)}function f1(e,a,o){P0(e)?(O0(),Cs(o,e,a),Z0()):Cs(o,e,a)}function hc(e,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e&&(c=void 0,(e&At)!==Lf&&(pl=!0),c=W(a,yj,o),(e&At)!==Lf&&(pl=!1),c!==void 0&&typeof c!="function")){var m=void 0;m=o.tag&Gt?"useLayoutEffect":o.tag&At?"useInsertionEffect":"useEffect";var g=void 0;g=c===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof c.then=="function"?`

It looks like you wrote `+m+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+m+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+c,W(a,function(y,_){console.error("%s must not return anything besides a function, which is used for clean-up.%s",y,_)},m,g)}o=o.next}while(o!==f)}}catch(y){Pr(a,a.return,y)}}function Cs(e,a,o){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&e)===e){var g=c.inst,y=g.destroy;y!==void 0&&(g.destroy=void 0,(e&At)!==Lf&&(pl=!0),f=a,W(f,wj,f,o,y),(e&At)!==Lf&&(pl=!1))}c=c.next}while(c!==m)}}catch(_){Pr(a,a.return,_)}}function lN(e,a){P0(e)?(O0(),hc(a,e),Z0()):hc(a,e)}function m1(e,a,o){P0(e)?(O0(),Cs(o,e,a),Z0()):Cs(o,e,a)}function cN(e){var a=e.updateQueue;if(a!==null){var o=e.stateNode;e.type.defaultProps||"ref"in e.memoizedProps||dl||(o.props!==e.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",L(e)||"instance"),o.state!==e.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",L(e)||"instance"));try{W(e,dv,a,o)}catch(c){Pr(e,e.return,c)}}}function q7(e,a,o){return e.getSnapshotBeforeUpdate(a,o)}function K7(e,a){var o=a.memoizedProps,c=a.memoizedState;a=e.stateNode,e.type.defaultProps||"ref"in e.memoizedProps||dl||(a.props!==e.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",L(e)||"instance"),a.state!==e.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",L(e)||"instance"));try{var f=bo(e.type,o),m=W(e,q7,a,f,c);o=X6,m!==void 0||o.has(e.type)||(o.add(e.type),W(e,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",L(e))})),a.__reactInternalSnapshotBeforeUpdate=m}catch(g){Pr(e,e.return,g)}}function uN(e,a,o){o.props=bo(e.type,e.memoizedProps),o.state=e.memoizedState,P0(e)?(O0(),W(e,c6,e,a,o),Z0()):W(e,c6,e,a,o)}function eD(e){var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}if(typeof a=="function")if(P0(e))try{O0(),e.refCleanup=a(o)}finally{Z0()}else e.refCleanup=a(o);else typeof a=="string"?console.error("String refs are no longer supported."):a.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",L(e)),a.current=o}}function gc(e,a){try{W(e,eD,e)}catch(o){Pr(e,a,o)}}function W0(e,a){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{if(P0(e))try{O0(),W(e,c)}finally{Z0(e)}else W(e,c)}catch(f){Pr(e,a,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{if(P0(e))try{O0(),W(e,o,null)}finally{Z0(e)}else W(e,o,null)}catch(f){Pr(e,a,f)}else o.current=null}function dN(e,a,o,c){var f=e.memoizedProps,m=f.id,g=f.onCommit;f=f.onRender,a=a===null?"mount":"update",Pf&&(a="nested-update"),typeof f=="function"&&f(m,a,e.actualDuration,e.treeBaseDuration,e.actualStartTime,o),typeof g=="function"&&g(m,a,c,o)}function rD(e,a,o,c){var f=e.memoizedProps;e=f.id,f=f.onPostCommit,a=a===null?"mount":"update",Pf&&(a="nested-update"),typeof f=="function"&&f(e,a,c,o)}function fN(e){var a=e.type,o=e.memoizedProps,c=e.stateNode;try{W(e,kD,c,a,o,e)}catch(f){Pr(e,e.return,f)}}function A1(e,a,o){try{W(e,VD,e.stateNode,e.type,o,a,e)}catch(c){Pr(e,e.return,c)}}function mN(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oi(e.type)||e.tag===4}function b1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function p1(e,a,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(Nx(o),(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,a)):(Nx(o),a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(e),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=ln));else if(c!==4&&(c===27&&oi(e.type)&&(o=e.stateNode,a=null),e=e.child,e!==null))for(p1(e,a,o),e=e.sibling;e!==null;)p1(e,a,o),e=e.sibling}function Kd(e,a,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?o.insertBefore(e,a):o.appendChild(e);else if(c!==4&&(c===27&&oi(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Kd(e,a,o),e=e.sibling;e!==null;)Kd(e,a,o),e=e.sibling}function aD(e){for(var a,o=e.return;o!==null;){if(mN(o)){a=o;break}o=o.return}if(a==null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(a.tag){case 27:a=a.stateNode,o=b1(e),Kd(e,o,a);break;case 5:o=a.stateNode,a.flags&32&&(vx(o),a.flags&=-33),a=b1(e),Kd(e,a,o);break;case 3:case 4:a=a.stateNode.containerInfo,o=b1(e),p1(e,o,a);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function AN(e){var a=e.stateNode,o=e.memoizedProps;try{W(e,UD,e.type,o,a,e)}catch(c){Pr(e,e.return,c)}}function bN(e,a){return a.tag===31?(a=a.memoizedState,e.memoizedState!==null&&a===null):a.tag===13?(e=e.memoizedState,a=a.memoizedState,e!==null&&e.dehydrated!==null&&(a===null||a.dehydrated===null)):a.tag===3?e.memoizedState.isDehydrated&&(a.flags&256)===0:!1}function tD(e,a){if(e=e.containerInfo,pp=N2,e=Sg(e),qm(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var g=0,y=-1,_=-1,B=0,ge=0,ve=e,ce=null;r:for(;;){for(var _e;ve!==o||f!==0&&ve.nodeType!==3||(y=g+f),ve!==m||c!==0&&ve.nodeType!==3||(_=g+c),ve.nodeType===3&&(g+=ve.nodeValue.length),(_e=ve.firstChild)!==null;)ce=ve,ve=_e;for(;;){if(ve===e)break r;if(ce===o&&++B===f&&(y=g),ce===m&&++ge===c&&(_=g),(_e=ve.nextSibling)!==null)break;ve=ce,ce=ve.parentNode}ve=_e}o=y===-1||_===-1?null:{start:y,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(hp={focusedElem:e,selectionRange:o},N2=!1,Wa=a;Wa!==null;)if(a=Wa,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,Wa=e;else for(;Wa!==null;){switch(e=a=Wa,o=e.alternate,f=e.flags,e.tag){case 0:if(f&4&&(e=e.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:f&1024&&o!==null&&K7(e,o);break;case 3:if(f&1024){if(e=e.stateNode.containerInfo,o=e.nodeType,o===9)B1(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":B1(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(f&1024)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(e=a.sibling,e!==null){e.return=a.return,Wa=e;break}Wa=a.return}}function pN(e,a,o){var c=It(),f=R0(),m=B0(),g=F0(),y=o.flags;switch(o.tag){case 0:case 11:case 15:G0(e,o),y&4&&sN(o,Gt|n0);break;case 1:if(G0(e,o),y&4)if(e=o.stateNode,a===null)o.type.defaultProps||"ref"in o.memoizedProps||dl||(e.props!==o.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",L(o)||"instance"),e.state!==o.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",L(o)||"instance")),P0(o)?(O0(),W(o,Zb,o,e),Z0()):W(o,Zb,o,e);else{var _=bo(o.type,a.memoizedProps);a=a.memoizedState,o.type.defaultProps||"ref"in o.memoizedProps||dl||(e.props!==o.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",L(o)||"instance"),e.state!==o.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",L(o)||"instance")),P0(o)?(O0(),W(o,o6,o,e,_,a,e.__reactInternalSnapshotBeforeUpdate),Z0()):W(o,o6,o,e,_,a,e.__reactInternalSnapshotBeforeUpdate)}y&64&&cN(o),y&512&&gc(o,o.return);break;case 3:if(a=fn(),G0(e,o),y&64&&(y=o.updateQueue,y!==null)){if(_=null,o.child!==null)switch(o.child.tag){case 27:case 5:_=o.child.stateNode;break;case 1:_=o.child.stateNode}try{W(o,dv,y,_)}catch(ge){Pr(o,o.return,ge)}}e.effectDuration+=Dd(a);break;case 27:a===null&&y&4&&AN(o);case 26:case 5:if(G0(e,o),a===null){if(y&4)fN(o);else if(y&64){e=o.type,a=o.memoizedProps,_=o.stateNode;try{W(o,DD,_,e,a,o)}catch(ge){Pr(o,o.return,ge)}}}y&512&&gc(o,o.return);break;case 12:if(y&4){y=fn(),G0(e,o),e=o.stateNode,e.effectDuration+=oc(y);try{W(o,dN,o,a,pi,e.effectDuration)}catch(ge){Pr(o,o.return,ge)}}else G0(e,o);break;case 31:G0(e,o),y&4&&vN(e,o);break;case 13:G0(e,o),y&4&&NN(e,o),y&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(y=fD.bind(null,o),OD(e,y))));break;case 22:if(y=o.memoizedState!==null||Cn,!y){a=a!==null&&a.memoizedState!==null||ka,_=Cn;var B=ka;Cn=y,(ka=a)&&!B?(U0(e,o,(o.subtreeFlags&8772)!==0),(o.mode&wr)!==pr&&0<=dr&&0<=Ar&&.05<Ar-dr&&pd(o,dr,Ar)):G0(e,o),Cn=_,ka=B}break;case 30:break;default:G0(e,o)}(o.mode&wr)!==pr&&0<=dr&&0<=Ar&&((fa||.05<oa)&&M0(o,dr,Ar,oa,ta),o.alternate===null&&o.return!==null&&o.return.alternate!==null&&.05<Ar-dr&&(bN(o.return.alternate,o.return)||S0(o,dr,Ar,"Mount"))),Rt(c),T0(f),ta=m,fa=g}function hN(e){var a=e.alternate;a!==null&&(e.alternate=null,hN(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Q(a)),e.stateNode=null,e._debugOwner=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bn(e,a,o){for(o=o.child;o!==null;)gN(e,a,o),o=o.sibling}function gN(e,a,o){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ws,o)}catch(B){J0||(J0=!0,console.error("React instrumentation encountered an error: %o",B))}var c=It(),f=R0(),m=B0(),g=F0();switch(o.tag){case 26:ka||W0(o,a),bn(e,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(e=o.stateNode,e.parentNode.removeChild(e));break;case 27:ka||W0(o,a);var y=Da,_=kt;oi(o.type)&&(Da=o.stateNode,kt=!1),bn(e,a,o),W(o,Vc,o.stateNode),Da=y,kt=_;break;case 5:ka||W0(o,a);case 6:if(y=Da,_=kt,Da=null,bn(e,a,o),Da=y,kt=_,Da!==null)if(kt)try{W(o,_D,Da,o.stateNode)}catch(B){Pr(o,a,B)}else try{W(o,CD,Da,o.stateNode)}catch(B){Pr(o,a,B)}break;case 18:Da!==null&&(kt?(e=Da,xx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Fs(e)):xx(Da,o.stateNode));break;case 4:y=Da,_=kt,Da=o.stateNode.containerInfo,kt=!0,bn(e,a,o),Da=y,kt=_;break;case 0:case 11:case 14:case 15:Cs(At,o,a),ka||f1(o,a,Gt),bn(e,a,o);break;case 1:ka||(W0(o,a),y=o.stateNode,typeof y.componentWillUnmount=="function"&&uN(o,a,y)),bn(e,a,o);break;case 21:bn(e,a,o);break;case 22:ka=(y=ka)||o.memoizedState!==null,bn(e,a,o),ka=y;break;default:bn(e,a,o)}(o.mode&wr)!==pr&&0<=dr&&0<=Ar&&(fa||.05<oa)&&M0(o,dr,Ar,oa,ta),Rt(c),T0(f),ta=m,fa=g}function vN(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{W(a,WD,e)}catch(o){Pr(a,a.return,o)}}}function NN(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{W(a,GD,e)}catch(o){Pr(a,a.return,o)}}function nD(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new z6),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new z6),a;default:throw Error("Unexpected Suspense handler tag ("+e.tag+"). This is a bug in React.")}}function ef(e,a){var o=nD(e);a.forEach(function(c){if(!o.has(c)){if(o.add(c),Q0)if(fl!==null&&ml!==null)yc(ml,fl);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");var f=mD.bind(null,e,c);c.then(f,f)}})}function wt(e,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=e,m=a,g=o[c],y=It(),_=m;e:for(;_!==null;){switch(_.tag){case 27:if(oi(_.type)){Da=_.stateNode,kt=!1;break e}break;case 5:Da=_.stateNode,kt=!1;break e;case 3:case 4:Da=_.stateNode.containerInfo,kt=!0;break e}_=_.return}if(Da===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");gN(f,m,g),Da=null,kt=!1,(g.mode&wr)!==pr&&0<=dr&&0<=Ar&&.05<Ar-dr&&S0(g,dr,Ar,"Unmount"),Rt(y),f=g,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)xN(a,e),a=a.sibling}function xN(e,a){var o=It(),c=R0(),f=B0(),m=F0(),g=e.alternate,y=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(a,e),Et(e),y&4&&(Cs(At|n0,e,e.return),hc(At|n0,e),f1(e,e.return,Gt|n0));break;case 1:if(wt(a,e),Et(e),y&512&&(ka||g===null||W0(g,g.return)),y&64&&Cn&&(y=e.updateQueue,y!==null&&(g=y.callbacks,g!==null))){var _=y.shared.hiddenCallbacks;y.shared.hiddenCallbacks=_===null?g:_.concat(g)}break;case 26:if(_=g0,wt(a,e),Et(e),y&512&&(ka||g===null||W0(g,g.return)),y&4){var B=g!==null?g.memoizedState:null;if(y=e.memoizedState,g===null)if(y===null)if(e.stateNode===null){e:{y=e.type,g=e.memoizedProps,_=_.ownerDocument||_;r:switch(y){case"title":B=_.getElementsByTagName("title")[0],(!B||B[Rc]||B[Qa]||B.namespaceURI===Us||B.hasAttribute("itemprop"))&&(B=_.createElement(y),_.head.insertBefore(B,_.querySelector("head > title"))),Ja(B,y,g),B[Qa]=e,Re(B),y=B;break e;case"link":var ge=Mx("link","href",_).get(y+(g.href||""));if(ge){for(var ve=0;ve<ge.length;ve++)if(B=ge[ve],B.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&B.getAttribute("rel")===(g.rel==null?null:g.rel)&&B.getAttribute("title")===(g.title==null?null:g.title)&&B.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){ge.splice(ve,1);break r}}B=_.createElement(y),Ja(B,y,g),_.head.appendChild(B);break;case"meta":if(ge=Mx("meta","content",_).get(y+(g.content||""))){for(ve=0;ve<ge.length;ve++)if(B=ge[ve],je(g.content,"content"),B.getAttribute("content")===(g.content==null?null:""+g.content)&&B.getAttribute("name")===(g.name==null?null:g.name)&&B.getAttribute("property")===(g.property==null?null:g.property)&&B.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&B.getAttribute("charset")===(g.charSet==null?null:g.charSet)){ge.splice(ve,1);break r}}B=_.createElement(y),Ja(B,y,g),_.head.appendChild(B);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+y+'". This is a bug in React.')}B[Qa]=e,Re(B),y=B}e.stateNode=y}else Ix(_,e.type,e.stateNode);else e.stateNode=Sx(_,y,e.memoizedProps);else B!==y?(B===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):B.count--,y===null?Ix(_,e.type,e.stateNode):Sx(_,y,e.memoizedProps)):y===null&&e.stateNode!==null&&A1(e,e.memoizedProps,g.memoizedProps)}break;case 27:wt(a,e),Et(e),y&512&&(ka||g===null||W0(g,g.return)),g!==null&&y&4&&A1(e,e.memoizedProps,g.memoizedProps);break;case 5:if(wt(a,e),Et(e),y&512&&(ka||g===null||W0(g,g.return)),e.flags&32){_=e.stateNode;try{W(e,vx,_)}catch(ar){Pr(e,e.return,ar)}}y&4&&e.stateNode!=null&&(_=e.memoizedProps,A1(e,_,g!==null?g.memoizedProps:_)),y&1024&&($b=!0,e.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(wt(a,e),Et(e),y&4){if(e.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");y=e.memoizedProps,g=g!==null?g.memoizedProps:y,_=e.stateNode;try{W(e,jD,_,g,y)}catch(ar){Pr(e,e.return,ar)}}break;case 3:if(_=fn(),h2=null,B=g0,g0=cf(a.containerInfo),wt(a,e),g0=B,Et(e),y&4&&g!==null&&g.memoizedState.isDehydrated)try{W(e,PD,a.containerInfo)}catch(ar){Pr(e,e.return,ar)}$b&&($b=!1,yN(e)),a.effectDuration+=Dd(_);break;case 4:y=g0,g0=cf(e.stateNode.containerInfo),wt(a,e),Et(e),g0=y;break;case 12:y=fn(),wt(a,e),Et(e),e.stateNode.effectDuration+=oc(y);break;case 31:wt(a,e),Et(e),y&4&&(y=e.updateQueue,y!==null&&(e.updateQueue=null,ef(e,y)));break;case 13:wt(a,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(a2=Oa()),y&4&&(y=e.updateQueue,y!==null&&(e.updateQueue=null,ef(e,y)));break;case 22:_=e.memoizedState!==null;var ce=g!==null&&g.memoizedState!==null,_e=Cn,Qe=ka;if(Cn=_e||_,ka=Qe||ce,wt(a,e),ka=Qe,Cn=_e,ce&&!_&&!_e&&!Qe&&(e.mode&wr)!==pr&&0<=dr&&0<=Ar&&.05<Ar-dr&&pd(e,dr,Ar),Et(e),y&8192)e:for(a=e.stateNode,a._visibility=_?a._visibility&~Uc:a._visibility|Uc,!_||g===null||ce||Cn||ka||(po(e),(e.mode&wr)!==pr&&0<=dr&&0<=Ar&&.05<Ar-dr&&S0(e,dr,Ar,"Disconnect")),g=null,a=e;;){if(a.tag===5||a.tag===26){if(g===null){ce=g=a;try{B=ce.stateNode,_?W(ce,MD,B):W(ce,TD,ce.stateNode,ce.memoizedProps)}catch(ar){Pr(ce,ce.return,ar)}}}else if(a.tag===6){if(g===null){ce=a;try{ge=ce.stateNode,_?W(ce,ID,ge):W(ce,BD,ge,ce.memoizedProps)}catch(ar){Pr(ce,ce.return,ar)}}}else if(a.tag===18){if(g===null){ce=a;try{ve=ce.stateNode,_?W(ce,SD,ve):W(ce,RD,ce.stateNode)}catch(ar){Pr(ce,ce.return,ar)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;g===a&&(g=null),a=a.return}g===a&&(g=null),a.sibling.return=a.return,a=a.sibling}y&4&&(y=e.updateQueue,y!==null&&(g=y.retryQueue,g!==null&&(y.retryQueue=null,ef(e,g))));break;case 19:wt(a,e),Et(e),y&4&&(y=e.updateQueue,y!==null&&(e.updateQueue=null,ef(e,y)));break;case 30:break;case 21:break;default:wt(a,e),Et(e)}(e.mode&wr)!==pr&&0<=dr&&0<=Ar&&((fa||.05<oa)&&M0(e,dr,Ar,oa,ta),e.alternate===null&&e.return!==null&&e.return.alternate!==null&&.05<Ar-dr&&(bN(e.return.alternate,e.return)||S0(e,dr,Ar,"Mount"))),Rt(o),T0(c),ta=f,fa=m}function Et(e){var a=e.flags;if(a&2){try{W(e,aD,e)}catch(o){Pr(e,e.return,o)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function yN(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;yN(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function G0(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)pN(e,a.alternate,a),a=a.sibling}function wN(e){var a=It(),o=R0(),c=B0(),f=F0();switch(e.tag){case 0:case 11:case 14:case 15:f1(e,e.return,Gt),po(e);break;case 1:W0(e,e.return);var m=e.stateNode;typeof m.componentWillUnmount=="function"&&uN(e,e.return,m),po(e);break;case 27:W(e,Vc,e.stateNode);case 26:case 5:W0(e,e.return),po(e);break;case 22:e.memoizedState===null&&po(e);break;case 30:po(e);break;default:po(e)}(e.mode&wr)!==pr&&0<=dr&&0<=Ar&&(fa||.05<oa)&&M0(e,dr,Ar,oa,ta),Rt(a),T0(o),ta=c,fa=f}function po(e){for(e=e.child;e!==null;)wN(e),e=e.sibling}function EN(e,a,o,c){var f=It(),m=R0(),g=B0(),y=F0(),_=o.flags;switch(o.tag){case 0:case 11:case 15:U0(e,o,c),sN(o,Gt);break;case 1:if(U0(e,o,c),a=o.stateNode,typeof a.componentDidMount=="function"&&W(o,Zb,o,a),a=o.updateQueue,a!==null){e=o.stateNode;try{W(o,P7,a,e)}catch(B){Pr(o,o.return,B)}}c&&_&64&&cN(o),gc(o,o.return);break;case 27:AN(o);case 26:case 5:U0(e,o,c),c&&a===null&&_&4&&fN(o),gc(o,o.return);break;case 12:if(c&&_&4){_=fn(),U0(e,o,c),c=o.stateNode,c.effectDuration+=oc(_);try{W(o,dN,o,a,pi,c.effectDuration)}catch(B){Pr(o,o.return,B)}}else U0(e,o,c);break;case 31:U0(e,o,c),c&&_&4&&vN(e,o);break;case 13:U0(e,o,c),c&&_&4&&NN(e,o);break;case 22:o.memoizedState===null&&U0(e,o,c),gc(o,o.return);break;case 30:break;default:U0(e,o,c)}(o.mode&wr)!==pr&&0<=dr&&0<=Ar&&(fa||.05<oa)&&M0(o,dr,Ar,oa,ta),Rt(f),T0(m),ta=g,fa=y}function U0(e,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;)EN(e,a.alternate,a,o),a=a.sibling}function h1(e,a){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==o&&(e!=null&&uo(e),o!=null&&ic(o))}function g1(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(uo(a),e!=null&&ic(e))}function m0(e,a,o,c,f){if(a.subtreeFlags&10256||a.actualDuration!==0&&(a.alternate===null||a.alternate.child!==a.child))for(a=a.child;a!==null;){var m=a.sibling;kN(e,a,o,c,m!==null?m.actualStartTime:f),a=m}}function kN(e,a,o,c,f){var m=It(),g=R0(),y=B0(),_=F0(),B=fi,ge=a.flags;switch(a.tag){case 0:case 11:case 15:(a.mode&wr)!==pr&&0<a.actualStartTime&&a.flags&1&&hd(a,a.actualStartTime,f,Ta,o),m0(e,a,o,c,f),ge&2048&&lN(a,bt|n0);break;case 1:(a.mode&wr)!==pr&&0<a.actualStartTime&&(a.flags&128?eA(a,a.actualStartTime,f,[]):a.flags&1&&hd(a,a.actualStartTime,f,Ta,o)),m0(e,a,o,c,f);break;case 3:var ve=fn(),ce=Ta;Ta=a.alternate!==null&&a.alternate.memoizedState.isDehydrated&&(a.flags&256)===0,m0(e,a,o,c,f),Ta=ce,ge&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),c=a.memoizedState.cache,c!==o&&(uo(c),o!=null&&ic(o))),e.passiveEffectDuration+=Dd(ve);break;case 12:if(ge&2048){ge=fn(),m0(e,a,o,c,f),e=a.stateNode,e.passiveEffectDuration+=oc(ge);try{W(a,rD,a,a.alternate,pi,e.passiveEffectDuration)}catch(_e){Pr(a,a.return,_e)}}else m0(e,a,o,c,f);break;case 31:ge=Ta,ve=a.alternate!==null?a.alternate.memoizedState:null,ce=a.memoizedState,ve!==null&&ce===null?(ce=a.deletions,ce!==null&&0<ce.length&&ce[0].tag===18?(Ta=!1,ve=ve.hydrationErrors,ve!==null&&eA(a,a.actualStartTime,f,ve)):Ta=!0):Ta=!1,m0(e,a,o,c,f),Ta=ge;break;case 13:ge=Ta,ve=a.alternate!==null?a.alternate.memoizedState:null,ce=a.memoizedState,ve===null||ve.dehydrated===null||ce!==null&&ce.dehydrated!==null?Ta=!1:(ce=a.deletions,ce!==null&&0<ce.length&&ce[0].tag===18?(Ta=!1,ve=ve.hydrationErrors,ve!==null&&eA(a,a.actualStartTime,f,ve)):Ta=!0),m0(e,a,o,c,f),Ta=ge;break;case 23:break;case 22:ce=a.stateNode,ve=a.alternate,a.memoizedState!==null?ce._visibility&vn?m0(e,a,o,c,f):vc(e,a,o,c,f):ce._visibility&vn?m0(e,a,o,c,f):(ce._visibility|=vn,_s(e,a,o,c,(a.subtreeFlags&10256)!==0||a.actualDuration!==0&&(a.alternate===null||a.alternate.child!==a.child),f),(a.mode&wr)===pr||Ta||(e=a.actualStartTime,0<=e&&.05<f-e&&pd(a,e,f),0<=dr&&0<=Ar&&.05<Ar-dr&&pd(a,dr,Ar))),ge&2048&&h1(ve,a);break;case 24:m0(e,a,o,c,f),ge&2048&&g1(a.alternate,a);break;default:m0(e,a,o,c,f)}(a.mode&wr)!==pr&&((e=!Ta&&a.alternate===null&&a.return!==null&&a.return.alternate!==null)&&(o=a.actualStartTime,0<=o&&.05<f-o&&S0(a,o,f,"Mount")),0<=dr&&0<=Ar&&((fa||.05<oa)&&M0(a,dr,Ar,oa,ta),e&&.05<Ar-dr&&S0(a,dr,Ar,"Mount"))),Rt(m),T0(g),ta=y,fa=_,fi=B}function _s(e,a,o,c,f,m){for(f=f&&((a.subtreeFlags&10256)!==0||a.actualDuration!==0&&(a.alternate===null||a.alternate.child!==a.child)),a=a.child;a!==null;){var g=a.sibling;DN(e,a,o,c,f,g!==null?g.actualStartTime:m),a=g}}function DN(e,a,o,c,f,m){var g=It(),y=R0(),_=B0(),B=F0(),ge=fi;f&&(a.mode&wr)!==pr&&0<a.actualStartTime&&a.flags&1&&hd(a,a.actualStartTime,m,Ta,o);var ve=a.flags;switch(a.tag){case 0:case 11:case 15:_s(e,a,o,c,f,m),lN(a,bt);break;case 23:break;case 22:var ce=a.stateNode;a.memoizedState!==null?ce._visibility&vn?_s(e,a,o,c,f,m):vc(e,a,o,c,m):(ce._visibility|=vn,_s(e,a,o,c,f,m)),f&&ve&2048&&h1(a.alternate,a);break;case 24:_s(e,a,o,c,f,m),f&&ve&2048&&g1(a.alternate,a);break;default:_s(e,a,o,c,f,m)}(a.mode&wr)!==pr&&0<=dr&&0<=Ar&&(fa||.05<oa)&&M0(a,dr,Ar,oa,ta),Rt(g),T0(y),ta=_,fa=B,fi=ge}function vc(e,a,o,c,f){if(a.subtreeFlags&10256||a.actualDuration!==0&&(a.alternate===null||a.alternate.child!==a.child))for(var m=a.child;m!==null;){a=m.sibling;var g=e,y=o,_=c,B=a!==null?a.actualStartTime:f,ge=fi;(m.mode&wr)!==pr&&0<m.actualStartTime&&m.flags&1&&hd(m,m.actualStartTime,B,Ta,y);var ve=m.flags;switch(m.tag){case 22:vc(g,m,y,_,B),ve&2048&&h1(m.alternate,m);break;case 24:vc(g,m,y,_,B),ve&2048&&g1(m.alternate,m);break;default:vc(g,m,y,_,B)}fi=ge,m=a}}function Ss(e,a,o){if(e.subtreeFlags&cu)for(e=e.child;e!==null;)VN(e,a,o),e=e.sibling}function VN(e,a,o){switch(e.tag){case 26:Ss(e,a,o),e.flags&cu&&e.memoizedState!==null&&LD(o,g0,e.memoizedState,e.memoizedProps);break;case 5:Ss(e,a,o);break;case 3:case 4:var c=g0;g0=cf(e.stateNode.containerInfo),Ss(e,a,o),g0=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=cu,cu=16777216,Ss(e,a,o),cu=c):Ss(e,a,o));break;default:Ss(e,a,o)}}function jN(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Nc(e){var a=e.deletions;if(e.flags&16){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],f=It();Wa=c,SN(c,e),(c.mode&wr)!==pr&&0<=dr&&0<=Ar&&.05<Ar-dr&&S0(c,dr,Ar,"Unmount"),Rt(f)}jN(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)CN(e),e=e.sibling}function CN(e){var a=It(),o=R0(),c=B0(),f=F0();switch(e.tag){case 0:case 11:case 15:Nc(e),e.flags&2048&&m1(e,e.return,bt|n0);break;case 3:var m=fn();Nc(e),e.stateNode.passiveEffectDuration+=Dd(m);break;case 12:m=fn(),Nc(e),e.stateNode.passiveEffectDuration+=oc(m);break;case 22:m=e.stateNode,e.memoizedState!==null&&m._visibility&vn&&(e.return===null||e.return.tag!==13)?(m._visibility&=~vn,rf(e),(e.mode&wr)!==pr&&0<=dr&&0<=Ar&&.05<Ar-dr&&S0(e,dr,Ar,"Disconnect")):Nc(e);break;default:Nc(e)}(e.mode&wr)!==pr&&0<=dr&&0<=Ar&&(fa||.05<oa)&&M0(e,dr,Ar,oa,ta),Rt(a),T0(o),fa=f,ta=c}function rf(e){var a=e.deletions;if(e.flags&16){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],f=It();Wa=c,SN(c,e),(c.mode&wr)!==pr&&0<=dr&&0<=Ar&&.05<Ar-dr&&S0(c,dr,Ar,"Unmount"),Rt(f)}jN(e)}for(e=e.child;e!==null;)_N(e),e=e.sibling}function _N(e){var a=It(),o=R0(),c=B0(),f=F0();switch(e.tag){case 0:case 11:case 15:m1(e,e.return,bt),rf(e);break;case 22:var m=e.stateNode;m._visibility&vn&&(m._visibility&=~vn,rf(e));break;default:rf(e)}(e.mode&wr)!==pr&&0<=dr&&0<=Ar&&(fa||.05<oa)&&M0(e,dr,Ar,oa,ta),Rt(a),T0(o),fa=f,ta=c}function SN(e,a){for(;Wa!==null;){var o=Wa,c=o,f=a,m=It(),g=R0(),y=B0(),_=F0();switch(c.tag){case 0:case 11:case 15:m1(c,f,bt);break;case 23:case 22:c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool,f!=null&&uo(f));break;case 24:ic(c.memoizedState.cache)}if((c.mode&wr)!==pr&&0<=dr&&0<=Ar&&(fa||.05<oa)&&M0(c,dr,Ar,oa,ta),Rt(m),T0(g),fa=_,ta=y,c=o.child,c!==null)c.return=o,Wa=c;else e:for(o=e;Wa!==null;){if(c=Wa,m=c.sibling,g=c.return,hN(c),c===o){Wa=null;break e}if(m!==null){m.return=g,Wa=m;break e}Wa=g}}}function iD(){jj.forEach(function(e){return e()})}function MN(){var e=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return e||Ie.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),e}function Bt(e){if((Or&Ba)!==Ga&&kr!==0)return kr&-kr;var a=Ie.T;return a!==null?(a._updatedFibers||(a._updatedFibers=new Set),a._updatedFibers.add(e),D1()):de()}function IN(){if(Vt===0)if(!(kr&536870912)||Mr){var e=xf;xf<<=1,!(xf&3932160)&&(xf=262144),Vt=e}else Vt=536870912;return e=Wt.current,e!==null&&(e.flags|=32),Vt}function da(e,a,o){if(pl&&console.error("useInsertionEffect must not schedule updates."),lp&&(o2=!0),(e===Yr&&(Ur===Mo||Ur===Io)||e.cancelPendingCommit!==null)&&(Is(e,0),ni(e,kr,Vt,!1)),xe(e,o),(Or&Ba)!==Ga&&e===Yr){if(H0)switch(a.tag){case 0:case 11:case 15:e=Dr&&L(Dr)||"Unknown",o5.has(e)||(o5.add(e),a=L(a)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",a,e,e));break;case 1:i5||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),i5=!0)}}else Q0&&ra(e,a,o),bD(a),e===Yr&&((Or&Ba)===Ga&&(Ei|=o),sa===xi&&ni(e,kr,Vt,!1)),X0(e)}function RN(e,a,o){if((Or&(Ba|Ut))!==Ga)throw Error("Should not already be working.");if(kr!==0&&Dr!==null){var c=Dr,f=Oa();switch(q3){case fu:case Mo:var m=Jc;Qr&&((c=c._debugTask)?c.run(console.timeStamp.bind(console,"Suspended",m,f,Qt,void 0,"primary-light")):console.timeStamp("Suspended",m,f,Qt,void 0,"primary-light"));break;case Io:m=Jc,Qr&&((c=c._debugTask)?c.run(console.timeStamp.bind(console,"Action",m,f,Qt,void 0,"primary-light")):console.timeStamp("Action",m,f,Qt,void 0,"primary-light"));break;default:Qr&&(c=f-Jc,3>c||console.timeStamp("Blocked",Jc,f,Qt,void 0,5>c?"primary-light":10>c?"primary":100>c?"primary-dark":"error"))}}m=(o=!o&&(a&127)===0&&(a&e.expiredLanes)===0||Fe(e,a))?sD(e,a):N1(e,a,!0);var g=o;do{if(m===_n){Al&&!o&&ni(e,a,0,!1),a=Ur,Jc=ya(),q3=a;break}else{if(c=Oa(),f=e.current.alternate,g&&!oD(f)){d0(a),f=Pa,m=c,!Qr||m<=f||(Aa?Aa.run(console.timeStamp.bind(console,"Teared Render",f,m,Fr,Tr,"error")):console.timeStamp("Teared Render",f,m,Fr,Tr,"error")),ho(a,c),m=N1(e,a,!1),g=!1;continue}if(m===So){if(g=a,e.errorRecoveryDisabledLanes&g)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){d0(a),rA(Pa,c,a,Aa),ho(a,c),a=y;e:{c=e,m=g,g=Au;var _=c.current.memoizedState.isDehydrated;if(_&&(Is(c,y).flags|=256),y=N1(c,y,!1),y!==So){if(ep&&!_){c.errorRecoveryDisabledLanes|=m,Ei|=m,m=xi;break e}c=pt,pt=g,c!==null&&(pt===null?pt=c:pt.push.apply(pt,c))}m=y}if(g=!1,m!==So)continue;c=Oa()}}if(m===du){d0(a),rA(Pa,c,a,Aa),ho(a,c),Is(e,0),ni(e,a,0,!0);break}e:{switch(o=e,m){case _n:case du:throw Error("Root did not complete. This is a bug in React.");case xi:if((a&4194048)!==a)break;case qf:d0(a),Rg(Pa,c,a,Aa),ho(a,c),f=a,f&127?Ff=c:f&4194048&&(Zf=c),ni(o,a,Vt,!yi);break e;case So:pt=null;break;case $f:case L6:break;default:throw Error("Unknown root exit status.")}if(Ie.actQueue!==null)x1(o,f,a,pt,bu,r2,Vt,Ei,Ro,m,null,null,Pa,c);else{if((a&62914560)===a&&(g=a2+J6-Oa(),10<g)){if(ni(o,a,Vt,!yi),Oe(o,0,!0)!==0)break e;v0=a,o.timeoutHandle=A5(TN.bind(null,o,f,pt,bu,r2,a,Vt,Ei,Ro,yi,m,"Throttled",Pa,c),g);break e}TN(o,f,pt,bu,r2,a,Vt,Ei,Ro,yi,m,null,Pa,c)}}}break}while(!0);X0(e)}function TN(e,a,o,c,f,m,g,y,_,B,ge,ve,ce,_e){e.timeoutHandle=Oo;var Qe=a.subtreeFlags,ar=null;if((Qe&8192||(Qe&16785408)===16785408)&&(ar={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},VN(a,m,ar),Qe=(m&62914560)===m?a2-Oa():(m&4194048)===m?H6-Oa():0,Qe=YD(ar,Qe),Qe!==null)){v0=m,e.cancelPendingCommit=Qe(x1.bind(null,e,a,m,o,c,f,g,y,_,ge,ar,ar.waitingForViewTransition?"Waiting for the previous Animation":0<ar.count?0<ar.imgCount?"Suspended on CSS and Images":"Suspended on CSS":ar.imgCount===1?"Suspended on an Image":0<ar.imgCount?"Suspended on Images":null,ce,_e)),ni(e,m,g,!B);return}x1(e,a,m,o,c,f,g,y,_,ge,ar,ve,ce,_e)}function oD(e){for(var a=e;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!ft(m(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ni(e,a,o,c){a&=~rp,a&=~Ei,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var f=a;0<f;){var m=31-ct(f),g=1<<m;c[m]=-1,f&=~g}o!==0&&Ze(e,o,a)}function Ms(){return(Or&(Ba|Ut))===Ga?(wc(0),!1):!0}function v1(){if(Dr!==null){if(Ur===Dt)var e=Dr.return;else e=Dr,wd(),_A(e),il=null,nu=0,e=Dr;for(;e!==null;)oN(e.alternate,e),e=e.return;Dr=null}}function ho(e,a){e&127&&(yo=a),e&4194048&&(En=a),e&62914560&&(Q3=a),e&2080374784&&($3=a)}function Is(e,a){Qr&&(console.timeStamp("Blocking Track",.003,.003,"Blocking",Tr,"primary-light"),console.timeStamp("Transition Track",.003,.003,"Transition",Tr,"primary-light"),console.timeStamp("Suspense Track",.003,.003,"Suspense",Tr,"primary-light"),console.timeStamp("Idle Track",.003,.003,"Idle",Tr,"primary-light"));var o=Pa;if(Pa=ya(),kr!==0&&0<o){if(d0(kr),sa===$f||sa===xi)Rg(o,Pa,a,Aa);else{var c=Pa,f=Aa;if(Qr&&!(c<=o)){var m=(a&738197653)===a?"tertiary-dark":"primary-dark",g=(a&536870912)===a?"Prewarm":(a&201326741)===a?"Interrupted Hydration":"Interrupted Render";f?f.run(console.timeStamp.bind(console,g,o,c,Fr,Tr,m)):console.timeStamp(g,o,c,Fr,Tr,m)}}ho(kr,Pa)}if(o=Aa,Aa=null,a&127){Aa=Lc,f=0<=en&&en<yo?yo:en,c=0<=wo&&wo<yo?yo:wo,m=0<=c?c:0<=f?f:Pa,0<=Ff?(d0(2),Tg(Ff,m,a,o)):Of&127,o=f;var y=c,_=Yc,B=0<al,ge=hi===zc,ve=hi===Bf;if(f=Pa,c=Lc,m=Ib,g=Rb,Qr){if(Fr="Blocking",0<o?o>f&&(o=f):o=f,0<y?y>o&&(y=o):y=o,_!==null&&o>y){var ce=B?"secondary-light":"warning";c?c.run(console.timeStamp.bind(console,B?"Consecutive":"Event: "+_,y,o,Fr,Tr,ce)):console.timeStamp(B?"Consecutive":"Event: "+_,y,o,Fr,Tr,ce)}f>o&&(y=ge?"error":(a&738197653)===a?"tertiary-light":"primary-light",ge=ve?"Promise Resolved":ge?"Cascading Update":5<f-o?"Update Blocked":"Update",ve=[],g!=null&&ve.push(["Component name",g]),m!=null&&ve.push(["Method name",m]),o={start:o,end:f,detail:{devtools:{properties:ve,track:Fr,trackGroup:Tr,color:y}}},c?c.run(performance.measure.bind(performance,ge,o)):performance.measure(ge,o))}en=-1.1,hi=0,Rb=Ib=null,Ff=-1.1,al=wo,wo=-1.1,yo=ya()}if(a&4194048&&(Aa=Hc,f=0<=kn&&kn<En?En:kn,o=0<=a0&&a0<En?En:a0,c=0<=gi&&gi<En?En:gi,m=0<=c?c:0<=o?o:Pa,0<=Zf?(d0(256),Tg(Zf,m,a,Aa)):Of&4194048,ve=c,y=Eo,_=0<vi,B=Tb===Bf,m=Pa,c=Hc,g=H3,ge=J3,Qr&&(Fr="Transition",0<o?o>m&&(o=m):o=m,0<f?f>o&&(f=o):f=o,0<ve?ve>f&&(ve=f):ve=f,f>ve&&y!==null&&(ce=_?"secondary-light":"warning",c?c.run(console.timeStamp.bind(console,_?"Consecutive":"Event: "+y,ve,f,Fr,Tr,ce)):console.timeStamp(_?"Consecutive":"Event: "+y,ve,f,Fr,Tr,ce)),o>f&&(c?c.run(console.timeStamp.bind(console,"Action",f,o,Fr,Tr,"primary-dark")):console.timeStamp("Action",f,o,Fr,Tr,"primary-dark")),m>o&&(f=B?"Promise Resolved":5<m-o?"Update Blocked":"Update",ve=[],ge!=null&&ve.push(["Component name",ge]),g!=null&&ve.push(["Method name",g]),o={start:o,end:m,detail:{devtools:{properties:ve,track:Fr,trackGroup:Tr,color:"primary-light"}}},c?c.run(performance.measure.bind(performance,f,o)):performance.measure(f,o))),a0=kn=-1.1,Tb=0,Zf=-1.1,vi=gi,gi=-1.1,En=ya()),a&62914560&&Of&62914560&&(d0(4194304),aA(Q3,Pa)),a&2080374784&&Of&2080374784&&(d0(268435456),aA($3,Pa)),o=e.timeoutHandle,o!==Oo&&(e.timeoutHandle=Oo,Wj(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),v0=0,v1(),Yr=e,Dr=o=cn(e.current,null),kr=a,Ur=Dt,Xt=null,yi=!1,Al=Fe(e,a),ep=!1,sa=_n,Ro=Vt=rp=Ei=wi=0,pt=Au=null,r2=!1,a&8&&(a|=a&32),c=e.entangledLanes,c!==0)for(e=e.entanglements,c&=a;0<c;)f=31-ct(c),m=1<<f,a|=e[f],c&=~m;return an=a,gd(),e=G3(),1e3<e-W3&&(Ie.recentlyCreatedOwnerStacks=0,W3=e),p0.discardPendingWarnings(),o}function BN(e,a){gr=null,Ie.H=lu,Ie.getCurrentStack=null,H0=!1,Ot=null,a===nl||a===Uf?(a=tv(),Ur=fu):a===Ob?(a=tv(),Ur=Y6):Ur=a===Jb?Kb:a!==null&&typeof a=="object"&&typeof a.then=="function"?mu:Kf,Xt=a;var o=Dr;o===null?(sa=du,Hd(e,Mt(a,e.current))):o.mode&wr&&hA(o)}function FN(){var e=Wt.current;return e===null?!0:(kr&4194048)===kr?t0===null:(kr&62914560)===kr||kr&536870912?e===t0:!1}function ZN(){var e=Ie.H;return Ie.H=lu,e===null?lu:e}function ON(){var e=Ie.A;return Ie.A=Vj,e}function af(e){Aa===null&&(Aa=e._debugTask==null?null:e._debugTask)}function tf(){sa=xi,yi||(kr&4194048)!==kr&&Wt.current!==null||(Al=!0),!(wi&134217727)&&!(Ei&134217727)||Yr===null||ni(Yr,kr,Vt,!1)}function N1(e,a,o){var c=Or;Or|=Ba;var f=ZN(),m=ON();if(Yr!==e||kr!==a){if(Q0){var g=e.memoizedUpdaters;0<g.size&&(yc(e,kr),g.clear()),we(e,a)}bu=null,Is(e,a)}a=!1,g=sa;e:do try{if(Ur!==Dt&&Dr!==null){var y=Dr,_=Xt;switch(Ur){case Kb:v1(),g=qf;break e;case fu:case Mo:case Io:case mu:Wt.current===null&&(a=!0);var B=Ur;if(Ur=Dt,Xt=null,Rs(e,y,_,B),o&&Al){g=_n;break e}break;default:B=Ur,Ur=Dt,Xt=null,Rs(e,y,_,B)}}PN(),g=sa;break}catch(ge){BN(e,ge)}while(!0);return a&&e.shellSuspendCounter++,wd(),Or=c,Ie.H=f,Ie.A=m,Dr===null&&(Yr=null,kr=0,gd()),g}function PN(){for(;Dr!==null;)WN(Dr)}function sD(e,a){var o=Or;Or|=Ba;var c=ZN(),f=ON();if(Yr!==e||kr!==a){if(Q0){var m=e.memoizedUpdaters;0<m.size&&(yc(e,kr),m.clear()),we(e,a)}bu=null,t2=Oa()+Q6,Is(e,a)}else Al=Fe(e,a);e:do try{if(Ur!==Dt&&Dr!==null)r:switch(a=Dr,m=Xt,Ur){case Kf:Ur=Dt,Xt=null,Rs(e,a,m,Kf);break;case Mo:case Io:if(rv(m)){Ur=Dt,Xt=null,GN(a);break}a=function(){Ur!==Mo&&Ur!==Io||Yr!==e||(Ur=e2),X0(e)},m.then(a,a);break e;case fu:Ur=e2;break e;case Y6:Ur=qb;break e;case e2:rv(m)?(Ur=Dt,Xt=null,GN(a)):(Ur=Dt,Xt=null,Rs(e,a,m,e2));break;case qb:var g=null;switch(Dr.tag){case 26:g=Dr.memoizedState;case 5:case 27:var y=Dr;if(g?Rx(g):y.stateNode.complete){Ur=Dt,Xt=null;var _=y.sibling;if(_!==null)Dr=_;else{var B=y.return;B!==null?(Dr=B,nf(B)):Dr=null}break r}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}Ur=Dt,Xt=null,Rs(e,a,m,qb);break;case mu:Ur=Dt,Xt=null,Rs(e,a,m,mu);break;case Kb:v1(),sa=qf;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}Ie.actQueue!==null?PN():lD();break}catch(ge){BN(e,ge)}while(!0);return wd(),Ie.H=c,Ie.A=f,Or=o,Dr!==null?_n:(Yr=null,kr=0,gd(),sa)}function lD(){for(;Dr!==null&&!sV();)WN(Dr)}function WN(e){var a=e.alternate;(e.mode&wr)!==pr?(pA(e),a=W(e,u1,a,e,an),hA(e)):a=W(e,u1,a,e,an),e.memoizedProps=e.pendingProps,a===null?nf(e):Dr=a}function GN(e){var a=W(e,cD,e);e.memoizedProps=e.pendingProps,a===null?nf(e):Dr=a}function cD(e){var a=e.alternate,o=(e.mode&wr)!==pr;switch(o&&pA(e),e.tag){case 15:case 0:a=Kv(a,e,e.pendingProps,e.type,void 0,kr);break;case 11:a=Kv(a,e,e.pendingProps,e.type.render,e.ref,kr);break;case 5:_A(e);default:oN(a,e),e=Dr=Wg(e,an),a=u1(a,e,an)}return o&&hA(e),a}function Rs(e,a,o,c){wd(),_A(a),il=null,nu=0;var f=a.return;try{if(Y7(e,f,a,o,kr)){sa=du,Hd(e,Mt(o,e.current)),Dr=null;return}}catch(m){if(f!==null)throw Dr=f,m;sa=du,Hd(e,Mt(o,e.current)),Dr=null;return}a.flags&32768?(Mr||c===Kf?e=!0:Al||kr&536870912?e=!1:(yi=e=!0,(c===Mo||c===Io||c===fu||c===mu)&&(c=Wt.current,c!==null&&c.tag===13&&(c.flags|=16384))),UN(a,e)):nf(a)}function nf(e){var a=e;do{if(a.flags&32768){UN(a,yi);return}var o=a.alternate;if(e=a.return,pA(a),o=W(a,Q7,o,a,an),(a.mode&wr)!==pr&&Qg(a),o!==null){Dr=o;return}if(a=a.sibling,a!==null){Dr=a;return}Dr=a=e}while(a!==null);sa===_n&&(sa=L6)}function UN(e,a){do{var o=$7(e.alternate,e);if(o!==null){o.flags&=32767,Dr=o;return}if((e.mode&wr)!==pr){Qg(e),o=e.actualDuration;for(var c=e.child;c!==null;)o+=c.actualDuration,c=c.sibling;e.actualDuration=o}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(e=e.sibling,e!==null)){Dr=e;return}Dr=e=o}while(e!==null);sa=qf,Dr=null}function x1(e,a,o,c,f,m,g,y,_,B,ge,ve,ce,_e){e.cancelPendingCommit=null;do xc();while(Va!==Di);if(p0.flushLegacyContextWarning(),p0.flushPendingUnsafeLifecycleWarnings(),(Or&(Ba|Ut))!==Ga)throw Error("Should not already be working.");if(d0(o),B===So?rA(ce,_e,o,Aa):c!==null?R7(ce,_e,o,c,a!==null&&a.alternate!==null&&a.alternate.memoizedState.isDehydrated&&(a.flags&256)!==0,Aa):I7(ce,_e,o,Aa),a!==null){if(o===0&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),a===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(m=a.lanes|a.childLanes,m|=jb,Pe(e,o,m,g,y,_),e===Yr&&(Dr=Yr=null,kr=0),bl=a,Vi=e,v0=o,np=m,op=f,a5=c,ip=_e,t5=ve,N0=n2,n5=null,a.actualDuration!==0||a.subtreeFlags&10256||a.flags&10256?(e.callbackNode=null,e.callbackPriority=0,AD(Ps,function(){return xu=window.event,N0===n2&&(N0=tp),HN(),null})):(e.callbackNode=null,e.callbackPriority=0),wn=null,pi=ya(),ve!==null&&T7(_e,pi,ve,Aa),c=(a.flags&13878)!==0,a.subtreeFlags&13878||c){c=Ie.T,Ie.T=null,f=Wr.p,Wr.p=Jt,g=Or,Or|=Ut;try{tD(e,a,o)}finally{Or=g,Wr.p=f,Ie.T=c}}Va=q6,XN(),zN(),LN()}}function XN(){if(Va===q6){Va=Di;var e=Vi,a=bl,o=v0,c=(a.flags&13878)!==0;if(a.subtreeFlags&13878||c){c=Ie.T,Ie.T=null;var f=Wr.p;Wr.p=Jt;var m=Or;Or|=Ut;try{fl=o,ml=e,Vd(),xN(a,e),ml=fl=null,o=hp;var g=Sg(e.containerInfo),y=o.focusedElem,_=o.selectionRange;if(g!==y&&y&&y.ownerDocument&&_g(y.ownerDocument.documentElement,y)){if(_!==null&&qm(y)){var B=_.start,ge=_.end;if(ge===void 0&&(ge=B),"selectionStart"in y)y.selectionStart=B,y.selectionEnd=Math.min(ge,y.value.length);else{var ve=y.ownerDocument||document,ce=ve&&ve.defaultView||window;if(ce.getSelection){var _e=ce.getSelection(),Qe=y.textContent.length,ar=Math.min(_.start,Qe),Jr=_.end===void 0?ar:Math.min(_.end,Qe);!_e.extend&&ar>Jr&&(g=Jr,Jr=ar,ar=g);var Br=Cg(y,ar),le=Cg(y,Jr);if(Br&&le&&(_e.rangeCount!==1||_e.anchorNode!==Br.node||_e.anchorOffset!==Br.offset||_e.focusNode!==le.node||_e.focusOffset!==le.offset)){var ue=ve.createRange();ue.setStart(Br.node,Br.offset),_e.removeAllRanges(),ar>Jr?(_e.addRange(ue),_e.extend(le.node,le.offset)):(ue.setEnd(le.node,le.offset),_e.addRange(ue))}}}}for(ve=[],_e=y;_e=_e.parentNode;)_e.nodeType===1&&ve.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<ve.length;y++){var pe=ve[y];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}N2=!!pp,hp=pp=null}finally{Or=m,Wr.p=f,Ie.T=c}}e.current=a,Va=K6}}function zN(){if(Va===K6){Va=Di;var e=n5;if(e!==null){pi=ya();var a=yn,o=pi;!Qr||o<=a||console.timeStamp(e,a,o,Fr,Tr,"secondary-light")}e=Vi,a=bl,o=v0;var c=(a.flags&8772)!==0;if(a.subtreeFlags&8772||c){c=Ie.T,Ie.T=null;var f=Wr.p;Wr.p=Jt;var m=Or;Or|=Ut;try{fl=o,ml=e,Vd(),pN(e,a.alternate,a),ml=fl=null}finally{Or=m,Wr.p=f,Ie.T=c}}e=ip,a=t5,yn=ya(),e=a===null?e:pi,a=yn,o=N0===ap,c=Aa,wn!==null?Bg(e,a,wn,!1,c):!Qr||a<=e||(c?c.run(console.timeStamp.bind(console,o?"Commit Interrupted View Transition":"Commit",e,a,Fr,Tr,o?"error":"secondary-dark")):console.timeStamp(o?"Commit Interrupted View Transition":"Commit",e,a,Fr,Tr,o?"error":"secondary-dark")),Va=e5}}function LN(){if(Va===r5||Va===e5){if(Va===r5){var e=yn;yn=ya();var a=yn,o=N0===ap;!Qr||a<=e||console.timeStamp(o?"Interrupted View Transition":"Starting Animation",e,a,Fr,Tr,o?" error":"secondary-light"),N0!==ap&&(N0=$6)}Va=Di,lV(),e=Vi;var c=bl;a=v0,o=a5;var f=c.actualDuration!==0||(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0;f?Va=i2:(Va=Di,bl=Vi=null,YN(e,e.pendingLanes),To=0,hu=null);var m=e.pendingLanes;if(m===0&&(ki=null),f||qN(e),m=ne(a),c=c.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{var g=(c.current.flags&128)===128;switch(m){case Jt:var y=ob;break;case $0:y=sb;break;case hn:y=Ps;break;case wf:y=lb;break;default:y=Ps}nt.onCommitFiberRoot(Ws,c,y,g)}catch(ve){J0||(J0=!0,console.error("React instrumentation encountered an error: %o",ve))}if(Q0&&e.memoizedUpdaters.clear(),iD(),o!==null){g=Ie.T,y=Wr.p,Wr.p=Jt,Ie.T=null;try{var _=e.onRecoverableError;for(c=0;c<o.length;c++){var B=o[c],ge=uD(B.stack);W(B.source,_,B.value,ge)}}finally{Ie.T=g,Wr.p=y}}v0&3&&xc(),X0(e),m=e.pendingLanes,a&261930&&m&42?(Wf=!0,e===sp?pu++:(pu=0,sp=e)):pu=0,f||ho(a,yn),wc(0)}}function uD(e){return e={componentStack:e},Object.defineProperty(e,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),e}function YN(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,ic(a)))}function xc(){return XN(),zN(),LN(),HN()}function HN(){if(Va!==i2)return!1;var e=Vi,a=np;np=0;var o=ne(v0),c=hn>o?hn:o;o=Ie.T;var f=Wr.p;try{Wr.p=c,Ie.T=null;var m=op;op=null,c=Vi;var g=v0;if(Va=Di,bl=Vi=null,v0=0,(Or&(Ba|Ut))!==Ga)throw Error("Cannot flush passive effects while already rendering.");d0(g),lp=!0,o2=!1;var y=0;if(wn=null,y=Oa(),N0===$6)aA(yn,y,Nj);else{var _=yn,B=y,ge=N0===tp;!Qr||B<=_||(Aa?Aa.run(console.timeStamp.bind(console,ge?"Waiting for Paint":"Waiting",_,B,Fr,Tr,"secondary-light")):console.timeStamp(ge?"Waiting for Paint":"Waiting",_,B,Fr,Tr,"secondary-light"))}_=Or,Or|=Ut;var ve=c.current;Vd(),CN(ve);var ce=c.current;ve=ip,Vd(),kN(c,ce,g,m,ve),qN(c),Or=_;var _e=Oa();if(ce=y,ve=Aa,wn!==null?Bg(ce,_e,wn,!0,ve):!Qr||_e<=ce||(ve?ve.run(console.timeStamp.bind(console,"Remaining Effects",ce,_e,Fr,Tr,"secondary-dark")):console.timeStamp("Remaining Effects",ce,_e,Fr,Tr,"secondary-dark")),ho(g,_e),wc(0,!1),o2?c===hu?To++:(To=0,hu=c):To=0,o2=lp=!1,nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ws,c)}catch(ar){J0||(J0=!0,console.error("React instrumentation encountered an error: %o",ar))}var Qe=c.current.stateNode;return Qe.effectDuration=0,Qe.passiveEffectDuration=0,!0}finally{Wr.p=f,Ie.T=o,YN(e,a)}}function JN(e,a,o){a=Mt(o,a),$g(a),a=KA(e.stateNode,a,2),e=ei(e,a,2),e!==null&&(xe(e,2),X0(e))}function Pr(e,a,o){if(pl=!1,e.tag===3)JN(e,e,o);else{for(;a!==null;){if(a.tag===3){JN(a,e,o);return}if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ki===null||!ki.has(c))){e=Mt(o,e),$g(e),o=e1(2),c=ei(a,o,2),c!==null&&(r1(o,c,a,e),xe(c,2),X0(c));return}}a=a.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,o)}}function y1(e,a,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Cj;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(o)||(ep=!0,f.add(o),c=dD.bind(null,e,a,o),Q0&&yc(e,o),a.then(c,c))}function dD(e,a,o){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,o&127?0>en&&(yo=en=ya(),Lc=Tf("Promise Resolved"),hi=Bf):o&4194048&&0>a0&&(En=a0=ya(),Hc=Tf("Promise Resolved"),Tb=Bf),MN()&&Ie.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),Yr===e&&(kr&o)===o&&(sa===xi||sa===$f&&(kr&62914560)===kr&&Oa()-a2<J6?(Or&Ba)===Ga&&Is(e,0):rp|=o,Ro===kr&&(Ro=0)),X0(e)}function QN(e,a){a===0&&(a=me()),e=tt(e,a),e!==null&&(xe(e,a),X0(e))}function fD(e){var a=e.memoizedState,o=0;a!==null&&(o=a.retryLane),QN(e,o)}function mD(e,a){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}c!==null&&c.delete(a),QN(e,o)}function w1(e,a,o){if(a.subtreeFlags&67117056)for(a=a.child;a!==null;){var c=e,f=a,m=f.type===hf;m=o||m,f.tag!==22?f.flags&67108864?m&&W(f,$N,c,f):w1(c,f,m):f.memoizedState===null&&(m&&f.flags&8192?W(f,$N,c,f):f.subtreeFlags&67108864&&W(f,w1,c,f,m)),a=a.sibling}}function $N(e,a){ae(!0);try{wN(a),_N(a),EN(e,a.alternate,a,!1),DN(e,a,0,null,!1,0)}finally{ae(!1)}}function qN(e){var a=!0;e.current.mode&(it|b0)||(a=!1),w1(e,e.current,a)}function KN(e){if((Or&Ba)===Ga){var a=e.tag;if(a===3||a===1||a===0||a===11||a===14||a===15){if(a=L(e)||"ReactComponent",s2!==null){if(s2.has(a))return;s2.add(a)}else s2=new Set([a]);W(e,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously tries to update the component. Move this work to useEffect instead.")})}}}function yc(e,a){Q0&&e.memoizedUpdaters.forEach(function(o){ra(e,o,a)})}function AD(e,a){var o=Ie.actQueue;return o!==null?(o.push(a),Mj):ib(e,a)}function bD(e){MN()&&Ie.actQueue===null&&W(e,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,L(e))})}function X0(e){e!==hl&&e.next===null&&(hl===null?l2=hl=e:hl=hl.next=e),c2=!0,Ie.actQueue!==null?up||(up=!0,tx()):cp||(cp=!0,tx())}function wc(e,a){if(!dp&&c2){dp=!0;do for(var o=!1,c=l2;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var g=c.suspendedLanes,y=c.pingedLanes;m=(1<<31-ct(42|e)+1)-1,m&=f&~(g&~y),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,ax(c,m))}else m=kr,m=Oe(c,c===Yr?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==Oo),!(m&3)||Fe(c,m)||(o=!0,ax(c,m));c=c.next}while(o);dp=!1}}function pD(){xu=window.event,E1()}function E1(){c2=up=cp=!1;var e=0;ji!==0&&wD()&&(e=ji);for(var a=Oa(),o=null,c=l2;c!==null;){var f=c.next,m=ex(c,a);m===0?(c.next=null,o===null?l2=f:o.next=f,f===null&&(hl=o)):(o=c,(e!==0||m&3)&&(c2=!0)),c=f}Va!==Di&&Va!==i2||wc(e),ji!==0&&(ji=0)}function ex(e,a){for(var o=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var g=31-ct(m),y=1<<g,_=f[g];_===-1?(!(y&o)||y&c)&&(f[g]=$e(y,a)):_<=a&&(e.expiredLanes|=y),m&=~y}if(a=Yr,o=kr,o=Oe(e,e===a?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==Oo),c=e.callbackNode,o===0||e===a&&(Ur===Mo||Ur===Io)||e.cancelPendingCommit!==null)return c!==null&&k1(c),e.callbackNode=null,e.callbackPriority=0;if(!(o&3)||Fe(e,o)){if(a=o&-o,a!==e.callbackPriority||Ie.actQueue!==null&&c!==fp)k1(c);else return a;switch(ne(o)){case Jt:case $0:o=sb;break;case hn:o=Ps;break;case wf:o=lb;break;default:o=Ps}return c=rx.bind(null,e),Ie.actQueue!==null?(Ie.actQueue.push(c),o=fp):o=ib(o,c),e.callbackPriority=a,e.callbackNode=o,a}return c!==null&&k1(c),e.callbackPriority=2,e.callbackNode=null,2}function rx(e,a){if(Wf=Pf=!1,xu=window.event,Va!==Di&&Va!==i2)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(N0===n2&&(N0=tp),xc()&&e.callbackNode!==o)return null;var c=kr;return c=Oe(e,e===Yr?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==Oo),c===0?null:(RN(e,c,a),ex(e,Oa()),e.callbackNode!=null&&e.callbackNode===o?rx.bind(null,e):null)}function ax(e,a){if(xc())return null;Pf=Wf,Wf=!1,RN(e,a,!0)}function k1(e){e!==fp&&e!==null&&oV(e)}function tx(){Ie.actQueue!==null&&Ie.actQueue.push(function(){return E1(),null}),Gj(function(){(Or&(Ba|Ut))!==Ga?ib(ob,pD):E1()})}function D1(){if(ji===0){var e=ko;e===0&&(e=Nf,Nf<<=1,!(Nf&261888)&&(Nf=256)),ji=e}return ji}function nx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:(je(e,"action"),rc(""+e))}function ix(e,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,e.id&&o.setAttribute("form",e.id),a.parentNode.insertBefore(o,a),e=new FormData(e),o.parentNode.removeChild(o),e}function hD(e,a,o,c,f){if(a==="submit"&&o&&o.stateNode===f){var m=nx((f[ut]||null).action),g=c.submitter;g&&(a=(a=g[ut]||null)?nx(a.formAction):g.getAttribute("formAction"),a!==null&&(m=a,g=null));var y=new jf("action","action",null,c,f);e.push({event:y,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ji!==0){var _=g?ix(f,g):new FormData(f),B={pending:!0,data:_,method:f.method,action:m};Object.freeze(B),LA(o,B,null,_)}}else typeof m=="function"&&(y.preventDefault(),_=g?ix(f,g):new FormData(f),B={pending:!0,data:_,method:f.method,action:m},Object.freeze(B),LA(o,B,m,_))},currentTarget:f}]})}}function of(e,a,o){e.currentTarget=o;try{a(e)}catch(c){Eb(c)}e.currentTarget=null}function ox(e,a){a=(a&4)!==0;for(var o=0;o<e.length;o++){var c=e[o];e:{var f=void 0,m=c.event;if(c=c.listeners,a)for(var g=c.length-1;0<=g;g--){var y=c[g],_=y.instance,B=y.currentTarget;if(y=y.listener,_!==f&&m.isPropagationStopped())break e;_!==null?W(_,of,m,y,B):of(m,y,B),f=_}else for(g=0;g<c.length;g++){if(y=c[g],_=y.instance,B=y.currentTarget,y=y.listener,_!==f&&m.isPropagationStopped())break e;_!==null?W(_,of,m,y,B):of(m,y,B),f=_}}}}function Rr(e,a){mp.has(e)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',e);var o=a[cb];o===void 0&&(o=a[cb]=new Set);var c=e+"__bubble";o.has(c)||(sx(a,e,2,!1),o.add(c))}function V1(e,a,o){mp.has(e)&&!a&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',e);var c=0;a&&(c|=4),sx(o,e,c,a)}function j1(e){if(!e[u2]){e[u2]=!0,t3.forEach(function(o){o!=="selectionchange"&&(mp.has(o)||V1(o,!1,e),V1(o,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[u2]||(a[u2]=!0,V1("selectionchange",!1,a))}}function sx(e,a,o,c){switch(Px(a)){case Jt:var f=$D;break;case $0:f=qD;break;default:f=X1}o=f.bind(null,a,o,e),f=void 0,!Ab||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(a,o,{capture:!0,passive:f}):e.addEventListener(a,o,!0):f!==void 0?e.addEventListener(a,o,{passive:f}):e.addEventListener(a,o,!1)}function C1(e,a,o,c,f){var m=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var g=c.tag;if(g===3||g===4){var y=c.stateNode.containerInfo;if(y===f)break;if(g===4)for(g=c.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===f)return;g=g.return}for(;y!==null;){if(g=Ve(y),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){c=m=g;continue e}y=y.parentNode}}c=c.return}gg(function(){var B=m,ge=Qm(o),ve=[];e:{var ce=P3.get(e);if(ce!==void 0){var _e=jf,Qe=e;switch(e){case"keypress":if(md(o)===0)break e;case"keydown":case"keyup":_e=YV;break;case"focusin":Qe="focus",_e=gb;break;case"focusout":Qe="blur",_e=gb;break;case"beforeblur":case"afterblur":_e=gb;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=D3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=TV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=QV;break;case B3:case F3:case Z3:_e=ZV;break;case O3:_e=qV;break;case"scroll":case"scrollend":_e=IV;break;case"wheel":_e=ej;break;case"copy":case"cut":case"paste":_e=PV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=j3;break;case"toggle":case"beforetoggle":_e=aj}var ar=(a&4)!==0,Jr=!ar&&(e==="scroll"||e==="scrollend"),Br=ar?ce!==null?ce+"Capture":null:ce;ar=[];for(var le=B,ue;le!==null;){var pe=le;if(ue=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ue===null||Br===null||(pe=ac(le,Br),pe!=null&&ar.push(Ec(le,pe,ue))),Jr)break;le=le.return}0<ar.length&&(ce=new _e(ce,Qe,null,o,ge),ve.push({event:ce,listeners:ar}))}}if(!(a&7)){e:{if(ce=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",ce&&o!==Tc&&(Qe=o.relatedTarget||o.fromElement)&&(Ve(Qe)||Qe[ui]))break e;if((_e||ce)&&(ce=ge.window===ge?ge:(ce=ge.ownerDocument)?ce.defaultView||ce.parentWindow:window,_e?(Qe=o.relatedTarget||o.toElement,_e=B,Qe=Qe?Ve(Qe):null,Qe!==null&&(Jr=G(Qe),ar=Qe.tag,Qe!==Jr||ar!==5&&ar!==27&&ar!==6)&&(Qe=null)):(_e=null,Qe=B),_e!==Qe)){if(ar=D3,pe="onMouseLeave",Br="onMouseEnter",le="mouse",(e==="pointerout"||e==="pointerover")&&(ar=j3,pe="onPointerLeave",Br="onPointerEnter",le="pointer"),Jr=_e==null?ce:Le(_e),ue=Qe==null?ce:Le(Qe),ce=new ar(pe,le+"leave",_e,o,ge),ce.target=Jr,ce.relatedTarget=ue,pe=null,Ve(ge)===B&&(ar=new ar(Br,le+"enter",Qe,o,ge),ar.target=ue,ar.relatedTarget=Jr,pe=ar),Jr=pe,_e&&Qe)r:{for(ar=gD,Br=_e,le=Qe,ue=0,pe=Br;pe;pe=ar(pe))ue++;pe=0;for(var Te=le;Te;Te=ar(Te))pe++;for(;0<ue-pe;)Br=ar(Br),ue--;for(;0<pe-ue;)le=ar(le),pe--;for(;ue--;){if(Br===le||le!==null&&Br===le.alternate){ar=Br;break r}Br=ar(Br),le=ar(le)}ar=null}else ar=null;_e!==null&&lx(ve,ce,_e,ar,!1),Qe!==null&&Jr!==null&&lx(ve,Jr,Qe,ar,!0)}}e:{if(ce=B?Le(B):window,_e=ce.nodeName&&ce.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ce.type==="file")var qe=kg;else if(wg(ce))if(R3)qe=_7;else{qe=j7;var vr=V7}else _e=ce.nodeName,!_e||_e.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?B&&ec(B.elementType)&&(qe=kg):qe=C7;if(qe&&(qe=qe(e,B))){Eg(ve,qe,o,ge);break e}vr&&vr(e,ce,B),e==="focusout"&&B&&ce.type==="number"&&B.memoizedProps.value!=null&&Xm(ce,"number",ce.value)}switch(vr=B?Le(B):window,e){case"focusin":(wg(vr)||vr.contentEditable==="true")&&(Hs=vr,Nb=B,Gc=null);break;case"focusout":Gc=Nb=Hs=null;break;case"mousedown":xb=!0;break;case"contextmenu":case"mouseup":case"dragend":xb=!1,Mg(ve,o,ge);break;case"selectionchange":if(oj)break;case"keydown":case"keyup":Mg(ve,o,ge)}var cr;if(vb)e:{switch(e){case"compositionstart":var sr="onCompositionStart";break e;case"compositionend":sr="onCompositionEnd";break e;case"compositionupdate":sr="onCompositionUpdate";break e}sr=void 0}else Ys?xg(e,o)&&(sr="onCompositionEnd"):e==="keydown"&&o.keyCode===C3&&(sr="onCompositionStart");sr&&(_3&&o.locale!=="ko"&&(Ys||sr!=="onCompositionStart"?sr==="onCompositionEnd"&&Ys&&(cr=vg()):(di=ge,bb="value"in di?di.value:di.textContent,Ys=!0)),vr=sf(B,sr),0<vr.length&&(sr=new V3(sr,e,null,o,ge),ve.push({event:sr,listeners:vr}),cr?sr.data=cr:(cr=yg(o),cr!==null&&(sr.data=cr)))),(cr=nj?w7(e,o):E7(e,o))&&(sr=sf(B,"onBeforeInput"),0<sr.length&&(vr=new GV("onBeforeInput","beforeinput",null,o,ge),ve.push({event:vr,listeners:sr}),vr.data=cr)),hD(ve,e,B,o,ge)}ox(ve,a)})}function Ec(e,a,o){return{instance:e,listener:a,currentTarget:o}}function sf(e,a){for(var o=a+"Capture",c=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ac(e,o),f!=null&&c.unshift(Ec(e,f,m)),f=ac(e,a),f!=null&&c.push(Ec(e,f,m))),e.tag===3)return c;e=e.return}return[]}function gD(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lx(e,a,o,c,f){for(var m=a._reactName,g=[];o!==null&&o!==c;){var y=o,_=y.alternate,B=y.stateNode;if(y=y.tag,_!==null&&_===c)break;y!==5&&y!==26&&y!==27||B===null||(_=B,f?(B=ac(o,m),B!=null&&g.unshift(Ec(o,B,_))):f||(B=ac(o,m),B!=null&&g.push(Ec(o,B,_)))),o=o.return}g.length!==0&&e.push({event:a,listeners:g})}function _1(e,a){v7(e,a),e!=="input"&&e!=="textarea"&&e!=="select"||a==null||a.value!==null||E3||(E3=!0,e==="select"&&a.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",e):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",e));var o={registrationNameDependencies:go,possibleRegistrationNames:ub};ec(e)||typeof a.is=="string"||x7(e,a,o),a.contentEditable&&!a.suppressContentEditableWarning&&a.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function Za(e,a,o,c){a!==o&&(o=ii(o),ii(a)!==o&&(c[e]=a))}function vD(e,a,o){a.forEach(function(c){o[dx(c)]=c==="style"?M1(e):e.getAttribute(c)})}function z0(e,a){a===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",e,e,e):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",e,typeof a)}function cx(e,a){return e=e.namespaceURI===kf||e.namespaceURI===Us?e.ownerDocument.createElementNS(e.namespaceURI,e.tagName):e.ownerDocument.createElement(e.tagName),e.innerHTML=a,e.innerHTML}function ii(e){return ke(e)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",oe(e)),Ne(e)),(typeof e=="string"?e:""+e).replace(Ij,`
`).replace(Rj,"")}function ux(e,a){return a=ii(a),ii(e)===a}function zr(e,a,o,c,f,m){switch(o){case"children":typeof c=="string"?(fd(c,a,!1),a==="body"||a==="textarea"&&c===""||Kl(e,c)):(typeof c=="number"||typeof c=="bigint")&&(fd(""+c,a,!1),a!=="body"&&Kl(e,""+c));break;case"className":_r(e,"class",c);break;case"tabIndex":_r(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(e,o,c);break;case"style":bg(e,c,m);break;case"data":if(a!=="object"){_r(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){console.error(o==="src"?'An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.':'An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',o,o),e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}je(c,o),c=rc(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(c!=null&&(a==="form"?o==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof c=="function"&&(f.encType==null&&f.method==null||m2||(m2=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),f.target==null||f2||(f2=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):a==="input"||a==="button"?o==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):a!=="input"||f.type==="submit"||f.type==="image"||d2?a!=="button"||f.type==null||f.type==="submit"||d2?typeof c=="function"&&(f.name==null||c5||(c5=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),f.formEncType==null&&f.formMethod==null||m2||(m2=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),f.formTarget==null||f2||(f2=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(d2=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(d2=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):console.error(o==="action"?"You can only pass the action prop to <form>.":"You can only pass the formAction prop to <input> or <button>.")),typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(a!=="input"&&zr(e,a,"name",f.name,f,null),zr(e,a,"formEncType",f.formEncType,f,null),zr(e,a,"formMethod",f.formMethod,f,null),zr(e,a,"formTarget",f.formTarget,f,null)):(zr(e,a,"encType",f.encType,f,null),zr(e,a,"method",f.method,f,null),zr(e,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}je(c,o),c=rc(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(typeof c!="function"&&z0(o,c),e.onclick=ln);break;case"onScroll":c!=null&&(typeof c!="function"&&z0(o,c),Rr("scroll",e));break;case"onScrollEnd":c!=null&&(typeof c!="function"&&z0(o,c),Rr("scrollend",e));break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(o=c.__html,o!=null){if(f.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}je(c,o),o=rc(""+c),e.setAttributeNS(Bo,"xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?(je(c,o),e.setAttribute(o,""+c)):e.removeAttribute(o);break;case"inert":c!==""||A2[o]||(A2[o]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",o));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?(je(c,o),e.setAttribute(o,c)):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?(je(c,o),e.setAttribute(o,c)):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):(je(c,o),e.setAttribute(o,c));break;case"popover":Rr("beforetoggle",e),Rr("toggle",e),tr(e,"popover",c);break;case"xlinkActuate":Sr(e,Bo,"xlink:actuate",c);break;case"xlinkArcrole":Sr(e,Bo,"xlink:arcrole",c);break;case"xlinkRole":Sr(e,Bo,"xlink:role",c);break;case"xlinkShow":Sr(e,Bo,"xlink:show",c);break;case"xlinkTitle":Sr(e,Bo,"xlink:title",c);break;case"xlinkType":Sr(e,Bo,"xlink:type",c);break;case"xmlBase":Sr(e,Ap,"xml:base",c);break;case"xmlLang":Sr(e,Ap,"xml:lang",c);break;case"xmlSpace":Sr(e,Ap,"xml:space",c);break;case"is":m!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),tr(e,"is",c);break;case"innerText":case"textContent":break;case"popoverTarget":u5||c==null||typeof c!="object"||(u5=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",c));default:!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N"?(o=pg(o),tr(e,o,c)):go.hasOwnProperty(o)&&c!=null&&typeof c!="function"&&z0(o,c)}}function S1(e,a,o,c,f,m){switch(o){case"style":bg(e,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(o=c.__html,o!=null){if(f.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");e.innerHTML=o}}break;case"children":typeof c=="string"?Kl(e,c):(typeof c=="number"||typeof c=="bigint")&&Kl(e,""+c);break;case"onScroll":c!=null&&(typeof c!="function"&&z0(o,c),Rr("scroll",e));break;case"onScrollEnd":c!=null&&(typeof c!="function"&&z0(o,c),Rr("scrollend",e));break;case"onClick":c!=null&&(typeof c!="function"&&z0(o,c),e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(go.hasOwnProperty(o))c!=null&&typeof c!="function"&&z0(o,c);else e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),m=e[ut]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(a,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(a,c,f);break e}o in e?e[o]=c:c===!0?e.setAttribute(o,""):tr(e,o,c)}}}function Ja(e,a,o){switch(_1(a,o),a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rr("error",e),Rr("load",e);var c=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var g=o[m];if(g!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:zr(e,a,m,g,o,null)}}f&&zr(e,a,"srcSet",o.srcSet,o,null),c&&zr(e,a,"src",o.src,o,null);return;case"input":Ye("input",o),Rr("invalid",e);var y=m=g=f=null,_=null,B=null;for(c in o)if(o.hasOwnProperty(c)){var ge=o[c];if(ge!=null)switch(c){case"name":f=ge;break;case"type":g=ge;break;case"checked":_=ge;break;case"defaultChecked":B=ge;break;case"value":m=ge;break;case"defaultValue":y=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:zr(e,a,c,ge,o,null)}}Fa(e,o),vs(e,m,y,_,B,g,f,!1);return;case"select":Ye("select",o),Rr("invalid",e),c=g=m=null;for(f in o)if(o.hasOwnProperty(f)&&(y=o[f],y!=null))switch(f){case"value":m=y;break;case"defaultValue":g=y;break;case"multiple":c=y;default:zr(e,a,f,y,o,null)}tg(e,o),a=m,o=g,e.multiple=!!c,a!=null?Ns(e,!!c,a,!1):o!=null&&Ns(e,!!c,o,!0);return;case"textarea":Ye("textarea",o),Rr("invalid",e),m=f=c=null;for(g in o)if(o.hasOwnProperty(g)&&(y=o[g],y!=null))switch(g){case"value":c=y;break;case"defaultValue":f=y;break;case"children":m=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:zr(e,a,g,y,o,null)}ng(e,o),og(e,c,f,m);return;case"option":rg(e,o);for(_ in o)if(o.hasOwnProperty(_)&&(c=o[_],c!=null))switch(_){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:zr(e,a,_,c,o,null)}return;case"dialog":Rr("beforetoggle",e),Rr("toggle",e),Rr("cancel",e),Rr("close",e);break;case"iframe":case"object":Rr("load",e);break;case"video":case"audio":for(c=0;c<gu.length;c++)Rr(gu[c],e);break;case"image":Rr("error",e),Rr("load",e);break;case"details":Rr("toggle",e);break;case"embed":case"source":case"link":Rr("error",e),Rr("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:zr(e,a,B,c,o,null)}return;default:if(ec(a)){for(ge in o)o.hasOwnProperty(ge)&&(c=o[ge],c!==void 0&&S1(e,a,ge,c,o,void 0));return}}for(y in o)o.hasOwnProperty(y)&&(c=o[y],c!=null&&zr(e,a,y,c,o,null))}function ND(e,a,o,c){switch(_1(a,c),a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,g=null,y=null,_=null,B=null,ge=null;for(_e in o){var ve=o[_e];if(o.hasOwnProperty(_e)&&ve!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":_=ve;default:c.hasOwnProperty(_e)||zr(e,a,_e,null,c,ve)}}for(var ce in c){var _e=c[ce];if(ve=o[ce],c.hasOwnProperty(ce)&&(_e!=null||ve!=null))switch(ce){case"type":m=_e;break;case"name":f=_e;break;case"checked":B=_e;break;case"defaultChecked":ge=_e;break;case"value":g=_e;break;case"defaultValue":y=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:_e!==ve&&zr(e,a,ce,_e,c,ve)}}a=o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null,c=c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null,a||!c||l5||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),l5=!0),!a||c||s5||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),s5=!0),La(e,g,y,_,B,ge,m,f);return;case"select":_e=g=y=ce=null;for(m in o)if(_=o[m],o.hasOwnProperty(m)&&_!=null)switch(m){case"value":break;case"multiple":_e=_;default:c.hasOwnProperty(m)||zr(e,a,m,null,c,_)}for(f in c)if(m=c[f],_=o[f],c.hasOwnProperty(f)&&(m!=null||_!=null))switch(f){case"value":ce=m;break;case"defaultValue":y=m;break;case"multiple":g=m;default:m!==_&&zr(e,a,f,m,c,_)}c=y,a=g,o=_e,ce!=null?Ns(e,!!a,ce,!1):!!o!=!!a&&(c!=null?Ns(e,!!a,c,!0):Ns(e,!!a,a?[]:"",!1));return;case"textarea":_e=ce=null;for(y in o)if(f=o[y],o.hasOwnProperty(y)&&f!=null&&!c.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:zr(e,a,y,null,c,f)}for(g in c)if(f=c[g],m=o[g],c.hasOwnProperty(g)&&(f!=null||m!=null))switch(g){case"value":ce=f;break;case"defaultValue":_e=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:f!==m&&zr(e,a,g,f,c,m)}ig(e,ce,_e);return;case"option":for(var Qe in o)if(ce=o[Qe],o.hasOwnProperty(Qe)&&ce!=null&&!c.hasOwnProperty(Qe))switch(Qe){case"selected":e.selected=!1;break;default:zr(e,a,Qe,null,c,ce)}for(_ in c)if(ce=c[_],_e=o[_],c.hasOwnProperty(_)&&ce!==_e&&(ce!=null||_e!=null))switch(_){case"selected":e.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:zr(e,a,_,ce,c,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ar in o)ce=o[ar],o.hasOwnProperty(ar)&&ce!=null&&!c.hasOwnProperty(ar)&&zr(e,a,ar,null,c,ce);for(B in c)if(ce=c[B],_e=o[B],c.hasOwnProperty(B)&&ce!==_e&&(ce!=null||_e!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:zr(e,a,B,ce,c,_e)}return;default:if(ec(a)){for(var Jr in o)ce=o[Jr],o.hasOwnProperty(Jr)&&ce!==void 0&&!c.hasOwnProperty(Jr)&&S1(e,a,Jr,void 0,c,ce);for(ge in c)ce=c[ge],_e=o[ge],!c.hasOwnProperty(ge)||ce===_e||ce===void 0&&_e===void 0||S1(e,a,ge,ce,c,_e);return}}for(var Br in o)ce=o[Br],o.hasOwnProperty(Br)&&ce!=null&&!c.hasOwnProperty(Br)&&zr(e,a,Br,null,c,ce);for(ve in c)ce=c[ve],_e=o[ve],!c.hasOwnProperty(ve)||ce===_e||ce==null&&_e==null||zr(e,a,ve,ce,c,_e)}function dx(e){switch(e){case"class":return"className";case"for":return"htmlFor";default:return e}}function M1(e){var a={};e=e.style;for(var o=0;o<e.length;o++){var c=e[o];a[c]=e.getPropertyValue(c)}return a}function fx(e,a,o){if(a!=null&&typeof a!="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var c,f=c="",m;for(m in a)if(a.hasOwnProperty(m)){var g=a[m];g!=null&&typeof g!="boolean"&&g!==""&&(m.indexOf("--")===0?(Be(g,m),c+=f+m+":"+(""+g).trim()):typeof g!="number"||g===0||y3.has(m)?(Be(g,m),c+=f+m.replace(h3,"-$1").toLowerCase().replace(g3,"-ms-")+":"+(""+g).trim()):c+=f+m.replace(h3,"-$1").toLowerCase().replace(g3,"-ms-")+":"+g+"px",f=";")}c=c||null,a=e.getAttribute("style"),a!==c&&(c=ii(c),ii(a)!==c&&(o.style=M1(e)))}}function Ht(e,a,o,c,f,m){if(f.delete(o),e=e.getAttribute(o),e===null)switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":return}else if(c!=null)switch(typeof c){case"function":case"symbol":case"boolean":break;default:if(je(c,a),e===""+c)return}Za(a,e,c,m)}function mx(e,a,o,c,f,m){if(f.delete(o),e=e.getAttribute(o),e===null){switch(typeof c){case"function":case"symbol":return}if(!c)return}else switch(typeof c){case"function":case"symbol":break;default:if(c)return}Za(a,e,c,m)}function I1(e,a,o,c,f,m){if(f.delete(o),e=e.getAttribute(o),e===null)switch(typeof c){case"undefined":case"function":case"symbol":return}else if(c!=null)switch(typeof c){case"function":case"symbol":break;default:if(je(c,o),e===""+c)return}Za(a,e,c,m)}function Ax(e,a,o,c,f,m){if(f.delete(o),e=e.getAttribute(o),e===null)switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(c))return}else if(c!=null)switch(typeof c){case"function":case"symbol":case"boolean":break;default:if(!isNaN(c)&&(je(c,a),e===""+c))return}Za(a,e,c,m)}function R1(e,a,o,c,f,m){if(f.delete(o),e=e.getAttribute(o),e===null)switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":return}else if(c!=null)switch(typeof c){case"function":case"symbol":case"boolean":break;default:if(je(c,a),o=rc(""+c),e===o)return}Za(a,e,c,m)}function bx(e,a,o,c){for(var f={},m=new Set,g=e.attributes,y=0;y<g.length;y++)switch(g[y].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:m.add(g[y].name)}if(ec(a)){for(var _ in o)if(o.hasOwnProperty(_)){var B=o[_];if(B!=null){if(go.hasOwnProperty(_))typeof B!="function"&&z0(_,B);else if(o.suppressHydrationWarning!==!0)switch(_){case"children":typeof B!="string"&&typeof B!="number"||Za("children",e.textContent,B,f);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":g=e.innerHTML,B=B?B.__html:void 0,B!=null&&(B=cx(e,B),Za(_,g,B,f));continue;case"style":m.delete(_),fx(e,B,f);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":m.delete(_.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",_);continue;case"className":m.delete("class"),g=rr(e,"class",B),Za("className",g,B,f);continue;default:c.context===Sn&&a!=="svg"&&a!=="math"?m.delete(_.toLowerCase()):m.delete(_),g=rr(e,_,B),Za(_,g,B,f)}}}}else for(B in o)if(o.hasOwnProperty(B)&&(_=o[B],_!=null)){if(go.hasOwnProperty(B))typeof _!="function"&&z0(B,_);else if(o.suppressHydrationWarning!==!0)switch(B){case"children":typeof _!="string"&&typeof _!="number"||Za("children",e.textContent,_,f);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":g=e.innerHTML,_=_?_.__html:void 0,_!=null&&(_=cx(e,_),g!==_&&(f[B]={__html:g}));continue;case"className":Ht(e,B,"class",_,m,f);continue;case"tabIndex":Ht(e,B,"tabindex",_,m,f);continue;case"style":m.delete(B),fx(e,_,f);continue;case"multiple":m.delete(B),Za(B,e.multiple,_,f);continue;case"muted":m.delete(B),Za(B,e.muted,_,f);continue;case"autoFocus":m.delete("autofocus"),Za(B,e.autofocus,_,f);continue;case"data":if(a!=="object"){m.delete(B),g=e.getAttribute("data"),Za(B,g,_,f);continue}case"src":case"href":if(!(_!==""||a==="a"&&B==="href"||a==="object"&&B==="data")){console.error(B==="src"?'An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.':'An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',B,B);continue}R1(e,B,B,_,m,f);continue;case"action":case"formAction":if(g=e.getAttribute(B),typeof _=="function"){m.delete(B.toLowerCase()),B==="formAction"?(m.delete("name"),m.delete("formenctype"),m.delete("formmethod"),m.delete("formtarget")):(m.delete("enctype"),m.delete("method"),m.delete("target"));continue}else if(g===Tj){m.delete(B.toLowerCase()),Za(B,"function",_,f);continue}R1(e,B,B.toLowerCase(),_,m,f);continue;case"xlinkHref":R1(e,B,"xlink:href",_,m,f);continue;case"contentEditable":I1(e,B,"contenteditable",_,m,f);continue;case"spellCheck":I1(e,B,"spellcheck",_,m,f);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":I1(e,B,B,_,m,f);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":mx(e,B,B.toLowerCase(),_,m,f);continue;case"capture":case"download":e:{y=e;var ge=g=B,ve=f;if(m.delete(ge),y=y.getAttribute(ge),y===null)switch(typeof _){case"undefined":case"function":case"symbol":break e;default:if(_===!1)break e}else if(_!=null)switch(typeof _){case"function":case"symbol":break;case"boolean":if(_===!0&&y==="")break e;break;default:if(je(_,g),y===""+_)break e}Za(g,y,_,ve)}continue;case"cols":case"rows":case"size":case"span":e:{if(y=e,ge=g=B,ve=f,m.delete(ge),y=y.getAttribute(ge),y===null)switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":break e;default:if(isNaN(_)||1>_)break e}else if(_!=null)switch(typeof _){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(_)||1>_)&&(je(_,g),y===""+_))break e}Za(g,y,_,ve)}continue;case"rowSpan":Ax(e,B,"rowspan",_,m,f);continue;case"start":Ax(e,B,B,_,m,f);continue;case"xHeight":Ht(e,B,"x-height",_,m,f);continue;case"xlinkActuate":Ht(e,B,"xlink:actuate",_,m,f);continue;case"xlinkArcrole":Ht(e,B,"xlink:arcrole",_,m,f);continue;case"xlinkRole":Ht(e,B,"xlink:role",_,m,f);continue;case"xlinkShow":Ht(e,B,"xlink:show",_,m,f);continue;case"xlinkTitle":Ht(e,B,"xlink:title",_,m,f);continue;case"xlinkType":Ht(e,B,"xlink:type",_,m,f);continue;case"xmlBase":Ht(e,B,"xml:base",_,m,f);continue;case"xmlLang":Ht(e,B,"xml:lang",_,m,f);continue;case"xmlSpace":Ht(e,B,"xml:space",_,m,f);continue;case"inert":_!==""||A2[B]||(A2[B]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",B)),mx(e,B,B,_,m,f);continue;default:if(!(2<B.length)||B[0]!=="o"&&B[0]!=="O"||B[1]!=="n"&&B[1]!=="N"){y=pg(B),g=!1,c.context===Sn&&a!=="svg"&&a!=="math"?m.delete(y.toLowerCase()):(ge=B.toLowerCase(),ge=Df.hasOwnProperty(ge)&&Df[ge]||null,ge!==null&&ge!==B&&(g=!0,m.delete(ge)),m.delete(y));e:if(ge=e,ve=y,y=_,ir(ve))if(ge.hasAttribute(ve))ge=ge.getAttribute(ve),je(y,ve),y=ge===""+y?y:ge;else{switch(typeof y){case"function":case"symbol":break e;case"boolean":if(ge=ve.toLowerCase().slice(0,5),ge!=="data-"&&ge!=="aria-")break e}y=y===void 0?void 0:null}else y=void 0;g||Za(B,y,_,f)}}}return 0<m.size&&o.suppressHydrationWarning!==!0&&vD(e,m,f),Object.keys(f).length===0?null:f}function xD(e,a){switch(e.length){case 0:return"";case 1:return e[0];case 2:return e[0]+" "+a+" "+e[1];default:return e.slice(0,-1).join(", ")+", "+a+" "+e[e.length-1]}}function px(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],m=f.transferSize,g=f.initiatorType,y=f.duration;if(m&&y&&px(g)){for(g=0,y=f.responseEnd,c+=1;c<o.length;c++){var _=o[c],B=_.startTime;if(B>y)break;var ge=_.transferSize,ve=_.initiatorType;ge&&px(ve)&&(_=_.responseEnd,g+=ge*(_<y?1:(y-B)/(_-B)))}if(--c,a+=8*(m+g)/(f.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}function lf(e){return e.nodeType===9?e:e.ownerDocument}function hx(e){switch(e){case Us:return vl;case kf:return p2;default:return Sn}}function gx(e,a){if(e===Sn)switch(a){case"svg":return vl;case"math":return p2;default:return Sn}return e===vl&&a==="foreignObject"?Sn:e}function T1(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}function wD(){var e=window.event;return e&&e.type==="popstate"?e===gp?!1:(gp=e,!0):(gp=null,!1)}function kc(){var e=window.event;return e&&e!==xu?e.type:null}function Dc(){var e=window.event;return e&&e!==xu?e.timeStamp:-1.1}function ED(e){setTimeout(function(){throw e})}function kD(e,a,o){switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&e.focus();break;case"img":o.src?e.src=o.src:o.srcSet&&(e.srcset=o.srcSet)}}function DD(){}function VD(e,a,o,c){ND(e,a,o,c),e[ut]=c}function vx(e){Kl(e,"")}function jD(e,a,o){e.nodeValue=o}function Nx(e){if(!e.__reactWarnedAboutChildrenConflict){var a=e[ut]||null;if(a!==null){var o=Ce(e);o!==null&&(typeof a.children=="string"||typeof a.children=="number"?(e.__reactWarnedAboutChildrenConflict=!0,W(o,function(){console.error('Cannot use a ref on a React element as a container to `createRoot` or `createPortal` if that element also sets "children" text content using React. It should be a leaf with no children. Otherwise it\'s ambiguous which children should be used.')})):a.dangerouslySetInnerHTML!=null&&(e.__reactWarnedAboutChildrenConflict=!0,W(o,function(){console.error('Cannot use a ref on a React element as a container to `createRoot` or `createPortal` if that element also sets "dangerouslySetInnerHTML" using React. It should be a leaf with no children. Otherwise it\'s ambiguous which children should be used.')})))}}}function oi(e){return e==="head"}function CD(e,a){e.removeChild(a)}function _D(e,a){(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e).removeChild(a)}function xx(e,a){var o=a,c=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o===Nu||o===b2){if(c===0){e.removeChild(f),Fs(a);return}c--}else if(o===vu||o===Ci||o===Zo||o===gl||o===Fo)c++;else if(o===Fj)Vc(e.ownerDocument.documentElement);else if(o===Oj){o=e.ownerDocument.head,Vc(o);for(var m=o.firstChild;m;){var g=m.nextSibling,y=m.nodeName;m[Rc]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=g}}else o===Zj&&Vc(e.ownerDocument.body);o=f}while(o);Fs(a)}function yx(e,a){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o===Nu){if(e===0)break;e--}else o!==vu&&o!==Ci&&o!==Zo&&o!==gl||e++;o=c}while(o)}function SD(e){yx(e,!0)}function MD(e){e=e.style,typeof e.setProperty=="function"?e.setProperty("display","none","important"):e.display="none"}function ID(e){e.nodeValue=""}function RD(e){yx(e,!1)}function TD(e,a){a=a[Pj],a=a!=null&&a.hasOwnProperty("display")?a.display:null,e.style.display=a==null||typeof a=="boolean"?"":(""+a).trim()}function BD(e,a){e.nodeValue=a}function B1(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":B1(o),Q(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function FD(e,a,o,c){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Rc])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){je(f.name,"name");var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function ZD(e,a,o){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Ft(e.nextSibling),e===null))return null;return e}function wx(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ft(e.nextSibling),e===null))return null;return e}function F1(e){return e.data===Ci||e.data===Zo}function Z1(e){return e.data===gl||e.data===Ci&&e.ownerDocument.readyState!==f5}function OD(e,a){var o=e.ownerDocument;if(e.data===Zo)e._reactRetry=a;else if(e.data!==Ci||o.readyState!==f5)a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ft(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a===vu||a===gl||a===Ci||a===Zo||a===Fo||a===bp||a===d5)break;if(a===Nu||a===b2)return null}}return e}function Ex(e){if(e.nodeType===1){for(var a=e.nodeName.toLowerCase(),o={},c=e.attributes,f=0;f<c.length;f++){var m=c[f];o[dx(m.name)]=m.name.toLowerCase()==="style"?M1(e):m.value}return{type:a,props:o}}return e.nodeType===8?e.data===Fo?{type:"Activity",props:{}}:{type:"Suspense",props:{}}:e.nodeValue}function kx(e,a,o){return o===null||o[Bj]!==!0?(e.nodeValue===a?e=null:(a=ii(a),e=ii(e.nodeValue)===a?null:e.nodeValue),e):null}function O1(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var o=e.data;if(o===Nu||o===b2){if(a===0)return Ft(e.nextSibling);a--}else o!==vu&&o!==gl&&o!==Ci&&o!==Zo&&o!==Fo||a++}e=e.nextSibling}return null}function Dx(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var o=e.data;if(o===vu||o===gl||o===Ci||o===Zo||o===Fo){if(a===0)return e;a--}else o!==Nu&&o!==b2||a++}e=e.previousSibling}return null}function PD(e){Fs(e)}function WD(e){Fs(e)}function GD(e){Fs(e)}function Vx(e,a,o,c,f){switch(f&&Jm(e,c.ancestorInfo),a=lf(o),e){case"html":if(e=a.documentElement,!e)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return e;case"head":if(e=a.head,!e)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return e;case"body":if(e=a.body,!e)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return e;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function UD(e,a,o,c){if(!o[ui]&&Ce(o)){var f=o.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",f,f,f)}switch(e){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(f=o.attributes;f.length;)o.removeAttributeNode(f[0]);Ja(o,e,a),o[Qa]=c,o[ut]=a}function Vc(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Q(e)}function cf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}function jx(e,a,o){var c=Nl;if(c&&typeof a=="string"&&a){var f=mr(a);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),g5.has(f)||(g5.add(f),e={rel:e,crossOrigin:o,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),Ja(a,"link",e),Re(a),c.head.appendChild(a)))}}function Cx(e,a,o,c){var f=(f=li.current)?cf(f):null;if(!f)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(o=Ts(o.href),a=nr(f).hoistableStyles,c=a.get(o),c||(c={type:"style",instance:null,count:0,state:null},a.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ts(o.href);var m=nr(f).hoistableStyles,g=m.get(e);if(!g&&(f=f.ownerDocument||f,g={type:"stylesheet",instance:null,count:0,state:{loading:Po,preload:null}},m.set(e,g),(m=f.querySelector(jc(e)))&&!m._p&&(g.instance=m,g.state.loading=yu|o0),!s0.has(e))){var y={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy};s0.set(e,y),m||XD(f,e,y,g.state)}if(a&&c===null)throw o=`

  - `+uf(a)+`
  + `+uf(o),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+o);return g}if(a&&c!==null)throw o=`

  - `+uf(a)+`
  + `+uf(o),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+o);return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(o=Bs(o),a=nr(f).hoistableScripts,c=a.get(o),c||(c={type:"script",instance:null,count:0,state:null},a.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+e+'". this is a bug in React.')}}function uf(e){var a=0,o="<link";return typeof e.rel=="string"?(a++,o+=' rel="'+e.rel+'"'):A0.call(e,"rel")&&(a++,o+=' rel="'+(e.rel===null?"null":"invalid type "+typeof e.rel)+'"'),typeof e.href=="string"?(a++,o+=' href="'+e.href+'"'):A0.call(e,"href")&&(a++,o+=' href="'+(e.href===null?"null":"invalid type "+typeof e.href)+'"'),typeof e.precedence=="string"?(a++,o+=' precedence="'+e.precedence+'"'):A0.call(e,"precedence")&&(a++,o+=" precedence={"+(e.precedence===null?"null":"invalid type "+typeof e.precedence)+"}"),Object.getOwnPropertyNames(e).length>a&&(o+=" ..."),o+" />"}function Ts(e){return'href="'+mr(e)+'"'}function jc(e){return'link[rel="stylesheet"]['+e+"]"}function _x(e){return Cr({},e,{"data-precedence":e.precedence,precedence:null})}function XD(e,a,o,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=yu:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=yu}),a.addEventListener("error",function(){return c.loading|=p5}),Ja(a,"link",o),Re(a),e.head.appendChild(a))}function Bs(e){return'[src="'+mr(e)+'"]'}function Cc(e){return"script[async]"+e}function Sx(e,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+mr(o.href)+'"]');if(c)return a.instance=c,Re(c),c;var f=Cr({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Re(c),Ja(c,"style",f),df(c,o.precedence,e),a.instance=c;case"stylesheet":f=Ts(o.href);var m=e.querySelector(jc(f));if(m)return a.state.loading|=o0,a.instance=m,Re(m),m;c=_x(o),(f=s0.get(f))&&P1(c,f),m=(e.ownerDocument||e).createElement("link"),Re(m);var g=m;return g._p=new Promise(function(y,_){g.onload=y,g.onerror=_}),Ja(m,"link",c),a.state.loading|=o0,df(m,o.precedence,e),a.instance=m;case"script":return m=Bs(o.src),(f=e.querySelector(Cc(m)))?(a.instance=f,Re(f),f):(c=o,(f=s0.get(m))&&(c=Cr({},o),W1(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),Re(f),Ja(f,"link",c),e.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+a.type+'". this is a bug in React.')}else a.type==="stylesheet"&&(a.state.loading&o0)===Po&&(c=a.instance,a.state.loading|=o0,df(c,o.precedence,e));return a.instance}function df(e,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,g=0;g<c.length;g++){var y=c[g];if(y.dataset.precedence===a)m=y;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(e,a.firstChild))}function P1(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function W1(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}function Mx(e,a,o){if(h2===null){var c=new Map,f=h2=new Map;f.set(o,c)}else f=h2,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var m=o[f];if(!(m[Rc]||m[Qa]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!==Us){var g=m.getAttribute(a)||"";g=e+g;var y=c.get(g);y?y.push(m):c.set(g,[m])}}return c}function Ix(e,a,o){e=e.ownerDocument||e,e.head.insertBefore(o,a==="title"?e.querySelector("head > title"):null)}function zD(e,a,o){var c=!o.ancestorInfo.containerTagInScope;if(o.context===vl||a.itemProp!=null)return!c||a.itemProp==null||e!=="meta"&&e!=="title"&&e!=="style"&&e!=="link"&&e!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",e,e),!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href===""){c&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError){if(a.rel==="stylesheet"&&typeof a.precedence=="string"){e=a.href;var f=a.onError,m=a.disabled;o=[],a.onLoad&&o.push("`onLoad`"),f&&o.push("`onError`"),m!=null&&o.push("`disabled`"),f=xD(o,"and"),f+=o.length===1?" prop":" props",m=o.length===1?"an "+f:"the "+f,o.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',e,m,f)}c&&(typeof a.rel!="string"||typeof a.href!="string"||a.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(a.onError||a.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(a.rel){case"stylesheet":return e=a.precedence,a=a.disabled,typeof e!="string"&&c&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof e=="string"&&a==null;default:return!0}case"script":if(e=a.async&&typeof a.async!="function"&&typeof a.async!="symbol",!e||a.onLoad||a.onError||!a.src||typeof a.src!="string"){c&&(e?a.onLoad||a.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":c&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",e)}return!1}function Rx(e){return!(e.type==="stylesheet"&&(e.state.loading&h5)===Po)}function LD(e,a,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&o0)===Po){if(o.instance===null){var f=Ts(c.href),m=a.querySelector(jc(f));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=ff.bind(e),a.then(e,e)),o.state.loading|=o0,o.instance=m,Re(m);return}m=a.ownerDocument||a,c=_x(c),(f=s0.get(f))&&P1(c,f),m=m.createElement("link"),Re(m);var g=m;g._p=new Promise(function(y,_){g.onload=y,g.onerror=_}),Ja(m,"link",c),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&h5)===Po&&(e.count++,o=ff.bind(e),a.addEventListener("load",o),a.addEventListener("error",o))}}function YD(e,a){return e.stylesheets&&e.count===0&&mf(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&mf(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},Uj+a);0<e.imgBytes&&Np===0&&(Np=125*yD()*zj);var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mf(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Np?50:Xj)+a);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}function mf(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,g2=new Map,a.forEach(HD,e),g2=null,ff.call(e))}function HD(e,a){if(!(a.state.loading&o0)){var o=g2.get(e);if(o)var c=o.get(xp);else{o=new Map,g2.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var g=f[m];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(o.set(g.dataset.precedence,g),c=g)}c&&o.set(xp,c)}f=a.instance,g=f.getAttribute("data-precedence"),m=o.get(g)||c,m===c&&o.set(xp,f),o.set(g,f),this.count++,c=ff.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),a.state.loading|=o0}}function JD(e,a,o,c,f,m,g,y,_){for(this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oo,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,e=this.pendingUpdatersLaneMap=[],a=0;31>a;a++)e.push(new Set);this._debugRootType=o?"hydrateRoot()":"createRoot()"}function Tx(e,a,o,c,f,m,g,y,_,B,ge,ve){return e=new JD(e,a,o,g,_,B,ge,ve,y),a=bj,m===!0&&(a|=it|b0),a|=wr,m=v(3,null,null,a),e.current=m,m.stateNode=e,a=bA(),uo(a),e.pooledCache=a,uo(a),m.memoizedState={element:c,isDehydrated:o,cache:a},NA(m),e}function Bx(e){return e?(e=Ai,e):Ai}function G1(e,a,o,c,f,m){if(nt&&typeof nt.onScheduleFiberRoot=="function")try{nt.onScheduleFiberRoot(Ws,c,o)}catch(g){J0||(J0=!0,console.error("React instrumentation encountered an error: %o",g))}f=Bx(f),c.context===null?c.context=f:c.pendingContext=f,H0&&Ot!==null&&!y5&&(y5=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,L(Ot)||"Unknown")),c=Kn(a),c.payload={element:o},m=m===void 0?null:m,m!==null&&(typeof m!="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",m),c.callback=m),o=ei(e,c,a),o!==null&&(I0(a,"root.render()",null),da(o,e,a),cc(o,e,a))}function Fx(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<a?o:a}}function U1(e,a){Fx(e,a),(e=e.alternate)&&Fx(e,a)}function Zx(e){if(e.tag===13||e.tag===31){var a=tt(e,67108864);a!==null&&da(a,e,67108864),U1(e,67108864)}}function Ox(e){if(e.tag===13||e.tag===31){var a=Bt(e);a=ur(a);var o=tt(e,a);o!==null&&da(o,e,a),U1(e,a)}}function QD(){return Ot}function $D(e,a,o,c){var f=Ie.T;Ie.T=null;var m=Wr.p;try{Wr.p=Jt,X1(e,a,o,c)}finally{Wr.p=m,Ie.T=f}}function qD(e,a,o,c){var f=Ie.T;Ie.T=null;var m=Wr.p;try{Wr.p=$0,X1(e,a,o,c)}finally{Wr.p=m,Ie.T=f}}function X1(e,a,o,c){if(N2){var f=z1(c);if(f===null)C1(e,a,c,x2,o),Wx(e,c);else if(KD(f,e,a,o,c))c.stopPropagation();else if(Wx(e,c),a&4&&-1<Yj.indexOf(e)){for(;f!==null;){var m=Ce(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var g=be(m.pendingLanes);if(g!==0){var y=m;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var _=1<<31-ct(g);y.entanglements[1]|=_,g&=~_}X0(m),(Or&(Ba|Ut))===Ga&&(t2=Oa()+Q6,wc(0))}}break;case 31:case 13:y=tt(m,2),y!==null&&da(y,m,2),Ms(),U1(m,2)}if(m=z1(c),m===null&&C1(e,a,c,x2,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else C1(e,a,c,null,o)}}function z1(e){return e=Qm(e),L1(e)}function L1(e){if(x2=null,e=Ve(e),e!==null){var a=G(e);if(a===null)e=null;else{var o=a.tag;if(o===13){if(e=Z(a),e!==null)return e;e=null}else if(o===31){if(e=H(a),e!==null)return e;e=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return x2=e,null}function Px(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Jt;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return $0;case"message":switch(cV()){case ob:return Jt;case sb:return $0;case Ps:case uV:return hn;case lb:return wf;default:return hn}default:return hn}}function Wx(e,a){switch(e){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Eu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(a.pointerId)}}function _c(e,a,o,c,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},a!==null&&(a=Ce(a),a!==null&&Zx(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),e)}function KD(e,a,o,c,f){switch(a){case"focusin":return _i=_c(_i,e,a,o,c,f),!0;case"dragenter":return Si=_c(Si,e,a,o,c,f),!0;case"mouseover":return Mi=_c(Mi,e,a,o,c,f),!0;case"pointerover":var m=f.pointerId;return Eu.set(m,_c(Eu.get(m)||null,e,a,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,ku.set(m,_c(ku.get(m)||null,e,a,o,c,f)),!0}return!1}function Gx(e){var a=Ve(e.target);if(a!==null){var o=G(a);if(o!==null){if(a=o.tag,a===13){if(a=Z(o),a!==null){e.blockedOn=a,k(e.priority,function(){Ox(o)});return}}else if(a===31){if(a=H(o),a!==null){e.blockedOn=a,k(e.priority,function(){Ox(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Af(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var o=z1(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o),f=c;Tc!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Tc=f,o.target.dispatchEvent(c),Tc===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Tc=null}else return a=Ce(o),a!==null&&Zx(a),e.blockedOn=o,!1;a.shift()}return!0}function Ux(e,a,o){Af(e)&&o.delete(a)}function eV(){yp=!1,_i!==null&&Af(_i)&&(_i=null),Si!==null&&Af(Si)&&(Si=null),Mi!==null&&Af(Mi)&&(Mi=null),Eu.forEach(Ux),ku.forEach(Ux)}function bf(e,a){e.blockedOn===a&&(e.blockedOn=null,yp||(yp=!0,Na.unstable_scheduleCallback(Na.unstable_NormalPriority,eV)))}function Xx(e){y2!==e&&(y2=e,Na.unstable_scheduleCallback(Na.unstable_NormalPriority,function(){y2===e&&(y2=null);for(var a=0;a<e.length;a+=3){var o=e[a],c=e[a+1],f=e[a+2];if(typeof c!="function"){if(L1(c||o)===null)continue;break}var m=Ce(o);m!==null&&(e.splice(a,3),a-=3,o={pending:!0,data:f,method:o.method,action:c},Object.freeze(o),LA(m,o,c,f))}}))}function Fs(e){function a(_){return bf(_,e)}_i!==null&&bf(_i,e),Si!==null&&bf(Si,e),Mi!==null&&bf(Mi,e),Eu.forEach(a),ku.forEach(a);for(var o=0;o<Ii.length;o++){var c=Ii[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ii.length&&(o=Ii[0],o.blockedOn===null);)Gx(o),o.blockedOn===null&&Ii.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],g=f[ut]||null;if(typeof m=="function")g||Xx(o);else if(g){var y=null;if(m&&m.hasAttribute("formAction")){if(f=m,g=m[ut]||null)y=g.formAction;else if(L1(f)!==null)continue}else y=g.action;typeof y=="function"?o[c+1]=y:(o.splice(c,3),c-=3),Xx(o)}}}function zx(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(g){return f=g})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function Y1(e){this._internalRoot=e}function pf(e){this._internalRoot=e}function Lx(e){e[ui]&&(e._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var Na=Kj,H1=h,rV=eC,Cr=Object.assign,aV=Symbol.for("react.element"),L0=Symbol.for("react.transitional.element"),Zs=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),hf=Symbol.for("react.strict_mode"),J1=Symbol.for("react.profiler"),Q1=Symbol.for("react.consumer"),Y0=Symbol.for("react.context"),Sc=Symbol.for("react.forward_ref"),$1=Symbol.for("react.suspense"),q1=Symbol.for("react.suspense_list"),gf=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),K1=Symbol.for("react.activity"),tV=Symbol.for("react.memo_cache_sentinel"),Yx=Symbol.iterator,nV=Symbol.for("react.client.reference"),Ra=Array.isArray,Ie=H1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wr=rV.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,iV=Object.freeze({pending:!1,data:null,method:null,action:null}),eb=[],rb=[],pn=-1,si=J(null),Mc=J(null),li=J(null),vf=J(null),Ic=0,Hx,Jx,Qx,$x,qx,Kx,e3;X.__reactDisabledLog=!0;var ab,r3,tb=!1,nb=new(typeof WeakMap=="function"?WeakMap:Map),Ot=null,H0=!1,A0=Object.prototype.hasOwnProperty,ib=Na.unstable_scheduleCallback,oV=Na.unstable_cancelCallback,sV=Na.unstable_shouldYield,lV=Na.unstable_requestPaint,Oa=Na.unstable_now,cV=Na.unstable_getCurrentPriorityLevel,ob=Na.unstable_ImmediatePriority,sb=Na.unstable_UserBlockingPriority,Ps=Na.unstable_NormalPriority,uV=Na.unstable_LowPriority,lb=Na.unstable_IdlePriority,dV=Na.log,fV=Na.unstable_setDisableYieldValue,Ws=null,nt=null,J0=!1,Q0=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u",ct=Math.clz32?Math.clz32:fe,mV=Math.log,AV=Math.LN2,Nf=256,xf=262144,yf=4194304,Jt=2,$0=8,hn=32,wf=268435456,ci=Math.random().toString(36).slice(2),Qa="__reactFiber$"+ci,ut="__reactProps$"+ci,ui="__reactContainer$"+ci,cb="__reactEvents$"+ci,bV="__reactListeners$"+ci,pV="__reactHandles$"+ci,a3="__reactResources$"+ci,Rc="__reactMarker$"+ci,t3=new Set,go={},ub={},hV={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},gV=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),n3={},i3={},vV=/[\n"\\]/g,o3=!1,s3=!1,l3=!1,c3=!1,u3=!1,d3=!1,f3=["value","defaultValue"],m3=!1,A3=/["'&<>\n\t]|^\s|\s$/,NV="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),b3="applet caption html table td th marquee object template foreignObject desc title".split(" "),xV=b3.concat(["button"]),yV="dd dt li option optgroup p rp rt".split(" "),p3={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},Ef={},db={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},h3=/([A-Z])/g,g3=/^ms-/,wV=/^(?:webkit|moz|o)[A-Z]/,EV=/^-ms-/,kV=/-(.)/g,v3=/;\s*$/,Gs={},fb={},N3=!1,x3=!1,y3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),kf="http://www.w3.org/1998/Math/MathML",Us="http://www.w3.org/2000/svg",DV=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},w3={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0,"aria-braillelabel":0,"aria-brailleroledescription":0,"aria-colindextext":0,"aria-rowindextext":0},Xs={},VV=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jV=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),E3=!1,dt={},k3=/^on./,CV=/^on[^A-Z]/,_V=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),SV=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),MV=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,Tc=null,zs=null,Ls=null,mb=!1,q0=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ab=!1;if(q0)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){Ab=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{Ab=!1}var di=null,bb=null,Vf=null,vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=xt(vo),Fc=Cr({},vo,{view:0,detail:0}),IV=xt(Fc),pb,hb,Zc,Cf=Cr({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$m,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zc&&(Zc&&e.type==="mousemove"?(pb=e.screenX-Zc.screenX,hb=e.screenY-Zc.screenY):hb=pb=0,Zc=e),pb)},movementY:function(e){return"movementY"in e?e.movementY:hb}}),D3=xt(Cf),RV=Cr({},Cf,{dataTransfer:0}),TV=xt(RV),BV=Cr({},Fc,{relatedTarget:0}),gb=xt(BV),FV=Cr({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),ZV=xt(FV),OV=Cr({},vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PV=xt(OV),WV=Cr({},vo,{data:0}),V3=xt(WV),GV=V3,UV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},LV=Cr({},Fc,{key:function(e){if(e.key){var a=UV[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=md(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$m,charCode:function(e){return e.type==="keypress"?md(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?md(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YV=xt(LV),HV=Cr({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j3=xt(HV),JV=Cr({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$m}),QV=xt(JV),$V=Cr({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),qV=xt($V),KV=Cr({},Cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ej=xt(KV),rj=Cr({},vo,{newState:0,oldState:0}),aj=xt(rj),tj=[9,13,27,32],C3=229,vb=q0&&"CompositionEvent"in window,Oc=null;q0&&"documentMode"in document&&(Oc=document.documentMode);var nj=q0&&"TextEvent"in window&&!Oc,_3=q0&&(!vb||Oc&&8<Oc&&11>=Oc),S3=32,M3=String.fromCharCode(S3),I3=!1,Ys=!1,ij={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Pc=null,Wc=null,R3=!1;q0&&(R3=k7("input")&&(!document.documentMode||9<document.documentMode));var ft=typeof Object.is=="function"?Object.is:S7,oj=q0&&"documentMode"in document&&11>=document.documentMode,Hs=null,Nb=null,Gc=null,xb=!1,Js={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},yb={},T3={};q0&&(T3=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);var B3=no("animationend"),F3=no("animationiteration"),Z3=no("animationstart"),sj=no("transitionrun"),lj=no("transitionstart"),cj=no("transitioncancel"),O3=no("transitionend"),P3=new Map,wb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wb.push("scrollEnd");var W3=0;if(typeof performance=="object"&&typeof performance.now=="function")var uj=performance,G3=function(){return uj.now()};else{var dj=Date;G3=function(){return dj.now()}}var Eb=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fj="This object has been omitted by React in the console log to avoid sending too much data from the server. Try logging smaller or more specific objects.",_f=0,kb=1,Db=2,Vb=3,Sf="",Mf="+",U3="",Qr=typeof console<"u"&&typeof console.timeStamp=="function"&&typeof performance<"u"&&typeof performance.measure=="function",Qt="Components ",Tr="Scheduler ",Fr="Blocking",fi=!1,gn={color:"primary",properties:null,tooltipText:"",track:Qt},mi={start:-0,end:-0,detail:{devtools:gn}},mj=["Changed Props",""],X3="This component received deeply equal props. It might benefit from useMemo or the React Compiler in its owner.",Aj=["Changed Props",X3],Uc=1,vn=2,$t=[],Qs=0,jb=0,Ai={};Object.freeze(Ai);var qt=null,$s=null,pr=0,bj=1,wr=2,it=8,b0=16,pj=32,z3=!1;try{var L3=Object.preventExtensions({})}catch{z3=!0}var Cb=new WeakMap,qs=[],Ks=0,If=null,Xc=0,Kt=[],e0=0,No=null,Nn=1,xn="",$a=null,$r=null,Mr=!1,K0=!1,Pt=null,bi=null,r0=!1,_b=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),Sb=J(null),Mb=J(null),Y3={},Rf=null,el=null,rl=!1,hj=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(o){return o()})}},gj=Na.unstable_scheduleCallback,vj=Na.unstable_NormalPriority,xa={$$typeof:Y0,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},ya=Na.unstable_now,Tf=console.createTask?console.createTask:function(){return null},zc=1,Bf=2,Pa=-0,pi=-0,yn=-0,wn=null,mt=-1.1,xo=-0,oa=-0,dr=-1.1,Ar=-1.1,ta=null,fa=!1,yo=-0,en=-1.1,Lc=null,hi=0,Ib=null,Rb=null,wo=-1.1,Yc=null,al=-1.1,Ff=-1.1,En=-0,kn=-1.1,a0=-1.1,Tb=0,Hc=null,H3=null,J3=null,gi=-1.1,Eo=null,vi=-1.1,Zf=-1.1,Q3=-0,$3=-0,Of=0,Nj=null,q3=0,Jc=-1.1,Pf=!1,Wf=!1,Qc=null,Bb=0,ko=0,tl=null,K3=Ie.S;Ie.S=function(e,a){if(H6=Oa(),typeof a=="object"&&a!==null&&typeof a.then=="function"){if(0>kn&&0>a0){kn=ya();var o=Dc(),c=kc();(o!==vi||c!==Eo)&&(vi=-1.1),gi=o,Eo=c}Z7(e,a)}K3!==null&&K3(e,a)};var Do=J(null),p0={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},$c=[],qc=[],Kc=[],eu=[],ru=[],au=[],Vo=new Set;p0.recordUnsafeLifecycleWarnings=function(e,a){Vo.has(e.type)||(typeof a.componentWillMount=="function"&&a.componentWillMount.__suppressDeprecationWarning!==!0&&$c.push(e),e.mode&it&&typeof a.UNSAFE_componentWillMount=="function"&&qc.push(e),typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Kc.push(e),e.mode&it&&typeof a.UNSAFE_componentWillReceiveProps=="function"&&eu.push(e),typeof a.componentWillUpdate=="function"&&a.componentWillUpdate.__suppressDeprecationWarning!==!0&&ru.push(e),e.mode&it&&typeof a.UNSAFE_componentWillUpdate=="function"&&au.push(e))},p0.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;0<$c.length&&($c.forEach(function(y){e.add(L(y)||"Component"),Vo.add(y.type)}),$c=[]);var a=new Set;0<qc.length&&(qc.forEach(function(y){a.add(L(y)||"Component"),Vo.add(y.type)}),qc=[]);var o=new Set;0<Kc.length&&(Kc.forEach(function(y){o.add(L(y)||"Component"),Vo.add(y.type)}),Kc=[]);var c=new Set;0<eu.length&&(eu.forEach(function(y){c.add(L(y)||"Component"),Vo.add(y.type)}),eu=[]);var f=new Set;0<ru.length&&(ru.forEach(function(y){f.add(L(y)||"Component"),Vo.add(y.type)}),ru=[]);var m=new Set;if(0<au.length&&(au.forEach(function(y){m.add(L(y)||"Component"),Vo.add(y.type)}),au=[]),0<a.size){var g=N(a);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,g)}0<c.size&&(g=N(c),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,g)),0<m.size&&(g=N(m),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,g)),0<e.size&&(g=N(e),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,g)),0<o.size&&(g=N(o),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,g)),0<f.size&&(g=N(f),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,g))};var Gf=new Map,e6=new Set;p0.recordLegacyContextWarning=function(e,a){for(var o=null,c=e;c!==null;)c.mode&it&&(o=c),c=c.return;o===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!e6.has(e.type)&&(c=Gf.get(o),e.type.contextTypes!=null||e.type.childContextTypes!=null||a!==null&&typeof a.getChildContext=="function")&&(c===void 0&&(c=[],Gf.set(o,c)),c.push(e))},p0.flushLegacyContextWarning=function(){Gf.forEach(function(e){if(e.length!==0){var a=e[0],o=new Set;e.forEach(function(f){o.add(L(f)||"Component"),e6.add(f.type)});var c=N(o);W(a,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,c)})}})},p0.discardPendingWarnings=function(){$c=[],qc=[],Kc=[],eu=[],ru=[],au=[],Gf=new Map};var r6={react_stack_bottom_frame:function(e,a,o){var c=H0;H0=!0;try{return e(a,o)}finally{H0=c}}},Fb=r6.react_stack_bottom_frame.bind(r6),a6={react_stack_bottom_frame:function(e){var a=H0;H0=!0;try{return e.render()}finally{H0=a}}},t6=a6.react_stack_bottom_frame.bind(a6),n6={react_stack_bottom_frame:function(e,a){try{a.componentDidMount()}catch(o){Pr(e,e.return,o)}}},Zb=n6.react_stack_bottom_frame.bind(n6),i6={react_stack_bottom_frame:function(e,a,o,c,f){try{a.componentDidUpdate(o,c,f)}catch(m){Pr(e,e.return,m)}}},o6=i6.react_stack_bottom_frame.bind(i6),s6={react_stack_bottom_frame:function(e,a){var o=a.stack;e.componentDidCatch(a.value,{componentStack:o!==null?o:""})}},xj=s6.react_stack_bottom_frame.bind(s6),l6={react_stack_bottom_frame:function(e,a,o){try{o.componentWillUnmount()}catch(c){Pr(e,a,c)}}},c6=l6.react_stack_bottom_frame.bind(l6),u6={react_stack_bottom_frame:function(e){var a=e.create;return e=e.inst,a=a(),e.destroy=a}},yj=u6.react_stack_bottom_frame.bind(u6),d6={react_stack_bottom_frame:function(e,a,o){try{o()}catch(c){Pr(e,a,c)}}},wj=d6.react_stack_bottom_frame.bind(d6),f6={react_stack_bottom_frame:function(e){var a=e._init;return a(e._payload)}},Ej=f6.react_stack_bottom_frame.bind(f6),nl=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),Ob=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),Uf=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),Xf={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},jo=null,tu=!1,il=null,nu=0,Er=null,Pb,m6=Pb=!1,A6={},b6={},p6={};x=function(e,a,o){if(o!==null&&typeof o=="object"&&o._store&&(!o._store.validated&&o.key==null||o._store.validated===2)){if(typeof o._store!="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");o._store.validated=1;var c=L(e),f=c||"null";if(!A6[f]){A6[f]=!0,o=o._owner,e=e._debugOwner;var m="";e&&typeof e.tag=="number"&&(f=L(e))&&(m=`

Check the render method of \``+f+"`."),m||c&&(m=`

Check the top-level render call using <`+c+">.");var g="";o!=null&&e!==o&&(c=null,typeof o.tag=="number"?c=L(o):typeof o.name=="string"&&(c=o.name),c&&(g=" It was passed a child from "+c+".")),W(a,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',m,g)})}}};var Co=lv(!0),h6=lv(!1),g6=0,v6=1,N6=2,Wb=3,Ni=!1,x6=!1,Gb=null,Ub=!1,ol=J(null),zf=J(0),Wt=J(null),t0=null,sl=1,iu=2,ha=J(0),Lf=0,n0=1,At=2,Gt=4,bt=8,ll,y6=new Set,w6=new Set,Xb=new Set,E6=new Set,Dn=0,gr=null,Lr=null,wa=null,Yf=!1,cl=!1,_o=!1,Hf=0,ou=0,Vn=null,kj=0,Dj=25,Se=null,i0=null,jn=-1,su=!1,lu={readContext:aa,use:ti,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useLayoutEffect:ma,useInsertionEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useSyncExternalStore:ma,useId:ma,useHostTransitionStatus:ma,useFormState:ma,useActionState:ma,useOptimistic:ma,useMemoCache:ma,useCacheRefresh:ma};lu.useEffectEvent=ma;var zb=null,k6=null,Lb=null,D6=null,rn=null,h0=null,Jf=null;zb={readContext:function(e){return aa(e)},use:ti,useCallback:function(e,a){return Se="useCallback",jr(),ks(a),GA(e,a)},useContext:function(e){return Se="useContext",jr(),aa(e)},useEffect:function(e,a){return Se="useEffect",jr(),ks(a),Wd(e,a)},useImperativeHandle:function(e,a,o){return Se="useImperativeHandle",jr(),ks(o),WA(e,a,o)},useInsertionEffect:function(e,a){Se="useInsertionEffect",jr(),ks(a),mo(4,At,e,a)},useLayoutEffect:function(e,a){return Se="useLayoutEffect",jr(),ks(a),PA(e,a)},useMemo:function(e,a){Se="useMemo",jr(),ks(a);var o=Ie.H;Ie.H=rn;try{return UA(e,a)}finally{Ie.H=o}},useReducer:function(e,a,o){Se="useReducer",jr();var c=Ie.H;Ie.H=rn;try{return SA(e,a,o)}finally{Ie.H=c}},useRef:function(e){return Se="useRef",jr(),ZA(e)},useState:function(e){Se="useState",jr();var a=Ie.H;Ie.H=rn;try{return TA(e)}finally{Ie.H=a}},useDebugValue:function(){Se="useDebugValue",jr()},useDeferredValue:function(e,a){return Se="useDeferredValue",jr(),XA(e,a)},useTransition:function(){return Se="useTransition",jr(),YA()},useSyncExternalStore:function(e,a,o){return Se="useSyncExternalStore",jr(),IA(e,a,o)},useId:function(){return Se="useId",jr(),HA()},useFormState:function(e,a){return Se="useFormState",jr(),Bd(),Vs(e,a)},useActionState:function(e,a){return Se="useActionState",jr(),Vs(e,a)},useOptimistic:function(e){return Se="useOptimistic",jr(),BA(e)},useHostTransitionStatus:Ao,useMemoCache:fo,useCacheRefresh:function(){return Se="useCacheRefresh",jr(),JA()},useEffectEvent:function(e){return Se="useEffectEvent",jr(),OA(e)}},k6={readContext:function(e){return aa(e)},use:ti,useCallback:function(e,a){return Se="useCallback",Ue(),GA(e,a)},useContext:function(e){return Se="useContext",Ue(),aa(e)},useEffect:function(e,a){return Se="useEffect",Ue(),Wd(e,a)},useImperativeHandle:function(e,a,o){return Se="useImperativeHandle",Ue(),WA(e,a,o)},useInsertionEffect:function(e,a){Se="useInsertionEffect",Ue(),mo(4,At,e,a)},useLayoutEffect:function(e,a){return Se="useLayoutEffect",Ue(),PA(e,a)},useMemo:function(e,a){Se="useMemo",Ue();var o=Ie.H;Ie.H=rn;try{return UA(e,a)}finally{Ie.H=o}},useReducer:function(e,a,o){Se="useReducer",Ue();var c=Ie.H;Ie.H=rn;try{return SA(e,a,o)}finally{Ie.H=c}},useRef:function(e){return Se="useRef",Ue(),ZA(e)},useState:function(e){Se="useState",Ue();var a=Ie.H;Ie.H=rn;try{return TA(e)}finally{Ie.H=a}},useDebugValue:function(){Se="useDebugValue",Ue()},useDeferredValue:function(e,a){return Se="useDeferredValue",Ue(),XA(e,a)},useTransition:function(){return Se="useTransition",Ue(),YA()},useSyncExternalStore:function(e,a,o){return Se="useSyncExternalStore",Ue(),IA(e,a,o)},useId:function(){return Se="useId",Ue(),HA()},useActionState:function(e,a){return Se="useActionState",Ue(),Vs(e,a)},useFormState:function(e,a){return Se="useFormState",Ue(),Bd(),Vs(e,a)},useOptimistic:function(e){return Se="useOptimistic",Ue(),BA(e)},useHostTransitionStatus:Ao,useMemoCache:fo,useCacheRefresh:function(){return Se="useCacheRefresh",Ue(),JA()},useEffectEvent:function(e){return Se="useEffectEvent",Ue(),OA(e)}},Lb={readContext:function(e){return aa(e)},use:ti,useCallback:function(e,a){return Se="useCallback",Ue(),Xd(e,a)},useContext:function(e){return Se="useContext",Ue(),aa(e)},useEffect:function(e,a){Se="useEffect",Ue(),yt(2048,bt,e,a)},useImperativeHandle:function(e,a,o){return Se="useImperativeHandle",Ue(),Ud(e,a,o)},useInsertionEffect:function(e,a){return Se="useInsertionEffect",Ue(),yt(4,At,e,a)},useLayoutEffect:function(e,a){return Se="useLayoutEffect",Ue(),yt(4,Gt,e,a)},useMemo:function(e,a){Se="useMemo",Ue();var o=Ie.H;Ie.H=h0;try{return zd(e,a)}finally{Ie.H=o}},useReducer:function(e,a,o){Se="useReducer",Ue();var c=Ie.H;Ie.H=h0;try{return Ds(e,a,o)}finally{Ie.H=c}},useRef:function(){return Se="useRef",Ue(),Gr().memoizedState},useState:function(){Se="useState",Ue();var e=Ie.H;Ie.H=h0;try{return Ds(f0)}finally{Ie.H=e}},useDebugValue:function(){Se="useDebugValue",Ue()},useDeferredValue:function(e,a){return Se="useDeferredValue",Ue(),_v(e,a)},useTransition:function(){return Se="useTransition",Ue(),Bv()},useSyncExternalStore:function(e,a,o){return Se="useSyncExternalStore",Ue(),Zd(e,a,o)},useId:function(){return Se="useId",Ue(),Gr().memoizedState},useFormState:function(e){return Se="useFormState",Ue(),Bd(),Od(e)},useActionState:function(e){return Se="useActionState",Ue(),Od(e)},useOptimistic:function(e,a){return Se="useOptimistic",Ue(),Nv(e,a)},useHostTransitionStatus:Ao,useMemoCache:fo,useCacheRefresh:function(){return Se="useCacheRefresh",Ue(),Gr().memoizedState},useEffectEvent:function(e){return Se="useEffectEvent",Ue(),Gd(e)}},D6={readContext:function(e){return aa(e)},use:ti,useCallback:function(e,a){return Se="useCallback",Ue(),Xd(e,a)},useContext:function(e){return Se="useContext",Ue(),aa(e)},useEffect:function(e,a){Se="useEffect",Ue(),yt(2048,bt,e,a)},useImperativeHandle:function(e,a,o){return Se="useImperativeHandle",Ue(),Ud(e,a,o)},useInsertionEffect:function(e,a){return Se="useInsertionEffect",Ue(),yt(4,At,e,a)},useLayoutEffect:function(e,a){return Se="useLayoutEffect",Ue(),yt(4,Gt,e,a)},useMemo:function(e,a){Se="useMemo",Ue();var o=Ie.H;Ie.H=Jf;try{return zd(e,a)}finally{Ie.H=o}},useReducer:function(e,a,o){Se="useReducer",Ue();var c=Ie.H;Ie.H=Jf;try{return mc(e,a,o)}finally{Ie.H=c}},useRef:function(){return Se="useRef",Ue(),Gr().memoizedState},useState:function(){Se="useState",Ue();var e=Ie.H;Ie.H=Jf;try{return mc(f0)}finally{Ie.H=e}},useDebugValue:function(){Se="useDebugValue",Ue()},useDeferredValue:function(e,a){return Se="useDeferredValue",Ue(),Sv(e,a)},useTransition:function(){return Se="useTransition",Ue(),Fv()},useSyncExternalStore:function(e,a,o){return Se="useSyncExternalStore",Ue(),Zd(e,a,o)},useId:function(){return Se="useId",Ue(),Gr().memoizedState},useFormState:function(e){return Se="useFormState",Ue(),Bd(),Pd(e)},useActionState:function(e){return Se="useActionState",Ue(),Pd(e)},useOptimistic:function(e,a){return Se="useOptimistic",Ue(),yv(e,a)},useHostTransitionStatus:Ao,useMemoCache:fo,useCacheRefresh:function(){return Se="useCacheRefresh",Ue(),Gr().memoizedState},useEffectEvent:function(e){return Se="useEffectEvent",Ue(),Gd(e)}},rn={readContext:function(e){return b(),aa(e)},use:function(e){return A(),ti(e)},useCallback:function(e,a){return Se="useCallback",A(),jr(),GA(e,a)},useContext:function(e){return Se="useContext",A(),jr(),aa(e)},useEffect:function(e,a){return Se="useEffect",A(),jr(),Wd(e,a)},useImperativeHandle:function(e,a,o){return Se="useImperativeHandle",A(),jr(),WA(e,a,o)},useInsertionEffect:function(e,a){Se="useInsertionEffect",A(),jr(),mo(4,At,e,a)},useLayoutEffect:function(e,a){return Se="useLayoutEffect",A(),jr(),PA(e,a)},useMemo:function(e,a){Se="useMemo",A(),jr();var o=Ie.H;Ie.H=rn;try{return UA(e,a)}finally{Ie.H=o}},useReducer:function(e,a,o){Se="useReducer",A(),jr();var c=Ie.H;Ie.H=rn;try{return SA(e,a,o)}finally{Ie.H=c}},useRef:function(e){return Se="useRef",A(),jr(),ZA(e)},useState:function(e){Se="useState",A(),jr();var a=Ie.H;Ie.H=rn;try{return TA(e)}finally{Ie.H=a}},useDebugValue:function(){Se="useDebugValue",A(),jr()},useDeferredValue:function(e,a){return Se="useDeferredValue",A(),jr(),XA(e,a)},useTransition:function(){return Se="useTransition",A(),jr(),YA()},useSyncExternalStore:function(e,a,o){return Se="useSyncExternalStore",A(),jr(),IA(e,a,o)},useId:function(){return Se="useId",A(),jr(),HA()},useFormState:function(e,a){return Se="useFormState",A(),jr(),Vs(e,a)},useActionState:function(e,a){return Se="useActionState",A(),jr(),Vs(e,a)},useOptimistic:function(e){return Se="useOptimistic",A(),jr(),BA(e)},useMemoCache:function(e){return A(),fo(e)},useHostTransitionStatus:Ao,useCacheRefresh:function(){return Se="useCacheRefresh",jr(),JA()},useEffectEvent:function(e){return Se="useEffectEvent",A(),jr(),OA(e)}},h0={readContext:function(e){return b(),aa(e)},use:function(e){return A(),ti(e)},useCallback:function(e,a){return Se="useCallback",A(),Ue(),Xd(e,a)},useContext:function(e){return Se="useContext",A(),Ue(),aa(e)},useEffect:function(e,a){Se="useEffect",A(),Ue(),yt(2048,bt,e,a)},useImperativeHandle:function(e,a,o){return Se="useImperativeHandle",A(),Ue(),Ud(e,a,o)},useInsertionEffect:function(e,a){return Se="useInsertionEffect",A(),Ue(),yt(4,At,e,a)},useLayoutEffect:function(e,a){return Se="useLayoutEffect",A(),Ue(),yt(4,Gt,e,a)},useMemo:function(e,a){Se="useMemo",A(),Ue();var o=Ie.H;Ie.H=h0;try{return zd(e,a)}finally{Ie.H=o}},useReducer:function(e,a,o){Se="useReducer",A(),Ue();var c=Ie.H;Ie.H=h0;try{return Ds(e,a,o)}finally{Ie.H=c}},useRef:function(){return Se="useRef",A(),Ue(),Gr().memoizedState},useState:function(){Se="useState",A(),Ue();var e=Ie.H;Ie.H=h0;try{return Ds(f0)}finally{Ie.H=e}},useDebugValue:function(){Se="useDebugValue",A(),Ue()},useDeferredValue:function(e,a){return Se="useDeferredValue",A(),Ue(),_v(e,a)},useTransition:function(){return Se="useTransition",A(),Ue(),Bv()},useSyncExternalStore:function(e,a,o){return Se="useSyncExternalStore",A(),Ue(),Zd(e,a,o)},useId:function(){return Se="useId",A(),Ue(),Gr().memoizedState},useFormState:function(e){return Se="useFormState",A(),Ue(),Od(e)},useActionState:function(e){return Se="useActionState",A(),Ue(),Od(e)},useOptimistic:function(e,a){return Se="useOptimistic",A(),Ue(),Nv(e,a)},useMemoCache:function(e){return A(),fo(e)},useHostTransitionStatus:Ao,useCacheRefresh:function(){return Se="useCacheRefresh",Ue(),Gr().memoizedState},useEffectEvent:function(e){return Se="useEffectEvent",A(),Ue(),Gd(e)}},Jf={readContext:function(e){return b(),aa(e)},use:function(e){return A(),ti(e)},useCallback:function(e,a){return Se="useCallback",A(),Ue(),Xd(e,a)},useContext:function(e){return Se="useContext",A(),Ue(),aa(e)},useEffect:function(e,a){Se="useEffect",A(),Ue(),yt(2048,bt,e,a)},useImperativeHandle:function(e,a,o){return Se="useImperativeHandle",A(),Ue(),Ud(e,a,o)},useInsertionEffect:function(e,a){return Se="useInsertionEffect",A(),Ue(),yt(4,At,e,a)},useLayoutEffect:function(e,a){return Se="useLayoutEffect",A(),Ue(),yt(4,Gt,e,a)},useMemo:function(e,a){Se="useMemo",A(),Ue();var o=Ie.H;Ie.H=h0;try{return zd(e,a)}finally{Ie.H=o}},useReducer:function(e,a,o){Se="useReducer",A(),Ue();var c=Ie.H;Ie.H=h0;try{return mc(e,a,o)}finally{Ie.H=c}},useRef:function(){return Se="useRef",A(),Ue(),Gr().memoizedState},useState:function(){Se="useState",A(),Ue();var e=Ie.H;Ie.H=h0;try{return mc(f0)}finally{Ie.H=e}},useDebugValue:function(){Se="useDebugValue",A(),Ue()},useDeferredValue:function(e,a){return Se="useDeferredValue",A(),Ue(),Sv(e,a)},useTransition:function(){return Se="useTransition",A(),Ue(),Fv()},useSyncExternalStore:function(e,a,o){return Se="useSyncExternalStore",A(),Ue(),Zd(e,a,o)},useId:function(){return Se="useId",A(),Ue(),Gr().memoizedState},useFormState:function(e){return Se="useFormState",A(),Ue(),Pd(e)},useActionState:function(e){return Se="useActionState",A(),Ue(),Pd(e)},useOptimistic:function(e,a){return Se="useOptimistic",A(),Ue(),yv(e,a)},useMemoCache:function(e){return A(),fo(e)},useHostTransitionStatus:Ao,useCacheRefresh:function(){return Se="useCacheRefresh",Ue(),Gr().memoizedState},useEffectEvent:function(e){return Se="useEffectEvent",A(),Ue(),Gd(e)}};var V6={},j6=new Set,C6=new Set,_6=new Set,S6=new Set,M6=new Set,I6=new Set,R6=new Set,T6=new Set,B6=new Set,F6=new Set;Object.freeze(V6);var Yb={enqueueSetState:function(e,a,o){e=e._reactInternals;var c=Bt(e),f=Kn(c);f.payload=a,o!=null&&($A(o),f.callback=o),a=ei(e,f,c),a!==null&&(I0(c,"this.setState()",e),da(a,e,c),cc(a,e,c))},enqueueReplaceState:function(e,a,o){e=e._reactInternals;var c=Bt(e),f=Kn(c);f.tag=v6,f.payload=a,o!=null&&($A(o),f.callback=o),a=ei(e,f,c),a!==null&&(I0(c,"this.replaceState()",e),da(a,e,c),cc(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var o=Bt(e),c=Kn(o);c.tag=N6,a!=null&&($A(a),c.callback=a),a=ei(e,c,o),a!==null&&(I0(o,"this.forceUpdate()",e),da(a,e,o),cc(a,e,o))}},ul=null,Hb=null,Jb=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),Ea=!1,Z6={},O6={},P6={},W6={},dl=!1,G6={},Qf={},Qb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},U6=!1,X6=null;X6=new Set;var Cn=!1,ka=!1,$b=!1,z6=typeof WeakSet=="function"?WeakSet:Set,Wa=null,fl=null,ml=null,Da=null,kt=!1,g0=null,Ta=!1,cu=8192,Vj={getCacheForType:function(e){var a=aa(xa),o=a.data.get(e);return o===void 0&&(o=e(),a.data.set(e,o)),o},cacheSignal:function(){return aa(xa).controller.signal},getOwner:function(){return Ot}};if(typeof Symbol=="function"&&Symbol.for){var uu=Symbol.for;uu("selector.component"),uu("selector.has_pseudo_class"),uu("selector.role"),uu("selector.test_id"),uu("selector.text")}var jj=[],Cj=typeof WeakMap=="function"?WeakMap:Map,Ga=0,Ba=2,Ut=4,_n=0,du=1,So=2,$f=3,xi=4,qf=6,L6=5,Or=Ga,Yr=null,Dr=null,kr=0,Dt=0,Kf=1,Mo=2,fu=3,Y6=4,qb=5,mu=6,e2=7,Kb=8,Io=9,Ur=Dt,Xt=null,yi=!1,Al=!1,ep=!1,an=0,sa=_n,wi=0,Ei=0,rp=0,Vt=0,Ro=0,Au=null,pt=null,r2=!1,a2=0,H6=0,J6=300,t2=1/0,Q6=500,bu=null,Aa=null,ki=null,n2=0,ap=1,tp=2,$6=3,Di=0,q6=1,K6=2,e5=3,r5=4,i2=5,Va=0,Vi=null,bl=null,v0=0,np=0,ip=-0,op=null,a5=null,t5=null,N0=n2,n5=null,_j=50,pu=0,sp=null,lp=!1,o2=!1,Sj=50,To=0,hu=null,pl=!1,s2=null,i5=!1,o5=new Set,Mj={},l2=null,hl=null,cp=!1,up=!1,c2=!1,dp=!1,ji=0,fp={};(function(){for(var e=0;e<wb.length;e++){var a=wb[e],o=a.toLowerCase();a=a[0].toUpperCase()+a.slice(1),u0(o,"on"+a)}u0(B3,"onAnimationEnd"),u0(F3,"onAnimationIteration"),u0(Z3,"onAnimationStart"),u0("dblclick","onDoubleClick"),u0("focusin","onFocus"),u0("focusout","onBlur"),u0(sj,"onTransitionRun"),u0(lj,"onTransitionStart"),u0(cj,"onTransitionCancel"),u0(O3,"onTransitionEnd")})(),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu)),u2="_reactListening"+Math.random().toString(36).slice(2),s5=!1,l5=!1,d2=!1,c5=!1,f2=!1,m2=!1,u5=!1,A2={},Ij=/\r\n?/g,Rj=/\u0000|\uFFFD/g,Bo="http://www.w3.org/1999/xlink",Ap="http://www.w3.org/XML/1998/namespace",Tj="javascript:throw new Error('React form unexpectedly submitted.')",Bj="suppressHydrationWarning",Fo="&",b2="/&",vu="$",Nu="/$",Ci="$?",Zo="$~",gl="$!",Fj="html",Zj="body",Oj="head",bp="F!",d5="F",f5="loading",Pj="style",Sn=0,vl=1,p2=2,pp=null,hp=null,m5={dialog:!0,webview:!0},gp=null,xu=void 0,A5=typeof setTimeout=="function"?setTimeout:void 0,Wj=typeof clearTimeout=="function"?clearTimeout:void 0,Oo=-1,b5=typeof Promise=="function"?Promise:void 0,Gj=typeof queueMicrotask=="function"?queueMicrotask:typeof b5<"u"?function(e){return b5.resolve(null).then(e).catch(ED)}:A5,vp=null,Po=0,yu=1,p5=2,h5=3,o0=4,s0=new Map,g5=new Set,Mn=Wr.d;Wr.d={f:function(){var e=Mn.f(),a=Ms();return e||a},r:function(e){var a=Ce(e);a!==null&&a.tag===5&&a.type==="form"?Tv(a):Mn.r(e)},D:function(e){Mn.D(e),jx("dns-prefetch",e,null)},C:function(e,a){Mn.C(e,a),jx("preconnect",e,a)},L:function(e,a,o){Mn.L(e,a,o);var c=Nl;if(c&&e&&a){var f='link[rel="preload"][as="'+mr(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+mr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+mr(o.imageSizes)+'"]')):f+='[href="'+mr(e)+'"]';var m=f;switch(a){case"style":m=Ts(e);break;case"script":m=Bs(e)}s0.has(m)||(e=Cr({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:e,as:a},o),s0.set(m,e),c.querySelector(f)!==null||a==="style"&&c.querySelector(jc(m))||a==="script"&&c.querySelector(Cc(m))||(a=c.createElement("link"),Ja(a,"link",e),Re(a),c.head.appendChild(a)))}},m:function(e,a){Mn.m(e,a);var o=Nl;if(o&&e){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+mr(c)+'"][href="'+mr(e)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Bs(e)}if(!s0.has(m)&&(e=Cr({rel:"modulepreload",href:e},a),s0.set(m,e),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Cc(m)))return}c=o.createElement("link"),Ja(c,"link",e),Re(c),o.head.appendChild(c)}}},X:function(e,a){Mn.X(e,a);var o=Nl;if(o&&e){var c=nr(o).hoistableScripts,f=Bs(e),m=c.get(f);m||(m=o.querySelector(Cc(f)),m||(e=Cr({src:e,async:!0},a),(a=s0.get(f))&&W1(e,a),m=o.createElement("script"),Re(m),Ja(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}},S:function(e,a,o){Mn.S(e,a,o);var c=Nl;if(c&&e){var f=nr(c).hoistableStyles,m=Ts(e);a=a||"default";var g=f.get(m);if(!g){var y={loading:Po,preload:null};if(g=c.querySelector(jc(m)))y.loading=yu|o0;else{e=Cr({rel:"stylesheet",href:e,"data-precedence":a},o),(o=s0.get(m))&&P1(e,o);var _=g=c.createElement("link");Re(_),Ja(_,"link",e),_._p=new Promise(function(B,ge){_.onload=B,_.onerror=ge}),_.addEventListener("load",function(){y.loading|=yu}),_.addEventListener("error",function(){y.loading|=p5}),y.loading|=o0,df(g,a,c)}g={type:"stylesheet",instance:g,count:1,state:y},f.set(m,g)}}},M:function(e,a){Mn.M(e,a);var o=Nl;if(o&&e){var c=nr(o).hoistableScripts,f=Bs(e),m=c.get(f);m||(m=o.querySelector(Cc(f)),m||(e=Cr({src:e,async:!0,type:"module"},a),(a=s0.get(f))&&W1(e,a),m=o.createElement("script"),Re(m),Ja(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}};var Nl=typeof document>"u"?null:document,h2=null,Uj=6e4,Xj=800,zj=500,Np=0,xp=null,g2=null,Wo=iV,wu={$$typeof:Y0,Provider:null,Consumer:null,_currentValue:Wo,_currentValue2:Wo,_threadCount:0},v5="%c%s%c",N5="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",x5="",v2=" ",Lj=Function.prototype.bind,y5=!1,w5=null,E5=null,k5=null,D5=null,V5=null,j5=null,C5=null,_5=null,S5=null,M5=null;w5=function(e,a,o,c){a=i(e,a),a!==null&&(o=r(a.memoizedState,o,0,c),a.memoizedState=o,a.baseState=o,e.memoizedProps=Cr({},e.memoizedProps),o=tt(e,2),o!==null&&da(o,e,2))},E5=function(e,a,o){a=i(e,a),a!==null&&(o=l(a.memoizedState,o,0),a.memoizedState=o,a.baseState=o,e.memoizedProps=Cr({},e.memoizedProps),o=tt(e,2),o!==null&&da(o,e,2))},k5=function(e,a,o,c){a=i(e,a),a!==null&&(o=n(a.memoizedState,o,c),a.memoizedState=o,a.baseState=o,e.memoizedProps=Cr({},e.memoizedProps),o=tt(e,2),o!==null&&da(o,e,2))},D5=function(e,a,o){e.pendingProps=r(e.memoizedProps,a,0,o),e.alternate&&(e.alternate.pendingProps=e.pendingProps),a=tt(e,2),a!==null&&da(a,e,2)},V5=function(e,a){e.pendingProps=l(e.memoizedProps,a,0),e.alternate&&(e.alternate.pendingProps=e.pendingProps),a=tt(e,2),a!==null&&da(a,e,2)},j5=function(e,a,o){e.pendingProps=n(e.memoizedProps,a,o),e.alternate&&(e.alternate.pendingProps=e.pendingProps),a=tt(e,2),a!==null&&da(a,e,2)},C5=function(e){var a=tt(e,2);a!==null&&da(a,e,2)},_5=function(e){var a=me(),o=tt(e,a);o!==null&&da(o,e,a)},S5=function(e){d=e},M5=function(e){u=e};var N2=!0,x2=null,yp=!1,_i=null,Si=null,Mi=null,Eu=new Map,ku=new Map,Ii=[],Yj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),y2=null;if(pf.prototype.render=Y1.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error("Cannot update an unmounted root.");var o=arguments;typeof o[1]=="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):V(o[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof o[1]<"u"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),o=e;var c=a.current,f=Bt(c);G1(c,f,o,a,null,null)},pf.prototype.unmount=Y1.prototype.unmount=function(){var e=arguments;if(typeof e[0]=="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),e=this._internalRoot,e!==null){this._internalRoot=null;var a=e.containerInfo;(Or&(Ba|Ut))!==Ga&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),G1(e.current,2,null,e,null,null),Ms(),a[ui]=null}},pf.prototype.unstable_scheduleHydration=function(e){if(e){var a=de();e={blockedOn:null,target:e,priority:a};for(var o=0;o<Ii.length&&a!==0&&a<Ii[o].priority;o++);Ii.splice(o,0,e),o===0&&Gx(e)}},function(){var e=H1.version;if(e!=="19.2.3")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(e+`
  - react-dom:  19.2.3
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),Wr.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error("Unable to find node on an unmounted component."):(e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e));return e=T(a),e=e!==null?M(e):null,e=e===null?null:e.stateNode,e},!function(){var e={bundleType:1,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Ie,reconcilerVersion:"19.2.3"};return e.overrideHookState=w5,e.overrideHookStateDeletePath=E5,e.overrideHookStateRenamePath=k5,e.overrideProps=D5,e.overridePropsDeletePath=V5,e.overridePropsRenamePath=j5,e.scheduleUpdate=C5,e.scheduleRetry=_5,e.setErrorHandler=S5,e.setSuspenseHandler=M5,e.scheduleRefresh=E,e.scheduleRoot=w,e.setRefreshHandler=F,e.getCurrentFiber=QD,Xe(e)}()&&q0&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var I5=window.location.protocol;/^(https?|file):$/.test(I5)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(I5==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}P2.createRoot=function(e,a){if(!V(e))throw Error("Target container is not a DOM element.");Lx(e);var o=!1,c="",f=Uv,m=Xv,g=zv;return a!=null&&(a.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof a=="object"&&a!==null&&a.$$typeof===L0&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Tx(e,1,!1,null,null,o,c,null,f,m,g,zx),e[ui]=a.current,j1(e),new Y1(a)},P2.hydrateRoot=function(e,a,o){if(!V(e))throw Error("Target container is not a DOM element.");Lx(e),a===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var c=!1,f="",m=Uv,g=Xv,y=zv,_=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(g=o.onCaughtError),o.onRecoverableError!==void 0&&(y=o.onRecoverableError),o.formState!==void 0&&(_=o.formState)),a=Tx(e,1,!0,a,o??null,c,f,_,m,g,y,zx),a.context=Bx(null),o=a.current,c=Bt(o),c=ur(c),f=Kn(c),f.callback=null,ei(o,f,c),I0(c,"hydrateRoot()",null),o=c,a.current.lanes=o,xe(a,o),X0(a),e[ui]=a.current,j1(e),new pf(a)},P2.version="19.2.3",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})();Y8.exports=P2;var rC=Y8.exports;const aC=ym(rC);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Wu.apply(this,arguments)}var Fi;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Fi||(Fi={}));const T5="popstate";function tC(i){i===void 0&&(i={});function r(s,l){let{pathname:u,search:d,hash:A}=s.location;return sh("",{pathname:u,search:d,hash:A},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:Gu(l)}return iC(r,n,null,i)}function ca(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Lt(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function nC(){return Math.random().toString(36).substr(2,8)}function B5(i,r){return{usr:i.state,key:i.key,idx:r}}function sh(i,r,n,s){return n===void 0&&(n=null),Wu({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof r=="string"?Gl(r):r,{state:n,key:r&&r.key||s||nC()})}function Gu(i){let{pathname:r="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Gl(i){let r={};if(i){let n=i.indexOf("#");n>=0&&(r.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(r.search=i.substr(s),i=i.substr(0,s)),i&&(r.pathname=i)}return r}function iC(i,r,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:u=!1}=s,d=l.history,A=Fi.Pop,b=null,p=x();p==null&&(p=0,d.replaceState(Wu({},d.state,{idx:p}),""));function x(){return(d.state||{idx:null}).idx}function N(){A=Fi.Pop;let V=x(),G=V==null?null:V-p;p=V,b&&b({action:A,location:F.location,delta:G})}function v(V,G){A=Fi.Push;let Z=sh(F.location,V,G);p=x()+1;let H=B5(Z,p),te=F.createHref(Z);try{d.pushState(H,"",te)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(te)}u&&b&&b({action:A,location:F.location,delta:1})}function w(V,G){A=Fi.Replace;let Z=sh(F.location,V,G);p=x();let H=B5(Z,p),te=F.createHref(Z);d.replaceState(H,"",te),u&&b&&b({action:A,location:F.location,delta:0})}function E(V){let G=l.location.origin!=="null"?l.location.origin:l.location.href,Z=typeof V=="string"?V:Gu(V);return Z=Z.replace(/ $/,"%20"),ca(G,"No window.location.(origin|href) available to create URL for href: "+Z),new URL(Z,G)}let F={get action(){return A},get location(){return i(l,d)},listen(V){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(T5,N),b=V,()=>{l.removeEventListener(T5,N),b=null}},createHref(V){return r(l,V)},createURL:E,encodeLocation(V){let G=E(V);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:v,replace:w,go(V){return d.go(V)}};return F}var F5;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(F5||(F5={}));function oC(i,r,n){return n===void 0&&(n="/"),sC(i,r,n)}function sC(i,r,n,s){let l=typeof r=="string"?Gl(r):r,u=Li(l.pathname||"/",n);if(u==null)return null;let d=$8(i);lC(d);let A=null;for(let b=0;A==null&&b<d.length;++b){let p=vC(u);A=hC(d[b],p)}return A}function $8(i,r,n,s){r===void 0&&(r=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(u,d,A)=>{let b={relativePath:A===void 0?u.path||"":A,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};b.relativePath.startsWith("/")&&(ca(b.relativePath.startsWith(s),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(s.length));let p=Pn([s,b.relativePath]),x=n.concat(b);u.children&&u.children.length>0&&(ca(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),$8(u.children,r,x,p)),!(u.path==null&&!u.index)&&r.push({path:p,score:bC(p,u.index),routesMeta:x})};return i.forEach((u,d)=>{var A;if(u.path===""||!((A=u.path)!=null&&A.includes("?")))l(u,d);else for(let b of q8(u.path))l(u,d,b)}),r}function q8(i){let r=i.split("/");if(r.length===0)return[];let[n,...s]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let d=q8(s.join("/")),A=[];return A.push(...d.map(b=>b===""?u:[u,b].join("/"))),l&&A.push(...d),A.map(b=>i.startsWith("/")&&b===""?"/":b)}function lC(i){i.sort((r,n)=>r.score!==n.score?n.score-r.score:pC(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const cC=/^:[\w-]+$/,uC=3,dC=2,fC=1,mC=10,AC=-2,Z5=i=>i==="*";function bC(i,r){let n=i.split("/"),s=n.length;return n.some(Z5)&&(s+=AC),r&&(s+=dC),n.filter(l=>!Z5(l)).reduce((l,u)=>l+(cC.test(u)?uC:u===""?fC:mC),s)}function pC(i,r){return i.length===r.length&&i.slice(0,-1).every((s,l)=>s===r[l])?i[i.length-1]-r[r.length-1]:0}function hC(i,r,n){let{routesMeta:s}=i,l={},u="/",d=[];for(let A=0;A<s.length;++A){let b=s[A],p=A===s.length-1,x=u==="/"?r:r.slice(u.length)||"/",N=lh({path:b.relativePath,caseSensitive:b.caseSensitive,end:p},x),v=b.route;if(!N)return null;Object.assign(l,N.params),d.push({params:l,pathname:Pn([u,N.pathname]),pathnameBase:EC(Pn([u,N.pathnameBase])),route:v}),N.pathnameBase!=="/"&&(u=Pn([u,N.pathnameBase]))}return d}function lh(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=gC(i.path,i.caseSensitive,i.end),l=r.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),A=l.slice(1);return{params:s.reduce((p,x,N)=>{let{paramName:v,isOptional:w}=x;if(v==="*"){let F=A[N]||"";d=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const E=A[N];return w&&!E?p[v]=void 0:p[v]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:i}}function gC(i,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Lt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,A,b)=>(s.push({paramName:A,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function vC(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Lt(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),i}}function Li(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}const NC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xC=i=>NC.test(i);function yC(i,r){r===void 0&&(r="/");let{pathname:n,search:s="",hash:l=""}=typeof i=="string"?Gl(i):i,u;if(n)if(xC(n))u=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Lt(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+n))}n.startsWith("/")?u=O5(n.substring(1),"/"):u=O5(n,r)}else u=r;return{pathname:u,search:kC(s),hash:DC(l)}}function O5(i,r){let n=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function wp(i,r,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wC(i){return i.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function i4(i,r){let n=wC(i);return r?n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function o4(i,r,n,s){s===void 0&&(s=!1);let l;typeof i=="string"?l=Gl(i):(l=Wu({},i),ca(!l.pathname||!l.pathname.includes("?"),wp("?","pathname","search",l)),ca(!l.pathname||!l.pathname.includes("#"),wp("#","pathname","hash",l)),ca(!l.search||!l.search.includes("#"),wp("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,A;if(d==null)A=n;else{let N=r.length-1;if(!s&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),N-=1;l.pathname=v.join("/")}A=N>=0?r[N]:"/"}let b=yC(l,A),p=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&n.endsWith("/");return!b.pathname.endsWith("/")&&(p||x)&&(b.pathname+="/"),b}const Pn=i=>i.join("/").replace(/\/\/+/g,"/"),EC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),kC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,DC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function VC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const K8=["post","put","patch","delete"];new Set(K8);const jC=["get",...K8];new Set(jC);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Uu.apply(this,arguments)}const ad=h.createContext(null);ad.displayName="DataRouter";const s4=h.createContext(null);s4.displayName="DataRouterState";const CC=h.createContext(null);CC.displayName="Await";const c0=h.createContext(null);c0.displayName="Navigation";const td=h.createContext(null);td.displayName="Location";const j0=h.createContext({outlet:null,matches:[],isDataRoute:!1});j0.displayName="Route";const l4=h.createContext(null);l4.displayName="RouteError";function _C(i,r){let{relative:n}=r===void 0?{}:r;Ul()||ca(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=h.useContext(c0),{hash:u,pathname:d,search:A}=nd(i,{relative:n}),b=d;return s!=="/"&&(b=d==="/"?s:Pn([s,d])),l.createHref({pathname:b,search:A,hash:u})}function Ul(){return h.useContext(td)!=null}function zn(){return Ul()||ca(!1,"useLocation() may be used only in the context of a <Router> component."),h.useContext(td).location}const ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rw(i){h.useContext(c0).static||h.useLayoutEffect(i)}function ua(){let{isDataRoute:i}=h.useContext(j0);return i?XC():SC()}function SC(){Ul()||ca(!1,"useNavigate() may be used only in the context of a <Router> component.");let i=h.useContext(ad),{basename:r,future:n,navigator:s}=h.useContext(c0),{matches:l}=h.useContext(j0),{pathname:u}=zn(),d=JSON.stringify(i4(l,n.v7_relativeSplatPath)),A=h.useRef(!1);return rw(()=>{A.current=!0}),h.useCallback(function(p,x){if(x===void 0&&(x={}),Lt(A.current,ew),!A.current)return;if(typeof p=="number"){s.go(p);return}let N=o4(p,JSON.parse(d),u,x.relative==="path");i==null&&r!=="/"&&(N.pathname=N.pathname==="/"?r:Pn([r,N.pathname])),(x.replace?s.replace:s.push)(N,x.state,x)},[r,s,d,u,i])}function hs(){let{matches:i}=h.useContext(j0),r=i[i.length-1];return r?r.params:{}}function nd(i,r){let{relative:n}=r===void 0?{}:r,{future:s}=h.useContext(c0),{matches:l}=h.useContext(j0),{pathname:u}=zn(),d=JSON.stringify(i4(l,s.v7_relativeSplatPath));return h.useMemo(()=>o4(i,JSON.parse(d),u,n==="path"),[i,d,u,n])}function MC(i,r){return IC(i,r)}function IC(i,r,n,s){Ul()||ca(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=h.useContext(c0),{matches:u}=h.useContext(j0),d=u[u.length-1],A=d?d.params:{},b=d?d.pathname:"/",p=d?d.pathnameBase:"/",x=d&&d.route;{let Z=x&&x.path||"";tw(b,!x||Z.endsWith("*"),"You rendered descendant <Routes> (or called `useRoutes()`) at "+('"'+b+'" (under <Route path="'+Z+'">) but the ')+`parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

`+('Please change the parent <Route path="'+Z+'"> to <Route ')+('path="'+(Z==="/"?"*":Z+"/*")+'">.'))}let N=zn(),v;if(r){var w;let Z=typeof r=="string"?Gl(r):r;p==="/"||(w=Z.pathname)!=null&&w.startsWith(p)||ca(!1,"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was "+('matched by all parent routes. The current pathname base is "'+p+'" ')+('but pathname "'+Z.pathname+'" was given in the `location` prop.')),v=Z}else v=N;let E=v.pathname||"/",F=E;if(p!=="/"){let Z=p.replace(/^\//,"").split("/");F="/"+E.replace(/^\//,"").split("/").slice(Z.length).join("/")}let V=oC(i,{pathname:F});Lt(x||V!=null,'No routes matched location "'+v.pathname+v.search+v.hash+'" '),Lt(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,'Matched leaf route at location "'+v.pathname+v.search+v.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let G=ZC(V&&V.map(Z=>Object.assign({},Z,{params:Object.assign({},A,Z.params),pathname:Pn([p,l.encodeLocation?l.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?p:Pn([p,l.encodeLocation?l.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,n,s);return r&&G?h.createElement(td.Provider,{value:{location:Uu({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Fi.Pop}},G):G}function RC(){let i=UC(),r=VC(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:u},"ErrorBoundary")," or"," ",h.createElement("code",{style:u},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},r),n?h.createElement("pre",{style:l},n):null,d)}const TC=h.createElement(RC,null);class BC extends h.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?h.createElement(j0.Provider,{value:this.props.routeContext},h.createElement(l4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FC(i){let{routeContext:r,match:n,children:s}=i,l=h.useContext(ad);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(j0.Provider,{value:r},s)}function ZC(i,r,n,s){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let d=i,A=(l=n)==null?void 0:l.errors;if(A!=null){let x=d.findIndex(N=>N.route.id&&(A==null?void 0:A[N.route.id])!==void 0);x>=0||ca(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(A).join(",")),d=d.slice(0,Math.min(d.length,x+1))}let b=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let x=0;x<d.length;x++){let N=d[x];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(p=x),N.route.id){let{loaderData:v,errors:w}=n,E=N.route.loader&&v[N.route.id]===void 0&&(!w||w[N.route.id]===void 0);if(N.route.lazy||E){b=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}return d.reduceRight((x,N,v)=>{let w,E=!1,F=null,V=null;n&&(w=A&&N.route.id?A[N.route.id]:void 0,F=N.route.errorElement||TC,b&&(p<0&&v===0?(tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,V=null):p===v&&(E=!0,V=N.route.hydrateFallbackElement||null)));let G=r.concat(d.slice(0,v+1)),Z=()=>{let H;return w?H=F:E?H=V:N.route.Component?H=h.createElement(N.route.Component,null):N.route.element?H=N.route.element:H=x,h.createElement(FC,{match:N,routeContext:{outlet:x,matches:G,isDataRoute:n!=null},children:H})};return n&&(N.route.ErrorBoundary||N.route.errorElement||v===0)?h.createElement(BC,{location:n.location,revalidation:n.revalidation,component:F,error:w,children:Z(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):Z()},null)}var aw=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(aw||{}),Xu=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Xu||{});function c4(i){return i+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function OC(i){let r=h.useContext(ad);return r||ca(!1,c4(i)),r}function PC(i){let r=h.useContext(s4);return r||ca(!1,c4(i)),r}function WC(i){let r=h.useContext(j0);return r||ca(!1,c4(i)),r}function u4(i){let r=WC(i),n=r.matches[r.matches.length-1];return n.route.id||ca(!1,i+' can only be used on routes that contain a unique "id"'),n.route.id}function GC(){return u4(Xu.UseRouteId)}function UC(){var i;let r=h.useContext(l4),n=PC(Xu.UseRouteError),s=u4(Xu.UseRouteError);return r!==void 0?r:(i=n.errors)==null?void 0:i[s]}function XC(){let{router:i}=OC(aw.UseNavigateStable),r=u4(Xu.UseNavigateStable),n=h.useRef(!1);return rw(()=>{n.current=!0}),h.useCallback(function(l,u){u===void 0&&(u={}),Lt(n.current,ew),n.current&&(typeof l=="number"?i.navigate(l):i.navigate(l,Uu({fromRouteId:r},u)))},[i,r])}const P5={};function tw(i,r,n){!r&&!P5[i]&&(P5[i]=!0,Lt(!1,n))}const W5={};function zC(i,r){W5[r]||(W5[r]=!0,console.warn(r))}const G5=(i,r,n)=>zC(i," React Router Future Flag Warning: "+r+". "+("You can use the `"+i+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function LC(i,r){(i==null?void 0:i.v7_startTransition)===void 0&&G5("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(i==null?void 0:i.v7_relativeSplatPath)===void 0&&G5("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Zn(i){let{to:r,replace:n,state:s,relative:l}=i;Ul()||ca(!1,"<Navigate> may be used only in the context of a <Router> component.");let{future:u,static:d}=h.useContext(c0);Lt(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:A}=h.useContext(j0),{pathname:b}=zn(),p=ua(),x=o4(r,i4(A,u.v7_relativeSplatPath),b,l==="path"),N=JSON.stringify(x);return h.useEffect(()=>p(JSON.parse(N),{replace:n,state:s,relative:l}),[p,N,l,n,s]),null}function Zr(i){ca(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YC(i){let{basename:r="/",children:n=null,location:s,navigationType:l=Fi.Pop,navigator:u,static:d=!1,future:A}=i;Ul()&&ca(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let b=r.replace(/^\/*/,"/"),p=h.useMemo(()=>({basename:b,navigator:u,static:d,future:Uu({v7_relativeSplatPath:!1},A)}),[b,A,u,d]);typeof s=="string"&&(s=Gl(s));let{pathname:x="/",search:N="",hash:v="",state:w=null,key:E="default"}=s,F=h.useMemo(()=>{let V=Li(x,b);return V==null?null:{location:{pathname:V,search:N,hash:v,state:w,key:E},navigationType:l}},[b,x,N,v,w,E,l]);return Lt(F!=null,'<Router basename="'+b+'"> is not able to match the URL '+('"'+x+N+v+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),F==null?null:h.createElement(c0.Provider,{value:p},h.createElement(td.Provider,{children:n,value:F}))}function nw(i){let{children:r,location:n}=i;return MC(ch(r),n)}new Promise(()=>{});function ch(i,r){r===void 0&&(r=[]);let n=[];return h.Children.forEach(i,(s,l)=>{if(!h.isValidElement(s))return;let u=[...r,l];if(s.type===h.Fragment){n.push.apply(n,ch(s.props.children,u));return}s.type!==Zr&&ca(!1,"["+(typeof s.type=="string"?s.type:s.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),!s.props.index||!s.props.children||ca(!1,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ch(s.props.children,u)),n.push(d)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Fl.apply(this,arguments)}function d4(i,r){if(i==null)return{};var n={},s=Object.keys(i),l,u;for(u=0;u<s.length;u++)l=s[u],!(r.indexOf(l)>=0)&&(n[l]=i[l]);return n}const W2="get",G2="application/x-www-form-urlencoded";function wm(i){return i!=null&&typeof i.tagName=="string"}function HC(i){return wm(i)&&i.tagName.toLowerCase()==="button"}function JC(i){return wm(i)&&i.tagName.toLowerCase()==="form"}function QC(i){return wm(i)&&i.tagName.toLowerCase()==="input"}function $C(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function qC(i,r){return i.button===0&&(!r||r==="_self")&&!$C(i)}function uh(i){return i===void 0&&(i=""),new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((r,n)=>{let s=i[n];return r.concat(Array.isArray(s)?s.map(l=>[n,l]):[[n,s]])},[]))}function KC(i,r){let n=uh(i);return r&&r.forEach((s,l)=>{n.has(l)||r.getAll(l).forEach(u=>{n.append(l,u)})}),n}let w2=null;function e_(){if(w2===null)try{new FormData(document.createElement("form"),0),w2=!1}catch{w2=!0}return w2}const r_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ep(i){return i!=null&&!r_.has(i)?(Lt(!1,'"'+i+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+G2+'"')),null):i}function a_(i,r){let n,s,l,u,d;if(JC(i)){let A=i.getAttribute("action");s=A?Li(A,r):null,n=i.getAttribute("method")||W2,l=Ep(i.getAttribute("enctype"))||G2,u=new FormData(i)}else if(HC(i)||QC(i)&&(i.type==="submit"||i.type==="image")){let A=i.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=i.getAttribute("formaction")||A.getAttribute("action");if(s=b?Li(b,r):null,n=i.getAttribute("formmethod")||A.getAttribute("method")||W2,l=Ep(i.getAttribute("formenctype"))||Ep(A.getAttribute("enctype"))||G2,u=new FormData(A,i),!e_()){let{name:p,type:x,value:N}=i;if(x==="image"){let v=p?p+".":"";u.append(v+"x","0"),u.append(v+"y","0")}else p&&u.append(p,N)}}else{if(wm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=W2,s=null,l=G2,d=i}return u&&l==="text/plain"&&(d=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:d}}const t_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],i_=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],o_="6";try{window.__reactRouterVersion=o_}catch{}const iw=h.createContext({isTransitioning:!1});iw.displayName="ViewTransition";const s_=h.createContext(new Map);s_.displayName="Fetchers";const l_="startTransition",U5=qj[l_];function c_(i){let{basename:r,children:n,future:s,window:l}=i,u=h.useRef();u.current==null&&(u.current=tC({window:l,v5Compat:!0}));let d=u.current,[A,b]=h.useState({action:d.action,location:d.location}),{v7_startTransition:p}=s||{},x=h.useCallback(N=>{p&&U5?U5(()=>b(N)):b(N)},[b,p]);return h.useLayoutEffect(()=>d.listen(x),[d,x]),h.useEffect(()=>LC(s),[s]),h.createElement(YC,{basename:r,children:n,location:A.location,navigationType:A.action,navigator:d,future:s})}const u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ka=h.forwardRef(function(r,n){let{onClick:s,relative:l,reloadDocument:u,replace:d,state:A,target:b,to:p,preventScrollReset:x,viewTransition:N}=r,v=d4(r,t_),{basename:w}=h.useContext(c0),E,F=!1;if(typeof p=="string"&&d_.test(p)&&(E=p,u_))try{let H=new URL(window.location.href),te=p.startsWith("//")?new URL(H.protocol+p):new URL(p),T=Li(te.pathname,w);te.origin===H.origin&&T!=null?p=T+te.search+te.hash:F=!0}catch{Lt(!1,'<Link to="'+p+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let V=_C(p,{relative:l}),G=b_(p,{replace:d,state:A,target:b,preventScrollReset:x,relative:l,viewTransition:N});function Z(H){s&&s(H),H.defaultPrevented||G(H)}return h.createElement("a",Fl({},v,{href:E||V,onClick:F||u?s:Z,ref:n,target:b}))});Ka.displayName="Link";const f_=h.forwardRef(function(r,n){let{"aria-current":s="page",caseSensitive:l=!1,className:u="",end:d=!1,style:A,to:b,viewTransition:p,children:x}=r,N=d4(r,n_),v=nd(b,{relative:N.relative}),w=zn(),E=h.useContext(s4),{navigator:F,basename:V}=h.useContext(c0),G=E!=null&&x_(v)&&p===!0,Z=F.encodeLocation?F.encodeLocation(v).pathname:v.pathname,H=w.pathname,te=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;l||(H=H.toLowerCase(),te=te?te.toLowerCase():null,Z=Z.toLowerCase()),te&&V&&(te=Li(te,V)||te);const T=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let M=H===Z||!d&&H.startsWith(Z)&&H.charAt(T)==="/",q=te!=null&&(te===Z||!d&&te.startsWith(Z)&&te.charAt(Z.length)==="/"),$={isActive:M,isPending:q,isTransitioning:G},Ae=M?s:void 0,L;typeof u=="function"?L=u($):L=[u,M?"active":null,q?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let J=typeof A=="function"?A($):A;return h.createElement(Ka,Fl({},N,{"aria-current":Ae,className:L,ref:n,style:J,to:b,viewTransition:p}),typeof x=="function"?x($):x)});f_.displayName="NavLink";const m_=h.forwardRef((i,r)=>{let{fetcherKey:n,navigate:s,reloadDocument:l,replace:u,state:d,method:A=W2,action:b,onSubmit:p,relative:x,preventScrollReset:N,viewTransition:v}=i,w=d4(i,i_),E=v_(),F=N_(b,{relative:x}),V=A.toLowerCase()==="get"?"get":"post",G=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let H=Z.nativeEvent.submitter,te=(H==null?void 0:H.getAttribute("formmethod"))||A;E(H||Z.currentTarget,{fetcherKey:n,method:te,navigate:s,replace:u,state:d,relative:x,preventScrollReset:N,viewTransition:v})};return h.createElement("form",Fl({ref:r,method:V,action:F,onSubmit:l?p:G},w))});m_.displayName="Form";var em;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(em||(em={}));var X5;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(X5||(X5={}));function A_(i){return i+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function ow(i){let r=h.useContext(ad);return r||ca(!1,A_(i)),r}function b_(i,r){let{target:n,replace:s,state:l,preventScrollReset:u,relative:d,viewTransition:A}=r===void 0?{}:r,b=ua(),p=zn(),x=nd(i,{relative:d});return h.useCallback(N=>{if(qC(N,n)){N.preventDefault();let v=s!==void 0?s:Gu(p)===Gu(x);b(i,{replace:v,state:l,preventScrollReset:u,relative:d,viewTransition:A})}},[p,b,x,s,l,n,i,u,d,A])}function Ln(i){Lt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=h.useRef(uh(i)),n=h.useRef(!1),s=zn(),l=h.useMemo(()=>KC(s.search,n.current?null:r.current),[s.search]),u=ua(),d=h.useCallback((A,b)=>{const p=uh(typeof A=="function"?A(l):A);n.current=!0,u("?"+p,b)},[u,l]);return[l,d]}function p_(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let h_=0,g_=()=>"__"+String(++h_)+"__";function v_(){let{router:i}=ow(em.UseSubmit),{basename:r}=h.useContext(c0),n=GC();return h.useCallback(function(s,l){l===void 0&&(l={}),p_();let{action:u,method:d,encType:A,formData:b,body:p}=a_(s,r);if(l.navigate===!1){let x=l.fetcherKey||g_();i.fetch(x,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:b,body:p,formMethod:l.method||d,formEncType:l.encType||A,flushSync:l.flushSync})}else i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:b,body:p,formMethod:l.method||d,formEncType:l.encType||A,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,n])}function N_(i,r){let{relative:n}=r===void 0?{}:r,{basename:s}=h.useContext(c0),l=h.useContext(j0);l||ca(!1,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),d=Fl({},nd(i||".",{relative:n})),A=zn();if(i==null){d.search=A.search;let b=new URLSearchParams(d.search),p=b.getAll("index");if(p.some(N=>N==="")){b.delete("index"),p.filter(v=>v).forEach(v=>b.append("index",v));let N=b.toString();d.search=N?"?"+N:""}}return(!i||i===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:Pn([s,d.pathname])),Gu(d)}function x_(i,r){r===void 0&&(r={});let n=h.useContext(iw);n==null&&ca(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ow(em.useViewTransitionState),l=nd(i,{relative:r.relative});if(!n.isTransitioning)return!1;let u=Li(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Li(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(l.pathname,d)!=null||lh(l.pathname,u)!=null}var f4={},rm={},dh=function(i,r){return dh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])},dh(i,r)};function sw(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");dh(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var am=function(){return am=Object.assign||function(r){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},am.apply(this,arguments)};function Xl(i,r){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&r.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(i);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(i,s[l])&&(n[s[l]]=i[s[l]]);return n}function lw(i,r,n,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,n):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,n,s);else for(var A=i.length-1;A>=0;A--)(d=i[A])&&(u=(l<3?d(u):l>3?d(r,n,u):d(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function cw(i,r){return function(n,s){r(n,s,i)}}function uw(i,r,n,s,l,u){function d(G){if(G!==void 0&&typeof G!="function")throw new TypeError("Function expected");return G}for(var A=s.kind,b=A==="getter"?"get":A==="setter"?"set":"value",p=!r&&i?s.static?i:i.prototype:null,x=r||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),N,v=!1,w=n.length-1;w>=0;w--){var E={};for(var F in s)E[F]=F==="access"?{}:s[F];for(var F in s.access)E.access[F]=s.access[F];E.addInitializer=function(G){if(v)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(G||null))};var V=(0,n[w])(A==="accessor"?{get:x.get,set:x.set}:x[b],E);if(A==="accessor"){if(V===void 0)continue;if(V===null||typeof V!="object")throw new TypeError("Object expected");(N=d(V.get))&&(x.get=N),(N=d(V.set))&&(x.set=N),(N=d(V.init))&&l.unshift(N)}else(N=d(V))&&(A==="field"?l.unshift(N):x[b]=N)}p&&Object.defineProperty(p,s.name,x),v=!0}function dw(i,r,n){for(var s=arguments.length>2,l=0;l<r.length;l++)n=s?r[l].call(i,n):r[l].call(i);return s?n:void 0}function fw(i){return typeof i=="symbol"?i:"".concat(i)}function mw(i,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Aw(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function or(i,r,n,s){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function A(x){try{p(s.next(x))}catch(N){d(N)}}function b(x){try{p(s.throw(x))}catch(N){d(N)}}function p(x){x.done?u(x.value):l(x.value).then(A,b)}p((s=s.apply(i,r||[])).next())})}function bw(i,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=A(0),d.throw=A(1),d.return=A(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function A(p){return function(x){return b([p,x])}}function b(p){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(n=0)),n;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,l=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){n.label=p[1];break}if(p[0]===6&&n.label<u[1]){n.label=u[1],u=p;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(p);break}u[2]&&n.ops.pop(),n.trys.pop();continue}p=r.call(i,n)}catch(x){p=[6,x],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Em=Object.create?function(i,r,n,s){s===void 0&&(s=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,s,l)}:function(i,r,n,s){s===void 0&&(s=n),i[s]=r[n]};function pw(i,r){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Em(r,i,n)}function tm(i){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&i[r],s=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function m4(i,r){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var s=n.call(i),l,u=[],d;try{for(;(r===void 0||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(A){d={error:A}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(d)throw d.error}}return u}function hw(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(m4(arguments[r]));return i}function gw(){for(var i=0,r=0,n=arguments.length;r<n;r++)i+=arguments[r].length;for(var s=Array(i),l=0,r=0;r<n;r++)for(var u=arguments[r],d=0,A=u.length;d<A;d++,l++)s[l]=u[d];return s}function vw(i,r,n){if(n||arguments.length===2)for(var s=0,l=r.length,u;s<l;s++)(u||!(s in r))&&(u||(u=Array.prototype.slice.call(r,0,s)),u[s]=r[s]);return i.concat(u||Array.prototype.slice.call(r))}function Zl(i){return this instanceof Zl?(this.v=i,this):new Zl(i)}function Nw(i,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(w){return function(E){return Promise.resolve(E).then(w,N)}}function A(w,E){s[w]&&(l[w]=function(F){return new Promise(function(V,G){u.push([w,F,V,G])>1||b(w,F)})},E&&(l[w]=E(l[w])))}function b(w,E){try{p(s[w](E))}catch(F){v(u[0][3],F)}}function p(w){w.value instanceof Zl?Promise.resolve(w.value.v).then(x,N):v(u[0][2],w)}function x(w){b("next",w)}function N(w){b("throw",w)}function v(w,E){w(E),u.shift(),u.length&&b(u[0][0],u[0][1])}}function xw(i){var r,n;return r={},s("next"),s("throw",function(l){throw l}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(l,u){r[l]=i[l]?function(d){return(n=!n)?{value:Zl(i[l](d)),done:!1}:u?u(d):d}:u}}function yw(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],n;return r?r.call(i):(i=typeof tm=="function"?tm(i):i[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=i[u]&&function(d){return new Promise(function(A,b){d=i[u](d),l(A,b,d.done,d.value)})}}function l(u,d,A,b){Promise.resolve(b).then(function(p){u({value:p,done:A})},d)}}function ww(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var y_=Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r},fh=function(i){return fh=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},fh(i)};function Ew(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var n=fh(i),s=0;s<n.length;s++)n[s]!=="default"&&Em(r,i,n[s]);return y_(r,i),r}function kw(i){return i&&i.__esModule?i:{default:i}}function Dw(i,r,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!s:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(i):s?s.value:r.get(i)}function Vw(i,r,n,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!l:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(i,n):l?l.value=n:r.set(i,n),n}function jw(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function Cw(i,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var s,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=r[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=r[Symbol.dispose],n&&(l=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");l&&(s=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:s,async:n})}else n&&i.stack.push({async:!0});return r}var w_=typeof SuppressedError=="function"?SuppressedError:function(i,r,n){var s=new Error(n);return s.name="SuppressedError",s.error=i,s.suppressed=r,s};function _w(i){function r(u){i.error=i.hasError?new w_(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var n,s=0;function l(){for(;n=i.stack.pop();)try{if(!n.async&&s===1)return s=0,i.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(u).then(l,function(d){return r(d),l()})}else s|=1}catch(d){r(d)}if(s===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return l()}function Sw(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,l,u,d){return s?r?".jsx":".js":l&&(!u||!d)?n:l+u+"."+d.toLowerCase()+"js"}):i}const E_={__extends:sw,__assign:am,__rest:Xl,__decorate:lw,__param:cw,__esDecorate:uw,__runInitializers:dw,__propKey:fw,__setFunctionName:mw,__metadata:Aw,__awaiter:or,__generator:bw,__createBinding:Em,__exportStar:pw,__values:tm,__read:m4,__spread:hw,__spreadArrays:gw,__spreadArray:vw,__await:Zl,__asyncGenerator:Nw,__asyncDelegator:xw,__asyncValues:yw,__makeTemplateObject:ww,__importStar:Ew,__importDefault:kw,__classPrivateFieldGet:Dw,__classPrivateFieldSet:Vw,__classPrivateFieldIn:jw,__addDisposableResource:Cw,__disposeResources:_w,__rewriteRelativeImportExtension:Sw},k_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Cw,get __assign(){return am},__asyncDelegator:xw,__asyncGenerator:Nw,__asyncValues:yw,__await:Zl,__awaiter:or,__classPrivateFieldGet:Dw,__classPrivateFieldIn:jw,__classPrivateFieldSet:Vw,__createBinding:Em,__decorate:lw,__disposeResources:_w,__esDecorate:uw,__exportStar:pw,__extends:sw,__generator:bw,__importDefault:kw,__importStar:Ew,__makeTemplateObject:ww,__metadata:Aw,__param:cw,__propKey:fw,__read:m4,__rest:Xl,__rewriteRelativeImportExtension:Sw,__runInitializers:dw,__setFunctionName:mw,__spread:hw,__spreadArray:vw,__spreadArrays:gw,__values:tm,default:E_},Symbol.toStringTag,{value:"Module"})),D_=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);let km=class extends Error{constructor(r,n="FunctionsError",s){super(r),this.name=n,this.context=s}},Mw=class extends km{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}},mh=class extends km{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}},Ah=class extends km{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}};var nm;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(nm||(nm={}));class V_{constructor(r,{headers:n={},customFetch:s,region:l=nm.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=D_(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return or(this,arguments,void 0,function*(n,s={}){var l;let u,d;try{const{headers:A,method:b,body:p,signal:x,timeout:N}=s;let v={},{region:w}=s;w||(w=this.region);const E=new URL(`${this.url}/${n}`);w&&w!=="any"&&(v["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let F;p&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",F=p):typeof p=="string"?(v["Content-Type"]="text/plain",F=p):typeof FormData<"u"&&p instanceof FormData?F=p:(v["Content-Type"]="application/json",F=JSON.stringify(p)):F=p;let V=x;N&&(d=new AbortController,u=setTimeout(()=>d.abort(),N),x?(V=d.signal,x.addEventListener("abort",()=>d.abort())):V=d.signal);const G=yield this.fetch(E.toString(),{method:b||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),A),body:F,signal:V}).catch(T=>{throw new Mw(T)}),Z=G.headers.get("x-relay-error");if(Z&&Z==="true")throw new mh(G);if(!G.ok)throw new Ah(G);let H=((l=G.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),te;return H==="application/json"?te=yield G.json():H==="application/octet-stream"||H==="application/pdf"?te=yield G.blob():H==="text/event-stream"?te=G:H==="multipart/form-data"?te=yield G.formData():te=yield G.text(),{data:te,error:null,response:G}}catch(A){return{data:null,error:A,response:A instanceof Ah||A instanceof mh?A.context:void 0}}finally{u&&clearTimeout(u)}})}}const j_=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return nm},FunctionsClient:V_,FunctionsError:km,FunctionsFetchError:Mw,FunctionsHttpError:Ah,FunctionsRelayError:mh},Symbol.toStringTag,{value:"Module"})),Iw=rd(j_);var ot={};const zl=rd(k_);var E2={},k2={},D2={},V2={},j2={},C2={},z5;function Rw(){if(z5)return C2;z5=1,Object.defineProperty(C2,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return C2.default=i,C2}var L5;function Tw(){if(L5)return j2;L5=1,Object.defineProperty(j2,"__esModule",{value:!0});const r=zl.__importDefault(Rw());let n=class{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let A=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async b=>{var p,x,N,v;let w=null,E=null,F=null,V=b.status,G=b.statusText;if(b.ok){if(this.method!=="HEAD"){const T=await b.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?E=T:E=JSON.parse(T))}const H=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),te=(N=b.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");H&&te&&te.length>1&&(F=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,F=null,V=406,G="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const H=await b.text();try{w=JSON.parse(H),Array.isArray(w)&&b.status===404&&(E=[],w=null,V=200,G="OK")}catch{b.status===404&&H===""?(V=204,G="No Content"):w={message:H}}if(w&&this.isMaybeSingle&&(!((v=w==null?void 0:w.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,V=200,G="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:E,count:F,status:V,statusText:G}});return this.shouldThrowOnError||(A=A.catch(b=>{var p,x,N,v,w,E;let F="";const V=b==null?void 0:b.cause;if(V){const G=(p=V==null?void 0:V.message)!==null&&p!==void 0?p:"",Z=(x=V==null?void 0:V.code)!==null&&x!==void 0?x:"";F=`${(N=b==null?void 0:b.name)!==null&&N!==void 0?N:"FetchError"}: ${b==null?void 0:b.message}`,F+=`

Caused by: ${(v=V==null?void 0:V.name)!==null&&v!==void 0?v:"Error"}: ${G}`,Z&&(F+=` (${Z})`),V!=null&&V.stack&&(F+=`
${V.stack}`)}else F=(w=b==null?void 0:b.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(E=b==null?void 0:b.name)!==null&&E!==void 0?E:"FetchError"}: ${b==null?void 0:b.message}`,details:F,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),A.then(l,u)}returns(){return this}overrideTypes(){return this}};return j2.default=n,j2}var Y5;function Bw(){if(Y5)return V2;Y5=1,Object.defineProperty(V2,"__esModule",{value:!0});const r=zl.__importDefault(Tw());let n=class extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(A=>/\s/.test(A)&&!u?"":(A==='"'&&(u=!u),A)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:A,referencedTable:b=A}={}){const p=b?`${b}.order`:"order",x=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${x?`${x},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const A=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(A,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:A=d}={}){const b=typeof A>"u"?"offset":`${A}.offset`,p=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(b,`${l}`),this.url.searchParams.set(p,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:A=!1,wal:b=!1,format:p="text"}={}){var x;const N=[l?"analyze":null,u?"verbose":null,d?"settings":null,A?"buffers":null,b?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${N};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return V2.default=n,V2}var H5;function A4(){if(H5)return D2;H5=1,Object.defineProperty(D2,"__esModule",{value:!0});const r=zl.__importDefault(Bw()),n=new RegExp("[,()]");let s=class extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const A=Array.from(new Set(d)).map(b=>typeof b=="string"&&n.test(b)?`"${b}"`:`${b}`).join(",");return this.url.searchParams.append(u,`in.(${A})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:A,type:b}={}){let p="";b==="plain"?p="pl":b==="phrase"?p="ph":b==="websearch"&&(p="w");const x=A===void 0?"":`(${A})`;return this.url.searchParams.append(u,`${p}fts${x}.${d}`),this}match(u){return Object.entries(u).forEach(([d,A])=>{this.url.searchParams.append(d,`eq.${A}`)}),this}not(u,d,A){return this.url.searchParams.append(u,`not.${d}.${A}`),this}or(u,{foreignTable:d,referencedTable:A=d}={}){const b=A?`${A}.or`:"or";return this.url.searchParams.append(b,`(${u})`),this}filter(u,d,A){return this.url.searchParams.append(u,`${d}.${A}`),this}};return D2.default=s,D2}var J5;function Fw(){if(J5)return k2;J5=1,Object.defineProperty(k2,"__esModule",{value:!0});const r=zl.__importDefault(A4());let n=class{constructor(l,{headers:u={},schema:d,fetch:A}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=A}select(l,u){const{head:d=!1,count:A}=u??{},b=d?"HEAD":"GET";let p=!1;const x=(l??"*").split("").map(N=>/\s/.test(N)&&!p?"":(N==='"'&&(p=!p),N)).join("");return this.url.searchParams.set("select",x),A&&this.headers.append("Prefer",`count=${A}`),new r.default({method:b,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var A;const b="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((x,N)=>x.concat(Object.keys(N)),[]);if(p.length>0){const x=[...new Set(p)].map(N=>`"${N}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:A,defaultToNull:b=!0}={}){var p;const x="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),A&&this.headers.append("Prefer",`count=${A}`),b||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const N=l.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(N.length>0){const v=[...new Set(N)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:u}={}){var d;const A="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:A,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return k2.default=n,k2}var Q5;function C_(){if(Q5)return E2;Q5=1,Object.defineProperty(E2,"__esModule",{value:!0});const i=zl,r=i.__importDefault(Fw()),n=i.__importDefault(A4());let s=class Zw{constructor(u,{headers:d={},schema:A,fetch:b}={}){this.url=u,this.headers=new Headers(d),this.schemaName=A,this.fetch=b}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new Zw(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:A=!1,get:b=!1,count:p}={}){var x;let N;const v=new URL(`${this.url}/rpc/${u}`);let w;A||b?(N=A?"HEAD":"GET",Object.entries(d).filter(([F,V])=>V!==void 0).map(([F,V])=>[F,Array.isArray(V)?`{${V.join(",")}}`:`${V}`]).forEach(([F,V])=>{v.searchParams.append(F,V)})):(N="POST",w=d);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new n.default({method:N,url:v,headers:E,schema:this.schemaName,body:w,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return E2.default=s,E2}Object.defineProperty(ot,"__esModule",{value:!0});ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const Ll=zl,Ow=Ll.__importDefault(C_());ot.PostgrestClient=Ow.default;const Pw=Ll.__importDefault(Fw());ot.PostgrestQueryBuilder=Pw.default;const Ww=Ll.__importDefault(A4());ot.PostgrestFilterBuilder=Ww.default;const Gw=Ll.__importDefault(Bw());ot.PostgrestTransformBuilder=Gw.default;const Uw=Ll.__importDefault(Tw());ot.PostgrestBuilder=Uw.default;const Xw=Ll.__importDefault(Rw());ot.PostgrestError=Xw.default;ot.default={PostgrestClient:Ow.default,PostgrestQueryBuilder:Pw.default,PostgrestFilterBuilder:Ww.default,PostgrestTransformBuilder:Gw.default,PostgrestBuilder:Uw.default,PostgrestError:Xw.default};class zw{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const s=this.getWebSocketConstructor();return new s(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const __="2.87.1",S_=`realtime-js/${__}`,Lw="1.0.0",M_="2.0.0",$5=Lw,bh=1e4,I_=1e3,R_=100;var Qo;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Qo||(Qo={}));var ja;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ja||(ja={}));var w0;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(w0||(w0={}));var ph;(function(i){i.websocket="websocket"})(ph||(ph={}));var $o;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})($o||($o={}));class T_{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let s=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,s;const l=(s=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,s;const l=(s=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,n,s){var l,u;const d=r.topic,A=(l=r.ref)!==null&&l!==void 0?l:"",b=(u=r.join_ref)!==null&&u!==void 0?u:"",p=r.payload.event,x=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},N=Object.keys(x).length===0?"":JSON.stringify(x);if(b.length>255)throw new Error(`joinRef length ${b.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`ref length ${A.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(N.length>255)throw new Error(`metadata length ${N.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+b.length+A.length+d.length+p.length+N.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let E=new DataView(w),F=0;E.setUint8(F++,this.KINDS.userBroadcastPush),E.setUint8(F++,b.length),E.setUint8(F++,A.length),E.setUint8(F++,d.length),E.setUint8(F++,p.length),E.setUint8(F++,N.length),E.setUint8(F++,n),Array.from(b,G=>E.setUint8(F++,G.charCodeAt(0))),Array.from(A,G=>E.setUint8(F++,G.charCodeAt(0))),Array.from(d,G=>E.setUint8(F++,G.charCodeAt(0))),Array.from(p,G=>E.setUint8(F++,G.charCodeAt(0))),Array.from(N,G=>E.setUint8(F++,G.charCodeAt(0)));var V=new Uint8Array(w.byteLength+s.byteLength);return V.set(new Uint8Array(w),0),V.set(new Uint8Array(s),w.byteLength),V.buffer}decode(r,n){if(this._isArrayBuffer(r)){let s=this._binaryDecode(r);return n(s)}if(typeof r=="string"){const s=JSON.parse(r),[l,u,d,A,b]=s;return n({join_ref:l,ref:u,topic:d,event:A,payload:b})}return n({})}_binaryDecode(r){const n=new DataView(r),s=n.getUint8(0),l=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,s){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),A=n.getUint8(4);let b=this.HEADER_LENGTH+4;const p=s.decode(r.slice(b,b+l));b=b+l;const x=s.decode(r.slice(b,b+u));b=b+u;const N=s.decode(r.slice(b,b+d));b=b+d;const v=r.slice(b,r.byteLength),w=A===this.JSON_ENCODING?JSON.parse(s.decode(v)):v,E={type:this.BROADCAST_EVENT,event:x,payload:w};return d>0&&(E.meta=JSON.parse(N)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([s])=>n.includes(s)))}}class Yw{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kr;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Kr||(Kr={}));const q5=(i,r,n={})=>{var s;const l=(s=n.skipTypes)!==null&&s!==void 0?s:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=B_(d,i,r,l),u),{}):{}},B_=(i,r,n,s)=>{const l=r.find(A=>A.name===i),u=l==null?void 0:l.type,d=n[i];return u&&!s.includes(u)?Hw(u,d):hh(d)},Hw=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return P_(r,n)}switch(i){case Kr.bool:return F_(r);case Kr.float4:case Kr.float8:case Kr.int2:case Kr.int4:case Kr.int8:case Kr.numeric:case Kr.oid:return Z_(r);case Kr.json:case Kr.jsonb:return O_(r);case Kr.timestamp:return W_(r);case Kr.abstime:case Kr.date:case Kr.daterange:case Kr.int4range:case Kr.int8range:case Kr.money:case Kr.reltime:case Kr.text:case Kr.time:case Kr.timestamptz:case Kr.timetz:case Kr.tsrange:case Kr.tstzrange:return hh(r);default:return hh(r)}},hh=i=>i,F_=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Z_=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},O_=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},P_=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,s=i[n];if(i[0]==="{"&&s==="}"){let u;const d=i.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(A=>Hw(r,A))}return i},W_=i=>typeof i=="string"?i.replace(" ","T"):i,Jw=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class kp{constructor(r,n,s={},l=bh){this.channel=r,this.event=n,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var s;return this._hasReceived(r)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var gh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(gh||(gh={}));let Qw=class U2{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:u,onLeave:d,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=U2.syncState(this.state,l,u,d),this.pendingDiffs.forEach(b=>{this.state=U2.syncDiff(this.state,b,u,d)}),this.pendingDiffs=[],A()}),this.channel._on(s.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=U2.syncDiff(this.state,l,u,d),A())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,s,l){const u=this.cloneDeep(r),d=this.transformState(n),A={},b={};return this.map(u,(p,x)=>{d[p]||(b[p]=x)}),this.map(d,(p,x)=>{const N=u[p];if(N){const v=x.map(V=>V.presence_ref),w=N.map(V=>V.presence_ref),E=x.filter(V=>w.indexOf(V.presence_ref)<0),F=N.filter(V=>v.indexOf(V.presence_ref)<0);E.length>0&&(A[p]=E),F.length>0&&(b[p]=F)}else A[p]=x}),this.syncDiff(u,{joins:A,leaves:b},s,l)}static syncDiff(r,n,s,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(u,(A,b)=>{var p;const x=(p=r[A])!==null&&p!==void 0?p:[];if(r[A]=this.cloneDeep(b),x.length>0){const N=r[A].map(w=>w.presence_ref),v=x.filter(w=>N.indexOf(w.presence_ref)<0);r[A].unshift(...v)}s(A,x,b)}),this.map(d,(A,b)=>{let p=r[A];if(!p)return;const x=b.map(N=>N.presence_ref);p=p.filter(N=>x.indexOf(N.presence_ref)<0),r[A]=p,l(A,p,b),p.length===0&&delete r[A]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(s=>n(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,s)=>{const l=r[s];return"metas"in l?n[s]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[s]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var vh;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(vh||(vh={}));var Il;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Il||(Il={}));var tn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(tn||(tn={}));const G_=ja;let $w=class Mu{constructor(r,n={config:{}},s){var l,u;if(this.topic=r,this.params=n,this.socket=s,this.bindings={},this.state=ja.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kp(this,w0.join,this.params,this.timeout),this.rejoinTimer=new Yw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ja.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ja.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this._on(w0.reply,{},(d,A)=>{this._trigger(this._replyEventName(A),d)}),this.presence=new Qw(this),this.broadcastEndpointURL=Jw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var s,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ja.closed){const{config:{broadcast:d,presence:A,private:b}}=this.params,p=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&l!==void 0?l:[],x=!!this.bindings[Il.PRESENCE]&&this.bindings[Il.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,N={},v={broadcast:d,presence:Object.assign(Object.assign({},A),{enabled:x}),postgres_changes:p,private:b};this.socket.accessTokenValue&&(N.access_token=this.socket.accessTokenValue),this._onError(w=>r==null?void 0:r(tn.CHANNEL_ERROR,w)),this._onClose(()=>r==null?void 0:r(tn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},N)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){r==null||r(tn.SUBSCRIBED);return}else{const F=this.bindings.postgres_changes,V=(E=F==null?void 0:F.length)!==null&&E!==void 0?E:0,G=[];for(let Z=0;Z<V;Z++){const H=F[Z],{filter:{event:te,schema:T,table:M,filter:q}}=H,$=w&&w[Z];if($&&$.event===te&&Mu.isFilterValueEqual($.schema,T)&&Mu.isFilterValueEqual($.table,M)&&Mu.isFilterValueEqual($.filter,q))G.push(Object.assign(Object.assign({},H),{id:$.id}));else{this.unsubscribe(),this.state=ja.errored,r==null||r(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,r&&r(tn.SUBSCRIBED);return}}).receive("error",w=>{this.state=ja.errored,r==null||r(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,s){return this.state===ja.joined&&r===Il.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,s)}async httpSend(r,n,s={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(A.status===202)return{success:!0};let b=A.statusText;try{const p=await A.json();b=p.error||p.message||b}catch{}return Promise.reject(new Error(b))}async send(r,n={}){var s,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,b={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,A,b;const p=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((b=(A=(d=this.params)===null||d===void 0?void 0:d.config)===null||A===void 0?void 0:A.broadcast)===null||b===void 0)&&b.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ja.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w0.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new kp(this,w0.leave,{},r),s.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ja.closed,this.bindings={}}async _fetchWithTimeout(r,n,s){const l=new AbortController,u=setTimeout(()=>l.abort(),s),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(r,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new kp(this,r,n,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>R_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,s){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,s){var l,u;const d=r.toLocaleLowerCase(),{close:A,error:b,leave:p,join:x}=w0;if(s&&[A,b,p,x].indexOf(d)>=0&&s!==this._joinRef())return;let v=this._onMessage(d,n,s);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var E,F,V;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((V=(F=w.filter)===null||F===void 0?void 0:F.event)===null||V===void 0?void 0:V.toLocaleLowerCase())===d}).map(w=>w.callback(v,s)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var E,F,V,G,Z,H;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const te=w.id,T=(E=w.filter)===null||E===void 0?void 0:E.event;return te&&((F=n.ids)===null||F===void 0?void 0:F.includes(te))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((V=n.data)===null||V===void 0?void 0:V.type.toLocaleLowerCase()))}else{const te=(Z=(G=w==null?void 0:w.filter)===null||G===void 0?void 0:G.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return te==="*"||te===((H=n==null?void 0:n.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:F,table:V,commit_timestamp:G,type:Z,errors:H}=E;v=Object.assign(Object.assign({},{schema:F,table:V,commit_timestamp:G,eventType:Z,new:{},old:{},errors:H}),this._getPayloadRecords(E))}w.callback(v,s)})}_isClosed(){return this.state===ja.closed}_isJoined(){return this.state===ja.joined}_isJoining(){return this.state===ja.joining}_isLeaving(){return this.state===ja.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,s){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:s};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&Mu.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const s in r)if(r[s]!==n[s])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(w0.close,{},r)}_onError(r){this._on(w0.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ja.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=q5(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=q5(r.columns,r.old_record)),n}};const Dp=()=>{},_2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},U_=[1e3,2e3,5e3,1e4],X_=1e4,z_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let L_=class{constructor(r,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bh,this.transport=null,this.heartbeatIntervalMs=_2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dp,this.ref=0,this.reconnectTimer=null,this.vsn=$5,this.logger=Dp,this.conn=null,this.sendBuffer=[],this.serializer=new T_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${ph.websocket}`,this.httpEndpoint=Jw(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zw.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,s){this.logger(r,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return $o.Connecting;case Qo.open:return $o.Open;case Qo.closing:return $o.Closing;default:return $o.Closed}}isConnected(){return this.connectionState()===$o.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const s=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===s);if(l)return l;{const u=new $w(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:s,payload:l,ref:u}=r,d=()=>{this.encode(r,A=>{var b;(b=this.conn)===null||b===void 0||b.send(A)})};this.log("push",`${n} ${s} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(I_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:u,ref:d}=n,A=d?`(${d})`:"",b=u.status||"";this.log("receive",`${b} ${s} ${l} ${A}`.trim(),u),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qo.open||this.conn.readyState===Qo.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(w0.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const s=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${s}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const s=new Blob([z_],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,s=!1;if(r)n=r,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const u={access_token:n,version:S_};n&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(w0.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Yw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,s,l,u,d,A,b,p,x,N,v,w;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(s=r==null?void 0:r.timeout)!==null&&s!==void 0?s:bh,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:_2.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(A=r==null?void 0:r.heartbeatCallback)!==null&&A!==void 0?A:Dp,this.vsn=(b=r==null?void 0:r.vsn)!==null&&b!==void 0?b:$5,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r==null?void 0:r.reconnectAfterMs)!==null&&p!==void 0?p:E=>U_[E-1]||X_,this.vsn){case Lw:this.encode=(x=r==null?void 0:r.encode)!==null&&x!==void 0?x:(E,F)=>F(JSON.stringify(E)),this.decode=(N=r==null?void 0:r.decode)!==null&&N!==void 0?N:(E,F)=>F(JSON.parse(E));break;case M_:this.encode=(v=r==null?void 0:r.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}};const Y_=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:G_,get REALTIME_LISTEN_TYPES(){return Il},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return vh},get REALTIME_PRESENCE_LISTEN_EVENTS(){return gh},get REALTIME_SUBSCRIBE_STATES(){return tn},RealtimeChannel:$w,RealtimeClient:L_,RealtimePresence:Qw,WebSocketFactory:zw},Symbol.toStringTag,{value:"Module"})),qw=rd(Y_);class id extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function la(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Kw extends id{constructor(r,n,s){super(r),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class im extends id{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const b4=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),H_=()=>Response,Nh=i=>{if(Array.isArray(i))return i.map(n=>Nh(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,s])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Nh(s)}),r},J_=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Q_=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),Vp=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},$_=(i,r,n)=>or(void 0,void 0,void 0,function*(){const s=yield H_();i instanceof s&&!(n!=null&&n.noResolveJson)?i.json().then(l=>{const u=i.status||500,d=(l==null?void 0:l.statusCode)||u+"";r(new Kw(Vp(l),u,d))}).catch(l=>{r(new im(Vp(l),l))}):r(new im(Vp(i),i))}),q_=(i,r,n,s)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"||!s?l:(J_(s)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(s)):l.body=s,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function od(i,r,n,s,l,u){return or(this,void 0,void 0,function*(){return new Promise((d,A)=>{i(n,q_(r,s,l,u)).then(b=>{if(!b.ok)throw b;return s!=null&&s.noResolveJson?b:b.json()}).then(b=>d(b)).catch(b=>$_(b,A,s))})})}function zu(i,r,n,s){return or(this,void 0,void 0,function*(){return od(i,"GET",r,n,s)})}function y0(i,r,n,s,l){return or(this,void 0,void 0,function*(){return od(i,"POST",r,s,l,n)})}function xh(i,r,n,s,l){return or(this,void 0,void 0,function*(){return od(i,"PUT",r,s,l,n)})}function K_(i,r,n,s){return or(this,void 0,void 0,function*(){return od(i,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function p4(i,r,n,s,l){return or(this,void 0,void 0,function*(){return od(i,"DELETE",r,s,l,n)})}class eS{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return or(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}})}}var eE;class rS{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[eE]="BlobDownloadBuilder",this.promise=null}asStream(){return new eS(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return or(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(la(r))return{data:null,error:r};throw r}})}}eE=Symbol.toStringTag;const aS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tS{constructor(r,n={},s,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=s,this.fetch=b4(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,s,l){return or(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},K5),l);let A=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const b=d.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),b&&u.append("metadata",this.encodeMetadata(b)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),b&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(b))):(u=s,A["cache-control"]=`max-age=${d.cacheControl}`,A["content-type"]=d.contentType,b&&(A["x-metadata"]=this.toBase64(this.encodeMetadata(b))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),l!=null&&l.headers&&(A=Object.assign(Object.assign({},A),l.headers));const p=this._removeEmptyFolders(n),x=this._getFinalPath(p),N=yield(r=="PUT"?xh:y0)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:A},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:N.Id,fullPath:N.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(la(u))return{data:null,error:u};throw u}})}upload(r,n,s){return or(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,s)})}uploadToSignedUrl(r,n,s,l){return or(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),A=new URL(this.url+`/object/upload/sign/${d}`);A.searchParams.set("token",n);try{let b;const p=Object.assign({upsert:K5.upsert},l),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(b=new FormData,b.append("cacheControl",p.cacheControl),b.append("",s)):typeof FormData<"u"&&s instanceof FormData?(b=s,b.append("cacheControl",p.cacheControl)):(b=s,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const N=yield xh(this.fetch,A.toString(),b,{headers:x});return{data:{path:u,fullPath:N.Key},error:null}}catch(b){if(this.shouldThrowOnError)throw b;if(la(b))return{data:null,error:b};throw b}})}createSignedUploadUrl(r,n){return or(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield y0(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),d=new URL(this.url+u.url),A=d.searchParams.get("token");if(!A)throw new id("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:A},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}})}update(r,n,s){return or(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,s)})}move(r,n,s){return or(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(la(l))return{data:null,error:l};throw l}})}copy(r,n,s){return or(this,void 0,void 0,function*(){try{return{data:{path:(yield y0(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(la(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,s){return or(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield y0(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(la(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,s){return or(this,void 0,void 0,function*(){try{const l=yield y0(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(la(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"",A=this._getFinalPath(r),b=()=>zu(this.fetch,`${this.url}/${l}/${A}${d}`,{headers:this.headers,noResolveJson:!0});return new rS(b,this.shouldThrowOnError)}info(r){return or(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const s=yield zu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Nh(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}})}exists(r){return or(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield K_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(la(s)&&s instanceof im){const l=s.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:s}}throw s}})}getPublicUrl(r,n){const s=this._getFinalPath(r),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const A=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",b=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});b!==""&&l.push(b);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${A}/public/${s}${p}`)}}}remove(r){return or(this,void 0,void 0,function*(){try{return{data:yield p4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}})}list(r,n,s){return or(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},aS),n),{prefix:r||""});return{data:yield y0(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(la(l))return{data:null,error:l};throw l}})}listV2(r,n){return or(this,void 0,void 0,function*(){try{const s=Object.assign({},r);return{data:yield y0(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const rE="2.87.1",aE={"X-Client-Info":`storage-js/${rE}`};class nS{constructor(r,n={},s,l){this.shouldThrowOnError=!1;const u=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aE),n),this.fetch=b4(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return or(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield zu(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}})}getBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}})}createBucket(r){return or(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield y0(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(la(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return or(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(la(s))return{data:null,error:s};throw s}})}emptyBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}})}deleteBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield p4(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Lu=class extends Error{constructor(i,r){var n;super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iS(i,r,n){const s=new URL(r,i);if(n)for(const[l,u]of Object.entries(n))u!==void 0&&s.searchParams.set(l,u);return s.toString()}async function oS(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function sS(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:l,body:u,headers:d}){const A=iS(i.baseUrl,s,l),b=await oS(i.auth),p=await r(A,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...b,...d},body:u?JSON.stringify(u):void 0}),x=await p.text(),N=(p.headers.get("content-type")||"").includes("application/json"),v=N&&x?JSON.parse(x):x;if(!p.ok){const w=N?v:void 0,E=w==null?void 0:w.error;throw new Lu((E==null?void 0:E.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:w})}return{status:p.status,headers:p.headers,data:v}}}}function S2(i){return i.join("")}var lS=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:S2(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(i,r){const n={namespace:i.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${S2(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${S2(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${S2(i.namespace)}`}),!0}catch(r){if(r instanceof Lu&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(n){if(n instanceof Lu&&n.status===409)return;throw n}}};function xl(i){return i.join("")}var cS=class{constructor(i,r="",n){this.client=i,this.prefix=r,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(i,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xl(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(n){if(n instanceof Lu&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(n){if(n instanceof Lu&&n.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw n}}},uS=class{constructor(i){var s;let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=sS({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(s=i.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new lS(this.client,r),this.tableOps=new cS(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}};class tE{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},aE),n),this.fetch=b4(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}})}listBuckets(r){return or(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const s=n.toString(),l=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield zu(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}})}deleteBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield p4(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(la(n))return{data:null,error:n};throw n}})}from(r){if(!Q_(r))throw new id("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new uS({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>or(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(u,d){const A=u[d];return typeof A!="function"?A:(...b)=>or(this,void 0,void 0,function*(){try{return{data:yield A.apply(u,b),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}})}})}}const h4={"X-Client-Info":`storage-js/${rE}`,"Content-Type":"application/json"};class g4 extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function _t(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class X2 extends g4{constructor(r,n,s){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nE extends g4{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var yh;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(yh||(yh={}));const Dm=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),dS=()=>Response,iE=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},fS=i=>Array.from(new Float32Array(i)),mS=(i,r)=>{if(r!==void 0&&i.float32.length!==r)throw new Error(`Vector dimension mismatch: expected ${r}, got ${i.float32.length}`)},ey=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),AS=(i,r,n)=>or(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(n!=null&&n.noResolveJson)){const l=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const A=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";r(new X2(ey(d),l,A))}).catch(()=>{const d=l+"",A=u.statusText||`HTTP ${l} error`;r(new X2(A,l,d))});else{const d=l+"",A=u.statusText||`HTTP ${l} error`;r(new X2(A,l,d))}}else r(new nE(ey(i),i))}),bS=(i,r,n,s)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return s?(iE(s)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(s)):l.body=s,Object.assign(Object.assign({},l),n)):l};function pS(i,r,n,s,l,u){return or(this,void 0,void 0,function*(){return new Promise((d,A)=>{i(n,bS(r,s,l,u)).then(b=>{if(!b.ok)throw b;if(s!=null&&s.noResolveJson)return b;const p=b.headers.get("content-type");return!p||!p.includes("application/json")?{}:b.json()}).then(b=>d(b)).catch(b=>AS(b,A,s))})})}function zt(i,r,n,s,l){return or(this,void 0,void 0,function*(){return pS(i,"POST",r,s,l,n)})}class oE{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},h4),n),this.fetch=Dm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return or(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}getIndex(r,n){return or(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}listIndexes(r){return or(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return or(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}}class sE{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},h4),n),this.fetch=Dm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return or(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}getVectors(r){return or(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}listVectors(r){return or(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield zt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}queryVectors(r){return or(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteVectors(r){return or(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}}class lE{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},h4),n),this.fetch=Dm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return or(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}getBucket(r){return or(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}listBuckets(){return or(this,arguments,void 0,function*(r={}){try{return{data:yield zt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(r){return or(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}}class cE extends lE{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new uE(this.url,this.headers,r,this.fetch)}createBucket(r){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return or(this,void 0,void 0,function*(){return n.createBucket.call(this,r)})}getBucket(r){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return or(this,void 0,void 0,function*(){return n.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return or(this,arguments,void 0,function*(n={}){return r.listBuckets.call(this,n)})}deleteBucket(r){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return or(this,void 0,void 0,function*(){return n.deleteBucket.call(this,r)})}}class uE extends oE{constructor(r,n,s,l){super(r,n,l),this.vectorBucketName=s}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return or(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return or(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return or(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return or(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new dE(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class dE extends sE{constructor(r,n,s,l,u){super(r,n,u),this.vectorBucketName=s,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return or(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return or(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return or(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return or(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return or(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hS extends nS{constructor(r,n={},s,l){super(r,n,s,l)}from(r){return new tS(this.url,this.headers,r,this.fetch)}get vectors(){return new cE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tE(this.url+"/iceberg",this.headers,this.fetch)}}const gS=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:tE,StorageApiError:Kw,StorageClient:hS,StorageError:id,StorageUnknownError:im,StorageVectorsApiError:X2,StorageVectorsClient:cE,StorageVectorsError:g4,get StorageVectorsErrorCode(){return yh},StorageVectorsUnknownError:nE,VectorBucketApi:lE,VectorBucketScope:uE,VectorDataApi:sE,VectorIndexApi:oE,VectorIndexScope:dE,isPlainObject:iE,isStorageError:la,isStorageVectorsError:_t,normalizeToFloat32:fS,resolveFetch:Dm,resolveResponse:dS,validateVectorDimension:mS},Symbol.toStringTag,{value:"Module"})),vS=rd(gS);var fE={},Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.version=void 0;Vm.version="2.87.1";(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const r=Vm;let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${r.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(fE);var mE={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const r=l=>l?(...u)=>l(...u):(...u)=>fetch(...u);i.resolveFetch=r;const n=()=>Headers;i.resolveHeadersConstructor=n;const s=(l,u,d)=>{const A=(0,i.resolveFetch)(d),b=(0,i.resolveHeadersConstructor)();return async(p,x)=>{var N;const v=(N=await u())!==null&&N!==void 0?N:l;let w=new b(x==null?void 0:x.headers);return w.has("apikey")||w.set("apikey",l),w.has("Authorization")||w.set("Authorization",`Bearer ${v}`),A(p,Object.assign(Object.assign({},x),{headers:w}))}};i.fetchWithAuth=s})(mE);var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.isBrowser=void 0;Ki.uuid=NS;Ki.ensureTrailingSlash=AE;Ki.applySettingDefaults=yS;Ki.validateSupabaseUrl=wS;function NS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var r=Math.random()*16|0,n=i=="x"?r:r&3|8;return n.toString(16)})}function AE(i){return i.endsWith("/")?i:i+"/"}const xS=()=>typeof window<"u";Ki.isBrowser=xS;function yS(i,r){var n,s;const{db:l,auth:u,realtime:d,global:A}=i,{db:b,auth:p,realtime:x,global:N}=r,v={db:Object.assign(Object.assign({},b),l),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},x),d),storage:{},global:Object.assign(Object.assign(Object.assign({},N),A),{headers:Object.assign(Object.assign({},(n=N==null?void 0:N.headers)!==null&&n!==void 0?n:{}),(s=A==null?void 0:A.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return i.accessToken?v.accessToken=i.accessToken:delete v.accessToken,v}function wS(i){const r=i==null?void 0:i.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AE(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var jm={};const bE="2.87.1",jl=30*1e3,wh=3,jp=wh*jl,ES="http://localhost:9999",kS="supabase.auth.token",DS={"X-Client-Info":`gotrue-js/${bE}`},Eh="X-Supabase-Api-Version",pE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jS=10*60*1e3;let Ol=class extends Error{constructor(r,n,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}};function lr(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let hE=class extends Ol{constructor(r,n,s){super(r,n,s),this.name="AuthApiError",this.status=n,this.code=s}};function gE(i){return lr(i)&&i.name==="AuthApiError"}let Ti=class extends Ol{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}},Yn=class extends Ol{constructor(r,n,s,l){super(r,s,l),this.name=n,this.status=s}},jt=class extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function vE(i){return lr(i)&&i.name==="AuthSessionMissingError"}let Lo=class extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Iu=class extends Yn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}},Ru=class extends Yn{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function NE(i){return lr(i)&&i.name==="AuthImplicitGrantRedirectError"}let kh=class extends Yn{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},om=class extends Yn{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}};function z2(i){return lr(i)&&i.name==="AuthRetryableFetchError"}let Dh=class extends Yn{constructor(r,n,s){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}};function CS(i){return lr(i)&&i.name==="AuthWeakPasswordError"}let sm=class extends Yn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}};const lm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ry=` 	
\r=`.split(""),_S=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<ry.length;r+=1)i[ry[r].charCodeAt(0)]=-2;for(let r=0;r<lm.length;r+=1)i[lm[r].charCodeAt(0)]=r;return i})();function ay(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;n(lm[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;n(lm[s]),r.queuedBits-=6}}function xE(i,r,n){const s=_S[i];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function ty(i){const r=[],n=d=>{r.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{IS(d,s,n)};for(let d=0;d<i.length;d+=1)xE(i.charCodeAt(d),l,u);return r.join("")}function SS(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function MS(i,r){for(let n=0;n<i.length;n+=1){let s=i.charCodeAt(n);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}SS(s,r)}}function IS(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let s=1;s<6;s+=1)if(!(i>>7-s&1)){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Rl(i){const r=[],n={queue:0,queuedBits:0},s=l=>{r.push(l)};for(let l=0;l<i.length;l+=1)xE(i.charCodeAt(l),n,s);return new Uint8Array(r)}function RS(i){const r=[];return MS(i,n=>r.push(n)),new Uint8Array(r)}function qo(i){const r=[],n={queue:0,queuedBits:0},s=l=>{r.push(l)};return i.forEach(l=>ay(l,n,s)),ay(null,n,s),r.join("")}function TS(i){return Math.round(Date.now()/1e3)+i}function BS(){return Symbol("auth-callback")}const et=()=>typeof window<"u"&&typeof document<"u",Go={tested:!1,writable:!1},yE=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Go.tested)return Go.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Go.tested=!0,Go.writable=!0}catch{Go.tested=!0,Go.writable=!1}return Go.writable};function FS(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((s,l)=>{r[l]=s}),r}const wE=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),ZS=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Cl=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},Uo=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qa=async(i,r)=>{await i.removeItem(r)};let EE=class kE{constructor(){this.promise=new kE.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}};EE.promiseConstructor=Promise;function Cp(i){const r=i.split(".");if(r.length!==3)throw new sm("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!VS.test(r[s]))throw new sm("JWT not in base64url format");return{header:JSON.parse(ty(r[0])),payload:JSON.parse(ty(r[1])),signature:Rl(r[2]),raw:{header:r[0],payload:r[1]}}}async function OS(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function PS(i,r){return new Promise((s,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await i(u);if(!r(u,null,d)){s(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function WS(i){return("0"+i.toString(16)).substr(-2)}function GS(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(r),Array.from(r,WS).join("")}async function US(i){const n=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(s);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function XS(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await US(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yl(i,r,n=!1){const s=GS();let l=s;n&&(l+="/PASSWORD_RECOVERY"),await Cl(i,`${r}-code-verifier`,l);const u=await XS(s);return[u,s===u?"plain":"s256"]}const zS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LS(i){const r=i.headers.get(Eh);if(!r||!r.match(zS))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function YS(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function HS(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wl(i){if(!JS.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _p(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QS(i,r){return new Proxy(i,{get:(n,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,l)}return!r.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,s,l)}})}function ny(i){return JSON.parse(JSON.stringify(i))}const Yo=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),$S=[502,503,504];async function iy(i){var r;if(!ZS(i))throw new om(Yo(i),0);if($S.includes(i.status))throw new om(Yo(i),i.status);let n;try{n=await i.json()}catch(u){throw new Ti(Yo(u),u)}let s;const l=LS(i);if(l&&l.getTime()>=pE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Dh(Yo(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Dh(Yo(n),i.status,n.weak_password.reasons);throw new hE(Yo(n),i.status||500,s)}const qS=(i,r,n,s)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),n))};async function hr(i,r,n,s){var l;const u=Object.assign({},s==null?void 0:s.headers);u[Eh]||(u[Eh]=pE["2024-01-01"].name),s!=null&&s.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const d=(l=s==null?void 0:s.query)!==null&&l!==void 0?l:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const A=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",b=await KS(i,r,n+A,{headers:u,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(b):{data:Object.assign({},b),error:null}}async function KS(i,r,n,s,l,u){const d=qS(r,s,l,u);let A;try{A=await i(n,Object.assign({},d))}catch(b){throw console.error(b),new om(Yo(b),0)}if(A.ok||await iy(A),s!=null&&s.noResolveJson)return A;try{return await A.json()}catch(b){await iy(b)}}function x0(i){var r;let n=null;aM(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=TS(i.expires_in)));const s=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:s},error:null}}function oy(i){const r=x0(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(r.data.weak_password=i.weak_password),r}function Bi(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function eM(i){return{data:i,error:null}}function rM(i){const{action_link:r,email_otp:n,hashed_token:s,redirect_to:l,verification_type:u}=i,d=Xl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:r,email_otp:n,hashed_token:s,redirect_to:l,verification_type:u},b=Object.assign({},d);return{data:{properties:A,user:b},error:null}}function sy(i){return i}function aM(i){return i.access_token&&i.refresh_token&&i.expires_in}const L2=["global","local","others"];let v4=class{constructor({url:r="",headers:n={},fetch:s}){this.url=r,this.headers=n,this.fetch=wE(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=L2[0]){if(L2.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${L2.join(", ")}`);try{return await hr(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(lr(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,n={}){try{return await hr(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bi})}catch(s){if(lr(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:n}=r,s=Xl(r,["options"]),l=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(l.new_email=s==null?void 0:s.newEmail,delete l.newEmail),await hr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:rM,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(lr(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await hr(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Bi})}catch(n){if(lr(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,s,l,u,d,A,b;try{const p={nextPage:null,lastPage:0,total:0},x=await hr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:sy});if(x.error)throw x.error;const N=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(b=(A=x.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&b!==void 0?b:[];return w.length>0&&(w.forEach(E=>{const F=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),V=JSON.parse(E.split(";")[1].split("=")[1]);p[`${V}Page`]=F}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},N),p),error:null}}catch(p){if(lr(p))return{data:{users:[]},error:p};throw p}}async getUserById(r){wl(r);try{return await hr(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Bi})}catch(n){if(lr(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){wl(r);try{return await hr(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Bi})}catch(s){if(lr(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,n=!1){wl(r);try{return await hr(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bi})}catch(s){if(lr(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){wl(r.userId);try{const{data:n,error:s}=await hr(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:s}}catch(n){if(lr(n))return{data:null,error:n};throw n}}async _deleteFactor(r){wl(r.userId),wl(r.id);try{return{data:await hr(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(lr(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,s,l,u,d,A,b;try{const p={nextPage:null,lastPage:0,total:0},x=await hr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:sy});if(x.error)throw x.error;const N=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(b=(A=x.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&b!==void 0?b:[];return w.length>0&&(w.forEach(E=>{const F=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),V=JSON.parse(E.split(";")[1].split("=")[1]);p[`${V}Page`]=F}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},N),p),error:null}}catch(p){if(lr(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(r){try{return await hr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(lr(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await hr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(lr(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await hr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(lr(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await hr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(lr(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await hr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(lr(n))return{data:null,error:n};throw n}}};function ly(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const Ho={debug:!!(globalThis&&yE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class N4 extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}let DE=class extends N4{};class tM extends N4{}async function VE(i,r,n){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(r===0)throw Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new DE(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ho.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const cy={};async function nM(i,r,n){var s;const l=(s=cy[i])!==null&&s!==void 0?s:Promise.resolve(),u=Promise.race([l.catch(()=>null),r>=0?new Promise((d,A)=>{setTimeout(()=>{A(new tM(`Acquring process lock with name "${i}" timed out`))},r)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await n());return cy[i]=u.catch(async d=>{if(d&&d.isAcquireTimeout)return await l,null;throw d}),await u}function iM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jE(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function oM(i){return parseInt(i,16)}function sM(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function lM(i){var r;const{chainId:n,domain:s,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:A,requestId:b,resources:p,scheme:x,uri:N,version:v}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!N)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const w=jE(i.address),E=x?`${x}://${s}`:s,F=i.statement?`${i.statement}
`:"",V=`${E} wants you to sign in with your Ethereum account:
${w}

${F}`;let G=`URI: ${N}
Version: ${v}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(G+=`
Expiration Time: ${l.toISOString()}`),A&&(G+=`
Not Before: ${A.toISOString()}`),b&&(G+=`
Request ID: ${b}`),p){let Z=`
Resources:`;for(const H of p){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);Z+=`
- ${H}`}G+=Z}return`${V}
${G}`}class Ca extends Error{constructor({message:r,code:n,cause:s,name:l}){var u;super(r,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=l??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class cm extends Ca{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function cM({error:i,options:r}){var n,s,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ca({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ca({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ca({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ca({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ca({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ca({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new Ca({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ca({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(CE(d)){if(u.rp.id!==d)return new Ca({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ca({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ca({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ca({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function uM({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ca({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ca({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(CE(s)){if(n.rpId!==s)return new Ca({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ca({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ca({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class dM{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const fM=new dM;function mM(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:s}=i,l=Xl(i,["challenge","user","excludeCredentials"]),u=Rl(r).buffer,d=Object.assign(Object.assign({},n),{id:Rl(n.id).buffer}),A=Object.assign(Object.assign({},l),{challenge:u,user:d});if(s&&s.length>0){A.excludeCredentials=new Array(s.length);for(let b=0;b<s.length;b++){const p=s[b];A.excludeCredentials[b]=Object.assign(Object.assign({},p),{id:Rl(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return A}function AM(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,s=Xl(i,["challenge","allowCredentials"]),l=Rl(r).buffer,u=Object.assign(Object.assign({},s),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const A=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},A),{id:Rl(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return u}function bM(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:qo(new Uint8Array(i.response.attestationObject)),clientDataJSON:qo(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function pM(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,s=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:qo(new Uint8Array(l.authenticatorData)),clientDataJSON:qo(new Uint8Array(l.clientDataJSON)),signature:qo(new Uint8Array(l.signature)),userHandle:l.userHandle?qo(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function CE(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function uy(){var i,r;return!!(et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function hM(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new cm("Browser returned unexpected credential type",r)}:{data:null,error:new cm("Empty credential response",r)}}catch(r){return{data:null,error:cM({error:r,options:i})}}}async function gM(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new cm("Browser returned unexpected credential type",r)}:{data:null,error:new cm("Empty credential response",r)}}catch(r){return{data:null,error:uM({error:r,options:i})}}}const vM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},NM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function um(...i){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of i)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))s[u]=d;else if(n(d))s[u]=d;else if(r(d)){const A=s[u];r(A)?s[u]=um(A,d):s[u]=um(d)}else s[u]=d}return s}function xM(i,r){return um(vM,i,r||{})}function yM(i,r){return um(NM,i,r||{})}class wM{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:s,signal:l},u){try{const{data:d,error:A}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:A};const b=l??fM.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=xM(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:x,error:N}=await hM({publicKey:p,signal:b});return x?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:N}}case"request":{const p=yM(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:x,error:N}=await gM(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:b}));return x?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:N}}}}catch(d){return lr(d)?{data:null,error:d}:{data:null,error:new Ti("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:s})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Ol("rpId is required for WebAuthn authentication")};try{if(!uy())return{data:null,error:new Ti("Browser does not support WebAuthn",null)};const{data:d,error:A}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:s},signal:l},{request:u});if(!d)return{data:null,error:A};const{webauthn:b}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:b.type,rpId:n,rpOrigins:s,credential_response:b.credential_response}})}catch(d){return lr(d)?{data:null,error:d}:{data:null,error:new Ti("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Ol("rpId is required for WebAuthn registration")};try{if(!uy())return{data:null,error:new Ti("Browser does not support WebAuthn",null)};const{data:d,error:A}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(x=>{var N;return(N=x.data)===null||N===void 0?void 0:N.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===r&&v.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:A};const{data:b,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:l},{create:u});return b?this._verify({factorId:d.id,challengeId:b.challengeId,webauthn:{rpId:n,rpOrigins:s,type:b.webauthn.type,credential_response:b.webauthn.credential_response}}):{data:null,error:p}}catch(d){return lr(d)?{data:null,error:d}:{data:null,error:new Ti("Unexpected error in register",d)}}}}iM();const EM={url:ES,storageKey:kS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function dy(i,r,n){return await n()}const El={};let x4=class Vh{get jwks(){var r,n;return(n=(r=El[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){El[this.storageKey]=Object.assign(Object.assign({},El[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=El[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){El[this.storageKey]=Object.assign(Object.assign({},El[this.storageKey]),{cachedAt:r})}constructor(r){var n,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},EM),r);if(this.storageKey=u.storageKey,this.instanceID=(n=Vh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Vh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&et()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new v4({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=wE(u.fetch),this.lock=u.lock||dy,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&et()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=VE:this.lock=dy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:yE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ly(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ly(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bE}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},s="none";if(et()&&(n=FS(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),et()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),NE(u)){const b=(r=u.details)===null||r===void 0?void 0:r.code;if(b==="identity_already_exists"||b==="identity_not_found"||b==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:A}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",A),await this._saveSession(d),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return lr(n)?this._returnResult({error:n}):this._returnResult({error:new Ti("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,s,l;try{const u=await hr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:x0}),{data:d,error:A}=u;if(A||!d)return this._returnResult({data:{user:null,session:null},error:A});const b=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",b)),this._returnResult({data:{user:p,session:b},error:null})}catch(u){if(lr(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,s,l;try{let u;if("email"in r){const{email:x,password:N,options:v}=r;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await yl(this.storage,this.storageKey)),u=await hr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:x,password:N,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:E},xform:x0})}else if("phone"in r){const{phone:x,password:N,options:v}=r;u=await hr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:N,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},channel:(l=v==null?void 0:v.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:x0})}else throw new Iu("You must provide either an email or phone number and a password");const{data:d,error:A}=u;if(A||!d)return await qa(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:A});const b=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",b)),this._returnResult({data:{user:p,session:b},error:null})}catch(u){if(await qa(this.storage,`${this.storageKey}-code-verifier`),lr(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:A}=r;n=await hr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:oy})}else if("phone"in r){const{phone:u,password:d,options:A}=r;n=await hr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:oy})}else throw new Iu("You must provide either an email or phone number and a password");const{data:s,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const u=new Lo;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(n){if(lr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,s,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,s,l,u,d,A,b,p,x,N,v;let w,E;if("message"in r)w=r.message,E=r.signature;else{const{chain:F,wallet:V,statement:G,options:Z}=r;let H;if(et())if(typeof V=="object")H=V;else{const Ae=window;if("ethereum"in Ae&&typeof Ae.ethereum=="object"&&"request"in Ae.ethereum&&typeof Ae.ethereum.request=="function")H=Ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(Z!=null&&Z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=V}const te=new URL((n=Z==null?void 0:Z.url)!==null&&n!==void 0?n:window.location.href),T=await H.request({method:"eth_requestAccounts"}).then(Ae=>Ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=jE(T[0]);let q=(s=Z==null?void 0:Z.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!q){const Ae=await H.request({method:"eth_chainId"});q=oM(Ae)}const $={domain:te.host,address:M,statement:G,uri:te.href,version:"1",chainId:q,nonce:(l=Z==null?void 0:Z.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=Z==null?void 0:Z.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(A=Z==null?void 0:Z.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(b=Z==null?void 0:Z.signInWithEthereum)===null||b===void 0?void 0:b.notBefore,requestId:(p=Z==null?void 0:Z.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(x=Z==null?void 0:Z.signInWithEthereum)===null||x===void 0?void 0:x.resources};w=lM($),E=await H.request({method:"personal_sign",params:[sM(w),M]})}try{const{data:F,error:V}=await hr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((N=r.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(v=r.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:x0});if(V)throw V;if(!F||!F.session||!F.user){const G=new Lo;return this._returnResult({data:{user:null,session:null},error:G})}return F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),this._returnResult({data:Object.assign({},F),error:V})}catch(F){if(lr(F))return this._returnResult({data:{user:null,session:null},error:F});throw F}}async signInWithSolana(r){var n,s,l,u,d,A,b,p,x,N,v,w;let E,F;if("message"in r)E=r.message,F=r.signature;else{const{chain:V,wallet:G,statement:Z,options:H}=r;let te;if(et())if(typeof G=="object")te=G;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))te=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=G}const T=new URL((n=H==null?void 0:H.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in te&&te.signIn){const M=await te.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H==null?void 0:H.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),Z?{statement:Z}:null));let q;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")q=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)q=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)E=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),F=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in te)||typeof te.signMessage!="function"||!("publicKey"in te)||typeof te!="object"||!te.publicKey||!("toBase58"in te.publicKey)||typeof te.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${T.host} wants you to sign in with your Solana account:`,te.publicKey.toBase58(),...Z?["",Z,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(l=(s=H==null?void 0:H.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=H==null?void 0:H.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((d=H==null?void 0:H.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((A=H==null?void 0:H.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((b=H==null?void 0:H.signInWithSolana)===null||b===void 0)&&b.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((p=H==null?void 0:H.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((N=(x=H==null?void 0:H.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||N===void 0)&&N.length?["Resources",...H.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const M=await te.signMessage(new TextEncoder().encode(E),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");F=M}}try{const{data:V,error:G}=await hr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:qo(F)},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=r.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:x0});if(G)throw G;if(!V||!V.session||!V.user){const Z=new Lo;return this._returnResult({data:{user:null,session:null},error:Z})}return V.session&&(await this._saveSession(V.session),await this._notifyAllSubscribers("SIGNED_IN",V.session)),this._returnResult({data:Object.assign({},V),error:G})}catch(V){if(lr(V))return this._returnResult({data:{user:null,session:null},error:V});throw V}}async _exchangeCodeForSession(r){const n=await Uo(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(n??"").split("/");try{const{data:u,error:d}=await hr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:x0});if(await qa(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const A=new Lo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(await qa(this.storage,`${this.storageKey}-code-verifier`),lr(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:s,token:l,access_token:u,nonce:d}=r,A=await hr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:x0}),{data:b,error:p}=A;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!b||!b.session||!b.user){const x=new Lo;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:b,error:p})}catch(n){if(lr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,s,l,u,d;try{if("email"in r){const{email:A,options:b}=r;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await yl(this.storage,this.storageKey));const{error:N}=await hr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},create_user:(s=b==null?void 0:b.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:b==null?void 0:b.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:N})}if("phone"in r){const{phone:A,options:b}=r,{data:p,error:x}=await hr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(l=b==null?void 0:b.data)!==null&&l!==void 0?l:{},create_user:(u=b==null?void 0:b.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},channel:(d=b==null?void 0:b.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x})}throw new Iu("You must provide either an email or phone number.")}catch(A){if(await qa(this.storage,`${this.storageKey}-code-verifier`),lr(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(r){var n,s;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:A}=await hr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:x0});if(A)throw A;if(!d)throw new Error("An error occurred on token verification.");const b=d.session,p=d.user;return b!=null&&b.access_token&&(await this._saveSession(b),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",b)),this._returnResult({data:{user:p,session:b},error:null})}catch(l){if(lr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,s,l,u,d;try{let A=null,b=null;this.flowType==="pkce"&&([A,b]=await yl(this.storage,this.storageKey));const p=await hr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:b}),headers:this.headers,xform:eM});return!((u=p.data)===null||u===void 0)&&u.url&&et()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(A){if(await qa(this.storage,`${this.storageKey}-code-verifier`),lr(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;if(s)throw s;if(!n)throw new jt;const{error:l}=await hr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(lr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:s,type:l,options:u}=r,{error:d}=await hr(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:s,type:l,options:u}=r,{data:d,error:A}=await hr(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:A})}throw new Iu("You must provide either an email or phone number and a type")}catch(n){if(lr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<jp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const d=await Uo(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=_p()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=QS(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await hr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Bi}):await this._useSession(async n=>{var s,l,u;const{data:d,error:A}=n;if(A)throw A;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await hr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Bi})})}catch(n){if(lr(n))return vE(n)&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async s=>{const{data:l,error:u}=s;if(u)throw u;if(!l.session)throw new jt;const d=l.session;let A=null,b=null;this.flowType==="pkce"&&r.email!=null&&([A,b]=await yl(this.storage,this.storageKey));const{data:p,error:x}=await hr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:A,code_challenge_method:b}),jwt:d.access_token,xform:Bi});if(x)throw x;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(s){if(await qa(this.storage,`${this.storageKey}-code-verifier`),lr(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new jt;const n=Date.now()/1e3;let s=n,l=!0,u=null;const{payload:d}=Cp(r.access_token);if(d.exp&&(s=d.exp,l=s<=n),l){const{data:A,error:b}=await this._callRefreshToken(r.refresh_token);if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!A)return{data:{user:null,session:null},error:null};u=A}else{const{data:A,error:b}=await this._getUser(r.access_token);if(b)throw b;u={access_token:r.access_token,refresh_token:r.refresh_token,user:A.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(lr(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var s;if(!r){const{data:d,error:A}=n;if(A)throw A;r=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(r!=null&&r.refresh_token))throw new jt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(lr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!et())throw new Ru("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ru(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ru("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new kh("No code detected.");const{data:Z,error:H}=await this._exchangeCodeForSession(r.code);if(H)throw H;const te=new URL(window.location.href);return te.searchParams.delete("code"),window.history.replaceState(window.history.state,"",te.toString()),{data:{session:Z.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:A,expires_at:b,token_type:p}=r;if(!u||!A||!d||!p)throw new Ru("No session defined in URL");const x=Math.round(Date.now()/1e3),N=parseInt(A);let v=x+N;b&&(v=parseInt(b));const w=v-x;w*1e3<=jl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${N}s`);const E=v-N;x-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,x):x-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,x);const{data:F,error:V}=await this._getUser(u);if(V)throw V;const G={provider_token:s,provider_refresh_token:l,access_token:u,expires_in:N,expires_at:v,refresh_token:d,token_type:p,user:F.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:G,redirectType:r.type},error:null})}catch(s){if(lr(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Uo(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const d=(s=l.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:A}=await this.admin.signOut(d,r);if(A&&!(gE(A)&&(A.status===404||A.status===401||A.status===403)))return this._returnResult({error:A})}return r!=="others"&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=BS(),s={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async n=>{var s,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await yl(this.storage,this.storageKey,!0));try{return await hr(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await qa(this.storage,`${this.storageKey}-code-verifier`),lr(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(lr(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:s,error:l}=await this._useSession(async u=>{var d,A,b,p,x;const{data:N,error:v}=u;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(A=r.options)===null||A===void 0?void 0:A.scopes,queryParams:(b=r.options)===null||b===void 0?void 0:b.queryParams,skipBrowserRedirect:!0});return await hr(this.fetch,"GET",w,{headers:this.headers,jwt:(x=(p=N.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(l)throw l;return et()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:r.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(lr(s))return this._returnResult({data:{provider:r.provider,url:null},error:s});throw s}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var s;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:A,token:b,access_token:p,nonce:x}=r,N=await hr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u==null?void 0:u.access_token)!==null&&s!==void 0?s:void 0,body:{provider:A,id_token:b,access_token:p,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:x0}),{data:v,error:w}=N;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Lo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(l){if(await qa(this.storage,`${this.storageKey}-code-verifier`),lr(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var s,l;const{data:u,error:d}=n;if(d)throw d;return await hr(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(lr(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await PS(async l=>(l>0&&await OS(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await hr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:x0})),(l,u)=>{const d=200*Math.pow(2,l);return u&&z2(u)&&Date.now()+d-s<jl})}catch(s){if(this._debug(n,"error",s),lr(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",s),et()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await Uo(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Cl(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:_p()}else if(l&&!l.user&&!l.user){const d=await Uo(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await qa(this.storage,this.storageKey+"-user"),await Cl(this.storage,this.storageKey,l)):l.user=_p()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jp;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${jp}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),z2(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:A}=await this._getUser(l.access_token);!A&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var n,s;if(!r)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new EE;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new jt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const A={data:u.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(u){if(this._debug(l,"error",u),lr(u)){const d={data:null,error:u};return z2(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,s=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(r,n)}catch(b){u.push(b)}});if(await Promise.all(d),u.length>0){for(let A=0;A<u.length;A+=1)console.error(u[A]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await qa(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Cl(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=ny(l);await Cl(this.storage,this.storageKey,u)}else{const l=ny(n);await Cl(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qa(this.storage,this.storageKey),await qa(this.storage,this.storageKey+"-code-verifier"),await qa(this.storage,this.storageKey+"-user"),this.userStorage&&await qa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),jl);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-r)/jl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${jl}ms, refresh threshold is ${wh} ticks`),l<=wh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof N4)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,s){const l=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,d]=await yl(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(A.toString())}if(s!=null&&s.queryParams){const u=new URLSearchParams(s.queryParams);l.push(u.toString())}return s!=null&&s.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var s;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await hr(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(lr(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var s,l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const A=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:b,error:p}=await hr(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(r.factorType==="totp"&&b.type==="totp"&&(!((l=b==null?void 0:b.totp)===null||l===void 0)&&l.qr_code)&&(b.totp.qr_code=`data:image/svg+xml;utf-8,${b.totp.qr_code}`),this._returnResult({data:b,error:null}))})}catch(n){if(lr(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?bM(r.webauthn.credential_response):pM(r.webauthn.credential_response)})}:{code:r.code}),{data:A,error:b}=await hr(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return b?this._returnResult({data:null,error:b}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:b}))})}catch(n){if(lr(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await hr(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:A}=d;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:mM(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:AM(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(lr(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:s}=await this._challenge({factorId:r.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Cp(s.access_token);let d=null;u.aal&&(d=u.aal);let A=d;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(A="aal2");const p=u.amr||[];return{data:{currentLevel:d,nextLevel:A,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await hr(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new jt})})}catch(n){if(lr(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new jt});const d=await hr(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return d.data&&d.data.redirect_url&&et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(s){if(lr(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(r,n){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new jt});const d=await hr(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return d.data&&d.data.redirect_url&&et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(s){if(lr(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await hr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new jt})})}catch(r){if(lr(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?(await hr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(n){if(lr(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let s=n.keys.find(A=>A.kid===r);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(A=>A.kid===r),s&&this.jwks_cached_at+jS>l)return s;const{data:u,error:d}=await hr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,s=u.keys.find(A=>A.kid===r),!s)?null:s}async getClaims(r,n={}){try{let s=r;if(!s){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});s=w.session.access_token}const{header:l,payload:u,signature:d,raw:{header:A,payload:b}}=Cp(s);n!=null&&n.allowExpired||YS(u.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:u,header:l,signature:d},error:null}}const x=HS(l.alg),N=await crypto.subtle.importKey("jwk",p,x,!0,["verify"]);if(!await crypto.subtle.verify(x,N,d,RS(`${A}.${b}`)))throw new sm("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(s){if(lr(s))return this._returnResult({data:null,error:s});throw s}}};x4.nextInstanceID={};const kM=v4,DM=x4,VM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:kM,AuthApiError:hE,AuthClient:DM,AuthError:Ol,AuthImplicitGrantRedirectError:Ru,AuthInvalidCredentialsError:Iu,AuthInvalidJwtError:sm,AuthInvalidTokenResponseError:Lo,AuthPKCEGrantCodeExchangeError:kh,AuthRetryableFetchError:om,AuthSessionMissingError:jt,AuthUnknownError:Ti,AuthWeakPasswordError:Dh,CustomAuthError:Yn,GoTrueAdminApi:v4,GoTrueClient:x4,NavigatorLockAcquireTimeoutError:DE,SIGN_OUT_SCOPES:L2,isAuthApiError:gE,isAuthError:lr,isAuthImplicitGrantRedirectError:NE,isAuthRetryableFetchError:z2,isAuthSessionMissingError:vE,isAuthWeakPasswordError:CS,lockInternals:Ho,navigatorLock:VE,processLock:nM},Symbol.toStringTag,{value:"Module"})),_E=rd(VM);Object.defineProperty(jm,"__esModule",{value:!0});jm.SupabaseAuthClient=void 0;const jM=_E;class CM extends jM.AuthClient{constructor(r){super(r)}}jm.SupabaseAuthClient=CM;Object.defineProperty(rm,"__esModule",{value:!0});const _M=Iw,SM=ot,MM=qw,IM=vS,M2=fE,RM=mE,fy=Ki,TM=jm;let BM=class{constructor(r,n,s){var l,u,d;this.supabaseUrl=r,this.supabaseKey=n;const A=(0,fy.validateSupabaseUrl)(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const b=`sb-${A.hostname.split(".")[0]}-auth-token`,p={db:M2.DEFAULT_DB_OPTIONS,realtime:M2.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},M2.DEFAULT_AUTH_OPTIONS),{storageKey:b}),global:M2.DEFAULT_GLOBAL_OPTIONS},x=(0,fy.applySettingDefaults)(s??{},p);this.storageKey=(l=x.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(N,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,x.global.fetch),this.fetch=(0,RM.fetchWithAuth)(n,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(N=>this.realtime.setAuth(N)).catch(N=>console.warn("Failed to set initial Realtime auth token:",N)),this.rest=new SM.PostgrestClient(new URL("rest/v1",A).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new IM.StorageClient(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new _M.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,s)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:u,storageKey:d,flowType:A,lock:b,debug:p,throwOnError:x},N,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TM.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),N),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:u,flowType:A,lock:b,debug:p,throwOnError:x,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new MM.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(r,n,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};rm.default=BM;(function(i){var r=zo&&zo.__createBinding||(Object.create?function(x,N,v,w){w===void 0&&(w=v);var E=Object.getOwnPropertyDescriptor(N,v);(!E||("get"in E?!N.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return N[v]}}),Object.defineProperty(x,w,E)}:function(x,N,v,w){w===void 0&&(w=v),x[w]=N[v]}),n=zo&&zo.__exportStar||function(x,N){for(var v in x)v!=="default"&&!Object.prototype.hasOwnProperty.call(N,v)&&r(N,x,v)},s=zo&&zo.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const l=s(rm);n(_E,i);var u=ot;Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var d=Iw;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),n(qw,i);var A=rm;Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return s(A).default}});const b=(x,N,v)=>new l.default(x,N,v);i.createClient=b;function p(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const N=x.match(/^v(\d+)\./);return N?parseInt(N[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(f4);const SE=ym(f4),FM=X8({__proto__:null,default:SE},[f4]),{PostgrestError:GG,FunctionsHttpError:UG,FunctionsFetchError:XG,FunctionsRelayError:zG,FunctionsError:LG,FunctionRegion:YG,SupabaseClient:HG,createClient:ZM,GoTrueAdminApi:JG,GoTrueClient:QG,AuthAdminApi:$G,AuthClient:qG,navigatorLock:KG,NavigatorLockAcquireTimeoutError:eU,lockInternals:rU,processLock:aU,SIGN_OUT_SCOPES:tU,AuthError:nU,AuthApiError:iU,AuthUnknownError:oU,CustomAuthError:sU,AuthSessionMissingError:lU,AuthInvalidTokenResponseError:cU,AuthInvalidCredentialsError:uU,AuthImplicitGrantRedirectError:dU,AuthPKCEGrantCodeExchangeError:fU,AuthRetryableFetchError:mU,AuthWeakPasswordError:AU,AuthInvalidJwtError:bU,isAuthError:pU,isAuthApiError:hU,isAuthSessionMissingError:gU,isAuthImplicitGrantRedirectError:vU,isAuthRetryableFetchError:NU,isAuthWeakPasswordError:xU,RealtimePresence:yU,RealtimeChannel:wU,RealtimeClient:EU,REALTIME_LISTEN_TYPES:kU,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:DU,REALTIME_PRESENCE_LISTEN_EVENTS:VU,REALTIME_SUBSCRIBE_STATES:jU,REALTIME_CHANNEL_STATES:CU}=SE||FM,OM="https://quqlovduekdasldqadge.supabase.co",PM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4",Ge=ZM(OM,PM,{db:{schema:"public"},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{timeout:1e4}}),WM=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ge},Symbol.toStringTag,{value:"Module"})),ME=h.createContext(void 0),Xa=()=>{const i=h.useContext(ME);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},GM=({children:i})=>{const[r,n]=h.useState(null),[s,l]=h.useState(null),[u,d]=h.useState(null),[A,b]=h.useState(!0),[p,x]=h.useState(!1),N=h.useRef(null),v=async T=>{try{const{data:M,error:q}=await Promise.race([Ge.from("profiles").select("id, full_name, email, avatar_url").eq("id",T).single(),new Promise(($,Ae)=>setTimeout(()=>Ae(new Error("Profile fetch timeout")),5e3))]);return q?(console.warn("Error fetching user profile:",q),{id:T,full_name:null,email:null,avatar_url:null}):M}catch(M){return console.warn("Profile fetch timeout or error (using defaults):",M),{id:T,full_name:null,email:null,avatar_url:null}}},w=async T=>{if(window.location.pathname==="/subscription")return console.log("Skipping super admin check on subscription page"),!1;try{console.log("Fetching super admin status for user:",T);const M=await Promise.race([Ge.rpc("is_current_user_superadmin"),new Promise((Ae,L)=>setTimeout(()=>L(new Error("Super admin check timeout")),5e3))]),{data:q,error:$}=M;return $?(console.error("Error checking super admin status:",$),!1):(console.log("Super admin status from RPC:",q),q===!0)}catch(M){return console.error("Error fetching super admin status:",M),!1}};h.useEffect(()=>{if(window.location.pathname==="/subscription"){console.log("Skipping AuthContext initialization on subscription page"),b(!1);return}let T=!1;const M=setTimeout(()=>{console.warn("Auth loading timeout reached"),T?console.warn("Session exists, keeping auth state"):(console.warn("No session received, clearing auth state"),n(null),l(null),d(null),x(!1)),b(!1)},5e3);if(console.log("Starting auth session check..."),console.log("Supabase client:",!!Ge),!Ge){console.error("Supabase client not initialized"),clearTimeout(M),b(!1);return}(async()=>{try{const Ae=await Promise.race([Ge.auth.getSession(),new Promise((j,O)=>setTimeout(()=>O(new Error("getSession timeout")),8e3))]),{data:{session:L},error:J}=Ae;if(console.log("getSession result:",{session:!!L,error:J}),J){console.error("getSession error:",J),console.warn("Treating getSession error as no session"),clearTimeout(M),d(null),n(null),l(null),x(!1),b(!1);return}if(clearTimeout(M),console.log("Auth session loaded:",!!L),L&&(T=!0),d(L),n((L==null?void 0:L.user)||null),L!=null&&L.user){console.log("Fetching profile for user:",L.user.id),console.log("User object:",L.user);try{const[j,O]=await Promise.all([v(L.user.id),w(L.user.id)]);console.log("Profile fetched:",j),console.log("Super admin status:",O),l(j),N.current=(j==null?void 0:j.id)||null,x(O)}catch(j){console.warn("Error fetching profile, using defaults:",j),l(null),N.current=null,x(!1)}}else console.log("No session user, setting profile to null"),l(null),N.current=null,x(!1);console.log("Setting loading to false"),b(!1)}catch(Ae){clearTimeout(M),console.error("Error loading initial session:",Ae),T?console.warn("Session already received via onAuthStateChange, keeping state"):(console.warn("Falling back to no session state"),d(null),n(null),l(null),N.current=null,x(!1)),b(!1)}})();const{data:{subscription:$}}=Ge.auth.onAuthStateChange(async(Ae,L)=>{try{if(console.log("Auth state change:",Ae,!!L),L&&(T=!0,clearTimeout(M)),d(L),n((L==null?void 0:L.user)||null),L!=null&&L.user)if(N.current===L.user.id){console.log("Profile already loaded for user, skipping fetch:",L.user.id);const O=await w(L.user.id);x(O)}else{console.log("Fetching profile for user on auth change:",L.user.id);const[O,Y]=await Promise.all([v(L.user.id),w(L.user.id)]);console.log("Profile fetched on auth change:",O),console.log("Super admin status on auth change:",Y),l(O),N.current=(O==null?void 0:O.id)||null,x(Y)}else console.log("No session user on auth change, setting profile to null"),l(null),N.current=null,x(!1);b(!1)}catch(J){console.error("Error in auth state change handler:",J),n(null),l(null),N.current=null,x(!1),b(!1)}});return()=>{clearTimeout(M),$.unsubscribe()}},[]);const te={user:r,userProfile:s,session:u,loading:A,isSuperAdmin:p,signInWithMagicLink:async T=>{try{console.log("Sending magic link to email:",T),console.log("Supabase URL:","https://quqlovduekdasldqadge.supabase.co");const{data:M,error:q}=await Ge.auth.signInWithOtp({email:T.trim(),options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});return q?(console.error("Supabase magic link error:",q),{error:q}):(console.log("Magic link sent successfully:",M),{error:null})}catch(M){return console.error("Unexpected magic link error:",M),{error:M}}},signInWithCode:async T=>{try{console.log("Requesting verification code for email:",T);const{data:M,error:q}=await Ge.functions.invoke("send-verification-code",{body:{email:T.toLowerCase().trim(),type:"4-digit"}});if(q)throw console.error("Edge function failed",q),new Error("Failed to send verification code via Edge Function");if(!(M!=null&&M.success))throw new Error((M==null?void 0:M.error)||"Failed to send verification code");return console.log("Verification code sent successfully"),M!=null&&M.dev_code?{error:null,code:M.dev_code}:{error:null}}catch(M){return console.error("Verification code error",M),{error:M}}},verifyCode:async(T,M,q)=>{var $,Ae,L,J;try{console.log(" VERIFY CODE: Starting server-side verification"),console.log("Verifying code:",{email:T,code:M});const{data:j,error:O}=await Ge.functions.invoke("verify-code-auth",{body:{email:T.toLowerCase().trim(),code:M.toUpperCase()}});if(O)return console.error("Server verification failed",O),{error:new Error("Verification failed. Please try again.")};if(!(j!=null&&j.success)){const ie=(j==null?void 0:j.error)||"Verification failed";return console.log("Server returned error:",{error:ie,attemptsRemaining:j==null?void 0:j.attemptsRemaining}),ie.includes("expired")?{error:new Error("Verification code has expired. Please request a new one.")}:ie.includes("Too many")?{error:new Error("Too many failed attempts. Please request a new code.")}:(j==null?void 0:j.attemptsRemaining)!==void 0?{error:new Error(`Incorrect code. ${j.attemptsRemaining} attempts remaining.`)}:{error:new Error(ie)}}console.log("Server verification succeeded",j);const Y=j.profile||null;if(Y&&(console.log("Profile received from server:",Y),l(Y),N.current=Y.id),(Ae=($=j.session)==null?void 0:$.properties)!=null&&Ae.hashed_token){const{data:ie,error:z}=await Ge.auth.verifyOtp({token_hash:j.session.properties.hashed_token,type:"magiclink"});if(z)return console.error("Magic link verification failed",z),{error:new Error("Failed to complete authentication.")};if(ie.session&&ie.user)return console.log("Successfully authenticated via magic link verification"),{error:null,success:!0,profile:Y}}if((L=j.session)!=null&&L.access_token&&((J=j.session)!=null&&J.refresh_token)){console.log("Received session tokens from server");const{data:ie,error:z}=await Ge.auth.setSession({access_token:j.session.access_token,refresh_token:j.session.refresh_token});return z?(console.error("Error setting session from tokens",z),{error:new Error("Failed to establish session.")}):ie.session&&ie.user?(console.log("Successfully authenticated with session tokens"),{error:null,success:!0,profile:Y}):{error:new Error("Token setting succeeded but no session established.")}}return{error:new Error("Server error: No authentication credentials received."),profile:Y}}catch(j){return console.error("Code verification exception",j),{error:new Error("Verification failed. Please try again.")}}},checkUserExists:async T=>{try{const{data:M,error:q}=await Ge.functions.invoke("check-user-exists",{body:{email:T.toLowerCase().trim()}});return q?(console.error("Error checking user existence",q),{exists:!1,error:q}):{exists:(M==null?void 0:M.exists)||!1}}catch(M){return console.error("Exception checking user existence",M),{exists:!1,error:M}}},signUp:async(T,M)=>{try{console.log("Creating account for:",T,"with name:",M);const{data:q,error:$}=await Ge.functions.invoke("create-user",{body:{email:T.toLowerCase().trim(),full_name:(M==null?void 0:M.trim())||null}});return $?(console.error("Error creating user account",$),{error:$}):q!=null&&q.success?(console.log("Account created successfully"),{error:null}):{error:new Error((q==null?void 0:q.error)||"Failed to create account")}}catch(q){return console.error("Exception creating user account",q),{error:q}}},signOut:async()=>{var M;console.log(" SIGN OUT: Starting sign out process..."),console.log(" SIGN OUT: Current session before sign out:",!!u),console.log(" SIGN OUT: Current user before sign out:",r==null?void 0:r.email),console.log(" SIGN OUT: Calling supabase.auth.signOut with scope: local...");try{const{error:q}=await Ge.auth.signOut({scope:"local"});q?console.error(" SIGN OUT ERROR:",q):console.log(" SIGN OUT: Server signOut successful - this device only")}catch(q){console.error(" SIGN OUT EXCEPTION:",q)}n(null),l(null),d(null),x(!1),N.current=null,console.log(" SIGN OUT: Local state cleared");const T=`sb-${(M="https://quqlovduekdasldqadge.supabase.co".split("//")[1])==null?void 0:M.split(".")[0]}-auth-token`;console.log(" SIGN OUT: Clearing localStorage key:",T),localStorage.removeItem(T),console.log(" SIGN OUT: Complete")}};return t.jsxDEV(ME.Provider,{value:te,children:i},void 0,!1,{fileName:"/app/src/context/AuthContext.tsx",lineNumber:563,columnNumber:5},void 0)},IE=h.createContext(void 0),RE="knox-theme";function my(){return typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ay(){if(typeof window<"u"){const i=localStorage.getItem(RE);if(i==="light"||i==="dark"||i==="system")return i}return"system"}function UM({children:i}){const[r,n]=h.useState(()=>Ay()),[s,l]=h.useState(()=>{const b=Ay();return b==="system"?my():b}),u=h.useCallback(b=>{const p=document.documentElement;p.classList.contains("theme-loaded")||(p.classList.add("no-transitions"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{p.classList.remove("no-transitions"),p.classList.add("theme-loaded")})})),b==="dark"?p.classList.add("dark"):p.classList.remove("dark")},[]),d=h.useCallback(b=>{n(b),localStorage.setItem(RE,b);const p=b==="system"?my():b;l(p),u(p)},[u]),A=h.useCallback(()=>{d(s==="dark"?"light":"dark")},[s,d]);return h.useEffect(()=>{const b=window.matchMedia("(prefers-color-scheme: dark)"),p=x=>{if(r==="system"){const N=x.matches?"dark":"light";l(N),u(N)}};return b.addEventListener("change",p),()=>b.removeEventListener("change",p)},[r,u]),h.useEffect(()=>{u(s)},[]),t.jsxDEV(IE.Provider,{value:{theme:r,resolvedTheme:s,setTheme:d,toggleTheme:A},children:i},void 0,!1,{fileName:"/app/src/context/ThemeContext.tsx",lineNumber:101,columnNumber:5},this)}function XM(){const i=h.useContext(IE);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i}const zM="modulepreload",LM=function(i){return"/"+i},by={},TE=function(r,n,s){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),A=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(n.map(b=>{if(b=LM(b),b in by)return;by[b]=!0;const p=b.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${x}`))return;const N=document.createElement("link");if(N.rel=p?"stylesheet":zM,p||(N.as="script"),N.crossOrigin="",N.href=b,A&&N.setAttribute("nonce",A),document.head.appendChild(N),p)return new Promise((v,w)=>{N.addEventListener("load",v),N.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${b}`)))})}))}function u(d){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=d,window.dispatchEvent(A),!A.defaultPrevented)throw d}return l.then(d=>{for(const A of d||[])A.status==="rejected"&&u(A.reason);return r().catch(u)})};class YM{async getAuthHeaders(){try{const{data:{session:r},error:n}=await Ge.auth.getSession();return n||!(r!=null&&r.access_token)?(console.error("No valid session for API call:",n),null):{Authorization:`Bearer ${r.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}catch(r){return console.error("Error getting auth headers:",r),null}}async makeApiCall(r,n={}){try{const s=await this.getAuthHeaders();if(!s)return{success:!1,error:"Authentication required"};const l=n.method||"GET",u="https://quqlovduekdasldqadge.supabase.co",d={method:l,headers:{...s,"Content-Type":"application/json"}};l!=="GET"&&n.body&&(d.body=JSON.stringify(n.body));const A=await fetch(`${u}/functions/v1/memories-api${r}`,d),b=await A.json();return A.ok?{success:!0,data:b}:(console.error("Memories API call failed:",b),{success:!1,error:b.error||"API call failed",details:b.details})}catch(s){return console.error("Exception in Memories API call:",s),{success:!1,error:"Network or system error",details:s instanceof Error?s.message:String(s)}}}async getMemories(r){return this.makeApiCall(`?asset_id=${r}`)}async getMemoryCount(r){console.log("Getting memory count for asset:",r);const n=await this.makeApiCall(`?asset_id=${r}&count=true`);return console.log("Memory count result:",n),n}async getMemoryCounts(r){const n={};for(let l=0;l<r.length;l+=10){const u=r.slice(l,l+10);(await Promise.all(u.map(async A=>{var p;const b=await this.getMemoryCount(A);return{id:A,count:((p=b.data)==null?void 0:p.count)||0}}))).forEach(({id:A,count:b})=>{n[A]=b})}return n}async addMemory(r,n){return this.makeApiCall(`?asset_id=${r}`,{method:"POST",body:n})}async addReply(r,n){return this.makeApiCall(`?memory_id=${r}`,{method:"POST",body:n})}async deleteMemory(r){return this.makeApiCall(`?memory_id=${r}`,{method:"DELETE"})}async editMemory(r,n){return this.makeApiCall(`?memory_id=${r}`,{method:"PUT",body:n})}async uploadMemoryMedia(r,n,s){var l;try{const{data:{session:u}}=await Ge.auth.getSession();if(!(u!=null&&u.user))throw new Error("User not authenticated");const d=u.user.id,A=Date.now(),b=()=>s==="video"?"mp4":s==="audio"?"m4a":"jpg",p=((l=r.name.split(".").pop())==null?void 0:l.toLowerCase())||b(),x=`${A}_memory.${p}`,N=`${d}/${n}/${x}`,{data:v,error:w}=await Ge.storage.from("memories").upload(N,r,{contentType:r.type,upsert:!1});if(w)throw console.error("Storage upload error:",w),w;const{data:E}=Ge.storage.from("memories").getPublicUrl(N);return{url:E.publicUrl,thumbnailUrl:void 0}}catch(u){return console.error("Error uploading memory media:",u),null}}}const st=new YM,Yu=({assetId:i,parentMemoryId:r,onMemoryAdded:n,placeholder:s="Add a memory...",variant:l="inline",autoFocus:u=!1})=>{const[d,A]=h.useState(!1),[b,p]=h.useState(""),[x,N]=h.useState(null),[v,w]=h.useState(null),[E,F]=h.useState(!1),[V,G]=h.useState("text"),[Z,H]=h.useState("text"),[te,T]=h.useState(!1),[M,q]=h.useState(!1),[$,Ae]=h.useState(null),[L,J]=h.useState(0),[j,O]=h.useState(null),Y=h.useRef(null),ie=h.useRef(null),z=h.useRef([]),ee=h.useRef(null),D=h.useRef(null),R=h.useRef(null),X=h.useRef(null),C=h.useRef(null),[I,S]=h.useState({top:0,left:0}),P=4e3,U=30,K=b.trim().length>0||x!==null||$!==null;h.useEffect(()=>{const De=Xe=>{X.current&&!X.current.contains(Xe.target)&&T(!1)};return te&&document.addEventListener("mousedown",De),()=>document.removeEventListener("mousedown",De)},[te]),h.useEffect(()=>{j&&D.current&&(V==="video"||V==="image")&&(D.current.srcObject=j,D.current.play().catch(De=>{console.error("Failed to play video preview:",De)}))},[j,V,M]);const re=h.useCallback(()=>{setTimeout(()=>{var De;(De=R.current)==null||De.scrollIntoView({behavior:"smooth",block:"center"})},300)},[]),se=h.useCallback(()=>{j&&(j.getTracks().forEach(De=>De.stop()),O(null)),ee.current&&(clearInterval(ee.current),ee.current=null)},[j]),Ee=()=>{A(!0),setTimeout(()=>{var De;return(De=R.current)==null?void 0:De.focus()},100)},ye=()=>{K||(A(!1),H("text"))},W=async De=>{var ae;const Xe=(ae=De.target.files)==null?void 0:ae[0];if(Xe){if(N(Xe),Xe.type.startsWith("video/"))G("video"),w(URL.createObjectURL(Xe));else if(Xe.type.startsWith("audio/"))G("audio"),w(URL.createObjectURL(Xe));else if(G("image"),Xe.type==="image/heic"||Xe.type==="image/heif"||Xe.name.toLowerCase().endsWith(".heic")||Xe.name.toLowerCase().endsWith(".heif"))try{const be=(await TE(async()=>{const{default:Fe}=await Promise.resolve().then(()=>cI);return{default:Fe}},void 0)).default,Oe=await be({blob:Xe,toType:"image/jpeg",quality:.8});w(URL.createObjectURL(Oe))}catch(be){console.error("Failed to convert HEIC:",be),w(URL.createObjectURL(Xe))}else w(URL.createObjectURL(Xe));H("file"),A(!0)}},he=()=>{N(null),v&&(URL.revokeObjectURL(v),w(null)),G("text"),H("text"),Y.current&&(Y.current.value="")},oe=async De=>{try{const Xe=De==="audio"?{audio:!0}:{video:{facingMode:"user"},audio:De==="video"},ae=await navigator.mediaDevices.getUserMedia(Xe);if(O(ae),G(De),H("record"),A(!0),De==="image"){q(!0);return}const fe=De==="video"?MediaRecorder.isTypeSupported("video/webm;codecs=vp9")?"video/webm;codecs=vp9":"video/webm":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",be=new MediaRecorder(ae,{mimeType:fe});ie.current=be,z.current=[],be.ondataavailable=Oe=>{Oe.data.size>0&&z.current.push(Oe.data)},be.onstop=()=>{const Oe=new Blob(z.current,{type:fe});Ae(Oe),se()},be.start(),q(!0),J(0),ee.current=setInterval(()=>{J(Oe=>Oe>=U?(Ne(),U):Oe+1)},1e3)}catch(Xe){console.error("Error accessing media devices:",Xe),alert(`Could not access ${De==="audio"?"microphone":"camera"}. Please check permissions.`)}},ke=()=>{if(D.current&&j){const De=D.current,Xe=document.createElement("canvas");Xe.width=De.videoWidth,Xe.height=De.videoHeight;const ae=Xe.getContext("2d");ae&&(ae.drawImage(De,0,0),Xe.toBlob(fe=>{fe&&(Ae(fe),q(!1),se())},"image/jpeg",.9))}},Ne=()=>{ie.current&&ie.current.state!=="inactive"&&ie.current.stop(),q(!1),ee.current&&(clearInterval(ee.current),ee.current=null)},je=()=>{Ae(null),J(0),H("text"),G("text"),se()},Be=async()=>{if(!(!K||E))try{F(!0);let De;if(x||$){let ae;if($){const Oe=`recorded_${V}_${Date.now()}.webm`;ae=new File([$],Oe,{type:$.type})}else ae=x;const fe=await st.uploadMemoryMedia(ae,i,V);if(!fe)throw new Error("Failed to upload file");De={memory_type:V,content_url:fe.url,thumbnail_url:fe.thumbnailUrl,content_text:b.trim()||void 0}}else De={memory_type:"text",content_text:b.trim()};let Xe;if(r?Xe=await st.addReply(r,De):Xe=await st.addMemory(i,De),Xe.success)p(""),he(),je(),A(!1),n==null||n();else throw new Error(Xe.error||"Failed to add memory")}catch(De){alert(De instanceof Error?De.message:"Failed to add memory")}finally{F(!1)}};return l==="compact"&&!d?t.jsxDEV("button",{onClick:Ee,className:"w-full flex items-center gap-3 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-full text-gray-500 transition-colors",children:[t.jsxDEV("span",{className:"text-lg",children:"+"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:317,columnNumber:9},void 0),t.jsxDEV("span",{className:"text-sm",children:s},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:318,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:313,columnNumber:7},void 0):t.jsxDEV("div",{className:`bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden ${l==="full"?"p-4":""}`,children:[(x||$||M)&&t.jsxDEV("div",{className:"p-3 border-b border-gray-100 bg-gray-50",children:[x&&V==="image"&&v&&t.jsxDEV("div",{className:"relative inline-block",children:[t.jsxDEV("img",{src:v,alt:"Preview",className:"max-h-32 rounded-lg"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:334,columnNumber:15},void 0),t.jsxDEV("button",{onClick:he,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm",children:"x"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:335,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:333,columnNumber:13},void 0),V==="image"&&(M||$)&&!x&&t.jsxDEV("div",{className:"relative",children:M&&j?t.jsxDEV("div",{className:"relative rounded-lg overflow-hidden bg-black aspect-video max-h-48",children:t.jsxDEV("video",{ref:D,muted:!0,playsInline:!0,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:349,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:348,columnNumber:17},void 0):$?t.jsxDEV("div",{className:"relative inline-block",children:[t.jsxDEV("img",{src:URL.createObjectURL($),alt:"Captured",className:"max-h-48 rounded-lg"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:358,columnNumber:19},void 0),t.jsxDEV("button",{onClick:je,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm",children:"x"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:363,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:357,columnNumber:17},void 0):null},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:346,columnNumber:13},void 0),V==="video"&&(M||$)&&t.jsxDEV("div",{className:"relative",children:M&&j?t.jsxDEV("div",{className:"relative rounded-lg overflow-hidden bg-black aspect-video max-h-48",children:[t.jsxDEV("video",{ref:D,muted:!0,playsInline:!0,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:379,columnNumber:19},void 0),t.jsxDEV("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[t.jsxDEV("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:386,columnNumber:21},void 0),"REC ",L,"s"]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:385,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:378,columnNumber:17},void 0):$?t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("video",{src:URL.createObjectURL($),controls:!0,className:"max-h-48 rounded-lg"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:392,columnNumber:19},void 0),t.jsxDEV("button",{onClick:je,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm",children:"x"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:397,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:391,columnNumber:17},void 0):null},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:376,columnNumber:13},void 0),V==="audio"&&(M||$)&&t.jsxDEV("div",{className:"flex items-center gap-3",children:M?t.jsxDEV("div",{className:"flex items-center gap-3 flex-1",children:[t.jsxDEV("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center animate-pulse",children:t.jsxDEV("span",{className:"text-white",children:""},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:414,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:413,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"h-2 bg-red-200 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:"h-full bg-red-500 transition-all",style:{width:`${L/U*100}%`}},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:418,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:417,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-xs text-gray-500 mt-1",children:[L,"s / ",U,"s"]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:423,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:416,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:412,columnNumber:17},void 0):$?t.jsxDEV("div",{className:"flex items-center gap-3 flex-1",children:[t.jsxDEV("audio",{src:URL.createObjectURL($),controls:!0,className:"flex-1"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:428,columnNumber:19},void 0),t.jsxDEV("button",{onClick:je,className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm",children:"x"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:429,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:427,columnNumber:17},void 0):null},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:410,columnNumber:13},void 0),x&&V==="video"&&v&&t.jsxDEV("div",{className:"relative inline-block",children:[t.jsxDEV("video",{src:v,controls:!0,className:"max-h-32 rounded-lg"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:443,columnNumber:15},void 0),t.jsxDEV("button",{onClick:he,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm",children:"x"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:444,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:442,columnNumber:13},void 0),M&&t.jsxDEV("div",{className:"flex justify-center mt-3 gap-3",children:V==="image"?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("button",{onClick:je,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:458,columnNumber:19},void 0),t.jsxDEV("button",{onClick:ke,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[t.jsxDEV("i",{className:"fi fi-sr-camera mr-2"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:468,columnNumber:21},void 0),"Capture Photo"]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:464,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:457,columnNumber:17},void 0):t.jsxDEV("button",{onClick:Ne,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Stop Recording"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:473,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:455,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:330,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex items-center gap-1.5 p-2",children:[t.jsxDEV("div",{className:"relative",ref:X,children:[t.jsxDEV("input",{type:"file",ref:Y,onChange:De=>{W(De),T(!1)},accept:"image/*,video/*,audio/*",className:"hidden"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:489,columnNumber:11},void 0),t.jsxDEV("button",{ref:C,onClick:()=>{if(!te&&C.current){const De=C.current.getBoundingClientRect();S({top:De.top-8,left:De.left})}T(!te)},disabled:M||E,className:`w-7 h-7 flex items-center justify-center rounded-full transition-all ${te?"bg-indigo-600 text-white rotate-45":"bg-gray-200 text-gray-600 hover:bg-gray-300"} disabled:opacity-50`,children:t.jsxDEV("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:519,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:518,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:499,columnNumber:11},void 0),te&&t.jsxDEV("div",{className:"fixed z-[9999] bg-white rounded-lg shadow-xl border border-gray-200 py-1 min-w-[140px]",style:{top:I.top,left:I.left,transform:"translateY(-100%)"},children:[t.jsxDEV("button",{onClick:()=>{var De;(De=Y.current)==null||De.click()},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[t.jsxDEV("i",{className:"fi fi-sr-picture text-blue-500"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:539,columnNumber:17},void 0),"Photo Library"]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:533,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{T(!1),oe("image")},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[t.jsxDEV("i",{className:"fi fi-sr-camera text-green-500"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:549,columnNumber:17},void 0),"Take Photo"]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:542,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{T(!1),oe("video")},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[t.jsxDEV("i",{className:"fi fi-sr-video-camera-alt text-purple-500"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:559,columnNumber:17},void 0),"Record Video"]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:552,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{T(!1),oe("audio")},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[t.jsxDEV("i",{className:"fi fi-sr-microphone text-orange-500"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:569,columnNumber:17},void 0),"Record Audio"]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:562,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:525,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:488,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1",children:t.jsxDEV("textarea",{ref:R,value:b,onChange:De=>p(De.target.value.slice(0,P)),onFocus:()=>{A(!0),re()},onBlur:ye,placeholder:s,disabled:E,autoFocus:u,rows:1,className:"w-full px-3 py-1.5 bg-gray-100 rounded-full resize-none focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:bg-white transition-all text-sm text-gray-900 placeholder-gray-500 disabled:opacity-50",style:{minHeight:"32px",maxHeight:"80px"}},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:578,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:577,columnNumber:9},void 0),t.jsxDEV("button",{onClick:Be,disabled:!K||E||M,className:`w-7 h-7 flex items-center justify-center rounded-full transition-colors flex-shrink-0 ${K&&!E&&!M?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-200 text-gray-400"}`,children:E?t.jsxDEV("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:607,columnNumber:13},void 0):t.jsxDEV("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 10l7-7m0 0l7 7m-7-7v18"},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:610,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:609,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:597,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:486,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoryInputBar.tsx",lineNumber:325,columnNumber:5},void 0)},Ko={thumbsup:"",heart:"",laugh:"",wow:"",sad:"",angry:"",crazy:"",kiss:"",puke:"",wink:"",cool:"",angel:""},HM={thumbsup:"Like",heart:"Love",laugh:"Haha",wow:"Wow",sad:"Sad",angry:"Angry",crazy:"Crazy",kiss:"Kiss",puke:"Puke",wink:"Wink",cool:"Cool",angel:"Angel"},BE=["thumbsup","heart","laugh","wow","sad","angry","crazy","kiss","puke","wink","cool","angel"];class JM{async getAuthHeaders(){try{const{data:{session:r},error:n}=await Ge.auth.getSession();return n||!(r!=null&&r.access_token)?(console.error("No valid session for API call:",n),null):{Authorization:`Bearer ${r.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}catch(r){return console.error("Error getting auth headers:",r),null}}async makeApiCall(r,n={}){try{const s=await this.getAuthHeaders();if(!s)return{success:!1,error:"Authentication required"};const l=n.method||"GET",u="https://quqlovduekdasldqadge.supabase.co",d={method:l,headers:{...s,"Content-Type":"application/json"}};l!=="GET"&&n.body&&(d.body=JSON.stringify(n.body));const A=await fetch(`${u}/functions/v1/reactions-api${r}`,d),b=await A.json();return A.ok?{success:!0,data:b}:(console.error("Reactions API call failed:",b),{success:!1,error:b.error||"API call failed",details:b.details})}catch(s){return console.error("Reactions API error:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async getReactions(r,n){var d;const l={asset:"asset_id",memory:"memory_id",message:"message_id"}[n],u=await this.makeApiCall(`?${l}=${r}`);return u.success&&((d=u.data)!=null&&d.reactions)?u.data.reactions:{summary:[],details:[]}}async addReaction(r,n,s){var A;const u={asset:"asset_id",memory:"memory_id",message:"message_id"}[n],d=await this.makeApiCall(`?${u}=${r}`,{method:"POST",body:{emoji:s}});return d.success&&((A=d.data)!=null&&A.reaction)?d.data.reaction:null}async removeReaction(r){return(await this.makeApiCall(`?reaction_id=${r}`,{method:"DELETE"})).success}async toggleReaction(r,n,s,l){return l?(await this.removeReaction(l),{added:!1,reaction:null}):{added:!0,reaction:await this.addReaction(r,n,s)}}}const dm=new JM,ss=({targetId:i,targetType:r,onReactionChange:n,compact:s=!1,className:l="",addButtonOnly:u=!1,hideAddButton:d=!1})=>{const[A,b]=h.useState([]),[p,x]=h.useState([]),[N,v]=h.useState(!1),[w,E]=h.useState(!1),[F,V]=h.useState(null),[G,Z]=h.useState(!0),H=h.useCallback(async()=>{Z(!0);const J=await dm.getReactions(i,r);b(J.summary),x(J.details),Z(!1)},[i,r]),te=J=>{const j=new Date(J),Y=new Date().getTime()-j.getTime(),ie=Math.floor(Y/(1e3*60)),z=Math.floor(Y/(1e3*60*60)),ee=Math.floor(Y/(1e3*60*60*24));return ie<1?"Just now":ie<60?`${ie}m ago`:z<24?`${z}h ago`:ee<7?`${ee}d ago`:j.toLocaleDateString(void 0,{month:"short",day:"numeric"})},T=J=>{V(J||null),E(!0)},M=F?p.filter(J=>J.emoji===F):p;h.useEffect(()=>{H()},[H]);const q=async J=>{const j=A.find(O=>O.emoji===J&&O.hasReacted);b(O=>{const Y=O.map(ie=>ie.emoji===J?{...ie,count:ie.hasReacted?ie.count-1:ie.count+1,hasReacted:!ie.hasReacted,reactionId:ie.hasReacted?null:"temp"}:ie).filter(ie=>ie.count>0||ie.hasReacted);return!j&&!O.find(ie=>ie.emoji===J)?[...Y,{emoji:J,emojiChar:Ko[J],count:1,hasReacted:!0,reactionId:"temp"}]:Y}),await dm.toggleReaction(i,r,J,(j==null?void 0:j.reactionId)||null),await H(),n==null||n(),v(!1)},$=A.filter(J=>J.hasReacted).map(J=>J.emoji),Ae=t.jsxDEV("button",{onClick:()=>v(!N),className:`
        transition-transform hover:scale-110
        ${s?"text-lg":"text-xl"}
      `,style:{color:"#F4C430"},title:"Add reaction",children:[t.jsxDEV("i",{className:"fi fi-sr-smile-plus","aria-hidden":"true"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:141,columnNumber:7},void 0),t.jsxDEV("span",{className:"sr-only",children:"Add reaction"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:142,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:132,columnNumber:5},void 0);if(G)return t.jsxDEV("div",{className:`flex items-center ${l}`,children:t.jsxDEV("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:149,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:148,columnNumber:7},void 0);const L=N&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:158,columnNumber:7},void 0),t.jsxDEV("div",{className:"absolute left-0 bottom-full mb-2 z-50 bg-white rounded-lg shadow-lg border p-3 min-w-[280px]",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[t.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Add Reaction"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:166,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:172,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:171,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:167,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:165,columnNumber:9},void 0),t.jsxDEV("div",{className:"grid grid-cols-6 gap-1",children:BE.map(J=>{const j=$.includes(J);return t.jsxDEV("button",{onClick:()=>q(J),className:`
                  flex flex-col items-center justify-center p-2 rounded-lg transition-colors
                  ${j?"bg-blue-100 ring-2 ring-blue-400":"hover:bg-gray-100"}
                `,title:HM[J],children:[t.jsxDEV("span",{className:"text-xl",children:Ko[J]},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:194,columnNumber:17},void 0),j&&t.jsxDEV("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-1"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:196,columnNumber:19},void 0)]},J,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:181,columnNumber:15},void 0)})},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:177,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Tap to add or remove"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:203,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:164,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:156,columnNumber:5},void 0);return u?t.jsxDEV("div",{className:`relative ${l}`,children:[Ae,L]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:213,columnNumber:7},void 0):t.jsxDEV("div",{className:`relative ${l}`,children:[t.jsxDEV("div",{className:"flex flex-wrap items-center gap-1.5",children:[!d&&Ae,A.map(J=>t.jsxDEV("button",{onClick:()=>q(J.emoji),onContextMenu:j=>{j.preventDefault(),T(J.emoji)},title:"Click to react, right-click to see who reacted",className:`
              flex items-center gap-0.5 text-sm transition-colors hover:opacity-70
              ${s?"text-xs":""}
              ${J.hasReacted?"text-blue-600":"text-gray-600"}
            `,children:[t.jsxDEV("span",{className:s?"text-sm":"text-base",children:J.emojiChar},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:240,columnNumber:13},void 0),t.jsxDEV("span",{className:"font-medium",children:J.count},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:241,columnNumber:13},void 0)]},J.emoji,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:226,columnNumber:11},void 0)),A.length>0&&t.jsxDEV("button",{onClick:()=>T(),className:`
              flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors
              ${s?"text-xs":"text-sm"}
            `,title:"See who reacted",children:t.jsxDEV("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:256,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:255,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:247,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:222,columnNumber:7},void 0),L,w&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>E(!1)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:269,columnNumber:11},void 0),t.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full min-w-[600px] max-h-[70vh] flex flex-col",children:[t.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:F?`${Ko[F]||F} Reactions`:"All Reactions"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:279,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:289,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:288,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:284,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:278,columnNumber:15},void 0),p.length>0&&t.jsxDEV("div",{className:"flex gap-2 px-4 py-2 border-b overflow-x-auto",children:[t.jsxDEV("button",{onClick:()=>V(null),className:`
                      px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors
                      ${F?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-blue-100 text-blue-700"}
                    `,children:["All (",p.length,")"]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:297,columnNumber:19},void 0),A.map(J=>t.jsxDEV("button",{onClick:()=>V(J.emoji),className:`
                        flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors
                        ${F===J.emoji?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
                      `,children:[t.jsxDEV("span",{children:J.emojiChar},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:315,columnNumber:23},void 0),t.jsxDEV("span",{children:J.count},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:316,columnNumber:23},void 0)]},J.emoji,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:307,columnNumber:21},void 0))]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:296,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:M.length===0?t.jsxDEV("p",{className:"text-center text-gray-500 py-8",children:"No reactions yet"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:325,columnNumber:19},void 0):t.jsxDEV("div",{className:"space-y-3",children:M.map(J=>t.jsxDEV("div",{className:"flex items-center gap-3",children:[J.user.avatar_url?t.jsxDEV("img",{src:J.user.avatar_url,alt:"",className:"w-10 h-10 rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:331,columnNumber:27},void 0):t.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:339,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:338,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:337,columnNumber:27},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"font-medium text-gray-900 truncate",children:J.user.name||"Unknown"},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:344,columnNumber:27},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:te(J.created_at)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:347,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:343,columnNumber:25},void 0),t.jsxDEV("span",{className:"text-2xl",children:Ko[J.emoji]||J.emoji},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:351,columnNumber:25},void 0)]},J.id,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:329,columnNumber:23},void 0))},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:327,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:323,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:276,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:275,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:267,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/ReactionBar.tsx",lineNumber:221,columnNumber:5},void 0)},Bu={async getMemories(i,r){try{const l=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/public-memories?invite_id=${i}&asset_id=${r}`,{method:"GET",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4","Content-Type":"application/json"}}),u=await l.json();return l.ok?{success:!0,memories:u.memories||[]}:{success:!1,error:u.error||"Failed to load memories"}}catch(n){return console.error("Error fetching public memories:",n),{success:!1,error:"Network error"}}},async getMemoryCount(i,r){try{return(await(await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/public-memories?invite_id=${i}&asset_id=${r}&count=true`,{method:"GET",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4","Content-Type":"application/json"}})).json()).count||0}catch(n){return console.error("Error fetching memory count:",n),0}},async getMemoryCounts(i,r){const n={};for(let l=0;l<r.length;l+=10){const u=r.slice(l,l+10);(await Promise.all(u.map(async A=>{const b=await Bu.getMemoryCount(i,A);return{id:A,count:b}}))).forEach(({id:A,count:b})=>{n[A]=b})}return n}},QM=()=>{var fe,be,Oe,Fe,$e;const{inviteId:i}=hs(),r=ua(),[n,s]=h.useState(null),[l,u]=h.useState(!0),[d,A]=h.useState(!1),[b,p]=h.useState(null),[x,N]=h.useState(null),[v,w]=h.useState(null),[E,F]=h.useState({}),[V,G]=h.useState([]),[Z,H]=h.useState(!1),[te,T]=h.useState(null),[M,q]=h.useState(null);h.useCallback((me,ze)=>{me.preventDefault(),me.stopPropagation(),q({x:me.clientX,y:me.clientY,asset:ze})},[]),h.useEffect(()=>{const me=()=>q(null);if(M)return document.addEventListener("click",me),()=>document.removeEventListener("click",me)},[M]),h.useEffect(()=>{(async()=>{if(!v||!i)return;H(!0);const ze=await Bu.getMemories(i,v);ze.success&&ze.memories?G(ze.memories):G([]),H(!1)})()},[v,i]);const[$,Ae]=h.useState(!1),[L,J]=h.useState(!1),[j,O]=h.useState(!1);h.useEffect(()=>{(async()=>{var xe;const{data:{session:ze}}=await Ge.auth.getSession();console.log("[AlbumViewer] Session check:",!!ze,(xe=ze==null?void 0:ze.user)==null?void 0:xe.email),Ae(!!ze)})()},[]);const[Y,ie]=h.useState(!1),[z,ee]=h.useState(!1),[D,R]=h.useState(!1),[X,C]=h.useState({firstName:"",lastName:"",phone:""}),[I,S]=h.useState(null),[P,U]=h.useState(!1),K=me=>me?me.startsWith("http://")||me.startsWith("https://")||me.startsWith("data:"):!1,re=me=>me.web_uri&&(me.web_uri.startsWith("http://")||me.web_uri.startsWith("https://"))?me.web_uri:me.thumbnail&&K(me.thumbnail)?me.thumbnail:null,se=me=>{var ze;return(ze=me.thumbnail)!=null&&ze.startsWith("data:")||K(me.thumbnail)?me.thumbnail:re(me)},Ee=me=>me.keyphotUrl&&K(me.keyphotUrl)?me.keyphotUrl:me.assets.length>0?se(me.assets[0]):null,ye=async(me=!1)=>{var ze,xe,Pe;if(!i){p("No invitation ID provided"),u(!1);return}me&&A(!0);try{const xr=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/public-album-view?inviteId=${i}`,{method:"GET",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4","Content-Type":"application/json"}});if(!xr.ok){const ra=await xr.json();throw new Error(ra.error||"Failed to load album data")}const ur=await xr.json();if(console.log("Edge function response:",ur),!ur.invite)throw console.error("Missing invite data:",ur),new Error("Invalid response from server");s({invite:{id:ur.invite.id,circle_id:(ze=ur.invite.circle)==null?void 0:ze.id,email:ur.invite.email,role:ur.invite.role,status:ur.invite.status,date_invited:ur.invite.date_invited,circle:ur.invite.circle},account:ur.account||{requiresAccount:!1,hasAccount:!1,profile:null},albums:ur.albums||[],stats:ur.stats||{total_albums:0,total_photos:0}}),p(null),(xe=ur.account)!=null&&xe.requiresAccount&&!((Pe=ur.account)!=null&&Pe.hasAccount)?ie(!0):ie(!1)}catch(Ze){console.error("Error loading album data:",Ze),p(Ze instanceof Error?Ze.message:"Failed to load album")}finally{u(!1),A(!1)}},W=()=>{ye(!0)},he=()=>{J(!0)},oe=()=>{O(!0),Ge.auth.signOut().then(()=>{window.location.href="/login"}).catch(me=>{console.error("[AlbumViewer] Logout error:",me),window.location.href="/login"})},ke=async me=>{if(me.preventDefault(),S(null),!X.firstName.trim()||!X.lastName.trim()){S("First and last name are required");return}if(!X.phone.trim()){S("Phone number is required");return}ee(!0);try{const Pe=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/create-circle-account",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4","Content-Type":"application/json"},body:JSON.stringify({inviteId:i,firstName:X.firstName.trim(),lastName:X.lastName.trim(),phone:X.phone.trim()})}),Ze=await Pe.json();if(!Pe.ok)throw new Error(Ze.error||"Failed to create account");R(!0)}catch(ze){S(ze instanceof Error?ze.message:"Failed to create account")}finally{ee(!1)}};if(h.useEffect(()=>{ye()},[i]),l)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:535,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-lg",children:"Loading shared albums..."},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:536,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:534,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:533,columnNumber:7},void 0);if(b)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white max-w-md",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:546,columnNumber:11},void 0),t.jsxDEV("h2",{className:"text-2xl font-bold mb-2",children:"Unable to Load Albums"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:547,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-lg",children:b},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:548,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:545,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:544,columnNumber:7},void 0);if(!n)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-500 to-gray-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white",children:t.jsxDEV("p",{className:"text-lg",children:"No album data found"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:558,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:557,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:556,columnNumber:7},void 0);const{invite:Ne,account:je,albums:Be,stats:De}=n,Xe=Ne.role==="read_only",ae=!Xe&&(je==null?void 0:je.hasAccount);return Y&&(je!=null&&je.requiresAccount)&&!(je!=null&&je.hasAccount)?D?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:575,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Check Your Email"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:576,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-4",children:"We've sent a verification link to:"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:577,columnNumber:13},void 0),t.jsxDEV("p",{className:"font-semibold text-blue-600 text-lg mb-6",children:Ne.email},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:580,columnNumber:13},void 0),t.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:t.jsxDEV("p",{className:"text-sm text-blue-800",children:["Click the link in the email to complete your registration and access ",t.jsxDEV("strong",{children:(fe=Ne.circle)==null?void 0:fe.name},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:583,columnNumber:86},void 0),"."]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:582,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:581,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:["Didn't receive the email? Check your spam folder or"," ",t.jsxDEV("button",{onClick:()=>R(!1),className:"text-blue-600 hover:underline",children:"try again"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:588,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:586,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:574,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:573,columnNumber:9},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[t.jsxDEV("div",{className:"text-center mb-6",children:[t.jsxDEV("div",{className:"text-5xl mb-3",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:605,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800",children:"Create Your Kizu Account"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:606,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-600 mt-2",children:["You've been invited to ",t.jsxDEV("strong",{children:((be=Ne.circle)==null?void 0:be.name)||"a circle"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:608,columnNumber:38},void 0)," as an ",t.jsxDEV("strong",{className:"capitalize",children:(Oe=Ne.role)==null?void 0:Oe.replace("_"," ")},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:608,columnNumber:97},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:607,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:"Complete your profile to access editing features"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:610,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:604,columnNumber:11},void 0),t.jsxDEV("form",{onSubmit:ke,className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:618,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",value:X.firstName,onChange:me=>C({...X,firstName:me.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John",required:!0},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:619,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:617,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:629,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",value:X.lastName,onChange:me=>C({...X,lastName:me.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Doe",required:!0},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:630,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:628,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:616,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:642,columnNumber:15},void 0),t.jsxDEV("input",{type:"tel",value:X.phone,onChange:me=>C({...X,phone:me.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+1 (555) 123-4567",required:!0},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:643,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:641,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:654,columnNumber:15},void 0),t.jsxDEV("input",{type:"email",value:Ne.email,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:655,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"We'll send a verification link to this email"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:661,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:653,columnNumber:13},void 0),I&&t.jsxDEV("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:I},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:665,columnNumber:15},void 0),t.jsxDEV("button",{type:"submit",disabled:z,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:z?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[t.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:678,columnNumber:21},void 0),t.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:679,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:677,columnNumber:19},void 0),"Sending Verification..."]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:676,columnNumber:17},void 0):"Send Verification Email"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:670,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:615,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-center text-sm text-gray-500 mt-6",children:"By creating an account, you agree to Kizu's Terms of Service and Privacy Policy"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:689,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:603,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:602,columnNumber:7},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[t.jsxDEV("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:t.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 py-10 relative",children:[t.jsxDEV("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[t.jsxDEV("button",{onClick:W,disabled:d,className:"bg-white/20 hover:bg-white/30 rounded-full p-3 transition-all disabled:opacity-50",title:"Refresh",children:t.jsxDEV("svg",{className:`w-5 h-5 text-white ${d?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:718,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:712,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:706,columnNumber:13},void 0),t.jsxDEV("button",{onClick:he,className:"bg-white/20 hover:bg-white/30 rounded-full p-3 transition-all",title:"Sign Out",children:t.jsxDEV("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:739,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:733,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:728,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:704,columnNumber:11},void 0),t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-5xl mb-3",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:750,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:((Fe=Ne.circle)==null?void 0:Fe.name)||"Shared Album"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:751,columnNumber:13},void 0),(($e=Ne.circle)==null?void 0:$e.description)&&t.jsxDEV("p",{className:"text-lg opacity-90 mb-4",children:Ne.circle.description},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:753,columnNumber:15},void 0),t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg px-4 py-2 inline-block",children:[t.jsxDEV("p",{className:"text-sm font-medium",children:Xe?" View-only access":ae?" Editor access":" Member access"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:757,columnNumber:15},void 0),Ne.email&&t.jsxDEV("p",{className:"text-xs opacity-75 mt-1",children:Ne.email},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:761,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:756,columnNumber:13},void 0),ae&&(je==null?void 0:je.profile)&&t.jsxDEV("p",{className:"text-sm mt-2 opacity-75",children:["Signed in as ",je.profile.first_name," ",je.profile.last_name]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:765,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:749,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:702,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:701,columnNumber:7},void 0),t.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[t.jsxDEV("div",{className:"flex justify-center items-center gap-8 mb-8",children:[t.jsxDEV("div",{className:"bg-white rounded-lg px-6 py-4 shadow-md text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:De.total_albums},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:777,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-gray-600 text-sm",children:"Albums"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:778,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:776,columnNumber:11},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg px-6 py-4 shadow-md text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:De.total_photos},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:781,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-gray-600 text-sm",children:"Photos"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:782,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:780,columnNumber:11},void 0),ae&&t.jsxDEV("button",{className:"bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-6 py-4 shadow-md flex items-center gap-2 transition-colors",onClick:()=>alert("Add Album feature coming soon! This will allow you to create new albums."),children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:792,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:791,columnNumber:15},void 0),t.jsxDEV("span",{className:"font-medium",children:"Add Album"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:794,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:787,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:775,columnNumber:9},void 0),Be.length===0?t.jsxDEV("div",{className:"text-center py-16",children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:802,columnNumber:13},void 0),t.jsxDEV("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No Albums Shared Yet"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:803,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-500",children:"Albums will appear here when they're shared with this circle."},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:804,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:801,columnNumber:11},void 0):t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Be.map(me=>{const ze=Ee(me),xe=me.assets.filter(Pe=>se(Pe)!==null).length;return t.jsxDEV("div",{className:"cursor-pointer group",onClick:()=>r(`/album/${i}/${me.id}`),children:[t.jsxDEV("div",{className:"relative aspect-square bg-gray-100 rounded-2xl overflow-hidden shadow-lg group-hover:shadow-xl transition-all group-hover:scale-[1.02]",children:ze?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxDEV("div",{className:"text-8xl text-yellow-400 drop-shadow-lg",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:824,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:823,columnNumber:25},void 0),t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxDEV("div",{className:"w-[55%] h-[55%] rounded-lg overflow-hidden border-2 border-white/80 shadow-md mt-2",children:t.jsxDEV("img",{src:ze,alt:me.title,className:"w-full h-full object-cover",loading:"lazy"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:829,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:828,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:827,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:821,columnNumber:23},void 0):t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxDEV("div",{className:"text-8xl text-yellow-400 drop-shadow-lg",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:840,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:839,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:819,columnNumber:19},void 0),t.jsxDEV("div",{className:"mt-3 text-center",children:[t.jsxDEV("h3",{className:"font-semibold text-gray-800 truncate",children:me.title},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:847,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:[xe," photos"]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:848,columnNumber:21},void 0),me.owner&&t.jsxDEV("div",{className:"flex items-center justify-center gap-2 mt-2",children:[me.owner.avatar_url?t.jsxDEV("img",{src:me.owner.avatar_url,alt:me.owner.full_name||"Owner",className:"w-5 h-5 rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:853,columnNumber:27},void 0):t.jsxDEV("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-medium",children:(me.owner.full_name||me.owner.email||"?")[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:859,columnNumber:27},void 0),t.jsxDEV("span",{className:"text-xs text-gray-500 truncate max-w-[100px]",children:me.owner.full_name||me.owner.email||"Unknown"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:863,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:851,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:846,columnNumber:19},void 0)]},me.id,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:813,columnNumber:17},void 0)})},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:807,columnNumber:11},void 0),t.jsxDEV("div",{className:"text-center py-12 border-t mt-12",children:[t.jsxDEV("p",{className:"text-gray-600",children:["Powered by ",t.jsxDEV("span",{className:"font-bold text-blue-600",children:"Kizu"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:878,columnNumber:24},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:877,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-500 text-sm",children:"Secure photo sharing for families and teams"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:880,columnNumber:11},void 0),t.jsxDEV("a",{href:"https://kizu.app",className:"inline-block mt-4 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Get Kizu for Free"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:881,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:876,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:774,columnNumber:7},void 0),L&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center",children:j?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:896,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-gray-600",children:"Signing out..."},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:897,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:895,columnNumber:15},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"text-5xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:901,columnNumber:17},void 0),t.jsxDEV("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Sign Out?"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:902,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to sign out?"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:903,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("button",{onClick:()=>J(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:905,columnNumber:19},void 0),t.jsxDEV("button",{onClick:oe,className:"flex-1 px-4 py-3 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition-colors",children:"Sign Out"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:911,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:904,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:900,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:893,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:892,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:699,columnNumber:5},void 0)},$M=()=>{const{inviteId:i,albumId:r}=hs(),n=ua(),[s,l]=h.useState(null),[u,d]=h.useState(!0),[A,b]=h.useState(null),[p,x]=h.useState(null),[N,v]=h.useState(null),[w,E]=h.useState(null),[F,V]=h.useState(!1);h.useEffect(()=>{(async()=>{const{data:{session:P}}=await Ge.auth.getSession();V(!!P)})()},[]);const[G,Z]=h.useState(null),[H,te]=h.useState({}),[T,M]=h.useState([]),[q,$]=h.useState(!1),[Ae,L]=h.useState(!1),[J,j]=h.useState(""),[O,Y]=h.useState(""),ie=(w==null?void 0:w.role)==="read_only",z=!ie&&(N==null?void 0:N.hasAccount),ee=async()=>{try{await Ge.auth.signOut(),window.location.reload()}catch(S){console.error("Logout error:",S)}};console.log("[AlbumDetailView] Debug:",{inviteInfo:w,accountInfo:N,isReadOnly:ie,canAddMemory:z,hasAccount:N==null?void 0:N.hasAccount,role:w==null?void 0:w.role}),h.useEffect(()=>{(async()=>{var P,U,K;if(i)try{const Ee=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/public-album-view?inviteId=${i}`,{method:"GET",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4","Content-Type":"application/json"}});if(!Ee.ok)throw new Error("Failed to load album");const ye=await Ee.json();console.log("[AlbumDetailView] API Response:",{account:ye.account,invite:ye.invite,albumsCount:(P=ye.albums)==null?void 0:P.length}),ye.account?(console.log("[AlbumDetailView] Setting accountInfo:",ye.account),v(ye.account)):console.log("[AlbumDetailView] No account data in response"),ye.invite?(console.log("[AlbumDetailView] Setting inviteInfo, role:",ye.invite.role),E({id:ye.invite.id,circle_id:(U=ye.invite.circle)==null?void 0:U.id,email:ye.invite.email,role:ye.invite.role,status:ye.invite.status,date_invited:ye.invite.date_invited,circle:ye.invite.circle})):console.log("[AlbumDetailView] No invite data in response");const W=(K=ye.albums)==null?void 0:K.find(he=>he.id===r);W?l(W):b("Album not found")}catch(re){b(re instanceof Error?re.message:"Failed to load album")}finally{d(!1)}})()},[i,r]),h.useEffect(()=>{(async()=>{if(!s||s.assets.length===0||!i)return;const P=s.assets.map(K=>K.asset_id),U={};for(const K of P)U[K]=await Bu.getMemoryCount(i,K);te(U)})()},[s,i]),h.useEffect(()=>{(async()=>{const P=(p==null?void 0:p.asset_id)||G;if(!P||!i)return;$(!0);const U=await Bu.getMemories(i,P);U.success&&U.memories?M(U.memories):M([]),$(!1)})()},[p==null?void 0:p.asset_id,G,i]);const D=S=>{const P=new Date(S),K=Math.floor((new Date().getTime()-P.getTime())/(1e3*60*60*24));return K===0?"Today":K===1?"Yesterday":K<7?`${K} days ago`:P.toLocaleDateString()},R=S=>S.thumbnail&&(S.thumbnail.startsWith("http")||S.thumbnail.startsWith("data:"))?S.thumbnail:S.web_uri&&S.web_uri.startsWith("http")?S.web_uri:S.path&&S.path.startsWith("http")?S.path:null,X=S=>S.web_uri&&S.web_uri.startsWith("http")?S.web_uri:S.path&&S.path.startsWith("http")?S.path:R(S),C=S=>S.path&&S.path.startsWith("http")?S.path:X(S);if(u)return t.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1129,columnNumber:11},void 0),t.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Loading album..."},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1130,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1128,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1127,columnNumber:7},void 0);if(A||!s)return t.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("p",{className:"text-red-600 text-lg",children:A||"Album not found"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1140,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>n(`/album/${i}`),className:"mt-4 text-blue-600 hover:underline",children:" Back to albums"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1141,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1139,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1138,columnNumber:7},void 0);const I=s.assets.filter(S=>R(S)!==null);return t.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[t.jsxDEV("style",{children:`
        .photo-card .photo-overlay {
          position: absolute;
          inset: 0;
          background: rgba(0,0,0,0.75);
          opacity: 0;
          transition: opacity 0.2s;
          display: flex;
          flex-direction: column;
          justify-content: flex-end;
          padding: 8px;
          pointer-events: none;
        }
        .photo-card:hover .photo-overlay {
          opacity: 1;
        }
      `},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1157,columnNumber:7},void 0),t.jsxDEV("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:t.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 py-4",children:t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("button",{onClick:()=>n(`/album/${i}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1184,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1183,columnNumber:15},void 0),t.jsxDEV("span",{className:"font-medium",children:"Back"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1186,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1179,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h1",{className:"text-xl font-bold text-gray-800",children:s.title},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1189,columnNumber:15},void 0),s.description&&t.jsxDEV("p",{className:"text-sm text-gray-500",children:s.description},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1191,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1188,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"text-sm text-gray-500",children:[I.length," photo",I.length!==1?"s":""]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1195,columnNumber:15},void 0),F&&t.jsxDEV("button",{onClick:ee,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700 transition-colors",title:"Sign Out",children:[t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1206,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1205,columnNumber:19},void 0),"Sign Out"]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1200,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1194,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1178,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1177,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1176,columnNumber:7},void 0),t.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 py-6",children:I.length===0?t.jsxDEV("div",{className:"text-center py-16",children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1220,columnNumber:13},void 0),t.jsxDEV("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Photos Available"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1221,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-500",children:"This album doesn't have any viewable photos yet."},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1222,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1219,columnNumber:11},void 0):t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:s.assets.map(S=>{const P=R(S),U=X(S);return P?t.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform relative shadow-md photo-card",onClick:()=>U&&x(S),children:[t.jsxDEV("img",{src:P,alt:"Photo",className:"w-full h-full object-cover",loading:"lazy"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1236,columnNumber:19},void 0),S.asset_type==="video"&&t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-black/50 rounded-full p-3",children:t.jsxDEV("span",{className:"text-white text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1245,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1244,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1243,columnNumber:21},void 0),t.jsxDEV("div",{className:"photo-overlay",children:t.jsxDEV("div",{style:{color:"white",fontSize:"11px",lineHeight:"1.4"},children:[(S.created_at||S.date_added)&&t.jsxDEV("div",{children:[" ",new Date(S.created_at||S.date_added).toLocaleDateString()]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1253,columnNumber:25},void 0),S.location_name&&t.jsxDEV("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[" ",S.location_name]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1256,columnNumber:25},void 0),(S.camera_make||S.camera_model)&&t.jsxDEV("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[" ",[S.camera_make,S.camera_model].filter(Boolean).join(" ")]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1259,columnNumber:25},void 0),S.aperture&&t.jsxDEV("div",{children:["f/",S.aperture,S.iso?`  ISO ${S.iso}`:""]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1262,columnNumber:25},void 0),!S.location_name&&!S.camera_make&&!S.camera_model&&!S.created_at&&!S.date_added&&!S.aperture&&t.jsxDEV("div",{style:{color:"#ccc",fontStyle:"italic"},children:"No metadata"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1265,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1251,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1250,columnNumber:19},void 0),H[S.asset_id]>0&&t.jsxDEV("button",{className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 rounded-full p-1.5 flex items-center gap-1 transition-colors z-10",onClick:K=>{K.stopPropagation(),Z(S.asset_id)},children:[t.jsxDEV("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1279,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1278,columnNumber:23},void 0),H[S.asset_id]>1&&t.jsxDEV("span",{className:"text-white text-xs font-medium pr-0.5",children:H[S.asset_id]},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1282,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1271,columnNumber:21},void 0)]},S.id,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1231,columnNumber:17},void 0):null})},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1225,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1217,columnNumber:7},void 0),p&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/90 z-50 overflow-y-auto",onClick:()=>x(null),children:t.jsxDEV("div",{className:"min-h-full flex flex-col items-center justify-start p-4 pt-12",children:t.jsxDEV("div",{className:"relative max-w-5xl w-full",onClick:S=>S.stopPropagation(),children:[t.jsxDEV("button",{onClick:()=>x(null),className:"absolute -top-10 right-0 text-white text-3xl hover:text-gray-300 z-10",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1302,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex justify-center",children:p.asset_type==="video"?t.jsxDEV("video",{src:X(p)||C(p)||"",controls:!0,autoPlay:!0,className:"max-w-full max-h-[50vh] rounded-lg bg-black",children:"Your browser does not support the video tag."},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1312,columnNumber:19},void 0):t.jsxDEV("img",{src:X(p)||"",alt:"Full size",className:"max-w-full max-h-[50vh] rounded-lg object-contain"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1321,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1310,columnNumber:15},void 0),t.jsxDEV("div",{className:"mt-4 flex justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:t.jsxDEV(ss,{targetId:p.asset_id,targetType:"asset",className:"justify-center"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1332,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1331,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1330,columnNumber:15},void 0),p.tags&&p.tags.length>0&&t.jsxDEV("div",{className:"mt-4 flex justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:t.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[t.jsxDEV("svg",{className:"w-4 h-4 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1346,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1345,columnNumber:23},void 0),p.tags.map(S=>t.jsxDEV("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${S.type==="person"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:[S.type==="person"?t.jsxDEV("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1359,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1358,columnNumber:29},void 0):t.jsxDEV("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1363,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1362,columnNumber:29},void 0),S.value]},S.id,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1349,columnNumber:25},void 0))]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1344,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1343,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1342,columnNumber:17},void 0),t.jsxDEV("div",{className:"mt-4 bg-white rounded-xl max-h-[35vh] overflow-hidden flex flex-col",children:[t.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-gray-50",children:[t.jsxDEV("h3",{className:"font-semibold text-gray-800",children:["Memories ",T.length>0&&`(${T.length})`]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1377,columnNumber:19},void 0),t.jsxDEV("span",{className:"text-xs text-gray-400",children:z?" Can add":` Cannot add (role: ${w==null?void 0:w.role}, hasAccount: ${N==null?void 0:N.hasAccount})`},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1381,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1376,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[console.log("[AlbumDetailView] Rendering memories section, canAddMemory:",z),z&&t.jsxDEV("div",{className:"mb-4",children:t.jsxDEV(Yu,{assetId:p.asset_id,onMemoryAdded:async()=>{if(!i)return;$(!0);const S=await Bu.getMemories(i,p.asset_id);S.success&&S.memories&&(M(S.memories),te(P=>({...P,[p.asset_id]:S.memories.length}))),$(!1)},placeholder:"Share a memory...",variant:"inline"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1391,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1390,columnNumber:21},void 0),q?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:t.jsxDEV("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1416,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1415,columnNumber:21},void 0):T.length===0?t.jsxDEV("div",{className:"text-center py-4 text-gray-500",children:[t.jsxDEV("div",{className:"text-3xl mb-2",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1420,columnNumber:23},void 0),t.jsxDEV("p",{className:"text-sm",children:"No memories yet"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1421,columnNumber:23},void 0),!z&&t.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:"Sign in to add memories"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1423,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1419,columnNumber:21},void 0):t.jsxDEV("div",{className:"space-y-3",children:T.map(S=>t.jsxDEV("div",{className:"flex gap-3",children:[S.user.avatar_url?t.jsxDEV("img",{src:S.user.avatar_url,alt:"",className:"w-8 h-8 rounded-full object-cover flex-shrink-0"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1431,columnNumber:29},void 0):t.jsxDEV("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-blue-600 text-sm font-medium",children:(S.user.name||S.user.email||"?").charAt(0).toUpperCase()},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1438,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1437,columnNumber:29},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-0.5",children:[t.jsxDEV("span",{className:"font-medium text-sm text-gray-900",children:S.user.name||S.user.email},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1445,columnNumber:31},void 0),t.jsxDEV("span",{className:"text-xs text-gray-500",children:D(S.created_at)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1448,columnNumber:31},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1444,columnNumber:29},void 0),S.memory_type==="text"?t.jsxDEV("p",{className:"text-sm text-gray-700",children:S.content_text},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1451,columnNumber:31},void 0):S.memory_type==="image"?t.jsxDEV("img",{src:S.content_url||"",alt:"Memory",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(S.content_url||"","_blank")},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1453,columnNumber:31},void 0):S.memory_type==="video"?t.jsxDEV("video",{src:S.content_url||"",controls:!0,className:"max-w-xs rounded-lg"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1460,columnNumber:31},void 0):S.memory_type==="audio"?t.jsxDEV("audio",{src:S.content_url||"",controls:!0,className:"w-full max-w-xs"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1462,columnNumber:31},void 0):null]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1443,columnNumber:27},void 0)]},S.id,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1429,columnNumber:25},void 0))},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1427,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1386,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1375,columnNumber:15},void 0),!ie&&C(p)&&t.jsxDEV("div",{className:"mt-4 flex justify-center gap-3",children:t.jsxDEV("a",{href:C(p),download:!0,target:"_blank",rel:"noopener noreferrer",className:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",onClick:S=>S.stopPropagation(),children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1484,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1483,columnNumber:21},void 0),"Download Original"]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1475,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1474,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1300,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1299,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1295,columnNumber:9},void 0),G&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>{Z(null),L(!1)},children:t.jsxDEV("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full max-h-[80vh] flex flex-col",onClick:S=>S.stopPropagation(),children:[t.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsxDEV("h2",{className:"text-xl font-bold text-gray-800",children:"Memories"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1501,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{Z(null),L(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1502,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1500,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:q?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1514,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1513,columnNumber:17},void 0):T.length===0?t.jsxDEV("div",{className:"text-center py-8",children:[t.jsxDEV("div",{className:"text-5xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1518,columnNumber:19},void 0),t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No memories yet"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1519,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-gray-500 text-sm",children:"Be the first to add a memory to this photo!"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1520,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1517,columnNumber:17},void 0):t.jsxDEV("div",{className:"space-y-4",children:T.map(S=>t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[S.user.avatar_url?t.jsxDEV("img",{src:S.user.avatar_url,alt:"",className:"w-8 h-8 rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1529,columnNumber:27},void 0):t.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium",children:(S.user.name||S.user.email||"?")[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1531,columnNumber:27},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"font-medium text-gray-800",children:S.user.name||S.user.email||"Unknown"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1536,columnNumber:27},void 0),t.jsxDEV("div",{className:"text-xs text-gray-500",children:D(S.created_at)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1537,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1535,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1527,columnNumber:23},void 0),S.memory_type==="text"&&S.content_text&&t.jsxDEV("p",{className:"text-gray-700 whitespace-pre-wrap",children:S.content_text},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1543,columnNumber:25},void 0),S.memory_type==="image"&&S.content_url&&t.jsxDEV("img",{src:S.content_url,alt:"",className:"max-w-full rounded-lg mt-2"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1546,columnNumber:25},void 0),S.memory_type==="video"&&S.content_url&&t.jsxDEV("video",{src:S.content_url,controls:!0,className:"max-w-full rounded-lg mt-2"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1549,columnNumber:25},void 0),S.memory_type==="audio"&&S.content_url&&t.jsxDEV("audio",{src:S.content_url,controls:!0,className:"w-full mt-2"},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1552,columnNumber:25},void 0)]},S.id,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1525,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1523,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1511,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1498,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1497,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumViewer.tsx",lineNumber:1155,columnNumber:5},void 0)},qM=()=>{var q,$,Ae,L,J;const{inviteId:i}=hs(),r=ua(),[n,s]=h.useState(!0),[l,u]=h.useState(!1),[d,A]=h.useState(null),[b,p]=h.useState(null),[x,N]=h.useState(!1),[v,w]=h.useState(null),[E,F]=h.useState([]),[V,G]=h.useState(!1),Z=async j=>{try{G(!0);const{data:O,error:Y}=await Ge.from("circle_users").select(`
          id,
          circle_id,
          role,
          status,
          circles (
            id,
            name,
            description
          )
        `).eq("user_id",j).eq("status","accepted");if(Y){console.error("Error fetching user circles:",Y);return}if(O){const ie=O.map(z=>({id:z.id,circle_id:z.circle_id,role:z.role,status:z.status,circle:z.circles}));F(ie)}}catch(O){console.error("Error fetching user circles:",O)}finally{G(!1)}};h.useEffect(()=>{H()},[i]);const H=async()=>{var j;try{s(!0);const{data:{session:O},error:Y}=await Ge.auth.getSession();if(Y&&console.error("Session error:",Y),O!=null&&O.user&&w(O.user),!i){A("No invitation ID provided");return}const{data:ie,error:z}=await Ge.from("circle_users").select(`
          id,
          circle_id,
          email,
          role,
          status,
          user_id,
          circles (
            id,
            name,
            description
          )
        `).eq("id",i).single();if(z){console.error("Invite error:",z),A("Invalid or expired invitation");return}if(!ie){A("Invitation not found");return}p({id:ie.id,circle_id:ie.circle_id,email:ie.email,role:ie.role,status:ie.status,circle:ie.circles}),ie.status==="accepted"&&(N(!0),O!=null&&O.user&&Z(O.user.id)),O!=null&&O.user&&((j=O.user.email)==null?void 0:j.toLowerCase())!==ie.email.toLowerCase()&&A(`This invitation was sent to ${ie.email}. Please log in with that email address.`)}catch(O){console.error("Error loading invite:",O),A("Failed to load invitation")}finally{s(!1)}},te=async()=>{if(!(!b||!v))try{u(!0);const{data:{session:j}}=await Ge.auth.getSession();if(!(j!=null&&j.access_token))throw new Error("Not authenticated");const Y=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/accept-circle-invite",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({invite_id:b.id})}),ie=await Y.json();if(console.log("Accept invitation result:",ie),!Y.ok)throw new Error(ie.details||ie.error||"Failed to accept invitation");N(!0),await Z(v.id)}catch(j){console.error("Error accepting invitation:",j),A(j instanceof Error?j.message:"Failed to accept invitation")}finally{u(!1)}},T=()=>{const j=`/view-circle/${i}`;r(`/login?returnUrl=${encodeURIComponent(j)}`)},M=()=>{r("/dashboard")};if(n)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:225,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-lg",children:"Loading invitation..."},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:226,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:224,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:223,columnNumber:7},void 0);if(d)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:236,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Unable to Load Invitation"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:237,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:d},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:238,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>r("/login"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Go to Login"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:239,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:235,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:234,columnNumber:7},void 0);if(!b)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-500 to-gray-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white",children:t.jsxDEV("p",{className:"text-lg",children:"Invitation not found"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:254,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:253,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:252,columnNumber:7},void 0);if(x){const j=E.length>1;return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:267,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Welcome to ",(q=b.circle)==null?void 0:q.name,"!"]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:268,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:["You've successfully joined the circle as ",b.role==="read_only"?"a Viewer":`an ${b.role.charAt(0).toUpperCase()+b.role.slice(1)}`,"."]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:269,columnNumber:11},void 0),V?t.jsxDEV("div",{className:"flex items-center justify-center py-4 mb-6",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:276,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:275,columnNumber:13},void 0):j?t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("p",{className:"text-sm text-gray-600 mb-3",children:["You're a member of ",E.length," circles:"]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:280,columnNumber:15},void 0),t.jsxDEV("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:E.map(O=>t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>r(`/album/${O.id}`),children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:O.circle.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:289,columnNumber:23},void 0),t.jsxDEV("div",{className:"text-left",children:[t.jsxDEV("p",{className:"font-medium text-gray-800",children:O.circle.name},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:293,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500 capitalize",children:O.role==="read_only"?"Viewer":O.role},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:294,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:292,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:288,columnNumber:21},void 0),t.jsxDEV("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:300,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:299,columnNumber:21},void 0)]},O.id,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:283,columnNumber:19},void 0))},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:281,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:279,columnNumber:13},void 0):t.jsxDEV("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:t.jsxDEV("p",{className:"text-sm text-green-800",children:["You can now view and ",b.role!=="read_only"?"contribute to ":"","albums shared with this circle."]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:308,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:307,columnNumber:13},void 0),t.jsxDEV("button",{onClick:M,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Go to Dashboard"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:314,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:266,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:265,columnNumber:7},void 0)}return v?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:358,columnNumber:9},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accept Invitation"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:359,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-4",children:["You've been invited to join ",t.jsxDEV("strong",{children:((L=b.circle)==null?void 0:L.name)||"a circle"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:361,columnNumber:39},void 0)," as ",b.role==="read_only"?"a Viewer":`an ${b.role.charAt(0).toUpperCase()+b.role.slice(1)}`,"."]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:360,columnNumber:9},void 0),((J=b.circle)==null?void 0:J.description)&&t.jsxDEV("p",{className:"text-gray-500 text-sm mb-6",children:b.circle.description},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:364,columnNumber:11},void 0),t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:t.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[t.jsxDEV("span",{children:"Signed in as"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:369,columnNumber:13},void 0),t.jsxDEV("strong",{children:v.email},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:370,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:368,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:367,columnNumber:9},void 0),t.jsxDEV("button",{onClick:te,disabled:l,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[t.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:382,columnNumber:17},void 0),t.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:383,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:381,columnNumber:15},void 0),"Accepting..."]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:380,columnNumber:13},void 0):"Accept Invitation"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:374,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500 mt-4",children:"By accepting, you'll be able to view albums shared with this circle."},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:392,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:357,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:356,columnNumber:5},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:330,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"You're Invited!"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:331,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-4",children:["You've been invited to join ",t.jsxDEV("strong",{children:(($=b.circle)==null?void 0:$.name)||"a circle"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:333,columnNumber:41},void 0)," as ",b.role==="read_only"?"a Viewer":`an ${b.role.charAt(0).toUpperCase()+b.role.slice(1)}`,"."]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:332,columnNumber:11},void 0),((Ae=b.circle)==null?void 0:Ae.description)&&t.jsxDEV("p",{className:"text-gray-500 text-sm mb-6",children:b.circle.description},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:336,columnNumber:13},void 0),t.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:t.jsxDEV("p",{className:"text-sm text-blue-800",children:["Please log in with ",t.jsxDEV("strong",{children:b.email},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:340,columnNumber:34},void 0)," to accept this invitation."]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:339,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:338,columnNumber:11},void 0),t.jsxDEV("button",{onClick:T,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Log In to Accept"},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:343,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:329,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ViewCircle.tsx",lineNumber:328,columnNumber:7},void 0)};class KM{async getAuthHeaders(){try{const{data:{session:r},error:n}=await Ge.auth.getSession();return n||!(r!=null&&r.access_token)?(console.error("No valid session for API call:",n),null):{Authorization:`Bearer ${r.access_token}`}}catch(r){return console.error("Error getting auth headers:",r),null}}async makeApiCall(r,n={}){var s,l,u;try{const d=await this.getAuthHeaders();if(!d)return{success:!1,error:"Authentication required",isAuthError:!0};const A=n.method||"POST",b="https://quqlovduekdasldqadge.supabase.co",p={method:A,headers:{...d,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4",...n.headers||{}}};A!=="GET"&&n.body&&(p.body=n.body);const x=await fetch(`${b}/functions/v1/${r}`,p),N=await x.json();if(!x.ok){console.error(`API call to ${r} failed:`,N);const v=x.status===401||x.status===403||((s=N.error)==null?void 0:s.toLowerCase().includes("auth"))||((l=N.error)==null?void 0:l.toLowerCase().includes("token"))||((u=N.error)==null?void 0:u.toLowerCase().includes("jwt"));return{success:!1,error:N.error||"API call failed",details:N.details||JSON.stringify(N),isAuthError:v}}return N&&!N.success?{success:!1,error:N.error||"Unknown error",details:N.details}:{success:!0,data:N}}catch(d){return console.error(`Exception in API call to ${r}:`,d),{success:!1,error:"Network or system error",details:d instanceof Error?d.message:String(d)}}}async getAlbums(){return this.makeApiCall("admin-albums-api",{method:"GET"})}async createAlbum(r){return this.makeApiCall("admin-albums-api",{method:"POST",body:JSON.stringify(r)})}async updateAlbum(r){return this.makeApiCall("admin-albums-api",{method:"PUT",body:JSON.stringify(r)})}async deleteAlbum(r){return this.makeApiCall("admin-albums-api",{method:"DELETE",body:JSON.stringify({album_id:r})})}async getImages(r="all",n="date_added"){return this.makeApiCall(`admin-images-api?filter_type=${r}&sort_by=${n}`,{method:"GET"})}async deleteAsset(r){return this.makeApiCall("admin-images-api",{method:"DELETE",body:JSON.stringify({asset_id:r})})}async getCircles(){return this.makeApiCall("admin-circles-api",{method:"GET"})}async getCircleUsers(r){return this.makeApiCall(`admin-circles-api?circle_id=${r}`,{method:"GET"})}async createCircle(r){return this.makeApiCall("admin-circles-api",{method:"POST",body:JSON.stringify(r)})}async inviteUserToCircle(r,n){return this.makeApiCall(`admin-circles-api?circle_id=${r}`,{method:"POST",body:JSON.stringify(n)})}async updateCircle(r){return this.makeApiCall("admin-circles-api",{method:"PUT",body:JSON.stringify(r)})}async deleteCircle(r){return this.makeApiCall("admin-circles-api",{method:"DELETE",body:JSON.stringify({circle_id:r})})}async getInvitations(){return this.makeApiCall("admin-invitations-api",{method:"GET"})}async sendInvitation(r){return this.makeApiCall("admin-invitations-api",{method:"POST",body:JSON.stringify(r)})}async resendInvitation(r){return this.makeApiCall("admin-invitations-api",{method:"PUT",body:JSON.stringify({invite_id:r})})}async cancelInvitation(r){return this.makeApiCall("admin-invitations-api",{method:"DELETE",body:JSON.stringify({invite_id:r})})}async getPromoCodes(){return this.makeApiCall("promo-codes-api?action=list",{method:"GET"})}async createPromoCode(r){return this.makeApiCall("promo-codes-api?action=create",{method:"POST",body:JSON.stringify(r)})}async updatePromoCode(r){return this.makeApiCall("promo-codes-api?action=update",{method:"POST",body:JSON.stringify(r)})}async deletePromoCode(r){return this.makeApiCall("promo-codes-api?action=delete",{method:"POST",body:JSON.stringify({id:r})})}async getPromoCodeStats(r){return this.makeApiCall(`promo-codes-api?action=stats&promo_id=${r}`,{method:"GET"})}async getSubscriptionPlans(){return this.makeApiCall("subscription-api?action=plans",{method:"GET"})}async getSubscriptionStatus(){return this.makeApiCall("subscription-api?action=status",{method:"GET"})}async getExportJobs(){return this.makeApiCall("export-api",{method:"GET"})}async getExportJobStatus(r){return this.makeApiCall(`export-api?job_id=${r}`,{method:"GET"})}async getDiscount(){return this.makeApiCall("admin-config-api?action=discount",{method:"GET"})}async setDiscount(r){return this.makeApiCall("admin-config-api?action=set_discount",{method:"POST",body:JSON.stringify(r)})}async healthCheck(){try{return(await this.getAlbums()).success}catch(r){return console.error("Health check failed:",r),!1}}handleApiError(r){var n,s,l,u;return(n=r.error)!=null&&n.includes("access denied")||(s=r.error)!=null&&s.includes("not found")?"You don't have permission to access this resource.":(l=r.error)!=null&&l.includes("network")||(u=r.error)!=null&&u.includes("timeout")?"Network error. Please check your connection and try again.":r.error||"An unexpected error occurred. Please try again."}}const br=new KM,eI=["family","friend","colleague","other"],rI={family:"#8B5CF6",friend:"#10B981",colleague:"#3B82F6",other:"#6B7280"};class aI{async getAuthHeaders(){try{const{data:{session:r},error:n}=await Ge.auth.getSession();return n||!(r!=null&&r.access_token)?(console.error("No valid session for API call:",n),null):{Authorization:`Bearer ${r.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}catch(r){return console.error("Error getting auth headers:",r),null}}async makeApiCall(r,n={}){try{const s=await this.getAuthHeaders();if(!s)return{success:!1,error:"Authentication required"};const l=n.method||"GET",u="https://quqlovduekdasldqadge.supabase.co",d={method:l,headers:{...s,"Content-Type":"application/json"}};l!=="GET"&&n.body&&(d.body=JSON.stringify(n.body));const A=await fetch(`${u}/functions/v1/contacts-api${r}`,d),b=await A.json();return A.ok?{success:!0,data:b}:(console.error("Contacts API call failed:",b),{success:!1,error:b.error||"API call failed",details:b.details})}catch(s){return console.error("Contacts API error:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async getContacts(r,n=1,s=50){const l=new URLSearchParams({action:"list",page:n.toString(),limit:s.toString()});r&&l.append("search",r);const u=await this.makeApiCall(`?${l.toString()}`);return u.success&&u.data?{contacts:u.data.contacts||[],pagination:u.data.pagination||{page:1,limit:50,total:0,totalPages:0}}:{contacts:[],pagination:{page:1,limit:50,total:0,totalPages:0}}}async getContact(r){var s;const n=await this.makeApiCall(`?action=get&contact_id=${r}`);return n.success&&((s=n.data)!=null&&s.contact)?n.data.contact:null}async createContact(r){var s;const n=await this.makeApiCall("?action=create",{method:"POST",body:r});return n.success&&((s=n.data)!=null&&s.contact)?n.data.contact:null}async updateContact(r,n){var l;const s=await this.makeApiCall(`?action=update&contact_id=${r}`,{method:"PUT",body:n});return s.success&&((l=s.data)!=null&&l.contact)?s.data.contact:null}async deleteContact(r){return(await this.makeApiCall(`?action=delete&contact_id=${r}`,{method:"DELETE"})).success}async linkProfile(r,n){var l;const s=await this.makeApiCall("?action=link_profile",{method:"POST",body:{contact_id:r,profile_id:n}});return s.success&&((l=s.data)!=null&&l.contact)?s.data.contact:null}async unlinkProfile(r){var s;const n=await this.makeApiCall("?action=unlink_profile",{method:"POST",body:{contact_id:r}});return n.success&&((s=n.data)!=null&&s.contact)?n.data.contact:null}}const E0=new aI,tI=()=>{const[i,r]=h.useState([]),[n,s]=h.useState(null),[l,u]=h.useState([]),[d,A]=h.useState(!0),[b,p]=h.useState(null),[x,N]=h.useState(!1),[v,w]=h.useState(!1),[E,F]=h.useState([]),[V,G]=h.useState(!1),[Z,H]=h.useState(!1),[te,T]=h.useState(null),[M,q]=h.useState(""),[$,Ae]=h.useState(""),[L,J]=h.useState(!1),[j,O]=h.useState(!1),{user:Y,signOut:ie}=Xa(),z=ua();h.useEffect(()=>{Y!=null&&Y.id?ee():A(!1)},[Y==null?void 0:Y.id]);const ee=async()=>{var W,he,oe;if(!(Y!=null&&Y.id)){console.warn("No user ID available for filtering circles"),r([]),A(!1);return}try{A(!0),p(null),console.log("Loading circles for user:",Y==null?void 0:Y.id);const{data:{session:ke},error:Ne}=await Ge.auth.getSession();if(Ne||!(ke!=null&&ke.access_token)){console.error("Authentication issue:",Ne),await ie(),z("/login");return}const je=await br.getCircles();if(console.log("Circles API result:",je),!je.success){if(je.isAuthError){await ie(),z("/login");return}throw new Error(br.handleApiError(je))}console.log("Circles API response:",(W=je.data)==null?void 0:W.circles),console.log("Circles API debug:",(he=je.data)==null?void 0:he.debug),r(((oe=je.data)==null?void 0:oe.circles)||[]),p(null)}catch(ke){console.error("Error loading circles:",ke),p(ke instanceof Error?ke.message:"Failed to load circles")}finally{A(!1)}},D=async W=>{var he;try{const oe=await br.getCircleUsers(W);if(!oe.success){if(oe.isAuthError){await ie(),z("/login");return}console.warn("Circle users could not be loaded:",br.handleApiError(oe)),u([]);return}u(((he=oe.data)==null?void 0:he.users)||[])}catch(oe){console.error("Error loading circle users:",oe),u([])}},R=async W=>{s(W),await D(W.id)},X=async W=>{W.preventDefault();const he=W.target,oe=new FormData(he);try{const ke=await br.createCircle({name:oe.get("name"),description:oe.get("description")||void 0});if(!ke.success){if(ke.isAuthError){await ie(),z("/login");return}throw new Error(br.handleApiError(ke))}N(!1),he.reset(),await ee()}catch(ke){console.error("Error creating circle:",ke),alert(`Failed to create circle: ${ke instanceof Error?ke.message:"Unknown error"}`)}},C=W=>{T(W),q(W.name),Ae(W.description||""),H(!0)},I=(W,he="md")=>{if(!W||W.length===0)return t.jsxDEV("div",{className:`${he==="md"?"w-12 h-12":"w-10 h-10"} rounded-full bg-blue-100 flex items-center justify-center`,children:t.jsxDEV("span",{className:"text-blue-600 font-medium text-lg",children:""},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:191,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:190,columnNumber:9},void 0);const oe=3,ke=W.slice(0,oe),Ne=W.length-oe,je=he==="md"?"w-12 h-12":"w-10 h-10",Be=he==="md"?"w-7 h-7":"w-6 h-6",De=he==="md"?"w-8 h-8":"w-7 h-7";return t.jsxDEV("div",{className:`${je} relative flex-shrink-0`,children:[ke.map((Xe,ae)=>{var Fe,$e;const fe=ae===0,be=fe?"top-0 left-0":ae===1?"bottom-0 right-0":"top-0 right-0",Oe=fe?De:Be;return t.jsxDEV("div",{className:`absolute ${be} ${Oe} rounded-full border-2 border-white overflow-hidden`,style:{zIndex:oe-ae},children:(Fe=Xe.profile)!=null&&Fe.avatar_url?t.jsxDEV("img",{src:Xe.profile.avatar_url,alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:221,columnNumber:17},void 0):t.jsxDEV("div",{className:"w-full h-full bg-blue-500 flex items-center justify-center",children:t.jsxDEV("span",{className:"text-white text-xs font-medium",children:((($e=Xe.profile)==null?void 0:$e.full_name)||"?")[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:228,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:227,columnNumber:17},void 0)},Xe.user_id||ae,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:215,columnNumber:13},void 0)}),Ne>0&&t.jsxDEV("div",{className:"absolute bottom-0 left-3 w-5 h-5 rounded-full bg-gray-400 border-2 border-white flex items-center justify-center",children:t.jsxDEV("span",{className:"text-white text-[8px] font-bold",children:["+",Ne]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:238,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:237,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:204,columnNumber:7},void 0)},S=async W=>{if(W.preventDefault(),!(!te||!M.trim()))try{J(!0);const{error:he}=await Ge.from("circles").update({name:M.trim(),description:$.trim()||null,date_modified:new Date().toISOString()}).eq("id",te.id).eq("owner_id",Y.id);if(he)throw he;H(!1),T(null),await ee(),(n==null?void 0:n.id)===te.id&&s({...n,name:M.trim(),description:$.trim()||null})}catch(he){console.error("Error updating circle:",he),alert(`Failed to update circle: ${he instanceof Error?he.message:"Unknown error"}`)}finally{J(!1)}},P=W=>{W.preventDefault();const he=W.target,oe=new FormData(he),ke=oe.get("email").trim().toLowerCase(),Ne=oe.get("name").trim(),je=oe.get("role");if(E.some(Be=>Be.email===ke)){alert("This email is already in the invite list");return}if(l.some(Be=>{var De;return((De=Be.email)==null?void 0:De.toLowerCase())===ke})){alert("This user is already a member of the circle");return}F(Be=>[...Be,{email:ke,role:je,name:Ne}]),he.reset()},U=W=>{F(he=>he.filter(oe=>oe.email!==W))},K=async()=>{if(!(!n||E.length===0))try{G(!0);const W=await Promise.all(E.map(Ne=>br.inviteUserToCircle(n.id,{email:Ne.email,role:Ne.role,full_name:Ne.name||void 0}))),he=W.filter(Ne=>!Ne.success),oe=W.filter(Ne=>{var je;return Ne.success&&((je=Ne.data)==null?void 0:je.emailSent)}).length,ke=W.filter(Ne=>{var je;return Ne.success&&!((je=Ne.data)!=null&&je.emailSent)}).length;he.length>0?alert(`${E.length-he.length} invitation(s) created. ${he.length} failed.`):ke>0?alert(`${E.length} invitation(s) created. ${oe} email(s) sent, ${ke} email(s) failed to send.`):alert(`${E.length} invitation(s) sent successfully! (${oe} emails sent)`),console.log("Invitation results:",W.map(Ne=>{var je;return{success:Ne.success,emailSent:(je=Ne.data)==null?void 0:je.emailSent}})),F([]),w(!1),await D(n.id)}catch(W){console.error("Error sending invitations:",W),alert(`Failed to send invitations: ${W instanceof Error?W.message:"Unknown error"}`)}finally{G(!1)}},re=W=>{switch(W){case"admin":return"bg-red-100 text-red-800";case"editor":return"bg-orange-100 text-orange-800";case"contributor":return"bg-green-100 text-green-800";case"read_only":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},se=W=>{switch(W){case"accepted":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";case"removed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Ee=W=>{const he=`${window.location.origin}/album/${W}`;navigator.clipboard.writeText(he),alert("Invite link copied to clipboard!")},ye=async()=>{var W,he,oe,ke,Ne;if(!(!n||l.length===0))try{O(!0);const je=l.filter(be=>be.status==="accepted"&&be.user_id&&be.user_id!==(Y==null?void 0:Y.id));if(je.length===0){alert("No members to import. Only accepted members (excluding yourself) can be imported as contacts.");return}let Be=0,De=0,Xe=0;const{contacts:ae}=await E0.getContacts(void 0,1,1e3);for(const be of je)try{const Oe=ae.find($e=>$e.linked_profile_id===be.user_id),Fe={display_name:((W=be.profiles)==null?void 0:W.full_name)||be.email||"Unknown",first_name:((oe=(he=be.profiles)==null?void 0:he.full_name)==null?void 0:oe.split(" ")[0])||void 0,last_name:((Ne=(ke=be.profiles)==null?void 0:ke.full_name)==null?void 0:Ne.split(" ").slice(1).join(" "))||void 0,relationship_type:"friend",notes:`Imported from circle: ${n.name}`};if(Oe)await E0.updateContact(Oe.id,Fe),De++;else{const $e=await E0.createContact(Fe);$e&&be.user_id&&await E0.linkProfile($e.id,be.user_id),Be++}}catch(Oe){console.error("Error importing member:",be,Oe),Xe++}let fe="";Be>0&&(fe+=`${Be} contact(s) imported. `),De>0&&(fe+=`${De} contact(s) updated. `),Xe>0&&(fe+=`${Xe} failed.`),alert(fe||"No contacts were imported.")}catch(je){console.error("Error importing contacts:",je),alert("Failed to import contacts: "+(je instanceof Error?je.message:"Unknown error"))}finally{O(!1)}};return d?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:454,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:453,columnNumber:7},void 0):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Circles Management"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:462,columnNumber:9},void 0),t.jsxDEV("button",{onClick:()=>N(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Create New Circle"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:463,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:461,columnNumber:7},void 0),b&&t.jsxDEV("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:b},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:472,columnNumber:9},void 0),t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxDEV("div",{className:"bg-white rounded-lg shadow",children:[t.jsxDEV("div",{className:"p-6 border-b",children:t.jsxDEV("h3",{className:"text-lg font-semibold",children:"Your Circles"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:481,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:480,columnNumber:11},void 0),t.jsxDEV("div",{className:"divide-y",children:i.length===0?t.jsxDEV("div",{className:"p-6 text-center text-gray-500",children:"No circles found. Create your first circle to start sharing photos!"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:485,columnNumber:15},void 0):i.map(W=>{const he=W.owner_id===(Y==null?void 0:Y.id);return t.jsxDEV("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(n==null?void 0:n.id)===W.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>R(W),onDoubleClick:()=>he&&C(W),children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[I(W.members),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("h4",{className:"font-semibold text-gray-900 truncate",children:W.name},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:506,columnNumber:27},void 0),he?t.jsxDEV("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800 flex-shrink-0 ml-2",children:[t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 00.374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 00-.722-.516 11.209 11.209 0 01-7.877-3.08z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:510,columnNumber:33},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:509,columnNumber:31},void 0),"Owner"]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:508,columnNumber:29},void 0):t.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ml-2 ${re(W.user_role||"read_only")}`,children:["Guest  ",(W.user_role||"read_only").replace("_"," ")]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:515,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:505,columnNumber:25},void 0),W.description&&t.jsxDEV("p",{className:"text-sm text-gray-600 mt-1 truncate",children:W.description},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:521,columnNumber:27},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:[W.member_count!==void 0?`${W.member_count} member${W.member_count!==1?"s":""}`:"",W.member_count!==void 0&&"  ","Created ",new Date(W.date_created).toLocaleDateString(),he&&t.jsxDEV("span",{className:"ml-2 text-gray-400",children:"(double-click to edit)"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:527,columnNumber:39},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:523,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:504,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:500,columnNumber:21},void 0)},W.id,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:492,columnNumber:19},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:483,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:479,columnNumber:9},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg shadow",children:n?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"p-6 border-b",children:t.jsxDEV("div",{className:"flex justify-between items-start",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:n.name},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:546,columnNumber:23},void 0),n.owner_id===(Y==null?void 0:Y.id)?t.jsxDEV("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Owner"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:548,columnNumber:25},void 0):t.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${re(n.user_role||"read_only")}`,children:["Guest  ",(n.user_role||"read_only").replace("_"," ")]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:552,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:545,columnNumber:21},void 0),n.description&&t.jsxDEV("p",{className:"text-gray-600 mt-1",children:n.description},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:558,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:544,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("button",{onClick:ye,disabled:j||l.length===0,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-3 py-1 rounded text-sm font-medium transition-colors flex items-center gap-1",title:"Import circle members to your contacts",children:j?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:570,columnNumber:27},void 0),"Importing..."]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:569,columnNumber:25},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:575,columnNumber:27},void 0),"Import to Contacts"]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:574,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:562,columnNumber:21},void 0),(n.owner_id===(Y==null?void 0:Y.id)||["admin","editor"].includes(n.user_role||""))&&t.jsxDEV("button",{onClick:()=>w(!0),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Invite User"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:581,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:561,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:543,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:542,columnNumber:15},void 0),t.jsxDEV("div",{className:"p-6",children:[t.jsxDEV("h4",{className:"font-medium text-gray-900 mb-4",children:"Members & Invitations"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:593,columnNumber:17},void 0),t.jsxDEV("div",{className:"space-y-3",children:l.length===0?t.jsxDEV("p",{className:"text-gray-500 text-sm",children:"No members or pending invitations"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:596,columnNumber:21},void 0):l.map(W=>{var he,oe;return t.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-sm",children:((he=W.profiles)==null?void 0:he.full_name)||W.email},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:601,columnNumber:27},void 0),((oe=W.profiles)==null?void 0:oe.email)&&W.profiles.email!==W.email&&t.jsxDEV("p",{className:"text-xs text-gray-500",children:W.profiles.email},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:605,columnNumber:29},void 0),!W.user_id&&W.email&&t.jsxDEV("p",{className:"text-xs text-gray-500",children:[W.email," (invited)"]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:608,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:600,columnNumber:25},void 0),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${re(W.role)}`,children:W.role.replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:612,columnNumber:27},void 0),t.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se(W.status)}`,children:W.status},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:615,columnNumber:27},void 0),W.status==="pending"&&W.role==="read_only"&&t.jsxDEV("button",{onClick:()=>Ee(W.id),className:"text-blue-600 hover:text-blue-800 text-xs",title:"Copy invite link",children:""},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:619,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:611,columnNumber:25},void 0)]},W.id,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:599,columnNumber:23},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:594,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:592,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:541,columnNumber:13},void 0):t.jsxDEV("div",{className:"p-6 text-center text-gray-500",children:"Select a circle to view details and manage members"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:635,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:539,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:477,columnNumber:7},void 0),x&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Create New Circle"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:646,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:X,className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Circle Name"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:649,columnNumber:17},void 0),t.jsxDEV("input",{name:"name",type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Family, Friends, etc."},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:652,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:648,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:661,columnNumber:17},void 0),t.jsxDEV("textarea",{name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe what this circle is for..."},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:664,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:660,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[t.jsxDEV("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"Create Circle"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:672,columnNumber:17},void 0),t.jsxDEV("button",{type:"button",onClick:()=>N(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:678,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:671,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:647,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:645,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:644,columnNumber:9},void 0),v&&n&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:["Invite Users to ",n.name]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:695,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:P,className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:700,columnNumber:17},void 0),t.jsxDEV("input",{name:"name",type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Their name (optional)"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:703,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:699,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:711,columnNumber:17},void 0),t.jsxDEV("input",{name:"email",type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"user@example.com"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:714,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:710,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:723,columnNumber:17},void 0),t.jsxDEV("select",{name:"role",defaultValue:"read_only",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsxDEV("option",{value:"read_only",children:"Read Only"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:731,columnNumber:19},void 0),t.jsxDEV("option",{value:"contributor",children:"Contributor"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:732,columnNumber:19},void 0),t.jsxDEV("option",{value:"editor",children:"Editor"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:733,columnNumber:19},void 0),t.jsxDEV("option",{value:"admin",children:"Admin"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:734,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:726,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:722,columnNumber:15},void 0),t.jsxDEV("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"+ Add to Invite List"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:737,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:698,columnNumber:13},void 0),E.length>0&&t.jsxDEV("div",{className:"mt-6 border-t pt-4",children:[t.jsxDEV("h4",{className:"font-medium text-gray-900 mb-3",children:["Pending Invitations (",E.length,")"]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:748,columnNumber:17},void 0),t.jsxDEV("div",{className:"space-y-2 mb-4",children:E.map((W,he)=>t.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsxDEV("div",{children:[W.name&&t.jsxDEV("span",{className:"text-sm font-medium block",children:W.name},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:756,columnNumber:27},void 0),t.jsxDEV("span",{className:`text-sm ${W.name?"text-gray-500":"font-medium"}`,children:W.email},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:758,columnNumber:25},void 0),t.jsxDEV("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs font-medium ${re(W.role)}`,children:W.role.replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:759,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:754,columnNumber:23},void 0),t.jsxDEV("button",{onClick:()=>U(W.email),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:763,columnNumber:23},void 0)]},he,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:753,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:751,columnNumber:17},void 0),t.jsxDEV("button",{onClick:K,disabled:V,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-md font-medium transition-colors",children:V?"Sending...":`Send ${E.length} Invitation(s)`},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:772,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:747,columnNumber:15},void 0),t.jsxDEV("div",{className:"mt-4 pt-4 border-t",children:t.jsxDEV("button",{type:"button",onClick:()=>{w(!1),F([])},className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md font-medium transition-colors",children:"Close"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:783,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:782,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:694,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:693,columnNumber:9},void 0),Z&&te&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Edit Circle"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:802,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:S,className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Circle Name"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:805,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",required:!0,value:M,onChange:W=>q(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Family, Friends, etc."},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:808,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:804,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:818,columnNumber:17},void 0),t.jsxDEV("textarea",{rows:3,value:$,onChange:W=>Ae(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe what this circle is for..."},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:821,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:817,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[t.jsxDEV("button",{type:"submit",disabled:L||!M.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-md font-medium transition-colors",children:L?"Saving...":"Save Changes"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:830,columnNumber:17},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{H(!1),T(null)},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:837,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:829,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:803,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:801,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:800,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CirclesManager.tsx",lineNumber:460,columnNumber:5},void 0)},py="https://quqlovduekdasldqadge.supabase.co",I2=[{value:"admin",label:"Admin",description:"Full management, invite members, edit albums",color:"badge-error"},{value:"editor",label:"Editor",description:"Add/remove photos, set key photos, reorder",color:"badge-warning"},{value:"contributor",label:"Contributor",description:"Add photos and memories",color:"badge-success"},{value:"read_only",label:"Viewer",description:"View only",color:"badge-default"}],nI=()=>{var L,J,j;const{circleId:i,memberId:r}=hs(),[n]=Ln(),s=ua(),[l,u]=h.useState(!0),[d,A]=h.useState(!1),[b,p]=h.useState(null),[x,N]=h.useState(null),[v,w]=h.useState(null),[E,F]=h.useState(null),[V,G]=h.useState(""),Z=n.get("action"),H=n.get("requested_role");h.useEffect(()=>{te()},[i,r]);const te=async()=>{if(!i||!r){p("Invalid URL parameters"),u(!1);return}try{u(!0),p(null);const{data:{session:O}}=await Ge.auth.getSession();if(!O){s("/login");return}const Y=await fetch(`${py}/functions/v1/admin-circles-api?circle_id=${i}&member_id=${r}`,{method:"GET",headers:{Authorization:`Bearer ${O.access_token}`,"Content-Type":"application/json"}}),ie=await Y.json();if(!Y.ok){p(ie.error||"Failed to load member data"),u(!1);return}w(ie.circle),F(ie.member),G(ie.member.role)}catch(O){console.error("Error loading data:",O),p("Failed to load member data")}finally{u(!1)}},T=async()=>{var O;if(!(!E||!V))try{A(!0),p(null),N(null);const{data:{session:Y}}=await Ge.auth.getSession();if(!Y){s("/login");return}const ie=await fetch(`${py}/functions/v1/admin-circles-api`,{method:"PATCH",headers:{Authorization:`Bearer ${Y.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({member_id:E.id,role:V})}),z=await ie.json();if(!ie.ok)throw new Error(z.error||"Failed to update role");N(`Role updated to ${((O=I2.find(ee=>ee.value===V))==null?void 0:O.label)||V}`),F({...E,role:V}),setTimeout(()=>{s("/admin/circles")},2e3)}catch(Y){console.error("Error updating role:",Y),p(Y instanceof Error?Y.message:"Failed to update role")}finally{A(!1)}},M=O=>I2.find(Y=>Y.value===O)||I2[3];if(l)return t.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:165,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:164,columnNumber:7},void 0);if(b&&!E)return t.jsxDEV("div",{className:"max-w-2xl mx-auto p-6",children:t.jsxDEV("div",{className:"alert-error rounded-lg p-6 text-center",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:":("},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:174,columnNumber:11},void 0),t.jsxDEV("h2",{className:"text-xl font-semibold text-error mb-2",children:"Error"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:175,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-error",children:b},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:176,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>s("/admin/circles"),className:"mt-4 px-4 py-2 bg-error-light text-error rounded-lg hover:opacity-80 transition-colors",children:"Back to Circles"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:177,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:173,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:172,columnNumber:7},void 0);const q=((L=E==null?void 0:E.profiles)==null?void 0:L.full_name)||(E==null?void 0:E.email)||"Unknown Member",$=M((E==null?void 0:E.role)||"read_only"),Ae=H?M(H):null;return t.jsxDEV("div",{className:"max-w-2xl mx-auto p-6",children:[t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("button",{onClick:()=>s("/admin/circles"),className:"text-theme-secondary hover:text-theme-primary flex items-center gap-2 mb-4",children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:201,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:200,columnNumber:11},void 0),"Back to Circles"]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:196,columnNumber:9},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-theme-primary",children:"Change Member Role"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:205,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-theme-secondary mt-1",children:v==null?void 0:v.name},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:206,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:195,columnNumber:7},void 0),Z==="change-role"&&H&&t.jsxDEV("div",{className:"alert-warning rounded-lg p-4 mb-6",children:t.jsxDEV("div",{className:"flex items-start gap-3",children:[t.jsxDEV("div",{className:"text-2xl",children:"!"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:215,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold text-warning",children:"Access Request"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:217,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-warning text-sm mt-1",children:[t.jsxDEV("strong",{children:q},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:219,columnNumber:17},void 0)," is requesting to upgrade their role from"," ",t.jsxDEV("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${$.color}`,children:$.label},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:220,columnNumber:17},void 0)," ","to"," ",t.jsxDEV("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${Ae==null?void 0:Ae.color}`,children:Ae==null?void 0:Ae.label},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:224,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:218,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:216,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:214,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:213,columnNumber:9},void 0),t.jsxDEV("div",{className:"bg-surface rounded-xl shadow-sm border-default p-6 mb-6",children:[t.jsxDEV("div",{className:"flex items-center gap-4 mb-6",children:[(J=E==null?void 0:E.profiles)!=null&&J.avatar_url?t.jsxDEV("img",{src:E.profiles.avatar_url,alt:"",className:"w-16 h-16 rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:237,columnNumber:13},void 0):t.jsxDEV("div",{className:"w-16 h-16 rounded-full bg-primary-light flex items-center justify-center",children:t.jsxDEV("span",{className:"text-2xl font-semibold text-theme-accent",children:q[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:244,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:243,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-xl font-semibold text-theme-primary",children:q},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:250,columnNumber:13},void 0),((j=E==null?void 0:E.profiles)==null?void 0:j.email)&&E.profiles.email!==E.email&&t.jsxDEV("p",{className:"text-theme-secondary",children:E.profiles.email},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:252,columnNumber:15},void 0),(E==null?void 0:E.email)&&t.jsxDEV("p",{className:"text-theme-secondary text-sm",children:E.email},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:255,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[t.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$.color}`,children:["Current: ",$.label]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:258,columnNumber:15},void 0),t.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(E==null?void 0:E.status)==="accepted"?"badge-success":"badge-warning"}`,children:E==null?void 0:E.status},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:261,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:257,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:249,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:235,columnNumber:9},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-secondary mb-3",children:"Select New Role"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:274,columnNumber:11},void 0),t.jsxDEV("div",{className:"space-y-2",children:I2.map(O=>t.jsxDEV("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${V===O.value?"border-indigo-500 bg-primary-light":"border-default hover:border-slate-400"} ${H===O.value?"ring-2 ring-amber-400":""}`,children:[t.jsxDEV("input",{type:"radio",name:"role",value:O.value,checked:V===O.value,onChange:Y=>G(Y.target.value),className:"sr-only"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:287,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${O.color}`,children:O.label},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:297,columnNumber:21},void 0),H===O.value&&t.jsxDEV("span",{className:"text-xs text-warning font-medium",children:"(Requested)"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:301,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:296,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-sm text-theme-secondary mt-1",children:O.description},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:306,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:295,columnNumber:17},void 0),t.jsxDEV("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${V===O.value?"border-indigo-500 bg-indigo-500":"border-default"}`,children:V===O.value&&t.jsxDEV("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:315,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:314,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:308,columnNumber:17},void 0)]},O.value,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:279,columnNumber:15},void 0))},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:277,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:273,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:234,columnNumber:7},void 0),b&&t.jsxDEV("div",{className:"alert-error rounded-lg p-4 mb-4",children:t.jsxDEV("p",{className:"text-error",children:b},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:328,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:327,columnNumber:9},void 0),x&&t.jsxDEV("div",{className:"alert-success rounded-lg p-4 mb-4",children:t.jsxDEV("p",{className:"text-success",children:x},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:333,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:332,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("button",{onClick:()=>s("/admin/circles"),className:"flex-1 px-4 py-3 border-default rounded-lg text-theme-secondary hover:bg-surface-hover transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:339,columnNumber:9},void 0),t.jsxDEV("button",{onClick:T,disabled:d||V===(E==null?void 0:E.role),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${d||V===(E==null?void 0:E.role)?"bg-disabled text-theme-muted cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:d?t.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[t.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:357,columnNumber:17},void 0),t.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:358,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:356,columnNumber:15},void 0),"Saving..."]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:355,columnNumber:13},void 0):V===(E==null?void 0:E.role)?"No Changes":`Update to ${M(V).label}`},void 0,!1,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:345,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:338,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/CircleMemberEdit.tsx",lineNumber:193,columnNumber:5},void 0)},FE="https://quqlovduekdasldqadge.supabase.co",iI=`${FE}/functions/v1/admin-albums-api`,oI=`${FE}/functions/v1/admin-images-api`;async function ZE({albumId:i,assets:r}){const{data:{session:n},error:s}=await Ge.auth.getSession();if(s||!(n!=null&&n.access_token))throw new Error("User not authenticated");const l=await fetch(`${iI}?album_id=${i}`,{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json",apikey:n.access_token},body:JSON.stringify({assets:r})}),u=await l.json();if(!l.ok)throw new Error(u.error||"Failed to add photos to album");return{success:!0,added:u.added||r.length}}async function sI(i){const{data:{session:r},error:n}=await Ge.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("User not authenticated");const s=await fetch(oI,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json",apikey:r.access_token},body:JSON.stringify(i)}),l=await s.json();if(!s.ok)throw new Error(l.error||"Failed to create asset");return{success:!0,id:l.id}}const OE=({targetAlbumId:i,onPhotosAdded:r,onClose:n})=>{const[s,l]=h.useState([]),[u,d]=h.useState([]),[A,b]=h.useState(new Set),[p,x]=h.useState(!0),[N,v]=h.useState(!1),[w,E]=h.useState(null),[F,V]=h.useState(""),[G,Z]=h.useState("all"),[H,te]=h.useState("date"),{user:T}=Xa(),M=O=>O?O.startsWith("http://")||O.startsWith("https://")||O.startsWith("data:"):!1;h.useEffect(()=>{T!=null&&T.id&&q()},[T==null?void 0:T.id,i]);const q=async()=>{try{x(!0),E(null);const{data:O,error:Y}=await Ge.from("assets").select("id, path, thumbnail, web_uri, media_type, created_at, user_id").eq("user_id",T.id).order("created_at",{ascending:!1});if(Y)throw Y;const ie=O||[];l(ie);const{data:z}=await Ge.from("album_assets").select("asset_id").eq("album_id",i),ee=new Set((z||[]).map(R=>R.asset_id)),D=ie.filter(R=>!ee.has(R.id));d(D)}catch(O){console.error("Error loading assets:",O),E(O instanceof Error?O.message:"Failed to load assets")}finally{x(!1)}},$=O=>{var Y;return(Y=O.thumbnail)!=null&&Y.startsWith("data:")||O.thumbnail&&M(O.thumbnail)?O.thumbnail:O.web_uri&&M(O.web_uri)?O.web_uri:O.path&&M(O.path)?O.path:null},Ae=Wl.useMemo(()=>{let O=u;if(F){const Y=F.toLowerCase();O=O.filter(ie=>ie.id.toLowerCase().includes(Y))}return G!=="all"&&(O=O.filter(Y=>Y.media_type===G)),O.sort((Y,ie)=>{switch(H){case"date":return new Date(ie.created_at).getTime()-new Date(Y.created_at).getTime();case"type":return Y.media_type.localeCompare(ie.media_type);default:return 0}}),O},[u,F,G,H]),L=O=>{const Y=new Set(A);Y.has(O)?Y.delete(O):Y.add(O),b(Y)},J=()=>{const O=Ae.filter(Y=>$(Y)!==null);A.size===O.length?b(new Set):b(new Set(O.map(Y=>Y.id)))},j=async()=>{if(A.size!==0)try{v(!0),E(null);const Y=s.filter(ie=>A.has(ie.id)).map(ie=>({id:ie.id,uri:ie.web_uri||ie.path,mediaType:ie.media_type==="video"?"video":"photo",thumbnail_uri:ie.thumbnail||void 0,web_uri:ie.web_uri||void 0}));await ZE({albumId:i,assets:Y}),r(A.size),n()}catch(O){console.error("Error adding photos:",O),E(O instanceof Error?O.message:"Failed to add photos")}finally{v(!1)}};return p?t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxDEV("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:t.jsxDEV("div",{className:"flex items-center justify-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:199,columnNumber:13},void 0),t.jsxDEV("span",{className:"ml-3",children:"Loading photos..."},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:200,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:198,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:197,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:196,columnNumber:7},void 0):t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] flex flex-col",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Photos to Album"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:213,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:["Select from your photo library (",Ae.length," available)"]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:214,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:212,columnNumber:11},void 0),t.jsxDEV("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:218,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:211,columnNumber:9},void 0),w&&t.jsxDEV("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:w},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:227,columnNumber:11},void 0),t.jsxDEV("div",{className:"border-b px-6 py-4 space-y-4",children:[t.jsxDEV("div",{className:"flex flex-wrap gap-4",children:[t.jsxDEV("div",{className:"flex-1 min-w-64",children:t.jsxDEV("input",{type:"text",placeholder:"Search by photo ID...",value:F,onChange:O=>V(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:237,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:236,columnNumber:13},void 0),t.jsxDEV("select",{value:G,onChange:O=>Z(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsxDEV("option",{value:"all",children:"All Types"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:252,columnNumber:15},void 0),t.jsxDEV("option",{value:"photo",children:"Photos Only"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:253,columnNumber:15},void 0),t.jsxDEV("option",{value:"video",children:"Videos Only"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:254,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:247,columnNumber:13},void 0),t.jsxDEV("select",{value:H,onChange:O=>te(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsxDEV("option",{value:"date",children:"Latest First"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:263,columnNumber:15},void 0),t.jsxDEV("option",{value:"type",children:"By Type"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:264,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:258,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:234,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center justify-between",children:t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("button",{onClick:J,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:A.size===Ae.filter(O=>$(O)!==null).length?"Deselect All":"Select All"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:271,columnNumber:15},void 0),t.jsxDEV("span",{className:"text-sm text-gray-600",children:[A.size," selected"]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:277,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:270,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:269,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:233,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:Ae.length===0?t.jsxDEV("div",{className:"text-center py-16",children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:288,columnNumber:15},void 0),t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Photos Available"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:289,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-gray-500",children:u.length===0?"You don't have any other photos to add to this album.":"No photos match your current filters."},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:290,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:287,columnNumber:13},void 0):t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:Ae.map(O=>{const Y=A.has(O.id),ie=$(O),z=ie!==null;return t.jsxDEV("div",{className:`relative aspect-square rounded-lg overflow-hidden cursor-pointer transition-all ${z?"hover:scale-105":"opacity-50 cursor-not-allowed"} ${Y?"ring-4 ring-blue-500 ring-offset-2":""}`,onClick:()=>z&&L(O.id),children:[z&&t.jsxDEV("div",{className:`absolute inset-0 z-10 ${Y?"bg-blue-500/20":""}`,children:t.jsxDEV("div",{className:"absolute top-2 left-2",children:t.jsxDEV("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${Y?"bg-blue-500 border-blue-500":"bg-white/80 border-white"}`,children:Y&&t.jsxDEV("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:325,columnNumber:33},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:324,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:318,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:317,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:316,columnNumber:23},void 0),z?t.jsxDEV("img",{src:ie,alt:"Photo",className:"w-full h-full object-cover",loading:"lazy"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:335,columnNumber:23},void 0):t.jsxDEV("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-200 text-gray-500",children:[t.jsxDEV("div",{className:"text-2xl mb-1",children:O.media_type==="video"?"":""},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:343,columnNumber:25},void 0),t.jsxDEV("div",{className:"text-xs text-center px-1",children:"Not available"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:344,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:342,columnNumber:23},void 0),O.media_type==="video"&&z&&t.jsxDEV("div",{className:"absolute bottom-2 right-2",children:t.jsxDEV("div",{className:"bg-black/50 rounded px-1 py-0.5",children:t.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:354,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:353,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:352,columnNumber:23},void 0)]},O.id,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:305,columnNumber:19},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:298,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:285,columnNumber:9},void 0),t.jsxDEV("div",{className:"border-t px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("div",{className:"text-sm text-gray-600",children:[A.size," photo",A.size!==1?"s":""," selected"]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:367,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:371,columnNumber:13},void 0),t.jsxDEV("button",{onClick:j,disabled:A.size===0||N,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-md transition-colors flex items-center gap-2",children:N?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:384,columnNumber:19},void 0),"Adding..."]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:383,columnNumber:17},void 0):`Add ${A.size} Photo${A.size!==1?"s":""}`},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:377,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:370,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:366,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:209,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PhotoPicker.tsx",lineNumber:208,columnNumber:5},void 0)};var PE={exports:{}};(function(i,r){(function(n,s,l,u){function d(){return q.isValid()}function A(){return q.isValid()}function b(){var D={getUserMedia:!0};return q.isValid(D)}function p(D){var R=!1;if(T.isArray(D)&&D.length){if(T.each(D,function(X,C){T.isSupported.videoCodecs[C]&&(R=!0)}),!R)return!1}else if(T.isString(D)&&D.length&&!T.isSupported.videoCodecs[D])return!1;return q.isValid({getUserMedia:!0})}function x(){function D(Re,We,Je){var Ye,ir;for(Ee=Re,ye=We,W=Je,he=new Array(oe),Ye=0;oe>Ye;Ye++)he[Ye]=new Array(4),ir=he[Ye],ir[0]=ir[1]=ir[2]=(Ye<<ae+8)/oe|0,Ce[Ye]=Oe/oe|0,Ve[Ye]=0}function R(){for(var Re=[],We=new Array(oe),Je=0;oe>Je;Je++)We[he[Je][3]]=Je;for(var Ye=0,ir=0;oe>ir;ir++){var rr=We[ir];Re[Ye++]=he[rr][0],Re[Ye++]=he[rr][1],Re[Ye++]=he[rr][2]}return Re}function X(){var Re,We,Je,Ye,ir,rr,tr,_r;for(tr=0,_r=0,Re=0;oe>Re;Re++){for(ir=he[Re],Je=Re,Ye=ir[1],We=Re+1;oe>We;We++)rr=he[We],rr[1]<Ye&&(Je=We,Ye=rr[1]);if(rr=he[Je],Re!=Je&&(We=rr[0],rr[0]=ir[0],ir[0]=We,We=rr[1],rr[1]=ir[1],ir[1]=We,We=rr[2],rr[2]=ir[2],ir[2]=We,We=rr[3],rr[3]=ir[3],ir[3]=We),Ye!=tr){for(Q[tr]=_r+Re>>1,We=tr+1;Ye>We;We++)Q[We]=Re;tr=Ye,_r=Re}}for(Q[tr]=_r+Xe>>1,We=tr+1;256>We;We++)Q[We]=Xe}function C(){var Re,We,Je,Ye,ir,rr,tr,_r,Sr,Ir,za,Xr,pa,Me;for(De>ye&&(W=1),se=30+(W-1)/3,Xr=Ee,pa=0,Me=ye,za=ye/(3*W),Ir=za/fe|0,_r=ra,rr=er,tr=rr>>Pe,1>=tr&&(tr=0),Re=0;tr>Re;Re++)Le[Re]=_r*((tr*tr-Re*Re)*ne/(tr*tr));for(Sr=De>ye?3:ye%ke!==0?3*ke:ye%Ne!==0?3*Ne:ye%je!==0?3*je:3*Be,Re=0;za>Re;)if(Je=(255&Xr[pa+0])<<ae,Ye=(255&Xr[pa+1])<<ae,ir=(255&Xr[pa+2])<<ae,We=re(Je,Ye,ir),K(_r,We,Je,Ye,ir),tr!==0&&U(tr,We,Je,Ye,ir),pa+=Sr,pa>=Me&&(pa-=ye),Re++,Ir===0&&(Ir=1),Re%Ir===0)for(_r-=_r/se,rr-=rr/xr,tr=rr>>Pe,1>=tr&&(tr=0),We=0;tr>We;We++)Le[We]=_r*((tr*tr-We*We)*ne/(tr*tr))}function I(Re,We,Je){var Ye,ir,rr,tr,_r,Sr,Ir;for(_r=1e3,Ir=-1,Ye=Q[We],ir=Ye-1;oe>Ye||ir>=0;)oe>Ye&&(Sr=he[Ye],rr=Sr[1]-We,rr>=_r?Ye=oe:(Ye++,0>rr&&(rr=-rr),tr=Sr[0]-Re,0>tr&&(tr=-tr),rr+=tr,_r>rr&&(tr=Sr[2]-Je,0>tr&&(tr=-tr),rr+=tr,_r>rr&&(_r=rr,Ir=Sr[3])))),ir>=0&&(Sr=he[ir],rr=We-Sr[1],rr>=_r?ir=-1:(ir--,0>rr&&(rr=-rr),tr=Sr[0]-Re,0>tr&&(tr=-tr),rr+=tr,_r>rr&&(tr=Sr[2]-Je,0>tr&&(tr=-tr),rr+=tr,_r>rr&&(_r=rr,Ir=Sr[3]))));return Ir}function S(){return C(),P(),X(),R()}function P(){var Re;for(Re=0;oe>Re;Re++)he[Re][0]>>=ae,he[Re][1]>>=ae,he[Re][2]>>=ae,he[Re][3]=Re}function U(Re,We,Je,Ye,ir){var rr,tr,_r,Sr,Ir,za,Xr;for(_r=We-Re,-1>_r&&(_r=-1),Sr=We+Re,Sr>oe&&(Sr=oe),rr=We+1,tr=We-1,za=1;Sr>rr||tr>_r;){if(Ir=Le[za++],Sr>rr){Xr=he[rr++];try{Xr[0]-=Ir*(Xr[0]-Je)/k|0,Xr[1]-=Ir*(Xr[1]-Ye)/k|0,Xr[2]-=Ir*(Xr[2]-ir)/k|0}catch{}}if(tr>_r){Xr=he[tr--];try{Xr[0]-=Ir*(Xr[0]-Je)/k|0,Xr[1]-=Ir*(Xr[1]-Ye)/k|0,Xr[2]-=Ir*(Xr[2]-ir)/k|0}catch{}}}}function K(Re,We,Je,Ye,ir){var rr=he[We],tr=Re/ra;rr[0]-=tr*(rr[0]-Je)|0,rr[1]-=tr*(rr[1]-Ye)|0,rr[2]-=tr*(rr[2]-ir)|0}function re(Re,We,Je){var Ye,ir,rr,tr,_r,Sr,Ir,za,Xr,pa;for(za=2147483647,Xr=za,Sr=-1,Ir=Sr,Ye=0;oe>Ye;Ye++)pa=he[Ye],ir=pa[0]-Re,0>ir&&(ir=-ir),rr=pa[1]-We,0>rr&&(rr=-rr),ir+=rr,rr=pa[2]-Je,0>rr&&(rr=-rr),ir+=rr,za>ir&&(za=ir,Sr=Ye),tr=ir-(Ve[Ye]>>be-ae),Xr>tr&&(Xr=tr,Ir=Ye),_r=Ce[Ye]>>$e,Ce[Ye]-=_r,Ve[Ye]+=_r<<Fe;return Ce[Sr]+=me,Ve[Sr]-=ze,Ir}var se,Ee,ye,W,he,oe=256,ke=499,Ne=491,je=487,Be=503,De=3*Be,Xe=oe-1,ae=4,fe=100,be=16,Oe=1<<be,Fe=10,$e=10,me=Oe>>$e,ze=Oe<<Fe-$e,xe=oe>>3,Pe=6,Ze=1<<Pe,er=xe*Ze,xr=30,ur=10,ra=1<<ur,we=8,ne=1<<we,de=ur+we,k=1<<de,Q=[],Ve=[],Ce=[],Le=[];D.apply(this,arguments);var nr={};return nr.map=I,nr.process=S,nr}function N(){var D=this;try{D.onmessage=function(X){var C,I=X.data||{};I.gifshot&&(C=R.run(I),postMessage(C))}}catch{}var R={dataToRGB:function(X,C,I){for(var S=C*I*4,P=0,U=[];S>P;)U.push(X[P++]),U.push(X[P++]),U.push(X[P++]),P++;return U},componentizedPaletteToArray:function(X){X=X||[];for(var C=[],I=0;I<X.length;I+=3){var S=X[I],P=X[I+1],U=X[I+2];C.push(S<<16|P<<8|U)}return C},processFrameWithQuantizer:function(X,C,I,S){for(var P=this.dataToRGB(X,C,I),U=new x(P,P.length,S),K=U.process(),re=new Uint32Array(this.componentizedPaletteToArray(K)),se=C*I,Ee=new Uint8Array(se),ye=0,W=0;se>W;W++){var he=P[ye++],oe=P[ye++],ke=P[ye++];Ee[W]=U.map(he,oe,ke)}return{pixels:Ee,palette:re}},run:function(X){X=X||{};var C=X,I=C.height,S=(C.palette,C.sampleInterval),P=C.width,U=X.data;return this.processFrameWithQuantizer(U,P,I,S)}};return R}function v(D,R,X,C){function I(ye){var W=ye.length;if(2>W||W>256||W&W-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return W}function S(ye,W,he,oe){function ke(er){for(;be>=er;)ye[W++]=255&Oe,Oe>>=8,be-=8,W===je+256&&(ye[je]=255,je=W++)}function Ne(er){Oe|=er<<be,be+=fe,ke(8)}ye[W++]=he;var je=W++,Be=1<<he,De=Be-1,Xe=Be+1,ae=Xe+1,fe=he+1,be=0,Oe=0,Fe=oe[0]&De,$e={};Ne(Be);for(var me=1,ze=oe.length;ze>me;++me){var xe=oe[me]&De,Pe=Fe<<8|xe,Ze=$e[Pe];if(Ze===u){for(Oe|=Fe<<be,be+=fe;be>=8;)ye[W++]=255&Oe,Oe>>=8,be-=8,W===je+256&&(ye[je]=255,je=W++);ae===4096?(Ne(Be),ae=Xe+1,fe=he+1,$e={}):(ae>=1<<fe&&++fe,$e[Pe]=ae++),Fe=xe}else Fe=Ze}return Ne(Fe),Ne(Xe),ke(1),je+1===W?ye[je]=0:(ye[je]=W-je-1,ye[W++]=0),W}var P=0;C=C===u?{}:C;var U=C.loop===u?null:C.loop,K=C.palette===u?null:C.palette;if(0>=R||0>=X||R>65535||X>65535)throw"Width/Height invalid.";D[P++]=71,D[P++]=73,D[P++]=70,D[P++]=56,D[P++]=57,D[P++]=97;var re=0,se=0;if(D[P++]=255&R,D[P++]=R>>8&255,D[P++]=255&X,D[P++]=X>>8&255,D[P++]=(K!==null?128:0)|re,D[P++]=se,D[P++]=0,U!==null){if(0>U||U>65535)throw"Loop count invalid.";D[P++]=33,D[P++]=255,D[P++]=11,D[P++]=78,D[P++]=69,D[P++]=84,D[P++]=83,D[P++]=67,D[P++]=65,D[P++]=80,D[P++]=69,D[P++]=50,D[P++]=46,D[P++]=48,D[P++]=3,D[P++]=1,D[P++]=255&U,D[P++]=U>>8&255,D[P++]=0}var Ee=!1;this.addFrame=function(ye,W,he,oe,ke,Ne){if(Ee===!0&&(--P,Ee=!1),Ne=Ne===u?{}:Ne,0>ye||0>W||ye>65535||W>65535)throw"x/y invalid.";if(0>=he||0>=oe||he>65535||oe>65535)throw"Width/Height invalid.";if(ke.length<he*oe)throw"Not enough pixels for the frame size.";var je=!0,Be=Ne.palette;if((Be===u||Be===null)&&(je=!1,Be=K),Be===u||Be===null)throw"Must supply either a local or global palette.";for(var De=I(Be),Xe=0;De>>=1;)++Xe;De=1<<Xe;var ae=Ne.delay===u?0:Ne.delay,fe=Ne.disposal===u?0:Ne.disposal;if(0>fe||fe>3)throw"Disposal out of range.";var be=!1,Oe=0;if(Ne.transparent!==u&&Ne.transparent!==null&&(be=!0,Oe=Ne.transparent,0>Oe||Oe>=De))throw"Transparent color index.";if((fe!==0||be||ae!==0)&&(D[P++]=33,D[P++]=249,D[P++]=4,D[P++]=fe<<2|(be===!0?1:0),D[P++]=255&ae,D[P++]=ae>>8&255,D[P++]=Oe,D[P++]=0),D[P++]=44,D[P++]=255&ye,D[P++]=ye>>8&255,D[P++]=255&W,D[P++]=W>>8&255,D[P++]=255&he,D[P++]=he>>8&255,D[P++]=255&oe,D[P++]=oe>>8&255,D[P++]=je===!0?128|Xe-1:0,je===!0)for(var Fe=0,$e=Be.length;$e>Fe;++Fe){var me=Be[Fe];D[P++]=me>>16&255,D[P++]=me>>8&255,D[P++]=255&me}P=S(D,P,2>Xe?2:Xe,ke)},this.end=function(){return Ee===!1&&(D[P++]=59,Ee=!0),P}}function w(D,R){D.getBase64GIF(function(X){R({error:!1,errorCode:"",errorMsg:"",image:X})})}function E(){function D(){T.each(K,function(ye,W){W&&(W.text?Ee.addFrame(W.img,I,W.text):Ee.addFrame(W,I))}),w(Ee,X)}var R=arguments.length>0&&arguments[0]!==u?arguments[0]:{},X=R.callback,C=R.images,I=R.options,S=R.imagesLength,P={getUserMedia:!0,"window.URL":!0},U=q.validate(P),K=[],re=0,se=void 0,Ee=void 0;return U.error?X(U):(Ee=new O(I),T.each(C,function(ye,W){var he=W;W.src&&(he=he.src),T.isElement(he)?(I.crossOrigin&&(he.crossOrigin=I.crossOrigin),K[ye]=he,re+=1,re===S&&D()):T.isString(he)&&(se=new Image,I.crossOrigin&&(se.crossOrigin=I.crossOrigin),function(oe){W.text&&(oe.text=W.text),oe.onerror=function(){var ke=void 0;return--S,S===0?(ke={},ke.error="None of the requested images was capable of being retrieved",X(ke)):void 0},oe.onload=function(){K[ye]=W.text?{img:oe,text:oe.text}:oe,re+=1,re===S&&D(),T.removeElement(oe)},oe.src=he}(se),T.setCSSAttr(se,{position:"fixed",opacity:"0"}),s.body.appendChild(se))}),void 0)}function F(D){D=T.isObject(D)?D:{},z.stopVideoStreaming(D)}function V(D,R){var X=D.options||{},C=X.images,I=X.video,S=Number(X.gifWidth),P=Number(X.gifHeight),U=(Number(X.numFrames),D.cameraStream),K=D.videoElement,re=D.videoWidth,se=D.videoHeight,Ee=ie.getCropDimensions({videoWidth:re,videoHeight:se,gifHeight:P,gifWidth:S}),ye=R;X.crop=Ee,X.videoElement=K,X.videoWidth=re,X.videoHeight=se,X.cameraStream=U,T.isElement(K)&&(K.width=S+Ee.width,K.height=P+Ee.height,X.webcamVideoElement||(T.setCSSAttr(K,{position:"fixed",opacity:"0"}),s.body.appendChild(K)),K.play(),ie.getGIF(X,function(W){C&&C.length||I&&I.length||F(W),ye(W)}))}function G(){var D=arguments.length>0&&arguments[0]!==u?arguments[0]:{},R=D.callback,X=D.existingVideo,C=D.options,I={getUserMedia:!0,"window.URL":!0},S=q.validate(I),P=void 0,U=void 0;if(S.error)return R(S);if(T.isElement(X)&&X.src){if(U=X.src,P=T.getExtension(U),!T.isSupported.videoCodecs[P])return R(q.messages.videoCodecs)}else T.isArray(X)&&T.each(X,function(K,re){return P=re instanceof Blob?re.type.substr(re.type.lastIndexOf("/")+1,re.length):re.substr(re.lastIndexOf(".")+1,re.length),T.isSupported.videoCodecs[P]?(X=re,!1):void 0});z.startStreaming({completed:function(K){K.options=C||{},V(K,R)},existingVideo:X,crossOrigin:C.crossOrigin,options:C})}function Z(){var D=arguments.length>0&&arguments[0]!==u?arguments[0]:{},R=D.callback,X=D.lastCameraStream,C=D.options,I=D.webcamVideoElement;return A()?C.savedRenderingContexts.length?(ie.getGIF(C,function(S){R(S)}),void 0):(z.startVideoStreaming(function(){var S=arguments.length>0&&arguments[0]!==u?arguments[0]:{};S.options=C||{},V(S,R)},{lastCameraStream:X,callback:R,webcamVideoElement:I,crossOrigin:C.crossOrigin}),void 0):R(q.validate())}function H(D,R){if(R=T.isFunction(D)?D:R,D=T.isObject(D)?D:{},T.isFunction(R)){var X=T.mergeOptions(L,D)||{},C=D.cameraStream,I=X.images,S=I?I.length:0,P=X.video,U=X.webcamVideoElement;X=T.mergeOptions(X,{gifWidth:Math.floor(X.gifWidth),gifHeight:Math.floor(X.gifHeight)}),S?E({images:I,imagesLength:S,callback:R,options:X}):P?G({existingVideo:P,callback:R,options:X}):Z({lastCameraStream:C,callback:R,webcamVideoElement:U,options:X})}}function te(D,R){if(R=T.isFunction(D)?D:R,D=T.isObject(D)?D:{},T.isFunction(R)){var X=T.mergeOptions(L,D),C=T.mergeOptions(X,{interval:.1,numFrames:1,gifWidth:Math.floor(X.gifWidth),gifHeight:Math.floor(X.gifHeight)});H(C,R)}}var T={URL:n.URL||n.webkitURL||n.mozURL||n.msURL,getUserMedia:function(){var D=l.getUserMedia||l.webkitGetUserMedia||l.mozGetUserMedia||l.msGetUserMedia;return D&&D.bind(l)}(),requestAnimFrame:n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,requestTimeout:function(D,R){if(D=D||T.noop,R=R||0,!T.requestAnimFrame)return setTimeout(D,R);var X=new Date().getTime(),C=new Object,I=T.requestAnimFrame,S=function P(){var U=new Date().getTime(),K=U-X;K>=R?D.call():C.value=I(P)};return C.value=I(S),C},Blob:n.Blob||n.BlobBuilder||n.WebKitBlobBuilder||n.MozBlobBuilder||n.MSBlobBuilder,btoa:function(){var D=n.btoa||function(R){for(var X="",C=0,I=R.length,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",P=void 0,U=void 0,K=void 0,re=void 0,se=void 0,Ee=void 0,ye=void 0;I>C;)P=R.charCodeAt(C++),U=R.charCodeAt(C++),K=R.charCodeAt(C++),re=P>>2,se=(3&P)<<4|U>>4,Ee=(15&U)<<2|K>>6,ye=63&K,isNaN(U)?Ee=ye=64:isNaN(K)&&(ye=64),X=X+S.charAt(re)+S.charAt(se)+S.charAt(Ee)+S.charAt(ye);return X};return D?D.bind(n):T.noop}(),isObject:function(D){return D&&Object.prototype.toString.call(D)==="[object Object]"},isEmptyObject:function(D){return T.isObject(D)&&!Object.keys(D).length},isArray:function(D){return D&&Array.isArray(D)},isFunction:function(D){return D&&typeof D=="function"},isElement:function(D){return D&&D.nodeType===1},isString:function(D){return typeof D=="string"||Object.prototype.toString.call(D)==="[object String]"},isSupported:{canvas:function(){var D=s.createElement("canvas");return D&&D.getContext&&D.getContext("2d")},webworkers:function(){return n.Worker},blob:function(){return T.Blob},Uint8Array:function(){return n.Uint8Array},Uint32Array:function(){return n.Uint32Array},videoCodecs:function(){var D=s.createElement("video"),R={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{D&&D.canPlayType&&(R.mp4=D.canPlayType('video/mp4; codecs="mp4v.20.8"')!=="",R.h264=(D.canPlayType('video/mp4; codecs="avc1.42E01E"')||D.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))!=="",R.ogv=D.canPlayType('video/ogg; codecs="theora"')!=="",R.ogg=D.canPlayType('video/ogg; codecs="theora"')!=="",R.webm=D.canPlayType('video/webm; codecs="vp8, vorbis"')!==-1)}catch{}return R}()},noop:function(){},each:function(D,R){var X=void 0,C=void 0;if(T.isArray(D))for(X=-1,C=D.length;++X<C&&R(X,D[X])!==!1;);else if(T.isObject(D)){for(X in D)if(D.hasOwnProperty(X)&&R(X,D[X])===!1)break}},mergeOptions:function(D,R){if(T.isObject(D)&&T.isObject(R)&&Object.keys){var X={};return T.each(D,function(C){X[C]=D[C]}),T.each(R,function(C){var I=R[C];X[C]=T.isObject(I)&&D[C]?T.mergeOptions(D[C],I):I}),X}},setCSSAttr:function(D,R,X){T.isElement(D)&&(T.isString(R)&&T.isString(X)?D.style[R]=X:T.isObject(R)&&T.each(R,function(C,I){D.style[C]=I}))},removeElement:function(D){T.isElement(D)&&D.parentNode&&D.parentNode.removeChild(D)},createWebWorker:function(D){if(!T.isString(D))return{};try{var R=new T.Blob([D],{type:"text/javascript"}),X=T.URL.createObjectURL(R),C=new Worker(X);return{objectUrl:X,worker:C}}catch(I){return""+I}},getExtension:function(D){return D.substr(D.lastIndexOf(".")+1,D.length)},getFontSize:function(){var D=arguments.length>0&&arguments[0]!==u?arguments[0]:{};if(!s.body||D.resizeFont===!1)return D.fontSize;var R=D.text,X=D.gifWidth,C=parseInt(D.fontSize,10),I=parseInt(D.minFontSize,10),S=s.createElement("div"),P=s.createElement("span");for(S.setAttribute("width",X),S.appendChild(P),P.innerHTML=R,P.style.fontSize=C+"px",P.style.textIndent="-9999px",P.style.visibility="hidden",s.body.appendChild(P);P.offsetWidth>X&&C>=I;)P.style.fontSize=--C+"px";return s.body.removeChild(P),C+"px"},webWorkerError:!1},M=Object.freeze({default:T}),q={validate:function(D){D=T.isObject(D)?D:{};var R={};return T.each(q.validators,function(X,C){var I=C.errorCode;return D[I]||C.condition?void 0:(R=C,R.error=!0,!1)}),delete R.condition,R},isValid:function(R){var X=q.validate(R),C=X.error!==!0;return C},validators:[{condition:T.isFunction(T.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:T.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:T.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:T.isFunction(T.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:T.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:T.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:T.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},$=Object.freeze({default:q}),Ae=function(){},L={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:Ae,completeCallback:Ae,saveRenderingContexts:!1,savedRenderingContexts:[],showFrameText:!0,crossOrigin:"Anonymous",waterMark:null,waterMarkHeight:null,waterMarkWidth:null,waterMarkXCoordinate:1,waterMarkYCoordinate:1},J=Object.freeze({default:L}),j=function(){},O=function(D){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=j,this.onRenderProgressCallback=j,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=D,this.initializeWebWorkers(D)};O.prototype={workerMethods:N(),initializeWebWorkers:function(D){var R=this,X=x.toString()+"("+N.toString()+"());",C=void 0,I=void 0,S=void 0,P=void 0,U=-1,K="";for(P=D.numWorkers;++U<P;)C=T.createWebWorker(X),T.isObject(C)?(I=C.objectUrl,S=C.worker,R.workers.push({worker:S,objectUrl:I}),R.availableWorkers.push(S)):(K=C,T.webWorkerError=!!C);this.workerError=K,this.canvas=s.createElement("canvas"),this.canvas.width=D.gifWidth,this.canvas.height=D.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(D){this.availableWorkers.push(D)},byteMap:function(){for(var D=[],R=0;256>R;R++)D[R]=String.fromCharCode(R);return D}(),bufferToString:function(D){for(var R=D.length,X="",C=-1;++C<R;)X+=this.byteMap[D[C]];return X},onFrameFinished:function(D){var R=this,X=R.frames,C=R.options,I=!!(C.images||[]).length,S=X.every(function(P){return!P.beingProcessed&&P.done});R.numRenderedFrames++,I&&D(R.numRenderedFrames/X.length),R.onRenderProgressCallback(.75*R.numRenderedFrames/X.length),S?R.generatingGIF||R.generateGIF(X,R.onRenderCompleteCallback):T.requestTimeout(function(){R.processNextFrame()},1)},processFrame:function(D){var R=this,X=(this.options,this.options),C=X.progressCallback,I=X.sampleInterval,S=this.frames,P=void 0,U=void 0,K=function(){var re=arguments.length>0&&arguments[0]!==u?arguments[0]:{},se=re.data;delete P.data,P.pixels=Array.prototype.slice.call(se.pixels),P.palette=Array.prototype.slice.call(se.palette),P.done=!0,P.beingProcessed=!1,R.freeWorker(U),R.onFrameFinished(C)};return P=S[D],P.beingProcessed||P.done?(this.onFrameFinished(),void 0):(P.sampleInterval=I,P.beingProcessed=!0,P.gifshot=!0,U=this.getWorker(),U?(U.onmessage=K,U.postMessage(P)):K({data:R.workerMethods.run(P)}),void 0)},startRendering:function(D){this.onRenderCompleteCallback=D;for(var R=0;R<this.options.numWorkers&&R<this.frames.length;R++)this.processFrame(R)},processNextFrame:function(){for(var D=-1,R=0;R<this.frames.length;R++){var X=this.frames[R];if(!X.done&&!X.beingProcessed){D=R;break}}D>=0&&this.processFrame(D)},generateGIF:function(D,R){var X=[],C={loop:this.repeat},I=this.options,S=I.interval,P=I.frameDuration,U=I.images,K=!!U.length,re=I.gifHeight,se=I.gifWidth,Ee=new v(X,se,re,C),ye=this.onRenderProgressCallback,W=K?100*S:0,he=void 0,oe=void 0;this.generatingGIF=!0,T.each(D,function(ke,Ne){var je=Ne.palette;ye(.75+.25*Ne.position*1/D.length);for(var Be=0;P>Be;Be++)Ee.addFrame(0,0,se,re,Ne.pixels,{palette:je,delay:W})}),Ee.end(),ye(1),this.frames=[],this.generatingGIF=!1,T.isFunction(R)&&(he=this.bufferToString(X),oe="data:image/gif;base64,"+T.btoa(he),R(oe))},setRepeat:function(D){this.repeat=D},addFrame:function(D,R,X){R=T.isObject(R)?R:{};var C=this,I=C.ctx,S=C.options,P=S.gifWidth,U=S.gifHeight,K=T.getFontSize(R),re=R,se=re.filter,Ee=re.fontColor,ye=re.fontFamily,W=re.fontWeight,he=(re.gifHeight,re.gifWidth,re.text),oe=re.textAlign,ke=re.textBaseline,Ne=re.waterMark,je=re.waterMarkHeight,Be=re.waterMarkWidth,De=re.waterMarkXCoordinate,Xe=re.waterMarkYCoordinate,ae=R.textXCoordinate?R.textXCoordinate:oe==="left"?1:oe==="right"?P:P/2,fe=R.textYCoordinate?R.textYCoordinate:ke==="top"?1:ke==="center"?U/2:U,be=W+" "+K+" "+ye,Oe=X&&R.showFrameText?X:he,Fe=void 0;try{I.filter=se,I.drawImage(D,0,0,P,U),Oe&&(I.font=be,I.fillStyle=Ee,I.textAlign=oe,I.textBaseline=ke,I.fillText(Oe,ae,fe)),Ne&&I.drawImage(Ne,De,Xe,Be,je),Fe=I.getImageData(0,0,P,U),C.addFrameImageData(Fe)}catch($e){return""+$e}},addFrameImageData:function(){var D=arguments.length>0&&arguments[0]!==u?arguments[0]:{},R=this.frames,X=D.data;this.frames.push({data:X,width:D.width,height:D.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:R.length})},onRenderProgress:function(D){this.onRenderProgressCallback=D},isRendering:function(){return this.generatingGIF},getBase64GIF:function(D){var R=this,X=function(C){R.destroyWorkers(),T.requestTimeout(function(){D(C)},0)};R.startRendering(X)},destroyWorkers:function(){if(!this.workerError){var D=this.workers;T.each(D,function(R,X){var C=X.worker,I=X.objectUrl;C.terminate(),T.URL.revokeObjectURL(I)})}}};var Y=function(){},ie={getGIF:function(){var D=arguments.length>0&&arguments[0]!==u?arguments[0]:{},R=arguments[1];R=T.isFunction(R)?R:Y;var X=s.createElement("canvas"),C=void 0,I=D.images,S=!!I.length,P=D.cameraStream,U=D.crop,K=D.filter,re=D.fontColor,se=D.fontFamily,Ee=D.fontWeight,ye=D.keepCameraOn,W=(D.numWorkers,D.progressCallback),he=D.saveRenderingContexts,oe=D.savedRenderingContexts,ke=D.text,Ne=D.textAlign,je=D.textBaseline,Be=D.videoElement,De=D.videoHeight,Xe=D.videoWidth,ae=D.webcamVideoElement,fe=D.waterMark,be=D.waterMarkHeight,Oe=D.waterMarkWidth,Fe=D.waterMarkXCoordinate,$e=D.waterMarkYCoordinate,me=Number(D.gifWidth),ze=Number(D.gifHeight),xe=Number(D.interval),Pe=(Number(D.sampleInterval),S?0:1e3*xe),Ze=[],er=oe.length?oe.length:D.numFrames,xr=er,ur=new O(D),ra=T.getFontSize(D),we=D.textXCoordinate?D.textXCoordinate:Ne==="left"?1:Ne==="right"?me:me/2,ne=D.textYCoordinate?D.textYCoordinate:je==="top"?1:je==="center"?ze/2:ze,de=Ee+" "+ra+" "+se,k=U?Math.floor(U.scaledWidth/2):0,Q=U?Xe-U.scaledWidth:0,Ve=U?Math.floor(U.scaledHeight/2):0,Ce=U?De-U.scaledHeight:0,Le=function nr(){function Re(){try{Q>Xe&&(Q=Xe),Ce>De&&(Ce=De),0>k&&(k=0),0>Ve&&(Ve=0),C.filter=K,C.drawImage(Be,k,Ve,Q,Ce,0,0,me,ze),We()}catch(Ye){if(Ye.name!=="NS_ERROR_NOT_AVAILABLE")throw Ye;T.requestTimeout(Re,100)}}function We(){var Ye=void 0;he&&Ze.push(C.getImageData(0,0,me,ze)),fe&&C.drawImage(fe,Fe,$e,Oe,be),ke&&(C.font=de,C.fillStyle=re,C.textAlign=Ne,C.textBaseline=je,C.fillText(ke,we,ne)),Ye=C.getImageData(0,0,me,ze),ur.addFrameImageData(Ye),xr=Je,W((er-xr)/er),Je>0&&T.requestTimeout(nr,Pe),xr||ur.getBase64GIF(function(ir){R({error:!1,errorCode:"",errorMsg:"",image:ir,cameraStream:P,videoElement:Be,webcamVideoElement:ae,savedRenderingContexts:Ze,keepCameraOn:ye})})}var Je=xr-1;oe.length?(C.putImageData(oe[er-xr],0,0),We()):Re()};er=er!==u?er:10,xe=xe!==u?xe:.1,X.width=me,X.height=ze,C=X.getContext("2d"),function nr(){return oe.length||Be.currentTime!==0?(Le(),void 0):(T.requestTimeout(nr,100),void 0)}()},getCropDimensions:function(){var D=arguments.length>0&&arguments[0]!==u?arguments[0]:{},R=D.videoWidth,X=D.videoHeight,C=D.gifWidth,I=D.gifHeight,S={width:0,height:0,scaledWidth:0,scaledHeight:0};return R>X?(S.width=Math.round(R*(I/X))-C,S.scaledWidth=Math.round(S.width*(X/I))):(S.height=Math.round(X*(C/R))-I,S.scaledHeight=Math.round(S.height*(R/C))),S}},z={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function D(R){D.attempts=D.attempts||0;var X=R.cameraStream,C=R.completedCallback,I=R.videoElement;I&&(I.videoWidth>0&&I.videoHeight>0?(I.removeEventListener("loadeddata",z.findVideoSize),C({videoElement:I,cameraStream:X,videoWidth:I.videoWidth,videoHeight:I.videoHeight})):D.attempts<10?(D.attempts+=1,T.requestTimeout(function(){z.findVideoSize(R)},400)):C({videoElement:I,cameraStream:X,videoWidth:z.defaultVideoDimensions.width,videoHeight:z.defaultVideoDimensions.height}))},onStreamingTimeout:function(D){T.isFunction(D)&&D({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(D){var R=T.isArray(D.existingVideo)?D.existingVideo[0]:D.existingVideo,X=D.cameraStream,C=D.completedCallback,I=D.streamedCallback,S=D.videoElement;if(T.isFunction(I)&&I(),R){if(T.isString(R))S.src=R,S.innerHTML='<source src="'+R+'" type="video/'+T.getExtension(R)+'" />';else if(R instanceof Blob){try{S.src=T.URL.createObjectURL(R)}catch{}S.innerHTML='<source src="'+R+'" type="'+R.type+'" />'}}else if(S.mozSrcObject)S.mozSrcObject=X;else if(T.URL)try{S.srcObject=X,S.src=T.URL.createObjectURL(X)}catch{S.srcObject=X}S.play(),T.requestTimeout(function P(){P.count=P.count||0,z.loadedData===!0?(z.findVideoSize({videoElement:S,cameraStream:X,completedCallback:C}),z.loadedData=!1):(P.count+=1,P.count>10?z.findVideoSize({videoElement:S,cameraStream:X,completedCallback:C}):P())},0)},startStreaming:function(D){var R=T.isFunction(D.error)?D.error:T.noop,X=T.isFunction(D.streamed)?D.streamed:T.noop,C=T.isFunction(D.completed)?D.completed:T.noop,I=D.crossOrigin,S=D.existingVideo,P=D.lastCameraStream,U=D.options,K=D.webcamVideoElement,re=T.isElement(S)?S:K||s.createElement("video");I&&(re.crossOrigin=U.crossOrigin),re.autoplay=!0,re.loop=!0,re.muted=!0,re.addEventListener("loadeddata",function(){z.loadedData=!0,U.offset&&(re.currentTime=U.offset)}),S?z.stream({videoElement:re,existingVideo:S,completedCallback:C}):P?z.stream({videoElement:re,cameraStream:P,streamedCallback:X,completedCallback:C}):T.getUserMedia({video:!0},function(se){z.stream({videoElement:re,cameraStream:se,streamedCallback:X,completedCallback:C})},R)},startVideoStreaming:function(D){var R=arguments.length>1&&arguments[1]!==u?arguments[1]:{},X=R.timeout!==u?R.timeout:0,C=R.callback,I=R.webcamVideoElement,S=void 0;X>0&&(S=T.requestTimeout(function(){z.onStreamingTimeout(C)},1e4)),z.startStreaming({error:function(){C({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(S)},completed:function(){var P=arguments.length>0&&arguments[0]!==u?arguments[0]:{},U=P.cameraStream,K=P.videoElement,re=P.videoHeight,se=P.videoWidth;D({cameraStream:U,videoElement:K,videoHeight:re,videoWidth:se})},lastCameraStream:R.lastCameraStream,webcamVideoElement:I,crossOrigin:R.crossOrigin,options:R})},stopVideoStreaming:function(D){D=T.isObject(D)?D:{};var R=D,X=R.keepCameraOn,C=R.videoElement,I=R.webcamVideoElement,S=D.cameraStream||{},P=S.getTracks?S.getTracks()||[]:[],U=!!P.length,K=P[0];!X&&U&&T.isFunction(K.stop)&&K.stop(),T.isElement(C)&&!I&&(C.pause(),T.isFunction(T.URL.revokeObjectURL)&&!T.webWorkerError&&C.src&&T.URL.revokeObjectURL(C.src),T.removeElement(C))}},ee={utils:M,error:$,defaultOptions:J,createGIF:H,takeSnapShot:te,stopVideoStreaming:F,isSupported:d,isWebCamGIFSupported:A,isExistingVideoGIFSupported:p,isExistingImagesGIFSupported:b,VERSION:"0.4.5"};i.exports=ee})(typeof window<"u"?window:{},typeof document<"u"?document:{createElement:function(){}},typeof window<"u"?window.navigator:{}),function(n,s){i.exports=s(),i.exports.default=s()}(zo,function(){var n=`
var Module=void 0!==Module?Module:{};(function(){var d={print:function(A){A=Array.prototype.slice.call(arguments).join(" "),console.log(A)},printErr:function(A){A=Array.prototype.slice.call(arguments).join(" "),console.error(A)},canvas:{},noInitialRun:!0},A={};for(Sr in d)d.hasOwnProperty(Sr)&&(A[Sr]=d[Sr]);var i,f,e=!1,l=!1,o=!1,r=!1;if(d.ENVIRONMENT)if("WEB"===d.ENVIRONMENT)e=!0;else if("WORKER"===d.ENVIRONMENT)l=!0;else if("NODE"===d.ENVIRONMENT)o=!0;else{if("SHELL"!==d.ENVIRONMENT)throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");r=!0}else e="object"==typeof window,l="function"==typeof importScripts,o="object"==typeof process&&"function"==typeof require&&!e&&!l,r=!e&&!o&&!l;if(o)d.print||(d.print=console.log),d.printErr||(d.printErr=console.warn),d.read=function(A,e){var r;return(r=vr(A))||(i=i||require("fs"),A=(f=f||require("path")).normalize(A),r=i.readFileSync(A)),e?r:r.toString()},d.readBinary=function(A){var e=d.read(A,!0);return e.buffer||(e=new Uint8Array(e)),h(e.buffer),e},d.thisProgram||(1<process.argv.length?d.thisProgram=process.argv[1].replace(/\\\\/g,"/"):d.thisProgram="unknown-program"),d.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=d),process.on("uncaughtException",function(A){if(!(A instanceof Yr))throw A}),process.on("unhandledRejection",function(A,e){process.exit(1)}),d.inspect=function(){return"[Emscripten Module object]"};else if(r)d.print||(d.print=print),"undefined"!=typeof printErr&&(d.printErr=printErr),"undefined"!=typeof read?d.read=function(A){var e=vr(A);return e?kr(e):read(A)}:d.read=function(){throw"no read() available"},d.readBinary=function(A){var e;return(e=vr(A))?e:"function"==typeof readbuffer?new Uint8Array(readbuffer(A)):(h("object"==typeof(e=read(A,"binary"))),e)},"undefined"!=typeof scriptArgs?d.arguments=scriptArgs:void 0!==arguments&&(d.arguments=arguments),"function"==typeof quit&&(d.quit=function(A,e){quit(A)});else{if(!e&&!l)throw new Error("Unknown runtime environment. Where are we?");if(d.read=function(e){try{var A=new XMLHttpRequest;return A.open("GET",e,!1),A.send(null),A.responseText}catch(A){var r=vr(e);if(r)return kr(r);throw A}},l&&(d.readBinary=function(e){try{var A=new XMLHttpRequest;return A.open("GET",e,!1),A.responseType="arraybuffer",A.send(null),new Uint8Array(A.response)}catch(A){var r=vr(e);if(r)return r;throw A}}),d.readAsync=function(e,r,i){var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=function(){if(200==f.status||0==f.status&&f.response)r(f.response);else{var A=vr(e);A?r(A.buffer):i()}},f.onerror=i,f.send(null)},void 0!==arguments&&(d.arguments=arguments),"undefined"!=typeof console)d.print||(d.print=function(A){console.log(A)}),d.printErr||(d.printErr=function(A){console.warn(A)});else{d.print||(d.print=function(A){})}void 0===d.setWindowTitle&&(d.setWindowTitle=function(A){document.title=A})}for(Sr in d.print||(d.print=function(){}),d.printErr||(d.printErr=d.print),d.arguments||(d.arguments=[]),d.thisProgram||(d.thisProgram="./this.program"),d.quit||(d.quit=function(A,e){throw e}),d.print=d.print,d.printErr=d.printErr,d.preRun=[],d.postRun=[],A)A.hasOwnProperty(Sr)&&(d[Sr]=A[Sr]);A=void 0;var k={setTempRet0:function(A){return tempRet0=A},getTempRet0:function(){return tempRet0},stackSave:function(){return _},stackRestore:function(A){_=A},getNativeTypeSize:function(A){switch(A){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===A[A.length-1])return k.QUANTUM_SIZE;if("i"!==A[0])return 0;var e=parseInt(A.substr(1));return h(e%8==0),e/8}},getNativeFieldSize:function(A){return Math.max(k.getNativeTypeSize(A),k.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(A,e){return"double"===e||"i64"===e?7&A&&(h(4==(7&A)),A+=4):h(0==(3&A)),A},getAlignSize:function(A,e,r){return r||"i64"!=A&&"double"!=A?A?Math.min(e||(A?k.getNativeFieldSize(A):0),k.QUANTUM_SIZE):Math.min(e,8):8},dynCall:function(A,e,r){return r&&r.length?d["dynCall_"+A].apply(null,[e].concat(r)):d["dynCall_"+A].call(null,e)},functionPointers:[],addFunction:function(A){for(var e=0;e<k.functionPointers.length;e++)if(!k.functionPointers[e])return k.functionPointers[e]=A,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(A){k.functionPointers[(A-2)/2]=null},warnOnce:function(A){k.warnOnce.shown||(k.warnOnce.shown={}),k.warnOnce.shown[A]||(k.warnOnce.shown[A]=1,d.printErr(A))},funcWrappers:{},getFuncWrapper:function(e,r){if(e){h(r),k.funcWrappers[r]||(k.funcWrappers[r]={});var A=k.funcWrappers[r];return A[e]||(1===r.length?A[e]=function(){return k.dynCall(r,e)}:2===r.length?A[e]=function(A){return k.dynCall(r,e,[A])}:A[e]=function(){return k.dynCall(r,e,Array.prototype.slice.call(arguments))}),A[e]}},getCompilerSetting:function(A){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(A){var e=_;return _=(_=_+A|0)+15&-16,e},staticAlloc:function(A){var e=R;return R=(R=R+A|0)+15&-16,e},dynamicAlloc:function(A){var e=I[D>>2],r=-16&(e+A+15|0);if((I[D>>2]=r,H<=r)&&!z())return I[D>>2]=e,0;return e},alignMemory:function(A,e){return A=Math.ceil(A/(e||16))*(e||16)},makeBigInt:function(A,e,r){return r?+(A>>>0)+4294967296*(e>>>0):+(A>>>0)+4294967296*(0|e)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};d.Runtime=k;var n=0;function h(A,e){A||Mr("Assertion failed: "+e)}function w(A,e,r){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":B[A>>0]=e;break;case"i16":X[A>>1]=e;break;case"i32":I[A>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,1<=+iA(tempDouble)?0<tempDouble?(0|tA(+nA(tempDouble/4294967296),4294967295))>>>0:~~+fA((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],I[A>>2]=tempI64[0],I[A+4>>2]=tempI64[1];break;case"float":G[A>>2]=e;break;case"double":V[A>>3]=e;break;default:Mr("invalid type for setValue: "+r)}}var t=0,v=2,m=4;function a(A,e,r,i){var f,n;n="number"==typeof A?(f=!0,A):(f=!1,A.length);var t,o="string"==typeof e?e:null;if(t=r==m?i:["function"==typeof Gr?Gr:k.staticAlloc,k.stackAlloc,k.staticAlloc,k.dynamicAlloc][void 0===r?v:r](Math.max(n,o?1:e.length)),f){var a;for(h(0==(3&(i=t))),a=t+(-4&n);i<a;i+=4)I[i>>2]=0;for(a=t+n;i<a;)B[i++>>0]=0;return t}if("i8"===o)return A.subarray||A.slice?E.set(A,t):E.set(new Uint8Array(A),t),t;for(var c,l,u,b=0;b<n;){var s=A[b];"function"==typeof s&&(s=k.getFunctionIndex(s)),0!==(c=o||e[b])?("i64"==c&&(c="i32"),w(t+b,s,c),u!==c&&(l=k.getNativeTypeSize(c),u=c),b+=l):b++}return t}function g(A,e){if(0===e||!A)return"";for(var r,i=0,f=0;i|=r=E[A+f>>0],(0!=r||e)&&(f++,!e||f!=e););e=e||f;var n="";if(i<128){for(var t;0<e;)t=String.fromCharCode.apply(String,E.subarray(A,A+Math.min(e,1024))),n=n?n+t:t,A+=1024,e-=1024;return n}return c(E,A)}d.ALLOC_NORMAL=t,d.ALLOC_STACK=1,d.ALLOC_STATIC=v,d.ALLOC_DYNAMIC=3,d.ALLOC_NONE=m,d.getMemory=function(A){return N?AA?Gr(A):k.dynamicAlloc(A):k.staticAlloc(A)};var u="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function c(A,e){for(var r=e;A[r];)++r;if(16<r-e&&A.subarray&&u)return u.decode(A.subarray(e,r));for(var i,f,n,t,o,a="";;){if(!(i=A[e++]))return a;if(128&i)if(f=63&A[e++],192!=(224&i))if(n=63&A[e++],(i=224==(240&i)?(15&i)<<12|f<<6|n:(t=63&A[e++],240==(248&i)?(7&i)<<18|f<<12|n<<6|t:(o=63&A[e++],248==(252&i)?(3&i)<<24|f<<18|n<<12|t<<6|o:(1&i)<<30|f<<24|n<<18|t<<12|o<<6|63&A[e++])))<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}else a+=String.fromCharCode((31&i)<<6|f);else a+=String.fromCharCode(i)}}function b(A,e,r,i){if(!(0<i))return 0;for(var f=r,n=r+i-1,t=0;t<A.length;++t){var o=A.charCodeAt(t);if(55296<=o&&o<=57343&&(o=65536+((1023&o)<<10)|1023&A.charCodeAt(++t)),o<=127){if(n<=r)break;e[r++]=o}else if(o<=2047){if(n<=r+1)break;e[r++]=192|o>>6,e[r++]=128|63&o}else if(o<=65535){if(n<=r+2)break;e[r++]=224|o>>12,e[r++]=128|o>>6&63,e[r++]=128|63&o}else if(o<=2097151){if(n<=r+3)break;e[r++]=240|o>>18,e[r++]=128|o>>12&63,e[r++]=128|o>>6&63,e[r++]=128|63&o}else if(o<=67108863){if(n<=r+4)break;e[r++]=248|o>>24,e[r++]=128|o>>18&63,e[r++]=128|o>>12&63,e[r++]=128|o>>6&63,e[r++]=128|63&o}else{if(n<=r+5)break;e[r++]=252|o>>30,e[r++]=128|o>>24&63,e[r++]=128|o>>18&63,e[r++]=128|o>>12&63,e[r++]=128|o>>6&63,e[r++]=128|63&o}}return e[r]=0,r-f}function s(A,e,r){return b(A,E,e,r)}function Z(A){for(var e=0,r=0;r<A.length;++r){var i=A.charCodeAt(r);55296<=i&&i<=57343&&(i=65536+((1023&i)<<10)|1023&A.charCodeAt(++r)),i<=127?++e:e+=i<=2047?2:i<=65535?3:i<=2097151?4:i<=67108863?5:6}return e}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function p(){var A=function(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(A){e=A}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return d.extraStackTrace&&(A+="\\n"+d.extraStackTrace()),A.replace(/__Z[\\w\\d_]+/g,function(A){var e=A;return A===e?A:A+" ["+e+"]"})}var y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M=65536,T=16777216,U=16777216;function S(A,e){return 0<A%e&&(A+=e-A%e),A}function O(){d.HEAP8=B=new Int8Array(y),d.HEAP16=X=new Int16Array(y),d.HEAP32=I=new Int32Array(y),d.HEAPU8=E=new Uint8Array(y),d.HEAPU16=W=new Uint16Array(y),d.HEAPU32=C=new Uint32Array(y),d.HEAPF32=G=new Float32Array(y),d.HEAPF64=V=new Float64Array(y)}function z(){var A=d.usingWasm?M:T,e=2147483648-A;if(I[D>>2]>e)return!1;var r=H;for(H=Math.max(H,U);H<I[D>>2];)H=H<=536870912?S(2*H,A):Math.min(S((3*H+2147483648)/4,A),e);var i,f=d.reallocBuffer(H);return f&&f.byteLength==H?(i=f,d.buffer=y=i,O(),!0):(H=r,!1)}R=_=D=0,N=!1,d.reallocBuffer||(d.reallocBuffer=function(A){var e;try{if(ArrayBuffer.transfer)e=ArrayBuffer.transfer(y,A);else{var r=B;e=new ArrayBuffer(A),new Int8Array(e).set(r)}}catch(A){return!1}return!!Ir(e)&&e});try{(J=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get))(new ArrayBuffer(4))}catch(Or){J=function(A){return A.byteLength}}var j=d.TOTAL_STACK||5242880,H=d.TOTAL_MEMORY||16777216;if(H<j&&d.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+H+"! (TOTAL_STACK="+j+")"),y=d.buffer?d.buffer:new ArrayBuffer(H),O(),I[0]=1668509029,X[1]=25459,115!==E[2]||99!==E[3])throw"Runtime error: expected the system to be little-endian!";function x(A){for(;0<A.length;){var e=A.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?d.dynCall_v(r):d.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}d.HEAP=void 0,d.buffer=y,d.HEAP8=B,d.HEAP16=X,d.HEAP32=I,d.HEAPU8=E,d.HEAPU16=W,d.HEAPU32=C,d.HEAPF32=G,d.HEAPF64=V;var P=[],L=[],K=[],q=[],$=[],AA=!1;function eA(A,e){B.set(A,e)}function rA(A,e,r){for(var i=0;i<A.length;++i)B[e++>>0]=A.charCodeAt(i);r||(B[e>>0]=0)}Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(A,e){var r=65535&A,i=65535&e;return r*i+((A>>>16)*i+r*(e>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(A){A>>>=0;for(var e=0;e<32;e++)if(A&1<<31-e)return e;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(A){return A<0?Math.ceil(A):Math.floor(A)}),Math.trunc=Math.trunc;var iA=Math.abs,fA=(Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt,Math.ceil),nA=Math.floor,tA=(Math.pow,Math.imul,Math.fround,Math.round,Math.min),oA=(Math.clz32,Math.trunc,0),aA=null,cA=null;function lA(A){oA++,d.monitorRunDependencies&&d.monitorRunDependencies(oA)}function uA(A){if(oA--,d.monitorRunDependencies&&d.monitorRunDependencies(oA),0==oA&&(null!==aA&&(clearInterval(aA),aA=null),cA)){var e=cA;cA=null,e()}}d.addRunDependency=lA,d.removeRunDependency=uA,d.preloadedImages={},d.preloadedAudios={};var bA=null;F=k.GLOBAL_BASE,R=F+79664,L.push({func:function(){Zr()}},{func:function(){yr()}},{func:function(){Br()}},{func:function(){Er()}},{func:function(){pr()}},{func:function(){Xr()}});var sA=R;function dA(){return!!dA.uncaught_exception}R+=16;var kA={last:0,caught:[],infos:{},deAdjust:function(A){if(!A||kA.infos[A])return A;for(var e in kA.infos){if(kA.infos[e].adjusted===A)return e}return A},addRef:function(A){A&&kA.infos[A].refcount++},decRef:function(A){if(A){var e=kA.infos[A];h(0<e.refcount),e.refcount--,0!==e.refcount||e.rethrown||(e.destructor&&d.dynCall_vi(e.destructor,A),delete kA.infos[A],___cxa_free_exception(A))}},clearRef:function(A){A&&(kA.infos[A].refcount=0)}};var hA={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function wA(A){return d.___errno_location&&(I[d.___errno_location()>>2]=A),A}var vA={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},mA={splitPath:function(A){return/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/.exec(A).slice(1)},normalizeArray:function(A,e){for(var r=0,i=A.length-1;0<=i;i--){var f=A[i];"."===f?A.splice(i,1):".."===f?(A.splice(i,1),r++):r&&(A.splice(i,1),r--)}if(e)for(;r;r--)A.unshift("..");return A},normalize:function(A){var e="/"===A.charAt(0),r="/"===A.substr(-1);return(A=mA.normalizeArray(A.split("/").filter(function(A){return!!A}),!e).join("/"))||e||(A="."),A&&r&&(A+="/"),(e?"/":"")+A},dirname:function(A){var e=mA.splitPath(A),r=e[0],i=e[1];return r||i?r+(i=i&&i.substr(0,i.length-1)):"."},basename:function(A){if("/"===A)return"/";var e=A.lastIndexOf("/");return-1===e?A:A.substr(e+1)},extname:function(A){return mA.splitPath(A)[3]},join:function(){var A=Array.prototype.slice.call(arguments,0);return mA.normalize(A.join("/"))},join2:function(A,e){return mA.normalize(A+"/"+e)},resolve:function(){for(var A="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var i=0<=r?arguments[r]:EA.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";A=i+"/"+A,e="/"===i.charAt(0)}return(e?"/":"")+(A=mA.normalizeArray(A.split("/").filter(function(A){return!!A}),!e).join("/"))||"."},relative:function(A,e){function r(A){for(var e=0;e<A.length&&""===A[e];e++);for(var r=A.length-1;0<=r&&""===A[r];r--);return r<e?[]:A.slice(e,r-e+1)}A=mA.resolve(A).substr(1),e=mA.resolve(e).substr(1);for(var i=r(A.split("/")),f=r(e.split("/")),n=Math.min(i.length,f.length),t=n,o=0;o<n;o++)if(i[o]!==f[o]){t=o;break}var a=[];for(o=t;o<i.length;o++)a.push("..");return(a=a.concat(f.slice(t))).join("/")}},gA={ttys:[],init:function(){},shutdown:function(){},register:function(A,e){gA.ttys[A]={input:[],output:[],ops:e},EA.registerDevice(A,gA.stream_ops)},stream_ops:{open:function(A){var e=gA.ttys[A.node.rdev];if(!e)throw new EA.ErrnoError(hA.ENODEV);A.tty=e,A.seekable=!1},close:function(A){A.tty.ops.flush(A.tty)},flush:function(A){A.tty.ops.flush(A.tty)},read:function(A,e,r,i,f){if(!A.tty||!A.tty.ops.get_char)throw new EA.ErrnoError(hA.ENXIO);for(var n=0,t=0;t<i;t++){var o;try{o=A.tty.ops.get_char(A.tty)}catch(A){throw new EA.ErrnoError(hA.EIO)}if(void 0===o&&0===n)throw new EA.ErrnoError(hA.EAGAIN);if(null==o)break;n++,e[r+t]=o}return n&&(A.node.timestamp=Date.now()),n},write:function(A,e,r,i,f){if(!A.tty||!A.tty.ops.put_char)throw new EA.ErrnoError(hA.ENXIO);for(var n=0;n<i;n++)try{A.tty.ops.put_char(A.tty,e[r+n])}catch(A){throw new EA.ErrnoError(hA.EIO)}return i&&(A.node.timestamp=Date.now()),n}},default_tty_ops:{get_char:function(A){if(!A.input.length){var e=null;if(o){var r=new Buffer(256),i=0,f="win32"!=process.platform,n=process.stdin.fd;if(f){var t=!1;try{n=ur.openSync("/dev/stdin","r"),t=!0}catch(A){}}try{i=ur.readSync(n,r,0,256,null)}catch(A){if(-1==A.toString().indexOf("EOF"))throw A;i=0}t&&ur.closeSync(n),e=0<i?r.slice(0,i).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\\n");if(!e)return null;A.input=dr(e,!0)}return A.input.shift()},put_char:function(A,e){null===e||10===e?(d.print(c(A.output,0)),A.output=[]):0!=e&&A.output.push(e)},flush:function(A){A.output&&0<A.output.length&&(d.print(c(A.output,0)),A.output=[])}},default_tty1_ops:{put_char:function(A,e){null===e||10===e?(d.printErr(c(A.output,0)),A.output=[]):0!=e&&A.output.push(e)},flush:function(A){A.output&&0<A.output.length&&(d.printErr(c(A.output,0)),A.output=[])}}},ZA={ops_table:null,mount:function(A){return ZA.createNode(null,"/",16895,0)},createNode:function(A,e,r,i){if(EA.isBlkdev(r)||EA.isFIFO(r))throw new EA.ErrnoError(hA.EPERM);ZA.ops_table||(ZA.ops_table={dir:{node:{getattr:ZA.node_ops.getattr,setattr:ZA.node_ops.setattr,lookup:ZA.node_ops.lookup,mknod:ZA.node_ops.mknod,rename:ZA.node_ops.rename,unlink:ZA.node_ops.unlink,rmdir:ZA.node_ops.rmdir,readdir:ZA.node_ops.readdir,symlink:ZA.node_ops.symlink},stream:{llseek:ZA.stream_ops.llseek}},file:{node:{getattr:ZA.node_ops.getattr,setattr:ZA.node_ops.setattr},stream:{llseek:ZA.stream_ops.llseek,read:ZA.stream_ops.read,write:ZA.stream_ops.write,allocate:ZA.stream_ops.allocate,mmap:ZA.stream_ops.mmap,msync:ZA.stream_ops.msync}},link:{node:{getattr:ZA.node_ops.getattr,setattr:ZA.node_ops.setattr,readlink:ZA.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ZA.node_ops.getattr,setattr:ZA.node_ops.setattr},stream:EA.chrdev_stream_ops}});var f=EA.createNode(A,e,r,i);return EA.isDir(f.mode)?(f.node_ops=ZA.ops_table.dir.node,f.stream_ops=ZA.ops_table.dir.stream,f.contents={}):EA.isFile(f.mode)?(f.node_ops=ZA.ops_table.file.node,f.stream_ops=ZA.ops_table.file.stream,f.usedBytes=0,f.contents=null):EA.isLink(f.mode)?(f.node_ops=ZA.ops_table.link.node,f.stream_ops=ZA.ops_table.link.stream):EA.isChrdev(f.mode)&&(f.node_ops=ZA.ops_table.chrdev.node,f.stream_ops=ZA.ops_table.chrdev.stream),f.timestamp=Date.now(),A&&(A.contents[e]=f),f},getFileDataAsRegularArray:function(A){if(A.contents&&A.contents.subarray){for(var e=[],r=0;r<A.usedBytes;++r)e.push(A.contents[r]);return e}return A.contents},getFileDataAsTypedArray:function(A){return A.contents?A.contents.subarray?A.contents.subarray(0,A.usedBytes):new Uint8Array(A.contents):new Uint8Array},expandFileStorage:function(A,e){if(A.contents&&A.contents.subarray&&e>A.contents.length&&(A.contents=ZA.getFileDataAsRegularArray(A),A.usedBytes=A.contents.length),!A.contents||A.contents.subarray){var r=A.contents?A.contents.length:0;if(e<=r)return;e=Math.max(e,r*(r<1048576?2:1.125)|0),0!=r&&(e=Math.max(e,256));var i=A.contents;return A.contents=new Uint8Array(e),void(0<A.usedBytes&&A.contents.set(i.subarray(0,A.usedBytes),0))}for(!A.contents&&0<e&&(A.contents=[]);A.contents.length<e;)A.contents.push(0)},resizeFileStorage:function(A,e){if(A.usedBytes!=e){if(0==e)return A.contents=null,void(A.usedBytes=0);if(!A.contents||A.contents.subarray){var r=A.contents;return A.contents=new Uint8Array(new ArrayBuffer(e)),r&&A.contents.set(r.subarray(0,Math.min(e,A.usedBytes))),void(A.usedBytes=e)}if(A.contents||(A.contents=[]),A.contents.length>e)A.contents.length=e;else for(;A.contents.length<e;)A.contents.push(0);A.usedBytes=e}},node_ops:{getattr:function(A){var e={};return e.dev=EA.isChrdev(A.mode)?A.id:1,e.ino=A.id,e.mode=A.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=A.rdev,EA.isDir(A.mode)?e.size=4096:EA.isFile(A.mode)?e.size=A.usedBytes:EA.isLink(A.mode)?e.size=A.link.length:e.size=0,e.atime=new Date(A.timestamp),e.mtime=new Date(A.timestamp),e.ctime=new Date(A.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(A,e){void 0!==e.mode&&(A.mode=e.mode),void 0!==e.timestamp&&(A.timestamp=e.timestamp),void 0!==e.size&&ZA.resizeFileStorage(A,e.size)},lookup:function(A,e){throw EA.genericErrors[hA.ENOENT]},mknod:function(A,e,r,i){return ZA.createNode(A,e,r,i)},rename:function(A,e,r){if(EA.isDir(A.mode)){var i;try{i=EA.lookupNode(e,r)}catch(A){}if(i)for(var f in i.contents)throw new EA.ErrnoError(hA.ENOTEMPTY)}delete A.parent.contents[A.name],A.name=r,(e.contents[r]=A).parent=e},unlink:function(A,e){delete A.contents[e]},rmdir:function(A,e){var r=EA.lookupNode(A,e);for(var i in r.contents)throw new EA.ErrnoError(hA.ENOTEMPTY);delete A.contents[e]},readdir:function(A){var e=[".",".."];for(var r in A.contents)A.contents.hasOwnProperty(r)&&e.push(r);return e},symlink:function(A,e,r){var i=ZA.createNode(A,e,41471,0);return i.link=r,i},readlink:function(A){if(!EA.isLink(A.mode))throw new EA.ErrnoError(hA.EINVAL);return A.link}},stream_ops:{read:function(A,e,r,i,f){var n=A.node.contents;if(f>=A.node.usedBytes)return 0;var t=Math.min(A.node.usedBytes-f,i);if(h(0<=t),8<t&&n.subarray)e.set(n.subarray(f,f+t),r);else for(var o=0;o<t;o++)e[r+o]=n[f+o];return t},write:function(A,e,r,i,f,n){if(!i)return 0;var t=A.node;if(t.timestamp=Date.now(),e.subarray&&(!t.contents||t.contents.subarray)){if(n)return t.contents=e.subarray(r,r+i),t.usedBytes=i;if(0===t.usedBytes&&0===f)return t.contents=new Uint8Array(e.subarray(r,r+i)),t.usedBytes=i;if(f+i<=t.usedBytes)return t.contents.set(e.subarray(r,r+i),f),i}if(ZA.expandFileStorage(t,f+i),t.contents.subarray&&e.subarray)t.contents.set(e.subarray(r,r+i),f);else for(var o=0;o<i;o++)t.contents[f+o]=e[r+o];return t.usedBytes=Math.max(t.usedBytes,f+i),i},llseek:function(A,e,r){var i=e;if(1===r?i+=A.position:2===r&&EA.isFile(A.node.mode)&&(i+=A.node.usedBytes),i<0)throw new EA.ErrnoError(hA.EINVAL);return i},allocate:function(A,e,r){ZA.expandFileStorage(A.node,e+r),A.node.usedBytes=Math.max(A.node.usedBytes,e+r)},mmap:function(A,e,r,i,f,n,t){if(!EA.isFile(A.node.mode))throw new EA.ErrnoError(hA.ENODEV);var o,a,c=A.node.contents;if(2&t||c.buffer!==e&&c.buffer!==e.buffer){if((0<f||f+i<A.node.usedBytes)&&(c=c.subarray?c.subarray(f,f+i):Array.prototype.slice.call(c,f,f+i)),a=!0,!(o=Gr(i)))throw new EA.ErrnoError(hA.ENOMEM);e.set(c,o)}else a=!1,o=c.byteOffset;return{ptr:o,allocated:a}},msync:function(A,e,r,i,f){if(!EA.isFile(A.node.mode))throw new EA.ErrnoError(hA.ENODEV);if(2&f)return 0;ZA.stream_ops.write(A,e,0,i,r,!1);return 0}}},pA={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var A=null;return"object"==typeof window&&(A=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),h(A,"IDBFS used, but indexedDB not supported"),A},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(A){return ZA.mount.apply(null,arguments)},syncfs:function(e,n,t){pA.getLocalSet(e,function(A,f){if(A)return t(A);pA.getRemoteSet(e,function(A,e){if(A)return t(A);var r=n?e:f,i=n?f:e;pA.reconcile(r,i,t)})})},getDB:function(A,e){var r,i=pA.dbs[A];if(i)return e(null,i);try{r=pA.indexedDB().open(A,pA.DB_VERSION)}catch(A){return e(A)}if(!r)return e("Unable to connect to IndexedDB");r.onupgradeneeded=function(A){var e,r=A.target.result,i=A.target.transaction;(e=r.objectStoreNames.contains(pA.DB_STORE_NAME)?i.objectStore(pA.DB_STORE_NAME):r.createObjectStore(pA.DB_STORE_NAME)).indexNames.contains("timestamp")||e.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){i=r.result,pA.dbs[A]=i,e(null,i)},r.onerror=function(A){e(this.error),A.preventDefault()}},getLocalSet:function(A,e){var r={};function i(A){return"."!==A&&".."!==A}function f(e){return function(A){return mA.join2(e,A)}}for(var n=EA.readdir(A.mountpoint).filter(i).map(f(A.mountpoint));n.length;){var t,o=n.pop();try{t=EA.stat(o)}catch(A){return e(A)}EA.isDir(t.mode)&&n.push.apply(n,EA.readdir(o).filter(i).map(f(o))),r[o]={timestamp:t.mtime}}return e(null,{type:"local",entries:r})},getRemoteSet:function(A,i){var f={};pA.getDB(A.mountpoint,function(A,r){if(A)return i(A);try{var e=r.transaction([pA.DB_STORE_NAME],"readonly");e.onerror=function(A){i(this.error),A.preventDefault()},e.objectStore(pA.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(A){var e=A.target.result;if(!e)return i(null,{type:"remote",db:r,entries:f});f[e.primaryKey]={timestamp:e.key},e.continue()}}catch(A){return i(A)}})},loadLocalEntry:function(A,e){var r,i;try{i=EA.lookupPath(A).node,r=EA.stat(A)}catch(A){return e(A)}return EA.isDir(r.mode)?e(null,{timestamp:r.mtime,mode:r.mode}):EA.isFile(r.mode)?(i.contents=ZA.getFileDataAsTypedArray(i),e(null,{timestamp:r.mtime,mode:r.mode,contents:i.contents})):e(new Error("node type not supported"))},storeLocalEntry:function(A,e,r){try{if(EA.isDir(e.mode))EA.mkdir(A,e.mode);else{if(!EA.isFile(e.mode))return r(new Error("node type not supported"));EA.writeFile(A,e.contents,{encoding:"binary",canOwn:!0})}EA.chmod(A,e.mode),EA.utime(A,e.timestamp,e.timestamp)}catch(A){return r(A)}r(null)},removeLocalEntry:function(A,e){try{EA.lookupPath(A);var r=EA.stat(A);EA.isDir(r.mode)?EA.rmdir(A):EA.isFile(r.mode)&&EA.unlink(A)}catch(A){return e(A)}e(null)},loadRemoteEntry:function(A,e,r){var i=A.get(e);i.onsuccess=function(A){r(null,A.target.result)},i.onerror=function(A){r(this.error),A.preventDefault()}},storeRemoteEntry:function(A,e,r,i){var f=A.put(r,e);f.onsuccess=function(){i(null)},f.onerror=function(A){i(this.error),A.preventDefault()}},removeRemoteEntry:function(A,e,r){var i=A.delete(e);i.onsuccess=function(){r(null)},i.onerror=function(A){r(this.error),A.preventDefault()}},reconcile:function(i,f,e){var n=0,t=[];Object.keys(i.entries).forEach(function(A){var e=i.entries[A],r=f.entries[A];(!r||e.timestamp>r.timestamp)&&(t.push(A),n++)});var r=[];if(Object.keys(f.entries).forEach(function(A){f.entries[A];i.entries[A]||(r.push(A),n++)}),!n)return e(null);var o=0,A=("remote"===i.type?i.db:f.db).transaction([pA.DB_STORE_NAME],"readwrite"),a=A.objectStore(pA.DB_STORE_NAME);function c(A){return A?c.errored?void 0:(c.errored=!0,e(A)):++o>=n?e(null):void 0}A.onerror=function(A){c(this.error),A.preventDefault()},t.sort().forEach(function(r){"local"===f.type?pA.loadRemoteEntry(a,r,function(A,e){if(A)return c(A);pA.storeLocalEntry(r,e,c)}):pA.loadLocalEntry(r,function(A,e){if(A)return c(A);pA.storeRemoteEntry(a,r,e,c)})}),r.sort().reverse().forEach(function(A){"local"===f.type?pA.removeLocalEntry(A,c):pA.removeRemoteEntry(a,A,c)})}},yA={isWindows:!(bA="data:application/octet-stream;base64,AAAAAAAAAAAEAAAAAAAAABgKAAAhAAAAIgAAAPz////8////GAoAACMAAAAkAAAAAAAAAAAAAACYRAAAzEgAAMBEAADiSAAAQAAAAAAAAACYRAAAdUoAAMBEAADtSQAA2AkAAAAAAADARAAAL0oAABgKAAAAAAAAwEQAANNKAABYAAAAAAAAAMBEAAA4SwAAgAAAAAAAAADARAAAplsAAIAAAAAAAAAAQAAAAAAAAADoCQAAFwAAABgAAADA////wP///+gJAAAZAAAAGgAAAEAAAAAAAAAASAoAABsAAAAcAAAAOAAAAPj///9ICgAAHQAAAB4AAADA////wP///0gKAAAfAAAAIAAAAAAAAAA4AAAAAAAAABgKAAAhAAAAIgAAAMj////I////GAoAACMAAAAkAAAAwEQAAHNLAABICgAAAAAAAMBEAAAsTAAAOA8AAAAAAADARAAAhkwAAIAAAAAAAAAAwEQAAJdMAAA4DwAAAAAAAMBEAABbTgAAgAAAAAAAAADARAAA6kwAAKABAAAAAAAAmEQAAAVNAADARAAAHE0AADgPAAAAAAAAwEQAAMBNAACgAQAAAAAAAMBEAADcTQAAOA8AAAAAAADARAAAbE4AADgPAAAAAAAAwEQAALtOAACAAAAAAAAAAMBEAADLTgAAOA8AAAAAAADARAAADk8AAIAAAAAAAAAAwEQAAB9PAAA4DwAAAAAAAMBEAABjTwAAgAAAAAAAAADARAAAdE8AADgPAAAAAAAAwEQAAONPAACAAAAAAAAAAMBEAAD0TwAAOA8AAAAAAADARAAAT1AAAIAAAAAAAAAAwEQAAGBQAAA4DwAAAAAAAMBEAABfUQAAgAAAAAAAAADARAAAcFEAADgPAAAAAAAAwEQAAGFTAACAAAAAAAAAAMBEAAByUwAAOA8AAAAAAADARAAA41MAAIAAAAAAAAAAwEQAAPRTAAA4DwAAAAAAAMBEAABcVAAAgAAAAAAAAADARAAAbVQAADgPAAAAAAAAwEQAANVUAACAAAAAAAAAAMBEAADmVAAAOA8AAAAAAADARAAARVUAAIAAAAAAAAAAwEQAAFZVAAA4DwAAAAAAAMBEAAC0VQAAgAAAAAAAAADARAAAxVUAADgPAAAAAAAAwEQAACZWAACAAAAAAAAAAMBEAAA3VgAAOA8AAAAAAADARAAAtVYAAIAAAAAAAAAAwEQAAMZWAAA4DwAAAAAAAMBEAAAKVwAAgAAAAAAAAADARAAAG1cAADgPAAAAAAAAwEQAAF9XAACAAAAAAAAAAMBEAABwVwAAOA8AAAAAAADARAAAOFgAAIAAAAAAAAAAwEQAAElYAAA4DwAAAAAAAMBEAACNWAAAgAAAAAAAAADARAAAnlgAADgPAAAAAAAAwEQAAMRZAACAAAAAAAAAAMBEAADVWQAAOA8AAAAAAADARAAALVoAAIAAAAAAAAAAwEQAAD5aAAA4DwAAAAAAAMBEAACmWgAAgAAAAAAAAADARAAAt1oAADgPAAAAAAAAwEQAAPtaAAA4DwAAAAAAAMBEAAA/WwAAOA8AAAAAAADARAAAYGMAADgPAAAAAAAAwEQAAN9kAAA4DwAAAAAAAEhFAACfcwAASEUAAIpzAABIRQAAcHMAAEhFAABicwAASEUAAFBzAABIRQAAQXMAAJhEAAAycwAALEUAACJzAAAAAAAA+AQAACxFAAARcwAAAQAAAPgEAACYRAAA/XIAACxFAADocgAAAAAAACAFAAAsRQAA0nIAAAEAAAAgBQAAmEQAAMVyAAAsRQAAt3IAAAAAAABIBQAALEUAAKhyAAABAAAASAUAAJhEAACbcgAAmEQAALFzAABkRQAAlXQAAAAAAAABAAAAmAUAAAAAAACYRAAA1HQAAMBEAAD6dAAAOA8AAAAAAADARAAAFnYAADgPAAAAAAAAmEQAABh6AABkRQAAyXkAAAAAAAACAAAAwAUAAAIAAAD4BQAAAggAAMBEAAB/eQAAOA8AAAAAAACYRAAA93kAAMBEAAAsegAAOA8AAAAAAADARAAAdn0AADgPAAAAAAAAwEQAACN+AAAwBgAAAAAAAJhEAAA4fgAAwEQAAFp+AAAwBgAAAAAAAMBEAABxfgAAMAYAAAAAAADARAAAiH4AADAGAAAAAAAAwEQAAKR+AAAwBgAAAAAAAMBEAAC8fgAAMAYAAAAAAADARAAA2H4AADAGAAAAAAAAwEQAAPZ+AAAwBgAAAAAAAMBEAAAMfwAAMAYAAAAAAADARAAAIn8AADAGAAAAAAAAwEQAAI1/AAAwBgAAAAAAAMBEAACrfwAAMAYAAAAAAADARAAAwX8AADAGAAAAAAAAwEQAANR/AAAwBgAAAAAAAMBEAADnfwAAMAYAAAAAAADARAAABYAAADAGAAAAAAAAwEQAAB+AAAA4DwAAAAAAAMBEAABwgAAAOA8AAAAAAADARAAAtoAAADgPAAAAAAAAwEQAAPyAAAA4DwAAAAAAAMBEAABFgQAAMAYAAAAAAADARAAAWoEAADgPAAAAAAAAwEQAAKKBAAAwBgAAAAAAAMBEAAC3gQAAOA8AAAAAAADARAAA/4EAADgPAAAAAAAAwEQAAFCCAAA4DwAAAAAAAMBEAACaggAAOA8AAAAAAADARAAA6YIAADgPAAAAAAAAwEQAADqDAAA4DwAAAAAAAMBEAACDgwAAOA8AAAAAAADARAAAzIMAADgPAAAAAAAAwEQAABeEAAA4DwAAAAAAAMBEAABmhAAAOA8AAAAAAADARAAAs4QAADgPAAAAAAAAwEQAAP2EAAA4DwAAAAAAAMBEAABHhQAAMAYAAAAAAADARAAAXIUAADgPAAAAAAAAwEQAAKSFAAAwBgAAAAAAAMBEAAC5hQAAOA8AAAAAAADARAAAAYYAADgPAAAAAAAAwEQAAEeHAAC4CAAAAAAAAGRFAABZhwAAAAAAAAEAAADQCAAAAgQAAJhEAABohwAAwEQAAIyYAADoCAAAAAAAAJhEAACemAAAwEQAANWaAADoCAAAAAAAAMBEAAD8mgAA6AgAAAAAAADARAAAhLwAAOgIAAAAAAAAZEUAANvDAAAAAAAAAQAAAJgFAAAAAAAAZEUAAJzDAAAAAAAAAQAAAJgFAAAAAAAAmEQAAH3DAACYRAAAXsMAAJhEAAA/wwAAmEQAACDDAACYRAAAAcMAAJhEAADiwgAAmEQAAMPCAACYRAAApMIAAJhEAACFwgAAmEQAAGbCAACYRAAAR8IAAJhEAAAowgAAwEQAACjPAADACQAAAAAAAJhEAAAWzwAAwEQAAFLPAADACQAAAAAAAJhEAAB8zwAAmEQAAK3PAABkRQAA3s8AAAAAAAABAAAAsAkAAAP0//9kRQAADdAAAAAAAAABAAAAyAkAAAP0//9kRQAAPNAAAAAAAAABAAAAsAkAAAP0//9kRQAAa9AAAAAAAAABAAAAyAkAAAP0//9kRQAAmtAAAAMAAAACAAAA6AkAAAIAAAAYCgAAAggAAAwAAAAAAAAA6AkAABcAAAAYAAAA9P////T////oCQAAGQAAABoAAADARAAAytAAAOAJAAAAAAAAwEQAAOPQAADYCQAAAAAAAMBEAAAi0QAA4AkAAAAAAADARAAAOtEAANgJAAAAAAAAwEQAAFLRAADgCgAAAAAAAMBEAABm0QAAMA8AAAAAAADARAAAfNEAAOAKAAAAAAAAZEUAALbRAAAAAAAAAgAAAOAKAAACAAAAIAsAAAAAAABkRQAA+tEAAAAAAAABAAAAOAsAAAAAAACYRAAAENIAAGRFAAAp0gAAAAAAAAIAAADgCgAAAgAAAGALAAAAAAAAZEUAAG3SAAAAAAAAAQAAADgLAAAAAAAAZEUAAJbSAAAAAAAAAgAAAOAKAAACAAAAmAsAAAAAAABkRQAA2tIAAAAAAAABAAAAsAsAAAAAAACYRAAA8NIAAGRFAAAJ0wAAAAAAAAIAAADgCgAAAgAAANgLAAAAAAAAZEUAAE3TAAAAAAAAAQAAALALAAAAAAAAZEUAAKPUAAAAAAAAAwAAAOAKAAACAAAAGAwAAAIAAAAgDAAAAAgAAJhEAAAK1QAAmEQAAOjUAABkRQAAHdUAAAAAAAADAAAA4AoAAAIAAAAYDAAAAgAAAFAMAAAACAAAmEQAAGLVAABkRQAAhNUAAAAAAAACAAAA4AoAAAIAAAB4DAAAAAgAAJhEAADJ1QAAZEUAAN7VAAAAAAAAAgAAAOAKAAACAAAAeAwAAAAIAABkRQAAI9YAAAAAAAACAAAA4AoAAAIAAADADAAAAgAAAJhEAAA/1gAAZEUAAFTWAAAAAAAAAgAAAOAKAAACAAAAwAwAAAIAAABkRQAAcNYAAAAAAAACAAAA4AoAAAIAAADADAAAAgAAAGRFAACM1gAAAAAAAAIAAADgCgAAAgAAAMAMAAACAAAAZEUAALfWAAAAAAAAAgAAAOAKAAACAAAASA0AAAAAAACYRAAA/dYAAGRFAAAh1wAAAAAAAAIAAADgCgAAAgAAAHANAAAAAAAAmEQAAGfXAABkRQAAhtcAAAAAAAACAAAA4AoAAAIAAACYDQAAAAAAAJhEAADM1wAAZEUAAOXXAAAAAAAAAgAAAOAKAAACAAAAwA0AAAAAAACYRAAAK9gAAGRFAABE2AAAAAAAAAIAAADgCgAAAgAAAOgNAAACAAAAmEQAAFnYAABkRQAA8NgAAAAAAAACAAAA4AoAAAIAAADoDQAAAgAAAMBEAABx2AAAIA4AAAAAAABkRQAAlNgAAAAAAAACAAAA4AoAAAIAAABADgAAAgAAAJhEAAC32AAAwEQAAM7YAAAgDgAAAAAAAGRFAAAF2QAAAAAAAAIAAADgCgAAAgAAAEAOAAACAAAAZEUAACfZAAAAAAAAAgAAAOAKAAACAAAAQA4AAAIAAABkRQAASdkAAAAAAAACAAAA4AoAAAIAAABADgAAAgAAAMBEAABs2QAA4AoAAAAAAABkRQAAgtkAAAAAAAACAAAA4AoAAAIAAADoDgAAAgAAAJhEAACU2QAAZEUAAKnZAAAAAAAAAgAAAOAKAAACAAAA6A4AAAIAAADARAAAxtkAAOAKAAAAAAAAwEQAANvZAADgCgAAAAAAAJhEAADw2QAAZEUAAAnaAAAAAAAAAQAAADAPAAAAAAAAwEQAADTaAABgDwAAAAAAAJhEAADc2gAAwEQAADzbAAB4DwAAAAAAAMBEAADp2gAAiA8AAAAAAACYRAAACtsAAMBEAAAX2wAAaA8AAAAAAADARAAAHtwAAGAPAAAAAAAAwEQAAC7cAACgDwAAAAAAAMBEAABj3AAAeA8AAAAAAADARAAAP9wAAMAPAAAAAAAAwEQAAIXcAAB4DwAAAAAAABBFAACt3AAAEEUAAK/cAAAQRQAAstwAABBFAAC03AAAEEUAALbcAAAQRQAAuNwAABBFAAC63AAAEEUAALzcAAAQRQAAvtwAABBFAADA3AAAEEUAAJTSAAAQRQAAwtwAABBFAADE3AAAEEUAAMbcAADARAAAyNwAAHgPAAAAAAAAwEQAAOncAABoDwAAAAAAAAAAAABIAAAAAQAAAAIAAAABAAAAAQAAAAIAAAADAAAAAAAAAFgAAAADAAAABAAAAAEAAADQEAAAJAEAADgBAADkEAAAOAAAAAAAAABwAAAABQAAAAYAAADI////yP///3AAAAAHAAAACAAAAAAAAABgAAAACQAAAAoAAAABAAAABAAAAAEAAAABAAAAAgAAAAMAAAAFAAAABAAAAAUAAAABAAAABgAAAAIAAAAAAAAAgAAAAAsAAAAMAAAAAgAAAAMAAAANAAAABAAAAAAAAACQAAAADgAAAA8AAAAFAAAABgAAAA0AAAAHAAAAAAAAAKAAAAALAAAAEAAAAAgAAAADAAAADQAAAAkAAABAAAAAAAAAAEABAAARAAAAEgAAADgAAAD4////QAEAABMAAAAUAAAAwP///8D///9AAQAAFQAAABYAAACYEQAA5AAAALwAAADQAAAAJAEAADgBAAAMAQAA+AAAAMARAACsEQAAAAAAAJgEAAAlAAAAJgAAACcAAAADAAAAKAAAAAAAAACIBAAAKQAAACoAAAArAAAAAwAAACwAAAAAAAAAeAQAAC0AAAAuAAAALwAAAAMAAAAwAAAAAAAAAGgEAAAxAAAAMgAAAAoAAAALAAAADQAAAAwAAAAAAAAAWAQAADMAAAA0AAAANQAAAAMAAAA2AAAAAAAAAEgEAAALAAAANwAAAA0AAAAOAAAAOAAAAA8AAAAAAAAAOAQAADkAAAA6AAAAOwAAAAMAAAA8AAAAAAAAACgEAAA9AAAAPgAAABAAAAARAAAAPwAAABIAAAAAAAAAGAQAAEAAAABBAAAAQgAAAAMAAABDAAAAAAAAAAgEAAALAAAARAAAABMAAAAUAAAARQAAABUAAAAAAAAA+AMAAEYAAABHAAAASAAAAAMAAABJAAAAAAAAAOgDAABKAAAASwAAABYAAAAXAAAATAAAABgAAAAAAAAA2AMAAE0AAABOAAAATwAAAAMAAABQAAAAAAAAAMgDAAALAAAAUQAAABkAAAADAAAADQAAABoAAAAAAAAAuAMAAFIAAABTAAAAVAAAAAMAAABVAAAAAAAAAKgDAAALAAAAVgAAABsAAAADAAAADQAAABwAAAAAAAAAmAMAAFcAAABYAAAAWQAAAAMAAABaAAAAAAAAAIgDAABbAAAAXAAAAB0AAAAeAAAAXQAAAB8AAAAAAAAAeAMAAF4AAABfAAAAYAAAAAMAAABhAAAAAAAAAGgDAAALAAAAYgAAACAAAAAhAAAADQAAACIAAAAAAAAAWAMAAGMAAABkAAAAZQAAAAMAAABmAAAAAAAAAEgDAABnAAAAaAAAACMAAAAkAAAADQAAACUAAAAAAAAAOAMAAGkAAABqAAAAawAAAAMAAABsAAAAAAAAACgDAAALAAAAbQAAACYAAAADAAAADQAAACcAAAAAAAAAGAMAAG4AAABvAAAAcAAAAAMAAABxAAAAAAAAAAgDAAALAAAAcgAAACgAAAADAAAADQAAACkAAAAAAAAA+AIAAHMAAAB0AAAAdQAAAAMAAAB2AAAAAAAAAOgCAAALAAAAdwAAACoAAAArAAAADQAAACwAAAAAAAAA2AIAAHgAAAB5AAAAegAAAAMAAAB7AAAAAAAAAMgCAAB8AAAAfQAAAC0AAAAuAAAAfgAAAC8AAAAAAAAAuAIAAH8AAACAAAAAgQAAAAMAAACCAAAAAAAAAKgCAACDAAAAhAAAADAAAAAxAAAADQAAADIAAAAAAAAAmAIAAIUAAACGAAAAhwAAAAMAAACIAAAAAAAAAIgCAACJAAAAigAAADMAAAA0AAAADQAAADUAAAAAAAAAeAIAAIsAAACMAAAAjQAAAAMAAACOAAAAAAAAAGgCAACPAAAAkAAAADYAAAA3AAAADQAAADgAAAAAAAAAWAIAAJEAAACSAAAAkwAAAAMAAACUAAAAAAAAAEgCAACVAAAAlgAAADkAAAADAAAADQAAADoAAAAAAAAAOAIAAJcAAACYAAAAmQAAAAMAAACaAAAAAAAAACgCAAALAAAAmwAAADsAAAADAAAADQAAADwAAAAAAAAAGAIAAJwAAACdAAAAngAAAAMAAACfAAAAAAAAAAgCAAALAAAAoAAAAD0AAAADAAAADQAAAD4AAAAAAAAA+AEAAKEAAACiAAAAowAAAAMAAACkAAAAAAAAAOgBAAClAAAApgAAAD8AAAADAAAADQAAAEAAAAAAAAAA2AEAAKcAAACoAAAAqQAAAAMAAACqAAAAAAAAAIABAACrAAAArAAAAEEAAABCAAAADQAAAEMAAAAAAAAAcAEAAK0AAACuAAAArwAAAAMAAACwAAAAAAAAAGABAACxAAAAsgAAAEQAAABFAAAADQAAAEYAAAAAAAAAUAEAALMAAAC0AAAAtQAAAAMAAAC2AAAAAAAAAMgBAAC3AAAAuAAAALkAAAADAAAAugAAAAAAAAC4AQAAuwAAALwAAAAGAAAARwAAAEgAAAAAAAAAqAEAAL0AAAC+AAAAvwAAAAMAAADAAAAAAAAAAJABAADBAAAAwgAAAAcAAABJAAAASgAAAKNdAAAAAAAAqAQAAMMAAADEAAAAxQAAAAMAAADGAAAAAAAAALgEAADHAAAAyAAAAMkAAAADAAAAygAAAAMAAAAEAAAABQAAAAYAAACABQAAOBAAAAAFAADwDwAAAAUAAHAFAAAABQAAgAUAADAQAAAABQAAeAUAAAAFAAB4BQAAAAUAADgQAAB4BQAAKAUAAOgEAADgBAAA8A8AADgFAAAAAAAAoAUAAMsAAADMAAAAzQAAAAMAAADOAAAAAAAAALAFAADPAAAA0AAAANEAAAADAAAA0gAAAAAAAAAABgAA0wAAANQAAADVAAAAAwAAANYAAAAAAAAA6AUAANcAAADYAAAA2QAAAAMAAADaAAAAAAAAABAGAADbAAAA3AAAAN0AAAADAAAA3gAAAAAAAADIBQAA3wAAAOAAAAAAAAAAIAYAAOEAAADiAAAAAQAAAAIAAAAAAAAAOAYAAOEAAADjAAAAAwAAAAQAAAAAAAAASAYAAOEAAADkAAAABQAAAAYAAAAAAAAAWAYAAOEAAADlAAAABwAAAAgAAAAAAAAAaAYAAOEAAADmAAAACQAAAAoAAAAAAAAAeAYAAOEAAADnAAAACwAAAAwAAAAAAAAAiAYAAOEAAADoAAAADQAAAA4AAAAAAAAAmAYAAOEAAADpAAAADwAAABAAAAAAAAAAqAYAAOEAAADqAAAAEQAAABIAAAAAAAAAuAYAAOEAAADrAAAAEwAAABQAAAAAAAAAyAYAAOEAAADsAAAAFQAAABYAAAAAAAAA2AYAAOEAAADtAAAAFwAAABgAAAAAAAAA6AYAAOEAAADuAAAAGQAAABoAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAAAAAPgGAADhAAAA7wAAABsAAAAcAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAAAAAAIBwAA4QAAAPAAAAAdAAAAHgAAAAAAAAAYBwAA4QAAAPEAAAAfAAAAIAAAAAAAAACYCAAA8gAAAPMAAAD0AAAAAwAAAPUAAAAAAAAAiAgAAPYAAAD3AAAA+AAAAAMAAAD5AAAAAAAAAHgIAADhAAAA+gAAACEAAAAiAAAAAAAAAGgIAAD7AAAA/AAAAP0AAAADAAAA/gAAAAAAAABYCAAA4QAAAP8AAAAjAAAAJAAAAAAAAABICAAAAAEAAAEBAAACAQAAAwAAAAMBAAAAAAAAOAgAAAQBAAAFAQAABgEAAAMAAAAHAQAAAAAAACgIAAAIAQAACQEAAAoBAAADAAAACwEAAAAAAAAYCAAADAEAAA0BAAAOAQAAAwAAAA8BAAAAAAAACAgAABABAAARAQAAEgEAAAMAAAATAQAAAAAAAPgHAAAUAQAAFQEAABYBAAADAAAAFwEAAAAAAADoBwAAGAEAABkBAAAaAQAAAwAAABsBAAAAAAAA2AcAABwBAAAdAQAAHgEAAAMAAAAfAQAAAAAAAMgHAAAgAQAAIQEAACIBAAADAAAAIwEAAAAAAAC4BwAAJAEAACUBAAAmAQAAAwAAACcBAAAAAAAAqAcAACgBAAApAQAAKgEAAAMAAAArAQAAAAAAAJgHAAAsAQAALQEAAC4BAAADAAAALwEAAAAAAACIBwAA4QAAADABAAAlAAAAJgAAAAAAAAB4BwAAMQEAADIBAAAzAQAAAwAAADQBAAAAAAAAaAcAAOEAAAA1AQAAJwAAACgAAAAAAAAAWAcAADYBAAA3AQAAOAEAAAMAAAA5AQAAAAAAAEgHAAA6AQAAOwEAADwBAAADAAAAPQEAAAAAAAA4BwAAPgEAAD8BAABAAQAAAwAAAEEBAAAAAAAAKAcAAEIBAABDAQAARAEAAAMAAABFAQAAAQAAAAEAAAABAAAAAgAAAAgAAAACAAAARgEAAAIAAABLAAAAAAAAAAAAAABbhgAAAAAAAAEAAAACAAAABAAAALsLAACKhgAABwAAAIEAAAArNwEABgAAAAAAAABjhgAABwAAAGQAAAArNwEAAAAAAKgIAABHAQAASAEAAAQAAAAFAAAAAAAAALgIAABJAQAASgEAAAMAAAADAAAAAQAAAEwAAAAAAAAA2AgAAEsBAABMAQAATQEAAAMAAAA57wAAiwQBAJMEAQCzBAEAMwUBADMHAQAAAAAAOe8AAOP5AADr+QAAC/oAAIv6AACL/AAAAAAAADnvAAA77wAAQ+8AAGPvAADj7wAA4/EAAAAAAAAAAAAAAAAAADMPAQBTDwEA0w8BANMRAQAAAAAAAAAAANMZAQDzGQEAcxoBAHMcAQAAAAAAAAAAAHMkAQCTJAEAEyUBABMnAQAAAAAA8AgAAEsBAABOAQAATwEAAAQAAAAAAAAAGgAAAAoAAAABAAAAAAAAAAAJAABLAQAAUAEAAFEBAAAFAAAA/////wIAAAACAAAAAQAAAP////8CAAAAAQAAAAEAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACEAAAAiAAAAIgAAACMAAAAjAAAAJAAAACQAAAAlAAAAKAAAAC0AAAAzAAAAOQAAAEAAAABIAAAAxQAAALkAAADJAAAAxQAAALkAAADJAAAAbgAAAJoAAAB6AAAAiQAAAIsAAACNAAAAnQAAAGsAAACLAAAAfgAAAGsAAACLAAAAfgAAAD8AAACYAAAAmAAAAG8AAACNAAAAmQAAAG8AAABbAAAAqwAAAIYAAACNAAAAeQAAAIwAAAA9AAAAmgAAAHkAAACMAAAAPQAAAJoAAABvAAAAbwAAAH0AAABuAAAAbgAAAF4AAAB8AAAAbAAAAHwAAABrAAAAfQAAAI0AAACzAAAAmQAAAH0AAABrAAAAfQAAAI0AAACzAAAAmQAAAH0AAABrAAAAfQAAAI0AAACzAAAAmQAAAH0AAACMAAAAiwAAALYAAAC2AAAAmAAAAIgAAACYAAAAiAAAAJkAAACIAAAAiwAAAG8AAACIAAAAiwAAAG8AAACbAAAAmgAAAIsAAACZAAAAiwAAAHsAAAB7AAAAPwAAAJkAAACmAAAAtwAAAIwAAACIAAAAmQAAAJoAAACmAAAAtwAAAIwAAACIAAAAmQAAAJoAAACmAAAAtwAAAIwAAACIAAAAmQAAAJoAAACqAAAAmQAAAHsAAAB7AAAAawAAAHkAAABrAAAAeQAAAKcAAACXAAAAtwAAAIwAAACXAAAAtwAAAIwAAACqAAAAmgAAAIsAAACZAAAAiwAAAHsAAAB7AAAAPwAAAHwAAACmAAAAtwAAAIwAAACIAAAAmQAAAJoAAACmAAAAtwAAAIwAAACIAAAAmQAAAJoAAACmAAAAtwAAAIwAAACIAAAAmQAAAJoAAACqAAAAmQAAAIoAAACKAAAAegAAAHkAAAB6AAAAeQAAAKcAAACXAAAAtwAAAIwAAACXAAAAtwAAAIwAAACNAAAAbwAAAIwAAACMAAAAjAAAAIwAAACKAAAAmQAAAIgAAACnAAAAmAAAAJgAAABrAAAApwAAAFsAAAB6AAAAawAAAKcAAABrAAAApwAAAFsAAABrAAAAawAAAKcAAACZAAAAmQAAAJkAAADIAAAAuQAAAKAAAACaAAAAmgAAAJoAAACMAAAAXAAAAIkAAACKAAAAjAAAAJgAAACKAAAAiwAAAJkAAABKAAAAlQAAAFwAAACLAAAAawAAAHoAAACYAAAAjAAAALMAAACmAAAAtgAAAIwAAADjAAAAegAAAMUAAACaAAAAxAAAAMQAAACnAAAAmgAAAJgAAACnAAAAtgAAALYAAACGAAAAlQAAAIgAAACZAAAAeQAAAIgAAACJAAAAqQAAAMIAAACmAAAApwAAAJoAAACnAAAAiQAAALYAAACaAAAAxAAAAKcAAACnAAAAmgAAAJgAAACnAAAAtgAAALYAAACGAAAAlQAAAIgAAACZAAAAeQAAAIgAAAB6AAAAqQAAANAAAACmAAAApwAAAJoAAACYAAAApwAAALYAAABuAAAAbgAAAHwAAAB9AAAAjAAAAJkAAAB9AAAAfwAAAIwAAABtAAAAbwAAAI8AAAB/AAAAbwAAAE8AAABsAAAAewAAAD8AAAB9AAAAbgAAAF4AAABuAAAAXwAAAE8AAAB9AAAAbwAAAG4AAABOAAAAbgAAAG8AAABvAAAAXwAAAF4AAABsAAAAewAAAGwAAAB9AAAAbgAAAHwAAABuAAAAXwAAAF4AAAB9AAAAbwAAAG8AAABPAAAAfQAAAH4AAABvAAAAbwAAAE8AAABsAAAAewAAAF0AAACZAAAAigAAAIoAAAB8AAAAigAAAF4AAADgAAAApwAAAHoAAABeAAAAigAAALYAAACaAAAAlQAAAGsAAACnAAAAmgAAAJUAAABcAAAApwAAAJoAAAC4AAAAmgAAALcAAAC4AAAAmgAAAIsAAACaAAAAmgAAAJoAAACLAAAAmgAAAJoAAACMAAAAxgAAAKkAAADGAAAAlQAAAIYAAAAAAAAAEAkAAEsBAABSAQAAUwEAAAYAAAAAAAAAAAAAACAAAAAaAAAAFQAAABEAAAANAAAACQAAAAUAAAACAAAAAAAAAP7////7////9/////P////v////6////+b////g////5v///+v////v////8/////f////7/////v///wAAAAACAAAABQAAAAkAAAANAAAAEQAAABUAAAAaAAAAIAAAAADw//+a+f//cvz//4r9//8e/v//ev7//8X+//8A////xf7//3r+//8e/v//iv3//3L8//+a+f//APD//wAAAAADAAAAAwAAAAIAAAAAAAAAAwAAAAQAAAAEAAAAAAAAAAEAAAAAAAAAAgAAAAEAAAACAAAAAAAAAAMAAAABAAAAAwAAAAIAAAADAAAAAQAAAAAAAAACAAAAAAAAAAIAAAABAAAAAwAAAAAAAAADAAAAAQAAAAMAAAACAAAAAgAAwAMAAMAEAADABQAAwAYAAMAHAADACAAAwAkAAMAKAADACwAAwAwAAMANAADADgAAwA8AAMAQAADAEQAAwBIAAMATAADAFAAAwBUAAMAWAADAFwAAwBgAAMAZAADAGgAAwBsAAMAcAADAHQAAwB4AAMAfAADAAAAAswEAAMMCAADDAwAAwwQAAMMFAADDBgAAwwcAAMMIAADDCQAAwwoAAMMLAADDDAAAww0AANMOAADDDwAAwwAADLsBAAzDAgAMwwMADMMEAAzTkCcAABQAAABDLlVURi04AAAAAAAAAAAAAAAAAN4SBJUAAAAA////////////////dCcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwCcAAAUAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAIAAAAGy8BAAAEAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAr/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPjiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwCcAADgpAAAJAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAACAAAACMzAQAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuCkAAAUAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAKzcBAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzEYAALgsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACQAAAAlAAAAJgAAACcAAAAoAAAAKQAAACoAAAArAAAALAAAAC0AAAAuAAAALwAAADAAAAAxAAAAMgAAADMAAAA0AAAANQAAADYAAAA3AAAAOAAAADkAAAA6AAAAOwAAADwAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAABDAAAARAAAAEUAAABGAAAARwAAAEgAAABJAAAASgAAAEsAAABMAAAATQAAAE4AAABPAAAAUAAAAFEAAABSAAAAUwAAAFQAAABVAAAAVgAAAFcAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAABeAAAAXwAAAGAAAABBAAAAQgAAAEMAAABEAAAARQAAAEYAAABHAAAASAAAAEkAAABKAAAASwAAAEwAAABNAAAATgAAAE8AAABQAAAAUQAAAFIAAABTAAAAVAAAAFUAAABWAAAAVwAAAFgAAABZAAAAWgAAAHsAAAB8AAAAfQAAAH4AAAB/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8MgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAACYAAAAnAAAAKAAAACkAAAAqAAAAKwAAACwAAAAtAAAALgAAAC8AAAAwAAAAMQAAADIAAAAzAAAANAAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAADsAAAA8AAAAPQAAAD4AAAA/AAAAQAAAAGEAAABiAAAAYwAAAGQAAABlAAAAZgAAAGcAAABoAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAAHkAAAB6AAAAWwAAAFwAAABdAAAAXgAAAF8AAABgAAAAYQAAAGIAAABjAAAAZAAAAGUAAABmAAAAZwAAAGgAAABpAAAAagAAAGsAAABsAAAAbQAAAG4AAABvAAAAcAAAAHEAAAByAAAAcwAAAHQAAAB1AAAAdgAAAHcAAAB4AAAAeQAAAHoAAAB7AAAAfAAAAH0AAAB+AAAAfwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAGQAAADoAwAAECcAAKCGAQBAQg8AgJaYAADh9QVfcIkA/wkvDwAAAADACQAAVAEAAFUBAAAAAAAA2AkAAFYBAABXAQAAAQAAAAQAAAACAAAAAwAAAAIAAAADAAAABQAAAAoAAAAFAAAABgAAAAYAAAAHAAAAAAAAAOAJAABYAQAAWQEAAAcAAAAMAAAAAwAAAAQAAAALAAAADAAAAA0AAAANAAAADgAAAAgAAAAOAAAACQAAAAgAAAAAAAAA6AkAABcAAAAYAAAA+P////j////oCQAAGQAAABoAAACANwAAlDcAAAgAAAAAAAAAAAoAAFoBAABbAQAA+P////j///8ACgAAXAEAAF0BAACwNwAAxDcAABwAAAAwAAAABAAAAAAAAAAwCgAAXgEAAF8BAAD8/////P///zAKAABgAQAAYQEAAOg3AAD8NwAADAAAAAAAAABICgAAGwAAABwAAAAEAAAA+P///0gKAAAdAAAAHgAAAPT////0////SAoAAB8AAAAgAAAAGDgAAHQKAACICgAAHAAAADAAAABAOAAALDgAAAAAAACQCgAAYgEAAGMBAAAIAAAADAAAAAMAAAAEAAAADwAAAAwAAAANAAAADQAAAA4AAAAIAAAADwAAAAoAAAAAAAAAoAoAAGQBAABlAQAACQAAAAQAAAACAAAAAwAAABAAAAADAAAABQAAAAoAAAAFAAAABgAAABAAAAALAAAAAAAAALAKAABmAQAAZwEAAAoAAAAMAAAAAwAAAAQAAAALAAAADAAAAA0AAAARAAAAEgAAAAwAAAAOAAAACQAAAAAAAADACgAAaAEAAGkBAAALAAAABAAAAAIAAAADAAAAAgAAAAMAAAAFAAAAEwAAABQAAAANAAAABgAAAAcAAAAAAAAA0AoAAGoBAABrAQAAbAEAAAEAAAAFAAAAEQAAAAAAAADwCgAAbQEAAG4BAABsAQAAAgAAAAYAAAASAAAAAAAAAAALAABvAQAAcAEAAGwBAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAAAAABACwAAcQEAAHIBAABsAQAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAAAAAAeAsAAHMBAAB0AQAAbAEAAAMAAAAEAAAAFwAAAAUAAAAYAAAAAQAAAAIAAAAGAAAAAAAAALgLAAB1AQAAdgEAAGwBAAAHAAAACAAAABkAAAAJAAAAGgAAAAMAAAAEAAAACgAAAAAAAADwCwAAdwEAAHgBAABsAQAAFQAAABsAAAAcAAAAHQAAAB4AAAAfAAAAAQAAAPj////wCwAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAAAAAAAoDAAAeQEAAHoBAABsAQAAHQAAACAAAAAhAAAAIgAAACMAAAAkAAAAAgAAAPj///8oDAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAABIAAAAOgAAACUAAABNAAAAOgAAACUAAABTAAAAAAAAACUAAABtAAAALwAAACUAAABkAAAALwAAACUAAAB5AAAAAAAAACUAAABJAAAAOgAAACUAAABNAAAAOgAAACUAAABTAAAAIAAAACUAAABwAAAAAAAAACUAAABhAAAAIAAAACUAAABiAAAAIAAAACUAAABkAAAAIAAAACUAAABIAAAAOgAAACUAAABNAAAAOgAAACUAAABTAAAAIAAAACUAAABZAAAAAAAAAEEAAABNAAAAAAAAAFAAAABNAAAAAAAAAEoAAABhAAAAbgAAAHUAAABhAAAAcgAAAHkAAAAAAAAARgAAAGUAAABiAAAAcgAAAHUAAABhAAAAcgAAAHkAAAAAAAAATQAAAGEAAAByAAAAYwAAAGgAAAAAAAAAQQAAAHAAAAByAAAAaQAAAGwAAAAAAAAATQAAAGEAAAB5AAAAAAAAAEoAAAB1AAAAbgAAAGUAAAAAAAAASgAAAHUAAABsAAAAeQAAAAAAAABBAAAAdQAAAGcAAAB1AAAAcwAAAHQAAAAAAAAAUwAAAGUAAABwAAAAdAAAAGUAAABtAAAAYgAAAGUAAAByAAAAAAAAAE8AAABjAAAAdAAAAG8AAABiAAAAZQAAAHIAAAAAAAAATgAAAG8AAAB2AAAAZQAAAG0AAABiAAAAZQAAAHIAAAAAAAAARAAAAGUAAABjAAAAZQAAAG0AAABiAAAAZQAAAHIAAAAAAAAASgAAAGEAAABuAAAAAAAAAEYAAABlAAAAYgAAAAAAAABNAAAAYQAAAHIAAAAAAAAAQQAAAHAAAAByAAAAAAAAAEoAAAB1AAAAbgAAAAAAAABKAAAAdQAAAGwAAAAAAAAAQQAAAHUAAABnAAAAAAAAAFMAAABlAAAAcAAAAAAAAABPAAAAYwAAAHQAAAAAAAAATgAAAG8AAAB2AAAAAAAAAEQAAABlAAAAYwAAAAAAAABTAAAAdQAAAG4AAABkAAAAYQAAAHkAAAAAAAAATQAAAG8AAABuAAAAZAAAAGEAAAB5AAAAAAAAAFQAAAB1AAAAZQAAAHMAAABkAAAAYQAAAHkAAAAAAAAAVwAAAGUAAABkAAAAbgAAAGUAAABzAAAAZAAAAGEAAAB5AAAAAAAAAFQAAABoAAAAdQAAAHIAAABzAAAAZAAAAGEAAAB5AAAAAAAAAEYAAAByAAAAaQAAAGQAAABhAAAAeQAAAAAAAABTAAAAYQAAAHQAAAB1AAAAcgAAAGQAAABhAAAAeQAAAAAAAABTAAAAdQAAAG4AAAAAAAAATQAAAG8AAABuAAAAAAAAAFQAAAB1AAAAZQAAAAAAAABXAAAAZQAAAGQAAAAAAAAAVAAAAGgAAAB1AAAAAAAAAEYAAAByAAAAaQAAAAAAAABTAAAAYQAAAHQAAAAAAAAAJQAAAG0AAAAvAAAAJQAAAGQAAAAvAAAAJQAAAHkAAAAlAAAAWQAAAC0AAAAlAAAAbQAAAC0AAAAlAAAAZAAAACUAAABJAAAAOgAAACUAAABNAAAAOgAAACUAAABTAAAAIAAAACUAAABwAAAAJQAAAEgAAAA6AAAAJQAAAE0AAAAlAAAASAAAADoAAAAlAAAATQAAADoAAAAlAAAAUwAAACUAAABIAAAAOgAAACUAAABNAAAAOgAAACUAAABTAAAAAAAAAFgMAAB7AQAAfAEAAGwBAAABAAAAAAAAAIAMAAB9AQAAfgEAAGwBAAACAAAAAAAAAKAMAAB/AQAAgAEAAGwBAAAlAAAAJgAAAAwAAAANAAAADgAAAA8AAAAnAAAAEAAAABEAAAAAAAAAyAwAAIEBAACCAQAAbAEAACgAAAApAAAAEgAAABMAAAAUAAAAFQAAACoAAAAWAAAAFwAAAAAAAADoDAAAgwEAAIQBAABsAQAAKwAAACwAAAAYAAAAGQAAABoAAAAbAAAALQAAABwAAAAdAAAAAAAAAAgNAACFAQAAhgEAAGwBAAAuAAAALwAAAB4AAAAfAAAAIAAAACEAAAAwAAAAIgAAACMAAAAAAAAAKA0AAIcBAACIAQAAbAEAAAMAAAAEAAAAAAAAAFANAACJAQAAigEAAGwBAAAFAAAABgAAAAAAAAB4DQAAiwEAAIwBAABsAQAAAQAAACUAAAAAAAAAoA0AAI0BAACOAQAAbAEAAAIAAAAmAAAAAAAAAMgNAACPAQAAkAEAAGwBAAATAAAABAAAACQAAAAAAAAA8A0AAJEBAACSAQAAbAEAABQAAAAFAAAAJQAAAAAAAABIDgAAkwEAAJQBAABsAQAAAwAAAAQAAAALAAAAMQAAADIAAAAMAAAAMwAAAAAAAAAQDgAAkwEAAJUBAABsAQAAAwAAAAQAAAALAAAAMQAAADIAAAAMAAAAMwAAAAAAAAB4DgAAlgEAAJcBAABsAQAABQAAAAYAAAANAAAANAAAADUAAAAOAAAANgAAAAAAAAC4DgAAmAEAAJkBAABsAQAAAAAAAMgOAACaAQAAmwEAAGwBAAAOAAAAFQAAAA8AAAAWAAAAEAAAAAIAAAAXAAAADwAAAAAAAAAQDwAAnAEAAJ0BAABsAQAANwAAADgAAAAmAAAAJwAAACgAAAAAAAAAIA8AAJ4BAACfAQAAbAEAADkAAAA6AAAAKQAAACoAAAArAAAAZgAAAGEAAABsAAAAcwAAAGUAAAAAAAAAdAAAAHIAAAB1AAAAZQAAAAAAAAAAAAAA4AoAAJMBAACgAQAAbAEAAAAAAADwDgAAkwEAAKEBAABsAQAAGAAAAAMAAAAEAAAABQAAABEAAAAZAAAAEgAAABoAAAATAAAABgAAABsAAAAQAAAAAAAAAFgOAACTAQAAogEAAGwBAAAHAAAACAAAABEAAAA7AAAAPAAAABIAAAA9AAAAAAAAAJgOAACTAQAAowEAAGwBAAAJAAAACgAAABMAAAA+AAAAPwAAABQAAABAAAAAAAAAACAOAACTAQAApAEAAGwBAAADAAAABAAAAAsAAAAxAAAAMgAAAAwAAAAzAAAAAAAAACAMAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAAAAAAFAMAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAAAAAAFAPAAClAQAApgEAAEEAAAAEAAAAAAAAAGgPAACnAQAAqAEAAKkBAACqAQAAHAAAAAYAAAApAAAABwAAAAAAAACQDwAApwEAAKsBAACpAQAAqgEAABwAAAAHAAAAKgAAAAgAAAAAAAAAoA8AAKwBAACtAQAAQgAAAAAAAACwDwAArAEAAK4BAABCAAAAAAAAAOAPAACnAQAArwEAAKkBAACqAQAAHQAAAAAAAADQDwAApwEAALABAACpAQAAqgEAAB4AAAAAAAAAYBAAAKcBAACxAQAAqQEAAKoBAAAfAAAAAAAAAHAQAACnAQAAsgEAAKkBAACqAQAAHAAAAAgAAAArAAAACQAAAAAAAAABAAEADAALAAoACwAQAAsAKAAhABgACwAUAAsAIAALAFAAIQASAAsADwALAEAAIQCgAGMABAADAAMAAgACAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAIAAgACAAIAAgACAAIAAgADIAIgAiACIAIgAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAWAEwATABMAEwATABMAEwATABMAEwATABMAEwATABMAI2AjYCNgI2AjYCNgI2AjYCNgI2ATABMAEwATABMAEwATACNUI1QjVCNUI1QjVCMUIxQjFCMUIxQjFCMUIxQjFCMUIxQjFCMUIxQjFCMUIxQjFCMUIxQTABMAEwATABMAEwAjWCNYI1gjWCNYI1gjGCMYIxgjGCMYIxgjGCMYIxgjGCMYIxgjGCMYIxgjGCMYIxgjGCMYEwATABMAEwAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE40aGVpZjEyU3RyZWFtUmVhZGVyRQBONGhlaWYxOVN0cmVhbVJlYWRlcl9tZW1vcnlFAHByZXBhcmVfcmVhZABuIDw9IG1fcmVtYWluaW5nAHNraXBfd2l0aG91dF9hZHZhbmNpbmdfZmlsZV9wb3MAKnZhbHVlID4gMAB2YWx1ZSA8PSAweEZGAHZhbHVlIDw9IDB4RkZGRgB2YWx1ZSA8PSAweEZGRkZGRkZGAG1fcG9zaXRpb24gPT0gbV9kYXRhLnNpemUoKQBza2lwAG5CeXRlcyA+PSAwAGluc2VydAB8IABCb3g6IAAgLS0tLS0KAHNpemU6IAAgICAoaGVhZGVyIHNpemU6IAApCgB2ZXJzaW9uOiAAZmxhZ3M6IABOU3QzX18yMTViYXNpY19zdHJpbmdidWZJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRQBOU3QzX18yMTliYXNpY19vc3RyaW5nc3RyZWFtSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUATjRoZWlmOUJveEhlYWRlckUAbV91dWlkX3R5cGUuc2l6ZSgpID09IDE2AGJveC5jYwBwcmVwZW5kX2hlYWRlcgAobV9mbGFncyAmIH4weDAwRkZGRkZGKSA9PSAwAE40aGVpZjNCb3hFAGZ0eXAgYm94IHRvbyBzbWFsbCAobGVzcyB0aGFuIDggYnl0ZXMpAG1ham9yIGJyYW5kOiAAbWlub3IgdmVyc2lvbjogAGNvbXBhdGlibGUgYnJhbmRzOiAATjRoZWlmOEJveF9mdHlwRQBNYXhpbXVtIG51bWJlciBvZiBjaGlsZCBib3hlcyAAIGV4Y2VlZGVkLgBOU3QzX18yMThiYXNpY19zdHJpbmdzdHJlYW1JY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRQBCb3ggc2l6ZSAoACBieXRlcykgc21hbGxlciB0aGFuIGhlYWRlciBzaXplICgAIGJ5dGVzKQBTZWN1cml0eSBsaW1pdCBmb3IgbWF4aW11bSBuZXN0aW5nIG9mIGJveGVzIGhhcyBiZWVuIGV4Y2VlZGVkAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjNCb3hFTlNfOWFsbG9jYXRvcklTMl9FRUVFAHdyaXRlAGJpdHNfcGVyX2NoYW5uZWw6IAAsAE40aGVpZjhCb3hfcGl4aUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9waXhpRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBwcm9maWxlIHNpemU6IABONGhlaWYxN2NvbG9yX3Byb2ZpbGVfcmF3RQBONGhlaWYxM2NvbG9yX3Byb2ZpbGVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjE3Y29sb3JfcHJvZmlsZV9yYXdFTlNfOWFsbG9jYXRvcklTMl9FRUVFAGNvbG91cl9wcmltYXJpZXM6IAB0cmFuc2Zlcl9jaGFyYWN0ZXJpc3RpY3M6IABtYXRyaXhfY29lZmZpY2llbnRzOiAAZnVsbF9yYW5nZV9mbGFnOiAATjRoZWlmMThjb2xvcl9wcm9maWxlX25jbHhFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjE4Y29sb3JfcHJvZmlsZV9uY2x4RU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBtX2NvbG9yX3Byb2ZpbGUAY29sb3VyX3R5cGU6IABubyBjb2xvciBwcm9maWxlCgBONGhlaWY4Qm94X2NvbHJFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfY29sckVOU185YWxsb2NhdG9ySVMyX0VFRUUAbG9jYXRpb246IABONGhlaWY3Qm94X3VybEUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmN0JveF91cmxFTlNfOWFsbG9jYXRvcklTMl9FRUVFAE40aGVpZjhCb3hfZHJlZkUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9kcmVmRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBONGhlaWY4Qm94X2RpbmZFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfZGluZkVOU185YWxsb2NhdG9ySVMyX0VFRUUAZ3JvdXAgdHlwZTogAHwgZ3JvdXAgaWQ6IAB8IGVudGl0eSBJRHM6IAAgAE40aGVpZjhCb3hfZ3JwbEUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9ncnBsRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBudW1iZXIgb2YgZGF0YSBieXRlczogAE40aGVpZjhCb3hfaWRhdEUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9pZGF0RU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBzZXFfcHJvZmlsZTogAHNlcV9sZXZlbF9pZHhfMDogAGhpZ2hfYml0ZGVwdGg6IAB0d2VsdmVfYml0OiAAY2hyb21hX3N1YnNhbXBsaW5nX3g6IABjaHJvbWFfc3Vic2FtcGxpbmdfeTogAGNocm9tYV9zYW1wbGVfcG9zaXRpb246IABpbml0aWFsX3ByZXNlbnRhdGlvbl9kZWxheTogAG5vdCBwcmVzZW50CgBjb25maWcgT0JVczoATjRoZWlmOEJveF9hdjFDRQBOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlONGhlaWY4Qm94X2F2MUNFTlNfOWFsbG9jYXRvcklTMl9FRUVFAGNvbmZpZ3VyYXRpb25fdmVyc2lvbjogAGdlbmVyYWxfcHJvZmlsZV9zcGFjZTogAGdlbmVyYWxfdGllcl9mbGFnOiAAZ2VuZXJhbF9wcm9maWxlX2lkYzogAGdlbmVyYWxfcHJvZmlsZV9jb21wYXRpYmlsaXR5X2ZsYWdzOiAAZ2VuZXJhbF9jb25zdHJhaW50X2luZGljYXRvcl9mbGFnczogAGdlbmVyYWxfbGV2ZWxfaWRjOiAAbWluX3NwYXRpYWxfc2VnbWVudGF0aW9uX2lkYzogAHBhcmFsbGVsaXNtX3R5cGU6IABjaHJvbWFfZm9ybWF0OiAAYml0X2RlcHRoX2x1bWE6IABiaXRfZGVwdGhfY2hyb21hOiAAYXZnX2ZyYW1lX3JhdGU6IABjb25zdGFudF9mcmFtZV9yYXRlOiAAbnVtX3RlbXBvcmFsX2xheWVyczogAHRlbXBvcmFsX2lkX25lc3RlZDogAGxlbmd0aF9zaXplOiAAPGFycmF5PgoAYXJyYXlfY29tcGxldGVuZXNzOiAATkFMX3VuaXRfdHlwZTogAE40aGVpZjhCb3hfaHZjQ0UATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9odmNDRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQByZWZlcmVuY2Ugd2l0aCB0eXBlICcAJwAgZnJvbSBJRDogACB0byBJRHM6IABONGhlaWY4Qm94X2lyZWZFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfaXJlZkVOU185YWxsb2NhdG9ySVMyX0VFRUUAY2xlYW5fYXBlcnR1cmU6IAAvACB4IABvZmZzZXQ6IAAgOyAATjRoZWlmOEJveF9jbGFwRQBOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlONGhlaWY4Qm94X2NsYXBFTlNfOWFsbG9jYXRvcklTMl9FRUVFAG1pcnJvciBheGlzOiAAdmVydGljYWwKAGhvcml6b250YWwKAE40aGVpZjhCb3hfaW1pckUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9pbWlyRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQByb3RhdGlvbjogACBkZWdyZWVzIChDQ1cpCgBONGhlaWY4Qm94X2lyb3RFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfaXJvdEVOU185YWxsb2NhdG9ySVMyX0VFRUUAYXV4IHR5cGU6IABhdXggc3VidHlwZXM6IABONGhlaWY4Qm94X2F1eENFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfYXV4Q0VOU185YWxsb2NhdG9ySVMyX0VFRUUAaW1hZ2Ugd2lkdGg6IABpbWFnZSBoZWlnaHQ6IABONGhlaWY4Qm94X2lzcGVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfaXNwZUVOU185YWxsb2NhdG9ySVMyX0VFRUUAYXNzb2NpYXRpb25zIGZvciBpdGVtIElEOiAAcHJvcGVydHkgaW5kZXg6IAAgKGVzc2VudGlhbDogAE40aGVpZjhCb3hfaXBtYUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9pcG1hRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBONGhlaWY4Qm94X2lwY29FAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfaXBjb0VOU185YWxsb2NhdG9ySVMyX0VFRUUATjRoZWlmOEJveF9pcHJwRQBOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlONGhlaWY4Qm94X2lwcnBFTlNfOWFsbG9jYXRvcklTMl9FRUVFAG1pbWUAdXJpIABpdGVtX0lEOiAAaXRlbV9wcm90ZWN0aW9uX2luZGV4OiAAaXRlbV90eXBlOiAAaXRlbV9uYW1lOiAAY29udGVudF90eXBlOiAAY29udGVudF9lbmNvZGluZzogAGl0ZW0gdXJpIHR5cGU6IABoaWRkZW4gaXRlbTogAE40aGVpZjhCb3hfaW5mZUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9pbmZlRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBONGhlaWY4Qm94X2lpbmZFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfaWluZkVOU185YWxsb2NhdG9ySVMyX0VFRUUAaWxvYyBib3ggY29udGFpbnMgACBpdGVtcywgd2hpY2ggZXhjZWVkcyB0aGUgc2VjdXJpdHkgbGltaXQgb2YgACBpdGVtcy4ATnVtYmVyIG9mIGV4dGVudHMgaW4gaWxvYyBib3ggKAApIGV4Y2VlZHMgc2VjdXJpdHkgbGltaXQgKABpdGVtIElEOiAAICBjb25zdHJ1Y3Rpb24gbWV0aG9kOiAAICBkYXRhX3JlZmVyZW5jZV9pbmRleDogACAgYmFzZV9vZmZzZXQ6IAAgIGV4dGVudHM6IAA7aW5kZXg9AE40aGVpZjhCb3hfaWxvY0UATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9pbG9jRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBtX2l0ZW1fSUQgPD0gMHhGRkZGAE40aGVpZjhCb3hfcGl0bUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9waXRtRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBwcmVfZGVmaW5lZDogAGhhbmRsZXJfdHlwZTogAG5hbWU6IABONGhlaWY4Qm94X2hkbHJFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjhCb3hfaGRsckVOU185YWxsb2NhdG9ySVMyX0VFRUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEJveF9tZXRhRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlONGhlaWY4Qm94X2Z0eXBFTlNfOWFsbG9jYXRvcklTMl9FRUVFAEJveCBzaXplIAAgZXhjZWVkcyBzZWN1cml0eSBsaW1pdC4ATjRoZWlmOEJveF9tZXRhRQBpbG9jIGJveCBjb250YWluZWQgACBieXRlcywgdG90YWwgbWVtb3J5IHNpemUgd291bGQgYmUgACBieXRlcywgZXhjZWVkaW5nIHRoZSBzZWN1cml0eSBsaW1pdCBvZiAAIGJ5dGVzAGlsb2MgZGF0YSBwb2ludGVycyBvdXQgb2YgYWxsb3dlZCByYW5nZQBFeHRlbnQgaW4gaWxvYyBib3ggcmVmZXJlbmNlcyBkYXRhIG91dHNpZGUgb2YgZmlsZSBib3VuZHMgAChwb2ludHMgdG8gZmlsZSBwb3NpdGlvbiAAc3VjY2VzcwByZWFkX2RhdGEAaWRhdCBib3ggcmVmZXJlbmNlZCBpbiBpcmVmIGJveCBpcyBub3QgcHJlc2VudCBpbiBmaWxlAEl0ZW0gY29uc3RydWN0aW9uIG1ldGhvZCAAIG5vdCBpbXBsZW1lbnRlZABpZGF0IGJveCBjb250YWluZWQgAEl0ZW0gKElEPQApIGhhcyBubyBwcm9wZXJ0aWVzIGFzc2lnbmVkIHRvIGl0IGluIGlwbWEgYm94AE5vbmV4aXN0aW5nIHByb3BlcnR5IChpbmRleD0AKSBmb3IgaXRlbSAAIElEPQAgcmVmZXJlbmNlZCBpbiBpcG1hIGJveABVbmtub3duIGVycm9yAGVycm9yLmNjAGdldF9lcnJvcl9zdHJpbmcAQ29sb3IgcHJvZmlsZSBkb2VzIG5vdCBleGlzdABFcnJvciBkdXJpbmcgZW5jb2Rpbmcgb3Igd3JpdGluZyBvdXRwdXQgZmlsZQBFbmNvZGVyIHBsdWdpbiBnZW5lcmF0ZWQgYW4gZXJyb3IARGVjb2RlciBwbHVnaW4gZ2VuZXJhdGVkIGFuIGVycm9yAE1lbW9yeSBhbGxvY2F0aW9uIGVycm9yAFVzYWdlIGVycm9yAFVuc3VwcG9ydGVkIGZlYXR1cmUAVW5zdXBwb3J0ZWQgZmlsZS10eXBlAEludmFsaWQgaW5wdXQASW5wdXQgZmlsZSBkb2VzIG5vdCBleGlzdABDYW5ub3Qgd3JpdGUgb3V0cHV0IGRhdGEAVW5zdXBwb3J0ZWQgYml0IGRlcHRoAFVuc3VwcG9ydGVkIGl0ZW0gY29uc3RydWN0aW9uIG1ldGhvZABVbnN1cHBvcnRlZCBjb2xvciBjb252ZXJzaW9uAFVuc3VwcG9ydGVkIGRhdGEgdmVyc2lvbgBVbnN1cHBvcnRlZCBpbWFnZSB0eXBlAFVuc3VwcG9ydGVkIGNvZGVjAEludmFsaWQgcGFyYW1ldGVyIHZhbHVlAFVuc3VwcG9ydGVkIHBhcmFtZXRlcgBUaGUgdmVyc2lvbiBvZiB0aGUgcGFzc2VkIHdyaXRlciBpcyBub3Qgc3VwcG9ydGVkAFRoZSB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQgcGx1Z2luIGlzIG5vdCBzdXBwb3J0ZWQATm9uLWV4aXN0aW5nIGltYWdlIGNoYW5uZWwgcmVmZXJlbmNlZABOVUxMIGFyZ3VtZW50IHJlY2VpdmVkAE5vbi1leGlzdGluZyBpdGVtIElEIHJlZmVyZW5jZWQAU2VjdXJpdHkgbGltaXQgZXhjZWVkZWQASW52YWxpZCBwaXhpIGJveABJbnZhbGlkIGltYWdlIHNpemUASW52YWxpZCBmcmFjdGlvbmFsIG51bWJlcgBXcm9uZyB0aWxlIGltYWdlIGNocm9tYSBmb3JtYXQAVW5rbm93biBjb2xvciBwcm9maWxlIHR5cGUATm8gb3IgaW52YWxpZCBwcmltYXJ5IGl0ZW0AVHlwZSBvZiBhdXhpbGlhcnkgaW1hZ2UgdW5zcGVjaWZpZWQAT3ZlcmxheSBpbWFnZSBvdXRzaWRlIG9mIGNhbnZhcyBhcmVhAEludmFsaWQgb3ZlcmxheSBkYXRhAEludmFsaWQgY2xlYW4tYXBlcnR1cmUgc3BlY2lmaWNhdGlvbgBJdGVtIGhhcyBubyBkYXRhAE5vIHByb3BlcnRpZXMgYXNzaWduZWQgdG8gaXRlbQAnaXBtYScgYm94IHJlZmVyZW5jZXMgYSBub24tZXhpc3RpbmcgcHJvcGVydHkATm90IGEgJ3BpY3QnIGhhbmRsZXIATm8gJ2luZmUnIGJveABObyAnaXJlZicgYm94AE5vICdpcHJwJyBib3gATm8gJ2lpbmYnIGJveABObyAnaWxvYycgYm94AE5vICdpcG1hJyBib3gATm8gJ2lwY28nIGJveABObyAncGl0bScgYm94AE5vICdhdjFDJyBib3gATm8gJ2h2Y0MnIGJveABObyAnaGRscicgYm94AE5vICdtZXRhJyBib3gATm8gJ2lkYXQnIGJveABObyAnZnR5cCcgYm94AE1pc3NpbmcgZ3JpZCBpbWFnZXMASW52YWxpZCBncmlkIGRhdGEASW52YWxpZCBib3ggc2l6ZQBVbmV4cGVjdGVkIGVuZCBvZiBmaWxlAFVuc3BlY2lmaWVkADogAEZpbGUgZG9lcyBub3QgaW5jbHVkZSBhbnkgc3VwcG9ydGVkIGJyYW5kcy4KAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjE5U3RyZWFtUmVhZGVyX21lbW9yeUVOU185YWxsb2NhdG9ySVMyX0VFRUUAaGVpZl9maWxlLmNjAEl0ZW0gd2l0aCBJRCAAIGhhcyBubyBjb21wcmVzc2VkIGRhdGEAZ2V0X2NvbXByZXNzZWRfaW1hZ2VfZGF0YQBoZWlmX2ltYWdlLmNjAGNocm9tYV9oX3N1YnNhbXBsaW5nAGNocm9tYV92X3N1YnNhbXBsaW5nAG51bV9pbnRlcmxlYXZlZF9waXhlbHNfcGVyX3BsYW5lAHdpZHRoID49IDAAYWxsb2MAaGVpZ2h0ID49IDAAYml0X2RlcHRoID49IDEAYml0X2RlcHRoIDw9IDMyAG1fYml0X2RlcHRoIDw9IDE2AGJwcCA8PSAyNTUAZ2V0X3N0b3JhZ2VfYml0c19wZXJfcGl4ZWwAaXNfY2hyb21hX3dpdGhfYWxwaGEATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmMTRIZWlmUGl4ZWxJbWFnZUVOU185YWxsb2NhdG9ySVMyX0VFRUUAQ2FuIGN1cnJlbnRseSBvbmx5IG1pcnJvciBpbWFnZXMgd2l0aCA4IGJpdHMgcGVyIHBpeGVsAENhbiBjdXJyZW50bHkgb25seSBmaWxsIGltYWdlcyB3aXRoIDggYml0cyBwZXIgcGl4ZWwAZmlsbF9SR0JfMTZiaXQAaW5fdyA+PSAwAG92ZXJsYXkAaW5faCA+PSAwAG91dF93ID49IDAAb3V0X2ggPj0gMABPdmVybGF5IGltYWdlIG91dHNpZGUgb2YgcmlnaHQgb3IgYm90dG9tIGNhbnZhcyBib3JkZXIAT3ZlcmxheSBpbWFnZSBvdXRzaWRlIG9mIGxlZnQgb3IgdG9wIGNhbnZhcyBib3JkZXIAaGVpZl9nZXRfdmVyc2lvbgBpaQBoZWlmX2dldF92ZXJzaW9uX251bWJlcgBoZWlmX2NvbnRleHRfYWxsb2MAaGVpZl9jb250ZXh0X2ZyZWUAdmlpAGhlaWZfY29udGV4dF9yZWFkX2Zyb21fbWVtb3J5AGlpaWkAaGVpZl9jb250ZXh0X2dldF9udW1iZXJfb2ZfdG9wX2xldmVsX2ltYWdlcwBpaWkAaGVpZl9qc19jb250ZXh0X2dldF9saXN0X29mX3RvcF9sZXZlbF9pbWFnZV9JRHMAaGVpZl9qc19jb250ZXh0X2dldF9pbWFnZV9oYW5kbGUAaGVpZl9qc19kZWNvZGVfaW1hZ2UAaWlpaWkAaGVpZl9pbWFnZV9oYW5kbGVfcmVsZWFzZQBoZWlmX2Vycm9yX2NvZGUAaGVpZl9lcnJvcl9PawBoZWlmX2Vycm9yX0lucHV0X2RvZXNfbm90X2V4aXN0AGhlaWZfZXJyb3JfSW52YWxpZF9pbnB1dABoZWlmX2Vycm9yX1Vuc3VwcG9ydGVkX2ZpbGV0eXBlAGhlaWZfZXJyb3JfVW5zdXBwb3J0ZWRfZmVhdHVyZQBoZWlmX2Vycm9yX1VzYWdlX2Vycm9yAGhlaWZfZXJyb3JfTWVtb3J5X2FsbG9jYXRpb25fZXJyb3IAaGVpZl9lcnJvcl9EZWNvZGVyX3BsdWdpbl9lcnJvcgBoZWlmX2Vycm9yX0VuY29kZXJfcGx1Z2luX2Vycm9yAGhlaWZfZXJyb3JfRW5jb2RpbmdfZXJyb3IAaGVpZl9lcnJvcl9Db2xvcl9wcm9maWxlX2RvZXNfbm90X2V4aXN0AGhlaWZfc3ViZXJyb3JfY29kZQBoZWlmX3N1YmVycm9yX1Vuc3BlY2lmaWVkAGhlaWZfc3ViZXJyb3JfQ2Fubm90X3dyaXRlX291dHB1dF9kYXRhAGhlaWZfc3ViZXJyb3JfRW5kX29mX2RhdGEAaGVpZl9zdWJlcnJvcl9JbnZhbGlkX2JveF9zaXplAGhlaWZfc3ViZXJyb3JfTm9fZnR5cF9ib3gAaGVpZl9zdWJlcnJvcl9Ob19pZGF0X2JveABoZWlmX3N1YmVycm9yX05vX21ldGFfYm94AGhlaWZfc3ViZXJyb3JfTm9faGRscl9ib3gAaGVpZl9zdWJlcnJvcl9Ob19odmNDX2JveABoZWlmX3N1YmVycm9yX05vX3BpdG1fYm94AGhlaWZfc3ViZXJyb3JfTm9faXBjb19ib3gAaGVpZl9zdWJlcnJvcl9Ob19pcG1hX2JveABoZWlmX3N1YmVycm9yX05vX2lsb2NfYm94AGhlaWZfc3ViZXJyb3JfTm9faWluZl9ib3gAaGVpZl9zdWJlcnJvcl9Ob19pcHJwX2JveABoZWlmX3N1YmVycm9yX05vX2lyZWZfYm94AGhlaWZfc3ViZXJyb3JfTm9fcGljdF9oYW5kbGVyAGhlaWZfc3ViZXJyb3JfSXBtYV9ib3hfcmVmZXJlbmNlc19ub25leGlzdGluZ19wcm9wZXJ0eQBoZWlmX3N1YmVycm9yX05vX3Byb3BlcnRpZXNfYXNzaWduZWRfdG9faXRlbQBoZWlmX3N1YmVycm9yX05vX2l0ZW1fZGF0YQBoZWlmX3N1YmVycm9yX0ludmFsaWRfZ3JpZF9kYXRhAGhlaWZfc3ViZXJyb3JfTWlzc2luZ19ncmlkX2ltYWdlcwBoZWlmX3N1YmVycm9yX05vX2F2MUNfYm94AGhlaWZfc3ViZXJyb3JfSW52YWxpZF9jbGVhbl9hcGVydHVyZQBoZWlmX3N1YmVycm9yX0ludmFsaWRfb3ZlcmxheV9kYXRhAGhlaWZfc3ViZXJyb3JfT3ZlcmxheV9pbWFnZV9vdXRzaWRlX29mX2NhbnZhcwBoZWlmX3N1YmVycm9yX0F1eGlsaWFyeV9pbWFnZV90eXBlX3Vuc3BlY2lmaWVkAGhlaWZfc3ViZXJyb3JfTm9fb3JfaW52YWxpZF9wcmltYXJ5X2l0ZW0AaGVpZl9zdWJlcnJvcl9Ob19pbmZlX2JveABoZWlmX3N1YmVycm9yX1NlY3VyaXR5X2xpbWl0X2V4Y2VlZGVkAGhlaWZfc3ViZXJyb3JfVW5rbm93bl9jb2xvcl9wcm9maWxlX3R5cGUAaGVpZl9zdWJlcnJvcl9Xcm9uZ190aWxlX2ltYWdlX2Nocm9tYV9mb3JtYXQAaGVpZl9zdWJlcnJvcl9JbnZhbGlkX2ZyYWN0aW9uYWxfbnVtYmVyAGhlaWZfc3ViZXJyb3JfSW52YWxpZF9pbWFnZV9zaXplAGhlaWZfc3ViZXJyb3JfTm9uZXhpc3RpbmdfaXRlbV9yZWZlcmVuY2VkAGhlaWZfc3ViZXJyb3JfTnVsbF9wb2ludGVyX2FyZ3VtZW50AGhlaWZfc3ViZXJyb3JfTm9uZXhpc3RpbmdfaW1hZ2VfY2hhbm5lbF9yZWZlcmVuY2VkAGhlaWZfc3ViZXJyb3JfVW5zdXBwb3J0ZWRfcGx1Z2luX3ZlcnNpb24AaGVpZl9zdWJlcnJvcl9VbnN1cHBvcnRlZF93cml0ZXJfdmVyc2lvbgBoZWlmX3N1YmVycm9yX1Vuc3VwcG9ydGVkX3BhcmFtZXRlcgBoZWlmX3N1YmVycm9yX0ludmFsaWRfcGFyYW1ldGVyX3ZhbHVlAGhlaWZfc3ViZXJyb3JfSW52YWxpZF9waXhpX2JveABoZWlmX3N1YmVycm9yX1Vuc3VwcG9ydGVkX2NvZGVjAGhlaWZfc3ViZXJyb3JfVW5zdXBwb3J0ZWRfaW1hZ2VfdHlwZQBoZWlmX3N1YmVycm9yX1Vuc3VwcG9ydGVkX2RhdGFfdmVyc2lvbgBoZWlmX3N1YmVycm9yX1Vuc3VwcG9ydGVkX2NvbG9yX2NvbnZlcnNpb24AaGVpZl9zdWJlcnJvcl9VbnN1cHBvcnRlZF9pdGVtX2NvbnN0cnVjdGlvbl9tZXRob2QAaGVpZl9zdWJlcnJvcl9VbnN1cHBvcnRlZF9iaXRfZGVwdGgAaGVpZl9jb21wcmVzc2lvbl9mb3JtYXQAaGVpZl9jb21wcmVzc2lvbl91bmRlZmluZWQAaGVpZl9jb21wcmVzc2lvbl9IRVZDAGhlaWZfY29tcHJlc3Npb25fQVZDAGhlaWZfY29tcHJlc3Npb25fSlBFRwBoZWlmX2NvbXByZXNzaW9uX0FWMQBoZWlmX2Nocm9tYQBoZWlmX2Nocm9tYV91bmRlZmluZWQAaGVpZl9jaHJvbWFfbW9ub2Nocm9tZQBoZWlmX2Nocm9tYV80MjAAaGVpZl9jaHJvbWFfNDIyAGhlaWZfY2hyb21hXzQ0NABoZWlmX2Nocm9tYV9pbnRlcmxlYXZlZF9SR0IAaGVpZl9jaHJvbWFfaW50ZXJsZWF2ZWRfUkdCQQBoZWlmX2Nocm9tYV9pbnRlcmxlYXZlZF9SUkdHQkJfQkUAaGVpZl9jaHJvbWFfaW50ZXJsZWF2ZWRfUlJHR0JCQUFfQkUAaGVpZl9jaHJvbWFfaW50ZXJsZWF2ZWRfUlJHR0JCX0xFAGhlaWZfY2hyb21hX2ludGVybGVhdmVkX1JSR0dCQkFBX0xFAGhlaWZfY2hyb21hX2ludGVybGVhdmVkXzI0Yml0AGhlaWZfY2hyb21hX2ludGVybGVhdmVkXzMyYml0AGhlaWZfY29sb3JzcGFjZQBoZWlmX2NvbG9yc3BhY2VfdW5kZWZpbmVkAGhlaWZfY29sb3JzcGFjZV9ZQ2JDcgBoZWlmX2NvbG9yc3BhY2VfUkdCAGhlaWZfY29sb3JzcGFjZV9tb25vY2hyb21lAGhlaWZfY2hhbm5lbABoZWlmX2NoYW5uZWxfWQBoZWlmX2NoYW5uZWxfQ3IAaGVpZl9jaGFubmVsX0NiAGhlaWZfY2hhbm5lbF9SAGhlaWZfY2hhbm5lbF9HAGhlaWZfY2hhbm5lbF9CAGhlaWZfY2hhbm5lbF9BbHBoYQBoZWlmX2NoYW5uZWxfaW50ZXJsZWF2ZWQAaGVpZl9jb250ZXh0AHYAdmkAaGVpZl9pbWFnZV9oYW5kbGUAaGVpZl9pbWFnZQBoZWlmX2Vycm9yAGkAY29kZQB2aWlpAHN1YmNvZGUAMTBoZWlmX2Vycm9yAFBLMTBoZWlmX2ltYWdlAFAxMGhlaWZfaW1hZ2UAMTBoZWlmX2ltYWdlAFBLMTdoZWlmX2ltYWdlX2hhbmRsZQBQMTdoZWlmX2ltYWdlX2hhbmRsZQAxN2hlaWZfaW1hZ2VfaGFuZGxlAFBLMTJoZWlmX2NvbnRleHQAUDEyaGVpZl9jb250ZXh0ADEyaGVpZl9jb250ZXh0ADEyaGVpZl9jaGFubmVsADE1aGVpZl9jb2xvcnNwYWNlADExaGVpZl9jaHJvbWEAMjNoZWlmX2NvbXByZXNzaW9uX2Zvcm1hdAAxOGhlaWZfc3ViZXJyb3JfY29kZQAxNWhlaWZfZXJyb3JfY29kZQBOMTBlbXNjcmlwdGVuM3ZhbEUAaXNfcHJpbWFyeQB0aHVtYm5haWxzAHdpZHRoAGhlaWdodABjaHJvbWEAY29sb3JzcGFjZQBoZWlmX2ltYWdlX2dldF9jaHJvbWFfZm9ybWF0KGltYWdlKSA9PSBoZWlmX2Nocm9tYV9pbnRlcmxlYXZlZF8yNGJpdAAuL2hlaWZfZW1zY3JpcHRlbi5oAGhlaWZfaW1hZ2VfZ2V0X2Nocm9tYV9mb3JtYXQoaW1hZ2UpID09IGhlaWZfY2hyb21hX21vbm9jaHJvbWUAZGF0YQBOU3QzX18yMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRQBOU3QzX18yMjFfX2Jhc2ljX3N0cmluZ19jb21tb25JTGIxRUVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjExSGVpZkNvbnRleHRFTlNfOWFsbG9jYXRvcklTMl9FRUVFADEuMTAuMABTdWNjZXNzAExlc3MgdGhhbiA4IGJ5dGVzIG9mIGRhdGEAR3JpZCBpbWFnZSBkYXRhIGluY29tcGxldGUACgBPdmVybGF5IGltYWdlIGRhdGEgaW5jb21wbGV0ZQBPdmVybGF5IGltYWdlIGRhdGEgdmVyc2lvbiAAIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQAeABpbWFnZV9pbmRleCA8IG1fb2Zmc2V0cy5zaXplKCkAaGVpZl9jb250ZXh0LmNjAGdldF9vZmZzZXQATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmOEhlaWZGaWxlRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBodmMxAGdyaWQAaWRlbgBpb3ZsAGF2MDEAJ3BpdG0nIGJveCByZWZlcmVuY2VzIGEgbm9uLWV4aXN0aW5nIGltYWdlAEltYWdlIHNpemUgACBleGNlZWRzIHRoZSBtYXhpbXVtIGltYWdlIHNpemUgAFRvbyBtYW55IHRodW1ibmFpbCByZWZlcmVuY2VzAFRodW1ibmFpbCByZWZlcmVuY2VzIGEgbm9uLWV4aXN0aW5nIGltYWdlAFRodW1ibmFpbCByZWZlcmVuY2VzIGFub3RoZXIgdGh1bWJuYWlsAFJlY3Vyc2l2ZSB0aHVtYm5haWwgaW1hZ2UgZGV0ZWN0ZWQATm8gYXV4QyBwcm9wZXJ0eSBmb3IgaW1hZ2UgAFRvbyBtYW55IGF1eGlsaWFyeSBpbWFnZSByZWZlcmVuY2VzAHVybjptcGVnOmF2YzoyMDE1OmF1eGlkOjEAdXJuOm1wZWc6aGV2YzoyMDE1OmF1eGlkOjEAdXJuOm1wZWc6bXBlZ0I6Y2ljcDpzeXN0ZW1zOmF1eGlsaWFyeTphbHBoYQBOb24tZXhpc3RpbmcgYWxwaGEgaW1hZ2UgcmVmZXJlbmNlZABSZWN1cnNpdmUgYWxwaGEgaW1hZ2UgZGV0ZWN0ZWQAdXJuOm1wZWc6aGV2YzoyMDE1OmF1eGlkOjIAdXJuOm1wZWc6bXBlZ0I6Y2ljcDpzeXN0ZW1zOmF1eGlsaWFyeTpkZXB0aABOb24tZXhpc3RpbmcgZGVwdGggaW1hZ2UgcmVmZXJlbmNlZABSZWN1cnNpdmUgZGVwdGggaW1hZ2UgZGV0ZWN0ZWQATm9uLWV4aXN0aW5nIGF1eCBpbWFnZSByZWZlcmVuY2VkAFJlY3Vyc2l2ZSBhdXggaW1hZ2UgZGV0ZWN0ZWQATm8gaHZjQyBwcm9wZXJ0eSBpbiBodmMxIHR5cGUgaW1hZ2UATWV0YWRhdGEgbm90IGNvcnJlY3RseSBhc3NpZ25lZCB0byBpbWFnZQBNZXRhZGF0YSBhc3NpZ25lZCB0byBub24tZXhpc3RpbmcgaW1hZ2UATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjRoZWlmMTNJbWFnZU1ldGFkYXRhRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBONGhlaWYzNlNFSU1lc3NhZ2VfZGVwdGhfcmVwcmVzZW50YXRpb25faW5mb0UAMzBoZWlmX2RlcHRoX3JlcHJlc2VudGF0aW9uX2luZm8ATjRoZWlmMTBTRUlNZXNzYWdlRQBOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlONGhlaWYxMUhlaWZDb250ZXh0NUltYWdlRU5TXzlhbGxvY2F0b3JJUzNfRUVFRQBpbWdpbmZvAGRlY29kZV9pbWFnZV9wbGFuYXIAaW1nX3dpZHRoID49IDAAaW1nX2hlaWdodCA+PSAwAE5vIGlyZWYgYm94IGF2YWlsYWJsZSwgYnV0IG5lZWRlZCBmb3IgaW92bCBpbWFnZQBOdW1iZXIgb2YgaW1hZ2Ugb2Zmc2V0cyBkb2VzIG5vdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGltYWdlIHJlZmVyZW5jZXMATm8gaXJlZiBib3ggYXZhaWxhYmxlLCBidXQgbmVlZGVkIGZvciBpZGVuIGltYWdlACdpZGVuJyBpbWFnZSB3aXRoIG1vcmUgdGhhbiBvbmUgcmVmZXJlbmNlIGltYWdlAE5vIGlyZWYgYm94IGF2YWlsYWJsZSwgYnV0IG5lZWRlZCBmb3IgZ3JpZCBpbWFnZQBtX3Jvd3MgPD0gMjU2AGdldF9yb3dzAG1fY29sdW1ucyA8PSAyNTYAZ2V0X2NvbHVtbnMAVGlsZWQgaW1hZ2Ugd2l0aCAAPQAgdGlsZXMsIGJ1dCBvbmx5IAAgdGlsZSBpbWFnZXMgaW4gZmlsZQBUaWxlIGltYWdlIElEPQAgaXMgbm90IGEgcHJvcGVyIGltYWdlLgAhaW1hZ2VfcmVmZXJlbmNlcy5lbXB0eSgpAGRlY29kZV9mdWxsX2dyaWRfaW1hZ2UATm8gcGl4aSBpbmZvcm1hdGlvbiBmb3IgbHVtYSBjaGFubmVsLgBEaWZmZXJlbnQgbnVtYmVyIG9mIGJpdHMgcGVyIHBpeGVsIGluIGVhY2ggY2hhbm5lbC4AVW5leGlzdGluZyBncmlkIGltYWdlIHJlZmVyZW5jZWQAc3JjX3dpZHRoID49IDAAZGVjb2RlX2FuZF9wYXN0ZV90aWxlX2ltYWdlAHNyY19oZWlnaHQgPj0gMABJbWFnZSB0aWxlIGhhcyBkaWZmZXJlbnQgY2hyb21hIGZvcm1hdCB0aGFuIGNvbWJpbmVkIGltYWdlAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU40aGVpZjM2U0VJTWVzc2FnZV9kZXB0aF9yZXByZXNlbnRhdGlvbl9pbmZvRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBTdWNjZXNzAHdhbnRfYWxwaGEgJiYgIWhhc19hbHBoYQBoZWlmX2NvbG9yY29udmVyc2lvbi5jYwBjb252ZXJ0X2NvbG9yc3BhY2UAMThPcF9SR0JfdG9fUkdCMjRfMzIATjRoZWlmMjRDb2xvckNvbnZlcnNpb25PcGVyYXRpb25FADIwT3BfWUNiQ3I0MjBfdG9fUkdCMjQAMjBPcF9ZQ2JDcjQyMF90b19SR0IzMgAyNU9wX1JHQl9IRFJfdG9fUlJHR0JCYWFfQkUAMjFPcF9SR0JfdG9fUlJHR0JCYWFfQkUAMjVPcF9SUkdHQkJhYV9CRV90b19SR0JfSERSADI3T3BfUlJHR0JCYWFfc3dhcF9lbmRpYW5uZXNzADE5T3BfbW9ub190b19ZQ2JDcjQyMAAxOU9wX21vbm9fdG9fUkdCMjRfMzIAMjBPcF9SR0IyNF8zMl90b19ZQ2JDcgB0YXJnZXRfc3RhdGUubmNseF9wcm9maWxlAHRhcmdldF9zdGF0ZS5uY2x4X3Byb2ZpbGUtPmdldF9tYXRyaXhfY29lZmZpY2llbnRzKCkgPT0gMAAyN09wX1JHQjI0XzMyX3RvX1lDYkNyNDQ0X0dCUgAxOU9wX2Ryb3BfYWxwaGFfcGxhbmUAMTZPcF90b19oZHJfcGxhbmVzADE2T3BfdG9fc2RyX3BsYW5lcwAyN09wX1JSR0dCQnh4X0hEUl90b19ZQ2JDcjQyMAAyM09wX1lDYkNyNDIwX3RvX1JSR0dCQmFhAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTI3T3BfUlJHR0JCeHhfSERSX3RvX1lDYkNyNDIwTlNfOWFsbG9jYXRvcklTMV9FRUVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTE2T3BfdG9fc2RyX3BsYW5lc05TXzlhbGxvY2F0b3JJUzFfRUVFRQBOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUkxNk9wX3RvX2hkcl9wbGFuZXNOU185YWxsb2NhdG9ySVMxX0VFRUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJMTlPcF9kcm9wX2FscGhhX3BsYW5lTlNfOWFsbG9jYXRvcklTMV9FRUVFADE1T3BfUkdCX3RvX1lDYkNySXRFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTE1T3BfUkdCX3RvX1lDYkNySXRFTlNfOWFsbG9jYXRvcklTMl9FRUVFADE1T3BfUkdCX3RvX1lDYkNySWhFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTE1T3BfUkdCX3RvX1lDYkNySWhFTlNfOWFsbG9jYXRvcklTMl9FRUVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTI3T3BfUkdCMjRfMzJfdG9fWUNiQ3I0NDRfR0JSTlNfOWFsbG9jYXRvcklTMV9FRUVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTIwT3BfUkdCMjRfMzJfdG9fWUNiQ3JOU185YWxsb2NhdG9ySVMxX0VFRUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJMjVPcF9SUkdHQkJhYV9CRV90b19SR0JfSERSTlNfOWFsbG9jYXRvcklTMV9FRUVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTI3T3BfUlJHR0JCYWFfc3dhcF9lbmRpYW5uZXNzTlNfOWFsbG9jYXRvcklTMV9FRUVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTE5T3BfbW9ub190b19SR0IyNF8zMk5TXzlhbGxvY2F0b3JJUzFfRUVFRQBOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUkxOU9wX21vbm9fdG9fWUNiQ3I0MjBOU185YWxsb2NhdG9ySVMxX0VFRUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJMjFPcF9SR0JfdG9fUlJHR0JCYWFfQkVOU185YWxsb2NhdG9ySVMxX0VFRUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJMjVPcF9SR0JfSERSX3RvX1JSR0dCQmFhX0JFTlNfOWFsbG9jYXRvcklTMV9FRUVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTIzT3BfWUNiQ3I0MjBfdG9fUlJHR0JCYWFOU185YWxsb2NhdG9ySVMxX0VFRUUATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJMjBPcF9ZQ2JDcjQyMF90b19SR0IzMk5TXzlhbGxvY2F0b3JJUzFfRUVFRQBOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUkyME9wX1lDYkNyNDIwX3RvX1JHQjI0TlNfOWFsbG9jYXRvcklTMV9FRUVFADE1T3BfWUNiQ3JfdG9fUkdCSWhFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTE1T3BfWUNiQ3JfdG9fUkdCSWhFTlNfOWFsbG9jYXRvcklTMl9FRUVFADE1T3BfWUNiQ3JfdG9fUkdCSXRFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTE1T3BfWUNiQ3JfdG9fUkdCSXRFTlNfOWFsbG9jYXRvcklTMl9FRUVFAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSTE4T3BfUkdCX3RvX1JHQjI0XzMyTlNfOWFsbG9jYXRvcklTMV9FRUVFACFjaGFubmVscy5lbXB0eSgpAFN1Y2Nlc3MAQ2Fubm90IGFsbG9jYXRlIG1lbW9yeSBmb3IgaW1hZ2UgcGxhbmUAQ2hhbm5lbHMgd2l0aCBkaWZmZXJlbnQgbnVtYmVyIG9mIGJpdHMgcGVyIHBpeGVsIGFyZSBub3Qgc3VwcG9ydGVkAGxpYmRlMjY1IEhFVkMgZGVjb2RlcgAsIHZlcnNpb24gADEuMC4yAGRlMjY1LmNjAGRlMjY1X3NldF9wYXJhbWV0ZXJfYm9vbABjaGFubmVsPj0wICYmIGNoYW5uZWwgPD0gMgBkZTI2NV9nZXRfaW1hZ2VfcGxhbmUAMTVkZWNvZGVyX2NvbnRleHQAMTJiYXNlX2NvbnRleHQAMTFlcnJvcl9xdWV1ZQB0aHJlYWRfY29udGV4dHM9PU5VTEwAZGVjY3R4LmNjAGFsbG9jYXRlX3RocmVhZF9jb250ZXh0cwBkZWNvZGVfc2xpY2VfdW5pdF9wYXJhbGxlbABpbWctPm51bV90aHJlYWRzX2FjdGl2ZSgpID09IDAAZGVjb2RlX3NsaWNlX3VuaXRfdGlsZXMAbiA8IG5UaHJlYWRDb250ZXh0cwAuL2RlY2N0eC5oAGdldF90aHJlYWRfY29udGV4dABkZWNvZGVfc2xpY2VfdW5pdF9XUFAAUFBTICVkIGhhcyBub3QgYmVlbiByZWFkCgBwcm9jZXNzX3NsaWNlX3NlZ21lbnRfaGVhZGVyAGhkci0+bnVtX3JlZl9pZHhfbDBfYWN0aXZlIDw9IDE2AGNvbnN0cnVjdF9yZWZlcmVuY2VfcGljdHVyZV9saXN0cwBoZHItPm51bV9yZWZfaWR4X2wxX2FjdGl2ZSA8PSAxNgBjdHgtPmRwYi5oYXNfZnJlZV9kcGJfcGljdHVyZSh0cnVlKQBnZW5lcmF0ZV91bmF2YWlsYWJsZV9yZWZlcmVuY2VfcGljdHVyZQBpZHg+PTAAbmFsAGRlY29kZQBmYWxsYmFjay1kY3QuY2MAdHJhbnNmb3JtX3NraXBfOF9mYWxsYmFjawB0cmFuc2Zvcm1fc2tpcF8xNl9mYWxsYmFjawBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFpaWFVSTklDPTYuJh8WDQT88+rh2tLKw723sq6rqKamWldQRjkrGQn359XHurCppqapsLrH1ef3CRkrOUZQV1paUkMuFvzhyrerpqiyw9rzDSY9TlhaVUk2HwTq0r2upllLMhLuzrWnp7XO7hIyS1lZSzIS7s61p6e1zu4SMktZWEMf88quprLS/CZJWlU9FurDq6a32gQuTlpSNg3hvahXOQnVsKa65xlGWlAr98epqcf3K1BaRhnnuqaw1Qk5V1Uu872mt+omUlg2/MOmsuEfTlo9BMqortoWSVpDDdKrUyTcra3cJFNTJNytrdwkU1Mk3K2t3CRTUyTcra3cJFNSFsqmww1OVR/Spr0ESVgm2qi3/ENaLuGrsvM9WjbqrlAJuqnnOVor1abHGVdG97Cw90ZXGcem1StaOeepuglQTvyutw1VQ+qowx9aNtqm0i5aJsqm4T1YFr2r80lSBLJL7qfOMlkStbUSWTLOp+5LS+6nzjJZErW1ElkyzqfuS0nhpupOQ9qm81I90qj8VTbKqwRYLsOuDVomvbIWWh+3RtWpCVoZsMc5UOem91crurorV/em51A5x7AZWgmp1UZDyrImVeqmBFoNqOFSLrfDPUnSrh9Y86b8Whar2k42vUDAwEBAwMBAQMDAQEDAwEBAwMBAQMDAQEDAwEBAwMBAPbfSUh+o81r8phZV2rI2Q73KTiar6loEpg1Y4a4uScM5sOda96krRrrVVwmmGVDHx1AZpglX1bpGK6n3WuewOTar/FjSw1INpiZDsupa4bdJH6YWTr3aWvOuPS6oBFXKMqcSS7XuWc7OWe61SxKnMjKnEku17lnOzlnutUsSpzIupiY2ph89qBZDqw1JrgROsvxSt/NVvepYw+Faytpa0iumORmpRgmwUPe6V+fHWtXVWsfnV7r3ULAJRqkZOaYrJqhJ/L1a0uFVsg09pjYWrlLqylrD806rHy6mQwS3WNokrVPc3FOtJCStU9zcU60kJK1T3NxTrSQkrVPc3FOtJB+yWsMENqhS2upJpkPz0lWrLg29WrcWJq5Yyvw9pk7hGbpasCsJx1epOffVUKZG5+dGplDV9zmpV8cJK7BauhkWw1WmSdr8LrJarjbz4UOoWL0fDcpSpk7SBCa3Wqs96hLOS6dZtTLu7jK1WadLzhISzkunWbUy7u4ytVmnS84SDdo9slimVbc24QQW0kOuWqZSvS7q/B/KSataqE7DJvMJ5yvHRrBXplqpULo51Rn39xnVObpQqVqmV7BGxyvnCQTzFuEm0jbDQ7dOrlWoWqZaplirUrJJvT3KLtof6g38KHdpZHRoJjEpPT0wAGZhbGxiYWNrLW1vdGlvbi5jYwBwdXRfdW53ZWlnaHRlZF9wcmVkXzhfZmFsbGJhY2sAbG9nMldEPj0xAHB1dF93ZWlnaHRlZF9wcmVkXzhfZmFsbGJhY2sAcHV0X3dlaWdodGVkX2JpcHJlZF84X2ZhbGxiYWNrAHB1dF93ZWlnaHRlZF9wcmVkX2F2Z184X2ZhbGxiYWNrAHB1dF91bndlaWdodGVkX3ByZWRfMTZfZmFsbGJhY2sAcHV0X3dlaWdodGVkX3ByZWRfMTZfZmFsbGJhY2sAcHV0X3dlaWdodGVkX2JpcHJlZF8xNl9mYWxsYmFjawBwdXRfd2VpZ2h0ZWRfcHJlZF9hdmdfMTZfZmFsbGJhY2sAIXJlb3JkZXJfb3V0cHV0X3F1ZXVlLmVtcHR5KCkAZHBiLmNjAG91dHB1dF9uZXh0X3BpY3R1cmVfaW5fcmVvcmRlcl9idWZmZXIAbmV3X2ltYWdlAGltZy0+c3BzLkJpdERlcHRoX1kgPj0gOCAmJiBpbWctPnNwcy5CaXREZXB0aF9ZIDw9IDE2AGltYWdlLmNjAGRlMjY1X2ltYWdlX2dldF9idWZmZXIAaW1nLT5zcHMuQml0RGVwdGhfQyA+PSA4ICYmIGltZy0+c3BzLkJpdERlcHRoX0MgPD0gMTYAc3BzAGFsbG9jX2ltYWdlAGZpcnN0ICUgMiA9PSAwAGNvcHlfbGluZXNfZnJvbQBlbmQgJSAyID09IDAAblRocmVhZHNSdW5uaW5nID49IDAAdGhyZWFkX2ZpbmlzaGVzAC4vaW1hZ2UuaABwZW5kaW5nX2lucHV0X05BTCA9PSBOVUxMAG5hbC1wYXJzZXIuY2MAcHVzaF9OQUwALS0tLS0tLS0tLSBQUFMgcmFuZ2UtZXh0ZW5zaW9uIC0tLS0tLS0tLS0KAGxvZzJfbWF4X3RyYW5zZm9ybV9za2lwX2Jsb2NrX3NpemUgICAgICA6ICVkCgBjcm9zc19jb21wb25lbnRfcHJlZGljdGlvbl9lbmFibGVkX2ZsYWcgOiAlZAoAY2hyb21hX3FwX29mZnNldF9saXN0X2VuYWJsZWRfZmxhZyAgICAgIDogJWQKAGRpZmZfY3VfY2hyb21hX3FwX29mZnNldF9kZXB0aCAgICAgICAgICA6ICVkCgBjaHJvbWFfcXBfb2Zmc2V0X2xpc3RfbGVuICAgICAgICAgICAgICAgOiAlZAoAY2JfcXBfb2Zmc2V0X2xpc3RbJWRdICAgICAgICAgICAgICAgICAgICA6ICVkCgBjcl9xcF9vZmZzZXRfbGlzdFslZF0gICAgICAgICAgICAgICAgICAgIDogJWQKAGxvZzJfc2FvX29mZnNldF9zY2FsZV9sdW1hICAgICAgICAgICAgICA6ICVkCgBsb2cyX3Nhb19vZmZzZXRfc2NhbGVfY2hyb21hICAgICAgICAgICAgOiAlZAoAdGlsZVg+PTAgJiYgdGlsZVk+PTAAcHBzLmNjAHNldF9kZXJpdmVkX3ZhbHVlcwAtLS0tLS0tLS0tLS0tLS0tLSBQUFMgLS0tLS0tLS0tLS0tLS0tLS0KAHBpY19wYXJhbWV0ZXJfc2V0X2lkICAgICAgIDogJWQKAHNlcV9wYXJhbWV0ZXJfc2V0X2lkICAgICAgIDogJWQKAGRlcGVuZGVudF9zbGljZV9zZWdtZW50c19lbmFibGVkX2ZsYWcgOiAlZAoAc2lnbl9kYXRhX2hpZGluZ19mbGFnICAgICAgOiAlZAoAY2FiYWNfaW5pdF9wcmVzZW50X2ZsYWcgICAgOiAlZAoAbnVtX3JlZl9pZHhfbDBfZGVmYXVsdF9hY3RpdmUgOiAlZAoAbnVtX3JlZl9pZHhfbDFfZGVmYXVsdF9hY3RpdmUgOiAlZAoAcGljX2luaXRfcXAgICAgICAgICAgICAgICAgOiAlZAoAY29uc3RyYWluZWRfaW50cmFfcHJlZF9mbGFnOiAlZAoAdHJhbnNmb3JtX3NraXBfZW5hYmxlZF9mbGFnOiAlZAoAY3VfcXBfZGVsdGFfZW5hYmxlZF9mbGFnICAgOiAlZAoAZGlmZl9jdV9xcF9kZWx0YV9kZXB0aCAgICAgOiAlZAoAcGljX2NiX3FwX29mZnNldCAgICAgICAgICAgICA6ICVkCgBwaWNfY3JfcXBfb2Zmc2V0ICAgICAgICAgICAgIDogJWQKAHBwc19zbGljZV9jaHJvbWFfcXBfb2Zmc2V0c19wcmVzZW50X2ZsYWcgOiAlZAoAd2VpZ2h0ZWRfcHJlZF9mbGFnICAgICAgICAgICA6ICVkCgB3ZWlnaHRlZF9iaXByZWRfZmxhZyAgICAgICAgIDogJWQKAG91dHB1dF9mbGFnX3ByZXNlbnRfZmxhZyAgICAgOiAlZAoAdHJhbnNxdWFudF9ieXBhc3NfZW5hYmxlX2ZsYWc6ICVkCgB0aWxlc19lbmFibGVkX2ZsYWcgICAgICAgICAgIDogJWQKAGVudHJvcHlfY29kaW5nX3N5bmNfZW5hYmxlZF9mbGFnOiAlZAoAbnVtX3RpbGVfY29sdW1ucyAgICA6ICVkCgBudW1fdGlsZV9yb3dzICAgICAgIDogJWQKAHVuaWZvcm1fc3BhY2luZ19mbGFnOiAlZAoAdGlsZSBjb2x1bW4gYm91bmRhcmllczogAHRpbGUgcm93IGJvdW5kYXJpZXM6IAAqJWQgAGxvb3BfZmlsdGVyX2Fjcm9zc190aWxlc19lbmFibGVkX2ZsYWcgOiAlZAoAcHBzX2xvb3BfZmlsdGVyX2Fjcm9zc19zbGljZXNfZW5hYmxlZF9mbGFnOiAlZAoAZGVibG9ja2luZ19maWx0ZXJfY29udHJvbF9wcmVzZW50X2ZsYWc6ICVkCgBkZWJsb2NraW5nX2ZpbHRlcl9vdmVycmlkZV9lbmFibGVkX2ZsYWc6ICVkCgBwaWNfZGlzYWJsZV9kZWJsb2NraW5nX2ZpbHRlcl9mbGFnOiAlZAoAYmV0YV9vZmZzZXQ6ICAlZAoAdGNfb2Zmc2V0OiAgICAlZAoAcGljX3NjYWxpbmdfbGlzdF9kYXRhX3ByZXNlbnRfZmxhZzogJWQKAGxpc3RzX21vZGlmaWNhdGlvbl9wcmVzZW50X2ZsYWc6ICVkCgBsb2cyX3BhcmFsbGVsX21lcmdlX2xldmVsICAgICAgOiAlZAoAbnVtX2V4dHJhX3NsaWNlX2hlYWRlcl9iaXRzICAgIDogJWQKAHNsaWNlX3NlZ21lbnRfaGVhZGVyX2V4dGVuc2lvbl9wcmVzZW50X2ZsYWcgOiAlZAoAcHBzX2V4dGVuc2lvbl9mbGFnICAgICAgICAgICAgOiAlZAoAcHBzX3JhbmdlX2V4dGVuc2lvbl9mbGFnICAgICAgOiAlZAoAcHBzX211bHRpbGF5ZXJfZXh0ZW5zaW9uX2ZsYWcgOiAlZAoAcHBzX2V4dGVuc2lvbl82Yml0cyAgICAgICAgICAgOiAlZAoATG9nMk1pbkN1UXBEZWx0YVNpemUgICAgICAgICAgOiAlZAoATG9nMk1pbkN1Q2hyb21hUXBPZmZzZXRTaXplIChSRXh0KSA6ICVkCgBMb2cyTWF4VHJhbnNmb3JtU2tpcFNpemUgICAgKFJFeHQpIDogJWQKAHNhby0lZAAxNXRocmVhZF90YXNrX3NhbwAxMXRocmVhZF90YXNrAFNFSSBkZWNvZGVkIHBpY3R1cmUgTUQ1IG1pc21hdGNoIChQT0M9JWQpCgBTRUkgZGVjb2RlZCBwaWN0dXJlIGhhc2g6ICUwNHgsIGRlY29kZWQgcGljdHVyZTogJTA0eCAoUE9DPSVkKQoAc2xpY2Utc2VnbWVudC0lZDslZABpbml0VHlwZSA+PSAwICYmIGluaXRUeXBlIDw9IDIAc2xpY2UuY2MAaW5pdGlhbGl6ZV9DQUJBQ19tb2RlbHMAZGVjb2RlX3BhcnRfbW9kZQAAAQICAgIDBQcICgwNDxESExQVFhcXGBgZGRobGxwcHR0eH3JlYWRfY29kaW5nX3VuaXQAUHJlZE1vZGUgPT0gY3VQcmVkTW9kZQByZWFkX3RyYW5zZm9ybV90cmVlAGNvbnRleHQgPj0gMCAmJiBjb250ZXh0IDw9IDIAZGVjb2RlX3NwbGl0X3RyYW5zZm9ybV9mbGFnACEodHJhZm9EZXB0aD09MCAmJiBsb2cyVHJhZm9TaXplPT0yKQBjYmZfY2IgIT0gLTEAcmVhZF90cmFuc2Zvcm1fdW5pdABjYmZfY3IgIT0gLTEAY2JmX2x1bWEgIT0gLTEAeDxzcHMuUGljV2lkdGhJbk1pblBVcwBzZXRfSW50cmFQcmVkTW9kZUMAeTxzcHMuUGljSGVpZ2h0SW5NaW5QVXMAaWR4PGludHJhUHJlZE1vZGVDLmRhdGFfc2l6ZQAyNXRocmVhZF90YXNrX3NsaWNlX3NlZ21lbnQAY3RiLXJvdy0lZAAxOXRocmVhZF90YXNrX2N0Yl9yb3cAcHBzLT5wcHNfcmVhZABkdW1wX3NsaWNlX3NlZ21lbnRfaGVhZGVyAHNwcy0+c3BzX3JlYWQALS0tLS0tLS0tLS0tLS0tLS0gU0xJQ0UgLS0tLS0tLS0tLS0tLS0tLS0KAGZpcnN0X3NsaWNlX3NlZ21lbnRfaW5fcGljX2ZsYWcgICAgICA6ICVkCgBub19vdXRwdXRfb2ZfcHJpb3JfcGljc19mbGFnICAgICAgICAgOiAlZAoAc2xpY2VfcGljX3BhcmFtZXRlcl9zZXRfaWQgICAgICAgICAgIDogJWQKAGRlcGVuZGVudF9zbGljZV9zZWdtZW50X2ZsYWcgICAgICAgICA6ICVkCgBzbGljZV9zZWdtZW50X2FkZHJlc3MgICAgICAgICAgICAgICAgOiAlZAoAc2xpY2VfdHlwZSAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJWMKAHBpY19vdXRwdXRfZmxhZyAgICAgICAgICAgICAgICAgICAgICA6ICVkCgBjb2xvdXJfcGxhbmVfaWQgICAgICAgICAgICAgICAgICAgICAgOiAlZAoAc2xpY2VfcGljX29yZGVyX2NudF9sc2IgICAgICAgICAgICAgIDogJWQKAHNob3J0X3Rlcm1fcmVmX3BpY19zZXRfc3BzX2ZsYWcgICAgICA6ICVkCgBzaG9ydF90ZXJtX3JlZl9waWNfc2V0X2lkeCAgICAgICAgICAgOiAlZAoAbnVtX2xvbmdfdGVybV9zcHMgICAgICAgICAgICAgICAgICAgICAgICA6ICVkCgBudW1fbG9uZ190ZXJtX3BpY3MgICAgICAgICAgICAgICAgICAgICAgIDogJWQKAHNsaWNlX3RlbXBvcmFsX212cF9lbmFibGVkX2ZsYWcgOiAlZAoAc2xpY2Vfc2FvX2x1bWFfZmxhZyAgICAgICAgICAgICA6ICVkCgBzbGljZV9zYW9fY2hyb21hX2ZsYWcgICAgICAgICAgIDogJWQKAG51bV9yZWZfaWR4X2FjdGl2ZV9vdmVycmlkZV9mbGFnIDogJWQKAChmcm9tIFBQUykAbnVtX3JlZl9pZHhfbDBfYWN0aXZlICAgICAgICAgIDogJWQgJXMKAG51bV9yZWZfaWR4X2wxX2FjdGl2ZSAgICAgICAgICA6ICVkICVzCgByZWZfcGljX2xpc3RfbW9kaWZpY2F0aW9uX2ZsYWdfbDAgOiAlZAoAICAlZDogJWQKAHJlZl9waWNfbGlzdF9tb2RpZmljYXRpb25fZmxhZ19sMSA6ICVkCgBtdmRfbDFfemVyb19mbGFnICAgICAgICAgICAgICAgOiAlZAoAY2FiYWNfaW5pdF9mbGFnICAgICAgICAgICAgICAgIDogJWQKAGNvbGxvY2F0ZWRfZnJvbV9sMF9mbGFnICAgICAgICA6ICVkCgBjb2xsb2NhdGVkX3JlZl9pZHggICAgICAgICAgICAgOiAlZAoAbHVtYV9sb2cyX3dlaWdodF9kZW5vbSAgICAgICAgIDogJWQKAENocm9tYUxvZzJXZWlnaHREZW5vbSAgICAgICAgICA6ICVkCgBMdW1hV2VpZ2h0X0wlZFslZF0gICAgICAgICAgICAgOiAlZAoAbHVtYV9vZmZzZXRfbCVkWyVkXSAgICAgICAgICAgIDogJWQKAENocm9tYVdlaWdodF9MJWRbJWRdWyVkXSAgICAgICAgOiAlZAoAQ2hyb21hT2Zmc2V0X0wlZFslZF1bJWRdICAgICAgICA6ICVkCgBmaXZlX21pbnVzX21heF9udW1fbWVyZ2VfY2FuZCAgOiAlZAoAc2xpY2VfcXBfZGVsdGEgICAgICAgICA6ICVkCgBzbGljZV9jYl9xcF9vZmZzZXQgICAgIDogJWQKAHNsaWNlX2NyX3FwX29mZnNldCAgICAgOiAlZAoAZGVibG9ja2luZ19maWx0ZXJfb3ZlcnJpZGVfZmxhZyA6ICVkCgAob3ZlcnJpZGUpAChmcm9tIHBwcykAc2xpY2VfZGVibG9ja2luZ19maWx0ZXJfZGlzYWJsZWRfZmxhZyA6ICVkICVzCgBzbGljZV9iZXRhX29mZnNldCAgOiAlZAoAc2xpY2VfdGNfb2Zmc2V0ICAgIDogJWQKAHNsaWNlX2xvb3BfZmlsdGVyX2Fjcm9zc19zbGljZXNfZW5hYmxlZF9mbGFnIDogJWQKAG51bV9lbnRyeV9wb2ludF9vZmZzZXRzICAgIDogJWQKAG9mZnNldF9sZW4gICAgICAgICAgICAgICAgIDogJWQKAGVudHJ5IHBvaW50IFslaV0gOiAlZAoAAAEEBQIDBAUGBggIBwcIY2N0eElkeExvb2t1cFtsb2cydy0yXVtjSWR4XVtzY2FuSWR4XVtwcmV2Q3NiZl1beEMrKHlDPDxsb2cydyldID09IGN0eElkeEluYwBhbGxvY19hbmRfaW5pdF9zaWduaWZpY2FudF9jb2VmZl9jdHhJZHhfbG9va3VwVGFibGUAcmVmPDcAc3BzLmNjABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQERAREBESERISERIVExQVFBMVGBYWGBgWFhgZGRseGxkZHR8jIx8dJCksKSQvNjYvQUZBWFhzEBAQEBAQEBAQEBEREREREhISEhISFBQUFBQUFBgYGBgYGBgYGRkZGRkZGRwcHBwcHCEhISEhKSkpKTY2NkdHW2ZpbGxfc2NhbGluZ19mYWN0b3IAc2NhbGluZ19saXN0X3ByZWRfbWF0cml4X2lkX2RlbHRhPT0xAHJlYWRfc2NhbGluZ19saXN0AC0tLS0tLS0tLS0tLS0tLS0tIFNQUyAtLS0tLS0tLS0tLS0tLS0tLQoAdmlkZW9fcGFyYW1ldGVyX3NldF9pZCAgOiAlZAoAc3BzX21heF9zdWJfbGF5ZXJzICAgICAgOiAlZAoAc3BzX3RlbXBvcmFsX2lkX25lc3RpbmdfZmxhZyA6ICVkCgBzZXFfcGFyYW1ldGVyX3NldF9pZCAgICA6ICVkCgA0OjQ6NAB1bmtub3duAG1vbm9jaHJvbWUANDoyOjAANDoyOjIAY2hyb21hX2Zvcm1hdF9pZGMgICAgICAgOiAlZCAoJXMpCgBzZXBhcmF0ZV9jb2xvdXJfcGxhbmVfZmxhZyA6ICVkCgBwaWNfd2lkdGhfaW5fbHVtYV9zYW1wbGVzICA6ICVkCgBwaWNfaGVpZ2h0X2luX2x1bWFfc2FtcGxlcyA6ICVkCgBjb25mb3JtYW5jZV93aW5kb3dfZmxhZyAgICA6ICVkCgBjb25mX3dpbl9sZWZ0X29mZnNldCAgOiAlZAoAY29uZl93aW5fcmlnaHRfb2Zmc2V0IDogJWQKAGNvbmZfd2luX3RvcF9vZmZzZXQgICA6ICVkCgBjb25mX3dpbl9ib3R0b21fb2Zmc2V0OiAlZAoAYml0X2RlcHRoX2x1bWEgICA6ICVkCgBiaXRfZGVwdGhfY2hyb21hIDogJWQKAGxvZzJfbWF4X3BpY19vcmRlcl9jbnRfbHNiIDogJWQKAHNwc19zdWJfbGF5ZXJfb3JkZXJpbmdfaW5mb19wcmVzZW50X2ZsYWcgOiAlZAoAbG9nMl9taW5fbHVtYV9jb2RpbmdfYmxvY2tfc2l6ZSA6ICVkCgBsb2cyX2RpZmZfbWF4X21pbl9sdW1hX2NvZGluZ19ibG9ja19zaXplIDogJWQKAGxvZzJfbWluX3RyYW5zZm9ybV9ibG9ja19zaXplICAgOiAlZAoAbG9nMl9kaWZmX21heF9taW5fdHJhbnNmb3JtX2Jsb2NrX3NpemUgOiAlZAoAbWF4X3RyYW5zZm9ybV9oaWVyYXJjaHlfZGVwdGhfaW50ZXIgOiAlZAoAbWF4X3RyYW5zZm9ybV9oaWVyYXJjaHlfZGVwdGhfaW50cmEgOiAlZAoAc2NhbGluZ19saXN0X2VuYWJsZV9mbGFnIDogJWQKAExheWVyICVkCgAgIHNwc19tYXhfZGVjX3BpY19idWZmZXJpbmcgICAgICA6ICVkCgAgIHNwc19tYXhfbnVtX3Jlb3JkZXJfcGljcyAgICAgICA6ICVkCgAgIHNwc19tYXhfbGF0ZW5jeV9pbmNyZWFzZV9wbHVzMSA6ICVkCgBzcHNfc2NhbGluZ19saXN0X2RhdGFfcHJlc2VudF9mbGFnIDogJWQKAHNjYWxpbmcgbGlzdCBsb2dnaW5nIG91dHB1dCBub3QgaW1wbGVtZW50ZWQAYW1wX2VuYWJsZWRfZmxhZyAgICAgICAgICAgICAgICAgICAgOiAlZAoAc2FtcGxlX2FkYXB0aXZlX29mZnNldF9lbmFibGVkX2ZsYWcgOiAlZAoAcGNtX2VuYWJsZWRfZmxhZyAgICAgICAgICAgICAgICAgICAgOiAlZAoAcGNtX3NhbXBsZV9iaXRfZGVwdGhfbHVtYSAgICAgOiAlZAoAcGNtX3NhbXBsZV9iaXRfZGVwdGhfY2hyb21hICAgOiAlZAoAbG9nMl9taW5fcGNtX2x1bWFfY29kaW5nX2Jsb2NrX3NpemUgOiAlZAoAbG9nMl9kaWZmX21heF9taW5fcGNtX2x1bWFfY29kaW5nX2Jsb2NrX3NpemUgOiAlZAoAcGNtX2xvb3BfZmlsdGVyX2Rpc2FibGVfZmxhZyAgOiAlZAoAbnVtX3Nob3J0X3Rlcm1fcmVmX3BpY19zZXRzIDogJWQKAGxvbmdfdGVybV9yZWZfcGljc19wcmVzZW50X2ZsYWcgOiAlZAoAcmVmX3BpY19zZXRbICUyZCBdOiAAbnVtX2xvbmdfdGVybV9yZWZfcGljc19zcHMgOiAlZAoAbHRfcmVmX3BpY19wb2NfbHNiX3Nwc1slZF0gOiAlZCAgICh1c2VkX2J5X2N1cnJfcGljX2x0X3Nwc19mbGFnPSVkKQoAc3BzX3RlbXBvcmFsX212cF9lbmFibGVkX2ZsYWcgICAgICA6ICVkCgBzdHJvbmdfaW50cmFfc21vb3RoaW5nX2VuYWJsZV9mbGFnIDogJWQKAHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZyAgICAgICAgOiAlZAoAc3BzX2V4dGVuc2lvbl9wcmVzZW50X2ZsYWcgICAgOiAlZAoAc3BzX3JhbmdlX2V4dGVuc2lvbl9mbGFnICAgICAgOiAlZAoAc3BzX211bHRpbGF5ZXJfZXh0ZW5zaW9uX2ZsYWcgOiAlZAoAc3BzX2V4dGVuc2lvbl82Yml0cyAgICAgICAgICAgOiAlZAoAQ3RiU2l6ZVkgICAgIDogJWQKAE1pbkNiU2l6ZVkgICA6ICVkCgBNYXhDYlNpemVZICAgOiAlZAoATWluVEJTaXplWSAgIDogJWQKAE1heFRCU2l6ZVkgICA6ICVkCgBQaWNXaWR0aEluQ3Ric1kgICAgICAgICA6ICVkCgBQaWNIZWlnaHRJbkN0YnNZICAgICAgICA6ICVkCgBTdWJXaWR0aEMgICAgICAgICAgICAgICA6ICVkCgBTdWJIZWlnaHRDICAgICAgICAgICAgICA6ICVkCgAtLS0tLS0tLS0tLS0tLS0tLSBTUFMtcmFuZ2UtZXh0ZW5zaW9uIC0tLS0tLS0tLS0tLS0tLS0tCgB0cmFuc2Zvcm1fc2tpcF9yb3RhdGlvbl9lbmFibGVkX2ZsYWcgICAgOiAlZAoAdHJhbnNmb3JtX3NraXBfY29udGV4dF9lbmFibGVkX2ZsYWcgICAgIDogJWQKAGltcGxpY2l0X3JkcGNtX2VuYWJsZWRfZmxhZyAgICAgICAgICAgICA6ICVkCgBleHBsaWNpdF9yZHBjbV9lbmFibGVkX2ZsYWcgICAgICAgICAgICAgOiAlZAoAZXh0ZW5kZWRfcHJlY2lzaW9uX3Byb2Nlc3NpbmdfZmxhZyAgICAgIDogJWQKAGludHJhX3Ntb290aGluZ19kaXNhYmxlZF9mbGFnICAgICAgICAgICA6ICVkCgBoaWdoX3ByZWNpc2lvbl9vZmZzZXRzX2VuYWJsZWRfZmxhZyAgICAgOiAlZAoAcGVyc2lzdGVudF9yaWNlX2FkYXB0YXRpb25fZW5hYmxlZF9mbGFnIDogJWQKAGNhYmFjX2J5cGFzc19hbGlnbm1lbnRfZW5hYmxlZF9mbGFnICAgICA6ICVkCgB0cmFuc2Zvcm0uY2MAMABzY2FsZV9jb2VmZmljaWVudHNfaW50ZXJuYWwAcmRwY21Nb2RlPT0wAEVSUjogAElORk86IAB2cHMuY2MAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQBmaXJzdExheWVyUmVhZCA8IE1BWF9URU1QT1JBTF9TVUJMQVlFUlMAcmVhZAAtLS0tLS0tLS0tLS0tLS0tLSBWUFMgLS0tLS0tLS0tLS0tLS0tLS0KAHZpZGVvX3BhcmFtZXRlcl9zZXRfaWQgICAgICAgICAgICAgICAgOiAlZAoAdnBzX21heF9sYXllcnMgICAgICAgICAgICAgICAgICAgICAgICA6ICVkCgB2cHNfbWF4X3N1Yl9sYXllcnMgICAgICAgICAgICAgICAgICAgIDogJWQKAHZwc190ZW1wb3JhbF9pZF9uZXN0aW5nX2ZsYWcgICAgICAgICAgOiAlZAoAICBQcm9maWxlL1RpZXIvTGV2ZWwgW0xheWVyICVkXQoAdnBzX3N1Yl9sYXllcl9vcmRlcmluZ19pbmZvX3ByZXNlbnRfZmxhZyA6ICVkCgBsYXllciAlZDogdnBzX21heF9kZWNfcGljX2J1ZmZlcmluZyA9ICVkCgAgICAgICAgICB2cHNfbWF4X251bV9yZW9yZGVyX3BpY3MgID0gJWQKACAgICAgICAgIHZwc19tYXhfbGF0ZW5jeV9pbmNyZWFzZSAgPSAlZAoAbGF5ZXIgKGFsbCk6IHZwc19tYXhfZGVjX3BpY19idWZmZXJpbmcgPSAlZAoAICAgICAgICAgICAgIHZwc19tYXhfbnVtX3Jlb3JkZXJfcGljcyAgPSAlZAoAICAgICAgICAgICAgIHZwc19tYXhfbGF0ZW5jeV9pbmNyZWFzZSAgPSAlZAoAdnBzX21heF9sYXllcl9pZCAgID0gJWQKAHZwc19udW1fbGF5ZXJfc2V0cyA9ICVkCgB2cHNfdGltaW5nX2luZm9fcHJlc2VudF9mbGFnID0gJWQKAGxheWVyX2lkX2luY2x1ZGVkX2ZsYWdbJWRdWyVkXSA9ICVkCgB2cHNfbnVtX3VuaXRzX2luX3RpY2sgPSAlZAoAdnBzX3RpbWVfc2NhbGUgICAgICAgID0gJWQKAHZwc19wb2NfcHJvcG9ydGlvbmFsX3RvX3RpbWluZ19mbGFnID0gJWQKAHZwc19udW1fdGlja3NfcG9jX2RpZmZfb25lID0gJWQKAHZwc19udW1faHJkX3BhcmFtZXRlcnMgICAgID0gJWQKAGhyZF9sYXllcl9zZXRfaWR4WyVkXSA9ICVkCgB2cHNfZXh0ZW5zaW9uX2ZsYWcgPSAlZAoAZ2VuZXJhbABzdWJfbGF5ZXIAICAlc19wcm9maWxlX3NwYWNlICAgICA6ICVkCgAgICVzX3RpZXJfZmxhZyAgICAgICAgIDogJWQKACh1bmtub3duKQBGb3JtYXRSYW5nZUV4dGVuc2lvbnMATWFpblN0aWxsUGljdHVyZQBNYWluMTAATWFpbgAgICVzX3Byb2ZpbGVfaWRjICAgICAgIDogJXMKACAgJXNfcHJvZmlsZV9jb21wYXRpYmlsaXR5X2ZsYWdzOiAAKgoAICAgICVzX3Byb2dyZXNzaXZlX3NvdXJjZV9mbGFnIDogJWQKACAgICAlc19pbnRlcmxhY2VkX3NvdXJjZV9mbGFnIDogJWQKACAgICAlc19ub25fcGFja2VkX2NvbnN0cmFpbnRfZmxhZyA6ICVkCgAgICAgJXNfZnJhbWVfb25seV9jb25zdHJhaW50X2ZsYWcgOiAlZAoAKiwAKiVkACAgJXNfbGV2ZWxfaWRjICAgICAgICAgOiAlZCAoJTQuMmYpCgB1bnNwZWNpZmllZABNQUMAU0VDQU0ATlRTQwBQQUwAY29tcG9uZW50AC0tLS0tLS0tLS0tLS0tLS0tIFZVSSAtLS0tLS0tLS0tLS0tLS0tLQoAc2FtcGxlIGFzcGVjdCByYXRpbyAgICAgICAgOiAlZDolZAoAb3ZlcnNjYW5faW5mb19wcmVzZW50X2ZsYWcgOiAlZAoAb3ZlcnNjYW5fYXBwcm9wcmlhdGVfZmxhZyAgOiAlZAoAdmlkZW9fc2lnbmFsX3R5cGVfcHJlc2VudF9mbGFnOiAlZAoAICB2aWRlb19mb3JtYXQgICAgICAgICAgICAgICAgOiAlcwoAICB2aWRlb19mdWxsX3JhbmdlX2ZsYWcgICAgICAgOiAlZAoAICBjb2xvdXJfZGVzY3JpcHRpb25fcHJlc2VudF9mbGFnIDogJWQKACAgY29sb3VyX3ByaW1hcmllcyAgICAgICAgICAgIDogJWQKACAgdHJhbnNmZXJfY2hhcmFjdGVyaXN0aWNzICAgIDogJWQKACAgbWF0cml4X2NvZWZmcyAgICAgICAgICAgICAgIDogJWQKAGNocm9tYV9sb2NfaW5mb19wcmVzZW50X2ZsYWc6ICVkCgAgIGNocm9tYV9zYW1wbGVfbG9jX3R5cGVfdG9wX2ZpZWxkICAgOiAlZAoAICBjaHJvbWFfc2FtcGxlX2xvY190eXBlX2JvdHRvbV9maWVsZDogJWQKAG5ldXRyYWxfY2hyb21hX2luZGljYXRpb25fZmxhZzogJWQKAGZpZWxkX3NlcV9mbGFnICAgICAgICAgICAgICAgIDogJWQKAGZyYW1lX2ZpZWxkX2luZm9fcHJlc2VudF9mbGFnIDogJWQKAGRlZmF1bHRfZGlzcGxheV93aW5kb3dfZmxhZyAgIDogJWQKACAgZGVmX2Rpc3Bfd2luX2xlZnRfb2Zmc2V0ICAgIDogJWQKACAgZGVmX2Rpc3Bfd2luX3JpZ2h0X29mZnNldCAgIDogJWQKACAgZGVmX2Rpc3Bfd2luX3RvcF9vZmZzZXQgICAgIDogJWQKACAgZGVmX2Rpc3Bfd2luX2JvdHRvbV9vZmZzZXQgIDogJWQKAHZ1aV90aW1pbmdfaW5mb19wcmVzZW50X2ZsYWcgIDogJWQKACAgdnVpX251bV91bml0c19pbl90aWNrICAgICAgIDogJWQKACAgdnVpX3RpbWVfc2NhbGUgICAgICAgICAgICAgIDogJWQKAHZ1aV9wb2NfcHJvcG9ydGlvbmFsX3RvX3RpbWluZ19mbGFnIDogJWQKAHZ1aV9udW1fdGlja3NfcG9jX2RpZmZfb25lICAgICAgICAgIDogJWQKAHZ1aV9ocmRfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWcgOiAlZAoAYml0c3RyZWFtX3Jlc3RyaWN0aW9uX2ZsYWcgICAgICAgICA6ICVkCgAgIHRpbGVzX2ZpeGVkX3N0cnVjdHVyZV9mbGFnICAgICAgIDogJWQKACAgbW90aW9uX3ZlY3RvcnNfb3Zlcl9waWNfYm91bmRhcmllc19mbGFnIDogJWQKACAgcmVzdHJpY3RlZF9yZWZfcGljX2xpc3RzX2ZsYWcgICAgOiAlZAoAICBtaW5fc3BhdGlhbF9zZWdtZW50YXRpb25faWRjICAgICA6ICVkCgAgIG1heF9ieXRlc19wZXJfcGljX2Rlbm9tICAgICAgICAgIDogJWQKACAgbWF4X2JpdHNfcGVyX21pbl9jdV9kZW5vbSAgICAgICAgOiAlZAoAICBsb2cyX21heF9tdl9sZW5ndGhfaG9yaXpvbnRhbCAgICA6ICVkCgAgIGxvZzJfbWF4X212X2xlbmd0aF92ZXJ0aWNhbCAgICAgIDogJWQKAGJpdHN0cmVhbS5jYwB2YWx1ZT4wAGdldF91dmxjAICw0PCAp8XjgJ672HuWss10jqnDb4eguWmAmK9kepCmX3SJnlpugpZVaHuOUWN1h01eb4BJWWl6RVVkdEJQX24+TFpoO0hWYzhFUV41QU1ZMz5JVTA7RVAuOEJMKzU/SCkyO0UnMDhBJS02PiMrMzshKTA4ICcuNR4lKzIdIykwGyEnLRofJSsYHiMpFxwhJxYbICUVGh4jFBgdIRMXGx8SFhoeERUZHBAUFxsPExYZDhIVGA4RFBcNEBMWDA8SFQwOERQLDhATCw0PEgoMDxEKDA4QCQsNDwkLDA4ICgwOCAkLDQcJCwwHCQoMBwgKCwYICQsGBwkKBgcICQICAgIGBQQEAwMDAwICAgICAgICAQEBAQEBAQEBAQEBAQEBAQAAAQICBAQFBgcICQkLCwwNDQ8PEBASEhMTFRUWFhcYGBkaGhsbHB0dHh4eHyAgISEhIiIjIyMkJCQlJSUmJj8BAgMEBQYHCAkKCwwNDg8QERITFBUWFxgZGhscHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj4/Y2FiYWMuY2MAbGVuZ3RoID49IDAAaW5pdF9DQUJBQ19kZWNvZGVyACVwIGMndG9yID0gJXAKACVwIGRlc3RydWN0b3IKAG1mcmVlICVwCgAlcCBpbml0CgAqcmVmY250PjEAY29udGV4dG1vZGVsLmNjAGRlY291cGxlX29yX2FsbG9jX3dpdGhfZW1wdHlfZGF0YQAlcCAoYWxsb2MpCgBtb2RlbFtpXS5zdGF0ZSA8PSA2MgBzZXRfaW5pdFZhbHVlACVwIHJlbGVhc2UgJXAKACVwIGRlY291cGxlICglcCkKAHJlZmNudABkZWNvdXBsZQAlcCBhc3NpZ24gPSAlcAoAZGVibG9jay0lZAAAAAAAAAAAAAAAAAAAAAAAAAABAQEBAQEBAQECAgICAwMDAwQEBAUFBgYHCAkKCw0OEBIUFhgAAAAAAAAAAAAAAAAAAAAABgcICQoLDA0ODxAREhQWGBocHiAiJCYoKiwuMDI0Njg6PD5AcmVmUGljUTA9PXJlZlBpY1ExAGRlYmxvY2suY2MAZGVyaXZlX2JvdW5kYXJ5U3RyZW5ndGgAMjZ0aHJlYWRfdGFza19kZWJsb2NrX0NUQlJvdwBpbnRyYXByZWQuY2MAaW50cmFQcmVkTW9kZTwzNQBpbnRyYV9wcmVkaWN0aW9uX2FuZ3VsYXIAaW50cmFQcmVkTW9kZT49MgBpbnRyYV9wcmVkaWN0aW9uX3NhbXBsZV9maWx0ZXJpbmcAc2hkci0+c2xpY2VfdHlwZSA9PSBTTElDRV9UWVBFX0IAbW90aW9uLmNjAGdlbmVyYXRlX2ludGVyX3ByZWRpY3Rpb25fc2FtcGxlcwBtY19jaHJvbWEAdW5pdFggPj0gMCAmJiB1bml0WCA8IHdpZHRoX2luX3VuaXRzAC4uL2xpYmRlMjY1L2ltYWdlLmgAZ2V0AHVuaXRZID49IDAgJiYgdW5pdFkgPCBoZWlnaHRfaW5fdW5pdHMAY3R4LT5oYXNfaW1hZ2UoY29sUGljKQBkZXJpdmVfY29sbG9jYXRlZF9tb3Rpb25fdmVjdG9ycwBkZXJpdmVfY29tYmluZWRfYmlwcmVkaWN0aXZlX21lcmdpbmdfY2FuZGlkYXRlcwByZWZQaWNMaXN0Pj0wAGRlcml2ZV9zcGF0aWFsX2x1bWFfdmVjdG9yX3ByZWRpY3Rpb24AbnVtTVZQQ2FuZExYPT0yAGZpbGxfbHVtYV9tb3Rpb25fdmVjdG9yX3ByZWRpY3RvcnMAUklkeD49MAByZWZwaWMuY2MAcmVhZF9zaG9ydF90ZXJtX3JlZl9waWNfc2V0AFJJZHggPj0gMCAmJiBSSWR4IDwgc2V0cy5zaXplKCkAaj49MCAmJiBqIDwgTUFYX05VTV9SRUZfUElDUwAqJWQlYyAAKiVzCgB2b2lkAGJvb2wAY2hhcgBzaWduZWQgY2hhcgB1bnNpZ25lZCBjaGFyAHNob3J0AHVuc2lnbmVkIHNob3J0AGludAB1bnNpZ25lZCBpbnQAbG9uZwB1bnNpZ25lZCBsb25nAGZsb2F0AGRvdWJsZQBzdGQ6OnN0cmluZwBzdGQ6OmJhc2ljX3N0cmluZzx1bnNpZ25lZCBjaGFyPgBzdGQ6OndzdHJpbmcAZW1zY3JpcHRlbjo6dmFsAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgc2hvcnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgaW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDE2X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQzMl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8ZmxvYXQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGRvdWJsZT4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8bG9uZyBkb3VibGU+AE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWVFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lkRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJZkVFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SW1FRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lsRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJakVFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWlFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0l0RUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJc0VFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWhFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lhRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJY0VFAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0l3TlNfMTFjaGFyX3RyYWl0c0l3RUVOU185YWxsb2NhdG9ySXdFRUVFAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0loTlNfMTFjaGFyX3RyYWl0c0loRUVOU185YWxsb2NhdG9ySWhFRUVFABEACgAREREAAAAABQAAAAAAAAkAAAAACwAAAAAAAAAAEQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERERAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAABEACgoREREACgAAAgAJCwAAAAkACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAADQAAAAQNAAAAAAkOAAAAAAAOAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAA8AAAAADwAAAAAJEAAAAAAAEAAAEAAAEgAAABISEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAEhISAAAAAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAACgAAAAAKAAAAAAkLAAAAAAALAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAADAAAAAAJDAAAAAAADAAADAAALSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBOQU4AMDEyMzQ1Njc4OUFCQ0RFRi4AVCEiGQ0BAgMRSxwMEAQLHRIeJ2hub3BxYiAFBg8TFBUaCBYHKCQXGAkKDhsfJSODgn0mKis8PT4/Q0dKTVhZWltcXV5fYGFjZGVmZ2lqa2xyc3R5ent8AElsbGVnYWwgYnl0ZSBzZXF1ZW5jZQBEb21haW4gZXJyb3IAUmVzdWx0IG5vdCByZXByZXNlbnRhYmxlAE5vdCBhIHR0eQBQZXJtaXNzaW9uIGRlbmllZABPcGVyYXRpb24gbm90IHBlcm1pdHRlZABObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5AE5vIHN1Y2ggcHJvY2VzcwBGaWxlIGV4aXN0cwBWYWx1ZSB0b28gbGFyZ2UgZm9yIGRhdGEgdHlwZQBObyBzcGFjZSBsZWZ0IG9uIGRldmljZQBPdXQgb2YgbWVtb3J5AFJlc291cmNlIGJ1c3kASW50ZXJydXB0ZWQgc3lzdGVtIGNhbGwAUmVzb3VyY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUASW52YWxpZCBzZWVrAENyb3NzLWRldmljZSBsaW5rAFJlYWQtb25seSBmaWxlIHN5c3RlbQBEaXJlY3Rvcnkgbm90IGVtcHR5AENvbm5lY3Rpb24gcmVzZXQgYnkgcGVlcgBPcGVyYXRpb24gdGltZWQgb3V0AENvbm5lY3Rpb24gcmVmdXNlZABIb3N0IGlzIGRvd24ASG9zdCBpcyB1bnJlYWNoYWJsZQBBZGRyZXNzIGluIHVzZQBCcm9rZW4gcGlwZQBJL08gZXJyb3IATm8gc3VjaCBkZXZpY2Ugb3IgYWRkcmVzcwBCbG9jayBkZXZpY2UgcmVxdWlyZWQATm8gc3VjaCBkZXZpY2UATm90IGEgZGlyZWN0b3J5AElzIGEgZGlyZWN0b3J5AFRleHQgZmlsZSBidXN5AEV4ZWMgZm9ybWF0IGVycm9yAEludmFsaWQgYXJndW1lbnQAQXJndW1lbnQgbGlzdCB0b28gbG9uZwBTeW1ib2xpYyBsaW5rIGxvb3AARmlsZW5hbWUgdG9vIGxvbmcAVG9vIG1hbnkgb3BlbiBmaWxlcyBpbiBzeXN0ZW0ATm8gZmlsZSBkZXNjcmlwdG9ycyBhdmFpbGFibGUAQmFkIGZpbGUgZGVzY3JpcHRvcgBObyBjaGlsZCBwcm9jZXNzAEJhZCBhZGRyZXNzAEZpbGUgdG9vIGxhcmdlAFRvbyBtYW55IGxpbmtzAE5vIGxvY2tzIGF2YWlsYWJsZQBSZXNvdXJjZSBkZWFkbG9jayB3b3VsZCBvY2N1cgBTdGF0ZSBub3QgcmVjb3ZlcmFibGUAUHJldmlvdXMgb3duZXIgZGllZABPcGVyYXRpb24gY2FuY2VsZWQARnVuY3Rpb24gbm90IGltcGxlbWVudGVkAE5vIG1lc3NhZ2Ugb2YgZGVzaXJlZCB0eXBlAElkZW50aWZpZXIgcmVtb3ZlZABEZXZpY2Ugbm90IGEgc3RyZWFtAE5vIGRhdGEgYXZhaWxhYmxlAERldmljZSB0aW1lb3V0AE91dCBvZiBzdHJlYW1zIHJlc291cmNlcwBMaW5rIGhhcyBiZWVuIHNldmVyZWQAUHJvdG9jb2wgZXJyb3IAQmFkIG1lc3NhZ2UARmlsZSBkZXNjcmlwdG9yIGluIGJhZCBzdGF0ZQBOb3QgYSBzb2NrZXQARGVzdGluYXRpb24gYWRkcmVzcyByZXF1aXJlZABNZXNzYWdlIHRvbyBsYXJnZQBQcm90b2NvbCB3cm9uZyB0eXBlIGZvciBzb2NrZXQAUHJvdG9jb2wgbm90IGF2YWlsYWJsZQBQcm90b2NvbCBub3Qgc3VwcG9ydGVkAFNvY2tldCB0eXBlIG5vdCBzdXBwb3J0ZWQATm90IHN1cHBvcnRlZABQcm90b2NvbCBmYW1pbHkgbm90IHN1cHBvcnRlZABBZGRyZXNzIGZhbWlseSBub3Qgc3VwcG9ydGVkIGJ5IHByb3RvY29sAEFkZHJlc3Mgbm90IGF2YWlsYWJsZQBOZXR3b3JrIGlzIGRvd24ATmV0d29yayB1bnJlYWNoYWJsZQBDb25uZWN0aW9uIHJlc2V0IGJ5IG5ldHdvcmsAQ29ubmVjdGlvbiBhYm9ydGVkAE5vIGJ1ZmZlciBzcGFjZSBhdmFpbGFibGUAU29ja2V0IGlzIGNvbm5lY3RlZABTb2NrZXQgbm90IGNvbm5lY3RlZABDYW5ub3Qgc2VuZCBhZnRlciBzb2NrZXQgc2h1dGRvd24AT3BlcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MAT3BlcmF0aW9uIGluIHByb2dyZXNzAFN0YWxlIGZpbGUgaGFuZGxlAFJlbW90ZSBJL08gZXJyb3IAUXVvdGEgZXhjZWVkZWQATm8gbWVkaXVtIGZvdW5kAFdyb25nIG1lZGl1bSB0eXBlAE5vIGVycm9yIGluZm9ybWF0aW9uAAD/////////////////////////////////////////////////////////////////AAECAwQFBgcICf////////8KCwwNDg8QERITFBUWFxgZGhscHR4fICEiI////////woLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIj/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wABAgQHAwYFAGluZmluaXR5AG5hbgBMQ19BTEwATENfQ1RZUEUAAAAATENfTlVNRVJJQwAATENfVElNRQAAAAAATENfQ09MTEFURQAATENfTU9ORVRBUlkATENfTUVTU0FHRVMATEFORwBDLlVURi04AFBPU0lYAE1VU0xfTE9DUEFUSABOU3QzX18yOGlvc19iYXNlRQBOU3QzX18yOWJhc2ljX2lvc0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRQBOU3QzX18yOWJhc2ljX2lvc0l3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRQBOU3QzX18yMTViYXNpY19zdHJlYW1idWZJY05TXzExY2hhcl90cmFpdHNJY0VFRUUATlN0M19fMjE1YmFzaWNfc3RyZWFtYnVmSXdOU18xMWNoYXJfdHJhaXRzSXdFRUVFAE5TdDNfXzIxM2Jhc2ljX2lzdHJlYW1JY05TXzExY2hhcl90cmFpdHNJY0VFRUUATlN0M19fMjEzYmFzaWNfaXN0cmVhbUl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRQBOU3QzX18yMTNiYXNpY19vc3RyZWFtSWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFAE5TdDNfXzIxM2Jhc2ljX29zdHJlYW1Jd05TXzExY2hhcl90cmFpdHNJd0VFRUUATlN0M19fMjE0YmFzaWNfaW9zdHJlYW1JY05TXzExY2hhcl90cmFpdHNJY0VFRUUATlN0M19fMjExX19zdGRvdXRidWZJd0VFAE5TdDNfXzIxMV9fc3Rkb3V0YnVmSWNFRQB1bnN1cHBvcnRlZCBsb2NhbGUgZm9yIHN0YW5kYXJkIGlucHV0AE5TdDNfXzIxMF9fc3RkaW5idWZJd0VFAE5TdDNfXzIxMF9fc3RkaW5idWZJY0VFAE5TdDNfXzI3Y29sbGF0ZUljRUUATlN0M19fMjZsb2NhbGU1ZmFjZXRFAE5TdDNfXzI3Y29sbGF0ZUl3RUUAMDEyMzQ1Njc4OWFiY2RlZkFCQ0RFRnhYKy1wUGlJbk4AJXAAQwBOU3QzX18yN251bV9nZXRJY05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzI5X19udW1fZ2V0SWNFRQBOU3QzX18yMTRfX251bV9nZXRfYmFzZUUATlN0M19fMjdudW1fZ2V0SXdOU18xOWlzdHJlYW1idWZfaXRlcmF0b3JJd05TXzExY2hhcl90cmFpdHNJd0VFRUVFRQBOU3QzX18yOV9fbnVtX2dldEl3RUUAJXAAAAAATABsbAAlAAAAAABsAE5TdDNfXzI3bnVtX3B1dEljTlNfMTlvc3RyZWFtYnVmX2l0ZXJhdG9ySWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFRUUATlN0M19fMjlfX251bV9wdXRJY0VFAE5TdDNfXzIxNF9fbnVtX3B1dF9iYXNlRQBOU3QzX18yN251bV9wdXRJd05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzI5X19udW1fcHV0SXdFRQAlSDolTTolUwAlbS8lZC8leQAlSTolTTolUyAlcAAlYSAlYiAlZCAlSDolTTolUyAlWQBBTQBQTQBKYW51YXJ5AEZlYnJ1YXJ5AE1hcmNoAEFwcmlsAE1heQBKdW5lAEp1bHkAQXVndXN0AFNlcHRlbWJlcgBPY3RvYmVyAE5vdmVtYmVyAERlY2VtYmVyAEphbgBGZWIATWFyAEFwcgBKdW4ASnVsAEF1ZwBTZXAAT2N0AE5vdgBEZWMAU3VuZGF5AE1vbmRheQBUdWVzZGF5AFdlZG5lc2RheQBUaHVyc2RheQBGcmlkYXkAU2F0dXJkYXkAU3VuAE1vbgBUdWUAV2VkAFRodQBGcmkAU2F0ACVtLyVkLyV5JVktJW0tJWQlSTolTTolUyAlcCVIOiVNJUg6JU06JVMlSDolTTolU05TdDNfXzI4dGltZV9nZXRJY05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIyMF9fdGltZV9nZXRfY19zdG9yYWdlSWNFRQBOU3QzX18yOXRpbWVfYmFzZUUATlN0M19fMjh0aW1lX2dldEl3TlNfMTlpc3RyZWFtYnVmX2l0ZXJhdG9ySXdOU18xMWNoYXJfdHJhaXRzSXdFRUVFRUUATlN0M19fMjIwX190aW1lX2dldF9jX3N0b3JhZ2VJd0VFAE5TdDNfXzI4dGltZV9wdXRJY05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMF9fdGltZV9wdXRFAE5TdDNfXzI4dGltZV9wdXRJd05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMG1vbmV5cHVuY3RJY0xiMEVFRQBOU3QzX18yMTBtb25leV9iYXNlRQBOU3QzX18yMTBtb25leXB1bmN0SWNMYjFFRUUATlN0M19fMjEwbW9uZXlwdW5jdEl3TGIwRUVFAE5TdDNfXzIxMG1vbmV5cHVuY3RJd0xiMUVFRQAwMTIzNDU2Nzg5ACVMZgBOU3QzX18yOW1vbmV5X2dldEljTlNfMTlpc3RyZWFtYnVmX2l0ZXJhdG9ySWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFRUUATlN0M19fMjExX19tb25leV9nZXRJY0VFADAxMjM0NTY3ODkATlN0M19fMjltb25leV9nZXRJd05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SXdFRQAlLjBMZgBOU3QzX18yOW1vbmV5X3B1dEljTlNfMTlvc3RyZWFtYnVmX2l0ZXJhdG9ySWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFRUUATlN0M19fMjExX19tb25leV9wdXRJY0VFAE5TdDNfXzI5bW9uZXlfcHV0SXdOU18xOW9zdHJlYW1idWZfaXRlcmF0b3JJd05TXzExY2hhcl90cmFpdHNJd0VFRUVFRQBOU3QzX18yMTFfX21vbmV5X3B1dEl3RUUATlN0M19fMjhtZXNzYWdlc0ljRUUATlN0M19fMjEzbWVzc2FnZXNfYmFzZUUATlN0M19fMjE3X193aWRlbl9mcm9tX3V0ZjhJTGozMkVFRQBOU3QzX18yN2NvZGVjdnRJRGljMTFfX21ic3RhdGVfdEVFAE5TdDNfXzIxMmNvZGVjdnRfYmFzZUUATlN0M19fMjE2X19uYXJyb3dfdG9fdXRmOElMajMyRUVFAE5TdDNfXzI4bWVzc2FnZXNJd0VFAE5TdDNfXzI3Y29kZWN2dEljYzExX19tYnN0YXRlX3RFRQBOU3QzX18yN2NvZGVjdnRJd2MxMV9fbWJzdGF0ZV90RUUATlN0M19fMjdjb2RlY3Z0SURzYzExX19tYnN0YXRlX3RFRQBOU3QzX18yNmxvY2FsZTVfX2ltcEUATlN0M19fMjVjdHlwZUljRUUATlN0M19fMjEwY3R5cGVfYmFzZUUATlN0M19fMjVjdHlwZUl3RUUAZmFsc2UAdHJ1ZQBOU3QzX18yOG51bXB1bmN0SWNFRQBOU3QzX18yOG51bXB1bmN0SXdFRQBOU3QzX18yMTRfX3NoYXJlZF9jb3VudEUATlN0M19fMjE5X19zaGFyZWRfd2Vha19jb3VudEUAYmFkX3dlYWtfcHRyAE5TdDNfXzIxMmJhZF93ZWFrX3B0ckUAdGVybWluYXRpbmcgd2l0aCAlcyBleGNlcHRpb24gb2YgdHlwZSAlczogJXMAdGVybWluYXRpbmcgd2l0aCAlcyBleGNlcHRpb24gb2YgdHlwZSAlcwB0ZXJtaW5hdGluZyB3aXRoICVzIGZvcmVpZ24gZXhjZXB0aW9uAHRlcm1pbmF0aW5nAHVuY2F1Z2h0AFN0OWV4Y2VwdGlvbgBOMTBfX2N4eGFiaXYxMTZfX3NoaW1fdHlwZV9pbmZvRQBTdDl0eXBlX2luZm8ATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQBwdGhyZWFkX29uY2UgZmFpbHVyZSBpbiBfX2N4YV9nZXRfZ2xvYmFsc19mYXN0KCkAY2Fubm90IGNyZWF0ZSBwdGhyZWFkIGtleSBmb3IgX19jeGFfZ2V0X2dsb2JhbHMoKQBjYW5ub3QgemVybyBvdXQgdGhyZWFkIHZhbHVlIGZvciBfX2N4YV9nZXRfZ2xvYmFscygpAHRlcm1pbmF0ZV9oYW5kbGVyIHVuZXhwZWN0ZWRseSByZXR1cm5lZABTdDExbG9naWNfZXJyb3IAU3QxMmxlbmd0aF9lcnJvcgBOMTBfX2N4eGFiaXYxMTlfX3BvaW50ZXJfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMTdfX3BiYXNlX3R5cGVfaW5mb0UATjEwX19jeHhhYml2MTIzX19mdW5kYW1lbnRhbF90eXBlX2luZm9FAHYARG4AYgBjAGgAYQBzAHQAaQBqAG0AZgBkAE4xMF9fY3h4YWJpdjExNl9fZW51bV90eXBlX2luZm9FAE4xMF9fY3h4YWJpdjEyMV9fdm1pX2NsYXNzX3R5cGVfaW5mb0U="),staticInit:function(){yA.isWindows=!!process.platform.match(/^win/)},mount:function(A){return h(o),yA.createNode(null,"/",yA.getMode(A.opts.root),0)},createNode:function(A,e,r,i){if(!EA.isDir(r)&&!EA.isFile(r)&&!EA.isLink(r))throw new EA.ErrnoError(hA.EINVAL);var f=EA.createNode(A,e,r);return f.node_ops=yA.node_ops,f.stream_ops=yA.stream_ops,f},getMode:function(A){var e;try{e=ur.lstatSync(A),yA.isWindows&&(e.mode=e.mode|(146&e.mode)>>1)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}return e.mode},realPath:function(A){for(var e=[];A.parent!==A;)e.push(A.name),A=A.parent;return e.push(A.mount.opts.root),e.reverse(),mA.join.apply(null,e)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(A){if(A&=-2097153,A&=-2049,A&=-32769,(A&=-524289)in yA.flagsToPermissionStringMap)return yA.flagsToPermissionStringMap[A];throw new EA.ErrnoError(hA.EINVAL)},node_ops:{getattr:function(A){var e,r=yA.realPath(A);try{e=ur.lstatSync(r)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}return yA.isWindows&&!e.blksize&&(e.blksize=4096),yA.isWindows&&!e.blocks&&(e.blocks=(e.size+e.blksize-1)/e.blksize|0),{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},setattr:function(A,e){var r=yA.realPath(A);try{if(void 0!==e.mode&&(ur.chmodSync(r,e.mode),A.mode=e.mode),void 0!==e.timestamp){var i=new Date(e.timestamp);ur.utimesSync(r,i,i)}void 0!==e.size&&ur.truncateSync(r,e.size)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}},lookup:function(A,e){var r=mA.join2(yA.realPath(A),e),i=yA.getMode(r);return yA.createNode(A,e,i)},mknod:function(A,e,r,i){var f=yA.createNode(A,e,r,i),n=yA.realPath(f);try{EA.isDir(f.mode)?ur.mkdirSync(n,f.mode):ur.writeFileSync(n,"",{mode:f.mode})}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}return f},rename:function(A,e,r){var i=yA.realPath(A),f=mA.join2(yA.realPath(e),r);try{ur.renameSync(i,f)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}},unlink:function(A,e){var r=mA.join2(yA.realPath(A),e);try{ur.unlinkSync(r)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}},rmdir:function(A,e){var r=mA.join2(yA.realPath(A),e);try{ur.rmdirSync(r)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}},readdir:function(A){var e=yA.realPath(A);try{return ur.readdirSync(e)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}},symlink:function(A,e,r){var i=mA.join2(yA.realPath(A),e);try{ur.symlinkSync(r,i)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}},readlink:function(A){var e=yA.realPath(A);try{return e=ur.readlinkSync(e),e=br.relative(br.resolve(A.mount.opts.root),e)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}}},stream_ops:{open:function(A){var e=yA.realPath(A.node);try{EA.isFile(A.node.mode)&&(A.nfd=ur.openSync(e,yA.flagsToPermissionString(A.flags)))}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}},close:function(A){try{EA.isFile(A.node.mode)&&A.nfd&&ur.closeSync(A.nfd)}catch(A){if(!A.code)throw A;throw new EA.ErrnoError(hA[A.code])}},read:function(A,e,r,i,f){if(0===i)return 0;var n,t=new Buffer(i);try{n=ur.readSync(A.nfd,t,0,i,f)}catch(A){throw new EA.ErrnoError(hA[A.code])}if(0<n)for(var o=0;o<n;o++)e[r+o]=t[o];return n},write:function(A,e,r,i,f){var n,t=new Buffer(e.subarray(r,r+i));try{n=ur.writeSync(A.nfd,t,0,i,f)}catch(A){throw new EA.ErrnoError(hA[A.code])}return n},llseek:function(A,e,r){var i=e;if(1===r)i+=A.position;else if(2===r&&EA.isFile(A.node.mode))try{i+=ur.fstatSync(A.nfd).size}catch(A){throw new EA.ErrnoError(hA[A.code])}if(i<0)throw new EA.ErrnoError(hA.EINVAL);return i}}},BA={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(A){h(l),BA.reader||(BA.reader=new FileReaderSync);var n=BA.createNode(null,"/",BA.DIR_MODE,0),t={};function i(A){for(var e=A.split("/"),r=n,i=0;i<e.length-1;i++){var f=e.slice(0,i+1).join("/");t[f]||(t[f]=BA.createNode(r,e[i],BA.DIR_MODE,0)),r=t[f]}return r}function f(A){var e=A.split("/");return e[e.length-1]}return Array.prototype.forEach.call(A.opts.files||[],function(A){BA.createNode(i(A.name),f(A.name),BA.FILE_MODE,0,A,A.lastModifiedDate)}),(A.opts.blobs||[]).forEach(function(A){BA.createNode(i(A.name),f(A.name),BA.FILE_MODE,0,A.data)}),(A.opts.packages||[]).forEach(function(r){r.metadata.files.forEach(function(A){var e=A.filename.substr(1);BA.createNode(i(e),f(e),BA.FILE_MODE,0,r.blob.slice(A.start,A.end))})}),n},createNode:function(A,e,r,i,f,n){var t=EA.createNode(A,e,r);return t.mode=r,t.node_ops=BA.node_ops,t.stream_ops=BA.stream_ops,t.timestamp=(n||new Date).getTime(),h(BA.FILE_MODE!==BA.DIR_MODE),r===BA.FILE_MODE?(t.size=f.size,t.contents=f):(t.size=4096,t.contents={}),A&&(A.contents[e]=t),t},node_ops:{getattr:function(A){return{dev:1,ino:void 0,mode:A.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:A.size,atime:new Date(A.timestamp),mtime:new Date(A.timestamp),ctime:new Date(A.timestamp),blksize:4096,blocks:Math.ceil(A.size/4096)}},setattr:function(A,e){void 0!==e.mode&&(A.mode=e.mode),void 0!==e.timestamp&&(A.timestamp=e.timestamp)},lookup:function(A,e){throw new EA.ErrnoError(hA.ENOENT)},mknod:function(A,e,r,i){throw new EA.ErrnoError(hA.EPERM)},rename:function(A,e,r){throw new EA.ErrnoError(hA.EPERM)},unlink:function(A,e){throw new EA.ErrnoError(hA.EPERM)},rmdir:function(A,e){throw new EA.ErrnoError(hA.EPERM)},readdir:function(A){var e=[".",".."];for(var r in A.contents)A.contents.hasOwnProperty(r)&&e.push(r);return e},symlink:function(A,e,r){throw new EA.ErrnoError(hA.EPERM)},readlink:function(A){throw new EA.ErrnoError(hA.EPERM)}},stream_ops:{read:function(A,e,r,i,f){if(f>=A.node.size)return 0;var n=A.node.contents.slice(f,f+i),t=BA.reader.readAsArrayBuffer(n);return e.set(new Uint8Array(t),r),n.size},write:function(A,e,r,i,f){throw new EA.ErrnoError(hA.EIO)},llseek:function(A,e,r){var i=e;if(1===r?i+=A.position:2===r&&EA.isFile(A.node.mode)&&(i+=A.node.size),i<0)throw new EA.ErrnoError(hA.EINVAL);return i}}};R+=16,R+=16,R+=16;var EA={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(A){if(!(A instanceof EA.ErrnoError))throw A+" : "+p();return wA(A.errno)},lookupPath:function(A,e){if(e=e||{},!(A=mA.resolve(EA.cwd(),A)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var i in r)void 0===e[i]&&(e[i]=r[i]);if(8<e.recurse_count)throw new EA.ErrnoError(hA.ELOOP);for(var f=mA.normalizeArray(A.split("/").filter(function(A){return!!A}),!1),n=EA.root,t="/",o=0;o<f.length;o++){var a=o===f.length-1;if(a&&e.parent)break;if(n=EA.lookupNode(n,f[o]),t=mA.join2(t,f[o]),EA.isMountpoint(n)&&(!a||a&&e.follow_mount)&&(n=n.mounted.root),!a||e.follow)for(var c=0;EA.isLink(n.mode);){var l=EA.readlink(t);if(t=mA.resolve(mA.dirname(t),l),n=EA.lookupPath(t,{recurse_count:e.recurse_count}).node,40<c++)throw new EA.ErrnoError(hA.ELOOP)}}return{path:t,node:n}},getPath:function(A){for(var e;;){if(EA.isRoot(A)){var r=A.mount.mountpoint;return e?"/"!==r[r.length-1]?r+"/"+e:r+e:r}e=e?A.name+"/"+e:A.name,A=A.parent}},hashName:function(A,e){for(var r=0,i=0;i<e.length;i++)r=(r<<5)-r+e.charCodeAt(i)|0;return(A+r>>>0)%EA.nameTable.length},hashAddNode:function(A){var e=EA.hashName(A.parent.id,A.name);A.name_next=EA.nameTable[e],EA.nameTable[e]=A},hashRemoveNode:function(A){var e=EA.hashName(A.parent.id,A.name);if(EA.nameTable[e]===A)EA.nameTable[e]=A.name_next;else for(var r=EA.nameTable[e];r;){if(r.name_next===A){r.name_next=A.name_next;break}r=r.name_next}},lookupNode:function(A,e){var r=EA.mayLookup(A);if(r)throw new EA.ErrnoError(r,A);for(var i=EA.hashName(A.id,e),f=EA.nameTable[i];f;f=f.name_next){var n=f.name;if(f.parent.id===A.id&&n===e)return f}return EA.lookup(A,e)},createNode:function(A,e,r,i){if(!EA.FSNode){EA.FSNode=function(A,e,r,i){A=A||this,this.parent=A,this.mount=A.mount,this.mounted=null,this.id=EA.nextInode++,this.name=e,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=i},EA.FSNode.prototype={};Object.defineProperties(EA.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(A){A?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(A){A?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return EA.isDir(this.mode)}},isDevice:{get:function(){return EA.isChrdev(this.mode)}}})}var f=new EA.FSNode(A,e,r,i);return EA.hashAddNode(f),f},destroyNode:function(A){EA.hashRemoveNode(A)},isRoot:function(A){return A===A.parent},isMountpoint:function(A){return!!A.mounted},isFile:function(A){return 32768==(61440&A)},isDir:function(A){return 16384==(61440&A)},isLink:function(A){return 40960==(61440&A)},isChrdev:function(A){return 8192==(61440&A)},isBlkdev:function(A){return 24576==(61440&A)},isFIFO:function(A){return 4096==(61440&A)},isSocket:function(A){return 49152==(49152&A)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(A){var e=EA.flagModes[A];if(void 0===e)throw new Error("Unknown file open mode: "+A);return e},flagsToPermissionString:function(A){var e=["r","w","rw"][3&A];return 512&A&&(e+="w"),e},nodePermissions:function(A,e){return EA.ignorePermissions||(-1===e.indexOf("r")||292&A.mode)&&(-1===e.indexOf("w")||146&A.mode)&&(-1===e.indexOf("x")||73&A.mode)?0:hA.EACCES},mayLookup:function(A){var e=EA.nodePermissions(A,"x");return e||(A.node_ops.lookup?0:hA.EACCES)},mayCreate:function(A,e){try{EA.lookupNode(A,e);return hA.EEXIST}catch(A){}return EA.nodePermissions(A,"wx")},mayDelete:function(A,e,r){var i;try{i=EA.lookupNode(A,e)}catch(A){return A.errno}var f=EA.nodePermissions(A,"wx");if(f)return f;if(r){if(!EA.isDir(i.mode))return hA.ENOTDIR;if(EA.isRoot(i)||EA.getPath(i)===EA.cwd())return hA.EBUSY}else if(EA.isDir(i.mode))return hA.EISDIR;return 0},mayOpen:function(A,e){return A?EA.isLink(A.mode)?hA.ELOOP:EA.isDir(A.mode)&&("r"!==EA.flagsToPermissionString(e)||512&e)?hA.EISDIR:EA.nodePermissions(A,EA.flagsToPermissionString(e)):hA.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(A,e){A=A||0,e=e||EA.MAX_OPEN_FDS;for(var r=A;r<=e;r++)if(!EA.streams[r])return r;throw new EA.ErrnoError(hA.EMFILE)},getStream:function(A){return EA.streams[A]},createStream:function(A,e,r){EA.FSStream||(EA.FSStream=function(){},EA.FSStream.prototype={},Object.defineProperties(EA.FSStream.prototype,{object:{get:function(){return this.node},set:function(A){this.node=A}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var i=new EA.FSStream;for(var f in A)i[f]=A[f];A=i;var n=EA.nextfd(e,r);return A.fd=n,EA.streams[n]=A},closeStream:function(A){EA.streams[A]=null},chrdev_stream_ops:{open:function(A){var e=EA.getDevice(A.node.rdev);A.stream_ops=e.stream_ops,A.stream_ops.open&&A.stream_ops.open(A)},llseek:function(){throw new EA.ErrnoError(hA.ESPIPE)}},major:function(A){return A>>8},minor:function(A){return 255&A},makedev:function(A,e){return A<<8|e},registerDevice:function(A,e){EA.devices[A]={stream_ops:e}},getDevice:function(A){return EA.devices[A]},getMounts:function(A){for(var e=[],r=[A];r.length;){var i=r.pop();e.push(i),r.push.apply(r,i.mounts)}return e},syncfs:function(e,r){"function"==typeof e&&(r=e,e=!1),EA.syncFSRequests++,1<EA.syncFSRequests&&console.log("warning: "+EA.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=EA.getMounts(EA.root.mount),f=0;function n(A){return h(0<EA.syncFSRequests),EA.syncFSRequests--,r(A)}function t(A){if(A)return t.errored?void 0:(t.errored=!0,n(A));++f>=i.length&&n(null)}i.forEach(function(A){if(!A.type.syncfs)return t(null);A.type.syncfs(A,e,t)})},mount:function(A,e,r){var i,f="/"===r,n=!r;if(f&&EA.root)throw new EA.ErrnoError(hA.EBUSY);if(!f&&!n){var t=EA.lookupPath(r,{follow_mount:!1});if(r=t.path,i=t.node,EA.isMountpoint(i))throw new EA.ErrnoError(hA.EBUSY);if(!EA.isDir(i.mode))throw new EA.ErrnoError(hA.ENOTDIR)}var o={type:A,opts:e,mountpoint:r,mounts:[]},a=A.mount(o);return(a.mount=o).root=a,f?EA.root=a:i&&(i.mounted=o,i.mount&&i.mount.mounts.push(o)),a},unmount:function(A){var e=EA.lookupPath(A,{follow_mount:!1});if(!EA.isMountpoint(e.node))throw new EA.ErrnoError(hA.EINVAL);var r=e.node,i=r.mounted,f=EA.getMounts(i);Object.keys(EA.nameTable).forEach(function(A){for(var e=EA.nameTable[A];e;){var r=e.name_next;-1!==f.indexOf(e.mount)&&EA.destroyNode(e),e=r}}),r.mounted=null;var n=r.mount.mounts.indexOf(i);h(-1!==n),r.mount.mounts.splice(n,1)},lookup:function(A,e){return A.node_ops.lookup(A,e)},mknod:function(A,e,r){var i=EA.lookupPath(A,{parent:!0}).node,f=mA.basename(A);if(!f||"."===f||".."===f)throw new EA.ErrnoError(hA.EINVAL);var n=EA.mayCreate(i,f);if(n)throw new EA.ErrnoError(n);if(!i.node_ops.mknod)throw new EA.ErrnoError(hA.EPERM);return i.node_ops.mknod(i,f,e,r)},create:function(A,e){return e=void 0!==e?e:438,e&=4095,e|=32768,EA.mknod(A,e,0)},mkdir:function(A,e){return e=void 0!==e?e:511,e&=1023,e|=16384,EA.mknod(A,e,0)},mkdirTree:function(A,e){for(var r=A.split("/"),i="",f=0;f<r.length;++f)if(r[f]){i+="/"+r[f];try{EA.mkdir(i,e)}catch(A){if(A.errno!=hA.EEXIST)throw A}}},mkdev:function(A,e,r){return void 0===r&&(r=e,e=438),e|=8192,EA.mknod(A,e,r)},symlink:function(A,e){if(!mA.resolve(A))throw new EA.ErrnoError(hA.ENOENT);var r=EA.lookupPath(e,{parent:!0}).node;if(!r)throw new EA.ErrnoError(hA.ENOENT);var i=mA.basename(e),f=EA.mayCreate(r,i);if(f)throw new EA.ErrnoError(f);if(!r.node_ops.symlink)throw new EA.ErrnoError(hA.EPERM);return r.node_ops.symlink(r,i,A)},rename:function(e,r){var A,i,f=mA.dirname(e),n=mA.dirname(r),t=mA.basename(e),o=mA.basename(r);try{A=EA.lookupPath(e,{parent:!0}).node,i=EA.lookupPath(r,{parent:!0}).node}catch(A){throw new EA.ErrnoError(hA.EBUSY)}if(!A||!i)throw new EA.ErrnoError(hA.ENOENT);if(A.mount!==i.mount)throw new EA.ErrnoError(hA.EXDEV);var a,c=EA.lookupNode(A,t),l=mA.relative(e,n);if("."!==l.charAt(0))throw new EA.ErrnoError(hA.EINVAL);if("."!==(l=mA.relative(r,f)).charAt(0))throw new EA.ErrnoError(hA.ENOTEMPTY);try{a=EA.lookupNode(i,o)}catch(A){}if(c!==a){var u=EA.isDir(c.mode),b=EA.mayDelete(A,t,u);if(b)throw new EA.ErrnoError(b);if(b=a?EA.mayDelete(i,o,u):EA.mayCreate(i,o))throw new EA.ErrnoError(b);if(!A.node_ops.rename)throw new EA.ErrnoError(hA.EPERM);if(EA.isMountpoint(c)||a&&EA.isMountpoint(a))throw new EA.ErrnoError(hA.EBUSY);if(i!==A&&(b=EA.nodePermissions(A,"w")))throw new EA.ErrnoError(b);try{EA.trackingDelegate.willMovePath&&EA.trackingDelegate.willMovePath(e,r)}catch(A){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+A.message)}EA.hashRemoveNode(c);try{A.node_ops.rename(c,i,o)}catch(A){throw A}finally{EA.hashAddNode(c)}try{EA.trackingDelegate.onMovePath&&EA.trackingDelegate.onMovePath(e,r)}catch(A){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+A.message)}}},rmdir:function(e){var A=EA.lookupPath(e,{parent:!0}).node,r=mA.basename(e),i=EA.lookupNode(A,r),f=EA.mayDelete(A,r,!0);if(f)throw new EA.ErrnoError(f);if(!A.node_ops.rmdir)throw new EA.ErrnoError(hA.EPERM);if(EA.isMountpoint(i))throw new EA.ErrnoError(hA.EBUSY);try{EA.trackingDelegate.willDeletePath&&EA.trackingDelegate.willDeletePath(e)}catch(A){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+A.message)}A.node_ops.rmdir(A,r),EA.destroyNode(i);try{EA.trackingDelegate.onDeletePath&&EA.trackingDelegate.onDeletePath(e)}catch(A){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+A.message)}},readdir:function(A){var e=EA.lookupPath(A,{follow:!0}).node;if(!e.node_ops.readdir)throw new EA.ErrnoError(hA.ENOTDIR);return e.node_ops.readdir(e)},unlink:function(e){var A=EA.lookupPath(e,{parent:!0}).node,r=mA.basename(e),i=EA.lookupNode(A,r),f=EA.mayDelete(A,r,!1);if(f)throw new EA.ErrnoError(f);if(!A.node_ops.unlink)throw new EA.ErrnoError(hA.EPERM);if(EA.isMountpoint(i))throw new EA.ErrnoError(hA.EBUSY);try{EA.trackingDelegate.willDeletePath&&EA.trackingDelegate.willDeletePath(e)}catch(A){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+A.message)}A.node_ops.unlink(A,r),EA.destroyNode(i);try{EA.trackingDelegate.onDeletePath&&EA.trackingDelegate.onDeletePath(e)}catch(A){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+A.message)}},readlink:function(A){var e=EA.lookupPath(A).node;if(!e)throw new EA.ErrnoError(hA.ENOENT);if(!e.node_ops.readlink)throw new EA.ErrnoError(hA.EINVAL);return mA.resolve(EA.getPath(e.parent),e.node_ops.readlink(e))},stat:function(A,e){var r=EA.lookupPath(A,{follow:!e}).node;if(!r)throw new EA.ErrnoError(hA.ENOENT);if(!r.node_ops.getattr)throw new EA.ErrnoError(hA.EPERM);return r.node_ops.getattr(r)},lstat:function(A){return EA.stat(A,!0)},chmod:function(A,e,r){var i;"string"==typeof A?i=EA.lookupPath(A,{follow:!r}).node:i=A;if(!i.node_ops.setattr)throw new EA.ErrnoError(hA.EPERM);i.node_ops.setattr(i,{mode:4095&e|-4096&i.mode,timestamp:Date.now()})},lchmod:function(A,e){EA.chmod(A,e,!0)},fchmod:function(A,e){var r=EA.getStream(A);if(!r)throw new EA.ErrnoError(hA.EBADF);EA.chmod(r.node,e)},chown:function(A,e,r,i){var f;"string"==typeof A?f=EA.lookupPath(A,{follow:!i}).node:f=A;if(!f.node_ops.setattr)throw new EA.ErrnoError(hA.EPERM);f.node_ops.setattr(f,{timestamp:Date.now()})},lchown:function(A,e,r){EA.chown(A,e,r,!0)},fchown:function(A,e,r){var i=EA.getStream(A);if(!i)throw new EA.ErrnoError(hA.EBADF);EA.chown(i.node,e,r)},truncate:function(A,e){if(e<0)throw new EA.ErrnoError(hA.EINVAL);var r;"string"==typeof A?r=EA.lookupPath(A,{follow:!0}).node:r=A;if(!r.node_ops.setattr)throw new EA.ErrnoError(hA.EPERM);if(EA.isDir(r.mode))throw new EA.ErrnoError(hA.EISDIR);if(!EA.isFile(r.mode))throw new EA.ErrnoError(hA.EINVAL);var i=EA.nodePermissions(r,"w");if(i)throw new EA.ErrnoError(i);r.node_ops.setattr(r,{size:e,timestamp:Date.now()})},ftruncate:function(A,e){var r=EA.getStream(A);if(!r)throw new EA.ErrnoError(hA.EBADF);if(0==(2097155&r.flags))throw new EA.ErrnoError(hA.EINVAL);EA.truncate(r.node,e)},utime:function(A,e,r){var i=EA.lookupPath(A,{follow:!0}).node;i.node_ops.setattr(i,{timestamp:Math.max(e,r)})},open:function(e,A,r,i,f){if(""===e)throw new EA.ErrnoError(hA.ENOENT);var n;if(r=void 0===r?438:r,r=64&(A="string"==typeof A?EA.modeStringToFlags(A):A)?4095&r|32768:0,"object"==typeof e)n=e;else{e=mA.normalize(e);try{n=EA.lookupPath(e,{follow:!(131072&A)}).node}catch(A){}}var t=!1;if(64&A)if(n){if(128&A)throw new EA.ErrnoError(hA.EEXIST)}else n=EA.mknod(e,r,0),t=!0;if(!n)throw new EA.ErrnoError(hA.ENOENT);if(EA.isChrdev(n.mode)&&(A&=-513),65536&A&&!EA.isDir(n.mode))throw new EA.ErrnoError(hA.ENOTDIR);if(!t){var o=EA.mayOpen(n,A);if(o)throw new EA.ErrnoError(o)}512&A&&EA.truncate(n,0),A&=-641;var a=EA.createStream({node:n,path:EA.getPath(n),flags:A,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1},i,f);a.stream_ops.open&&a.stream_ops.open(a),!d.logReadFiles||1&A||(EA.readFiles||(EA.readFiles={}),e in EA.readFiles||(EA.readFiles[e]=1,d.printErr("read file: "+e)));try{if(EA.trackingDelegate.onOpenFile){var c=0;1!=(2097155&A)&&(c|=EA.tracking.openFlags.READ),0!=(2097155&A)&&(c|=EA.tracking.openFlags.WRITE),EA.trackingDelegate.onOpenFile(e,c)}}catch(A){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+A.message)}return a},close:function(A){A.getdents&&(A.getdents=null);try{A.stream_ops.close&&A.stream_ops.close(A)}catch(A){throw A}finally{EA.closeStream(A.fd)}},llseek:function(A,e,r){if(!A.seekable||!A.stream_ops.llseek)throw new EA.ErrnoError(hA.ESPIPE);return A.position=A.stream_ops.llseek(A,e,r),A.ungotten=[],A.position},read:function(A,e,r,i,f){if(i<0||f<0)throw new EA.ErrnoError(hA.EINVAL);if(1==(2097155&A.flags))throw new EA.ErrnoError(hA.EBADF);if(EA.isDir(A.node.mode))throw new EA.ErrnoError(hA.EISDIR);if(!A.stream_ops.read)throw new EA.ErrnoError(hA.EINVAL);var n=!0;if(void 0===f)f=A.position,n=!1;else if(!A.seekable)throw new EA.ErrnoError(hA.ESPIPE);var t=A.stream_ops.read(A,e,r,i,f);return n||(A.position+=t),t},write:function(A,e,r,i,f,n){if(i<0||f<0)throw new EA.ErrnoError(hA.EINVAL);if(0==(2097155&A.flags))throw new EA.ErrnoError(hA.EBADF);if(EA.isDir(A.node.mode))throw new EA.ErrnoError(hA.EISDIR);if(!A.stream_ops.write)throw new EA.ErrnoError(hA.EINVAL);1024&A.flags&&EA.llseek(A,0,2);var t=!0;if(void 0===f)f=A.position,t=!1;else if(!A.seekable)throw new EA.ErrnoError(hA.ESPIPE);var o=A.stream_ops.write(A,e,r,i,f,n);t||(A.position+=o);try{A.path&&EA.trackingDelegate.onWriteToFile&&EA.trackingDelegate.onWriteToFile(A.path)}catch(A){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+A.message)}return o},allocate:function(A,e,r){if(e<0||r<=0)throw new EA.ErrnoError(hA.EINVAL);if(0==(2097155&A.flags))throw new EA.ErrnoError(hA.EBADF);if(!EA.isFile(A.node.mode)&&!EA.isDir(A.node.mode))throw new EA.ErrnoError(hA.ENODEV);if(!A.stream_ops.allocate)throw new EA.ErrnoError(hA.EOPNOTSUPP);A.stream_ops.allocate(A,e,r)},mmap:function(A,e,r,i,f,n,t){if(1==(2097155&A.flags))throw new EA.ErrnoError(hA.EACCES);if(!A.stream_ops.mmap)throw new EA.ErrnoError(hA.ENODEV);return A.stream_ops.mmap(A,e,r,i,f,n,t)},msync:function(A,e,r,i,f){return A&&A.stream_ops.msync?A.stream_ops.msync(A,e,r,i,f):0},munmap:function(A){return 0},ioctl:function(A,e,r){if(!A.stream_ops.ioctl)throw new EA.ErrnoError(hA.ENOTTY);return A.stream_ops.ioctl(A,e,r)},readFile:function(A,e){if((e=e||{}).flags=e.flags||"r",e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error('Invalid encoding type "'+e.encoding+'"');var r,i=EA.open(A,e.flags),f=EA.stat(A).size,n=new Uint8Array(f);return EA.read(i,n,0,f,0),"utf8"===e.encoding?r=c(n,0):"binary"===e.encoding&&(r=n),EA.close(i),r},writeFile:function(A,e,r){if((r=r||{}).flags=r.flags||"w",r.encoding=r.encoding||"utf8","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var i=EA.open(A,r.flags,r.mode);if("utf8"===r.encoding){var f=new Uint8Array(Z(e)+1),n=b(e,f,0,f.length);EA.write(i,f,0,n,0,r.canOwn)}else"binary"===r.encoding&&EA.write(i,e,0,e.length,0,r.canOwn);EA.close(i)},cwd:function(){return EA.currentPath},chdir:function(A){var e=EA.lookupPath(A,{follow:!0});if(null===e.node)throw new EA.ErrnoError(hA.ENOENT);if(!EA.isDir(e.node.mode))throw new EA.ErrnoError(hA.ENOTDIR);var r=EA.nodePermissions(e.node,"x");if(r)throw new EA.ErrnoError(r);EA.currentPath=e.path},createDefaultDirectories:function(){EA.mkdir("/tmp"),EA.mkdir("/home"),EA.mkdir("/home/web_user")},createDefaultDevices:function(){var A;if(EA.mkdir("/dev"),EA.registerDevice(EA.makedev(1,3),{read:function(){return 0},write:function(A,e,r,i,f){return i}}),EA.mkdev("/dev/null",EA.makedev(1,3)),gA.register(EA.makedev(5,0),gA.default_tty_ops),gA.register(EA.makedev(6,0),gA.default_tty1_ops),EA.mkdev("/dev/tty",EA.makedev(5,0)),EA.mkdev("/dev/tty1",EA.makedev(6,0)),"undefined"!=typeof crypto){var e=new Uint8Array(1);A=function(){return crypto.getRandomValues(e),e[0]}}else A=o?function(){return require("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};EA.createDevice("/dev","random",A),EA.createDevice("/dev","urandom",A),EA.mkdir("/dev/shm"),EA.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){EA.mkdir("/proc"),EA.mkdir("/proc/self"),EA.mkdir("/proc/self/fd"),EA.mount({mount:function(){var A=EA.createNode("/proc/self","fd",16895,73);return A.node_ops={lookup:function(A,e){var r=+e,i=EA.getStream(r);if(!i)throw new EA.ErrnoError(hA.EBADF);var f={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return i.path}}};return f.parent=f}},A}},{},"/proc/self/fd")},createStandardStreams:function(){d.stdin?EA.createDevice("/dev","stdin",d.stdin):EA.symlink("/dev/tty","/dev/stdin"),d.stdout?EA.createDevice("/dev","stdout",null,d.stdout):EA.symlink("/dev/tty","/dev/stdout"),d.stderr?EA.createDevice("/dev","stderr",null,d.stderr):EA.symlink("/dev/tty1","/dev/stderr");var A=EA.open("/dev/stdin","r");h(0===A.fd,"invalid handle for stdin ("+A.fd+")");var e=EA.open("/dev/stdout","w");h(1===e.fd,"invalid handle for stdout ("+e.fd+")");var r=EA.open("/dev/stderr","w");h(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){EA.ErrnoError||(EA.ErrnoError=function(A,e){this.node=e,this.setErrno=function(A){for(var e in this.errno=A,hA)if(hA[e]===A){this.code=e;break}},this.setErrno(A),this.message=vA[A],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack})},EA.ErrnoError.prototype=new Error,EA.ErrnoError.prototype.constructor=EA.ErrnoError,[hA.ENOENT].forEach(function(A){EA.genericErrors[A]=new EA.ErrnoError(A),EA.genericErrors[A].stack="<generic error, no stack>"}))},staticInit:function(){EA.ensureErrnoError(),EA.nameTable=new Array(4096),EA.mount(ZA,{},"/"),EA.createDefaultDirectories(),EA.createDefaultDevices(),EA.createSpecialDirectories(),EA.filesystems={MEMFS:ZA,IDBFS:pA,NODEFS:yA,WORKERFS:BA}},init:function(A,e,r){h(!EA.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),EA.init.initialized=!0,EA.ensureErrnoError(),d.stdin=A||d.stdin,d.stdout=e||d.stdout,d.stderr=r||d.stderr,EA.createStandardStreams()},quit:function(){EA.init.initialized=!1;var A=d._fflush;A&&A(0);for(var e=0;e<EA.streams.length;e++){var r=EA.streams[e];r&&EA.close(r)}},getMode:function(A,e){var r=0;return A&&(r|=365),e&&(r|=146),r},joinPath:function(A,e){var r=mA.join.apply(null,A);return e&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(A,e){return mA.resolve(e,A)},standardizePath:function(A){return mA.normalize(A)},findObject:function(A,e){var r=EA.analyzePath(A,e);return r.exists?r.object:(wA(r.error),null)},analyzePath:function(A,e){try{A=(i=EA.lookupPath(A,{follow:!e})).path}catch(A){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=EA.lookupPath(A,{parent:!0});r.parentExists=!0,r.parentPath=i.path,r.parentObject=i.node,r.name=mA.basename(A),i=EA.lookupPath(A,{follow:!e}),r.exists=!0,r.path=i.path,r.object=i.node,r.name=i.node.name,r.isRoot="/"===i.path}catch(A){r.error=A.errno}return r},createFolder:function(A,e,r,i){var f=mA.join2("string"==typeof A?A:EA.getPath(A),e),n=EA.getMode(r,i);return EA.mkdir(f,n)},createPath:function(A,e,r,i){A="string"==typeof A?A:EA.getPath(A);for(var f=e.split("/").reverse();f.length;){var n=f.pop();if(n){var t=mA.join2(A,n);try{EA.mkdir(t)}catch(A){}A=t}}return t},createFile:function(A,e,r,i,f){var n=mA.join2("string"==typeof A?A:EA.getPath(A),e),t=EA.getMode(i,f);return EA.create(n,t)},createDataFile:function(A,e,r,i,f,n){var t=e?mA.join2("string"==typeof A?A:EA.getPath(A),e):A,o=EA.getMode(i,f),a=EA.create(t,o);if(r){if("string"==typeof r){for(var c=new Array(r.length),l=0,u=r.length;l<u;++l)c[l]=r.charCodeAt(l);r=c}EA.chmod(a,146|o);var b=EA.open(a,"w");EA.write(b,r,0,r.length,0,n),EA.close(b),EA.chmod(a,o)}return a},createDevice:function(A,e,a,t){var r=mA.join2("string"==typeof A?A:EA.getPath(A),e),i=EA.getMode(!!a,!!t);EA.createDevice.major||(EA.createDevice.major=64);var f=EA.makedev(EA.createDevice.major++,0);return EA.registerDevice(f,{open:function(A){A.seekable=!1},close:function(A){t&&t.buffer&&t.buffer.length&&t(10)},read:function(A,e,r,i,f){for(var n=0,t=0;t<i;t++){var o;try{o=a()}catch(A){throw new EA.ErrnoError(hA.EIO)}if(void 0===o&&0===n)throw new EA.ErrnoError(hA.EAGAIN);if(null==o)break;n++,e[r+t]=o}return n&&(A.node.timestamp=Date.now()),n},write:function(A,e,r,i,f){for(var n=0;n<i;n++)try{t(e[r+n])}catch(A){throw new EA.ErrnoError(hA.EIO)}return i&&(A.node.timestamp=Date.now()),n}}),EA.mkdev(r,i,f)},createLink:function(A,e,r,i,f){var n=mA.join2("string"==typeof A?A:EA.getPath(A),e);return EA.symlink(r,n)},forceLoadFile:function(A){if(A.isDevice||A.isFolder||A.link||A.contents)return!0;var e=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!d.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{A.contents=dr(d.read(A.url),!0),A.usedBytes=A.contents.length}catch(A){e=!1}return e||wA(hA.EIO),e},createLazyFile:function(A,e,o,r,i){function f(){this.lengthKnown=!1,this.chunks=[]}if(f.prototype.get=function(A){if(!(A>this.length-1||A<0)){var e=A%this.chunkSize,r=A/this.chunkSize|0;return this.getter(r)[e]}},f.prototype.setDataGetter=function(A){this.getter=A},f.prototype.cacheLength=function(){var A=new XMLHttpRequest;if(A.open("HEAD",o,!1),A.send(null),!(200<=A.status&&A.status<300||304===A.status))throw new Error("Couldn't load "+o+". Status: "+A.status);var e,i=Number(A.getResponseHeader("Content-length")),r=(e=A.getResponseHeader("Accept-Ranges"))&&"bytes"===e,f=(e=A.getResponseHeader("Content-Encoding"))&&"gzip"===e,n=1048576;r||(n=i);var t=this;t.setDataGetter(function(A){var e=A*n,r=(A+1)*n-1;if(r=Math.min(r,i-1),void 0===t.chunks[A]&&(t.chunks[A]=function(A,e){if(e<A)throw new Error("invalid range ("+A+", "+e+") or no bytes requested!");if(i-1<e)throw new Error("only "+i+" bytes available! programmer error!");var r=new XMLHttpRequest;if(r.open("GET",o,!1),i!==n&&r.setRequestHeader("Range","bytes="+A+"-"+e),"undefined"!=typeof Uint8Array&&(r.responseType="arraybuffer"),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.send(null),!(200<=r.status&&r.status<300||304===r.status))throw new Error("Couldn't load "+o+". Status: "+r.status);return void 0!==r.response?new Uint8Array(r.response||[]):dr(r.responseText||"",!0)}(e,r)),void 0===t.chunks[A])throw new Error("doXHR failed!");return t.chunks[A]}),!f&&i||(n=i=1,i=this.getter(0).length,n=i,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=i,this._chunkSize=n,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!l)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var n=new f;Object.defineProperties(n,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var t={isDevice:!1,contents:n}}else t={isDevice:!1,url:o};var a=EA.createFile(A,e,t,r,i);t.contents?a.contents=t.contents:t.url&&(a.contents=null,a.url=t.url),Object.defineProperties(a,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(a.stream_ops).forEach(function(A){var e=a.stream_ops[A];c[A]=function(){if(!EA.forceLoadFile(a))throw new EA.ErrnoError(hA.EIO);return e.apply(null,arguments)}}),c.read=function(A,e,r,i,f){if(!EA.forceLoadFile(a))throw new EA.ErrnoError(hA.EIO);var n=A.node.contents;if(f>=n.length)return 0;var t=Math.min(n.length-f,i);if(h(0<=t),n.slice)for(var o=0;o<t;o++)e[r+o]=n[f+o];else for(o=0;o<t;o++)e[r+o]=n.get(f+o);return t},a.stream_ops=c,a},createPreloadedFile:function(f,n,A,t,o,a,c,l,u,b){Browser.init();var s=n?mA.resolve(mA.join2(f,n)):f;function e(e){function r(A){b&&b(),l||EA.createDataFile(f,n,A,t,o,u),a&&a(),uA()}var i=!1;d.preloadPlugins.forEach(function(A){i||A.canHandle(s)&&(A.handle(e,s,r,function(){c&&c(),uA()}),i=!0)}),i||r(e)}lA(),"string"==typeof A?Browser.asyncLoad(A,function(A){e(A)},c):e(A)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,o,a){o=o||function(){},a=a||function(){};var A=EA.indexedDB();try{var c=A.open(EA.DB_NAME(),EA.DB_VERSION)}catch(A){return a(A)}c.onupgradeneeded=function(){console.log("creating db"),c.result.createObjectStore(EA.DB_STORE_NAME)},c.onsuccess=function(){var A=c.result.transaction([EA.DB_STORE_NAME],"readwrite"),r=A.objectStore(EA.DB_STORE_NAME),i=0,f=0,n=e.length;function t(){(0==f?o:a)()}e.forEach(function(A){var e=r.put(EA.analyzePath(A).object.contents,A);e.onsuccess=function(){++i+f==n&&t()},e.onerror=function(){i+ ++f==n&&t()}}),A.onerror=a},c.onerror=a},loadFilesFromDB:function(o,a,c){a=a||function(){},c=c||function(){};var A=EA.indexedDB();try{var l=A.open(EA.DB_NAME(),EA.DB_VERSION)}catch(A){return c(A)}l.onupgradeneeded=c,l.onsuccess=function(){var A=l.result;try{var e=A.transaction([EA.DB_STORE_NAME],"readonly")}catch(A){return void c(A)}var r=e.objectStore(EA.DB_STORE_NAME),i=0,f=0,n=o.length;function t(){(0==f?a:c)()}o.forEach(function(A){var e=r.get(A);e.onsuccess=function(){EA.analyzePath(A).exists&&EA.unlink(A),EA.createDataFile(mA.dirname(A),mA.basename(A),e.result,!0,!0,!0),++i+f==n&&t()},e.onerror=function(){i+ ++f==n&&t()}}),e.onerror=c},l.onerror=c}},XA={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(A,e){if("/"!==e[0]){var r;if(-100===A)r=EA.cwd();else{var i=EA.getStream(A);if(!i)throw new EA.ErrnoError(hA.EBADF);r=i.path}e=mA.join2(r,e)}return e},doStat:function(A,e,r){try{var i=A(e)}catch(A){if(A&&A.node&&mA.normalize(e)!==mA.normalize(EA.getPath(A.node)))return-hA.ENOTDIR;throw A}return I[r>>2]=i.dev,I[r+4>>2]=0,I[r+8>>2]=i.ino,I[r+12>>2]=i.mode,I[r+16>>2]=i.nlink,I[r+20>>2]=i.uid,I[r+24>>2]=i.gid,I[r+28>>2]=i.rdev,I[r+32>>2]=0,I[r+36>>2]=i.size,I[r+40>>2]=4096,I[r+44>>2]=i.blocks,I[r+48>>2]=i.atime.getTime()/1e3|0,I[r+52>>2]=0,I[r+56>>2]=i.mtime.getTime()/1e3|0,I[r+60>>2]=0,I[r+64>>2]=i.ctime.getTime()/1e3|0,I[r+68>>2]=0,I[r+72>>2]=i.ino,0},doMsync:function(A,e,r,i){var f=new Uint8Array(E.subarray(A,A+r));EA.msync(e,f,0,r,i)},doMkdir:function(A,e){return"/"===(A=mA.normalize(A))[A.length-1]&&(A=A.substr(0,A.length-1)),EA.mkdir(A,e,0),0},doMknod:function(A,e,r){switch(61440&e){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-hA.EINVAL}return EA.mknod(A,e,r),0},doReadlink:function(A,e,r){if(r<=0)return-hA.EINVAL;var i=EA.readlink(A),f=Math.min(r,Z(i)),n=B[e+f];return s(i,e,r+1),B[e+f]=n,f},doAccess:function(A,e){if(-8&e)return-hA.EINVAL;var r;r=EA.lookupPath(A,{follow:!0}).node;var i="";return 4&e&&(i+="r"),2&e&&(i+="w"),1&e&&(i+="x"),i&&EA.nodePermissions(r,i)?-hA.EACCES:0},doDup:function(A,e,r){var i=EA.getStream(r);return i&&EA.close(i),EA.open(A,e,0,r,r).fd},doReadv:function(A,e,r,i){for(var f=0,n=0;n<r;n++){var t=I[e+8*n>>2],o=I[e+(8*n+4)>>2],a=EA.read(A,B,t,o,i);if(a<0)return-1;if(f+=a,a<o)break}return f},doWritev:function(A,e,r,i){for(var f=0,n=0;n<r;n++){var t=I[e+8*n>>2],o=I[e+(8*n+4)>>2],a=EA.write(A,B,t,o,i);if(a<0)return-1;f+=a}return f},varargs:0,get:function(A){return XA.varargs+=4,I[XA.varargs-4>>2]},getStr:function(){return g(XA.get())},getStreamFromFD:function(){var A=EA.getStream(XA.get());if(!A)throw new EA.ErrnoError(hA.EBADF);return A},getSocketFromFD:function(){var A=SOCKFS.getSocket(XA.get());if(!A)throw new EA.ErrnoError(hA.EBADF);return A},getSocketAddress:function(A){var e=XA.get(),r=XA.get();if(A&&0===e)return null;var i=__read_sockaddr(e,r);if(i.errno)throw new EA.ErrnoError(i.errno);return i.addr=DNS.lookup_addr(i.addr)||i.addr,i},get64:function(){var A=XA.get(),e=XA.get();return h(0<=A?0===e:-1===e),A},getZero:function(){h(0===XA.get())}};var WA=a([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",v);var IA={};function CA(A){for(;A.length;){var e=A.pop();A.pop()(e)}}function GA(A){return this.fromWireType(C[A>>2])}var VA={},FA={},RA={},NA=48,_A=57;function YA(A){if(void 0===A)return"_unknown";var e=(A=A.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return NA<=e&&e<=_A?"_"+A:A}function QA(A,e){return A=YA(A),new Function("body","return function "+A+'() {\\n    "use strict";    return body.apply(this, arguments);\\n};\\n')(e)}function DA(A,r){var e=QA(r,function(A){this.name=r,this.message=A;var e=new Error(A).stack;void 0!==e&&(this.stack=this.toString()+"\\n"+e.replace(/^Error(:[^\\n]*)?\\n/,""))});return e.prototype=Object.create(A.prototype),(e.prototype.constructor=e).prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},e}var JA=void 0;function MA(A){throw new JA(A)}function TA(i,e,f){function r(A){var e=f(A);e.length!==i.length&&MA("Mismatched type converter count");for(var r=0;r<i.length;++r)xA(i[r],e[r])}i.forEach(function(A){RA[A]=e});var n=new Array(e.length),t=[],o=0;e.forEach(function(A,e){FA.hasOwnProperty(A)?n[e]=FA[A]:(t.push(A),VA.hasOwnProperty(A)||(VA[A]=[]),VA[A].push(function(){n[e]=FA[A],++o===t.length&&r(n)}))}),0===t.length&&r(n)}function UA(A){switch(A){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+A)}}function SA(){for(var A=new Array(256),e=0;e<256;++e)A[e]=String.fromCharCode(e);OA=A}var OA=void 0;function zA(A){for(var e="",r=A;E[r];)e+=OA[E[r++]];return e}var jA=void 0;function HA(A){throw new jA(A)}function xA(A,e,r){if(r=r||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=e.name;if(A||HA('type "'+i+'" must have a positive integer typeid pointer'),FA.hasOwnProperty(A)){if(r.ignoreDuplicateRegistrations)return;HA("Cannot register type '"+i+"' twice")}if(FA[A]=e,delete RA[A],VA.hasOwnProperty(A)){var f=VA[A];delete VA[A],f.forEach(function(A){A()})}}function PA(A){if(!(this instanceof oe))return!1;if(!(A instanceof oe))return!1;for(var e=this.$$.ptrType.registeredClass,r=this.$$.ptr,i=A.$$.ptrType.registeredClass,f=A.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;i.baseClass;)f=i.upcast(f),i=i.baseClass;return e===i&&r===f}function LA(A){return{count:A.count,deleteScheduled:A.deleteScheduled,preservePointerOnDelete:A.preservePointerOnDelete,ptr:A.ptr,ptrType:A.ptrType,smartPtr:A.smartPtr,smartPtrType:A.smartPtrType}}function KA(A){HA(A.$$.ptrType.registeredClass.name+" instance already deleted")}function qA(){if(this.$$.ptr||KA(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var A=Object.create(Object.getPrototypeOf(this),{$$:{value:LA(this.$$)}});return A.$$.count.value+=1,A.$$.deleteScheduled=!1,A}function $A(A){var e=A.$$;e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function Ae(){this.$$.ptr||KA(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&HA("Object already scheduled for deletion"),--this.$$.count.value,0===this.$$.count.value&&$A(this),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function ee(){return!this.$$.ptr}var re=void 0,ie=[];function fe(){for(;ie.length;){var A=ie.pop();A.$$.deleteScheduled=!1,A.delete()}}function ne(){return this.$$.ptr||KA(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&HA("Object already scheduled for deletion"),ie.push(this),1===ie.length&&re&&re(fe),this.$$.deleteScheduled=!0,this}function te(){oe.prototype.isAliasOf=PA,oe.prototype.clone=qA,oe.prototype.delete=Ae,oe.prototype.isDeleted=ee,oe.prototype.deleteLater=ne}function oe(){}var ae={};function ce(A,e,r){if(void 0===A[e].overloadTable){var i=A[e];A[e]=function(){return A[e].overloadTable.hasOwnProperty(arguments.length)||HA("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+A[e].overloadTable+")!"),A[e].overloadTable[arguments.length].apply(this,arguments)},A[e].overloadTable=[],A[e].overloadTable[i.argCount]=i}}function le(A,e,r){d.hasOwnProperty(A)?((void 0===r||void 0!==d[A].overloadTable&&void 0!==d[A].overloadTable[r])&&HA("Cannot register public name '"+A+"' twice"),ce(d,A,A),d.hasOwnProperty(r)&&HA("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),d[A].overloadTable[r]=e):(d[A]=e,void 0!==r&&(d[A].numArguments=r))}function ue(A,e,r,i,f,n,t,o){this.name=A,this.constructor=e,this.instancePrototype=r,this.rawDestructor=i,this.baseClass=f,this.getActualType=n,this.upcast=t,this.downcast=o,this.pureVirtualFunctions=[]}function be(A,e,r){for(;e!==r;)e.upcast||HA("Expected null or instance of "+r.name+", got an instance of "+e.name),A=e.upcast(A),e=e.baseClass;return A}function se(A,e){if(null===e)return this.isReference&&HA("null is not a valid "+this.name),0;e.$$||HA('Cannot pass "'+ze(e)+'" as a '+this.name),e.$$.ptr||HA("Cannot pass deleted object as a pointer of type "+this.name);var r=e.$$.ptrType.registeredClass;return be(e.$$.ptr,r,this.registeredClass)}function de(A,e){var r;if(null===e)return this.isReference&&HA("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==A&&A.push(this.rawDestructor,r),r):0;e.$$||HA('Cannot pass "'+ze(e)+'" as a '+this.name),e.$$.ptr||HA("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&HA("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var i=e.$$.ptrType.registeredClass;if(r=be(e.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&HA("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:HA("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var f=e.clone();r=this.rawShare(r,Ue(function(){f.delete()})),null!==A&&A.push(this.rawDestructor,r)}break;default:HA("Unsupporting sharing policy")}return r}function ke(A,e){if(null===e)return this.isReference&&HA("null is not a valid "+this.name),0;e.$$||HA('Cannot pass "'+ze(e)+'" as a '+this.name),e.$$.ptr||HA("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&HA("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var r=e.$$.ptrType.registeredClass;return be(e.$$.ptr,r,this.registeredClass)}function he(A){return this.rawGetPointee&&(A=this.rawGetPointee(A)),A}function we(A){this.rawDestructor&&this.rawDestructor(A)}function ve(A){null!==A&&A.delete()}function me(A,e,r){if(e===r)return A;if(void 0===r.baseClass)return null;var i=me(A,e,r.baseClass);return null===i?null:r.downcast(i)}function ge(){return Object.keys(Be).length}function Ze(){var A=[];for(var e in Be)Be.hasOwnProperty(e)&&A.push(Be[e]);return A}function pe(A){re=A,ie.length&&re&&re(fe)}function ye(){d.getInheritedInstanceCount=ge,d.getLiveInheritedInstances=Ze,d.flushPendingDeletes=fe,d.setDelayFunction=pe}var Be={};function Ee(A,e){for(void 0===e&&HA("ptr should not be undefined");A.baseClass;)e=A.upcast(e),A=A.baseClass;return e}function Xe(A,e){return e=Ee(A,e),Be[e]}function We(A,e){return e.ptrType&&e.ptr||MA("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&MA("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Object.create(A,{$$:{value:e}})}function Ie(A){var e=this.getPointee(A);if(!e)return this.destructor(A),null;var r=Xe(this.registeredClass,e);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=e,r.$$.smartPtr=A,r.clone();var i=r.clone();return this.destructor(A),i}function f(){return this.isSmartPointer?We(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:A}):We(this.registeredClass.instancePrototype,{ptrType:this,ptr:A})}var n,t=this.registeredClass.getActualType(e),o=ae[t];if(!o)return f.call(this);n=this.isConst?o.constPointerType:o.pointerType;var a=me(e,this.registeredClass,n.registeredClass);return null===a?f.call(this):this.isSmartPointer?We(n.registeredClass.instancePrototype,{ptrType:n,ptr:a,smartPtrType:this,smartPtr:A}):We(n.registeredClass.instancePrototype,{ptrType:n,ptr:a})}function Ce(){Ge.prototype.getPointee=he,Ge.prototype.destructor=we,Ge.prototype.argPackAdvance=8,Ge.prototype.readValueFromPointer=GA,Ge.prototype.deleteObject=ve,Ge.prototype.fromWireType=Ie}function Ge(A,e,r,i,f,n,t,o,a,c,l){this.name=A,this.registeredClass=e,this.isReference=r,this.isConst=i,this.isSmartPointer=f,this.pointeeType=n,this.sharingPolicy=t,this.rawGetPointee=o,this.rawConstructor=a,this.rawShare=c,this.rawDestructor=l,f||void 0!==e.baseClass?this.toWireType=de:(this.toWireType=i?se:ke,this.destructorFunction=null)}function Ve(A,e,r){d.hasOwnProperty(A)||MA("Replacing nonexistant public symbol"),void 0!==d[A].overloadTable&&void 0!==r?d[A].overloadTable[r]=e:(d[A]=e,d[A].argCount=r)}function Fe(f,n){var A;if(f=zA(f),void 0!==d["FUNCTION_TABLE_"+f])A=d["FUNCTION_TABLE_"+f][n];else if("undefined"!=typeof FUNCTION_TABLE)A=FUNCTION_TABLE[n];else{var e=d.asm["dynCall_"+f];void 0===e&&void 0===(e=d.asm["dynCall_"+f.replace(/f/g,"d")])&&HA("No dynCall invoker for signature: "+f),A=function(A){for(var e=[],r=1;r<f.length;++r)e.push("a"+r);var i="return function "+("dynCall_"+f+"_"+n)+"("+e.join(", ")+") {\\n";return i+="    return dynCall(rawFunction"+(e.length?", ":"")+e.join(", ")+");\\n",i+="};\\n",new Function("dynCall","rawFunction",i)(A,n)}(e)}return"function"!=typeof A&&HA("unknown function pointer with signature "+f+": "+n),A}var Re=void 0;function Ne(A){var e=Wr(A),r=zA(e);return Cr(e),r}function _e(A,e){var r=[],i={};throw e.forEach(function A(e){i[e]||FA[e]||(RA[e]?RA[e].forEach(A):(r.push(e),i[e]=!0))}),new Re(A+": "+r.map(Ne).join([", "]))}var Ye=[],Qe=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function De(A){4<A&&0==--Qe[A].refcount&&(Qe[A]=void 0,Ye.push(A))}function Je(){for(var A=0,e=5;e<Qe.length;++e)void 0!==Qe[e]&&++A;return A}function Me(){for(var A=5;A<Qe.length;++A)if(void 0!==Qe[A])return Qe[A];return null}function Te(){d.count_emval_handles=Je,d.get_first_emval=Me}function Ue(A){switch(A){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=Ye.length?Ye.pop():Qe.length;return Qe[e]={refcount:1,value:A},e}}function Se(A,e,r){switch(e){case 0:return function(A){var e=r?B:E;return this.fromWireType(e[A])};case 1:return function(A){var e=r?X:W;return this.fromWireType(e[A>>1])};case 2:return function(A){var e=r?I:C;return this.fromWireType(e[A>>2])};default:throw new TypeError("Unknown integer type: "+A)}}function Oe(A,e){var r=FA[A];return void 0===r&&HA(e+" has unknown type "+Ne(A)),r}function ze(A){if(null===A)return"null";var e=typeof A;return"object"==e||"array"==e||"function"==e?A.toString():""+A}function je(A,e){switch(e){case 2:return function(A){return this.fromWireType(G[A>>2])};case 3:return function(A){return this.fromWireType(V[A>>3])};default:throw new TypeError("Unknown float type: "+A)}}function He(A,e){if(!(A instanceof Function))throw new TypeError("new_ called with constructor type "+typeof A+" which is not a function");var r=QA(A.name||"unknownFunctionName",function(){});r.prototype=A.prototype;var i=new r,f=A.apply(i,e);return f instanceof Object?f:i}function xe(A,e,r,i,f){var n=e.length;n<2&&HA("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var t=null!==e[1]&&null!==r,o=!1,a=1;a<e.length;++a)if(null!==e[a]&&void 0===e[a].destructorFunction){o=!0;break}var c="void"!==e[0].name,l="",u="";for(a=0;a<n-2;++a)l+=(0!==a?", ":"")+"arg"+a,u+=(0!==a?", ":"")+"arg"+a+"Wired";var b="return function "+YA(A)+"("+l+") {\\nif (arguments.length !== "+(n-2)+") {\\nthrowBindingError('function "+A+" called with ' + arguments.length + ' arguments, expected "+(n-2)+" args!');\\n}\\n";o&&(b+="var destructors = [];\\n");var s=o?"destructors":"null",d=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],k=[HA,i,f,CA,e[0],e[1]];t&&(b+="var thisWired = classParam.toWireType("+s+", this);\\n");for(a=0;a<n-2;++a)b+="var arg"+a+"Wired = argType"+a+".toWireType("+s+", arg"+a+"); // "+e[a+2].name+"\\n",d.push("argType"+a),k.push(e[a+2]);if(t&&(u="thisWired"+(0<u.length?", ":"")+u),b+=(c?"var rv = ":"")+"invoker(fn"+(0<u.length?", ":"")+u+");\\n",o)b+="runDestructors(destructors);\\n";else for(a=t?1:2;a<e.length;++a){var h=1===a?"thisWired":"arg"+(a-2)+"Wired";null!==e[a].destructorFunction&&(b+=h+"_dtor("+h+"); // "+e[a].name+"\\n",d.push(h+"_dtor"),k.push(e[a].destructorFunction))}return c&&(b+="var ret = retType.fromWireType(rv);\\nreturn ret;\\n"),b+="}\\n",d.push(b),He(Function,d).apply(null,k)}function Pe(A,e){for(var r=[],i=0;i<A;i++)r.push(I[(e>>2)+i]);return r}function Le(A,e,r){switch(e){case 0:return r?function(A){return B[A]}:function(A){return E[A]};case 1:return r?function(A){return X[A>>1]}:function(A){return W[A>>1]};case 2:return r?function(A){return I[A>>2]}:function(A){return C[A>>2]};default:throw new TypeError("Unknown integer type: "+A)}}var Ke={};function qe(A){var e=Ke[A];return void 0===e?zA(A):e}function $e(A){return A||HA("Cannot use deleted val. handle = "+A),Qe[A].value}var Ar=R;function er(A){var e,r;er.called?(r=I[Ar>>2],e=I[r>>2]):(er.called=!0,rr.USER=rr.LOGNAME="web_user",rr.PATH="/",rr.PWD="/",rr.HOME="/home/web_user",rr.LANG="C.UTF-8",rr._=d.thisProgram,e=a(1024,"i8",v),r=a(256,"i8*",v),I[r>>2]=e,I[Ar>>2]=r);var i=[],f=0;for(var n in A)if("string"==typeof A[n]){var t=n+"="+A[n];i.push(t),f+=t.length}if(1024<f)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var o=0;o<i.length;o++){rA(t=i[o],e),I[r+4*o>>2]=e,e+=t.length+1}I[r+4*i.length>>2]=0}R+=16;var rr={};var ir={};var fr=1;function nr(A){return A%4==0&&(A%100!=0||A%400==0)}function tr(A,e){for(var r=0,i=0;i<=e;r+=A[i++]);return r}var or=[31,29,31,30,31,30,31,31,30,31,30,31],ar=[31,28,31,30,31,30,31,31,30,31,30,31];function cr(A,e){for(var r=new Date(A.getTime());0<e;){var i=nr(r.getFullYear()),f=r.getMonth(),n=(i?or:ar)[f];if(!(e>n-r.getDate()))return r.setDate(r.getDate()+e),r;e-=n-r.getDate()+1,r.setDate(1),f<11?r.setMonth(f+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}function lr(A,e,r,i){var f=I[i+40>>2],n={tm_sec:I[i>>2],tm_min:I[i+4>>2],tm_hour:I[i+8>>2],tm_mday:I[i+12>>2],tm_mon:I[i+16>>2],tm_year:I[i+20>>2],tm_wday:I[i+24>>2],tm_yday:I[i+28>>2],tm_isdst:I[i+32>>2],tm_gmtoff:I[i+36>>2],tm_zone:f?g(f):""},t=g(r),o={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var a in o)t=t.replace(new RegExp(a,"g"),o[a]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function u(A,e,r){for(var i="number"==typeof A?A.toString():A||"";i.length<e;)i=r[0]+i;return i}function b(A,e){return u(A,e,"0")}function s(A,e){function r(A){return A<0?-1:0<A?1:0}var i;return 0===(i=r(A.getFullYear()-e.getFullYear()))&&0===(i=r(A.getMonth()-e.getMonth()))&&(i=r(A.getDate()-e.getDate())),i}function d(A){switch(A.getDay()){case 0:return new Date(A.getFullYear()-1,11,29);case 1:return A;case 2:return new Date(A.getFullYear(),0,3);case 3:return new Date(A.getFullYear(),0,2);case 4:return new Date(A.getFullYear(),0,1);case 5:return new Date(A.getFullYear()-1,11,31);case 6:return new Date(A.getFullYear()-1,11,30)}}function k(A){var e=cr(new Date(A.tm_year+1900,0,1),A.tm_yday),r=new Date(e.getFullYear(),0,4),i=new Date(e.getFullYear()+1,0,4),f=d(r),n=d(i);return s(f,e)<=0?s(n,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var h={"%a":function(A){return c[A.tm_wday].substring(0,3)},"%A":function(A){return c[A.tm_wday]},"%b":function(A){return l[A.tm_mon].substring(0,3)},"%B":function(A){return l[A.tm_mon]},"%C":function(A){return b((A.tm_year+1900)/100|0,2)},"%d":function(A){return b(A.tm_mday,2)},"%e":function(A){return u(A.tm_mday,2," ")},"%g":function(A){return k(A).toString().substring(2)},"%G":function(A){return k(A)},"%H":function(A){return b(A.tm_hour,2)},"%I":function(A){var e=A.tm_hour;return 0==e?e=12:12<e&&(e-=12),b(e,2)},"%j":function(A){return b(A.tm_mday+tr(nr(A.tm_year+1900)?or:ar,A.tm_mon-1),3)},"%m":function(A){return b(A.tm_mon+1,2)},"%M":function(A){return b(A.tm_min,2)},"%n":function(){return"\\n"},"%p":function(A){return 0<=A.tm_hour&&A.tm_hour<12?"AM":"PM"},"%S":function(A){return b(A.tm_sec,2)},"%t":function(){return"\\t"},"%u":function(A){return new Date(A.tm_year+1900,A.tm_mon+1,A.tm_mday,0,0,0,0).getDay()||7},"%U":function(A){var e=new Date(A.tm_year+1900,0,1),r=0===e.getDay()?e:cr(e,7-e.getDay()),i=new Date(A.tm_year+1900,A.tm_mon,A.tm_mday);if(s(r,i)<0){var f=tr(nr(i.getFullYear())?or:ar,i.getMonth()-1)-31,n=31-r.getDate()+f+i.getDate();return b(Math.ceil(n/7),2)}return 0===s(r,e)?"01":"00"},"%V":function(A){var e,r=new Date(A.tm_year+1900,0,4),i=new Date(A.tm_year+1901,0,4),f=d(r),n=d(i),t=cr(new Date(A.tm_year+1900,0,1),A.tm_yday);return s(t,f)<0?"53":s(n,t)<=0?"01":(e=f.getFullYear()<A.tm_year+1900?A.tm_yday+32-f.getDate():A.tm_yday+1-f.getDate(),b(Math.ceil(e/7),2))},"%w":function(A){return new Date(A.tm_year+1900,A.tm_mon+1,A.tm_mday,0,0,0,0).getDay()},"%W":function(A){var e=new Date(A.tm_year,0,1),r=1===e.getDay()?e:cr(e,0===e.getDay()?1:7-e.getDay()+1),i=new Date(A.tm_year+1900,A.tm_mon,A.tm_mday);if(s(r,i)<0){var f=tr(nr(i.getFullYear())?or:ar,i.getMonth()-1)-31,n=31-r.getDate()+f+i.getDate();return b(Math.ceil(n/7),2)}return 0===s(r,e)?"01":"00"},"%y":function(A){return(A.tm_year+1900).toString().substring(2)},"%Y":function(A){return A.tm_year+1900},"%z":function(A){var e=A.tm_gmtoff,r=0<=e;return e=(e=Math.abs(e)/60)/60*100+e%60,(r?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(A){return A.tm_zone},"%%":function(){return"%"}};for(var a in h)0<=t.indexOf(a)&&(t=t.replace(new RegExp(a,"g"),h[a](n)));var w=dr(t,!1);return w.length>e?0:(eA(w,A),w.length-1)}if(EA.staticInit(),L.unshift(function(){d.noFSInit||EA.init.initialized||EA.init()}),K.push(function(){EA.ignorePermissions=!1}),q.push(function(){EA.quit()}),d.FS_createFolder=EA.createFolder,d.FS_createPath=EA.createPath,d.FS_createDataFile=EA.createDataFile,d.FS_createPreloadedFile=EA.createPreloadedFile,d.FS_createLazyFile=EA.createLazyFile,d.FS_createLink=EA.createLink,d.FS_createDevice=EA.createDevice,d.FS_unlink=EA.unlink,L.unshift(function(){gA.init()}),q.push(function(){gA.shutdown()}),o){var ur=require("fs"),br=require("path");yA.staticInit()}JA=d.InternalError=DA(Error,"InternalError"),SA(),jA=d.BindingError=DA(Error,"BindingError"),te(),Ce(),ye(),Re=d.UnboundTypeError=DA(Error,"UnboundTypeError"),Te(),er(rr),D=k.staticAlloc(4),Y=(_=k.alignMemory(R))+j,Q=k.alignMemory(Y),I[D>>2]=Q;var sr=!(N=!0);function dr(A,e,r){var i=0<r?r:Z(A)+1,f=new Array(i),n=b(A,f,0,f.length);return e&&(f.length=n),f}function kr(A){for(var e=[],r=0;r<A.length;r++){var i=A[r];255<i&&(sr&&h(!1,"Character code "+i+" ("+String.fromCharCode(i)+")  at offset "+r+" not in 0x00-0xFF."),i&=255),e.push(String.fromCharCode(i))}return e.join("")}var hr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",wr="function"==typeof atob?atob:function(A){var e,r,i,f,n,t,o="",a=0;for(A=A.replace(/[^A-Za-z0-9\\+\\/\\=]/g,"");e=hr.indexOf(A.charAt(a++))<<2|(f=hr.indexOf(A.charAt(a++)))>>4,r=(15&f)<<4|(n=hr.indexOf(A.charAt(a++)))>>2,i=(3&n)<<6|(t=hr.indexOf(A.charAt(a++))),o+=String.fromCharCode(e),64!==n&&(o+=String.fromCharCode(r)),64!==t&&(o+=String.fromCharCode(i)),a<A.length;);return o};function vr(A){var e="data:application/octet-stream;base64,";if(String.prototype.startsWith?A.startsWith(e):0===A.indexOf(e))return function(e){if("boolean"==typeof o&&o){var r;try{r=Buffer.from(e,"base64")}catch(A){r=new Buffer(e,"base64")}return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}try{for(var A=wr(e),i=new Uint8Array(A.length),f=0;f<A.length;++f)i[f]=A.charCodeAt(f);return i}catch(A){throw new Error("Converting base64 string to bytes failed.")}}(A.slice(e.length))}d.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:J},d.asmLibraryArg={abort:Mr,assert:h,enlargeMemory:z,getTotalMemory:function(){return H},abortOnCannotGrowMemory:function(){Mr("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+H+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_i:function(A){try{return d.dynCall_i(A)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_ii:function(A,e){try{return d.dynCall_ii(A,e)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iii:function(A,e,r){try{return d.dynCall_iii(A,e,r)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iiii:function(A,e,r,i){try{return d.dynCall_iiii(A,e,r,i)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iiiii:function(A,e,r,i,f){try{return d.dynCall_iiiii(A,e,r,i,f)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iiiiid:function(A,e,r,i,f,n){try{return d.dynCall_iiiiid(A,e,r,i,f,n)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iiiiii:function(A,e,r,i,f,n){try{return d.dynCall_iiiiii(A,e,r,i,f,n)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iiiiiid:function(A,e,r,i,f,n,t){try{return d.dynCall_iiiiiid(A,e,r,i,f,n,t)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iiiiiii:function(A,e,r,i,f,n,t){try{return d.dynCall_iiiiiii(A,e,r,i,f,n,t)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iiiiiiii:function(A,e,r,i,f,n,t,o){try{return d.dynCall_iiiiiiii(A,e,r,i,f,n,t,o)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_iiiiiiiii:function(A,e,r,i,f,n,t,o,a){try{return d.dynCall_iiiiiiiii(A,e,r,i,f,n,t,o,a)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_v:function(A){try{d.dynCall_v(A)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_vi:function(A,e){try{d.dynCall_vi(A,e)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_vii:function(A,e,r){try{d.dynCall_vii(A,e,r)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viii:function(A,e,r,i){try{d.dynCall_viii(A,e,r,i)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiii:function(A,e,r,i,f){try{d.dynCall_viiii(A,e,r,i,f)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiiii:function(A,e,r,i,f,n){try{d.dynCall_viiiii(A,e,r,i,f,n)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiiiii:function(A,e,r,i,f,n,t){try{d.dynCall_viiiiii(A,e,r,i,f,n,t)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiiiiii:function(A,e,r,i,f,n,t,o){try{d.dynCall_viiiiiii(A,e,r,i,f,n,t,o)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiiiiiii:function(A,e,r,i,f,n,t,o,a){try{d.dynCall_viiiiiiii(A,e,r,i,f,n,t,o,a)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiiiiiiii:function(A,e,r,i,f,n,t,o,a,c){try{d.dynCall_viiiiiiiii(A,e,r,i,f,n,t,o,a,c)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiiiiiiiii:function(A,e,r,i,f,n,t,o,a,c,l){try{d.dynCall_viiiiiiiiii(A,e,r,i,f,n,t,o,a,c,l)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiiiiiiiiiii:function(A,e,r,i,f,n,t,o,a,c,l,u,b){try{d.dynCall_viiiiiiiiiiii(A,e,r,i,f,n,t,o,a,c,l,u,b)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},invoke_viiiiiiiiiiiii:function(A,e,r,i,f,n,t,o,a,c,l,u,b,s){try{d.dynCall_viiiiiiiiiiiii(A,e,r,i,f,n,t,o,a,c,l,u,b,s)}catch(A){if("number"!=typeof A&&"longjmp"!==A)throw A;d.setThrew(1,0)}},ClassHandle:oe,ClassHandle_clone:qA,ClassHandle_delete:Ae,ClassHandle_deleteLater:ne,ClassHandle_isAliasOf:PA,ClassHandle_isDeleted:ee,RegisteredClass:ue,RegisteredPointer:Ge,RegisteredPointer_deleteObject:ve,RegisteredPointer_destructor:we,RegisteredPointer_fromWireType:Ie,RegisteredPointer_getPointee:he,__ZSt18uncaught_exceptionv:dA,___assert_fail:function(A,e,r,i){throw n=!0,"Assertion failed: "+g(A)+", at: "+[e?g(e):"unknown filename",r,i?g(i):"unknown function"]+" at "+p()},___buildEnvironment:er,___cxa_allocate_exception:function(A){return Gr(A)},___cxa_begin_catch:function(A){var e=kA.infos[A];return e&&!e.caught&&(e.caught=!0,dA.uncaught_exception--),e&&(e.rethrown=!1),kA.caught.push(A),kA.addRef(kA.deAdjust(A)),A},___cxa_find_matching_catch:function A(){var e=kA.last;if(!e)return 0|(k.setTempRet0(0),0);var r=kA.infos[e],i=r.type;if(!i)return 0|(k.setTempRet0(0),e);var f=Array.prototype.slice.call(arguments);d.___cxa_is_pointer_type(i);A.buffer||(A.buffer=Gr(4)),I[A.buffer>>2]=e,e=A.buffer;for(var n=0;n<f.length;n++)if(f[n]&&d.___cxa_can_catch(f[n],i,e))return e=I[e>>2],r.adjusted=e,0|(k.setTempRet0(f[n]),e);return e=I[e>>2],0|(k.setTempRet0(i),e)},___cxa_pure_virtual:function(){throw n=!0,"Pure virtual function called!"},___cxa_throw:function(A,e,r){throw kA.infos[A]={ptr:A,adjusted:A,type:e,destructor:r,refcount:0,caught:!1,rethrown:!1},kA.last=A,"uncaught_exception"in dA?dA.uncaught_exception++:dA.uncaught_exception=1,A+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___gxx_personality_v0:function(){},___lock:function(){},___map_file:function(A,e){return wA(hA.EPERM),-1},___resumeException:function(A){throw kA.last||(kA.last=A),A+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___setErrNo:wA,___syscall140:function(A,e){XA.varargs=e;try{var r=XA.getStreamFromFD(),i=(XA.get(),XA.get()),f=XA.get(),n=XA.get(),t=i;return EA.llseek(r,t,n),I[f>>2]=r.position,r.getdents&&0===t&&0===n&&(r.getdents=null),0}catch(A){return void 0!==EA&&A instanceof EA.ErrnoError||Mr(A),-A.errno}},___syscall145:function(A,e){XA.varargs=e;try{var r=XA.getStreamFromFD(),i=XA.get(),f=XA.get();return XA.doReadv(r,i,f)}catch(A){return void 0!==EA&&A instanceof EA.ErrnoError||Mr(A),-A.errno}},___syscall146:function(A,e){XA.varargs=e;try{var r=XA.getStreamFromFD(),i=XA.get(),f=XA.get();return XA.doWritev(r,i,f)}catch(A){return void 0!==EA&&A instanceof EA.ErrnoError||Mr(A),-A.errno}},___syscall54:function(A,e){XA.varargs=e;try{var r=XA.getStreamFromFD(),i=XA.get();switch(i){case 21505:case 21506:return r.tty?0:-hA.ENOTTY;case 21519:if(!r.tty)return-hA.ENOTTY;var f=XA.get();return I[f>>2]=0;case 21520:return r.tty?-hA.EINVAL:-hA.ENOTTY;case 21531:f=XA.get();return EA.ioctl(r,i,f);case 21523:return r.tty?0:-hA.ENOTTY;default:Mr("bad ioctl syscall "+i)}}catch(A){return void 0!==EA&&A instanceof EA.ErrnoError||Mr(A),-A.errno}},___syscall6:function(A,e){XA.varargs=e;try{var r=XA.getStreamFromFD();return EA.close(r),0}catch(A){return void 0!==EA&&A instanceof EA.ErrnoError||Mr(A),-A.errno}},___syscall91:function(A,e){XA.varargs=e;try{var r=XA.get(),i=XA.get(),f=XA.mappings[r];if(!f)return 0;if(i===f.len){var n=EA.getStream(f.fd);XA.doMsync(r,n,i,f.flags),EA.munmap(n),XA.mappings[r]=null,f.allocated&&Cr(f.malloc)}return 0}catch(A){return void 0!==EA&&A instanceof EA.ErrnoError||Mr(A),-A.errno}},___unlock:function(){},__addDays:cr,__arraySum:tr,__embind_finalize_value_object:function(A){var e=IA[A];delete IA[A];var f=e.rawConstructor,n=e.rawDestructor,u=e.fields;TA([A],u.map(function(A){return A.getterReturnType}).concat(u.map(function(A){return A.setterArgumentType})),function(c){var l={};return u.forEach(function(A,e){var r=A.fieldName,i=c[e],f=A.getter,n=A.getterContext,t=c[e+u.length],o=A.setter,a=A.setterContext;l[r]={read:function(A){return i.fromWireType(f(n,A))},write:function(A,e){var r=[];o(a,A,t.toWireType(r,e)),CA(r)}}}),[{name:e.name,fromWireType:function(A){var e={};for(var r in l)e[r]=l[r].read(A);return n(A),e},toWireType:function(A,e){for(var r in l)if(!(r in e))throw new TypeError("Missing field");var i=f();for(r in l)l[r].write(i,e[r]);return null!==A&&A.push(n,i),i},argPackAdvance:8,readValueFromPointer:GA,destructorFunction:n}]})},__embind_register_bool:function(A,r,i,f,n){var t=UA(i);xA(A,{name:r=zA(r),fromWireType:function(A){return!!A},toWireType:function(A,e){return e?f:n},argPackAdvance:8,readValueFromPointer:function(A){var e;if(1===i)e=B;else if(2===i)e=X;else{if(4!==i)throw new TypeError("Unknown boolean type size: "+r);e=I}return this.fromWireType(e[A>>t])},destructorFunction:null})},__embind_register_class:function(c,A,e,l,r,u,i,b,f,s,d,n,k){d=zA(d),u=Fe(r,u),b=b&&Fe(i,b),s=s&&Fe(f,s),k=Fe(n,k);var h=YA(d);le(h,function(){_e("Cannot construct "+d+" due to unbound types",[l])}),TA([c,A,e],l?[l]:[],function(A){var e,r;A=A[0],r=l?(e=A.registeredClass).instancePrototype:oe.prototype;var i=QA(h,function(){if(Object.getPrototypeOf(this)!==f)throw new jA("Use 'new' to construct "+d);if(void 0===n.constructor_body)throw new jA(d+" has no accessible constructor");var A=n.constructor_body[arguments.length];if(void 0===A)throw new jA("Tried to invoke ctor of "+d+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(n.constructor_body).toString()+") parameters instead!");return A.apply(this,arguments)}),f=Object.create(r,{constructor:{value:i}});i.prototype=f;var n=new ue(d,i,f,k,e,u,b,s),t=new Ge(d,n,!0,!1,!1),o=new Ge(d+"*",n,!1,!1,!1),a=new Ge(d+" const*",n,!1,!0,!1);return ae[c]={pointerType:o,constPointerType:a},Ve(h,i),[t,o,a]})},__embind_register_emval:function(A,e){xA(A,{name:e=zA(e),fromWireType:function(A){var e=Qe[A].value;return De(A),e},toWireType:function(A,e){return Ue(e)},argPackAdvance:8,readValueFromPointer:GA,destructorFunction:null})},__embind_register_enum:function(A,e,r,i){var f=UA(r);function n(){}e=zA(e),n.values={},xA(A,{name:e,constructor:n,fromWireType:function(A){return this.constructor.values[A]},toWireType:function(A,e){return e.value},argPackAdvance:8,readValueFromPointer:Se(e,f,i),destructorFunction:null}),le(e,n)},__embind_register_enum_value:function(A,e,r){var i=Oe(A,"enum");e=zA(e);var f=i.constructor,n=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:QA(i.name+"_"+e,function(){})}});f.values[r]=n,f[e]=n},__embind_register_float:function(A,e,r){var i=UA(r);xA(A,{name:e=zA(e),fromWireType:function(A){return A},toWireType:function(A,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+ze(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:je(e,i),destructorFunction:null})},__embind_register_function:function(r,i,A,e,f,n){var t=Pe(i,A);r=zA(r),f=Fe(e,f),le(r,function(){_e("Cannot call "+r+" due to unbound types",t)},i-1),TA([],t,function(A){var e=[A[0],null].concat(A.slice(1));return Ve(r,xe(r,e,null,f,n),i-1),[]})},__embind_register_integer:function(A,r,e,i,f){r=zA(r),-1===f&&(f=4294967295);var n=UA(e),t=function(A){return A};if(0===i){var o=32-8*e;t=function(A){return A<<o>>>o}}var a=-1!=r.indexOf("unsigned");xA(A,{name:r,fromWireType:t,toWireType:function(A,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+ze(e)+'" to '+this.name);if(e<i||f<e)throw new TypeError('Passing a number "'+ze(e)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+i+", "+f+"]!");return a?e>>>0:0|e},argPackAdvance:8,readValueFromPointer:Le(r,n,0!==i),destructorFunction:null})},__embind_register_memory_view:function(A,e,r){var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function f(A){var e=C[A>>=2],r=C[A+1];return new i(C.buffer,r,e)}xA(A,{name:r=zA(r),fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})},__embind_register_std_string:function(A,e){xA(A,{name:e=zA(e),fromWireType:function(A){for(var e=C[A>>2],r=new Array(e),i=0;i<e;++i)r[i]=String.fromCharCode(E[A+4+i]);return Cr(A),r.join("")},toWireType:function(A,e){function r(A,e){return A[e]}var i;e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array?i=r:"string"==typeof e?i=function(A,e){return A.charCodeAt(e)}:HA("Cannot pass non-string to std::string");var f=e.length,n=Gr(4+f);C[n>>2]=f;for(var t=0;t<f;++t){var o=i(e,t);255<o&&(Cr(n),HA("String has UTF-16 code units that do not fit in 8 bits")),E[n+4+t]=o}return null!==A&&A.push(Cr,n),n},argPackAdvance:8,readValueFromPointer:GA,destructorFunction:function(A){Cr(A)}})},__embind_register_std_wstring:function(A,o,e){var a,c;e=zA(e),2===o?(a=function(){return W},c=1):4===o&&(a=function(){return C},c=2),xA(A,{name:e,fromWireType:function(A){for(var e=a(),r=C[A>>2],i=new Array(r),f=A+4>>c,n=0;n<r;++n)i[n]=String.fromCharCode(e[f+n]);return Cr(A),i.join("")},toWireType:function(A,e){var r=a(),i=e.length,f=Gr(4+i*o);C[f>>2]=i;for(var n=f+4>>c,t=0;t<i;++t)r[n+t]=e.charCodeAt(t);return null!==A&&A.push(Cr,f),f},argPackAdvance:8,readValueFromPointer:GA,destructorFunction:function(A){Cr(A)}})},__embind_register_value_object:function(A,e,r,i,f,n){IA[A]={name:zA(e),rawConstructor:Fe(r,i),rawDestructor:Fe(f,n),fields:[]}},__embind_register_value_object_field:function(A,e,r,i,f,n,t,o,a,c){IA[A].fields.push({fieldName:zA(e),getterReturnType:r,getter:Fe(i,f),getterContext:n,setterArgumentType:t,setter:Fe(o,a),setterContext:c})},__embind_register_void:function(A,e){xA(A,{isVoid:!0,name:e=zA(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(A,e){}})},__emval_decref:De,__emval_incref:function(A){4<A&&(Qe[A].refcount+=1)},__emval_new_array:function(){return Ue([])},__emval_new_cstring:function(A){return Ue(qe(A))},__emval_new_object:function(){return Ue({})},__emval_register:Ue,__emval_set_property:function(A,e,r){A=$e(A),e=$e(e),r=$e(r),A[e]=r},__emval_take_value:function(A,e){return Ue((A=Oe(A,"_emval_take_value")).readValueFromPointer(e))},__isLeapYear:nr,_abort:function(){d.abort()},_embind_repr:ze,_emscripten_memcpy_big:function(A,e,r){return E.set(E.subarray(e,e+r),A),A},_getenv:function A(e){return 0===e?0:(e=g(e),rr.hasOwnProperty(e)?(A.ret&&Cr(A.ret),A.ret=a(dr(rr[e]),"i8",t)):0)},_pthread_cond_destroy:function(){return 0},_pthread_cond_init:function(){return 0},_pthread_cond_signal:function(){return 0},_pthread_cond_wait:function(){return 0},_pthread_getspecific:function(A){return ir[A]||0},_pthread_join:function(){},_pthread_key_create:function(A,e){return 0==A?hA.EINVAL:(I[A>>2]=fr,ir[fr]=0,fr++,0)},_pthread_mutex_destroy:function(){},_pthread_mutex_init:function(){},_pthread_once:function A(e,r){A.seen||(A.seen={}),e in A.seen||(d.dynCall_v(r),A.seen[e]=1)},_pthread_setspecific:function(A,e){return A in ir?(ir[A]=e,0):hA.EINVAL},_strftime:lr,_strftime_l:function(A,e,r,i){return lr(A,e,r,i)},constNoSmartPtrRawPointerToWireType:se,count_emval_handles:Je,craftInvokerFunction:xe,createNamedFunction:QA,downcastPointer:me,embind_init_charCodes:SA,ensureOverloadTable:ce,enumReadValueFromPointer:Se,exposePublicSymbol:le,extendError:DA,floatReadValueFromPointer:je,flushPendingDeletes:fe,genericPointerToWireType:de,getBasestPointer:Ee,getInheritedInstance:Xe,getInheritedInstanceCount:ge,getLiveInheritedInstances:Ze,getShiftFromSize:UA,getStringOrSymbol:qe,getTypeName:Ne,get_first_emval:Me,heap32VectorToArray:Pe,init_ClassHandle:te,init_RegisteredPointer:Ce,init_embind:ye,init_emval:Te,integerReadValueFromPointer:Le,makeClassHandle:We,makeLegalFunctionName:YA,new_:He,nonConstNoSmartPtrRawPointerToWireType:ke,readLatin1String:zA,registerType:xA,replacePublicSymbol:Ve,requireFunction:Fe,requireHandle:$e,requireRegisteredType:Oe,runDestructor:$A,runDestructors:CA,setDelayFunction:pe,shallowCopyInternalPointer:LA,simpleReadValueFromPointer:GA,throwBindingError:HA,throwInstanceAlreadyDeleted:KA,throwInternalError:MA,throwUnboundTypeError:_e,upcastPointer:be,whenDependentTypesAreResolved:TA,DYNAMICTOP_PTR:D,tempDoublePtr:sA,ABORT:n,STACKTOP:_,STACK_MAX:Y,cttz_i8:WA};var mr,gr=function(A,e,r){var i=A.Int8Array,tr=new i(r),f=A.Int16Array,or=new f(r),n=A.Int32Array,ar=new n(r),t=A.Uint8Array,cr=new t(r),o=A.Uint16Array,lr=new o(r),a=A.Uint32Array,c=(new a(r),A.Float32Array),gA=new c(r),l=A.Float64Array,Q=new l(r),u=A.byteLength,b=0|e.DYNAMICTOP_PTR,d=0|e.tempDoublePtr,ur=(e.ABORT,0|e.STACKTOP),s=(e.STACK_MAX,0|e.cttz_i8),k=0,h=A.NaN,w=A.Infinity,D=0,v=A.Math.floor,V=A.Math.abs,m=(A.Math.sqrt,A.Math.pow,A.Math.cos,A.Math.sin,A.Math.tan,A.Math.acos,A.Math.asin,A.Math.atan,A.Math.atan2,A.Math.exp,A.Math.log,A.Math.ceil),br=A.Math.imul,g=(A.Math.min,A.Math.max,A.Math.clz32),Z=e.abort,p=(e.assert,e.enlargeMemory),y=e.getTotalMemory,B=e.abortOnCannotGrowMemory,E=(e.invoke_i,e.invoke_ii,e.invoke_iii,e.invoke_iiii,e.invoke_iiiii,e.invoke_iiiiid,e.invoke_iiiiii,e.invoke_iiiiiid,e.invoke_iiiiiii,e.invoke_iiiiiiii,e.invoke_iiiiiiiii,e.invoke_v,e.invoke_vi,e.invoke_vii,e.invoke_viii,e.invoke_viiii,e.invoke_viiiii,e.invoke_viiiiii,e.invoke_viiiiiii,e.invoke_viiiiiiii,e.invoke_viiiiiiiii,e.invoke_viiiiiiiiii,e.invoke_viiiiiiiiiiii,e.invoke_viiiiiiiiiiiii,e.ClassHandle,e.ClassHandle_clone,e.ClassHandle_delete,e.ClassHandle_deleteLater,e.ClassHandle_isAliasOf,e.ClassHandle_isDeleted,e.RegisteredClass,e.RegisteredPointer,e.RegisteredPointer_deleteObject,e.RegisteredPointer_destructor,e.RegisteredPointer_fromWireType,e.RegisteredPointer_getPointee,e.__ZSt18uncaught_exceptionv),sr=e.___assert_fail,X=(e.___buildEnvironment,e.___cxa_allocate_exception),W=(e.___cxa_begin_catch,e.___cxa_find_matching_catch,e.___cxa_pure_virtual),I=e.___cxa_throw,C=(e.___gxx_personality_v0,e.___lock),G=e.___map_file,F=(e.___resumeException,e.___setErrNo),R=e.___syscall140,N=e.___syscall145,_=e.___syscall146,Y=e.___syscall54,J=e.___syscall6,M=e.___syscall91,T=e.___unlock,U=(e.__addDays,e.__arraySum,e.__embind_finalize_value_object),S=e.__embind_register_bool,O=e.__embind_register_class,z=e.__embind_register_emval,j=e.__embind_register_enum,H=e.__embind_register_enum_value,x=e.__embind_register_float,P=e.__embind_register_function,L=e.__embind_register_integer,K=e.__embind_register_memory_view,q=e.__embind_register_std_string,$=e.__embind_register_std_wstring,AA=e.__embind_register_value_object,eA=e.__embind_register_value_object_field,rA=e.__embind_register_void,iA=e.__emval_decref,fA=e.__emval_incref,nA=e.__emval_new_array,tA=e.__emval_new_cstring,oA=e.__emval_new_object,aA=(e.__emval_register,e.__emval_set_property),cA=e.__emval_take_value,lA=(e.__isLeapYear,e._abort),uA=(e._embind_repr,e._emscripten_memcpy_big),bA=e._getenv,sA=e._pthread_cond_destroy,dA=e._pthread_cond_init,kA=e._pthread_cond_signal,hA=e._pthread_cond_wait,wA=e._pthread_getspecific,vA=e._pthread_join,mA=e._pthread_key_create,ZA=e._pthread_mutex_destroy,pA=e._pthread_mutex_init,yA=e._pthread_once,BA=e._pthread_setspecific,EA=(e._strftime,e._strftime_l);e.constNoSmartPtrRawPointerToWireType,e.count_emval_handles,e.craftInvokerFunction,e.createNamedFunction,e.downcastPointer,e.embind_init_charCodes,e.ensureOverloadTable,e.enumReadValueFromPointer,e.exposePublicSymbol,e.extendError,e.floatReadValueFromPointer,e.flushPendingDeletes,e.genericPointerToWireType,e.getBasestPointer,e.getInheritedInstance,e.getInheritedInstanceCount,e.getLiveInheritedInstances,e.getShiftFromSize,e.getStringOrSymbol,e.getTypeName,e.get_first_emval,e.heap32VectorToArray,e.init_ClassHandle,e.init_RegisteredPointer,e.init_embind,e.init_emval,e.integerReadValueFromPointer,e.makeClassHandle,e.makeLegalFunctionName,e.new_,e.nonConstNoSmartPtrRawPointerToWireType,e.readLatin1String,e.registerType,e.replacePublicSymbol,e.requireFunction,e.requireHandle,e.requireRegisteredType,e.runDestructor,e.runDestructors,e.setDelayFunction,e.shallowCopyInternalPointer,e.simpleReadValueFromPointer,e.throwBindingError,e.throwInstanceAlreadyDeleted,e.throwInternalError,e.throwUnboundTypeError,e.upcastPointer,e.whenDependentTypesAreResolved;function XA(A){ar[(A|=0)>>2]=4232,(A=0|ar[A+24>>2])&&mu(A)}function WA(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n,t,o,a=0;n=(A|=0)+4|0,t=A+8|0,o=A+12|0,tr[A+24>>0]=0,ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ar[A+12>>2]=0,ar[(a=A+16|0)>>2]=r,ar[a+4>>2]=i,a=0|ar[e>>2],(i=r=0|ar[e+4>>2])?(bu(r),r=0|ar[n>>2],ar[A>>2]=a,ar[n>>2]=i,0|r&&du(r)):(ar[A>>2]=a,ar[n>>2]=i),(ar[t>>2]=f)&&(ar[o>>2]=1+(0|ar[f+12>>2]))}function IA(A){var e,r,i,f,n=0;return ur=(f=ur)+16|0,e=f,0|CA(A|=0,1,0)?(r=0|ar[A>>2],(n=0==(0|(i=0|ar[A+4>>2])))||bu(i),A=0|xb[63&ar[16+(0|ar[r>>2])>>2]](r,e,1)?0|tr[e>>0]:(GA(A),0),n||du(i),ur=f,0|(n=A)):(ur=f,(n=0)|n)}function CA(A,e,r){A|=0,e|=0;var i=0,f=0,n=0,t=0,o=0,a=0,c=0;if((0|(r|=0))<0&&sr(55739,47382,290,18687),a=0|ar[(i=c=A+16|0)>>2],!((0|(i=0|ar[i+4>>2]))<(0|r)|(0|i)==(0|r)&a>>>0<e>>>0)){f=0|ar[A+8>>2];do{if(f){if(0|CA(f,e,r)){f=0|ar[(i=c)>>2],i=0|ar[i+4>>2];break}return(c=0)|c}f=a}while(0);return a=0|ob(0|f,0|i,0|e,0|r),ar[c>>2]=a,ar[c+4>>2]=D,0|(c=1)}if(0<(0|i)|0==(0|i)&0<a>>>0){f=0|ar[A+8>>2];do{if(f){for(;;){if(r=0|ar[(n=e=f+16|0)>>2],(0|(n=0|ar[n+4>>2]))<(0|i)|(0|n)==(0|i)&r>>>0<a>>>0){i=7;break}if(r=0|ob(0|r,0|n,0|a,0|i),ar[(n=e)>>2]=r,ar[n+4>>2]=D,!(f=0|ar[f+8>>2])){i=9;break}}if(7==(0|i))sr(18700,47382,327,18717);else if(9==(0|i)){t=0|ar[(o=c)>>2],o=0|ar[o+4>>2];break}}else t=a,o=i}while(0);n=0|ar[A>>2],a=0|ar[n>>2],r=0|ar[a+20>>2],a=0|tb(0|(a=0|jb[127&ar[a+8>>2]](n)),0|D,0|t,0|o),xb[63&r](n,a,D),ar[c>>2]=0,ar[c+4>>2]=0}return tr[A+24>>0]=1,(c=0)|c}function GA(A){var e=0;ar[(e=(A|=0)+16|0)>>2]=0,(e=(ar[e+4>>2]=0)|ar[A+8>>2])&&GA(e),tr[(e=A+24|0)>>0]=1}function VA(A){var e,r,i,f,n=0;return ur=(f=ur)+16|0,e=f,0|CA(A|=0,2,0)?(r=0|ar[A>>2],(n=0==(0|(i=0|ar[A+4>>2])))||bu(i),A=0|xb[63&ar[16+(0|ar[r>>2])>>2]](r,e,2)?65535&((0|cr[e>>0])<<8|0|cr[e+1>>0]):(GA(A),0),n||du(i),ur=f,0|(n=A)):(ur=f,(n=0)|n)}function FA(A){var e,r,i,f,n=0;return ur=(f=ur)+16|0,e=f,0|CA(A|=0,4,0)?(r=0|ar[A>>2],(n=0==(0|(i=0|ar[A+4>>2])))||bu(i),A=0|xb[63&ar[16+(0|ar[r>>2])>>2]](r,e,4)?(0|cr[e+1>>0])<<16|(0|cr[e>>0])<<24|(0|cr[e+2>>0])<<8|0|cr[e+3>>0]:(GA(A),0),n||du(i),ur=f,0|(n=A)):(ur=f,(n=0)|n)}function RA(A,e){A|=0,e|=0;var r,i,f,n=0,t=0,o=0,a=0;ur=(f=ur)+16|0,r=(i=f)+12|0,ar[i>>2]=0,ar[i+4>>2]=0,a=e+16|(ar[i+8>>2]=0);A:do{if(0==(0|ar[a>>2])&0==(0|ar[a+4>>2]))ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0;else{t=e+4|0;e:for(;;){if(!(0|CA(e,1,0))){n=5;break}switch(n=0|ar[e>>2],(a=0==(0|(o=0|ar[t>>2])))||bu(o),n=0|xb[63&ar[16+(0|ar[n>>2])>>2]](n,r,1)?(n=0|tr[r>>0])<<24>>24?(_u(i,n),0):2:(GA(e),ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,1),a||du(o),3&n){case 0:break;case 2:n=15;break e;default:break A}}if(5==(0|n)){ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0;break}if(15==(0|n)){ar[A>>2]=ar[i>>2],ar[A+4>>2]=ar[i+4>>2],ar[A+8>>2]=ar[i+8>>2],ar[i>>2]=0,ar[i+4>>2]=0,ar[i+8>>2]=0;break}}}while(0);ur=(0<=(0|tr[i+11>>0])||vu(0|ar[i>>2]),f)}function NA(A,e,r){e|=0,r|=0;var i=0;return i=0|ar[(A|=0)>>2],r=0|tb(0|(i=0|jb[127&ar[8+(0|ar[i>>2])>>2]](i)),0|D,0|e,0|r),e=0|ar[A>>2],0|xb[63&ar[12+(0|ar[e>>2])>>2]](e,r,D)}function _A(A,e,r){A|=0,e|=0,r|=0;for(var i=0,f=0,n=0;;){if(f=0|ar[(n=i=A+16|0)>>2],(0|(n=0|ar[n+4>>2]))<(0|r)|(0|n)==(0|r)&f>>>0<e>>>0){A=3;break}if(f=0|ob(0|f,0|n,0|e,0|r),ar[(n=i)>>2]=f,ar[n+4>>2]=D,!(A=0|ar[A+8>>2])){A=5;break}}if(3==(0|A))sr(18700,47382,327,18717);else if(5==(0|A))return}function YA(A,e,r){e|=0,r|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0;return ar[(A|=0)>>2]=e,ar[A+4>>2]=r,ar[(i=A+8|0)>>2]=r,ar[(a=c=A+16|0)>>2]=0,ar[a+4>>2]=0,ar[(a=A+24|0)>>2]=0,r?(f=e+1|0,ar[A>>2]=f,n=0|cr[e>>0],o=r+-1|0,ar[i>>2]=o,n=0|db(0|n,0,56),t=D,ar[(l=c)>>2]=n,ar[l+4>>2]=t,o?(o=e+2|0,ar[A>>2]=o,f=0|cr[f>>0],l=r+-2|0,ar[i>>2]=l,f=0|db(0|f,0,48),f|=n,n=t|D,ar[(t=c)>>2]=f,ar[t+4>>2]=n,l?(t=e+3|0,ar[A>>2]=t,o=0|cr[o>>0],l=r+-3|0,ar[i>>2]=l,o=0|db(0|o,0,40),o|=f,f=n|D,ar[(n=c)>>2]=o,ar[n+4>>2]=f,l?(n=e+4|0,ar[A>>2]=n,t=0|cr[t>>0],l=r+-4|0,ar[i>>2]=l,f|=t,ar[(t=c)>>2]=o,ar[t+4>>2]=f,l?(t=e+5|0,ar[A>>2]=t,n=0|cr[n>>0],l=r+-5|0,ar[i>>2]=l,n=0|db(0|n,0,24),n|=o,f|=D,ar[(o=c)>>2]=n,ar[o+4>>2]=f,l?(o=e+6|0,ar[A>>2]=o,t=0|cr[t>>0],l=r+-6|0,ar[i>>2]=l,n|=t=0|db(0|t,0,16),f|=D,ar[(t=c)>>2]=n,ar[t+4>>2]=f,l?(t=e+7|0,ar[A>>2]=t,o=0|cr[o>>0],l=r+-7|0,ar[i>>2]=l,n|=o=0|db(0|o,0,8),f|=D,ar[(o=c)>>2]=n,ar[o+4>>2]=f,l=l?(ar[A>>2]=e+8,e=0|cr[t>>0],ar[i>>2]=r+-8,ar[(l=c)>>2]=n|e,ar[l+4>>2]=f,64-(l=0)|0):64-(l=8)|0,void(ar[a>>2]=l)):(l=64-(l=16)|0,void(ar[a>>2]=l))):(l=64-(l=24)|0,void(ar[a>>2]=l))):(l=64-(l=32)|0,void(ar[a>>2]=l))):(l=64-(l=40)|0,void(ar[a>>2]=l))):(l=64-(l=48)|0,void(ar[a>>2]=l))):(l=64-(l=56)|0,void(ar[a>>2]=l))):(c=(c=64)-c|0,void(ar[a>>2]=c))}function QA(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if((0|(i=0|ar[(r=(A|=0)+24|0)>>2]))<(0|e)){i=64-i|0,n=A+8|0;A:do{if(7<(0|i)){t=A+16|0,f=0|ar[n>>2];do{if(!f)break A;c=0|ar[A>>2],ar[A>>2]=c+1,c=0|cr[c>>0],f=f+-1|0,ar[n>>2]=f,c=0|db(0|c,0,0|(i=i+-8|0)),a=ar[(l=t)+4>>2]|D,ar[(o=t)>>2]=ar[l>>2]|c,ar[o+4>>2]=a}while(7<(0|i))}}while(0);i=64-i|0,ar[r>>2]=i}return l=0|sb(0|(o=0|ar[(a=c=A+16|0)>>2]),0|(a=0|ar[a+4>>2]),64-e|0),a=0|db(0|o,0|a,0|e),ar[c>>2]=a,ar[c+4>>2]=D,ar[r>>2]=i-e,0|l}function DA(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;for(c=(A|=0)+8|0,i=A+16|0,f=(l=0)|ar[(r=A+24|0)>>2];;){if((0|f)<1){f=64-f|0;A:do{if(7<(0|f)){n=0|ar[c>>2];do{if(!n)break A;u=0|ar[A>>2],ar[A>>2]=u+1,u=0|cr[u>>0],n=n+-1|0,ar[c>>2]=n,u=0|db(0|u,0,0|(f=f+-8|0)),t=ar[(b=i)+4>>2]|D,ar[(o=i)>>2]=ar[b>>2]|u,ar[o+4>>2]=t}while(7<(0|f))}}while(0);o=64-f|0,ar[r>>2]=o}else o=f;if(t=0|db(0|(b=0|ar[(u=i)>>2]),0|(u=0|ar[u+4>>2]),1),n=D,ar[(f=i)>>2]=t,ar[f+4>>2]=n,f=o+-1|0,ar[r>>2]=f,!(-1<(0|u)|-1==(0|u)&4294967295<b>>>0))break;if(19<(0|l)){f=0,a=20;break}l=l+1|0}if(20==(0|a))return 0|f;if(!l)return(ar[e>>2]=0)|(b=1);if((0|o)<=(0|l)){f=65-o|0;A:do{if(7<(0|f)){o=0|ar[c>>2];do{if(!o)break A;b=0|ar[A>>2],ar[A>>2]=b+1,b=0|cr[b>>0],o=o+-1|0,ar[c>>2]=o,t|=b=0|db(0|b,0,0|(f=f+-8|0)),n|=D,ar[(b=i)>>2]=t,ar[b+4>>2]=n}while(7<(0|f))}}while(0);f=64-f|0,ar[r>>2]=f}return b=0|sb(0|t,0|n,64-l|0),c=0|db(0|t,0|n,0|l),ar[(u=i)>>2]=c,ar[u+4>>2]=D,ar[r>>2]=f-l,b=b+(1<<l)|0,ar[e>>2]=b+-1,1<(0|b)?0|(b=1):(sr(18749,47382,427,47403),0)}function JA(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0,u=0;if((0|(t=0|ar[(r=(A|=0)+12|0)>>2]))!=((o=u=0|ar[(i=A+4|0)>>2])-(n=f=0|ar[A>>2])|0))return ar[r>>2]=t+1,void(tr[n+t>>0]=e);(0|o)==(0|(t=0|ar[(u=A+8|0)>>2]))?((0|(t=(l=t-f|0)+1|0))<0&&zl(),o=l<<1,c=(o=l>>>0<1073741823?o>>>0<t>>>0?t:o:2147483647)?0|hu(o):0,tr[(a=c+l|0)>>0]=e,t=a+(0-l)|0,0<(0|l)&&hb(0|t,0|n,0|l),ar[A>>2]=t,ar[i>>2]=a+1,ar[u>>2]=c+o,0|f&&vu(n)):(tr[o>>0]=e,ar[i>>2]=1+(0|ar[i>>2])),ar[r>>2]=1+(0|ar[r>>2])}function MA(A,e){e|=0;var r,i,f=0,n=0,t=0;t=(n=0|ar[(i=(A|=0)+12|0)>>2])+2|0,f=0|ar[A>>2],(r=(0|ar[A+4>>2])-f|0)>>>0<t>>>0?(TA(A,t-r|0),t=A,n=0|ar[i>>2],f=0|ar[A>>2]):t=A,ar[i>>2]=n+1,tr[f+n>>0]=(65535&e)>>>8,A=0|ar[i>>2],ar[i>>2]=A+1,tr[(0|ar[t>>2])+A>>0]=e}function TA(A,e){var r,i,f=0,n=0,t=0,o=0,a=0;if((e|=0)>>>0<=((t=0|ar[(r=(A|=0)+8|0)>>2])-(f=0|ar[(i=A+4|0)>>2])|0)>>>0)for(;f=1+((tr[f>>0]=0)|ar[i>>2])|0,ar[i>>2]=f,0!=(0|(e=e+-1|0)););else{for((0|(f=(o=f-(n=0|ar[A>>2])|0)+e|0))<0&&zl(),a=(t=t-n|0)<<1,a=(n=(f=t>>>0<1073741823?a>>>0<f>>>0?f:a:2147483647)?0|hu(f):0)+o|0,o=n+f|0,f=t=a;t=f=t+1|(tr[f>>0]=0),0!=(0|(e=e+-1|0)););e=0|ar[A>>2],f=a+(0-(n=(0|ar[i>>2])-e|0))|0,0<(0|n)&&hb(0|f,0|e,0|n),ar[A>>2]=f,ar[i>>2]=t,ar[r>>2]=o,e&&vu(e)}}function UA(A,e){e|=0;var r,i,f=0,n=0,t=0;t=(n=0|ar[(i=(A|=0)+12|0)>>2])+4|0,f=0|ar[A>>2],(r=(0|ar[A+4>>2])-f|0)>>>0<t>>>0?(TA(A,t-r|0),t=A,n=0|ar[i>>2],f=0|ar[A>>2]):t=A,ar[i>>2]=n+1,tr[f+n>>0]=e>>>24,A=0|ar[i>>2],ar[i>>2]=A+1,tr[(0|ar[t>>2])+A>>0]=e>>>16,A=0|ar[i>>2],ar[i>>2]=A+1,tr[(0|ar[t>>2])+A>>0]=e>>>8,A=0|ar[i>>2],ar[i>>2]=A+1,tr[(0|ar[t>>2])+A>>0]=e}function SA(A,e,r,i){A|=0,r|=0,i|=0;var f=0,n=0,t=0;switch(0|(e|=0)){case 1:return i>>>0<0|0==(0|i)&r>>>0<256||sr(18760,47382,543,19563),void JA(A,255&r);case 2:return i>>>0<0|0==(0|i)&r>>>0<65536||sr(18774,47382,547,19563),i=(n=0|ar[(t=A+12|0)>>2])+2|0,e=0|ar[A>>2],(f=(0|ar[A+4>>2])-e|0)>>>0<i>>>0?(TA(A,i-f|0),f=A,i=0|ar[t>>2],e=0|ar[A>>2]):(f=A,i=n),ar[t>>2]=i+1,tr[e+i>>0]=(65535&r)>>>8,A=0|ar[t>>2],ar[t>>2]=A+1,void(tr[(0|ar[f>>2])+A>>0]=r);case 4:return i>>>0<1|1==(0|i)&r>>>0<0||sr(18790,47382,551,19563),i=(n=0|ar[(t=A+12|0)>>2])+4|0,e=0|ar[A>>2],(f=(0|ar[A+4>>2])-e|0)>>>0<i>>>0?(TA(A,i-f|0),f=A,i=0|ar[t>>2],e=0|ar[A>>2]):(f=A,i=n),ar[t>>2]=i+1,tr[e+i>>0]=r>>>24,A=0|ar[t>>2],ar[t>>2]=A+1,tr[(0|ar[f>>2])+A>>0]=r>>>16,A=0|ar[t>>2],ar[t>>2]=A+1,tr[(0|ar[f>>2])+A>>0]=r>>>8,A=0|ar[t>>2],ar[t>>2]=A+1,void(tr[(0|ar[f>>2])+A>>0]=r);case 8:return void function(A,e,r){e|=0,r|=0;var i,f=0,n=0,t=0,o=0;t=(n=0|ar[(i=(A|=0)+12|0)>>2])+8|0,f=0|ar[A>>2],(o=(0|ar[A+4>>2])-f|0)>>>0<t>>>0?(TA(A,t-o|0),t=A,n=0|ar[i>>2],f=0|ar[A>>2]):t=A,A=0|sb(0|e,0|r,56),ar[i>>2]=n+1,tr[f+n>>0]=A,A=0|sb(0|e,0|r,48),o=0|ar[i>>2],ar[i>>2]=o+1,tr[(0|ar[t>>2])+o>>0]=A,o=0|sb(0|e,0|r,40),A=0|ar[i>>2],ar[i>>2]=A+1,tr[(0|ar[t>>2])+A>>0]=o,A=0|ar[i>>2],ar[i>>2]=A+1,A=0|sb(0|e,0|(tr[(0|ar[t>>2])+A>>0]=r),24),o=0|ar[i>>2],ar[i>>2]=o+1,tr[(0|ar[t>>2])+o>>0]=A,o=0|sb(0|e,0|r,16),A=0|ar[i>>2],ar[i>>2]=A+1,tr[(0|ar[t>>2])+A>>0]=o,A=0|sb(0|e,0|r,8),r=0|ar[i>>2],ar[i>>2]=r+1,tr[(0|ar[t>>2])+r>>0]=A,r=0|ar[i>>2],ar[i>>2]=r+1,tr[(0|ar[t>>2])+r>>0]=e}(A,r,i);default:sr(55739,47382,558,19563)}}function OA(A,e){var r=0,i=0,f=0,n=0,t=0,o=0,a=0;if(a=(A|=0)+12|0,n=0|tr[(t=(e|=0)+11|0)>>0],r=0|ar[(o=e+4|0)>>2],i=1+(0|ar[a>>2])+(n<<24>>24<0?r:255&n)|0,(f=(0|ar[A+4>>2])-(0|ar[A>>2])|0)>>>0<i>>>0?(TA(A,i-f|0),f=0|tr[t>>0],r=0|ar[o>>2]):f=n,!(0|(f<<24>>24<0?r:255&f)))return t=A,e=(o=0|ar[a>>2])+1|0,ar[a>>2]=e,a=0|ar[t>>2],void(tr[(a=a+o|0)>>0]=0);for(i=0,r=f;f=0|tr[(r<<24>>24<0?0|ar[e>>2]:e)+i>>0],n=0|ar[a>>2],ar[a>>2]=n+1,tr[(0|ar[A>>2])+n>>0]=f,(i=i+1|0)>>>0<((r=0|tr[t>>0])<<24>>24<0?0|ar[o>>2]:255&r)>>>0;);t=(o=0|ar[a>>2])+1|0,ar[a>>2]=t,a=0|ar[A>>2],tr[(a=a+o|0)>>0]=0}function zA(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0;a=0|ar[(f=(A|=0)+12|0)>>2],i=(t=0|ar[(n=e+4|0)>>2])-(o=0|ar[e>>2])+a|0,c=0|ar[A>>2],(r=(0|ar[A+4>>2])-c|0)>>>0<i>>>0&&(TA(A,i-r|0),c=0|ar[A>>2],a=0|ar[f>>2],o=0|ar[e>>2],t=0|ar[n>>2]),hb(c+a|0,0|o,t-o|0),ar[f>>2]=(0|ar[n>>2])-(0|ar[e>>2])+(0|ar[f>>2])}function jA(A,e){e|=0;var r,i,f,n,t,o=0,a=0;(0|(o=0|ar[(t=(A|=0)+12|0)>>2]))!=((r=0|ar[(f=A+4|0)>>2])-(i=0|ar[A>>2])|0)&&sr(18810,47382,610,18838),(n=o+e|0)>>>0<=o>>>0?n>>>0<o>>>0&&(0|r)!=(0|(a=i+n|0))&&(ar[f>>2]=a):(TA(A,e),o=0|ar[t>>2]),ar[t>>2]=o+e}function HA(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0,b=0;if(ur=(o=ur)+160|0,l=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[l>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,Xe(t,l),(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),0<(0|ar[r>>2]))for(c=0;We(f,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(b=0|We(f,18865,5),xA(l,e),We(0|We(b,(u=(a=0|tr[(c=l+11|0)>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[l+4>>2]:255&a),18871,7),(0|tr[c>>0])<0&&vu(0|ar[l>>2]),0<(0|ar[r>>2]))for(c=0;We(f,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(u=0|We(f,18879,6),b=0|We(0|Kf(u,0|ar[(b=e+8|0)>>2],0|ar[b+4>>2]),18886,17),We(0|Lf(b,0|ar[e+16>>2]),18904,2),0|tr[e+36>>0]){if(0<(0|ar[r>>2]))for(c=0;We(f,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(l=0|We(f,18907,9),l=0|We(0|Pf(l,0|cr[e+37>>0]),30086,1),0<(0|ar[r>>2]))for(c=0;We(l,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););u=(b=0|We(l,18917,7))+(0|ar[(0|ar[b>>2])-12>>2])+4|0,ar[u>>2]=-75&ar[u>>2]|8,We(0|Lf(b,0|ar[e+40>>2]),30086,1)}if(Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o}function Xe(A,e){var r,i,f=0,n=0,t=0,o=0;Eu(r=(A|=0)+32|0,e|=0),8&(t=(ar[(o=A+44|0)>>2]=0)|ar[(i=A+48|0)>>2])|0&&(e=(e=0|tr[11+r>>0])<<24>>24<0?(n=f=e=0|ar[r>>2])+(0|ar[A+36>>2])|0:(n=f=r)+(255&e)|0,ar[o>>2]=e,ar[A+8>>2]=f,ar[A+12>>2]=n,ar[A+16>>2]=e),16&t&&(o=(e=(e=0|tr[(f=11+r|0)>>0])<<24>>24<0?(t=0|ar[A+36>>2],ar[o>>2]=(0|ar[r>>2])+t,(2147483647&ar[A+40>>2])-1|0):(t=255&e,ar[o>>2]=r+t,10),t),Vu(r,e,0),(e=0|tr[f>>0])<<24>>24<0?(t=f=0|ar[r>>2],n=0|ar[A+36>>2]):(n=255&e,f=t=r),ar[(e=A+24|0)>>2]=f,ar[A+20>>2]=f,ar[A+28>>2]=t+n,3&ar[i>>2]&&(ar[e>>2]=f+o))}function We(A,e,r){e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0;return ur=(a=ur)+16|0,n=a+12|0,l=(o=a)+8|0,zf(o,A|=0),0|tr[o>>0]?(c=(0|ar[A>>2])-12|0,ar[l>>2]=ar[A+(0|ar[c>>2])+24>>2],c=A+(0|ar[c>>2])|0,t=0|ar[c+4>>2],f=e+r|0,-1==(0|(r=0|ar[(i=c+76|0)>>2]))&&(Tf(n,c),r=0|un(n,59232),r=0|Hb[31&ar[28+(0|ar[r>>2])>>2]](r,32),bn(n),r=r<<24>>24,ar[i>>2]=r),ar[n>>2]=ar[l>>2],ur=(0|PA(n,e,32==(176&t|0)?f:e,f,c,255&r)||Df(l=A+(0|ar[(0|ar[A>>2])-12>>2])|0,5|ar[l+16>>2]),jf(o),a),0|A):(jf(o),ur=a,0|A)}function xA(A,e){A|=0;var r,i,f,n,t,o,a=0;if(ur=(o=ur)+160|0,n=o+136|0,t=o,1970628964!=(0|(a=0|ar[(e|=0)+20>>2])))return ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,tr[A+11>>0]=4,tr[A+4>>0]=0,tr[A>>0]=a>>>24,tr[A+1>>0]=a>>>16,tr[A+2>>0]=a>>>8,tr[A+3>>0]=a,void(ur=o);i=t+56|0,f=t+4|0,ar[t>>2]=292,ar[i>>2]=312,Jf(t+56|0,f),ar[t+128>>2]=0,ar[t+132>>2]=-1,ar[t>>2]=4304,ar[i>>2]=4324,Sf(f),ar[f>>2]=4340,ar[(r=t+36|0)>>2]=0,ar[4+r>>2]=0,ar[8+r>>2]=0,ar[12+r>>2]=0,ar[t+52>>2]=16,ar[n>>2]=0,ar[4+n>>2]=0,ar[8+n>>2]=0,Xe(f,n),(0|tr[11+n>>0])<0&&vu(0|ar[n>>2]),a=t+(0|ar[(0|ar[t>>2])-12>>2])+4|0,ar[a>>2]=-75&ar[a>>2]|8,ar[t+(0|ar[(0|ar[t>>2])-12>>2])+76>>2]=48,ar[t+(0|ar[(0|ar[t>>2])-12>>2])+12>>2]=2,e=e+24|0,a=0;do{switch(0|a){case 4:case 6:case 8:case 10:tr[n>>0]=45,We(t,n,1)}Pf(t,0|cr[(0|ar[e>>2])+a>>0]),a=a+1|0}while((0|a)<16);Ie(A,f),ar[t>>2]=4304,ar[i>>2]=4324,ar[f>>2]=4340,(0|tr[11+r>>0])<0&&vu(0|ar[r>>2]),kf(f),Gf(),bf(i),ur=o}function Ie(A,e){A|=0;var r=0,i=0,f=0,n=0;if(16&(r=0|ar[(e|=0)+48>>2])|0){if((i=0|ar[(r=e+44|0)>>2])>>>0<(f=0|ar[e+24>>2])>>>0&&(i=ar[r>>2]=f),r=0|ar[e+20>>2],ar[A>>2]=0,ar[A+4>>2]=0,4294967279<(e=i-r|(ar[A+8>>2]=0))>>>0&&pu(),e>>>0<11?tr[A+11>>0]=e:(f=0|hu(n=e+16&-16),ar[A>>2]=f,ar[A+8>>2]=-2147483648|n,ar[A+4>>2]=e,A=f),(0|r)!=(0|i)){for(f=A;tr[f>>0]=0|tr[r>>0],(0|(r=r+1|0))!=(0|i);)f=f+1|0;A=A+e|0}tr[A>>0]=0}else{if(!(8&r))return ar[A>>2]=0,ar[A+4>>2]=0,void(ar[A+8>>2]=0);if(r=0|ar[e+8>>2],f=0|ar[e+16>>2],ar[A>>2]=0,ar[A+4>>2]=0,4294967279<(e=f-r|(ar[A+8>>2]=0))>>>0&&pu(),e>>>0<11?tr[A+11>>0]=e:(n=0|hu(i=e+16&-16),ar[A>>2]=n,ar[A+8>>2]=-2147483648|i,ar[A+4>>2]=e,A=n),(0|r)!=(0|f)){for(i=A;tr[i>>0]=0|tr[r>>0],(0|(r=r+1|0))!=(0|f);)i=i+1|0;A=A+e|0}tr[A>>0]=0}}function PA(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c=0,l=0,u=0,b=0;if(ur=(a=ur)+16|0,o=a,!(b=0|ar[(A|=0)>>2]))return ur=a,(b=0)|b;if(l=(0|(l=i-(c=e)|0))<(0|(u=0|ar[(t=f+12|0)>>2]))?u-l|0:0,0<(0|(f=(u=r)-c|0))&&(0|xb[63&ar[48+(0|ar[b>>2])>>2]](b,e,f))!=(0|f))return ar[A>>2]=0,ur=a,(b=0)|b;do{if(0<(0|l)){if(ar[o>>2]=0,ar[o+4>>2]=0,c=l>>>(ar[o+8>>2]=0)<11?(tr[(e=o+11|0)>>0]=l,f=o):(f=0|hu(e=l+16&-16),ar[o>>2]=f,ar[o+8>>2]=-2147483648|e,ar[o+4>>2]=l,e=o+11|0,o),vb(0|f,0|n,0|l),((tr[f+l>>0]=0)|xb[63&ar[48+(0|ar[b>>2])>>2]](b,(0|tr[e>>0])<0?0|ar[c>>2]:o,l))!=(0|l))return((ar[A>>2]=0)|tr[e>>0])<0&&vu(0|ar[c>>2]),ur=a,(b=0)|b;(0|tr[e>>0])<0&&vu(0|ar[c>>2]);break}}while(0);return 0<(0|(i=i-u|0))&&(0|xb[63&ar[48+(0|ar[b>>2])>>2]](b,r,i))!=(0|i)?(ar[A>>2]=0,ur=a,(b=0)|b):(ar[t>>2]=0,ur=a,0|b)}function LA(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),HA(f,e,r),We(n,(c=(e=0|tr[(r=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,c?0|ar[4+f>>2]:255&e),(0|tr[r>>0])<0&&vu(0|ar[f>>2]),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),Gf(),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),Gf(),bf(t),ur=a}function KA(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t,o,a=0,c=0,l=0;c=0|tr[(f=(e|=0)+36|0)>>0]?12:8,l=1970628964==(0|ar[(o=e+20|0)>>2])?16|c:c,a=(0|ar[(n=r+4|0)>>2])-i-c-(0|ar[r>>2])+l|0,ar[(t=r+12|0)>>2]=i,function(A,e){A|=0;var r,i,f,n,t=0,o=0,a=0,c=0;(0|(e|=0))<=-1&&sr(18843,47382,618,18855),e&&(n=0|ar[(f=A+4|0)>>2],a=c=0|ar[A>>2],(i=(r=(o=n)-c|0)+e|0)>>>0<=r>>>0?i>>>0<r>>>0&&(0|o)!=(0|(t=a+i|0))?ar[f>>2]=t:t=n:(TA(A,e),c=a=0|ar[A>>2],t=0|ar[f>>2]),(t=t-c-e|0)>>>0<=(o=0|ar[A+12>>2])>>>0||wb((A=a+o|0)+e|0,0|A,t-o|0))}(r,l-c|0),UA(r,a),UA(r,0|ar[o>>2]);do{if(1970628964==(0|ar[o>>2])){if(i=e+24|0,16==((0|ar[e+28>>2])-(0|ar[i>>2])|0)){zA(r,i);break}sr(19079,19104,309,19111)}}while(0);do{if(0|tr[f>>0]){if((i=0|ar[e+40>>2])>>>0<16777216){UA(r,cr[e+37>>0]<<24|i);break}sr(19126,19104,314,19111)}}while(0);ar[t>>2]=(0|ar[n>>2])-(0|ar[r>>2]),c=0|ar[(a=56592)+4>>2],ar[(l=A)>>2]=ar[a>>2],ar[l+4>>2]=c,yu(A+8|0,56600)}function Ce(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=(A|=0)+4|0,n=0|ar[A>>2],1073741823<(o=1+(i=(t=(0|ar[f>>2])-n|0)>>2)|0)>>>0&&zl(),a=(c=(0|ar[(l=A+8|0)>>2])-n|0)>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t),ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),n&&vu(n)}function qA(A,e,r){A|=0,e|=0;var i,f=0,n=0;if(ur=(i=ur)+16|0,f=i,n=0|FA(r|=0),tr[e+37>>0]=n>>>24,ar[e+40>>2]=16777215&n,tr[e+36>>0]=1,ar[(e=e+16|0)>>2]=4+(0|ar[e>>2]),!(0|tr[r+24>>0]))return f=0|ar[(r=56592)+4>>2],ar[(n=A)>>2]=ar[r>>2],ar[n+4>>2]=f,yu(A+8|0,56600),void(ur=i);ar[f>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,oo(A,2,100,f),ur=(0<=(0|tr[f+11>>0])||vu(0|ar[f>>2]),i)}function $A(A,e,r,i){var f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F=0,R=0,N=0,_=0,Y=0;ur=(V=ur)+208|0,N=(r|=0)+16|0,c=r+24|0,l=4+(W=V+184|0)|0,u=(e|=0)+44|0,b=e+48|0,k=12+(C=(I=V)+24|0)|0,h=4+C|0,w=s=64+C|0,v=136+C|0,m=140+C|0,Z=60+C|0,p=11+(X=V+192|0)|0,y=d=8+C|0,B=11+(G=V+168|0)|0,E=11+(g=44+C|0)|0,f=e+52|0,n=-1!=(0|(i|=0)),o=11+(t=I+8|0)|0,a=(A|=0)+8|0,e=0;A:for(;!(0==(0|ar[(R=N)>>2])&0==(0|ar[R+4>>2])||0|tr[c>>0]);){ar[W>>2]=0,ar[l>>2]=0,Ae(I,r,W);do{if((0|ar[I>>2])==(0|ar[14148])){if((R=F=0|ar[b>>2])-(0|ar[u>>2])>>3>>>0<=2e4){R>>>0<(0|ar[f>>2])>>>0?(ar[F>>2]=ar[W>>2],ar[R+4>>2]=ar[l>>2],ar[W>>2]=0,ar[l>>2]=0,ar[b>>2]=R+8):ee(u,W),R=(n&(0|(e=e+1|0))==(0|i))<<31>>31;break}ar[d>>2]=4524,ar[C>>2]=188,ar[s>>2]=208,ar[h>>2]=0,Jf(w,k),ar[v>>2]=0,ar[m>>2]=-1,ar[C>>2]=4504,ar[s>>2]=4544,ar[d>>2]=4524,Sf(k),ar[k>>2]=4340,ar[g>>2]=0,ar[4+g>>2]=0,ar[8+g>>2]=0,ar[12+g>>2]=0,ar[Z>>2]=24,ar[X>>2]=0,ar[4+X>>2]=0,ar[8+X>>2]=0,Xe(k,X),(0|tr[p>>0])<0&&vu(0|ar[X>>2]),We(0|Lf(0|We(y,19273,30),2e4),19304,10),Ie(G,k),oo(A,6,1e3,G),(0|tr[B>>0])<0&&vu(0|ar[G>>2]),ar[C>>2]=4504,ar[s>>2]=4544,ar[y>>2]=4524,ar[k>>2]=4340,(0|tr[E>>0])<0&&vu(0|ar[g>>2]),kf(k),_f(),bf(s),R=1}else F=0|ar[(Y=I)+4>>2],ar[(R=A)>>2]=ar[Y>>2],ar[R+4>>2]=F,ar[a>>2]=ar[t>>2],ar[4+a>>2]=ar[4+t>>2],ar[8+a>>2]=ar[8+t>>2],ar[t>>2]=0,ar[4+t>>2]=0,ar[8+t>>2]=0,R=1}while(0);switch((0|tr[o>>0])<0&&vu(0|ar[t>>2]),0|(F=0|ar[l>>2])&&du(F),3&R){case 0:break;case 3:break A;default:_=28;break A}}ur=(28!=(0|_)&&(0|tr[c>>0]?(ar[X>>2]=0,ar[4+X>>2]=0,ar[8+X>>2]=0,oo(A,2,100,X),(0|tr[11+X>>0])<0&&vu(0|ar[X>>2])):(_=0|ar[(N=56592)+4>>2],ar[(Y=A)>>2]=ar[N>>2],ar[Y+4>>2]=_,yu(a,56600))),V)}function Ae(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;ur=(b=ur)+320|0,p=b+216|0,l=b+144|0,a=(Z=b)+304|0,n=b+292|0,i=b+280|0,f=b+268|0,t=b+256|0,c=b+248|0,ar[(u=b+168|0)>>2]=4264,o=8+u|0,ar[40+u>>2]=0,ar[o>>2]=0,ar[4+o>>2]=0,ar[8+o>>2]=0,ar[12+o>>2]=0,ar[16+o>>2]=0,ar[20+o>>2]=0,ar[24+o>>2]=0,or[28+o>>1]=0,re(l,u,e);A:do{if(0|ar[l>>2])B=0|ar[(p=l)+4>>2],ar[(y=A)>>2]=ar[p>>2],ar[y+4>>2]=B,B=8+l|0,ar[(y=A+8|0)>>2]=ar[B>>2],ar[y+4>>2]=ar[B+4>>2],ar[y+8>>2]=ar[B+8>>2],ar[B>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0;else{if(0|tr[e+24>>0]){ar[p>>2]=0,ar[p+4>>2]=0,ar[p+8>>2]=0,oo(A,2,100,p),(0|tr[p+11>>0])<0&&vu(0|ar[p>>2]);break}s=0|ar[20+u>>2];e:do{if((0|s)<1768714083){if((0|s)<1718909296){if((0|s)<1668246642){if((0|s)<1635135811){switch(0|s){case 1635088451:break;default:g=133;break e}s=0|hu(96),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5196,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,d=(ar[d>>2]=y)+w|0,ar[h>>2]=d,hb(0|y,0|v,0|w),ar[k>>2]=d;break}zl()}}while(0);v=0|ar[(w=36+u|0)+4>>2],ar[(y=s+52|0)>>2]=ar[w>>2],ar[y+4>>2]=v,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5224,ar[(y=s+72|0)>>2]=0,ar[y+4>>2]=0,ar[y+8>>2]=0,ar[y+12>>2]=0,ar[y+16>>2]=0,ar[y+20>>2]=0;break}if((0|s)<1668047216){switch(0|s){case 1635135811:break;default:g=133;break e}s=0|hu(96),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5556,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){B=0|hu(w),ar[k>>2]=B,y=(ar[d>>2]=B)+w|0,ar[h>>2]=y,hb(0|B,0|v,0|w),ar[k>>2]=y;break}zl()}}while(0);for(w=0|ar[(B=36+u|0)+4>>2],ar[(h=s+52|0)>>2]=ar[B>>2],ar[h+4>>2]=w,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5584,tr[s+72>>0]=1,w=(h=s+73|0)+23|0;(0|(h=h+1|(tr[h>>0]=0)))<(0|w););break}switch(0|s){case 1668047216:break;default:g=133;break e}s=0|hu(104),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5376,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5404,ar[s+72>>2]=0,ar[s+76>>2]=1,ar[s+80>>2]=0,ar[s+84>>2]=1,ar[s+88>>2]=0,ar[s+92>>2]=1,ar[s+96>>2]=0,ar[s+100>>2]=1;break}if((0|s)<1684631142){switch(0|s){case 1668246642:break;default:g=133;break e}s=0|hu(80),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5916,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5944,ar[s+72>>2]=0,ar[s+76>>2]=0;break}if((0|s)<1685218662){switch(0|s){case 1684631142:break;default:g=133;break e}s=0|hu(72),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5736,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5764;break}switch(0|s){case 1685218662:break;default:g=133;break e}s=0|hu(72),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5796,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5824;break}if((0|s)<1752589123){if((0|s)<1735553132){switch(0|s){case 1718909296:break;default:g=133;break e}s=0|hu(96),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=4600,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=4436,ar[(B=s+72|0)>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,ar[B+12>>2]=0,ar[B+16>>2]=0;break}if((0|s)<1751411826){switch(0|s){case 1735553132:break;default:g=133;break e}s=0|hu(88),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5676,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5704,ar[s+72>>2]=0,ar[s+76>>2]=0,ar[s+80>>2]=0;break}switch(0|s){case 1751411826:break;default:g=133;break e}s=0|hu(104),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=4656,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=4684,ar[s+72>>2]=0,ar[s+76>>2]=1885954932,ar[(B=s+80|0)>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,ar[B+12>>2]=0,ar[B+16>>2]=0,ar[B+20>>2]=0;break}if((0|s)<1768186228){switch(0|s){case 1752589123:break;default:g=133;break e}s=0|hu(120),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5496,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5524,ar[s+80>>2]=0,ar[s+84>>2]=0,tr[s+104>>0]=4,ar[s+108>>2]=0,ar[s+112>>2]=0,ar[s+116>>2]=0;break}if((0|s)<1768517222){switch(0|s){case 1768186228:break;default:g=133;break e}s=0|hu(104),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5616,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5644,ar[(B=s+72|0)>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,ar[B+12>>2]=0,ar[B+16>>2]=0,ar[B+20>>2]=0,ar[B+24>>2]=0;break}switch(0|s){case 1768517222:break;default:g=133;break e}s=0|hu(72),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=4836,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=4864;break}if((0|s)<1769104742){if(1768973167<=(0|s)){if((0|s)<1768975713){switch(0|s){case 1768973167:break;default:g=133;break e}s=0|hu(72),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5016,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5044;break}switch(0|s){case 1768977008:s=0|hu(72),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=4956,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=4984;break e;case 1768975713:s=0|hu(88),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5076,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5104,ar[s+72>>2]=0,ar[s+76>>2]=0,ar[s+80>>2]=0;break e;default:g=133;break e}}if((0|s)<1768778098){switch(0|s){case 1768714083:break;default:g=133;break e}s=0|hu(104),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=4776,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=4804,B=s+72|0,ar[s+96>>2]=0,ar[B>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,ar[B+12>>2]=0,ar[B+16>>2]=0,tr[B+20>>0]=0;break}if((0|s)<1768842853){switch(0|s){case 1768778098:break;default:g=133;break e}s=0|hu(80),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5316,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5344,tr[s+72>>0]=0;break}switch(0|s){case 1768842853:break;default:g=133;break e}s=0|hu(144),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=4896,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);for(h=0|ar[(w=36+u|0)+4>>2],ar[(d=s+52|0)>>2]=ar[w>>2],ar[d+4>>2]=h,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=4924,ar[s+72>>2]=0,w=(h=d=s+80|(or[s+76>>1]=0))+60|0;(0|(h=h+4|(ar[h>>2]=0)))<(0|w););tr[d+60>>0]=0;break}if((0|s)<1835365473){if((0|s)<1769107316){switch(0|s){case 1769104742:break;default:g=133;break e}s=0|hu(88),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5436,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5464,ar[s+72>>2]=0,ar[s+76>>2]=0,ar[s+80>>2]=0;break}if((0|s)<1769173093){switch(0|s){case 1769107316:break;default:g=133;break e}s=0|hu(80),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5256,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5284,ar[s+72>>2]=0;break}switch(0|s){case 1769173093:break;default:g=133;break e}s=0|hu(80),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5136,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5164,ar[s+72>>2]=0,ar[s+76>>2]=0;break}if((0|s)<1885960297){if((0|s)<1885959277){switch(0|s){case 1835365473:break;default:g=133;break e}s=0|hu(72),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=4628,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=4468;break}switch(0|s){case 1885959277:break;default:g=133;break e}s=0|hu(80),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=4716,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=4744,ar[s+72>>2]=0;break}if((0|s)<1970433056){switch(0|s){case 1885960297:break;default:g=133;break e}s=0|hu(88),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5976,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=6004,ar[s+72>>2]=0,ar[s+76>>2]=0,ar[s+80>>2]=0;break}switch(0|s){case 1970433056:break;default:g=133;break e}s=0|hu(88),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=5856,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(v=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[v>>2],ar[B+4>>2]=y,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0,ar[m>>2]=5884,ar[(B=s+72|0)>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0;break}while(0);if(133==(0|g)){s=0|hu(72),ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s>>2]=6036,ar[(m=s+16|0)>>2]=4264,ar[(d=s+24|0)>>2]=ar[o>>2],ar[d+4>>2]=ar[4+o>>2],ar[d+8>>2]=ar[8+o>>2],ar[d+12>>2]=ar[12+o>>2],ar[(d=s+40|0)>>2]=0,ar[(k=s+44|0)>>2]=0,v=(ar[(h=s+48|0)>>2]=0)|ar[24+u>>2],w=(0|ar[28+u>>2])-v|0;do{if(0|w){if(!((0|w)<0)){y=0|hu(w),ar[k>>2]=y,B=(ar[d>>2]=y)+w|0,ar[h>>2]=B,hb(0|y,0|v,0|w),ar[k>>2]=B;break}zl()}}while(0);y=0|ar[(g=36+u|0)+4>>2],ar[(B=s+52|0)>>2]=ar[g>>2],ar[B+4>>2]=y,ar[m>>2]=4404,ar[s+60>>2]=0,ar[s+64>>2]=0,ar[s+68>>2]=0}g=m,d=0|ar[(k=o)>>2],k=0|ar[k+4>>2],h=0|ar[(v=16+u|0)>>2];do{if(k>>>0<0|0==(0|k)&d>>>0<h>>>0)k=Z+64|0,ar[(w=Z+8|0)>>2]=4524,h=Z+12|0,ar[Z>>2]=188,ar[k>>2]=208,Jf(Z+64|(ar[Z+4>>2]=0),h),ar[Z+136>>2]=0,ar[Z+140>>2]=-1,ar[Z>>2]=4504,ar[k>>2]=4544,ar[w>>2]=4524,Sf(h),ar[h>>2]=4340,ar[(w=Z+44|0)>>2]=0,ar[w+4>>2]=0,ar[w+8>>2]=0,ar[w+12>>2]=0,ar[Z+60>>2]=24,ar[p>>2]=0,ar[p+4>>2]=0,ar[p+8>>2]=0,Xe(h,p),(0|tr[p+11>>0])<0&&vu(0|ar[p>>2]),y=0|We(d=Z+8|0,19384,10),B=0|We(0|Kf(y,0|ar[(B=o)>>2],0|ar[B+4>>2]),19395,34),We(0|Lf(B,0|ar[v>>2]),19430,7),Ie(a,h),oo(A,2,101,a),(0|tr[11+a>>0])<0&&vu(0|ar[a>>2]),ar[Z>>2]=4504,ar[k>>2]=4544,ar[d>>2]=4524,ar[h>>2]=4340,(0|tr[w+11>>0])<0&&vu(0|ar[w>>2]),kf(h),_f(),bf(k);else{if(20<(0|ar[e+12>>2])){for(ar[n>>2]=0,ar[4+n>>2]=0,d=(ar[8+n>>2]=0)|hu(64),ar[n>>2]=d,ar[8+n>>2]=-2147483584,k=19438,w=(h=d)+(ar[4+n>>2]=61)|0;tr[h>>0]=0|tr[k>>0],k=k+1|0,(0|(h=h+1|0))<(0|w););if(tr[d+61>>0]=0,oo(A,6,1e3,n),0<=(0|tr[11+n>>0]))break;vu(0|ar[n>>2]);break}if(0|NA(e,B=0|ob(0|d,0|k,0|h,0),D)){if(ar[i>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,oo(A,2,100,i),0<=(0|tr[11+i>>0]))break;vu(0|ar[i>>2]);break}if(d=0|ar[(k=o)>>2],(0|(k=0|ar[k+4>>2]))<0){if(ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,oo(A,2,101,f),0<=(0|tr[11+f>>0]))break;vu(0|ar[f>>2]);break}if(h=0|ob(0|d,0|k,0|ar[v>>2],0),w=D,(0|(y=0|ar[(B=e+16|0)+4>>2]))<(0|w)|((0|y)==(0|w)?(0|ar[B>>2])>>>0<h>>>0:0)){if(ar[t>>2]=0,ar[4+t>>2]=0,ar[8+t>>2]=0,oo(A,2,101,t),0<=(0|tr[11+t>>0]))break;vu(0|ar[t>>2]);break}if(ar[c>>2]=ar[e>>2],d=4+c|0,k=0|ar[e+4>>2],0|(ar[d>>2]=k)&&bu(k),WA(p,c,h,w,e),0|(d=0|ar[d>>2])&&du(d),ns[127&ar[20+(0|ar[m>>2])>>2]](Z,m,p),d=0|ar[(k=Z)+4>>2],ar[(v=l)>>2]=ar[k>>2],ar[v+4>>2]=d,d=Z+8|0,(0|tr[(k=(v=8+l|0)+11|0)>>0])<0?(tr[ar[v>>2]>>0]=0,ar[12+l>>2]=0):(tr[v>>0]=0,tr[k>>0]=0),Cu(v,0),ar[v>>2]=ar[d>>2],ar[v+4>>2]=ar[d+4>>2],ar[v+8>>2]=ar[d+8>>2],(0|ar[l>>2])==(0|ar[14148])&&(ar[r>>2]=g,d=0|ar[(B=r+4|0)>>2],ar[B>>2]=s,s=(d&&du(d),0)),k=0|ar[(d=w=p+16|0)>>2],0<(0|(d=0|ar[d+4>>2]))|0==(0|d)&0<k>>>0&&((h=0|ar[p+8>>2])&&(_A(h,k,d),k=0|ar[(d=w)>>2],d=0|ar[d+4>>2]),y=0|ar[p>>2],B=0|ar[y>>2],Z=0|ar[B+20>>2],B=0|tb(0|(B=0|jb[127&ar[B+8>>2]](y)),0|D,0|k,0|d),xb[63&Z](y,B,D),ar[(B=w)>>2]=0,ar[B+4>>2]=0),B=0|ar[(y=l)+4>>2],ar[(d=A)>>2]=ar[y>>2],ar[d+4>>2]=B,ar[(d=A+8|0)>>2]=ar[v>>2],ar[d+4>>2]=ar[v+4>>2],ar[d+8>>2]=ar[v+8>>2],ar[v>>2]=0,ar[v+4>>2]=0,(ar[v+8>>2]=0)|(d=0|ar[p+4>>2])&&du(d),!s)break A}}while(0);du(s)}}while(0);(0|tr[(s=8+l|0)+11>>0])<0&&vu(0|ar[s>>2]),ar[u>>2]=4264,ur=((d=0|ar[24+u>>2])&&((0|ar[(s=28+u|0)>>2])!=(0|d)&&(ar[s>>2]=d),vu(d)),b)}function ee(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;t=0|ar[(b=(A|=0)+4|0)>>2],r=o=0|ar[A>>2],536870911<(f=(l=t-o>>3)+1|0)>>>0&&zl(),a=(u=(0|ar[(i=A+8|0)>>2])-o|0)>>2,a=u>>3>>>0<268435455?a>>>0<f>>>0?f:a:536870911;do{if(a){if(!(536870911<a>>>0)){c=0|hu(a<<3);break}Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)}else c=0}while(0);if(u=c+(a<<3)|0,ar[(f=n=c+(l<<3)|0)>>2]=ar[e>>2],a=e+4|0,ar[c+(l<<3)+4>>2]=ar[a>>2],ar[e>>2]=0,a=n+8|(ar[a>>2]=0),(0|t)!=(0|r)){for(;t=(l=t)+-8|0,ar[n+-8>>2]=ar[t>>2],l=l+-4|0,ar[n+-4>>2]=ar[l>>2],ar[t>>2]=0,f=n=f+-8|(ar[l>>2]=0),(0|t)!=(0|r););o=0|ar[A>>2]}if(ar[A>>2]=f,f=0|ar[b>>2],ar[b>>2]=a,ar[i>>2]=u,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-4>>2],f=f+-8|0,0|n&&du(n),(0|f)!=(0|t););o&&vu(o)}function re(A,e,r){A|=0,e|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;if(ur=(o=ur)+208|0,k=o+196|0,a=o+184|0,c=o+24|0,i=o+40|0,f=o+12|0,n=o,0|NA(r|=0,8,0))return ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,oo(A,2,100,a),0<=(0|tr[a+11>>0])||vu(0|ar[a>>2]),void(ur=o);s=0|FA(r),ar[(a=b=e+8|0)>>2]=s,a=(ar[a+4>>2]=0)|FA(r),ar[(s=e+20|0)>>2]=a,ar[(t=e+16|0)>>2]=8,u=b;do{if(1==(0|ar[u>>2])&0==(0|ar[u+4>>2])){if(0|NA(r,8,0))return ar[c>>2]=0,ar[c+4>>2]=0,ar[c+8>>2]=0,oo(A,2,100,c),0<=(0|tr[c+11>>0])||vu(0|ar[c>>2]),void(ur=o);if(l=0|FA(r),c=0|FA(r),ar[(a=b)>>2]=c,ar[a+4>>2]=l,ar[t>>2]=8+(0|ar[t>>2]),a=64+i|0,ar[(l=8+i|0)>>2]=4524,c=12+i|0,ar[i>>2]=188,ar[a>>2]=208,Jf(64+i|(ar[4+i>>2]=0),c),ar[136+i>>2]=0,ar[140+i>>2]=-1,ar[i>>2]=4504,ar[a>>2]=4544,ar[l>>2]=4524,Sf(c),ar[c>>2]=4340,ar[(l=44+i|0)>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,ar[l+12>>2]=0,ar[60+i>>2]=24,ar[k>>2]=0,ar[k+4>>2]=0,ar[k+8>>2]=0,Xe(c,k),(0|tr[k+11>>0])<0&&vu(0|ar[k>>2]),w=0|We(u=8+i|0,23427,9),We(0|Kf(w,0|ar[(h=b)>>2],0|ar[h+4>>2]),23437,24),268435455<(h=0|ar[b+4>>2])>>>0|268435455==(0|h)&4294967295<(0|ar[b>>2])>>>0)return Ie(f,c),oo(A,6,1e3,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),ar[i>>2]=4504,ar[a>>2]=4544,ar[u>>2]=4524,ar[c>>2]=4340,(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),kf(c),_f(),bf(a),void(ur=o);ar[i>>2]=4504,ar[a>>2]=4544,ar[u>>2]=4524,ar[c>>2]=4340,(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),kf(c),_f(),bf(a),a=0|ar[s>>2];break}}while(0);if(1970628964==(0|a)){if(0|NA(r,16,0))return ar[n>>2]=0,ar[n+4>>2]=0,ar[n+8>>2]=0,oo(A,2,100,n),0<=(0|tr[n+11>>0])||vu(0|ar[n>>2]),void(ur=o);do{if(0|CA(r,16,0)){if(b=e+24|0,16<=(c=(u=0|ar[(a=e+28|0)>>2])-(l=0|ar[b>>2])|0)>>>0?16!=(0|c)&&(0|u)!=(0|(d=l+16|0))&&(ar[a>>2]=d):TA(b,16-c|0),a=0|ar[r>>2],c=0|ar[r+4>>2]){bu(c),xb[63&ar[16+(0|ar[a>>2])>>2]](a,0|ar[b>>2],16),du(c);break}xb[63&ar[16+(0|ar[a>>2])>>2]](a,0|ar[b>>2],16);break}}while(0);ar[t>>2]=16+(0|ar[t>>2])}0|tr[r+24>>0]?(ar[k>>2]=0,ar[k+4>>2]=0,ar[k+8>>2]=0,oo(A,2,100,k),(0|tr[k+11>>0])<0&&vu(0|ar[k>>2])):(h=0|ar[(k=56592)+4>>2],ar[(w=A)>>2]=ar[k>>2],ar[w+4>>2]=h,yu(A+8|0,56600)),ur=o}function ie(A,e,r){A|=0,e|=0;var i,f=0;if(ur=(i=ur)+16|0,f=i,!(0|NA(r|=0,7,0)))return f=0|VA(r),or[e+4>>1]=f,f=0|VA(r),or[e+6>>1]=f,f=0|VA(r),or[e+8>>1]=f,r=(255&(0|IA(r)))>>>7,tr[e+10>>0]=r,r=0|ar[(e=56592)+4>>2],ar[(f=A)>>2]=ar[e>>2],ar[f+4>>2]=r,yu(A+8|0,56600),void(ur=i);ar[f>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,oo(A,2,100,f),ur=(0<=(0|tr[f+11>>0])||vu(0|ar[f>>2]),i)}function fe(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0;ur=(t=ur)+16|0,o=t,n=0|hu(32),ar[4+n>>2]=0,ar[8+n>>2]=0,ar[n>>2]=6120,a=0|ar[e>>2],ar[o>>2]=0,ar[(f=o+4|0)>>2]=0,c=(ar[o+8>>2]=0)|ar[r>>2],e=(0|ar[r+4>>2])-c|0,r=c;do{if(e){if(!((0|e)<0)){b=0|hu(e),s=(ar[o>>2]=b)+e|0,ar[o+8>>2]=s,hb(0|b,0|r,0|e),l=b,u=ar[f>>2]=s;break}zl()}else s=b=u=l=0}while(0);if(ar[(c=12+n|0)>>2]=6148,ar[16+n>>2]=a,ar[(r=20+n|0)>>2]=0,ar[(i=24+n|0)>>2]=0,(ar[(o=28+n|0)>>2]=0)|(e=u-l|0)&&((0|e)<0&&zl(),a=0|hu(e),ar[i>>2]=a,ar[r>>2]=a,ar[o>>2]=a+e,0<(0|(e=u-b|0))&&(hb(0|a,0|b,0|e),ar[i>>2]=a+e)),!b)return s=A+4|0,ar[A>>2]=c,ar[s>>2]=n,void(ur=t);(0|s)!=(0|b)&&(ar[f>>2]=b),vu(b),s=A+4|0,ar[A>>2]=c,ar[s>>2]=n,ur=t}function ne(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l=0,u=0,b=0,s=0;if(ur=(c=ur)+160|0,f=c+136|0,o=(t=c)+56|0,a=t+4|0,ar[t>>2]=292,ar[o>>2]=312,Jf(t+56|0,a),ar[t+128>>2]=0,ar[t+132>>2]=-1,ar[t>>2]=4304,ar[o>>2]=4324,Sf(a),ar[a>>2]=4340,ar[(n=t+36|0)>>2]=0,ar[4+n>>2]=0,ar[8+n>>2]=0,ar[12+n>>2]=0,ar[t+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(a,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),l=1+(0|ar[r>>2])|0,ar[r>>2]=l,(0|(u=0|ar[e+44>>2]))!=(0|(i=0|ar[e+48>>2]))){for(b=11+f|0,s=4+f|0,l=1,e=u;;){if(!l){if(0<(0|ar[r>>2]))for(l=0;We(t,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););We(t,30086,1)}if(u=0|ar[e>>2],ns[127&ar[8+(0|ar[u>>2])>>2]](f,u,r),We(t,(l=(u=0|tr[b>>0])<<24>>24<0)?0|ar[f>>2]:f,l?0|ar[s>>2]:255&u),(0|tr[b>>0])<0&&vu(0|ar[f>>2]),(0|(e=e+8|0))==(0|i))break;l=0}l=0|ar[r>>2]}if(ar[r>>2]=(0|l)<1?0:l+-1|0,Ie(A,a),ar[t>>2]=4304,ar[o>>2]=4324,ar[a>>2]=4340,0<=(0|tr[11+n>>0]))return kf(a),Gf(),bf(o),void(ur=c);vu(0|ar[n>>2]),kf(a),Gf(),bf(o),ur=c}function te(A){var e,r=0,i=0,f=0,n=0,t=0,o=0,a=0;if(ar[(A|=0)>>2]=5704,0|(r=0|ar[(e=A+56|0)>>2])){if((0|(i=0|ar[(a=A+60|0)>>2]))!=(0|r)){for(;o=i+-64|0,ar[a>>2]=o,0|(f=0|ar[i+-12>>2])&&((0|(t=0|ar[(n=i+-8|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-4-f|0)>>>2)<<2)),vu(f)),ar[o>>2]=4264,0|(f=0|ar[i+-40>>2])&&((0|ar[(i=i+-36|0)>>2])!=(0|f)&&(ar[i>>2]=f),vu(f)),(0|(i=0|ar[a>>2]))!=(0|r););r=0|ar[e>>2]}vu(r)}if(ar[A>>2]=4404,0|(r=0|ar[(n=A+44|0)>>2])){if((0|(i=0|ar[(t=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[t>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[t>>2]):f))!=(0|r););r=0|ar[n>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))}function oe(A,e){e|=0;var r=0,i=0,f=0,n=0,t=0,o=0;ar[(A|=0)>>2]=4264,f=e+8|0,ar[(i=A+8|0)>>2]=ar[f>>2],ar[i+4>>2]=ar[f+4>>2],ar[i+8>>2]=ar[f+8>>2],ar[i+12>>2]=ar[f+12>>2],f=e+24|0,ar[(i=A+24|0)>>2]=0,ar[(o=A+28|0)>>2]=0,(ar[A+32>>2]=0)|(r=(0|ar[(n=e+28|0)>>2])-(0|ar[f>>2])|0)&&((0|r)<0&&zl(),t=0|hu(r),ar[o>>2]=t,ar[i>>2]=t,ar[A+32>>2]=t+r,i=0|ar[f>>2],0<(0|(r=(0|ar[n>>2])-i|0))&&(hb(0|t,0|i,0|r),ar[o>>2]=t+r)),t=0|ar[(n=e+36|0)+4>>2],ar[(o=A+36|0)>>2]=ar[n>>2],ar[o+4>>2]=t,ar[A+48>>2]=ar[e+48>>2],Ge(A+52|0,e+52|0)}function ae(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0;i=(A|=0)+4|0,f=0|ar[A>>2],67108863<(n=(t=(0|ar[i>>2])-f>>6)+1|0)>>>0&&zl(),f=(c=(0|ar[(l=A+8|0)>>2])-f|0)>>5,f=c>>6>>>0<33554431?f>>>0<n>>>0?n:f:67108863;do{if(f){if(!(67108863<f>>>0)){n=0|hu(f<<6);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else n=0}while(0);if(r=n+(f<<6)|0,oe(t=o=n+(t<<6)|0,e),a=o+64|0,e=0|ar[A>>2],(0|(f=0|ar[i>>2]))==(0|e))f=t,n=c=e;else{for(n=o;oe(n+-64|0,f=f+-64|0),t=n=t+-64|0,(0|f)!=(0|e););f=t,c=0|ar[A>>2],n=0|ar[i>>2]}if(ar[A>>2]=f,ar[i>>2]=a,ar[l>>2]=r,(0|n)!=(0|(a=c)))for(o=n;o=(e=o)+-64|0,0|(f=0|ar[e+-12>>2])&&((0|(t=0|ar[(n=e+-8|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-4-f|0)>>>2)<<2)),vu(f)),ar[o>>2]=4264,0|(n=0|ar[e+-40>>2])&&((0|ar[(f=e+-36|0)>>2])!=(0|n)&&(ar[f>>2]=n),vu(n)),(0|o)!=(0|a););c&&vu(c)}function Ge(A,e){e|=0;var r,i,f,n,t=0;ar[(A|=0)>>2]=0,ar[(n=A+4|0)>>2]=0,(r=(t=((ar[A+8>>2]=0)|ar[(f=e+4|0)>>2])-(0|ar[e>>2])|0)>>2)&&(1073741823<r>>>0&&zl(),i=0|hu(t),ar[n>>2]=i,ar[A>>2]=i,ar[A+8>>2]=i+(r<<2),A=0|ar[e>>2],(0|(t=(0|ar[f>>2])-A|0))<=0||(hb(0|i,0|A,0|t),ar[n>>2]=i+(t>>>2<<2)))}function ce(A){var e,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0;if(ar[(A|=0)>>2]=5524,0|(r=0|ar[(e=A+92|0)>>2])){if((0|(i=0|ar[(c=A+96|0)>>2]))!=(0|r)){for(f=i;;){if(i=f+-16|0,ar[c>>2]=i,o=0|ar[(a=f+-12|0)>>2]){if((0|(i=0|ar[(t=f+-8|0)>>2]))==(0|o))i=o;else{for(;f=i+-12|0,ar[t>>2]=f,(0|(i=(n=0|ar[f>>2])?((0|ar[(i=i+-8|0)>>2])!=(0|n)&&(ar[i>>2]=n),vu(n),0|ar[t>>2]):f))!=(0|o););i=0|ar[a>>2]}vu(i),i=0|ar[c>>2]}if((0|i)==(0|r))break;f=i}r=0|ar[e>>2]}vu(r)}if(ar[A>>2]=4404,0|(r=0|ar[(n=A+44|0)>>2])){if((0|(i=0|ar[(t=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[t>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[t>>2]):f))!=(0|r););r=0|ar[n>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))}function le(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=(A|=0)+4|0,i=0|ar[A>>2],268435455<(f=(o=(0|ar[r>>2])-i>>4)+1|0)>>>0&&zl(),i=(c=(0|ar[(l=A+8|0)>>2])-i|0)>>3,i=c>>4>>>0<134217727?i>>>0<f>>>0?f:i:268435455;do{if(i){if(!(268435455<i>>>0)){t=0|hu(i<<4);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else t=0}while(0);if(a=t+(i<<4)|0,or[(n=f=t+(o<<4)|0)>>1]=0|or[e>>1],i=e+4|0,ar[t+(o<<4)+12>>2]=0,ar[t+(o<<4)+4>>2]=ar[i>>2],c=e+8|0,ar[t+(o<<4)+8>>2]=ar[c>>2],e=e+12|0,ar[t+(o<<4)+12>>2]=ar[e>>2],ar[e>>2]=0,ar[c>>2]=0,e=f+16|(ar[i>>2]=0),t=0|ar[A>>2],(0|(i=0|ar[r>>2]))==(0|t))i=n,f=c=t;else{for(;i=(u=i)+-16|0,or[f+-16>>1]=0|or[i>>1],c=u+-12|0,ar[(o=f+-12|0)>>2]=0,ar[(b=f+-8|0)>>2]=0,ar[f+-4>>2]=0,ar[o>>2]=ar[c>>2],o=u+-8|0,ar[b>>2]=ar[o>>2],u=u+-4|0,ar[f+-4>>2]=ar[u>>2],ar[u>>2]=0,ar[o>>2]=0,n=f=n+-16|(ar[c>>2]=0),(0|i)!=(0|t););i=n,c=0|ar[A>>2],f=0|ar[r>>2]}if(ar[A>>2]=i,ar[r>>2]=e,ar[l>>2]=a,(0|f)!=(0|(A=c))){a=f;do{if(0|(i=0|ar[(e=a+-12|0)>>2])){if((0|(f=0|ar[(o=a+-8|0)>>2]))!=(0|i)){for(;n=f+-12|0,ar[o>>2]=n,(0|(f=(t=0|ar[n>>2])?((0|ar[(f=f+-8|0)>>2])!=(0|t)&&(ar[f>>2]=t),vu(t),0|ar[o>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}a=a+-16|0}while((0|a)!=(0|A))}c&&vu(A)}function ue(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;r=(A|=0)+4|0,i=0|ar[A>>2],357913941<(f=(o=((0|ar[r>>2])-i|0)/12|0)+1|0)>>>0&&zl(),i=(a=((0|ar[(c=A+8|0)>>2])-i|0)/12|0)<<1,i=a>>>0<178956970?i>>>0<f>>>0?f:i:357913941;do{if(i){if(!(357913941<i>>>0)){t=0|hu(12*i|0);break}Zu(c=0|X(8),44519),ar[c>>2]=17660,I(0|c,4016,428)}else t=0}while(0);if(n=f=t+(12*o|0)|0,a=t+(12*i|0)|0,ar[t+(12*o|0)+8>>2]=0,ar[f>>2]=ar[e>>2],i=e+4|0,ar[t+(12*o|0)+4>>2]=ar[i>>2],l=e+8|0,ar[t+(12*o|0)+8>>2]=ar[l>>2],ar[l>>2]=0,ar[i>>2]=0,o=f+12|(ar[e>>2]=0),t=0|ar[A>>2],(0|(i=0|ar[r>>2]))==(0|t))i=n,f=e=t;else{for(;i=(e=i)+-12|0,ar[(l=f+-12|0)>>2]=0,ar[(u=f+-8|0)>>2]=0,ar[f+-4>>2]=0,ar[l>>2]=ar[i>>2],l=e+-8|0,ar[u>>2]=ar[l>>2],e=e+-4|0,ar[f+-4>>2]=ar[e>>2],ar[e>>2]=0,ar[l>>2]=0,n=f=n+-12|(ar[i>>2]=0),(0|i)!=(0|t););i=n,e=0|ar[A>>2],f=0|ar[r>>2]}if(ar[A>>2]=i,ar[r>>2]=o,ar[c>>2]=a,(0|f)!=(0|(t=e)))for(;0|(n=0|ar[(f=(i=f)+-12|0)>>2])&&((0|ar[(i=i+-8|0)>>2])!=(0|n)&&(ar[i>>2]=n),vu(n)),(0|f)!=(0|t););e&&vu(e)}function be(A){var e,r=0,i=0,f=0,n=0,t=0,o=0,a=0;if(ar[(A|=0)>>2]=5464,0|(r=0|ar[(e=A+56|0)>>2])){if((0|(i=0|ar[(a=A+60|0)>>2]))!=(0|r)){for(;o=i+-64|0,ar[a>>2]=o,0|(f=0|ar[i+-12>>2])&&((0|(t=0|ar[(n=i+-8|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-4-f|0)>>>2)<<2)),vu(f)),ar[o>>2]=4264,0|(f=0|ar[i+-40>>2])&&((0|ar[(i=i+-36|0)>>2])!=(0|f)&&(ar[i>>2]=f),vu(f)),(0|(i=0|ar[a>>2]))!=(0|r););r=0|ar[e>>2]}vu(r)}if(ar[A>>2]=4404,0|(r=0|ar[(n=A+44|0)>>2])){if((0|(i=0|ar[(t=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[t>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[t>>2]):f))!=(0|r););r=0|ar[n>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))}function se(A,e){e|=0;var r=0,i=0,f=0,n=0,t=0,o=0;ar[(A|=0)>>2]=4264,f=e+8|0,ar[(i=A+8|0)>>2]=ar[f>>2],ar[i+4>>2]=ar[f+4>>2],ar[i+8>>2]=ar[f+8>>2],ar[i+12>>2]=ar[f+12>>2],f=e+24|0,ar[(i=A+24|0)>>2]=0,ar[(o=A+28|0)>>2]=0,(ar[A+32>>2]=0)|(r=(0|ar[(n=e+28|0)>>2])-(0|ar[f>>2])|0)&&((0|r)<0&&zl(),t=0|hu(r),ar[o>>2]=t,ar[i>>2]=t,ar[A+32>>2]=t+r,i=0|ar[f>>2],0<(0|(r=(0|ar[n>>2])-i|0))&&(hb(0|t,0|i,0|r),ar[o>>2]=t+r)),t=0|ar[(n=e+36|0)+4>>2],ar[(o=A+36|0)>>2]=ar[n>>2],ar[o+4>>2]=t,ar[A+48>>2]=ar[e+48>>2],Ge(A+52|0,e+52|0)}function de(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0;i=(A|=0)+4|0,f=0|ar[A>>2],67108863<(n=(t=(0|ar[i>>2])-f>>6)+1|0)>>>0&&zl(),f=(c=(0|ar[(l=A+8|0)>>2])-f|0)>>5,f=c>>6>>>0<33554431?f>>>0<n>>>0?n:f:67108863;do{if(f){if(!(67108863<f>>>0)){n=0|hu(f<<6);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else n=0}while(0);if(r=n+(f<<6)|0,se(t=o=n+(t<<6)|0,e),a=o+64|0,e=0|ar[A>>2],(0|(f=0|ar[i>>2]))==(0|e))f=t,n=c=e;else{for(n=o;se(n+-64|0,f=f+-64|0),t=n=t+-64|0,(0|f)!=(0|e););f=t,c=0|ar[A>>2],n=0|ar[i>>2]}if(ar[A>>2]=f,ar[i>>2]=a,ar[l>>2]=r,(0|n)!=(0|(a=c)))for(o=n;o=(e=o)+-64|0,0|(f=0|ar[e+-12>>2])&&((0|(t=0|ar[(n=e+-8|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-4-f|0)>>>2)<<2)),vu(f)),ar[o>>2]=4264,0|(n=0|ar[e+-40>>2])&&((0|ar[(f=e+-36|0)>>2])!=(0|n)&&(ar[f>>2]=n),vu(n)),(0|o)!=(0|a););c&&vu(c)}function ke(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;t=0|ar[(b=(A|=0)+4|0)>>2],r=o=0|ar[A>>2],536870911<(f=(l=t-o>>3)+1|0)>>>0&&zl(),a=(u=(0|ar[(i=A+8|0)>>2])-o|0)>>2,a=u>>3>>>0<268435455?a>>>0<f>>>0?f:a:536870911;do{if(a){if(!(536870911<a>>>0)){c=0|hu(a<<3);break}Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)}else c=0}while(0);if(u=c+(a<<3)|0,ar[(f=n=c+(l<<3)|0)>>2]=ar[e>>2],a=e+4|0,ar[c+(l<<3)+4>>2]=ar[a>>2],ar[e>>2]=0,a=n+8|(ar[a>>2]=0),(0|t)!=(0|r)){for(;t=(l=t)+-8|0,ar[n+-8>>2]=ar[t>>2],l=l+-4|0,ar[n+-4>>2]=ar[l>>2],ar[t>>2]=0,f=n=f+-8|(ar[l>>2]=0),(0|t)!=(0|r););o=0|ar[A>>2]}if(ar[A>>2]=f,f=0|ar[b>>2],ar[b>>2]=a,ar[i>>2]=u,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-4>>2],f=f+-8|0,0|n&&du(n),(0|f)!=(0|t););o&&vu(o)}function he(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;l=0|ar[(b=(A|=0)+4|0)>>2],r=f=0|ar[A>>2],89478485<(n=(c=((t=l)-f|0)/48|0)+1|0)>>>0&&zl(),o=(u=((0|ar[(i=A+8|0)>>2])-f|0)/48|0)<<1,o=u>>>0<44739242?o>>>0<n>>>0?n:o:89478485;do{if(o){if(!(89478485<o>>>0)){a=0|hu(48*o|0);break}Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)}else a=0}while(0);if(u=a+(48*o|0)|0,ar[(f=n=a+(48*c|0)|0)>>2]=ar[e>>2],o=e+4|0,ar[a+(48*c|0)+4>>2]=ar[o>>2],s=e+8|0,ar[a+(48*c|0)+8>>2]=ar[s>>2],ar[o>>2]=0,o=e+12|(ar[s>>2]=0),ar[(s=a+(48*c|0)+12|0)>>2]=ar[o>>2],ar[s+4>>2]=ar[o+4>>2],ar[s+8>>2]=ar[o+8>>2],ar[s+12>>2]=ar[o+12>>2],s=e+28|0,ar[a+(48*c|0)+28>>2]=ar[s>>2],o=e+32|0,ar[a+(48*c|0)+32>>2]=ar[o>>2],ar[s>>2]=0,a=a+(48*c|(ar[o>>2]=0))+36|0,c=e+36|0,ar[a>>2]=ar[c>>2],ar[a+4>>2]=ar[c+4>>2],ar[a+8>>2]=ar[c+8>>2],a=n+48|0,(0|t)==(0|r))o=l;else{for(;t=(l=t)+-48|0,ar[n+-48>>2]=ar[t>>2],s=l+-44|0,ar[n+-44>>2]=ar[s>>2],c=l+-40|0,ar[n+-40>>2]=ar[c>>2],ar[s>>2]=0,s=l+-36|(ar[c>>2]=0),ar[(c=n+-36|0)>>2]=ar[s>>2],ar[c+4>>2]=ar[s+4>>2],ar[c+8>>2]=ar[s+8>>2],ar[c+12>>2]=ar[s+12>>2],c=l+-20|0,ar[n+-20>>2]=ar[c>>2],s=l+-16|0,ar[n+-16>>2]=ar[s>>2],ar[c>>2]=0,l=l+-12|(ar[s>>2]=0),ar[(s=n+-12|0)>>2]=ar[l>>2],ar[s+4>>2]=ar[l+4>>2],ar[s+8>>2]=ar[l+8>>2],f=n=f+-48|0,(0|t)!=(0|r););o=0|ar[A>>2]}if(ar[A>>2]=f,n=0|ar[b>>2],ar[b>>2]=a,ar[i>>2]=u,(0|n)!=(0|(t=o)))for(;0|(f=0|ar[n+-16>>2])&&du(f),f=0|ar[n+-40>>2],n=n+-48|0,0|f&&du(f),(0|n)!=(0|t););o&&vu(o)}function we(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;r=(A|=0)+4|0,i=0|ar[A>>2],89478485<(f=(o=((0|ar[r>>2])-i|0)/48|0)+1|0)>>>0&&zl(),i=(a=((0|ar[(c=A+8|0)>>2])-i|0)/48|0)<<1,i=a>>>0<44739242?i>>>0<f>>>0?f:i:89478485;do{if(i){if(!(89478485<i>>>0)){t=0|hu(48*i|0);break}Zu(c=0|X(8),44519),ar[c>>2]=17660,I(0|c,4016,428)}else t=0}while(0);if(a=t+(48*i|0)|0,ar[(n=f=t+(48*o|0)|0)>>2]=ar[e>>2],ar[t+(48*o|0)+4>>2]=ar[e+4>>2],i=0|ar[e+8>>2],0|(ar[t+(48*o|0)+8>>2]=i)&&bu(i),l=e+12|0,ar[(i=t+(48*o|0)+12|0)>>2]=ar[l>>2],ar[i+4>>2]=ar[l+4>>2],ar[i+8>>2]=ar[l+8>>2],ar[i+12>>2]=ar[l+12>>2],ar[t+(48*o|0)+28>>2]=ar[e+28>>2],i=0|ar[e+32>>2],0|(ar[t+(48*o|0)+32>>2]=i)&&bu(i),e=e+36|0,ar[(o=t+(48*o|0)+36|0)>>2]=ar[e>>2],ar[o+4>>2]=ar[e+4>>2],ar[o+8>>2]=ar[e+8>>2],o=f+48|0,e=0|ar[A>>2],(0|(i=0|ar[r>>2]))==(0|e))i=n,f=t=e;else{for(;i=(t=i)+-48|0,ar[f+-48>>2]=ar[i>>2],l=t+-44|0,ar[f+-44>>2]=ar[l>>2],u=t+-40|0,ar[f+-40>>2]=ar[u>>2],ar[l>>2]=0,l=t+-36|(ar[u>>2]=0),ar[(u=f+-36|0)>>2]=ar[l>>2],ar[u+4>>2]=ar[l+4>>2],ar[u+8>>2]=ar[l+8>>2],ar[u+12>>2]=ar[l+12>>2],u=t+-20|0,ar[f+-20>>2]=ar[u>>2],l=t+-16|0,ar[f+-16>>2]=ar[l>>2],ar[u>>2]=0,t=t+-12|(ar[l>>2]=0),ar[(l=f+-12|0)>>2]=ar[t>>2],ar[l+4>>2]=ar[t+4>>2],ar[l+8>>2]=ar[t+8>>2],n=f=n+-48|0,(0|i)!=(0|e););i=n,t=0|ar[A>>2],f=0|ar[r>>2]}if(ar[A>>2]=i,ar[r>>2]=o,ar[c>>2]=a,(0|f)!=(0|(n=t)))for(;0|(i=0|ar[f+-16>>2])&&du(i),i=0|ar[f+-40>>2],f=f+-48|0,0|i&&du(i),(0|f)!=(0|n););t&&vu(t)}function ve(A,e){var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;if((e|=0)>>>0<=(t=0|ar[(i=(A|=0)+8|0)>>2])-(f=n=0|ar[(u=A+4|0)>>2])>>3>>>0)return vb(0|n,0,e<<3|0),void(ar[u>>2]=f+(e<<3));r=l=0|ar[A>>2],536870911<(n=(a=n-l>>3)+e|0)>>>0&&zl(),o=(c=t-l|0)>>2,o=c>>3>>>0<268435455?o>>>0<n>>>0?n:o:536870911;do{if(o){if(!(536870911<o>>>0)){c=0|hu(o<<3);break}Zu(u=0|X(8),44519),ar[u>>2]=17660,I(0|u,4016,428)}else c=0}while(0);if(n=c+(a<<3)|0,c=c+(o<<3)|0,vb(0|(t=n),0,e<<3|0),a=n+(e<<3)|0,(0|f)==(0|r))o=l;else{for(;f=(l=f)+-8|0,ar[n+-8>>2]=ar[f>>2],l=l+-4|0,ar[n+-4>>2]=ar[l>>2],ar[f>>2]=0,t=n=t+-8|(ar[l>>2]=0),(0|f)!=(0|r););o=0|ar[A>>2],f=0|ar[u>>2]}if(ar[A>>2]=t,ar[u>>2]=a,ar[i>>2]=c,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-4>>2],f=f+-8|0,0|n&&du(n),(0|f)!=(0|t););o&&vu(o)}function me(A,e,r,i,f,n){A|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y=0,B=0,E=0,X=0;ur=(p=ur)+128|0,u=p+108|0,b=p+115|0,Z=p+96|0,s=p+112|0,g=p+56|0,k=p+32|0,h=p+8|0,d=p,X=0|ar[(e|=0)>>2],y=0|ar[X+24>>2],B=0|ar[X+28>>2];do{if(0|Eo(X,6)){if((0|Xo(0|ar[e>>2],6))==(0|y)&&(0|Wo(0|ar[e>>2],6))==(0|B))break;return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=p)}}while(0);if(0==(0|r)&3<i>>>0)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=p);if(X=0|ar[e>>2],a=0|ar[X+32>>2],c=0|ar[X+36>>2],E=0|Eo(X,6)?1:0|tl(0|ar[36+(0|ar[e>>2])>>2]),y=0|ar[e>>2],l=0|ar[y+40>>2],(X=0==(0|(m=0|ar[y+44>>2])))||(bu(m),y=0|ar[e>>2]),Io(Z,y),0|ar[8+Z>>2]||sr(34377,32248,3067,32272),t=255&(0|Vo(0|ar[e>>2],0|ar[16+(0|ar[Z>>2])>>2])),tr[s>>0]=0|tr[b>>0],tr[1+s>>0]=0|tr[1+b>>0],tr[2+s>>0]=0|tr[2+b>>0],X||bu(m),o=0|ar[f>>2],(v=0==(0|(w=0|ar[f+4>>2])))||bu(w),X||du(m),B=1<(0|function(A){var e=0;switch(0|(A|=0)){case 3:case 2:case 1:case 0:case 99:e=1;break;case 14:case 12:case 10:e=3;break;case 15:case 13:case 11:e=4;break;default:sr(55739,25597,118,25653)}return 0|e}(i))?0|tl(i):E,y=11==(1|i)?8:0==(0|n)?t:n,ar[g>>2]=0,ar[(n=4+g|0)>>2]=0,ar[8+g>>2]=0,ar[12+g>>2]=99,ar[16+g>>2]=99,tr[20+g>>0]=0,ar[24+g>>2]=8,ar[28+g>>2]=0,ar[(f=32+g|0)>>2]=0,ar[36+g>>2]=3,ar[k>>2]=a,ar[4+k>>2]=c,tr[8+k>>0]=1&E,tr[(E=9+k|0)>>0]=0|tr[b>>0],tr[E+1>>0]=0|tr[1+b>>0],tr[E+2>>0]=0|tr[2+b>>0],ar[12+k>>2]=t,ar[16+k>>2]=l,ar[20+k>>2]=m,X||bu(m),ar[h>>2]=r,ar[4+h>>2]=i,tr[8+h>>0]=1&B,tr[(r=9+h|0)>>0]=0|tr[s>>0],tr[r+1>>0]=0|tr[1+s>>0],tr[r+2>>0]=0|tr[2+s>>0],ar[12+h>>2]=12==(-4&i|0)&(0|y)<9?10:y,ar[16+h>>2]=o,ar[20+h>>2]=w,v||bu(w),ar[d>>2]=3,ar[u>>2]=ar[d>>2],y=0|function(A,e,r,i){e|=0,r|=0,i|=0;var f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0,fA=0,nA=0,tA=0,oA=0,aA=0,cA=0,lA=0,uA=0,bA=0,sA=0,dA=0,kA=0,hA=0,wA=0,vA=0,mA=0;if(ur=(v=ur)+256|0,o=v+96|0,mA=v+232|0,w=v+168|0,h=v+156|0,R=v+80|0,s=v+144|0,d=v+208|0,k=v+184|0,b=v+180|0,c=(l=v)+244|0,u=v+64|0,a=v+48|0,Z=0|ar[(A|=0)>>2],(0|(m=0|ar[(wA=A+4|0)>>2]))!=(0|Z))for(;g=m+-8|0,ar[wA>>2]=g,(0|(m=(m=0|ar[m+-4>>2])?(du(m),0|ar[wA>>2]):g))!=(0|Z););if(ar[(kA=A+12|0)>>2]=ar[r>>2],ar[kA+4>>2]=ar[r+4>>2],ar[kA+8>>2]=ar[r+8>>2],ar[kA+12>>2]=ar[r+12>>2],m=0|ar[(kA=r+16|0)>>2],0|(g=0|ar[(t=r+20|0)>>2])&&bu(g),ar[A+28>>2]=m,m=0|ar[(vA=A+32|0)>>2],ar[vA>>2]=g,0|m&&du(m),ar[A+36>>2]=ar[i>>2],(0|ar[e>>2])==(0|ar[r>>2])&&(0|ar[e+4>>2])==(0|ar[r+4>>2])&&(0|tr[e+8>>0])==(0|tr[r+8>>0])&&(0|ar[e+12>>2])==(0|ar[r+12>>2]))return ur=v,0|(mA=1);ar[mA>>2]=0,ar[(vA=mA+4|0)>>2]=0,y=(ar[mA+8>>2]=0)|hu(16),ar[y+4>>2]=0,ar[y+8>>2]=0,ar[y>>2]=6932,ar[(m=y+12|0)>>2]=6492,ar[o>>2]=m,ar[(m=4+o|0)>>2]=y,y=mA+8|0,ke(mA,o),0|(m=0|ar[m>>2])&&du(m),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=6960,ar[(m=g+12|0)>>2]=6988,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7012,ar[(m=g+12|0)>>2]=7040,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7064,ar[(m=g+12|0)>>2]=6516,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7092,ar[(m=g+12|0)>>2]=6540,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7120,ar[(m=g+12|0)>>2]=6908,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7148,ar[(m=g+12|0)>>2]=6564,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7176,ar[(m=g+12|0)>>2]=6588,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7204,ar[(m=g+12|0)>>2]=6660,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7232,ar[(m=g+12|0)>>2]=6684,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7260,ar[(m=g+12|0)>>2]=6636,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7288,ar[(m=g+12|0)>>2]=6612,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7316,ar[(m=g+12|0)>>2]=6708,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7344,ar[(m=g+12|0)>>2]=6732,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,(p=0|ar[vA>>2])>>>0>=(0|ar[y>>2])>>>0?(ke(mA,o),0|(m=0|ar[Z>>2])&&du(m)):(ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8),g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7372,ar[(m=g+12|0)>>2]=7400,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,p=0|ar[vA>>2];do{if(p>>>0<(0|ar[y>>2])>>>0)ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8;else{if(ke(mA,o),!(m=0|ar[Z>>2]))break;du(m)}}while(0);g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7424,ar[(m=g+12|0)>>2]=7452,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,p=0|ar[vA>>2];do{if(p>>>0<(0|ar[y>>2])>>>0)ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8;else{if(ke(mA,o),!(m=0|ar[Z>>2]))break;du(m)}}while(0);g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7476,ar[(m=g+12|0)>>2]=6756,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,p=0|ar[vA>>2];do{if(p>>>0<(0|ar[y>>2])>>>0)ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8;else{if(ke(mA,o),!(m=0|ar[Z>>2]))break;du(m)}}while(0);g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7504,ar[(m=g+12|0)>>2]=6780,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,p=0|ar[vA>>2];do{if(p>>>0<(0|ar[y>>2])>>>0)ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8;else{if(ke(mA,o),!(m=0|ar[Z>>2]))break;du(m)}}while(0);g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7532,ar[(m=g+12|0)>>2]=6832,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,p=0|ar[vA>>2];do{if(p>>>0<(0|ar[y>>2])>>>0)ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8;else{if(ke(mA,o),!(m=0|ar[Z>>2]))break;du(m)}}while(0);g=0|hu(16),ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g>>2]=7560,ar[(m=g+12|0)>>2]=6884,ar[o>>2]=m,ar[(Z=4+o|0)>>2]=g,p=0|ar[vA>>2];do{if(p>>>0<(0|ar[y>>2])>>>0)ar[p>>2]=m,ar[p+4>>2]=g,ar[o>>2]=0,ar[Z>>2]=0,ar[vA>>2]=p+8;else{if(ke(mA,o),!(m=0|ar[Z>>2]))break;du(m)}}while(0);ar[w>>2]=0,ar[(n=4+w|0)>>2]=0,ar[8+w>>2]=0,ar[h>>2]=0,ar[(f=4+h|0)>>2]=0,ar[8+h>>2]=0,ar[R>>2]=ar[e>>2],ar[R+4>>2]=ar[e+4>>2],ar[R+8>>2]=ar[e+8>>2],ar[R+12>>2]=ar[e+12>>2],p=0|ar[e+16>>2],(I=0==(0|(W=0|ar[e+20>>2])))||bu(W),B=4+o|0,X=8+o|0,E=12+o|0,ar[(e=28+o|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[o>>2]=-1,ar[B>>2]=0,ar[X>>2]=0,ar[E>>2]=ar[R>>2],ar[E+4>>2]=ar[R+4>>2],ar[E+8>>2]=ar[R+8>>2],ar[E+12>>2]=ar[R+12>>2],e=28+o|0,g=W;do{if(I)dA=32+o|0,ar[e>>2]=p,ar[dA>>2]=g,y=e,g=p=dA;else{if(bu(W),m=0|ar[(Z=32+o|0)>>2],ar[e>>2]=p,ar[Z>>2]=g,!m){y=e,g=p=Z;break}du(m),y=e,g=p=Z}}while(0);gA[36+o>>2]=0,gA[40+o>>2]=0,m=(gA[44+o>>2]=0)|ar[f>>2],dA=8+h|0;do{if(m>>>0<(0|ar[dA>>2])>>>0)ar[m>>2]=ar[o>>2],ar[m+4>>2]=ar[B>>2],ar[m+8>>2]=ar[X>>2],ar[B>>2]=0,ar[X>>2]=0,ar[(sA=m+12|0)>>2]=ar[E>>2],ar[sA+4>>2]=ar[E+4>>2],ar[sA+8>>2]=ar[E+8>>2],ar[sA+12>>2]=ar[E+12>>2],ar[m+28>>2]=ar[y>>2],ar[m+32>>2]=ar[g>>2],ar[e>>2]=0,bA=36+o|(ar[p>>2]=0),ar[(sA=m+36|0)>>2]=ar[bA>>2],ar[sA+4>>2]=ar[bA+4>>2],ar[sA+8>>2]=ar[bA+8>>2],ar[f>>2]=m+48;else{if(he(h,o),!(m=0|ar[p>>2]))break;du(m)}}while(0);0|(m=0|ar[X>>2])&&du(m),I||du(W),m=0|ar[h>>2],g=0|ar[f>>2];A:do{if((0|m)==(0|g))p=0;else{P=8+w|0,L=r+4|0,K=r+8|0,q=r+12|0,$=16+d|0,AA=20+d|0,eA=16+k|0,rA=20+k|0,iA=4+s|0,fA=l+4|0,nA=l+8|0,tA=l+12|0,oA=l+16|0,aA=l+20|0,cA=l+24|0,uA=lA=l+28|0,bA=l+32|0,H=l+40|0,x=l+44|0,sA=j=l+36|0,C=0;e:for(;;){if((0|g)==(0|m))g=-1;else for(p=(g-m|0)/48|0,g=-1,Z=0;C=(z=0==(0|Z)|(F=.30000001192092896*gA[m+(48*Z|0)+36>>2]+.6000000238418579*gA[m+(48*Z|0)+40>>2]+.10000000149011612*gA[m+(48*Z|0)+44>>2])<C)?F:C,g=z?Z:g,(Z=Z+1|0)>>>0<p>>>0;);for(Z=m+(48*g|0)|0,(0|(p=0|ar[n>>2]))==(0|ar[P>>2])?we(w,Z):(ar[p>>2]=ar[Z>>2],ar[p+4>>2]=ar[m+(48*g|0)+4>>2],Z=0|ar[m+(48*g|0)+8>>2],0|(ar[p+8>>2]=Z)&&bu(Z),z=m+(48*g|0)+12|0,ar[(Z=p+12|0)>>2]=ar[z>>2],ar[Z+4>>2]=ar[z+4>>2],ar[Z+8>>2]=ar[z+8>>2],ar[Z+12>>2]=ar[z+12>>2],ar[p+28>>2]=ar[m+(48*g|0)+28>>2],Z=0|ar[m+(48*g|0)+32>>2],0|(ar[p+32>>2]=Z)&&bu(Z),O=m+(48*g|0)+36|0,ar[(z=p+36|0)>>2]=ar[O>>2],ar[z+4>>2]=ar[O+4>>2],ar[z+8>>2]=ar[O+8>>2],ar[n>>2]=48+(0|ar[n>>2])),p=0|ar[f>>2],y=0|ar[h>>2],ar[y+(48*g|0)>>2]=ar[p+-48>>2],m=0|ar[p+-44>>2],0|(Z=0|ar[p+-40>>2])&&bu(Z),ar[y+(48*g|0)+4>>2]=m,m=0|ar[(z=y+(48*g|0)+8|0)>>2],ar[z>>2]=Z,0|m&&du(m),Z=p+-36|0,ar[(m=y+(48*g|0)+12|0)>>2]=ar[Z>>2],ar[m+4>>2]=ar[Z+4>>2],ar[m+8>>2]=ar[Z+8>>2],ar[m+12>>2]=ar[Z+12>>2],m=0|ar[p+-20>>2],0|(Z=0|ar[p+-16>>2])&&bu(Z),ar[y+(48*g|0)+28>>2]=m,m=0|ar[(z=y+(48*g|0)+32|0)>>2],ar[z>>2]=Z,0|m&&du(m),m=y+(48*g|0)+36|0,g=p+-12|0,ar[m>>2]=ar[g>>2],ar[m+4>>2]=ar[g+4>>2],ar[m+8>>2]=ar[g+8>>2],g=(m=0|ar[f>>2])+-48|0;ar[f>>2]=m+-48,0|(Z=0|ar[m+-16>>2])&&du(Z),0|(m=0|ar[m+-40>>2])&&du(m),(0|(m=0|ar[f>>2]))!=(0|g););Z=0|ar[n>>2];do{if((0|ar[Z+-36>>2])==(0|ar[r>>2])){if((0|ar[Z+-32>>2])!=(0|ar[L>>2]))break;if((0|tr[Z+-28>>0])!=(0|tr[K>>0]))break;if((0|ar[Z+-24>>2])==(0|ar[q>>2]))break e}}while(0);if((0|(m=0|ar[mA>>2]))!=(0|(z=0|ar[vA>>2]))){for(;;){if(p=0|ar[m>>2],y=0|ar[8+(0|ar[p>>2])>>2],g=Z+-36|0,ar[d>>2]=ar[g>>2],ar[4+d>>2]=ar[g+4>>2],ar[8+d>>2]=ar[g+8>>2],ar[12+d>>2]=ar[g+12>>2],ar[$>>2]=ar[Z+-20>>2],g=0|ar[Z+-16>>2],0|(ar[AA>>2]=g)&&bu(g),ar[k>>2]=ar[r>>2],ar[4+k>>2]=ar[r+4>>2],ar[8+k>>2]=ar[r+8>>2],ar[12+k>>2]=ar[r+12>>2],ar[eA>>2]=ar[kA>>2],g=0|ar[t>>2],0|(ar[rA>>2]=g)&&bu(g),ar[b>>2]=ar[i>>2],ar[o>>2]=ar[b>>2],os[63&y](s,p,d,k,o),0|(g=0|ar[rA>>2])&&du(g),0|(g=0|ar[AA>>2])&&du(g),(0|(g=0|ar[s>>2]))!=(0|(S=0|ar[iA>>2]))){O=m+4|0;do{if((0|(y=p=0|ar[w>>2]))!=(0|(U=W=0|ar[n>>2]))){e=0|ar[g>>2],B=g+4|0,E=g+8|0,X=g+12|0,Z=0;r:do{do{if((0|ar[p+12>>2])==(0|e)){if((0|ar[p+16>>2])!=(0|ar[B>>2]))break;if((0|tr[p+20>>0])!=(0|tr[E>>0]))break;if(Z|=T=(0|ar[p+24>>2])==(0|ar[X>>2]),T)break r}}while(0);p=p+48|0}while((0|p)!=(0|W));Z||(hA=182)}else hA=182;r:do{if(182==(0|hA)){Z=(hA=0)|ar[h>>2],p=0|ar[f>>2];i:do{if((0|Z)!=(0|p)){T=0|ar[g>>2],e=g+4|0,B=g+8|0,E=g+12|0;f:for(;;){N=Z+12|0;do{if((0|ar[N>>2])==(0|T)){if((0|(Y=0|ar[(_=Z+16|0)>>2]))!=(0|ar[e>>2]))break;if((D=0|tr[(Q=Z+20|0)>>0])<<24>>24!=(0|tr[B>>0]))break;if((0|(M=0|ar[(J=Z+24|0)>>2]))==(0|ar[E>>2]))break f}}while(0);if((0|(Z=Z+48|0))==(0|p))break i}if(V=+gA[(p=g+24|0)>>2]+ +gA[W+-12>>2],F=+gA[g+28>>2]+ +gA[W+-8>>2],G=+gA[g+32>>2]+ +gA[W+-4>>2],X=Z+40|0,W=Z+44|0,!(.30000001192092896*gA[(E=Z+36|0)>>2]+.6000000238418579*gA[X>>2]+.10000000149011612*gA[W>>2]>.30000001192092896*V+.6000000238418579*F+.10000000149011612*G))break r;B=g+9|0,tr[c>>0]=0|tr[B>>0],tr[1+c>>0]=0|tr[B+1>>0],tr[2+c>>0]=0|tr[B+2>>0],B=0|ar[g+16>>2],(R=0==(0|(I=0|ar[g+20>>2])))||bu(I),ar[u>>2]=ar[p>>2],ar[4+u>>2]=ar[p+4>>2],ar[8+u>>2]=ar[p+8>>2],ar[l>>2]=0,ar[l+4>>2]=0,p=(ar[l+8>>2]=0)|ar[m>>2],0|(e=0|ar[O>>2])&&bu(e),tr[o>>0]=0|tr[c>>0],tr[1+o>>0]=0|tr[1+c>>0],tr[2+o>>0]=0|tr[2+c>>0],R||bu(I),ar[l>>2]=ar[u>>2],ar[l+4>>2]=ar[4+u>>2],ar[l+8>>2]=ar[8+u>>2],ar[Z>>2]=((U-y|0)/48|0)-1,ar[Z+4>>2]=p,p=0|ar[(U=Z+8|0)>>2],ar[U>>2]=e,0|p&&du(p),ar[N>>2]=T,ar[_>>2]=Y,tr[Q>>0]=D,tr[(U=Z+21|0)>>0]=0|tr[o>>0],tr[U+1>>0]=0|tr[1+o>>0],tr[U+2>>0]=0|tr[2+o>>0],ar[J>>2]=M,ar[Z+28>>2]=B,p=0|ar[(U=Z+32|0)>>2],ar[U>>2]=I,0|p&&du(p),ar[E>>2]=ar[l>>2],ar[E+4>>2]=ar[l+4>>2],ar[E+8>>2]=ar[l+8>>2],R||du(I),gA[Z+36>>2]=V,gA[X>>2]=F,gA[W>>2]=G;break r}}while(0);ar[o>>2]=ar[g>>2],ar[4+o>>2]=ar[g+4>>2],ar[8+o>>2]=ar[g+8>>2],ar[12+o>>2]=ar[g+12>>2],e=0|ar[g+16>>2],(E=0==(0|(B=0|ar[g+20>>2])))?(p=W,Z=U):(bu(B),p=Z=0|ar[n>>2],y=0|ar[w>>2]),V=+gA[g+24>>2]+ +gA[p+-12>>2],F=+gA[g+28>>2]+ +gA[p+-8>>2],G=+gA[g+32>>2]+ +gA[p+-4>>2],ar[a>>2]=ar[o>>2],ar[4+a>>2]=ar[4+o>>2],ar[8+a>>2]=ar[8+o>>2],ar[12+a>>2]=ar[12+o>>2],E||bu(B),ar[fA>>2]=0,ar[nA>>2]=0,ar[tA>>2]=99,ar[oA>>2]=99,tr[aA>>0]=0,ar[cA>>2]=8,ar[lA>>2]=0,ar[lA+4>>2]=0,ar[lA+8>>2]=0,ar[lA+12>>2]=0,ar[lA+16>>2]=0,ar[l>>2]=((Z-y|0)/48|0)-1,p=0|ar[m>>2],y=Z=0|ar[O>>2];do{if(Z){if(bu(Z),Z=0|ar[nA>>2],ar[fA>>2]=p,ar[nA>>2]=y,!Z)break;du(Z)}else ar[fA>>2]=p,ar[nA>>2]=y}while(0);ar[tA>>2]=ar[a>>2],ar[tA+4>>2]=ar[4+a>>2],ar[tA+8>>2]=ar[8+a>>2],ar[tA+12>>2]=ar[12+a>>2],E||bu(B),ar[uA>>2]=e,Z=0|ar[bA>>2],ar[bA>>2]=B,0|Z&&du(Z),gA[j>>2]=V,gA[H>>2]=F,gA[x>>2]=G,Z=0|ar[f>>2];do{if(Z>>>0<(0|ar[dA>>2])>>>0)ar[Z>>2]=ar[l>>2],ar[Z+4>>2]=ar[fA>>2],ar[Z+8>>2]=ar[nA>>2],ar[fA>>2]=0,ar[nA>>2]=0,ar[(U=Z+12|0)>>2]=ar[tA>>2],ar[U+4>>2]=ar[tA+4>>2],ar[U+8>>2]=ar[tA+8>>2],ar[U+12>>2]=ar[tA+12>>2],ar[Z+28>>2]=ar[uA>>2],ar[Z+32>>2]=ar[bA>>2],ar[uA>>2]=0,ar[bA>>2]=0,ar[(U=Z+36|0)>>2]=ar[sA>>2],ar[U+4>>2]=ar[sA+4>>2],ar[U+8>>2]=ar[sA+8>>2],ar[f>>2]=Z+48;else{if(he(h,l),!(Z=0|ar[bA>>2]))break;du(Z)}}while(0);0|(Z=0|ar[nA>>2])&&du(Z),E||(du(B),du(B))}}while(0);g=g+36|0}while((0|g)!=(0|S));g=0|ar[s>>2]}if(0|g){if((0|(Z=0|ar[iA>>2]))!=(0|g)){for(;p=Z+-36|0,ar[iA>>2]=p,(0|(Z=(Z=0|ar[Z+-16>>2])?(du(Z),0|ar[iA>>2]):p))!=(0|g););g=0|ar[s>>2]}vu(g)}if((0|(m=m+8|0))==(0|z))break;Z=0|ar[n>>2]}g=0|ar[f>>2]}if((0|(m=0|ar[h>>2]))==(0|g)){p=0;break A}}if(m=((Z-(hA=0|ar[w>>2])|0)/48|0)-1|0,Z=hA,m)for(g=0;g=g+1|0,0!=(0|(m=0|ar[Z+(48*m|0)>>2])););else g=0;m=(p=0|ar[wA>>2])-(Z=0|ar[A>>2])>>3;do{if(m>>>0<g>>>0)ve(A,g-m|0);else{if(m>>>0<=g>>>0)break;if((0|p)==(0|(y=Z+(g<<3)|0)))break;for(Z=p;m=Z+-8|0,ar[wA>>2]=m,(Z=0|ar[Z+-4>>2])&&(du(Z),m=0|ar[wA>>2]),(0|m)!=(0|y);)Z=m}}while(0);if(Z=0|ar[w>>2],0|(m=(((0|ar[n>>2])-Z|0)/48|0)-1|0))for(B=g+-1|0,e=0;g=B-e|0,p=0|ar[A>>2],y=0|ar[Z+(48*m|0)+4>>2],0|(Z=0|ar[Z+(48*m|0)+8>>2])&&bu(Z),ar[p+(g<<3)>>2]=y,g=0|ar[(wA=p+(g<<3)+4|0)>>2],ar[wA>>2]=Z,0|g&&du(g),Z=0|ar[w>>2],m=0|ar[Z+(48*m|0)>>2];)e=e+1|0;p=1,m=0|ar[h>>2]}}while(0);if(0|m){if((0|(g=0|ar[f>>2]))!=(0|m)){for(;ar[f>>2]=g+-48,0|(Z=0|ar[g+-16>>2])&&du(Z),0|(g=0|ar[g+-40>>2])&&du(g),(0|(g=0|ar[f>>2]))!=(0|m););m=0|ar[h>>2]}vu(m)}if(0|(m=0|ar[w>>2])){if((0|(g=0|ar[n>>2]))!=(0|m)){for(;ar[n>>2]=g+-48,0|(Z=0|ar[g+-16>>2])&&du(Z),0|(g=0|ar[g+-40>>2])&&du(g),(0|(g=0|ar[n>>2]))!=(0|m););m=0|ar[w>>2]}vu(m)}if(0|(m=0|ar[mA>>2])){if((0|(g=0|ar[vA>>2]))!=(0|m)){for(;Z=g+-8|0,ar[vA>>2]=Z,(0|(g=(g=0|ar[g+-4>>2])?(du(g),0|ar[vA>>2]):Z))!=(0|m););m=0|ar[mA>>2]}vu(m)}return ur=v,0|(mA=p)}(g,k,h,u),v||du(w),X||du(m),y?function(A,e,r){A|=0,e|=0;var i,f,n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;ur=(c=ur)+64|0,f=c+48|0,n=c+40|0,t=c+32|0,o=c+8|0,a=c,l=0|ar[(r|=0)>>2],0|(r=u=0|ar[r+4>>2])&&(bu(u),bu(u)),u=0|ar[e>>2],i=0|ar[e+4>>2];A:do{if((0|u)!=(0|i)){for(g=4+t|0,Z=e+12|0,p=16+o|0,y=e+28|0,B=20+o|0,E=e+32|0,v=e+36|0,m=4+n|0,d=l;l=0|ar[u>>2],e=0|ar[12+(0|ar[l>>2])>>2],ar[t>>2]=d,h=r,ar[g>>2]=h,(w=0==(0|r))||bu(h),ar[o>>2]=ar[Z>>2],ar[4+o>>2]=ar[Z+4>>2],ar[8+o>>2]=ar[Z+8>>2],ar[12+o>>2]=ar[Z+12>>2],ar[p>>2]=ar[y>>2],b=0|ar[E>>2],0|(ar[B>>2]=b)&&bu(b),ar[a>>2]=ar[v>>2],ar[f>>2]=ar[a>>2],os[63&e](n,l,t,o,f),l=0|ar[n>>2],k=0|ar[m>>2],ar[n>>2]=0,ar[m>>2]=0,!w&&(du(h),0|(X=0|ar[m>>2]))&&du(X),0|(e=0|ar[B>>2])&&du(e),0|(e=0|ar[g>>2])&&du(e),s=l;){if(r=0|ar[y>>2],(b=0==(0|(e=0|ar[E>>2])))||(bu(e),bu(e)),ar[s+40>>2]=r,r=0|ar[(I=s+44|0)>>2],ar[I>>2]=e,0|r&&du(r),b||du(e),r=0|ar[(e=d)+48>>2],(b=0==(0|(e=0|ar[e+52>>2])))||(bu(e),bu(e)),ar[s+48>>2]=r,r=0|ar[(I=s+52|0)>>2],ar[I>>2]=e,0|r&&du(r),b||du(e),0|k&&bu(k),w||du(h),(0|(u=u+8|0))==(0|i)){r=k,W=34;break A}d=l,r=k}ar[A>>2]=0,ar[A+4>>2]=0,k&&du(k)}else W=34}while(0);34==(0|W)&&(ar[A>>2]=l,ar[A+4>>2]=r),ur=(r&&du(r),c)}(A,g,e):(ar[A>>2]=0,ar[A+4>>2]=0),0|(y=0|ar[f>>2])&&du(y),0|(y=0|ar[g>>2])){if((0|(B=0|ar[n>>2]))!=(0|y)){for(;f=B+-8|0,ar[n>>2]=f,(0|(B=(B=0|ar[B+-4>>2])?(du(B),0|ar[n>>2]):f))!=(0|y););y=0|ar[g>>2]}vu(y)}v||du(w),Co(Z,0|ar[4+Z>>2]),X||du(m),ur=p}function ge(A,e,r){e|=0,r|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0;switch(gA[(A|=0)>>2]=0,gA[(i=A+4|0)>>2]=0,e<<16>>16){case 13:case 12:switch(r<<16>>16){case 1:f=.30000001192092896,n=.6000000238418579,t=.15000000596046448,o=.05999999865889549,a=.6399999856948853,c=.33000001311302185,l=.3127000033855438,u=.32899999618530273;break;case 4:f=.20999999344348907,n=.7099999785423279,t=.14000000059604645,o=.07999999821186066,a=.6700000166893005,c=.33000001311302185,l=.3100000023841858,u=.3160000145435333;break;case 5:f=.28999999165534973,n=.6000000238418579,t=.15000000596046448,o=.05999999865889549,a=.6399999856948853,c=.33000001311302185,l=.3127000033855438,u=.32899999618530273;break;case 7:case 6:f=.3100000023841858,n=.5950000286102295,t=.1550000011920929,o=.07000000029802322,a=.6299999952316284,c=.3400000035762787,l=.3127000033855438,u=.32899999618530273;break;case 8:f=.24300000071525574,n=.6919999718666077,t=.14499999582767487,o=.04899999871850014,a=.6809999942779541,c=.3190000057220459,l=.3100000023841858,u=.3160000145435333;break;case 9:f=.17000000178813934,n=.796999990940094,t=.13099999725818634,o=.04600000008940697,a=.7080000042915344,c=.2919999957084656,l=.3127000033855438,u=.32899999618530273;break;case 10:a=n=1,c=o=t=f=0,l=.33333298563957214,u=.3333300054073334;break;case 11:f=.26499998569488525,n=.6899999976158142,t=.15000000596046448,o=.05999999865889549,a=.6800000071525574,c=.3199999928474426,l=.3140000104904175,u=.35100001096725464;break;case 12:f=.26499998569488525,n=.6899999976158142,t=.15000000596046448,o=.05999999865889549,a=.6800000071525574,c=.3199999928474426,l=.3127000033855438,u=.32899999618530273;break;case 22:f=.29499998688697815,n=.6050000190734863,t=.1550000011920929,o=.07699999958276749,a=.6299999952316284,c=.3400000035762787,l=.3127000033855438,u=.32899999618530273;break;default:u=l=c=a=o=t=n=f=0}h=1-(u+l),b=u*(t*(k=c*(s=1-(n+f))-(d=1-(c+a))*n)+(f*(o*d-c*(w=1-(o+t)))+a*(v=n*w-o*s))),gA[A>>2]=c*(h*(o*f-t*n)+(l*v+u*(t*s-f*w)))/b,f=o*(h*(a*n-c*f)+(l*k+u*(d*f-a*s)))/b;break;case 1:gA[A>>2]=.2125999927520752,f=.0722000002861023;break;case 4:gA[A>>2]=.30000001192092896,f=.10999999940395355;break;case 6:case 5:gA[A>>2]=.29899999499320984,f=.11400000005960464;break;case 7:gA[A>>2]=.21199999749660492,f=.08699999749660492;break;case 10:case 9:gA[A>>2]=.26269999146461487,f=.059300001710653305;break;default:return}gA[i>>2]=f}function Ze(A){tr[(A|=0)>>0]=1,gA[A+4>>2]=1.4019999504089355,gA[A+8>>2]=-.34413599967956543,gA[A+12>>2]=-.714136004447937,gA[A+16>>2]=1.7719999551773071}function pe(A,e,r){e|=0,r|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0;ur=(n=ur)+16|0,t=n,tr[(A|=0)>>0]=0,ar[(i=A+4|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ge(t,e,r),f=+gA[t+4>>2],o=+gA[t>>2],tr[A>>0]=1,o=0!=f|0!=o?(a=1-o,gA[i>>2]=2*a,c=2*(u=1-f),a=2*o*a/(l=o+f+-1),2*f*u/l):(gA[i>>2]=1.4019999504089355,c=1.7719999551773071,a=-.714136004447937,-.34413599967956543),gA[A+8>>2]=o,gA[A+12>>2]=a,gA[A+16>>2]=c,ur=n}function ye(A,e,r){e|=0,r|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0;for(ur=(t=ur)+16|0,f=t,i=(c=n=(A|=0)+4|(tr[A>>0]=0))+36|0;(0|(c=c+4|(ar[c>>2]=0)))<(0|i););ge(f,e,r),o=+gA[f+4>>2],a=+gA[f>>2],tr[A>>0]=1,0!=o|0!=a?(b=(u=1-(gA[n>>2]=a))-o,l=-o/u*.5,u=(b=-(gA[A+8>>2]=b))/u*.5,b=b/(s=1-o)*.5,a=-a/s*.5):(gA[n>>2]=.29899999499320984,gA[A+8>>2]=.5870000123977661,l=-.08131200075149536,u=-.41868799924850464,b=-.3312639892101288,a=-.16873499751091003,o=.11400000005960464),gA[A+12>>2]=o,gA[A+16>>2]=a,gA[A+20>>2]=b,gA[A+24>>2]=.5,gA[A+28>>2]=.5,gA[A+32>>2]=u,gA[A+36>>2]=l,ur=t}function Be(A){tr[(A|=0)>>0]=1,gA[A+4>>2]=.29899999499320984,gA[A+8>>2]=.5870000123977661,gA[A+12>>2]=.11400000005960464,gA[A+16>>2]=-.16873499751091003,gA[A+20>>2]=-.3312639892101288,gA[A+24>>2]=.5,gA[A+28>>2]=.5,gA[A+32>>2]=-.41868799924850464,gA[A+36>>2]=-.08131200075149536}function Ee(A,e){return 0|function(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0;ur=(t=ur)+16|0,n=t,a=548+(A|=0)|0,i=0==(0|ar[(r=A+580|0)>>2]),f=0|tr[a>>0];do{if(i){if(f<<24>>24==0&&0==(0|tr[A+549>>0])){c=8;break}if((0|ar[A+377216>>2])==(0|ar[A+377220>>2]))return ra(A+376148|0),ur=(e&&(ar[e>>2]=ar[A+376200>>2]),t),(c=0)|c;c=7}else c=7}while(0);7==(0|c)&&f<<24>>24==0&&(c=8);if(8==(0|c)&&!(0!=(0|tr[A+549>>0])|1^i))return ur=(e&&(ar[e>>2]=1),t),0|(c=13);if(!(0|Lo(A+376148|0,0)))return ur=(e&&(ar[e>>2]=1),t),0|(c=9);tr[n>>0]=0;do{if(0|ar[r>>2]){if(a=0|ya(a)){o=0|Uo(A,a),tr[n>>0]=1,c=23;break}sr(35126,34700,1314,35130)}else{if(0|tr[A+549>>0]&&(0|ar[A+377216>>2])==(0|ar[A+377220>>2])){if(!e){o=13;break}ar[e>>2]=1,o=13;break}o=0|Yo(A,n),c=23}}while(0);23==(0|c)&&e&&(ar[e>>2]=0==(0|o)&0!=(1&tr[n>>0])&1);return ur=t,0|(c=o)}(A|=0,e|=0)}function Ve(A,e,r,i,f,n){return 0|function(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;ur=(t=ur)+16|0,d=t,0|ar[8+(A|=0)>>2]&&sr(36856,36882,375,36896);tr[A+1>>0]=0,k=0|function(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(n=ur)+16|0,i=n,f=40+(A|=0)|0,(0|(t=0|ar[(s=A+44|0)>>2]))==(0|ar[f>>2])){for(t=0|hu(48),tr[t>>0]=0,tr[t+1>>0]=0,tr[t+2>>0]=0,ar[(a=t+32|0)>>2]=0,ar[(o=t+36|0)>>2]=0,ar[(l=t+40|0)>>2]=0,c=0|hu(64),ar[a>>2]=c,a=c+64|0,ar[l>>2]=a,l=c+64|0;((ar[c>>2]=0)|(c=c+4|0))<(0|l););ar[o>>2]=a,ar[(b=t+8|0)>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,ar[b+12>>2]=0,ar[b+16>>2]=0,ar[b+20>>2]=0,b=t}else b=0|ar[(u=t+-4|0)>>2],ar[s>>2]=u;tr[b>>0]=0,tr[b+1>>0]=0,tr[b+2>>0]=0,ar[(l=b+8|0)>>2]=0,ar[l+4>>2]=0,ar[b+16>>2]=0,ar[(l=b+24|0)>>2]=0,t=0|ar[(r=b+32|0)>>2],(0|(o=0|ar[(u=b+36|0)>>2]))!=(0|t)&&(ar[u>>2]=o+(~((o+-4-t|0)>>>2)<<2));if((0|ar[(a=b+28|0)>>2])>=(0|e))return ur=n,0|(s=b);if(0|(c=0|yc(e)))return 0|(o=0|ar[(t=b+20|0)>>2])&&(hb(0|c,0|o,0|ar[l>>2]),Bc(o)),ar[t>>2]=c,ar[a>>2]=e,ur=n,0|(s=b);ar[i>>2]=b,t=b,o=0|ar[s>>2];do{if(o-(0|ar[f>>2])>>2>>>0<16){if((0|o)==(0|ar[A+48>>2])){pa(f,i);break}ar[o>>2]=t,ar[s>>2]=4+(0|ar[s>>2]);break}Bc(0|ar[b+20>>2]),0|(t=0|ar[r>>2])&&((0|(o=0|ar[u>>2]))!=(0|t)&&(ar[u>>2]=o+(~((o+-4-t|0)>>>2)<<2)),vu(t)),vu(b)}while(0);return ur=n,(s=0)|s}(A,r);A:do{if(k){a=k+28|0;do{if((0|ar[a>>2])<(0|r)){if(0|(o=0|yc(r))){0|(l=0|ar[(c=k+20|0)>>2])&&(hb(0|o,0|l,0|ar[k+24>>2]),Bc(l)),ar[c>>2]=o,ar[a>>2]=r;break}if(ar[d>>2]=k,o=k,a=A+40|0,(l=0|ar[(c=A+44|0)>>2])-(0|ar[a>>2])>>2>>>0<16){if((0|l)==(0|ar[A+48>>2])){pa(a,d);break A}ar[l>>2]=o,ar[c>>2]=4+(0|ar[c>>2]);break A}Bc(0|ar[k+20>>2]),0|(o=0|ar[k+32>>2])&&((0|(c=0|ar[(a=k+36|0)>>2]))!=(0|o)&&(ar[a>>2]=c+(~((c+-4-o|0)>>>2)<<2)),vu(o)),vu(k);break A}o=0|ar[k+20>>2]}while(0);hb(0|o,0|e,0|r),ar[(s=k+24|0)>>2]=r,ar[(u=k+8|0)>>2]=i,ar[u+4>>2]=f,ar[k+16>>2]=n;e:do{if(2<(0|r))for(f=k+32|0,n=k+36|0,u=k+40|0,o=0|ar[k+20>>2],i=0,l=r;;){switch((a=0|tr[(e=o+2|0)>>0])<<24>>24){case 0:case 3:0==(0|tr[o>>0])&&a<<24>>24==3&0==(0|tr[(b=o+1|0)>>0])?(c=0|ar[n>>2],a=i+2+(c-(0|ar[f>>2])>>2)|0,ar[d>>2]=a,(0|c)==(0|ar[u>>2])?ga(f,d):(ar[c>>2]=a,ar[n>>2]=c+4),wb(0|e,o+3|0,-3-i+(0|ar[s>>2])|0),a=(0|ar[s>>2])-1|0,ar[s>>2]=a,c=i+1|0,o=b):(c=i,a=l);break;default:c=i+2|0,o=e,a=l}if((a+-2|0)<=(0|(i=c+1|0)))break e;o=o+1|0,l=a}}while(0);return o=0|ar[(e=A+16|0)>>2],d=(0|ar[A+20>>2])-o|0,c=0|ar[(a=A+28|0)>>2],l=0|ar[(i=A+32|0)>>2],(0|(0==(0|d)?0:(d<<8)-1|0))==(l+c|0)?(Ea(A+12|0),c=0|ar[a>>2],a=0|ar[i>>2],o=0|ar[e>>2]):a=l,ar[(0|ar[o+((d=a+c|0)>>>10<<2)>>2])+((1023&d)<<2)>>2]=k,ar[i>>2]=a+1,ar[(k=A+36|0)>>2]=(0|ar[k>>2])+(0|ar[s>>2]),ur=t,(k=0)|k}ar[d>>2]=0}while(0);return ur=t,0|(k=7)}((A|=0)+548|0,e|=0,r|=0,i|=0,f|=0,n|=0)}function Fe(A){var e=0;return(0|ar[(A|=0)+376200>>2])<=0?(e=0)|e:(e=0|ar[A+376196>>2],(e=0|ar[(0|ar[(0|ar[A+376184>>2])+(e>>>10<<2)>>2])+((1023&e)<<2)>>2])?(fa(A+376148|(tr[e+100>>0]=0)),0|e):(e=0)|e)}function Re(A){var e;0|ar[(A|=0)+376200>>2]&&(e=0|ar[A+376196>>2],fa(A+376148|(tr[100+(0|ar[(0|ar[(0|ar[A+376184>>2])+(e>>>10<<2)>>2])+((1023&e)<<2)>>2])>>0]=0)))}function Ne(A,e,r){switch(A|=0,r|=0,0|(e|=0)){case 0:return void(tr[A+512>>0]=0!=(0|r)&1);case 6:return void(tr[A+514>>0]=0!=(0|r)&1);case 7:return void(tr[A+532>>0]=0!=(0|r)&1);case 8:return void(tr[A+533>>0]=0!=(0|r)&1);default:sr(55739,34548,503,34557)}}function _e(A,e){switch(A|=0,0|(e|=0)){case 0:A=A+72|0;break;case 2:case 1:A=A+80|0;break;default:return(e=0)|e}return 0|(e=0|ar[A>>2])}function Ye(A,e){switch(A|=0,0|(e|=0)){case 0:A=A+76|0;break;case 2:case 1:A=A+84|0;break;default:return(e=0)|e}return 0|(e=0|ar[A>>2])}function Qe(A,e){switch(A|=0,0|(e|=0)){case 0:A=A+5760|0;break;case 2:case 1:A=A+5768|0;break;default:return(e=0)|e}return 0|(e=0|ar[A>>2])}function De(A){return 0|ar[(A|=0)+20>>2]}function Je(A,e,r){A|=0,r|=0;var i,f,n=0;if(3<=(e|=0)>>>0&&sr(34582,34548,639,34609),f=0|ar[A+60+(e<<2)>>2],!r)return 0|f;switch(i=0|ar[(0==(0|e)?A+40|0:A+44|0)>>2],0|e){case 0:A=A+5760|0,n=7;break;case 2:case 1:A=A+5768|0,n=7;break;default:A=0}return 7==(0|n)&&(A=(7+(0|ar[A>>2])|0)/8|0),n=0|br(A,i),ar[r>>2]=n,0|f}function Me(A){var e,r=0,i=0,f=0,n=0,t=0,o=0;if(ar[(A|=0)>>2]=7696,(0|(r=0|ar[(n=A+377216|0)>>2]))!=(0|(i=0|ar[(t=A+377220|0)>>2])))for(;(f=0|ar[i+-4>>2])&&(Te(f),vu(f),i=0|ar[t>>2],r=0|ar[n>>2]),i=i+-4|0,(0|r)!=(0|(ar[t>>2]=i)););0|r&&vu(r),function(A){var e,r,i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(n=8+(A|=0)|0,a=0|ar[(t=A+12|0)>>2],o=0|ar[n>>2],(0|a)!=(0|o))for(l=0;(c=0|ar[o+(l<<2)>>2])&&(aa(c),vu(c),o=0|ar[n>>2],a=0|ar[t>>2]),(l=l+1|0)>>>0<a-o>>2>>>0;);a=0|ar[(i=A+36|0)>>2],o=0|ar[(r=A+48|0)>>2],c=a+(o>>>10<<2)|0,b=0|ar[(f=A+40|0)>>2],o=(0|(l=b))==(0|(e=a))?(b=A+52|(u=0),0):(u=(0|ar[(b=A+52|0)>>2])+o|0,u=(0|ar[a+(u>>>10<<2)>>2])+((1023&u)<<2)|0,(0|ar[c>>2])+((1023&o)<<2)|0);A:for(;;){do{if((0|o)==(0|u))break A;o=o+4|0}while(4096!=(o-(0|ar[c>>2])|0));o=0|ar[(c=o=c+4|0)>>2]}if(ar[b>>2]=0,2<(o=l-e>>2)>>>0)for(;vu(0|ar[a>>2]),a=4+(0|ar[i>>2])|0,ar[i>>2]=a,o=(0|ar[f>>2])-a>>2,2<o>>>0;);switch(0|o){case 1:o=512,s=14;break;case 2:o=1024,s=14}14==(0|s)&&(ar[r>>2]=o);if(o=0|ar[i>>2],a=0|ar[f>>2],(0|o)!=(0|a)){for(;vu(0|ar[o>>2]),(0|(o=o+4|0))!=(0|a););o=0|ar[i>>2],(0|(a=0|ar[f>>2]))!=(0|o)&&(ar[f>>2]=a+(~((a+-4-o|0)>>>2)<<2))}0|(o=0|ar[A+32>>2])&&vu(o);0|(c=0|ar[A+20>>2])&&((0|(a=0|ar[(o=A+24|0)>>2]))!=(0|c)&&(ar[o>>2]=a+(~((a+-4-c|0)>>>2)<<2)),vu(c));if(!(o=0|ar[n>>2]))return;(0|(a=0|ar[t>>2]))!=(0|o)&&(ar[t>>2]=a+(~((a+-4-o|0)>>>2)<<2));vu(o)}(A+376148|0),function(A){var e,r,i,f,n,t=0,o=0,a=0,c=0,l=0,u=0;o=0|ar[(f=8+(A|=0)|0)>>2],t=0|ar[(i=A+20|0)>>2],a=o+(t>>>10<<2)|0,l=0|ar[(n=A+12|0)>>2],t=(0|(e=l))==(0|(r=o))?(l=A+24|(c=0),0):(c=(0|ar[(l=A+24|0)>>2])+t|0,c=(0|ar[o+(c>>>10<<2)>>2])+((1023&c)<<2)|0,(0|ar[a>>2])+((1023&t)<<2)|0);A:for(;;){do{if((0|t)==(0|c))break A;t=t+4|0}while(4096!=(t-(0|ar[a>>2])|0));t=0|ar[(a=t=a+4|0)>>2]}if(ar[l>>2]=0,2<(t=e-r>>2)>>>0)for(;vu(0|ar[o>>2]),o=4+(0|ar[f>>2])|0,ar[f>>2]=o,t=(0|ar[n>>2])-o>>2,2<t>>>0;);switch(0|t){case 1:t=512,u=13;break;case 2:t=1024,u=13}13==(0|u)&&(ar[i>>2]=t);if(t=0|ar[f>>2],o=0|ar[n>>2],(0|t)!=(0|o)){for(;vu(0|ar[t>>2]),(0|(t=t+4|0))!=(0|o););t=0|ar[f>>2],(0|(o=0|ar[n>>2]))!=(0|t)&&(ar[n>>2]=o+(~((o+-4-t|0)>>>2)<<2))}if(!(t=0|ar[A+4>>2]))return;vu(t)}(A+375396|0),Ga(A+370984|0),Ga(A+366584|0),Ga(A+362184|0),Ga(A+357784|0),Ga(A+353384|0),Ga(A+348984|0),Ga(A+344584|0),Ga(A+340184|0),Ga(A+335784|0),Ga(A+331384|0),Ga(A+326984|0),Ga(A+322584|0),Ga(A+318184|0),Ga(A+313784|0),Ga(A+309384|0),Ga(A+304984|0),Ga(A+300584|0),Ga(A+296184|0),Ga(A+291784|0),Ga(A+287384|0),Ga(A+282984|0),Ga(A+278584|0),Ga(A+274184|0),Ga(A+269784|0),Ga(A+265384|0),Ga(A+260984|0),Ga(A+256584|0),Ga(A+252184|0),Ga(A+247784|0),Ga(A+243384|0),Ga(A+238984|0),Ga(A+234584|0),Ga(A+230184|0),Ga(A+225784|0),Ga(A+221384|0),Ga(A+216984|0),Ga(A+212584|0),Ga(A+208184|0),Ga(A+203784|0),Ga(A+199384|0),Ga(A+194984|0),Ga(A+190584|0),Ga(A+186184|0),Ga(A+181784|0),Ga(A+177384|0),Ga(A+172984|0),Ga(A+168584|0),Ga(A+164184|0),Ga(A+159784|0),Ga(A+155384|0),Ga(A+150984|0),Ga(A+146584|0),Ga(A+142184|0),Ga(A+137784|0),Ga(A+133384|0),Ga(A+128984|0),Ga(A+124584|0),Ga(A+120184|0),Ga(A+115784|0),Ga(A+111384|0),Ga(A+106984|0),Ga(A+102584|0),Ga(A+98184|0),Ga(A+93784|0),Ac(A+88616|0),Ac(A+83448|0),Ac(A+78280|0),Ac(A+73112|0),Ac(A+67944|0),Ac(A+62776|0),Ac(A+57608|0),Ac(A+52440|0),Ac(A+47272|0),Ac(A+42104|0),Ac(A+36936|0),Ac(A+31768|0),Ac(A+26600|0),Ac(A+21432|0),Ac(A+16264|0),Ac(A+11096|0),e=A+600|0,o=A+11096|0;do{if(0|(r=0|ar[o+-16>>2])&&((0|ar[(i=o+-12|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),0|(r=0|ar[o+-28>>2])&&((0|(f=0|ar[(i=o+-24|0)>>2]))!=(0|r)&&(ar[i>>2]=f+(~((f+-2-r|0)>>>1)<<1)),vu(r)),0|(r=0|ar[(n=o+-64|0)>>2])){if((0|(i=0|ar[(t=o+-60|0)>>2]))!=(0|r)){for(;i=i+-12|0,ar[t>>2]=i,(f=0|ar[i>>2])&&(vu(f),i=0|ar[t>>2]),(0|i)!=(0|r););r=0|ar[n>>2]}vu(r)}o=o+-656|0}while((0|o)!=(0|e));!function(A){var e,r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0;ur=(i=ur)+16|0,e=i,f=0|ar[(r=32+(A|=0)|0)>>2];A:do{if(0|f){c=A+16|0,l=A+28|0,u=A+36|0,b=A+40|0,s=A+44|0,a=A+48|0;do{if(n=0|ar[c>>2],t=0|ar[l>>2],o=0|ar[(0|ar[n+(t>>>10<<2)>>2])+((1023&t)<<2)>>2],ar[r>>2]=f+-1,t=t+1|0,2047<(ar[l>>2]=t)>>>0&&(vu(0|ar[n>>2]),ar[c>>2]=4+(0|ar[c>>2]),ar[l>>2]=(0|ar[l>>2])-1024),ar[u>>2]=(0|ar[u>>2])-(0|ar[o+24>>2]),!o)break A;ar[e>>2]=o,f=o,n=0|ar[s>>2];do{if(n-(0|ar[b>>2])>>2>>>0<16){if((0|n)==(0|ar[a>>2])){pa(b,e);break}ar[n>>2]=f,ar[s>>2]=4+(0|ar[s>>2]);break}Bc(0|ar[o+20>>2]),0|(f=0|ar[o+32>>2])&&((0|(t=0|ar[(n=o+36|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-4-f|0)>>>2)<<2)),vu(f)),vu(o)}while(0);f=0|ar[r>>2]}while(0!=(0|f))}}while(0);if(o=0|ar[A+8>>2]){ar[e>>2]=o,f=o,c=A+40|0,n=0|ar[(a=A+44|0)>>2];do{if(n-(0|ar[c>>2])>>2>>>0<16){if((0|n)==(0|ar[A+48>>2])){pa(c,e);break}ar[n>>2]=f,ar[a>>2]=4+(0|ar[a>>2]);break}Bc(0|ar[o+20>>2]),0|(f=0|ar[o+32>>2])&&((0|(t=0|ar[(n=o+36|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-4-f|0)>>>2)<<2)),vu(f)),vu(o)}while(0);u=b=a}else b=u=A+44|0,c=A+40|0;if(t=0|ar[u>>2],o=0|ar[c>>2],(0|(f=t))!=(0|(n=o)))for(l=0;(a=0|ar[n+(l<<2)>>2])&&(Bc(0|ar[a+20>>2]),0|(f=0|ar[a+32>>2])&&((0|(t=0|ar[(n=a+36|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-4-f|0)>>>2)<<2)),vu(f)),vu(a),f=0|ar[u>>2],o=0|ar[c>>2],t=f),(l=l+1|0)>>>0<t-(n=o)>>2>>>0;);0|n&&((0|f)!=(0|n)&&(ar[b>>2]=f+(~((f+-4-n|0)>>>2)<<2)),vu(n));f=0|ar[(b=A+16|0)>>2],n=0|ar[(u=A+28|0)>>2],o=f+(n>>>10<<2)|0,t=0|ar[(s=A+20|0)>>2],n=(0|(a=t))==(0|(c=f))?l=0:(l=(0|ar[r>>2])+n|0,l=(0|ar[f+(l>>>10<<2)>>2])+((1023&l)<<2)|0,(0|ar[o>>2])+((1023&n)<<2)|0);A:for(;;){do{if((0|n)==(0|l))break A;n=n+4|0}while(4096!=(n-(0|ar[o>>2])|0));n=0|ar[(o=n=o+4|0)>>2]}if(ar[r>>2]=0,2<(n=a-c>>2)>>>0)for(;vu(0|ar[f>>2]),f=4+(0|ar[b>>2])|0,ar[b>>2]=f,t=0|ar[s>>2],n=t-f>>2,2<n>>>0;);switch(0|n){case 1:n=512,d=45;break;case 2:n=1024,d=45}45==(0|d)&&(ar[u>>2]=n);if((0|f)!=(0|t)){for(;vu(0|ar[f>>2]),(0|(f=f+4|0))!=(0|t););f=0|ar[b>>2],(0|(n=0|ar[s>>2]))!=(0|f)&&(ar[s>>2]=n+(~((n+-4-f|0)>>>2)<<2))}(f=0|ar[A+12>>2])&&vu(f),ur=i}(A+548|0)}function Te(A){var e,r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if(i=(A|=0)+10632|0,(0|(n=0|ar[(l=A+10636|0)>>2]))!=(0|(f=0|ar[i>>2]))){a=0;do{if(o=0|ar[f+(a<<2)>>2]){if(Ba(548+(0|ar[o+144>>2])|0,0|ar[o>>2]),0|(n=0|ar[o+136>>2])){if(0|(f=0|ar[(t=n+-16|0)+12>>2]))for(f=n+(18624*f|0)|0;kt(f+-44|0),(0|(f=f+-18624|0))!=(0|n););mu(t)}Jn(o+44|0),vu(o),f=0|ar[i>>2],n=0|ar[l>>2]}a=a+1|0}while(a>>>0<n-f>>2>>>0)}if(e=A+10664|0,(0|(f=0|ar[(r=A+10668|0)>>2]))!=(0|(n=t=0|ar[e>>2])))for(c=0,a=n,o=t;(t=0|ar[a+(c<<2)>>2])?(is[511&ar[4+(0|ar[t>>2])>>2]](t),n=t=0|ar[e>>2],f=0|ar[r>>2]):t=o,!(f-t>>2>>>0<=(c=c+1|0)>>>0);)o=a=t;if(f=0|ar[(o=A+10676|0)>>2]){if((0|(n=0|ar[(t=A+10680|0)>>2]))!=(0|f)){for(;c=n+-8|0,kt(ar[t>>2]=c),(0|(n=0|ar[t>>2]))!=(0|f););f=0|ar[o>>2]}vu(f),f=0|ar[e>>2]}else f=n;0|f&&((0|(n=0|ar[r>>2]))!=(0|f)&&(ar[r>>2]=n+(~((n+-4-f|0)>>>2)<<2)),vu(f)),0|(f=0|ar[A+10644>>2])&&((0|(t=0|ar[(n=A+10648|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(80*~(((t+-80-f|0)>>>0)/80|0)|0)),vu(f)),(f=0|ar[i>>2])&&((0|(n=0|ar[l>>2]))!=(0|f)&&(ar[l>>2]=n+(~((n+-4-f|0)>>>2)<<2)),vu(f)),aa(l=A+8|0)}function Ue(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0;if(0|ar[(i=(A|=0)+136|0)>>2]&&sr(34678,34700,169,34710),n=0|wu(230614<e>>>0|4294967279<(n=18624*e|0)>>>0?-1:n+16|0),ar[n+12>>2]=e,n=n+16|0,!e)return ar[i>>2]=n,void(ar[(n=A+140|0)>>2]=e);for(r=n+(18624*e|0)|0,f=n;st(f+18580|0),o=f+18592|0,t=0==(0|(t=15&(c=f+48|0)))?c:c+(16-t)|0,ar[(a=f+18508|0)>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,ar[a+12>>2]=0,ar[a+16>>2]=0,ar[o>>2]=0,ar[o+4>>2]=0,ar[o+8>>2]=0,ar[o+12>>2]=0,vb((ar[o+16>>2]=0)|(ar[f+2112>>2]=t),0,2048),(0|(f=f+18624|0))!=(0|r););ar[i>>2]=n,ar[(c=A+140|0)>>2]=e}function Se(A,e){A|=0;var r,i=0,f=0,n=0,t=0;vb((e|=0)+48|0,0,2064),ar[e+18532>>2]=-1,ar[e+18536>>2]=-1,r=0|ar[e+18596>>2],(0|(A=0|ar[16+(0|ar[e+18600>>2])>>2]))<=0||(A=(1+((0|(n=0|ar[(0|ar[10284+r>>2])+((0|ar[(0|ar[10272+r>>2])+(A<<2)>>2])-1<<2)>>2]))%(0|(t=0|ar[5820+r>>2]))|0)<<(f=0|ar[5804+r>>2]))-1|0,f=(1+((0|n)/(0|t)|0)<<f)-1|0,t=(0|ar[1248+r>>2])-1|0,n=(0|ar[1252+r>>2])-1|0,A=((0|t)<(0|A)?t:A)>>(i=0|ar[10368+r>>2]),i=((0|n)<(0|f)?n:f)>>i,(0|A)<=-1&&sr(48482,48519,118,48539),(0|(f=0|ar[10372+r>>2]))<=(0|A)&&sr(48482,48519,118,48539),(0|i)<=-1&&sr(48543,48519,119,48539),(0|i)>=(0|ar[10376+r>>2])&&sr(48543,48519,119,48539),t=(0|ar[10360+r>>2])+(3*((0|br(f,i))+A|0)|0)+2|0,ar[e+18528>>2]=tr[t>>0])}function Oe(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=(A|=0)+4|0,n=0|ar[A>>2],1073741823<(o=1+(i=(t=(0|ar[f>>2])-n|0)>>2)|0)>>>0&&zl(),a=(c=(0|ar[(l=A+8|0)>>2])-n|0)>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t),ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),n&&vu(n)}function ze(A,e){A|=0,e|=0;var r,i,f,n=0,t=0,o=0;if(ur=(f=ur)+656|0,ar[(n=(r=f)+592|0)>>2]=0,ar[(i=r+596|0)>>2]=0,ar[r+600>>2]=0,ar[(t=r+628|0)>>2]=0,ar[t+4>>2]=0,ar[t+8>>2]=0,ar[t+12>>2]=0,ar[t+16>>2]=0,o=(e=(ar[t+20>>2]=0)|function(A,e,r){A|=0,e|=0;var i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(l=0|At(r|=0,4),15<(0|(ar[A>>2]=l)))return 0|(r=8);if(et(r,2),l=0|At(r,6),ar[A+4>>2]=l+1,62<(0|l))return 0|(r=8);if(l=0|At(r,3),ar[(t=A+8|0)>>2]=l+1,6<(0|l))return 0|(r=8);l=0|At(r,1),ar[A+12>>2]=l,et(r,16),Ln(A+16|0,r,0|ar[t>>2]),l=0|At(r,1),ar[(o=A+484|0)>>2]=l,i=0|ar[t>>2],l?0<(0|i)&&(a=0,f=7):(a=i+-1|0,f=7);do{if(7==(0|f)){for(i=a;;){if(n=0|it(r),ar[(l=A+488+(12*i|0)|0)>>2]=n,n=0|it(r),ar[(f=A+488+(12*i|0)+4|0)>>2]=n,n=0|it(r),ar[A+488+(12*i|0)+8>>2]=n,-99999==(0|ar[l>>2])){i=8,f=48;break}if(i=i+1|0,-99999==(0|n)|-99999==(0|ar[f>>2])){i=8,f=48;break}if((0|i)>=(0|ar[t>>2])){f=11;break}}if(11==(0|f)){if(0|ar[o>>2])break;if(8<=(0|a)&&sr(44587,44512,144,44627),(0|a)<=0)break;for(f=A+488+(12*a|0)|0,n=A+488+(12*a|0)+4|0,t=A+488+(12*a|0)+8|0,i=0;ar[A+488+(12*i|0)>>2]=ar[f>>2],ar[A+488+(12*i|0)+4>>2]=ar[n>>2],ar[A+488+(12*i|0)+8>>2]=ar[t>>2],(0|(i=i+1|0))!=(0|a););}else if(48==(0|f))return 0|i}}while(0);if(a=255&(0|At(r,6)),tr[(c=A+584|0)>>0]=a,a=0|it(r),-99999==(0|(ar[(l=A+588|0)>>2]=a))|1023<(t=a+1|0)>>>0)return er(e,8,0),0|(r=8);if(ar[l>>2]=t,a=A+592|0,i=0|ar[(o=A+596|0)>>2],n=0|ar[a>>2],t>>>0<=(f=(i-n|0)/12|0)>>>0){if(t>>>0<f>>>0&&(0|i)!=(0|(u=n+(12*t|0)|0)))for(;i=i+-12|0,ar[o>>2]=i,(f=0|ar[i>>2])&&(vu(f),i=0|ar[o>>2]),(0|i)!=(0|u););}else!function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;if(t=0|ar[(i=8+(A|=0)|0)>>2],n=0|ar[(u=A+4|0)>>2],((t-(f=n)|0)/12|0)>>>0>=e>>>0)return vb(0|n,0,12*e|0),ar[u>>2]=f+(12*e|0);l=0|ar[A>>2],357913941<(n=(a=(n-(r=l)|0)/12|0)+e|0)>>>0&&zl();o=(c=(t-l|0)/12|0)<<1,o=c>>>0<178956970?o>>>0<n>>>0?n:o:357913941;do{if(o){if(!(357913941<o>>>0)){c=0|hu(12*o|0);break}Zu(u=0|X(8),44519),ar[u>>2]=17660,I(0|u,4016,428)}else c=0}while(0);if(n=c+(12*a|0)|0,c=c+(12*o|0)|0,vb(0|(t=n),0,12*e|0),a=n+(12*e|0)|0,(0|f)==(0|r))o=l;else{for(;f=(l=f)+-12|0,ar[n+-12>>2]=ar[f>>2],e=l+-8|0,ar[n+-8>>2]=ar[e>>2],l=l+-4|0,ar[n+-4>>2]=ar[l>>2],ar[f>>2]=0,ar[e>>2]=0,ar[l>>2]=0,t=n=t+-12|0,(0|f)!=(0|r););o=0|ar[A>>2],f=0|ar[u>>2]}if(ar[A>>2]=t,ar[u>>2]=a,ar[i>>2]=c,(0|f)!=(0|(t=o)))for(;0|(n=0|ar[(f=f+-12|0)>>2])&&vu(n),(0|f)!=(0|t););if(!o)return;vu(o)}(a,t-f|0);if(1<(0|ar[l>>2]))for(f=1,n=0|ar[a>>2],i=0|tr[c>>0];;){for(Kn(n+(12*f|0)|0,1+(255&i)|0,0),n=0;o=0!=(0|At(r,1)),t=0|ar[a>>2],i=(0|ar[t+(12*f|0)>>2])+(n>>>5<<2)|0,u=1<<(31&n),e=0|ar[i>>2],ar[i>>2]=o?e|u:e&~u,i=0|tr[c>>0],(0|n)<(255&i|0);)n=n+1|0;if(!((0|(f=f+1|0))<(0|ar[l>>2])))break;n=t}if(u=255&(0|At(r,1)),(tr[A+604>>0]=u)<<24>>24&&(u=0|At(r,32),ar[A+608>>2]=u,u=0|At(r,32),ar[A+612>>2]=u,u=255&(0|At(r,1)),(tr[A+616>>0]=u)<<24>>24)&&(i=1+(0|it(r))|0,ar[A+620>>2]=i,i=0|it(r),1023<(0|(ar[(e=A+624|0)>>2]=i))&&sr(55739,44512,189,44627),c=A+628|0,o=0|ar[(f=A+632|0)>>2],t=0|ar[c>>2],i>>>0<=(n=o-t>>1)>>>0?i>>>0<n>>>0&&(0|o)!=(0|(b=t+(i<<1)|0))&&(ar[f>>2]=o+(~((o+-2-b|0)>>>1)<<1)):(function(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;if(a=0|ar[(t=8+(A|=0)|0)>>2],o=0|ar[(l=A+4|0)>>2],e>>>0<=a-o>>1>>>0)return vb(0|o,0,e<<1|0),ar[l>>2]=o+(e<<1);n=0|ar[A>>2],(0|(o=(i=(f=o-n|0)>>1)+e|0))<0&&zl();a=(a=a-n|0)>>1>>>0<1073741823?a>>>0<o>>>0?o:a:2147483647;do{if(a){if(!((0|a)<0)){c=0|hu(a<<1);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);vb(0|(r=c+(i<<1)|0),0,e<<1|0),o=r+(0-i<<1)|0,0<(0|f)&&hb(0|o,0|n,0|f);if(ar[A>>2]=o,ar[l>>2]=r+(e<<1),ar[t>>2]=c+(a<<1),!n)return;vu(n)}(c,i-n|0),i=0|ar[e>>2]),f=A+640|0,a=0|ar[(n=A+644|0)>>2],o=0|ar[f>>2],i>>>0<=(t=a-o|0)>>>0?i>>>0<t>>>0&&(0|a)!=(0|(s=o+i|0))&&(ar[n>>2]=s):(function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0;if(t=0|ar[(r=8+(A|=0)|0)>>2],f=0|ar[(i=A+4|0)>>2],e>>>0<=(t-f|0)>>>0){for(;tr[f>>0]=0,f=1+(0|ar[i>>2])|0,ar[i>>2]=f,0!=(0|(e=e+-1|0)););return}n=0|ar[A>>2],(0|(f=(o=f-n|0)+e|0))<0&&zl();a=(t=t-n|0)<<1,n=(f=t>>>0<1073741823?a>>>0<f>>>0?f:a:2147483647)?0|hu(f):0;a=n+o|0,o=n+f|0,f=t=a;for(;tr[f>>0]=0,t=f=t+1|0,e=e+-1|0,0!=(0|e););e=0|ar[A>>2],n=(0|ar[i>>2])-e|0,f=a+(0-n)|0,0<(0|n)&&hb(0|f,0|e,0|n);if(ar[A>>2]=f,ar[i>>2]=t,ar[r>>2]=o,!e)return;vu(e)}(f,i-t|0),i=0|ar[e>>2]),0<(0|i)))return r=65535&(0|it(r)),or[ar[c>>2]>>1]=r,(r=0)|r;return r=255&(0|At(r,1)),tr[A+652>>0]=r,(r=0)|r}(r,A+4|0,e))||(-1<(0|(e=0|ar[A+520>>2]))&&function(A,e){A|=0;var r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;switch(ur=(h=ur)+208|0,I=h+192|0,k=h+184|0,d=h+176|0,W=h+168|0,s=h+160|0,X=h+152|0,b=h+144|0,E=h+128|0,u=h+120|0,B=h+112|0,a=h+104|0,y=h+96|0,f=h+88|0,i=h+80|0,o=h+72|0,t=h+64|0,n=h+56|0,r=h+48|0,p=h+40|0,Z=h+32|0,g=h+24|0,m=h+16|0,v=h+8|0,l=(w=h)+200|0,0|(e|=0)){case 1:e=10172;break;case 2:e=10676;break;default:return ur=h}if(Pn(c=0|ar[e>>2],44632,w),ar[v>>2]=ar[A>>2],Pn(c,44673,v),ar[m>>2]=ar[A+4>>2],Pn(c,44717,m),v=A+8|0,ar[g>>2]=ar[v>>2],Pn(c,44761,g),ar[Z>>2]=ar[A+12>>2],Pn(c,44805,Z),Z=0|ar[v>>2],$n(A+16|0,1,c),w=Z+-1|0,1<(0|Z))for(e=0;ar[p>>2]=e,Pn(c,44849,p),$n(A+68+(52*e|0)|0,0,c),(0|(e=e+1|0))!=(0|w););if(p=A+484|0,ar[r>>2]=ar[p>>2],Pn(c,44882,r),0|ar[p>>2]){if(0<(0|ar[v>>2]))for(e=0;y=0|ar[A+488+(12*e|0)>>2],ar[n>>2]=e,ar[4+n>>2]=y,Pn(c,44929,n),ar[t>>2]=ar[A+488+(12*e|0)+4>>2],Pn(c,44971,t),ar[o>>2]=ar[A+488+(12*e|0)+8>>2],Pn(c,45012,o),(0|(e=e+1|0))<(0|ar[v>>2]););}else ar[i>>2]=ar[A+488>>2],Pn(c,45053,i),ar[f>>2]=ar[A+492>>2],Pn(c,45098,f),ar[y>>2]=ar[A+496>>2],Pn(c,45143,y);if(Z=A+584|0,ar[a>>2]=cr[Z>>0],Pn(c,45188,a),g=A+588|0,ar[B>>2]=ar[g>>2],Pn(c,45213,B),1<(0|ar[g>>2])){v=A+592|0,m=4+l|0,w=1;do{for(e=0;ar[l>>2]=(0|ar[(0|ar[v>>2])+(12*w|0)>>2])+(e>>>5<<2),ar[m>>2]=1<<(31&e),ar[E>>2]=w,ar[E+4>>2]=e,tr[(B=E+8|0)>>0]=0|tr[l>>0],tr[B+1>>0]=0|tr[1+l>>0],tr[B+2>>0]=0|tr[2+l>>0],tr[B+3>>0]=0|tr[3+l>>0],tr[B+4>>0]=0|tr[4+l>>0],tr[B+5>>0]=0|tr[5+l>>0],tr[B+6>>0]=0|tr[6+l>>0],tr[B+7>>0]=0|tr[7+l>>0],Pn(c,45273,E),(0|e)<(0|cr[Z>>0]);)e=e+1|0;w=w+1|0}while((0|w)<(0|ar[g>>2]))}if(E=A+604|0,ar[u>>2]=tr[E>>0],Pn(c,45238,u),0|tr[E>>0]&&(ar[b>>2]=ar[A+608>>2],Pn(c,45310,b),ar[X>>2]=ar[A+612>>2],Pn(c,45338,X),X=A+616|0,ar[s>>2]=tr[X>>0],Pn(c,45366,s),0|tr[X>>0])&&(ar[W>>2]=ar[A+620>>2],Pn(c,45408,W),W=A+624|0,ar[d>>2]=ar[W>>2],Pn(c,45441,d),0<(0|ar[W>>2])))return I=0|lr[ar[A+628>>2]>>1],ar[k>>2]=0,ar[4+k>>2]=I,Pn(c,45474,k),ur=h;ar[I>>2]=tr[A+652>>0],Pn(c,45502,I),ur=h}(r,e),hb(0|(o=A+600+(656*(e=0|ar[r>>2])|0)|0),0|r,592),(0|o)==(0|r)?(n=r+604|0,ar[(o=A+600+(656*e|0)+604|0)>>2]=ar[n>>2],ar[o+4>>2]=ar[n+4>>2],ar[o+8>>2]=ar[n+8>>2],ar[o+12>>2]=ar[n+12>>2],ar[o+16>>2]=ar[n+16>>2],ar[o+20>>2]=ar[n+20>>2]):(je(A+600+(656*e|0)+592|0,0|ar[n>>2],0|ar[i>>2]),n=r+604|0,ar[(o=A+600+(656*e|0)+604|0)>>2]=ar[n>>2],ar[o+4>>2]=ar[n+4>>2],ar[o+8>>2]=ar[n+8>>2],ar[o+12>>2]=ar[n+12>>2],ar[o+16>>2]=ar[n+16>>2],ar[o+20>>2]=ar[n+20>>2],He(A+600+(656*e|0)+628|0,0|ar[t>>2],0|ar[r+632>>2]),xe(A+600+(656*e|0)+640|0,0|ar[r+640>>2],0|ar[r+644>>2])),tr[A+600+(656*e|0)+652>>0]=0|tr[r+652>>0],0),0|(e=0|ar[r+640>>2])&&((0|ar[(A=r+644|0)>>2])!=(0|e)&&(ar[A>>2]=e),vu(e)),0|(e=0|ar[t>>2])&&((0|(n=0|ar[(A=r+632|0)>>2]))!=(0|e)&&(ar[A>>2]=n+(~((n+-2-e|0)>>>1)<<1)),vu(e)),!(e=0|ar[(t=r+592|0)>>2]))return ur=f,0|o;if((0|(A=0|ar[i>>2]))!=(0|e)){for(;A=A+-12|0,ar[i>>2]=A,(n=0|ar[A>>2])&&(vu(n),A=0|ar[i>>2]),(0|A)!=(0|e););e=0|ar[t>>2]}return vu(e),ur=f,0|o}function je(A,e,r){var i,f,n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;if(ur=(c=ur)+32|0,t=c+24|0,n=c+16|0,o=c+8|0,a=c,f=((r|=0)-(e|=0)|0)/12|0,(((u=0|ar[(d=(A|=0)+8|0)>>2])-(l=i=0|ar[A>>2])|0)/12|0)>>>0<f>>>0){if(i){if((0|(u=0|ar[(s=A+4|0)>>2]))==(0|l))u=i;else{for(;u=u+-12|0,ar[s>>2]=u,(b=0|ar[u>>2])&&(vu(b),u=0|ar[s>>2]),(0|u)!=(0|l););u=0|ar[A>>2]}vu(u),ar[d>>2]=0,ar[s>>2]=0,u=ar[A>>2]=0}if(357913941<f>>>0&&zl(),u=(m=(0|u)/12|0)<<1,357913941<(u=m>>>0<178956970?u>>>0<f>>>0?f:u:357913941)>>>0&&zl(),b=0|hu(12*u|0),ar[(m=A+4|0)>>2]=b,ar[A>>2]=b,ar[d>>2]=b+(12*u|0),(0|e)==(0|r))return void(ur=c);for(w=4+o|0,v=a+4|0,h=e;;){if(ar[b>>2]=0,ar[(u=b+4|0)>>2]=0,(ar[(s=b+8|0)>>2]=0)|(k=0|ar[(d=h+4|0)>>2])){if((0|k)<0){u=42;break}Z=0|hu((k=1+((k+-1|0)>>>5)|0)<<2),ar[b>>2]=Z,ar[u>>2]=0,ar[s>>2]=k,s=0|ar[h>>2],ar[o>>2]=s,k=(ar[w>>2]=0)|ar[d>>2],ar[a>>2]=s+(k>>>5<<2),ar[v>>2]=31&k,ar[n>>2]=ar[o>>2],ar[4+n>>2]=ar[4+o>>2],ar[t>>2]=ar[a>>2],ar[4+t>>2]=ar[a+4>>2],Pe(b,n,t)}if(h=h+12|0,u=12+(0|ar[m>>2])|0,ar[m>>2]=u,(0|h)==(0|r)){u=45;break}b=u}if(42==(0|u))zl();else if(45==(0|u))return void(ur=c)}w=(d=((0|ar[(v=A+4|0)>>2])-i|0)/12|0)>>>0<f>>>0,d=e+(12*d|0)|0,h=w?d:r;A:do{if((0|h)==(0|e))g=l;else{for(;;){if((0|l)!=(0|e)){if(u=0|ar[(k=e+4|0)>>2]){if(u>>>0>ar[(s=l+8|0)>>2]<<5>>>0){if((b=0|ar[l>>2])&&(vu(b),ar[l>>2]=0,ar[s>>2]=0,u=(ar[l+4>>2]=0)|ar[k>>2]),(0|u)<0)break;b=0|hu((u=1+((u+-1|0)>>>5)|0)<<2),ar[l>>2]=b,ar[l+4>>2]=0,ar[s>>2]=u,u=0|ar[k>>2]}else b=0|ar[l>>2];wb(0|b,0|ar[e>>2],4+((u+-1|0)>>>5<<2)|0),u=0|ar[k>>2]}else u=0;ar[l+4>>2]=u}if(l=l+12|0,(0|(e=e+12|0))==(0|h)){g=l;break A}}zl()}}while(0);if(w)if((0|h)!=(0|r)){for(k=4+o|0,e=a+4|0,h=0|ar[v>>2];;){if(ar[h>>2]=0,ar[(l=h+4|0)>>2]=0,(ar[(u=h+8|0)>>2]=0)|(s=0|ar[(b=d+4|0)>>2])){if((0|s)<0){u=20;break}Z=0|hu((g=1+((s+-1|0)>>>5)|0)<<2),ar[h>>2]=Z,ar[l>>2]=0,ar[u>>2]=g,g=0|ar[d>>2],ar[o>>2]=g,Z=(ar[k>>2]=0)|ar[b>>2],ar[a>>2]=g+(Z>>>5<<2),ar[e>>2]=31&Z,ar[n>>2]=ar[o>>2],ar[4+n>>2]=ar[4+o>>2],ar[t>>2]=ar[a>>2],ar[4+t>>2]=ar[a+4>>2],Pe(h,n,t)}if(d=d+12|0,l=12+(0|ar[v>>2])|0,ar[v>>2]=l,(0|d)==(0|r)){u=45;break}h=l}if(20==(0|u))zl();else if(45==(0|u))return void(ur=c)}else ur=c;else{if((0|(l=0|ar[v>>2]))==(0|g))return void(ur=c);for(;l=l+-12|0,ar[v>>2]=l,(u=0|ar[l>>2])&&(vu(u),l=0|ar[v>>2]),(0|l)!=(0|g););ur=c}}function He(A,e,r){var i,f,n,t,o=0,a=0,c=0,l=0;if((c=(l=(i=r|=0)-(e|=0)|0)>>1)>>>0<=(o=0|ar[(f=(A|=0)+8|0)>>2])-(n=t=0|ar[A>>2])>>1>>>0)return 0|(r=(o=(a=c=(A=(a=(0|ar[(l=A+4|0)>>2])-t>>1)>>>0<c>>>0)?e+(a<<1)|0:r)-e|0)>>1)&&wb(0|t,0|e,0|o),r=n+(r<<1)|0,A?!((0|(o=i-a|0))<=0)&&(hb(0|ar[l>>2],0|c,0|o),void(ar[l>>2]=(0|ar[l>>2])+(o>>>1<<1))):(0|(o=0|ar[l>>2]))!=(0|r)&&void(ar[l>>2]=o+(~((o+-2-r|0)>>>1)<<1));(a=t)&&((0|(r=0|ar[(o=A+4|0)>>2]))!=(0|n)&&(ar[o>>2]=r+(~((r+-2-t|0)>>>1)<<1)),vu(a),ar[f>>2]=0,ar[o>>2]=0,o=ar[A>>2]=0),(0|l)<0&&zl(),(0|(o=o>>1>>>0<1073741823?o>>>0<c>>>0?c:o:2147483647))<0&&zl(),r=0|hu(o<<1),ar[(a=A+4|0)>>2]=r,ar[A>>2]=r,ar[f>>2]=r+(o<<1),(0|l)<=0||(hb(0|r,0|e,0|l),ar[a>>2]=r+(l>>>1<<1))}function xe(A,e,r){var i,f,n=0,t=0,o=0,a=0,c=0;return f=(c=r|=0)-(i=e|=0)|0,((n=0|ar[(o=(A|=0)+8|0)>>2])-(a=t=0|ar[A>>2])|0)>>>0<f>>>0?(t&&((0|ar[(n=A+4|0)>>2])!=(0|a)&&(ar[n>>2]=a),vu(a),ar[o>>2]=0,ar[n>>2]=0,n=ar[A>>2]=0),(0|f)<0&&zl(),c=n<<1,(0|(n=n>>>0<1073741823?c>>>0<f>>>0?f:c:2147483647))<0&&zl(),a=0|hu(n),ar[(c=A+4|0)>>2]=a,ar[A>>2]=a,ar[o>>2]=a+n,hb(0|a,0|e,0|f),void(ar[c>>2]=a+f)):(0|(n=(t=r=(A=(t=(0|ar[(o=A+4|0)>>2])-t|0)>>>0<f>>>0)?e+t|0:r)-i|0)&&wb(0|a,0|e,0|n),n=a+n|0,A?!((0|(n=c-t|0))<=0)&&(hb(0|ar[o>>2],0|r,0|n),void(ar[o>>2]=(0|ar[o>>2])+n)):(0|ar[o>>2])!=(0|n)&&void(ar[o>>2]=n))}function Pe(A,e,r){e|=0,r|=0;var i,f,n,t,o,a,c,l,u,b=0,s=0,d=0,k=0,h=0;if(ur=(u=ur)+48|0,a=u+40|0,o=u+32|0,f=u+8|0,t=(n=u)+24|0,l=u+16|0,h=0|ar[(d=(A|=0)+4|0)>>2],c=0|ar[(b=e)>>2],b=0|ar[b+4>>2],s=0|ar[(k=r)>>2],k=0|ar[k+4>>2],i=s-c<<3,ar[d>>2]=h-b+k+i,e=d=(0|ar[A>>2])+(h>>>5<<2)|0,(0|b)!=(0|(r=31&h)))return ar[(h=f)>>2]=c,ar[h+4>>2]=b,ar[(h=n)>>2]=s,ar[h+4>>2]=k,ar[t>>2]=e,ar[4+t>>2]=r,ar[o>>2]=ar[f>>2],ar[4+o>>2]=ar[4+f>>2],ar[a>>2]=ar[n>>2],ar[4+a>>2]=ar[n+4>>2],function(A,e,r,i){A|=0,r|=0,i|=0;var f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0;if(d=0|ar[(e|=0)>>2],u=0|ar[e+4>>2],o=((0|ar[r>>2])-d<<3)+(0|ar[r+4>>2])-u|0,r=d,(0|o)<=0)return e=i+4|0,i=0|ar[i>>2],ar[A>>2]=i,i=A+4|0,A=0|ar[e>>2],ar[i>>2]=A;u?(t=-1>>>((t=32-u|0)-(l=(0|o)<(0|t)?o:t)|0)&-1<<u&ar[r>>2],f=0|ar[(b=i+4|0)>>2],n=(c=32-f|0)>>>0<l>>>0?c:l,a=0|ar[i>>2],f=ar[a>>2]&~(-1>>>(c-n|0)&-1<<f),ar[a>>2]=f,c=0|ar[b>>2],ar[a>>2]=(u>>>0<c>>>0?t<<c-u:t>>>(u-c|0))|f,f=(0|ar[b>>2])+n|0,a=a+(f>>>5<<2)|0,ar[i>>2]=a,f&=31,ar[b>>2]=f,0<(0|(c=l-n|0))&&(ar[a>>2]=t>>>(u+n|0)|ar[a>>2]&~(-1>>>(32-c|0)),ar[b>>2]=c,f=c),r=r+4|0,ar[e>>2]=r,o=o-l|0):f=0|ar[(b=f=i+4|0)>>2];if(d=32-f|0,c=-1<<f,31<(0|o)){for(l=~c,a=0|ar[i>>2],u=(s=(f=o+-32|0)>>>5)+1|0,s=f-(s<<5)|0,f=r,n=0|ar[a>>2],t=a;k=0|ar[f>>2],h=n&l,ar[t>>2]=h,ar[t>>2]=k<<ar[b>>2]|h,n=ar[(t=t+4|0)>>2]&c|k>>>d,ar[t>>2]=n,!((0|(o=o+-32|0))<=31);)f=f+4|0;r=r+(u<<2)|0,ar[e>>2]=r,ar[i>>2]=a+(u<<2),o=s}if((0|o)<=0)return k=b,h=0|ar[i>>2],ar[A>>2]=h,h=A+4|0,k=0|ar[k>>2],ar[h>>2]=k;if(t=ar[r>>2]&-1>>>(32-o|0),n=(0|d)<(0|o)?d:o,f=0|ar[i>>2],r=ar[f>>2]&~(-1<<ar[b>>2]&-1>>>(d-n|0)),ar[f>>2]=r,ar[f>>2]=r|t<<ar[b>>2],r=(0|ar[b>>2])+n|0,f=f+(r>>>5<<2)|0,ar[i>>2]=f,ar[b>>2]=31&r,(0|(r=o-n|0))<=0)return k=b,h=0|ar[i>>2],ar[A>>2]=h,h=A+4|0,k=0|ar[k>>2],ar[h>>2]=k;ar[f>>2]=ar[f>>2]&~(-1>>>(32-r|0))|t>>>n,ar[b>>2]=r,k=b,h=0|ar[i>>2],ar[A>>2]=h,h=A+4|0,k=0|ar[k>>2],ar[h>>2]=k}(l,o,a,t),void(ur=u);r=k-b+i|0,k=c,0<(0|r)&&(e=b?(e=-1>>>((e=32-b|0)-(h=(0|r)<(0|e)?r:e)|0)&-1<<b,ar[d>>2]=ar[d>>2]&~e|ar[k>>2]&e,r=r-h|0,b=31&(e=h+b|0),d=d+(e>>>5<<2)|0,k=k+4|0):(b=0,c),wb(0|d,0|e,(s=(0|r)/32|0)<<2|0),A=r-(s<<5)|0,e=r=d+(s<<2)|0,0<(0|A)&&(b=-1>>>(32-A|0),ar[r>>2]=ar[r>>2]&~b|ar[k+(s<<2)>>2]&b,b=A)),ar[l>>2]=e,ar[4+l>>2]=b,ur=u}function Le(A,e){A|=0,e|=0;var r,i,f=0;return ur=(i=ur)+5168|0,$a(r=i),0|(e=0|function(A,e,r){A|=0,e|=0;var i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if(c=255&(0|At(r|=0,4)),tr[A+1>>0]=c,c=1+(0|At(r,3))|0,117440512<((tr[(o=A+2|0)>>0]=c)<<24|0))return 0|(A=8);if(i=255&(0|At(r,1)),tr[A+3>>0]=i,Ln(A+4|0,r,0|tr[o>>0]),-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(15<(0|(ar[A+472>>2]=i)))return 0|(A=8);if(-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);3==(0|(ar[(f=A+476|0)>>2]=i))?(n=255&(0|At(r,1)),i=0|ar[f>>2]):n=0;if(tr[A+480>>0]=n,ar[A+5012>>2]=n<<24>>24==0?i:0,3<i>>>0)return er(e,1019,0),0|(A=8);if(-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[(f=A+484|0)>>2]=i,-99999==(0|(n=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+488>>2]=n,i=0|ar[f>>2],0==(0|n)|0==(0|i))return 0|(A=8);if(7e4<(0|n)|7e4<(0|i))return 0|(A=8);if(c=255&(0|At(r,1)),(tr[A+492>>0]=c)<<24>>24){if(-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+496>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+500>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+504>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8)}else ar[A+496>>2]=0,ar[A+500>>2]=0,ar[A+504>>2]=0,i=0;if(ar[A+508>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+512>>2]=i+8,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+516>>2]=i+8,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);a=i+4|0,ar[(c=A+520|0)>>2]=a,ar[A+5032>>2]=1<<a,a=255&(0|At(r,1)),(tr[(t=A+524|0)>>0]=a)<<24>>24?(i=0,l=35):(n=0|tr[o>>0],i=(n<<24>>24)-1|0);for(;;){if(35==(0|l)&&(n=0|tr[o>>0]),(0|(f=n<<24>>24))<=(0|i)){l=44;break}if(-99999==(0|(f=0|it(r)))|15<(0|f)){l=38;break}if(ar[A+528+(i<<2)>>2]=f+1,-99999==(0|(f=0|it(r)))){l=40;break}if(ar[(n=A+556+(i<<2)|0)>>2]=f,-99999==(0|(f=0|it(r)))){l=42;break}ar[A+584+(i<<2)>>2]=f,ar[A+5128+(i<<2)>>2]=f+-1+(0|ar[n>>2]),i=i+1|0,l=35}{if(38==(0|l))return er(e,8,0),0|(A=8);if(40==(0|l))return er(e,8,0),0|(A=8);if(42==(0|l))return er(e,8,0),0|(A=8);if(44==(0|l)){if(0|tr[t>>0]&&(i=f+-1|0,8<=n<<24>>24&&sr(41633,41639,317,44627),1<n<<24>>24))for(n=A+528+(i<<2)|0,t=A+556+(i<<2)|0,f=A+584+(i<<2)|0,i=0;ar[A+528+(i<<2)>>2]=ar[n>>2],ar[A+556+(i<<2)>>2]=ar[t>>2],ar[A+584+(i<<2)>>2]=ar[f>>2],(0|(i=i+1|0))<((0|tr[o>>0])-1|0););if(-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[(t=A+612|0)>>2]=i+3,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[(o=A+616|0)>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[(f=A+620|0)>>2]=i+2,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[(n=A+624|0)>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+628>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+632>>2]=i,6<(0|(i=0|ar[t>>2])))return 0|(A=8);if(6<((0|ar[o>>2])+i|0))return 0|(A=8);if(5<(0|(i=0|ar[f>>2])))return 0|(A=8);if(5<((0|ar[n>>2])+i|0))return 0|(A=8);a=255&(0|At(r,1)),tr[A+636>>0]=a;do{if(a<<24>>24){if(a=255&(0|At(r,1)),tr[A+637>>0]=a,i=A+638|0,!(a<<24>>24)){rc(i);break}if(!(i=0|ec(r,0,i,0)))break;return 0|i}}while(0);a=255&(0|At(r,1)),tr[A+4702>>0]=a,a=255&(0|At(r,1)),tr[A+4703>>0]=a,a=255&(0|At(r,1)),tr[A+4704>>0]=a;do{if(a<<24>>24){if(i=1+(0|At(r,4))&255,tr[A+4705>>0]=i,i=1+(0|At(r,4))&255,tr[A+4706>>0]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(ar[A+4708>>2]=i+3,-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);ar[A+4712>>2]=i,i=255&(0|At(r,1));break}tr[A+4705>>0]=0,tr[A+4706>>0]=0,ar[A+4708>>2]=0,ar[A+4712>>2]=0,i=0}while(0);if(tr[A+4716>>0]=i,-99999==(0|(o=0|it(r))))return er(e,8,0),0|(A=8);if(64<o>>>0)return er(e,1014,0),0|(A=8);if(a=A+4720|0,t=0|ar[(n=A+4724|0)>>2],f=0|ar[a>>2],o>>>0<=(i=(t-f|0)/100|0)>>>0){do{if(o>>>0<i>>>0){if((0|t)==(0|(i=f+(100*o|0)|0)))break;ar[n>>2]=t+(100*~(((t+-100-i|0)>>>0)/100|0)|0)}}while(0);0<(0|o)&&(l=87)}else!function(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0;if(n=0|ar[(r=8+(A|=0)|0)>>2],i=0|ar[(a=A+4|0)>>2],e>>>0<=((n-i|0)/100|0)>>>0){do{for(f=i+100|0;((or[i>>1]=0)|(i=i+2|0))<(0|f););i=100+(0|ar[a>>2])|0,ar[a>>2]=i,e=e+-1|0}while(0!=(0|e));return}f=0|ar[A>>2],42949672<(i=(t=(i-f|0)/100|0)+e|0)>>>0&&zl();o=(n=(n-f|0)/100|0)<<1,i=n>>>0<21474836?o>>>0<i>>>0?i:o:42949672;do{if(i){if(!(42949672<i>>>0)){f=0|hu(100*i|0);break}Zu(a=0|X(8),44519),ar[a>>2]=17660,I(0|a,4016,428)}else f=0}while(0);o=f+(100*t|0)|0,t=f+(100*i|0)|0,n=i=o;do{for(f=i+100|0;((or[i>>1]=0)|(i=i+2|0))<(0|f););n=i=n+100|0,e=e+-1|0}while(0!=(0|e));e=0|ar[A>>2],f=(0|ar[a>>2])-e|0,i=o+(100*((0|f)/-100|0)|0)|0,0<(0|f)&&hb(0|i,0|e,0|f);if(ar[A>>2]=i,ar[a>>2]=n,ar[r>>2]=t,!e)return;vu(e)}(a,o-i|0),l=87;A:do{if(87==(0|l)){for(i=0;;){if(!(0|Zc(e,A,r,(0|ar[a>>2])+(100*i|0)|0,i,a,0))){i=1005;break}if((0|o)<=(0|(i=i+1|0)))break A}return 0|i}}while(0);l=255&(0|At(r,1)),tr[A+4732>>0]=l;do{if(l<<24>>24){if(-99999==(0|(i=0|it(r))))return er(e,8,0),0|(A=8);if(32<(0|(ar[(f=A+4736|0)>>2]=i)))return 0|(A=8);if(!(0<(0|i)))break;for(i=0;l=0|At(r,0|ar[c>>2]),ar[A+4740+(i<<2)>>2]=l,l=255&(0|At(r,1)),tr[A+4868+i>>0]=l,(0|(i=i+1|0))<(0|ar[f>>2]););}else ar[A+4736>>2]=0}while(0);l=255&(0|At(r,1)),tr[A+4900>>0]=l,l=255&(0|At(r,1)),tr[A+4901>>0]=l,l=255&(0|At(r,1)),(tr[A+4902>>0]=l)<<24>>24&&function(A,e,r,i){A|=0,e|=0,i|=0;var f,n,t=0,o=0,a=0,c=0;o=0!=(0|At(r|=0,1)),tr[A>>0]=1&o;do{if(o){if((0|(i=0|At(r,8)))<18){or[A+2>>1]=0|or[17796+(i<<2)>>1],i=0|or[17796+(i<<2)+2>>1];break}if(255==(0|i)){i=65535&(0|At(r,16)),or[A+2>>1]=i,i=65535&(0|At(r,16));break}or[A+2>>1]=0,i=0;break}or[A+2>>1]=0,i=0}while(0);or[A+4>>1]=i,o=0!=(0|At(r,1)),tr[A+6>>0]=1&o,o&&(o=0!=(0|At(r,1))&1,tr[A+7>>0]=o);if(ar[(i=A+12|0)>>2]=5,tr[(t=A+16|0)>>0]=0,tr[(f=A+18|0)>>0]=2,tr[(n=A+19|0)>>0]=2,tr[(o=A+20|0)>>0]=2,c=0!=(0|At(r,1)),tr[A+8>>0]=1&c,c&&(c=0|At(r,3),ar[i>>2]=(0|c)<5?c:5,c=0!=(0|At(r,1))&1,tr[t>>0]=c,c=0!=(0|At(r,1)),tr[A+17>>0]=1&c,c)){switch(i=0|At(r,8),c=255&i,(tr[f>>0]=c)<<24>>24){case 3:case 0:a=14;break;default:10<(255&i)>>>0&&(a=14)}switch(14==(0|a)&&(tr[f>>0]=2),i=0|At(r,8),c=255&i,(tr[n>>0]=c)<<24>>24){case 3:case 0:a=17;break;default:17<(254&i)>>>0&&(a=17)}17==(0|a)&&(tr[n>>0]=2),c=0|At(r,8),tr[o>>0]=9<((255&c)-1|0)>>>0?2:255&c}c=0!=(0|At(r,1)),tr[A+21>>0]=1&c;do{if(c){if(-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(tr[A+22>>0]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;i&=255;break}tr[A+22>>0]=0,i=0}while(0);if(tr[A+23>>0]=i,c=0!=(0|At(r,1))&1,tr[A+24>>0]=c,c=0!=(0|At(r,1))&1,tr[A+25>>0]=c,c=0!=(0|At(r,1))&1,tr[A+26>>0]=c,c=0!=(0|At(r,1)),tr[A+27>>0]=1&c,c){if(-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(ar[A+28>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(ar[A+32>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(ar[A+36>>2]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),c=8}else ar[A+28>>2]=0,ar[A+32>>2]=0,ar[A+36>>2]=0,i=0;ar[A+40>>2]=i,c=0!=(0|At(r,1)),tr[A+44>>0]=1&c,c&&(c=0|At(r,32),ar[A+48>>2]=c,c=0|At(r,32),ar[A+52>>2]=c);if(i=0!=(0|At(r,1))&1,tr[A+56>>0]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(ar[A+60>>2]=i+1,c=0!=(0|At(r,1)),tr[A+64>>0]=1&c,c)return c=502;c=0!=(0|At(r,1)),tr[A+65>>0]=1&c;do{if(c){if(i=0!=(0|At(r,1))&1,tr[A+66>>0]=i,i=0!=(0|At(r,1))&1,tr[A+67>>0]=i,i=0!=(0|At(r,1))&1,tr[A+68>>0]=i,-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(4095<(61440&(or[(t=A+70|0)>>1]=i))>>>0&&(er(e,8,0),or[t>>1]=0),-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(16<(255&(tr[(t=A+72|0)>>0]=i))>>>0&&(er(e,8,0),tr[t>>0]=2),-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(16<(255&(tr[(t=A+73|0)>>0]=i))>>>0&&(er(e,8,0),tr[t>>0]=1),-99999==(0|(i=0|it(r))))return er(e,8,0),c=8;if(15<(240&(tr[(t=A+74|0)>>0]=i))>>>0&&(er(e,8,0),tr[t>>0]=15),-99999==(0|(t=0|it(r))))return er(e,8,0),c=8;if(15<(240&(tr[(i=A+75|0)>>0]=t))>>>0){er(e,8,0);break}return c=0}tr[A+66>>0]=0,tr[A+67>>0]=1,tr[A+68>>0]=0,or[A+70>>1]=0,tr[A+72>>0]=2,tr[A+73>>0]=1,tr[A+74>>0]=15,i=A+75|0}while(0);tr[i>>0]=15,c=0}(A+4904|0,e,r,A),e=255&(0|At(r,1)),tr[A+4980>>0]=e;do{if(e<<24>>24){if(l=255&(0|At(r,1)),tr[(e=A+4981|0)>>0]=l,l=255&(0|At(r,1)),tr[A+4982>>0]=l,l=255&(0|At(r,6)),tr[A+4983>>0]=l,!(0|tr[e>>0]))break;ic(A+4984|0,0,r)}else tr[A+4981>>0]=0}while(0);return 0|(i=0|function(A){var e,r,i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;s=0|ar[476+(A|=0)>>2],a=0|ar[7988+(s<<2)>>2],ar[A+5016>>2]=a,c=0|ar[8004+(s<<2)>>2],ar[A+5020>>2]=c,d=0==(0|ar[A+5012>>2]),ar[A+5024>>2]=d?1:a,ar[A+5028>>2]=d?1:c,d=0|ar[A+512>>2],ar[A+4996>>2]=d,ar[A+5e3>>2]=(6*d|0)-48,e=0|ar[A+516>>2],ar[A+5004>>2]=e,ar[A+5008>>2]=(6*e|0)-48,r=0|ar[A+612>>2],ar[A+5036>>2]=r,i=(0|ar[A+616>>2])+r|0,ar[A+5040>>2]=i,f=1<<r,ar[A+5044>>2]=f,o=1<<i,ar[A+5048>>2]=o,n=0|ar[A+484>>2],b=(f-1+n|0)/(0|f)|0,ar[A+5052>>2]=b,l=(n-1+o|0)/(0|o)|0,ar[A+5056>>2]=l,t=0|ar[A+488>>2],k=((u=t-1|0)+f|0)/(0|f)|0,ar[A+5060>>2]=k,u=(u+o|0)/(0|o)|0,ar[A+5064>>2]=u,b=0|br(k,b),ar[A+5068>>2]=b,b=0|br(u,l),ar[A+5072>>2]=b,b=0|br(t,n),ar[A+5076>>2]=b,o=0!=(0|s)&&0==(0|tr[A+480>>0])?(ar[A+5080>>2]=(0|o)/(0|a)|0,(0|o)/(0|c)|0):(ar[A+5080>>2]=0,0);if(ar[A+5084>>2]=o,b=0|ar[A+620>>2],ar[A+5100>>2]=b,s=(0|ar[A+624>>2])+b|0,ar[A+5104>>2]=s,o=i-b|0,(0|ar[A+628>>2])>(0|o))return 0|(k=8);if((0|ar[A+632>>2])>(0|o))return 0|(k=8);k=r-1|0,ar[A+5108>>2]=k,k=i-k|0,ar[A+5112>>2]=l<<k,ar[A+5116>>2]=u<<k,k=0|ar[A+4708>>2],ar[A+5120>>2]=k,ar[A+5124>>2]=(0|ar[A+4712>>2])+k,k=l<<o,ar[A+5088>>2]=k,u<<=o,ar[A+5092>>2]=u,k=0|br(u,k),ar[A+5096>>2]=k,l=0|tr[A+4990>>0]?(a=o=0,c=1<<e-1,1<<d+-1):(o=248+e&255,a=d+248&255,c=128);if(tr[A+5156>>0]=a,tr[A+5157>>0]=o,ar[A+5160>>2]=l,ar[A+5164>>2]=c,(0|n)%(0|f)|0)return 0|(k=8);if(0!=((0|t)%(0|f)|0)|(0|r)<(0|b))return 0|(k=8);if((0|((0|i)<5?i:5))<(0|s)|8<(d+-8|0)>>>0|8<(e-8|0)>>>0)return 0|(k=8);return tr[A>>0]=1,(k=0)|k}(A))?0|(A=i):(tr[A>>0]=1,(A=0)|A)}}return 0}(r,A+4|0,e))?(A=e,Ac(r),ur=i,0|A):(-1<(0|(e=0|ar[A+516>>2]))&&function(A,e){A|=0;var r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j,H,x,P,L,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0,fA=0,nA=0,tA=0,oA=0,aA=0,cA=0,lA=0,uA=0,bA=0;switch(ur=(L=ur)+496|0,P=L+480|0,x=L+472|0,H=L+464|0,j=L+456|0,z=L+448|0,O=L+440|0,S=L+432|0,U=L+424|0,T=L+416|0,M=L+408|0,J=L+400|0,D=L+392|0,bA=L+384|0,Q=L+376|0,Y=L+368|0,_=L+360|0,N=L+344|0,lA=L+336|0,cA=L+328|0,F=L+320|0,V=L+312|0,y=L+304|0,p=L+296|0,Z=L+288|0,g=L+280|0,G=L+272|0,C=L+264|0,aA=L+256|0,I=L+248|0,W=L+240|0,X=L+232|0,h=L+224|0,k=L+216|0,d=L+208|0,s=L+200|0,oA=L+192|0,tA=L+184|0,E=L+176|0,B=L+168|0,m=L+160|0,v=L+152|0,w=L+144|0,nA=L+136|0,b=L+128|0,u=L+120|0,l=L+112|0,c=L+104|0,a=L+96|0,o=L+88|0,t=L+80|0,n=L+72|0,fA=L+64|0,f=L+56|0,i=L+48|0,r=L+40|0,rA=L+32|0,eA=L+24|0,AA=L+16|0,$=L+8|0,q=L,0|(e|=0)){case 1:K=10172;break;case 2:K=10676;break;default:return ur=L}switch(Pn(R=0|ar[K>>2],41865,q),ar[$>>2]=tr[A+1>>0],Pn(R,41906,$),iA=A+2|0,ar[AA>>2]=tr[iA>>0],Pn(R,41936,AA),ar[eA>>2]=tr[A+3>>0],Pn(R,41966,eA),function(A,e,r){e|=0;var i,f,n;{if(ur=(n=ur)+16|0,f=n,$n(A|=0,1,r|=0),i=e+-1|0,!(1<(0|e)))return ur=n;e=0}for(;ar[f>>2]=e,Pn(r,44849,f),$n(A+52+(52*e|0)|0,0,r),e=e+1|0,(0|e)!=(0|i););ur=n}(A+4|0,0|tr[iA>>0],R),ar[rA>>2]=ar[A+472>>2],Pn(R,42001,rA),0|(q=0|ar[(K=A+476|0)>>2])){case 0:$=42045;break;case 1:$=42056;break;case 2:$=42062;break;default:$=3==(0|q)?42031:42037}ar[r>>2]=q,ar[4+r>>2]=$,Pn(R,42068,r),3==(0|ar[K>>2])&&(ar[i>>2]=tr[A+480>>0],Pn(R,42103,i));ar[f>>2]=ar[A+484>>2],Pn(R,42136,f),ar[fA>>2]=ar[A+488>>2],Pn(R,42169,fA),fA=A+492|0,ar[n>>2]=tr[fA>>0],Pn(R,42202,n),0|tr[fA>>0]&&(ar[t>>2]=ar[A+496>>2],Pn(R,42235,t),ar[o>>2]=ar[A+500>>2],Pn(R,42263,o),ar[a>>2]=ar[A+504>>2],Pn(R,42291,a),ar[c>>2]=ar[A+508>>2],Pn(R,42319,c));if(ar[l>>2]=ar[A+512>>2],Pn(R,42347,l),ar[u>>2]=ar[A+516>>2],Pn(R,42370,u),ar[b>>2]=ar[A+520>>2],Pn(R,42393,b),K=A+524|0,ar[nA>>2]=tr[K>>0],Pn(R,42426,nA),nA=0|tr[iA>>0],(0|(K=0==(0|tr[K>>0])?(nA<<24>>24)-1|0:0))<(nA<<24>>24|0))for(;ar[s>>2]=K,Pn(R,42756,s),ar[d>>2]=ar[A+528+(K<<2)>>2],Pn(R,42766,d),ar[k>>2]=ar[A+556+(K<<2)>>2],Pn(R,42805,k),ar[h>>2]=ar[A+584+(K<<2)>>2],Pn(R,42844,h),K=K+1|0,(0|K)<(0|tr[iA>>0]););iA=A+612|0,ar[w>>2]=ar[iA>>2],Pn(R,42473,w),rA=A+616|0,ar[v>>2]=ar[rA>>2],Pn(R,42511,v),eA=A+620|0,ar[m>>2]=ar[eA>>2],Pn(R,42558,m),AA=A+624|0,ar[B>>2]=ar[AA>>2],Pn(R,42596,B),ar[E>>2]=ar[A+628>>2],Pn(R,42641,E),ar[tA>>2]=ar[A+632>>2],Pn(R,42683,tA),tA=A+636|0,ar[oA>>2]=tr[tA>>0],Pn(R,42725,oA),0|tr[tA>>0]&&(oA=A+637|0,ar[X>>2]=tr[oA>>0],Pn(R,42883,X),0|tr[oA>>0])&&Pn(R,42924,W);ar[I>>2]=tr[A+4702>>0],Pn(R,42968,I),ar[aA>>2]=tr[A+4703>>0],Pn(R,43010,aA),aA=A+4704|0,ar[C>>2]=tr[aA>>0],Pn(R,43052,C),0|tr[aA>>0]&&(ar[G>>2]=tr[A+4705>>0],Pn(R,43094,G),ar[g>>2]=tr[A+4706>>0],Pn(R,43130,g),ar[Z>>2]=ar[A+4708>>2],Pn(R,43166,Z),ar[p>>2]=ar[A+4712>>2],Pn(R,43208,p),ar[y>>2]=tr[A+4716>>0],Pn(R,43259,y));if(q=A+4720|0,$=A+4724|0,ar[V>>2]=((0|ar[$>>2])-(0|ar[q>>2])|0)/100|0,Pn(R,43295,V),(0|ar[$>>2])!=(0|ar[q>>2]))for(K=0;ar[cA>>2]=K,Pn(R,43367,cA),pc((0|ar[q>>2])+(100*K|0)|0,16,R),(K=K+1|0)>>>0<(((0|ar[$>>2])-(0|ar[q>>2])|0)/100|0)>>>0;);if(cA=A+4732|0,ar[F>>2]=tr[cA>>0],Pn(R,43329,F),0|tr[cA>>0]&&(uA=A+4736|0,ar[lA>>2]=ar[uA>>2],Pn(R,43388,lA),0<(0|ar[uA>>2])))for(K=0;cA=0|ar[A+4740+(K<<2)>>2],lA=0|tr[A+4868+K>>0],ar[N>>2]=K,ar[4+N>>2]=cA,ar[8+N>>2]=lA,Pn(R,43421,N),(0|(K=K+1|0))<(0|ar[uA>>2]););ar[_>>2]=tr[A+4900>>0],Pn(R,43490,_),ar[Y>>2]=tr[A+4901>>0],Pn(R,43531,Y),K=A+4902|0,ar[Q>>2]=tr[K>>0],Pn(R,43572,Q),ar[bA>>2]=tr[A+4980>>0],Pn(R,43613,bA),bA=A+4981|0,ar[D>>2]=tr[bA>>0],Pn(R,43649,D),ar[J>>2]=tr[A+4982>>0],Pn(R,43685,J),ar[M>>2]=tr[A+4983>>0],Pn(R,43721,M),ar[T>>2]=ar[A+5048>>2],Pn(R,43757,T),ar[U>>2]=ar[A+5044>>2],Pn(R,43776,U),ar[S>>2]=1<<(0|ar[rA>>2])+(0|ar[iA>>2]),Pn(R,43795,S),ar[O>>2]=1<<ar[eA>>2],Pn(R,43814,O),ar[z>>2]=1<<(0|ar[AA>>2])+(0|ar[eA>>2]),Pn(R,43833,z),ar[j>>2]=ar[A+5056>>2],Pn(R,43852,j),ar[H>>2]=ar[A+5064>>2],Pn(R,43882,H),ar[x>>2]=ar[A+5016>>2],Pn(R,43912,x),ar[P>>2]=ar[A+5020>>2],Pn(R,43942,P),0|tr[bA>>0]&&function(A,e){A|=0;var r,i,f,n,t,o,a,c,l,u,b;switch(ur=(b=ur)+80|0,a=b+72|0,o=b+64|0,t=b+56|0,n=b+48|0,f=b+40|0,u=b+32|0,l=b+24|0,c=b+16|0,i=b+8|0,r=b,0|(e|=0)){case 1:e=10172;break;case 2:e=10676;break;default:return ur=b}Pn(e=0|ar[e>>2],43972,r),ar[i>>2]=cr[A>>0],Pn(e,44029,i),ar[c>>2]=cr[A+1>>0],Pn(e,44075,c),ar[l>>2]=cr[A+2>>0],Pn(e,44121,l),ar[u>>2]=cr[A+3>>0],Pn(e,44167,u),ar[f>>2]=cr[A+4>>0],Pn(e,44213,f),ar[n>>2]=cr[A+5>>0],Pn(e,44259,n),ar[t>>2]=cr[A+6>>0],Pn(e,44305,t),ar[o>>2]=cr[A+7>>0],Pn(e,44351,o),ar[a>>2]=cr[A+8>>0],Pn(e,44397,a),ur=b}(A+4984|0,e);0|tr[K>>0]&&function(A,e){A|=0;var r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y=0,Q=0,D=0,J=0,M=0;switch(ur=(_=ur)+304|0,a=_+288|0,o=_+280|0,t=_+272|0,N=_+264|0,R=_+256|0,F=_+248|0,V=_+240|0,G=_+232|0,C=_+224|0,M=_+216|0,I=_+208|0,W=_+200|0,X=_+192|0,E=_+184|0,B=_+176|0,J=_+168|0,y=_+160|0,p=_+152|0,Z=_+144|0,g=_+136|0,m=_+128|0,v=_+120|0,w=_+112|0,h=_+104|0,k=_+96|0,d=_+88|0,D=_+80|0,s=_+72|0,b=_+64|0,u=_+56|0,l=_+48|0,c=_+40|0,f=_+32|0,Q=_+24|0,n=_+16|0,i=_+8|0,Y=_,0|(e|=0)){case 1:e=10172;break;case 2:e=10676;break;default:return ur=_}if(Pn(r=0|ar[e>>2],45969,Y),Y=0|lr[A+4>>1],ar[i>>2]=lr[A+2>>1],ar[4+i>>2]=Y,Pn(r,46010,i),ar[n>>2]=cr[A+6>>0],Pn(r,46046,n),ar[Q>>2]=cr[A+7>>0],Pn(r,46079,Q),Q=A+8|0,ar[f>>2]=cr[Q>>0],Pn(r,46112,f),0|tr[Q>>0]){switch(0|ar[A+12>>2]){case 0:e=45959;break;case 1:e=45955;break;case 2:e=45950;break;case 3:e=45944;break;case 4:e=45940;break;default:e=45928}ar[c>>2]=e,Pn(r,46148,c),ar[l>>2]=cr[A+16>>0],Pn(r,46184,l),ar[u>>2]=cr[A+17>>0],Pn(r,46220,u),ar[b>>2]=cr[A+18>>0],Pn(r,46260,b),ar[s>>2]=cr[A+19>>0],Pn(r,46296,s),ar[D>>2]=cr[A+20>>0],Pn(r,46332,D)}D=A+21|0,ar[d>>2]=cr[D>>0],Pn(r,46368,d),0|tr[D>>0]&&(ar[k>>2]=cr[A+22>>0],Pn(r,46402,k),ar[h>>2]=cr[A+23>>0],Pn(r,46445,h));ar[w>>2]=cr[A+24>>0],Pn(r,46488,w),ar[v>>2]=cr[A+25>>0],Pn(r,46524,v),ar[m>>2]=cr[A+26>>0],Pn(r,46560,m),ar[g>>2]=cr[A+27>>0],Pn(r,46596,g),ar[Z>>2]=ar[A+28>>2],Pn(r,46632,Z),ar[p>>2]=ar[A+32>>2],Pn(r,46668,p),ar[y>>2]=ar[A+36>>2],Pn(r,46704,y),ar[J>>2]=ar[A+40>>2],Pn(r,46740,J),J=A+44|0,ar[B>>2]=cr[J>>0],Pn(r,46776,B),0|tr[J>>0]&&(ar[E>>2]=ar[A+48>>2],Pn(r,46812,E),ar[X>>2]=ar[A+52>>2],Pn(r,46848,X));ar[W>>2]=cr[A+56>>0],Pn(r,46884,W),ar[I>>2]=ar[A+60>>2],Pn(r,46926,I),ar[M>>2]=cr[A+64>>0],Pn(r,46968,M),M=A+65|0,ar[C>>2]=cr[M>>0],Pn(r,47006,C),0|tr[M>>0]&&(ar[G>>2]=cr[A+66>>0],Pn(r,47047,G),ar[V>>2]=cr[A+67>>0],Pn(r,47088,V),ar[F>>2]=cr[A+68>>0],Pn(r,47136,F),ar[R>>2]=lr[A+70>>1],Pn(r,47177,R),ar[N>>2]=cr[A+72>>0],Pn(r,47218,N),ar[t>>2]=cr[A+73>>0],Pn(r,47259,t),ar[o>>2]=cr[A+74>>0],Pn(r,47300,o),ar[a>>2]=cr[A+75>>0],Pn(r,47341,a)),ur=_}(A+4904|0,e),ur=L}(r,e),hb(0|(f=A+11096+(5168*(e=0|ar[r+472>>2])|0)|0),0|r,4717),(0|f)!=(0|r)&&Ke(A+11096+(5168*e|0)+4720|0,0|ar[r+4720>>2],0|ar[r+4724>>2]),hb(A+11096+(5168*e|0)+4732|0,r+4732|0,436),f=0,Ac(r),ur=i,0|f)}function Ke(A,e,r){var i,f,n,t=0,o=0,a=0,c=0,l=0;if((a=(0|(c=(i=r|=0)-(e|=0)|0))/100|0)>>>0<=(((t=0|ar[(f=(A|=0)+8|0)>>2])-(n=l=0|ar[A>>2])|0)/100|0)>>>0)return 0|(t=(o=a=(A=(o=((0|ar[(c=A+4|0)>>2])-l|0)/100|0)>>>0<a>>>0)?e+(100*o|0)|0:r)-e|0)&&wb(0|l,0|e,0|t),r=n+(100*((0|t)/100|0)|0)|0,A?!((0|(t=i-o|0))<=0)&&(hb(0|ar[c>>2],0|a,0|t),void(ar[c>>2]=(0|ar[c>>2])+(100*((t>>>0)/100|0)|0))):(0|(t=0|ar[c>>2]))!=(0|r)&&void(ar[c>>2]=t+(100*~(((t+-100-r|0)>>>0)/100|0)|0));(o=l)&&((0|(r=0|ar[(t=A+4|0)>>2]))!=(0|n)&&(ar[t>>2]=r+(100*~(((r+-100-l|0)>>>0)/100|0)|0)),vu(o),ar[f>>2]=0,ar[t>>2]=0,t=ar[A>>2]=0),42949672<a>>>0&&zl(),t=(l=(0|t)/100|0)<<1,42949672<(t=l>>>0<21474836?t>>>0<a>>>0?a:t:42949672)>>>0&&zl(),r=0|hu(100*t|0),ar[(o=A+4|0)>>2]=r,ar[A>>2]=r,ar[f>>2]=r+(100*t|0),(0|c)<=0||(hb(0|r,0|e,0|c),ar[o>>2]=r+(100*((c>>>0)/100|0)|0))}function qe(A,e){A|=0,e|=0;var r,i,f,n=0;return ur=(f=ur)+4400|0,Ia(i=f),r=0|function(A,e,r){e|=0,r|=0;var i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;if(Ca(A|=0,0),u=0|it(e),63<(0|(tr[A+1>>0]=u))|-99999==(0|u))return er(r+4|0,1009,0),(r=0)|r;if(u=0|it(e),63<(0|(tr[(n=A+2|0)>>0]=u))|-99999==(0|u))return er(r+4|0,1010,0),(r=0)|r;if(u=255&(0|At(e,1)),tr[A+3>>0]=u,u=255&(0|At(e,1)),tr[A+31>>0]=u,u=255&(0|At(e,3)),tr[A+4132>>0]=u,u=255&(0|At(e,1)),tr[A+4>>0]=u,u=255&(0|At(e,1)),tr[A+5>>0]=u,u=0|it(e),i=255&u,tr[(f=A+6|0)>>0]=i,-99999==(0|u))return er(r+4|0,1006,0),(r=0)|r;if(tr[f>>0]=i+1<<24>>24,u=0|it(e),i=255&u,tr[(f=A+7|0)>>0]=i,-99999==(0|u))return er(r+4|0,1006,0),(r=0)|r;if(tr[f>>0]=i+1<<24>>24,l=0|tr[n>>0],!(0|tr[(u=r+11096+(5168*l|0)|0)>>0]))return er(r+4|0,1010,0),(r=0)|r;if(i=0|ft(e),-99999==(0|(ar[(f=A+8|0)>>2]=i)))return er(r+4|0,1006,0),(r=0)|r;if(ar[f>>2]=i+26,c=255&(0|At(e,1)),tr[A+12>>0]=c,c=255&(0|At(e,1)),tr[A+13>>0]=c,c=255&(0|At(e,1)),(tr[A+14>>0]=c)<<24>>24){if(c=0|it(e),-99999==(0|(ar[A+16>>2]=c)))return er(r+4|0,1006,0),(r=0)|r}else ar[A+16>>2]=0;if(c=0|ft(e),-99999==(0|(ar[A+20>>2]=c)))return er(r+4|0,1006,0),(r=0)|r;if(c=0|ft(e),-99999==(0|(ar[A+24>>2]=c)))return er(r+4|0,1006,0),(r=0)|r;if(a=255&(0|At(e,1)),tr[A+28>>0]=a,a=255&(0|At(e,1)),tr[A+29>>0]=a,a=255&(0|At(e,1)),tr[A+30>>0]=a,a=255&(0|At(e,1)),tr[A+32>>0]=a,a=255&(0|At(e,1)),tr[(c=A+34|0)>>0]=a,a=255&(0|At(e,1)),tr[A+33>>0]=a,0|tr[c>>0]){if(i=0|it(e),-99999==(0|(ar[(a=A+36|0)>>2]=i))|9<(0|i))return er(r+4|0,1006,0),(r=0)|r;if(ar[a>>2]=i+1,i=0|it(e),-99999==(0|(ar[(c=A+40|0)>>2]=i))|9<(0|i))return er(r+4|0,1006,0),(r=0)|r;ar[c>>2]=i+1,o=0|At(e,1),tr[A+44>>0]=o;do{if(!(255&o)){n=0|ar[r+11096+(5168*l|0)+5056>>2],f=0|ar[r+11096+(5168*l|0)+5064>>2],o=0|ar[a>>2],i=o+-1|0;A:do{if(1<(0|o)){for(o=0;i=0|it(e),-99999!=(0|(ar[(t=A+4172+(o<<2)|0)>>2]=i));)if(i=i+1|0,ar[t>>2]=i,n=n-i|0,o=o+1|0,(0|(i=(0|ar[a>>2])-1|0))<=(0|o))break A;return er(r+4|0,1006,0),(r=0)|r}}while(0);if((0|n)<1)return(r=0)|r;ar[A+4172+(i<<2)>>2]=n,a=0|ar[c>>2],i=a+-1|0;A:do{if(1<(0|a)){for(t=0;i=0|it(e),-99999!=(0|(ar[(n=A+4212+(t<<2)|0)>>2]=i));)if(i=i+1|0,ar[n>>2]=i,f=f-i|0,t=t+1|0,(0|(i=(0|ar[c>>2])-1|0))<=(0|t))break A;return er(r+4|0,1006,0),(r=0)|r}}while(0);if((0|f)<1)return(r=0)|r;ar[A+4212+(i<<2)>>2]=f;break}}while(0);i=255&(0|At(e,1))}else ar[A+36>>2]=1,ar[A+40>>2]=1,tr[A+44>>0]=1,i=0;tr[A+45>>0]=i,ar[(i=A+52|0)>>2]=0,ar[(n=A+56|0)>>2]=0,c=255&(0|At(e,1)),tr[A+46>>0]=c,c=255&(0|At(e,1)),tr[A+47>>0]=c;do{if(c<<24>>24){if(c=255&(0|At(e,1)),tr[A+48>>0]=c,c=255&(0|At(e,1)),!((tr[A+49>>0]=c)<<24>>24)){if(f=0|ft(e),-99999==(0|(ar[i>>2]=f)))return er(r+4|0,1006,0),(r=0)|r;if(ar[i>>2]=f<<1,i=0|ft(e),-99999==(0|(ar[n>>2]=i)))return er(r+4|0,1006,0),(r=0)|r;ar[n>>2]=i<<1;break}}else tr[A+48>>0]=0,tr[A+49>>0]=0}while(0);if(c=0|At(e,1),i=255&c,tr[A+60>>0]=i,0!=(255&c|0)&&0==(0|tr[r+11096+(5168*l|0)+636>>0]))return er(r+4|0,1006,0),(r=0)|r;if(i<<24>>24){if(0|(i=0|ec(e,u,A+61|0,1)))return er(r+4|0,i,0),(r=0)|r}else hb(A+61|0,r+11096+(5168*l|0)+638|0,4064);if(i=255&(0|At(e,1)),tr[A+4125>>0]=i,i=0|it(e),-99999==(0|(ar[(f=A+4128|0)>>2]=i)))return er(r+4|0,1006,0),(r=0)|r;if(ar[f>>2]=i+2,(0|i)>((0|ar[r+11096+(5168*l|0)+612>>2])-2+(0|ar[r+11096+(5168*l|0)+616>>2])|0))return(r=0)|r;return l=255&(0|At(e,1)),tr[A+4133>>0]=l,l=255&(0|At(e,1)),!((tr[A+4134>>0]=l)<<24>>24&&(c=255&(0|At(e,1)),tr[(l=A+4135|0)>>0]=c,c=255&(0|At(e,1)),tr[A+4136>>0]=c,c=255&(0|At(e,6)),tr[A+4137>>0]=c,0|tr[l>>0]))||0|function(A,e,r,i){A|=0,e|=0,r|=0;var f,n=0,t=0,o=0;f=0|tr[2+(i|=0)>>0],0|tr[i+13>>0]&&(t=2+(0|it(e))&255,tr[A>>0]=t);t=0!=(0|At(e,1)),tr[A+1>>0]=1&t,3==(0|ar[(n=r+11096+(5168*f|0)+5012|0)>>2])|1^t||er(r+4|0,1006,0);o=0!=(0|At(e,1)),i=1&o,tr[(t=A+2|0)>>0]=i,0!=(0|ar[n>>2])|1^o||(er(r+4|0,1006,0),i=0|tr[t>>0]);A:do{if(i<<24>>24){if(-99999!=(0|(i=0|it(e)))&&(0|i)<=(0|ar[r+11096+(5168*f|0)+616>>2])){if(tr[A+3>>0]=i,-99999==(0|(i=0|it(e)))|5<(0|i))return er(r+4|0,1006,0),(o=0)|o;if(o=i+1|0,!(255&(tr[(t=A+4|0)>>0]=o)))break;for(n=0;;){if(24<((i=0|ft(e))+12|0)>>>0){i=15;break}if(tr[A+5+n>>0]=i,24<((i=0|ft(e))+12|0)>>>0){i=17;break}if(tr[A+11+n>>0]=i,(0|(n=n+1|0))>=(0|cr[t>>0]))break A}if(15==(0|i))return er(r+4|0,1006,0),(o=0)|o;if(17==(0|i))return er(r+4|0,1006,0),(o=0)|o}return er(r+4|0,1006,0),(o=0)|o}}while(0);if(-99999!=(0|(i=0|it(e)))&&(o=0|ar[r+11096+(5168*f|0)+4996>>2],(0|i)<=(0|((0|o)<10?0:o+-10|0))))return tr[A+17>>0]=i,-99999!=(0|(i=0|it(e)))&&(o=0|ar[r+11096+(5168*f|0)+5004>>2],(0|i)<=(0|((0|o)<10?0:o+-10|0)))?(tr[A+18>>0]=i,0|(o=1)):(er(r+4|0,1006,0),(o=0)|o);return er(r+4|0,1006,0),(o=0)|o}(A+4138|0,e,r,A)?(function(A,e){A|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;if(t=ur,y=0|ar[(n=5040+(e|=0)|0)>>2],ar[A+4160>>2]=y-(0|ar[A+16>>2]),ar[A+4164>>2]=y-(0|cr[A+4141>>0]),ar[A+4168>>2]=cr[A+4138>>0],y=A+36|0,0|tr[A+44>>0]){if(a=0|ar[y>>2],ur=(l=ur)+(15+(4+(a<<2)|0)&-16)|0,0<=(0|a)){for(c=0|ar[e+5056>>2],o=0;B=(0|br(c,o))/(0|a)|0,ar[l+(o<<2)>>2]=B,(0|o)!=(0|a);)o=o+1|0;if(0<(0|a))for(a=(o=0)|ar[l>>2];p=a,a=0|ar[l+((o=(B=o)+1|0)<<2)>>2],ar[A+4172+(B<<2)>>2]=a-p,(0|o)<(0|ar[y>>2]););}if(a=0|ar[(l=A+40|0)>>2],ur=(u=ur)+(15+(4+(a<<2)|0)&-16)|0,0<=(0|a)){for(c=0|ar[e+5064>>2],o=0;B=(0|br(c,o))/(0|a)|0,ar[u+(o<<2)>>2]=B,(0|o)!=(0|a);)o=o+1|0;if(0<(0|a))for(a=(o=0)|ar[u>>2];p=a,a=0|ar[u+((o=(B=o)+1|0)<<2)>>2],ar[A+4212+(B<<2)>>2]=a-p,(0|o)<(0|ar[l>>2]););}}if(ar[A+4252>>2]=0,0<(0|ar[y>>2]))for(a=o=0;a=(0|ar[A+4172+(o<<2)>>2])+a|0,ar[A+4252+((o=o+1|0)<<2)>>2]=a,(0|o)<(0|ar[y>>2]););if(ar[A+4296>>2]=0,0<(0|ar[(p=A+40|0)>>2]))for(a=o=0;o=(0|ar[A+4212+(a<<2)>>2])+o|0,ar[A+4296+((a=a+1|0)<<2)>>2]=o,(0|a)<(0|ar[p>>2]););B=A+4340|0,a=0|ar[(v=e+5072|0)>>2],u=0|ar[(o=A+4344|0)>>2],l=0|ar[B>>2],a>>>0<=(c=u-l>>2)>>>0?a>>>0<c>>>0&&(0|u)!=(0|(b=l+(a<<2)|0))&&(ar[o>>2]=u+(~((u+-4-b|0)>>>2)<<2)):(Va(B,a-c|0),a=0|ar[v>>2]);w=A+4352|0,l=0|ar[(u=A+4356|0)>>2],c=0|ar[w>>2],a>>>0<=(o=l-c>>2)>>>0?a>>>0<o>>>0&&(0|l)!=(0|(s=c+(a<<2)|0))&&(ar[u>>2]=l+(~((l+-4-s|0)>>>2)<<2)):(Va(w,a-o|0),a=0|ar[v>>2]);i=A+4364|0,u=0|ar[(o=A+4368|0)>>2],l=0|ar[i>>2],a>>>0<=(c=u-l>>2)>>>0?a>>>0<c>>>0&&(0|u)!=(0|(d=l+(a<<2)|0))&&(ar[o>>2]=u+(~((u+-4-d|0)>>>2)<<2)):(Va(i,a-c|0),a=0|ar[v>>2]);r=A+4376|0,u=0|ar[(o=A+4380|0)>>2],l=0|ar[r>>2],a>>>0<=(c=u-l>>2)>>>0?a>>>0<c>>>0&&(0|u)!=(0|(k=l+(a<<2)|0))&&(ar[o>>2]=u+(~((u+-4-k|0)>>>2)<<2)):Va(r,a-c|0);f=A+4388|0,o=0|ar[e+5096>>2],u=0|ar[(a=A+4392|0)>>2],l=0|ar[f>>2],o>>>0<=(c=u-l>>2)>>>0?o>>>0<c>>>0&&(0|u)!=(0|(h=l+(o<<2)|0))&&(ar[a>>2]=u+(~((u+-4-h|0)>>>2)<<2)):Va(f,o-c|0);A:do{if(0<(0|ar[v>>2])){for(d=e+5056|0,s=0;;){if(h=0|ar[d>>2],k=(0|s)%(0|h)|0,h=(0|s)/(0|h)|0,0<(0|(c=0|ar[y>>2])))for(a=0,o=-1;o=(0|k)<(0|ar[A+4252+(a<<2)>>2])?o:a,(0|(a=a+1|0))<(0|c););else o=-1;if(0<(0|(l=0|ar[p>>2])))for(c=0,a=-1;a=(0|h)<(0|ar[A+4296+(c<<2)>>2])?a:c,(0|(c=c+1|0))<(0|l););else a=-1;if(b=(0|ar[B>>2])+(s<<2)|0,(ar[b>>2]=0)<(0|o))for(u=A+4212+(a<<2)|0,c=l=0;c=c+(0|br(0|ar[A+4172+(l<<2)>>2],0|ar[u>>2]))|0,ar[b>>2]=c,(0|(l=l+1|0))!=(0|o););else c=0;if(0<(0|a))for(l=0;c=c+(0|br(0|ar[A+4212+(l<<2)>>2],0|ar[d>>2]))|0,ar[b>>2]=c,(0|(l=l+1|0))!=(0|a););if((a|o|0)<=-1)break;if(Z=c+(0|br(h-(0|ar[A+4296+(a<<2)>>2])|0,0|ar[A+4172+(o<<2)>>2]))|0,ar[b>>2]=Z,Z=k-(0|ar[A+4252+(o<<2)>>2])+Z|0,ar[b>>2]=Z,(0|(s=(ar[(0|ar[w>>2])+(Z<<2)>>2]=s)+1|0))>=(0|ar[v>>2]))break A}sr(37364,37385,618,37392)}}while(0);if(0<(0|(o=0|ar[p>>2]))){Z=e+5056|0,a=(c=l=0)|ar[y>>2];do{if(0<(0|a)){g=A+4296+(c<<2)|0,w=l,o=(v=0)|ar[(m=A+4296+((c=c+1|0)<<2)|0)>>2];do{if(u=0|ar[g>>2],v=(l=v)+1|0,(0|u)<(0|o)){k=A+4252+(l<<2)|0,a=0|ar[(h=A+4252+(v<<2)|0)>>2];do{if((0|(d=0|ar[k>>2]))<(0|a)){for(l=0|ar[B>>2],b=0|ar[i>>2],s=0|ar[r>>2],o=d;a=l+((0|br(0|ar[Z>>2],u))+o<<2)|0,ar[b+(ar[a>>2]<<2)>>2]=w,a=s+((0|br(0|ar[Z>>2],u))+o<<2)|0,ar[a>>2]=w,o=o+1|0,a=0|ar[h>>2],(0|o)<(0|a););o=0|ar[m>>2]}u=u+1|0}while((0|u)<(0|o));a=0|ar[y>>2]}w=w+1|0}while((0|v)<(0|a));l=w,o=0|ar[p>>2]}else c=c+1|0}while((0|c)<(0|o))}if((0|(o=0|ar[(k=e+5092|0)>>2]))<=0)return ur=t;w=e+5100|0,d=e+5056|0,a=0|ar[(h=e+5088|(s=0))>>2];do{if(0<(0|a)){u=0|ar[B>>2],b=0|ar[f>>2],l=0;do{if(e=0|ar[w>>2],A=0|ar[n>>2],y=u+((0|br(0|ar[d>>2],s<<e>>A))+(l<<e>>A)<<2)|0,o=b+((0|br(a,s))+l<<2)|0,ar[o>>2]=ar[y>>2]<<(A-e<<1),o=0|ar[n>>2],(0|(a=0|ar[w>>2]))<(0|o))for(c=o-a|0,o=a=0;o=(0==((e=1<<a)&s|0)?0:e<<1<<a)+o+(0==(e&l|0)?0:e<<a)|0,(0|(a=a+1|0))<(0|c););else o=0;a=b+((0|br(0|ar[h>>2],s))+l<<2)|0,ar[a>>2]=(0|ar[a>>2])+o,l=l+1|0,a=0|ar[h>>2]}while((0|l)<(0|a));o=0|ar[k>>2]}s=s+1|0}while((0|s)<(0|o));ur=t}(A,u),tr[A>>0]=1,0|(r=1)):(r=0)|r}(i,e,A),-1<(0|(e=0|ar[A+524>>2]))&&function(A,e){A|=0;var r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j,H,x,P=0,L=0,K=0,q=0,$=0,AA=0;switch(ur=(x=ur)+400|0,U=x+392|0,T=x+384|0,M=x+376|0,J=x+368|0,D=x+360|0,Q=x+352|0,Y=x+344|0,_=x+336|0,N=x+328|0,R=x+320|0,F=x+312|0,V=x+304|0,G=x+296|0,C=x+288|0,AA=x+280|0,H=x+272|0,j=x+264|0,$=x+256|0,z=x+248|0,O=x+240|0,S=x+232|0,I=x+224|0,W=x+216|0,X=x+208|0,B=x+200|0,y=x+192|0,p=x+184|0,Z=x+176|0,g=x+168|0,v=x+160|0,w=x+152|0,h=x+144|0,k=x+136|0,d=x+128|0,s=x+120|0,b=x+112|0,u=x+104|0,l=x+96|0,c=x+88|0,o=x+80|0,t=x+72|0,n=x+64|0,f=x+56|0,i=x+48|0,r=x+40|0,q=x+32|0,m=x+24|0,a=x+16|0,K=x+8|0,L=x,0|(e|=0)){case 1:P=10172;break;case 2:P=10676;break;default:return ur=x}Pn(E=0|ar[P>>2],37411,L),ar[K>>2]=tr[A+1>>0],Pn(E,37452,K),ar[a>>2]=tr[A+2>>0],Pn(E,37485,a),ar[m>>2]=tr[A+3>>0],Pn(E,37518,m),ar[q>>2]=tr[A+4>>0],Pn(E,37562,q),ar[r>>2]=tr[A+5>>0],Pn(E,37595,r),ar[i>>2]=tr[A+6>>0],Pn(E,37628,i),ar[f>>2]=tr[A+7>>0],Pn(E,37664,f),ar[n>>2]=ar[A+8>>2],Pn(E,37700,n),ar[t>>2]=tr[A+12>>0],Pn(E,37733,t),ar[o>>2]=tr[A+13>>0],Pn(E,37766,o),q=A+14|0,ar[c>>2]=tr[q>>0],Pn(E,37799,c),0|tr[q>>0]&&(ar[l>>2]=ar[A+16>>2],Pn(E,37832,l));if(ar[u>>2]=ar[A+20>>2],Pn(E,37865,u),ar[b>>2]=ar[A+24>>2],Pn(E,37900,b),ar[s>>2]=tr[A+28>>0],Pn(E,37935,s),ar[d>>2]=tr[A+29>>0],Pn(E,37982,d),ar[k>>2]=tr[A+30>>0],Pn(E,38017,k),ar[h>>2]=tr[A+31>>0],Pn(E,38052,h),ar[w>>2]=tr[A+32>>0],Pn(E,38087,w),q=A+34|0,ar[v>>2]=tr[q>>0],Pn(E,38122,v),ar[g>>2]=tr[A+33>>0],Pn(E,38157,g),0|tr[q>>0]){if(L=A+36|0,ar[Z>>2]=ar[L>>2],Pn(E,38195,Z),K=A+40|0,ar[p>>2]=ar[K>>2],Pn(E,38221,p),ar[y>>2]=tr[A+44>>0],Pn(E,38247,y),Pn(E,38273,B),0<=(0|ar[L>>2]))for(P=0;ar[I>>2]=ar[A+4252+(P<<2)>>2],Pn(E,38320,I),(0|P)<(0|ar[L>>2]);)P=P+1|0;if(Pn(E,45728,X),Pn(E,38298,W),0<=(0|ar[K>>2]))for(P=0;ar[z>>2]=ar[A+4296+(P<<2)>>2],Pn(E,38320,z),(0|P)<(0|ar[K>>2]);)P=P+1|0;Pn(E,45728,S),ar[O>>2]=tr[A+45>>0],Pn(E,38325,O)}ar[$>>2]=tr[A+46>>0],Pn(E,38369,$),$=A+47|0,ar[j>>2]=tr[$>>0],Pn(E,38417,j),0|tr[$>>0]&&(ar[H>>2]=tr[A+48>>0],Pn(E,38461,H),ar[AA>>2]=tr[A+49>>0],Pn(E,38506,AA),ar[C>>2]=ar[A+52>>2],Pn(E,38546,C),ar[G>>2]=ar[A+56>>2],Pn(E,38564,G));ar[V>>2]=tr[A+60>>0],Pn(E,38582,V),ar[F>>2]=tr[A+4125>>0],Pn(E,38622,F),ar[R>>2]=ar[A+4128>>2],Pn(E,38659,R),ar[N>>2]=tr[A+4132>>0],Pn(E,38696,N),ar[_>>2]=tr[A+4133>>0],Pn(E,38733,_),ar[Y>>2]=tr[A+4134>>0],Pn(E,38783,Y),AA=A+4135|0,ar[Q>>2]=tr[AA>>0],Pn(E,38819,Q),ar[D>>2]=tr[A+4136>>0],Pn(E,38855,D),ar[J>>2]=tr[A+4137>>0],Pn(E,38891,J),ar[M>>2]=ar[A+4160>>2],Pn(E,38927,M),ar[T>>2]=ar[A+4164>>2],Pn(E,38963,T),ar[U>>2]=ar[A+4168>>2],Pn(E,39004,U),0|tr[AA>>0]&&function(A,e){A|=0;var r,i,f,n,t,o,a,c,l,u,b=0,s=0,d=0;switch(ur=(u=ur)+80|0,l=u+72|0,c=u+64|0,a=u+56|0,o=u+48|0,n=u+40|0,s=u+32|0,t=u+24|0,b=u+16|0,f=u+8|0,i=u,0|(e|=0)){case 1:e=10172;break;case 2:e=10676;break;default:return ur=u}if(Pn(r=0|ar[e>>2],36905,i),ar[f>>2]=cr[A>>0],Pn(r,36948,f),ar[b>>2]=cr[A+1>>0],Pn(r,36994,b),b=A+2|0,ar[t>>2]=cr[b>>0],Pn(r,37040,t),0|tr[b>>0]&&(ar[s>>2]=cr[A+3>>0],Pn(r,37086,s),d=A+4|0,ar[n>>2]=cr[d>>0],Pn(r,37132,n),0|tr[d>>0]))for(e=0;s=0|tr[A+5+e>>0],ar[o>>2]=e,ar[4+o>>2]=s,Pn(r,37178,o),s=0|tr[A+11+e>>0],ar[a>>2]=e,ar[4+a>>2]=s,Pn(r,37225,a),(0|(e=e+1|0))<(0|cr[d>>0]););ar[c>>2]=cr[A+17>>0],Pn(r,37272,c),ar[l>>2]=cr[A+18>>0],Pn(r,37318,l),ur=u}(A+4138|0,e),ur=x}(i,e),r?(hb(0|(n=A+93784+(4400*(e=0|tr[i+1>>0])|0)|0),0|i,4340),ur=(n=((0|n)==(0|i)||($e(A+93784+(4400*e|0)+4340|0,0|ar[i+4340>>2],0|ar[i+4344>>2]),$e(A+93784+(4400*e|0)+4352|0,0|ar[i+4352>>2],0|ar[i+4356>>2]),$e(A+93784+(4400*e|0)+4364|0,0|ar[i+4364>>2],0|ar[i+4368>>2]),$e(A+93784+(4400*e|0)+4376|0,0|ar[i+4376>>2],0|ar[i+4380>>2]),$e(A+93784+(4400*e|0)+4388|0,0|ar[i+4388>>2],0|ar[i+4392>>2])),r?0:1006),Ga(i),f),0|n):(A=r?0:1006,Ga(i),ur=f,0|A)}function $e(A,e,r){var i,f,n,t=0,o=0,a=0,c=0,l=0;if((a=(c=(i=r|=0)-(e|=0)|0)>>2)>>>0<=(t=0|ar[(f=(A|=0)+8|0)>>2])-(n=l=0|ar[A>>2])>>2>>>0)return 0|(r=(t=(o=a=(A=(o=(0|ar[(c=A+4|0)>>2])-l>>2)>>>0<a>>>0)?e+(o<<2)|0:r)-e|0)>>2)&&wb(0|l,0|e,0|t),r=n+(r<<2)|0,A?!((0|(t=i-o|0))<=0)&&(hb(0|ar[c>>2],0|a,0|t),void(ar[c>>2]=(0|ar[c>>2])+(t>>>2<<2))):(0|(t=0|ar[c>>2]))!=(0|r)&&void(ar[c>>2]=t+(~((t+-4-r|0)>>>2)<<2));(o=l)&&((0|(r=0|ar[(t=A+4|0)>>2]))!=(0|n)&&(ar[t>>2]=r+(~((r+-4-l|0)>>>2)<<2)),vu(o),ar[f>>2]=0,ar[t>>2]=0,t=ar[A>>2]=0),1073741823<a>>>0&&zl(),l=t>>1,1073741823<(t=t>>2>>>0<536870911?l>>>0<a>>>0?a:l:1073741823)>>>0&&zl(),r=0|hu(t<<2),ar[(o=A+4|0)>>2]=r,ar[A>>2]=r,ar[f>>2]=r+(t<<2),(0|c)<=0||(hb(0|r,0|e,0|c),ar[o>>2]=r+(c>>>2<<2))}function Ar(A,e){e|=0;var r,i,f,n=0,t=0,o=0,a=0,c=0,l=0;r=(A|=0)+4|0,i=0|ar[A>>2],53687091<(n=(o=(0|(f=(0|ar[r>>2])-i|0))/80|0)+1|0)>>>0&&zl(),c=(a=((0|ar[(l=A+8|0)>>2])-i|0)/80|0)<<1,n=a>>>0<26843545?c>>>0<n>>>0?n:c:53687091;do{if(n){if(!(53687091<n>>>0)){t=0|hu(80*n|0);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else t=0}while(0);for(a=t+(80*n|0)|0,n=e,t=(o=c=t+(80*o|0)|0)+80|0;ar[o>>2]=ar[n>>2],n=n+4|0,(0|(o=o+4|0))<(0|t););n=c+(80*((0|f)/-80|0)|0)|0,0<(0|f)&&hb(0|n,0|i,0|f),ar[A>>2]=n,ar[r>>2]=c+80,ar[l>>2]=a,i&&vu(i)}function er(A,e,r){A|=0,e|=0,r|=0;var i=0,f=0;A:do{if(r){f=0|ar[(i=A+164|0)>>2];do{if(0<(0|f)){for(r=0;;){if((0|ar[A+84+(r<<2)>>2])==(0|e)){r=10;break}if((0|f)<=(0|(r=r+1|0))){r=5;break}}if(5==(0|r)){if((0|f)<20)break;break A}if(10==(0|r))return}}while(0);ar[i>>2]=f+1,ar[A+84+(f<<2)>>2]=e}}while(0);20==(0|(r=0|ar[(i=A+80|0)>>2]))?(e=1001,r=19):ar[i>>2]=r+1,ar[A+(r<<2)>>2]=e}function rr(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;if(ur=(t=ur)+16|0,f=t+4|0,b=t+8|0,n=t,s=0|hu(1356),o=s,ar[776+(o|=0)>>2]=0,ar[o+780>>2]=0,ar[o+784>>2]=0,st(o+1332|0),ar[o+1344>>2]=0,ar[o+1348>>2]=0,ar[o+1352>>2]=0,La(o),l=0|function(A,e,r,i){A|=0,e|=0,r|=0;var f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0;tr[(i|=0)>>0]=0,La(A),tr[(l=A+12|0)>>0]=0,w=255&(0|At(e,1)),tr[(c=A+4|0)>>0]=w,0|tr[r+377214>>0]&&(w=255&(0|At(e,1)),tr[A+5>>0]=w);if(w=0|it(e),64<(0|(ar[A+8>>2]=w))|-99999==(0|w))return er(r+4|0,1009,0),(i=0)|i;if(!(0|tr[r+93784+(4400*w|0)>>0]))return er(r+4|0,1009,0),(i=0)|i;if(n=0|tr[r+93784+(4400*w|0)+2>>0],!(0|tr[(u=r+11096+(5168*n|0)|0)>>0]))return er(r+4|0,1010,0),tr[i>>0]=0,(i=0)|i;if(0|tr[c>>0])o=t=0,h=23;else{for(t=0|tr[r+93784+(4400*w|0)+3>>0]?255&(0|At(e,1)):0,tr[l>>0]=t,o=0|ar[r+11096+(5168*n|0)+5072>>2],t=0;(1<<t|0)<(0|o);)t=t+1|0;if(t=0|At(e,t),0|tr[l>>0]){if(!t)return tr[i>>0]=0,er(r+4|0,1021,0),(i=0)|i;if(!(o=0|ar[r+376228>>2]))return 0|(i=16);hb(0|A,0|o,776),(a=(0|o)==(0|A))||$e(A+776|0,0|ar[o+776>>2],0|ar[o+780>>2]),hb(A+788|0,o+788|0,544),gt(A+1332|0,o+1332|0),tr[A+1340>>0]=0|tr[o+1340>>0],a||$e(A+1344|0,0|ar[o+1344>>2],0|ar[o+1348>>2]),tr[c>>0]=0,o=1,h=23}else o=0}23==(0|h)&&(tr[l>>0]=o);if(0<=(0|(ar[(f=A+16|0)>>2]=t))&&(0|t)<(0|ar[r+11096+(5168*n|0)+5072>>2])){if(!(o<<24>>24)){if(0<(0|tr[(o=r+93784+(4400*w|0)+4132|0)>>0]))for(t=0;et(e,1),(0|(t=t+1|0))<(0|tr[o>>0]););if(s=0|it(e),2<(0|(ar[(d=A+20|0)>>2]=s))|-99999==(0|s))return er(r+4|0,1007,0),tr[i>>0]=0,(i=0)|i;if(t=0|tr[r+93784+(4400*w|0)+31>>0]?255&(0|At(e,1)):1,tr[A+24>>0]=t,1==(0|tr[r+11096+(5168*n|0)+480>>0])&&(s=255&(0|At(e,2)),tr[A+25>>0]=s),ar[(t=A+28|0)>>2]=0,(((tr[(o=A+32|0)>>0]=0)|tr[r+377212>>0])-19&255)<2)ar[t>>2]=0,ar[A+140>>2]=0,ar[A+144>>2]=0,t=0;else{b=0|At(e,0|ar[(s=r+11096+(5168*n|0)+520|0)>>2]),ar[t>>2]=b,b=255&(0|At(e,1)),tr[o>>0]=b;do{if(b<<24>>24){for(a=r+11096+(5168*n|0)+4720|0,t=0|ar[(u=r+11096+(5168*n|0)+4724|0)>>2],c=0|ar[a>>2],l=(t-c|0)/100|0,o=0;(1<<o|0)<(0|l);)o=o+1|0;if(0<(0|o)?(c=0|At(e,o),o=0|ar[a>>2],t=0|ar[u>>2]):(o=c,c=0),(0|(ar[A+136>>2]=c))<((t-o|0)/100|0)){for(ar[A+808>>2]=c,t=o+(100*c|0)|0,o=(a=A+812|0)+100|0;or[a>>1]=0|or[t>>1],t=t+2|0,(0|(a=a+2|0))<(0|o););break}return er(r+4|0,1015,0),0|(i=8)}for(a=r+11096+(5168*n|0)+4720|0,Zc(r+4|0,u,e,t=A+34|0,((0|ar[(o=r+11096+(5168*n|0)+4724|0)>>2])-(0|ar[a>>2])|0)/100|0,a,1),ar[A+808>>2]=((0|ar[o>>2])-(0|ar[a>>2])|0)/100|0,o=(a=A+812|0)+100|0;or[a>>1]=0|or[t>>1],t=t+2|0,(0|(a=a+2|0))<(0|o););}while(0);A:do{if(0|tr[r+11096+(5168*n|0)+4732>>0]){l=r+11096+(5168*n|0)+4736|0;do{if(0<(0|ar[l>>2])){if(b=0|it(e),-99999!=(0|(ar[A+140>>2]=b)))break;return 0|(t=8)}ar[A+140>>2]=0}while(0);if(t=0|it(e),-99999==(0|(ar[(u=A+144|0)>>2]=t)))return 0|(i=8);if(o=0|ar[(b=A+140|0)>>2],((t=o+t|0)+(0|cr[A+908>>0])+(0|cr[A+909>>0])|0)>(0|ar[r+11096+(5168*n|0)+528+((0|tr[r+11096+(5168*n|0)+2>>0])-1<<2)>>2]))return er(r+4|0,1018,0),tr[i>>0]=0,(i=0)|i;if(!(0<(0|t))){t=0;break}for(c=t=0;;){if((0|c)<(0|o)){for(a=0|ar[l>>2],o=0;(1<<o|0)<(0|a);)o=o+1|0;if(a=0|At(e,o),tr[(o=A+148+c|0)>>0]=a,(0|(a&=255))>=(0|ar[l>>2]))break;ar[r+376232+(c<<2)>>2]=ar[r+11096+(5168*n|0)+4740+(a<<2)>>2],o=(0|cr[o>>0])+(r+11096+(5168*n|0)+4868)|0}else v=0|At(e,0|ar[s>>2]),ar[(a=A+164+(c<<2)|0)>>2]=v,v=255&(0|At(e,1)),tr[(o=A+228+c|0)>>0]=v,ar[r+376232+(c<<2)>>2]=ar[a>>2];if(v=0|tr[o>>0],ar[r+376296+(c<<2)>>2]=v<<24>>24,t=(v<<24>>24!=0&1)+t|0,v=255&(0|At(e,1)),(tr[A+244+c>>0]=v)<<24>>24){if(o=0|it(e),-99999==(0|(ar[A+260+(c<<2)>>2]=o))){t=8,h=189;break}}else ar[A+260+(c<<2)>>2]=0,o=0;do{if(c){if((0|c)==(0|ar[b>>2]))break;o=(0|ar[r+376360+(c+-1<<2)>>2])+o|0}}while(0);if(ar[r+376360+(c<<2)>>2]=o,c=c+1|0,o=0|ar[b>>2],(0|c)>=((0|ar[u>>2])+o|0))break A}return 189==(0|h)?0|t:(er(r+4|0,1023,0),tr[i>>0]=0,(v=0)|v)}ar[A+140>>2]=0,ar[A+144>>2]=0,t=0}while(0);o=0|tr[r+11096+(5168*n|0)+4900>>0]?255&(0|At(e,1)):0,tr[A+324>>0]=o}o=0|tr[r+11096+(5168*n|0)+4703>>0]?(v=255&(0|At(e,1)),tr[A+325>>0]=v,0|ar[r+11096+(5168*n|0)+5012>>2]?255&(0|At(e,1)):0):tr[A+325>>0]=0,tr[(u=A+326|0)>>0]=o,ar[(c=A+328|0)>>2]=0,ar[(l=A+332|0)>>2]=0;do{if((0|ar[d>>2])>>>0<2){v=255&(0|At(e,1)),tr[A+327>>0]=v;do{if(v<<24>>24){if(o=0|it(e),-99999==(0|(ar[c>>2]=o)))return er(r+4|0,1007,0),0|(v=8);if(o=o+1|0,ar[c>>2]=o,0|ar[d>>2])break;if(a=0|it(e),-99999==(0|(ar[l>>2]=a)))return er(r+4|0,1007,0),0|(v=8);o=0|ar[c>>2],a=a+1|0,h=86;break}o=0|tr[r+93784+(4400*w|0)+6>>0],ar[c>>2]=o,a=0|tr[r+93784+(4400*w|0)+7>>0],h=86}while(0);if(86==(0|h)&&(ar[l>>2]=a),16<(0|o))return 0|(v=8);if(16<(0|ar[l>>2]))return 0|(v=8);t=(0|cr[A+911>>0])+t|0,ar[A+912>>2]=t;do{if(1<(0|t)&&0!=(0|tr[r+93784+(4400*w|0)+4125>>0])){for(o=0;(1<<o|0)<(0|t);)o=o+1|0;v=255&(0|At(e,1)),tr[A+336>>0]=v;do{if(v<<24>>24){if(!(0<(0|ar[c>>2])))break;for(t=0;v=255&(0|At(e,o)),tr[A+338+t>>0]=v,(0|(t=t+1|0))<(0|ar[c>>2]););}}while(0);if(0|ar[d>>2]){tr[A+337>>0]=0;break}if(v=255&(0|At(e,1)),!((tr[A+337>>0]=v)<<24>>24))break;if(!(0<(0|ar[l>>2])))break;for(t=0;v=255&(0|At(e,o)),tr[A+354+t>>0]=v,(0|(t=t+1|0))<(0|ar[l>>2]););}else tr[A+336>>0]=0,tr[A+337>>0]=0}while(0);0|ar[d>>2]||(v=255&(0|At(e,1)),tr[A+370>>0]=v),t=0|tr[r+93784+(4400*w|0)+5>>0]?255&(0|At(e,1)):0,tr[A+371>>0]=t;do{if(0|tr[A+324>>0]){do{if(0|ar[d>>2])tr[(o=A+372|0)>>0]=1,t=1,h=108;else{if(t=255&(0|At(e,1)),(tr[(o=A+372|0)>>0]=t)<<24>>24){h=108;break}h=1<(0|ar[l>>2])?110:(t=0,113)}}while(0);108==(0|h)&&(h=1<(0|ar[c>>2])?110:113);do{if(110==(0|h)){if(a=0|it(e),-99999==(0|(ar[A+376>>2]=a)))return er(r+4|0,1007,0),0|(v=8);t=0|tr[o>>0];break}113==(0|h)&&(ar[A+376>>2]=0,a=0)}while(0);if(t<<24>>24){if((0|a)<(0|ar[c>>2]))break}else if((0|a)<(0|ar[l>>2]))break;return er(r+4|0,8,0),0|(v=8)}}while(0);h=0!=(0|tr[r+93784+(4400*w|0)+29>>0])&&1==(0|ar[d>>2])?122:120;do{if(120==(0|h)){if(!(0|tr[r+93784+(4400*w|0)+30>>0]))break;0|ar[d>>2]||(h=122)}}while(0);do{if(122==(0|h)){if(0|Pa(e,A,r))break;return er(r+4|0,8,0),0|(v=8)}}while(0);if(t=0|it(e),-99999==(0|(ar[A+736>>2]=t)))return er(r+4|0,1007,0),0|(v=8);ar[A+804>>2]=5-t;break}}while(0);if(v=0|ft(e),-99999==(0|(ar[A+740>>2]=v)))return er(r+4|0,1007,0),0|(v=8);do{if(0|tr[r+93784+(4400*w|0)+28>>0]){if(v=0|ft(e),-99999==(0|(ar[A+744>>2]=v)))return er(r+4|0,1007,0),0|(v=8);if(v=0|ft(e),-99999!=(0|(ar[A+748>>2]=v)))break;return er(r+4|0,1007,0),0|(v=8)}ar[A+744>>2]=0,ar[A+748>>2]=0}while(0);0|tr[r+93784+(4400*w|0)+4140>>0]&&(v=255&(0|At(e,1)),tr[A+752>>0]=v),t=0|tr[r+93784+(4400*w|0)+48>>0]?255&(0|At(e,1)):0,tr[A+753>>0]=t,ar[(o=A+756|0)>>2]=ar[r+93784+(4400*w|0)+52>>2],ar[(a=A+760|0)>>2]=ar[r+93784+(4400*w|0)+56>>2];do{if(t<<24>>24){if(v=255&(0|At(e,1)),(tr[A+754>>0]=v)<<24>>24)break;if(t=0|ft(e),-99999==(0|(ar[o>>2]=t)))return er(r+4|0,1007,0),0|(v=8);if(ar[o>>2]=t<<1,t=0|ft(e),-99999==(0|(ar[a>>2]=t)))return er(r+4|0,1007,0),0|(v=8);ar[a>>2]=t<<1;break}tr[A+754>>0]=0|tr[r+93784+(4400*w|0)+49>>0]}while(0);t=0|tr[r+93784+(4400*w|0)+46>>0];A:do{if(t<<24>>24){do{if(!(0|tr[A+325>>0])){if(0|tr[u>>0])break;if(0|tr[A+754>>0])break A}}while(0);t=255&(0|At(e,1))}else t=0}while(0);tr[A+764>>0]=t}0==(0|tr[(o=r+93784+(4400*w|0)+34|0)>>0])&&0==(0|tr[r+93784+(4400*w|0)+33>>0])?ar[A+768>>2]=0:h=155;A:do{if(155==(0|h)){if(t=0|it(e),-99999==(0|(ar[(b=A+768|0)>>2]=t)))return er(r+4|0,1007,0),0|(v=8);if(0|tr[r+93784+(4400*w|0)+33>>0]&&(((0|ar[f>>2])/(0|ar[r+11096+(5168*n|0)+5056>>2])|0)+t|0)>=(0|ar[r+11096+(5168*n|0)+5064>>2]))return er(r+4|0,1007,0),0|(v=8);if(0|tr[o>>0]&&(0|t)>(0|br(0|ar[r+93784+(4400*w|0)+40>>2],0|ar[r+93784+(4400*w|0)+36>>2])))return er(r+4|0,1007,0),0|(v=8);if(u=A+776|0,l=0|ar[(o=A+780|0)>>2],c=0|ar[u>>2],t>>>0<=(a=l-c>>2)>>>0?t>>>0<a>>>0&&(0|l)!=(0|(k=c+(t<<2)|0))&&(ar[o>>2]=l+(~((l+-4-k|0)>>>2)<<2)):(Va(u,t-a|0),t=0|ar[b>>2]),0<(0|t)){if(t=0|it(e),-99999==(0|(ar[(l=A+772|0)>>2]=t)))return er(r+4|0,1007,0),0|(v=8);if(o=t+1|0,ar[l>>2]=o,31<(0|t))return 0|(v=8);if(0<(0|ar[b>>2]))for(t=0;;){if(o=1+(0|At(e,o))|0,a=0|ar[u>>2],ar[(c=a+(t<<2)|0)>>2]=o,0<(0|t)&&(ar[c>>2]=o+(0|ar[a+(t+-1<<2)>>2])),(0|(t=t+1|0))>=(0|ar[b>>2]))break A;o=0|ar[l>>2]}}}}while(0);do{if(0|tr[r+93784+(4400*w|0)+4133>>0]){if(t=0|it(e),-99999==(0|(ar[(o=A+788|0)>>2]=t))|1e3<(0|t))return er(r+4|0,1007,0),0|(v=8);if(!(0<(0|t)))break;for(t=0;At(e,8),(0|(t=t+1|0))<(0|ar[o>>2]););}}while(0);switch(ar[A+792>>2]=(0|ar[A+740>>2])+(0|ar[r+93784+(4400*w|0)+8>>2]),0|ar[A+20>>2]){case 2:t=0,h=187;break;case 1:t=1+(0|tr[A+371>>0])|0,h=187;break;case 0:t=2-(0|tr[A+371>>0])|0,h=187}return 187==(0|h)&&(ar[A+796>>2]=t),ar[A+804>>2]=5-(0|ar[A+736>>2]),tr[i>>0]=1,(v=0)|v}return er(r+4|0,1020,0),0|(v=8)}(s,e,A,b),ar[n>>2]=l,!(0|tr[b>>0]))return 0|(a=0|ar[A+376224>>2])&&(tr[a+10516>>0]=2),Ba(A+548|0,r),0|(a=0|ar[s+1344>>2])&&((0|(c=0|ar[(i=s+1348|0)>>2]))!=(0|a)&&(ar[i>>2]=c+(~((c+-4-a|0)>>>2)<<2)),vu(a)),kt(s+1332|0),0|(a=0|ar[s+776>>2])&&((0|(c=0|ar[(i=s+780|0)>>2]))!=(0|a)&&(ar[i>>2]=c+(~((c+-4-a|0)>>>2)<<2)),vu(a)),vu(s),ur=t,0|(s=l);if(-1<(0|(a=0|ar[A+528>>2]))&&function(A,e,r){A|=0,e|=0;var i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0;switch(ur=(D=ur)+448|0,Q=D+432|0,iA=D+424|0,Y=D+416|0,N=D+408|0,R=D+400|0,F=D+392|0,V=D+384|0,rA=D+376|0,I=D+368|0,W=D+360|0,X=D+352|0,E=D+344|0,B=D+328|0,y=D+312|0,p=D+296|0,Z=D+280|0,G=D+264|0,C=D+248|0,eA=D+240|0,m=D+232|0,v=D+224|0,w=D+216|0,h=D+208|0,k=D+200|0,d=D+192|0,$=D+184|0,q=D+176|0,K=D+168|0,L=D+160|0,P=D+152|0,x=D+144|0,b=D+136|0,u=D+128|0,l=D+120|0,c=D+112|0,a=D+104|0,o=D+96|0,H=D+88|0,t=D+80|0,j=D+72|0,n=D+64|0,f=D+56|0,i=D+48|0,U=D+40|0,z=D+32|0,O=D+24|0,S=D+16|0,T=D+8|0,J=D,0|(r|=0)){case 1:r=10172;break;case 2:r=10676;break;default:return ur=D}_=0|ar[r>>2],g=0|ar[(M=A+8|0)>>2],0|tr[e+93784+(4400*g|0)>>0]||sr(39698,39242,1278,39712);s=0|tr[e+93784+(4400*g|0)+2>>0],0|tr[e+11096+(5168*s|0)>>0]||sr(39738,39242,1281,39712);Pn(_,39752,J),r=A+4|0,ar[T>>2]=tr[r>>0],Pn(_,39795,T),(-8&tr[(J=e+377212|0)>>0])<<24>>24==16&&(ar[S>>2]=tr[A+5>>0],Pn(_,39838,S));ar[O>>2]=ar[M>>2],Pn(_,39881,O),0|tr[r>>0]||(ar[z>>2]=tr[A+12>>0],Pn(_,39924,z),ar[U>>2]=ar[A+16>>2],Pn(_,39967,U));z=0|ar[(O=A+20|0)>>2],ar[i>>2]=0==(0|z)?66:1==(0|z)?80:73,Pn(_,40010,i),0|tr[e+93784+(4400*g|0)+31>>0]&&(ar[f>>2]=tr[A+24>>0],Pn(_,40053,f));1==(0|tr[e+11096+(5168*s|0)+480>>0])&&(ar[n>>2]=tr[A+25>>0],Pn(_,40096,n));ar[j>>2]=ar[A+28>>2],Pn(_,40139,j),2<=((0|tr[J>>0])-19&255)&&(j=A+32|0,ar[t>>2]=tr[j>>0],Pn(_,40182,t),r=e+11096+(5168*s|0)+4720|0,J=(0|ar[e+11096+(5168*s|0)+4724>>2])-(0|ar[r>>2])|0,0|tr[j>>0]?100<(0|J)&&(H=A+136|0,ar[o>>2]=ar[H>>2],Pn(_,40225,o),pc((0|ar[r>>2])+(100*(0|ar[H>>2])|0)|0,16,_)):(ar[H>>2]=(0|J)/100|0,Pn(_,43367,H),pc(A+34|0,16,_)),0|tr[e+11096+(5168*s|0)+4732>>0]&&(0<(0|ar[e+11096+(5168*s|0)+4736>>2])&&(ar[a>>2]=ar[A+140>>2],Pn(_,40268,a)),ar[c>>2]=ar[A+144>>2],Pn(_,40315,c)),0|tr[e+11096+(5168*s|0)+4900>>0]&&(ar[l>>2]=tr[A+324>>0],Pn(_,40362,l)));0|tr[e+11096+(5168*s|0)+4703>>0]&&(ar[u>>2]=tr[A+325>>0],Pn(_,40400,u),ar[b>>2]=tr[A+326>>0],Pn(_,40438,b));if((0|ar[O>>2])>>>0<2){if(r=A+327|0,ar[x>>2]=tr[r>>0],Pn(_,40476,x),S=A+328|0,x=0|tr[r>>0]?79659:40515,ar[P>>2]=ar[S>>2],ar[P+4>>2]=x,Pn(_,40526,P),0|ar[O>>2]||(P=0|tr[r>>0]?79659:40515,ar[L>>2]=ar[A+332>>2],ar[L+4>>2]=P,Pn(_,40566,L)),0|tr[e+93784+(4400*g|0)+4125>>0]&&1<(0|ar[A+912>>2])){if(L=A+336|0,ar[K>>2]=tr[L>>0],Pn(_,40606,K),0|tr[L>>0]&&0<(0|ar[S>>2]))for(r=0;K=0|cr[A+338+r>>0],ar[q>>2]=r,ar[q+4>>2]=K,Pn(_,40646,q),(0|(r=r+1|0))<(0|ar[S>>2]););if(q=A+337|0,ar[$>>2]=tr[q>>0],Pn(_,40656,$),0|tr[q>>0]&&0<(0|ar[(AA=A+332|0)>>2]))for(r=0;$=0|cr[A+354+r>>0],ar[d>>2]=r,ar[4+d>>2]=$,Pn(_,40646,d),(0|(r=r+1|0))<(0|ar[AA>>2]););}0|ar[O>>2]||(ar[k>>2]=tr[A+370>>0],Pn(_,40696,k)),ar[h>>2]=tr[A+371>>0],Pn(_,40733,h),0|tr[A+324>>0]&&(ar[w>>2]=tr[A+372>>0],Pn(_,40770,w),ar[v>>2]=ar[A+376>>2],Pn(_,40807,v)),45==(0|(U=0!=(0|tr[e+93784+(4400*g|0)+29>>0])&&1==(0|ar[O>>2])?47:45))&&0|tr[e+93784+(4400*g|0)+30>>0]&&0==(0|ar[O>>2])&&(U=47);A:do{if(47==(0|U)){ar[m>>2]=cr[A+380>>0],Pn(_,40844,m),0|ar[e+11096+(5168*s|0)+476>>2]&&(ar[eA>>2]=cr[A+381>>0],Pn(_,40881,eA)),T=A+332|0,M=0;do{r=0==(0|M);do{if(r)U=53;else{if(1!=(0|M))break;if(0|ar[O>>2])break A;U=53}}while(0);do{if(53==(0|U)){if(!((U=0)<(0|(J=0|ar[(r?S:T)>>2]))))break;for(r=0;eA=0|or[A+446+(M<<5)+(r<<1)>>1],ar[C>>2]=M,ar[4+C>>2]=r,ar[8+C>>2]=eA,Pn(_,40918,C),eA=0|tr[A+510+(M<<4)+r>>0],ar[G>>2]=M,ar[4+G>>2]=r,ar[8+G>>2]=eA,Pn(_,40955,G),eA=0|or[A+542+(M<<6)+(r<<2)>>1],ar[Z>>2]=M,ar[4+Z>>2]=r,ar[8+Z>>2]=0,ar[12+Z>>2]=eA,Pn(_,40992,Z),eA=0|tr[A+670+(M<<5)+(r<<1)>>0],ar[p>>2]=M,ar[4+p>>2]=r,ar[8+p>>2]=0,ar[12+p>>2]=eA,Pn(_,41030,p),eA=0|or[A+542+(M<<6)+(r<<2)+2>>1],ar[y>>2]=M,ar[4+y>>2]=r,ar[8+y>>2]=1,ar[12+y>>2]=eA,Pn(_,40992,y),eA=0|tr[A+670+(M<<5)+(r<<1)+1>>0],ar[B>>2]=M,ar[4+B>>2]=r,ar[8+B>>2]=1,ar[12+B>>2]=eA,Pn(_,41030,B),(0|(r=r+1|0))!=(0|J););}}while(0);M=M+1|0}while(2!=(0|M))}}while(0);ar[E>>2]=ar[A+736>>2],Pn(_,41068,E)}ar[X>>2]=ar[A+740>>2],Pn(_,41105,X),0|tr[e+93784+(4400*g|0)+28>>0]&&(ar[W>>2]=ar[A+744>>2],Pn(_,41134,W),ar[I>>2]=ar[A+748>>2],Pn(_,41163,I));J=A+753|0,0|tr[e+93784+(4400*g|0)+48>>0]&&(ar[rA>>2]=tr[J>>0],Pn(_,41192,rA));r=A+754|0,rA=0|tr[J>>0]?41230:41241,ar[V>>2]=tr[r>>0],ar[4+V>>2]=rA,Pn(_,41252,V),0|tr[J>>0]&&0==(0|tr[r>>0])&&(ar[F>>2]=ar[A+756>>2],Pn(_,41299,F),ar[R>>2]=ar[A+760>>2],Pn(_,41324,R));do{if(0|tr[e+93784+(4400*g|0)+46>>0]){if(0==(0|tr[A+325>>0])&&0==(0|tr[A+326>>0])&&0|tr[r>>0])break;ar[N>>2]=tr[A+764>>0],Pn(_,41349,N)}}while(0);if(0==(0|tr[e+93784+(4400*g|0)+34>>0])&&0==(0|tr[e+93784+(4400*g|0)+33>>0]))return ur=D;if(M=A+768|0,ar[Y>>2]=ar[M>>2],Pn(_,41400,Y),(0|ar[M>>2])<=0)return ur=D;if(ar[iA>>2]=ar[A+772>>2],Pn(_,41433,iA),(0|ar[M>>2])<=0)return ur=D;J=A+776|0,r=0;for(;iA=0|ar[(0|ar[J>>2])+(r<<2)>>2],ar[Q>>2]=r,ar[4+Q>>2]=iA,Pn(_,41466,Q),r=r+1|0,(0|r)<(0|ar[M>>2]););ur=D}(s,A,a),u=0|function(A,e,r,i,f,n,t,o){A|=0,e|=0,r|=0,f|=0,n|=0,t|=0,o|=0;var a,c,l=0,u=0,b=0,s=0,d=0;ur=(c=ur)+16|0,l=c,ar[(i|=0)>>2]=0,tr[A+377228>>0]=0,u=0|ar[r+8>>2],0|tr[(b=e+93784+(4400*u|0)|0)>>0]||(ar[l>>2]=u,function(A,e,r){A|=0,e|=0,r|=0;var i,f,n;if(ur=(n=ur)+16|0,i=n,!(-9999<=(0|ar[14391])&!0))return ur=n;f=42==(0|tr[e>>0]),A=0|ar[2543],f||Ui(44499,5,1,A);ar[i>>2]=r,Qc(A,e+(1&f)|0,i),Oi(A),ur=n}(1,34889,l),sr(55739,34700,1987,34915));if(ar[(s=e+375392|0)>>2]=b,d=0|tr[e+93784+(4400*u|0)+2>>0],ar[(l=e+375388|0)>>2]=e+11096+(5168*d|0),ar[(a=e+375384|0)>>2]=e+600+(656*(0|tr[e+11096+(5168*d|0)+1>>0])|0),function(A){var e=0,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0;r=0|ar[375388+(A|=0)>>2],e=(i=0==(0|r))?(e=0|ar[A+375384>>2])?(0|ar[e+8>>2])-1|0:6:(0|tr[r+2>>0])-1|0;do{if((0|tr[A+376116>>0])!=(0|e)){if(i?(e=0|ar[A+375384>>2])?(e=0|ar[e+8>>2],f=10):e=6:(e=0|tr[r+2>>0],f=10),10==(0|f)){if(!(0<(0|e)))break;e=e+-1|0}for(t=e+1|0,o=A+375896|0;;){if((0|(i=(0|(n=100*e|0))/(0|t)|0))<=(0|(n=(n+100|0)/(0|t)|0)))for(f=n-i|0,r=i;c=0|ar[o>>2],e=(a=(0|c)<(0|e))?c:e,tr[A+375916+(r<<1)>>0]=e,tr[A+375916+(r<<1)+1>>0]=a?100:255&((100*(r-i|0)|0)/(0|f)|0),(0|r)<(0|n);)r=r+1|0;if(ar[A+376120+(e<<2)>>2]=n,!(0<(0|e)))break;e=e+-1|0}}}while(0);a=0|ar[A+375900>>2],c=0|tr[A+375916+(a<<1)>>0],ar[A+375904>>2]=c,ar[A+375908>>2]=tr[A+375916+(a<<1)+1>>0],ar[A+375912>>2]=c}(A),0|tr[(d=r+4|0)>>0]){if(ar[e+376204>>2]=ar[r+28>>2],l=0|ar[l>>2],u=0|tr[l+4703>>0]?0!=(0|tr[e+533>>0]):1,-1==(0|(u=0|ia(e+376148|0,l,A,f,n,o,u))))return ar[i>>2]=9,ur=c,(r=0)|r;l=0|ar[e+376156>>2],u=(0|ar[e+376160>>2])-l>>2>>>0>u>>>0?0|ar[l+(u<<2)>>2]:0,tr[(b=u+10518|0)>>0]=0|tr[t>>0],tr[b+1>>0]=0|tr[t+1>>0],tr[b+2>>0]=0|tr[t+2>>0],ar[(b=e+376224|0)>>2]=u,l=0|ar[a>>2],hb(0|(t=u+108|0),0|l,592),(0|t)==(0|l)?(i=l+604|0,ar[(t=u+712|0)>>2]=ar[i>>2],ar[t+4>>2]=ar[i+4>>2],ar[t+8>>2]=ar[i+8>>2],ar[t+12>>2]=ar[i+12>>2],ar[t+16>>2]=ar[i+16>>2],ar[t+20>>2]=ar[i+20>>2]):(je(u+700|0,0|ar[l+592>>2],0|ar[l+596>>2]),i=l+604|0,ar[(t=u+712|0)>>2]=ar[i>>2],ar[t+4>>2]=ar[i+4>>2],ar[t+8>>2]=ar[i+8>>2],ar[t+12>>2]=ar[i+12>>2],ar[t+16>>2]=ar[i+16>>2],ar[t+20>>2]=ar[i+20>>2],He(u+736|0,0|ar[l+628>>2],0|ar[l+632>>2]),xe(u+748|0,0|ar[l+640>>2],0|ar[l+644>>2])),tr[u+760>>0]=0|tr[l+652>>0],l=0|ar[s>>2],hb(0|(s=u+5932|0),0|l,4340),(0|s)!=(0|l)&&($e(u+10272|0,0|ar[l+4340>>2],0|ar[l+4344>>2]),$e(u+10284|0,0|ar[l+4352>>2],0|ar[l+4356>>2]),$e(u+10296|0,0|ar[l+4364>>2],0|ar[l+4368>>2]),$e(u+10308|0,0|ar[l+4376>>2],0|ar[l+4380>>2]),$e(u+10320|0,0|ar[l+4388>>2],0|ar[l+4392>>2])),ar[u+10332>>2]=e,function(A){var e,r=0;0|(r=0|ar[10360+(A|=0)>>2])&&vb(0|r,0,3*(0|ar[A+10364>>2])|0);0|(r=0|ar[A+10340>>2])&&vb(0|r,0,24*(0|ar[A+10344>>2])|0);0|(r=0|ar[A+10460>>2])&&vb(0|r,0,0|ar[A+10464>>2]);if((0|(e=0|ar[A+10344>>2]))<=0)return;A=0|ar[A+10524>>2],r=0;for(;ar[A+(80*r|0)>>2]=0,r=r+1|0,(0|r)<(0|e););}(u),l=e+377212|0;do{if(0|ma(0|tr[l>>0])){if(!(0|ha(0|tr[l>>0])||0|wa(0|tr[l>>0])||0!=(0|tr[e+376208>>0]))&&0==(0|tr[e+376211>>0])){tr[e+376209>>0]=0,tr[e+376210>>0]=0;break}tr[e+376209>>0]=1,tr[e+376211>>0]=0}}while(0);0|va(0|tr[l>>0])&&0!=(0|tr[e+376209>>0])?tr[100+(0|ar[b>>2])>>0]=0:tr[100+(0|ar[b>>2])>>0]=0!=(0|tr[r+24>>0])&1,function(A,e,r){A|=0,r|=0;var i,f=0,n=0,t=0;0|ma(0|tr[(i=377212+(e|=0)|0)>>0])&&0!=(0|tr[e+376209>>0])?(ar[(n=e+376212|0)>>2]=0,tr[A+377228>>0]=1,A=r+28|0,A=(r=0)|ar[(f=A)>>2]):(n=0|ar[5032+(0|ar[e+375388>>2])>>2],A=0|ar[(t=r+28|0)>>2],f=0|ar[e+376216>>2],r=0|ar[e+376220>>2],(0|A)<(0|f)&&((0|n)/2|0)<=(f-A|0)?r=r+n|0:(0|f)<(0|A)&&(r=r-(((0|n)/2|0)<(A-f|0)?n:0)|0),ar[(n=e+376212|0)>>2]=r,f=t);if(t=0|ar[e+376224>>2],ar[t+92>>2]=A+r,ar[t+88>>2]=A,0|tr[t+10520>>0])return;if(0|function(A){return(255&(A|=0))<15?0==(1&A)|0:0}(0|tr[i>>0]))return;if(0|va(0|tr[i>>0]))return;if(0|function(A){return(1|(A|=0))<<24>>24==7|0}(0|tr[i>>0]))return;ar[e+376216>>2]=ar[f>>2],ar[e+376220>>2]=ar[n>>2]}(A,e,r),l=u+96|0,0|tr[d>>0]&&(ar[l>>2]=1,function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;if(ur=(c=ur)+32|0,t=c+4|0,ar[(o=(f=c)+16|0)>>2]=0,ar[(a=4+o|0)>>2]=0,ar[8+o>>2]=0,i=0|ar[ar[(n=e+376224|0)>>2]>>2],0|ma(0|tr[(h=e+377212|0)>>0])&&0|tr[e+376209>>0]&&(u=0|ar[n>>2],w=0|ar[u+92>>2],v=A+376156|0,b=0|ar[(m=A+376160|0)>>2],l=0|ar[v>>2],0<(b-l|0)))for(g=e+376156|0,Z=e+376160|0,p=8+o|0,k=0,d=b;b=0|ar[g>>2],b=(0|ar[Z>>2])-b>>2>>>0>k>>>0?0|ar[b+(k<<2)>>2]:0,0!=(0|ar[b+96>>2])&&(0|ar[b+92>>2])<(0|w)&&(0|ar[(y=b+104|0)>>2])>>>0>(0|ar[u>>2])>>>0?(b=0|ar[b>>2],ar[t>>2]=b,(s=0|ar[a>>2])>>>0<(0|ar[p>>2])>>>0?(ar[s>>2]=b,ar[a>>2]=s+4,b=d):(Mo(o,t),b=0|ar[m>>2],l=0|ar[v>>2],u=0|ar[n>>2]),ar[y>>2]=ar[u>>2]):b=d,!((b-l>>2|0)<=(0|(k=k+1|0)));)d=b;if(0|ha(0|tr[h>>0]))ar[e+376552>>2]=0,ar[e+376556>>2]=0,ar[e+376560>>2]=0,u=l=0;else{if((l=0|tr[r+908>>0])<<24>>24)for(k=255&l,d=s=b=0;y=0==(0|tr[r+876+b>>0]),l=(1&y)+d|0,u=(1&(1^y))+s|0,ar[(y?e+376700+(d<<2)|0:e+376572+(s<<2)|0)>>2]=(0|or[r+812+(b<<1)>>1])+(0|ar[92+(0|ar[n>>2])>>2]),!((0|k)<=(0|(b=b+1|0)));)s=u,d=l;else l=u=0;if(ar[e+376552>>2]=u,(u=0|tr[r+909>>0])<<24>>24)for(k=255&u,s=b=0;;){if(y=0==(0|tr[r+892+b>>0]),d=(1&y)+l|0,u=(1&(1^y))+s|0,ar[(y?e+376700+(l<<2)|0:e+376636+(s<<2)|0)>>2]=(0|or[r+844+(b<<1)>>1])+(0|ar[92+(0|ar[n>>2])>>2]),(0|k)<=(0|(b=b+1|0))){l=d;break}s=u,l=d}else u=0;if(ar[e+376556>>2]=u,ar[e+376560>>2]=l,k=r+140|0,0<((0|ar[(h=r+144|0)>>2])+(0|ar[k>>2])|0))for(w=r+28|0,v=e+375388|0,u=l=d=0;b=0|ar[e+376232+(d<<2)>>2],0|tr[(s=r+244+d|0)>>0]&&(b=(0|ar[92+(0|ar[n>>2])>>2])+b-(0|ar[w>>2])-(0|br(0|ar[5032+(0|ar[v>>2])>>2],0|ar[e+376360+(d<<2)>>2]))|0),0|ar[e+376296+(d<<2)>>2]?(ar[e+376764+(l<<2)>>2]=b,ar[e+376424+(l<<2)>>2]=tr[s>>0],l=l+1|0):(ar[e+376828+(u<<2)>>2]=b,ar[e+376488+(u<<2)>>2]=tr[s>>0],u=u+1|0),(0|(d=d+1|0))<((0|ar[h>>2])+(0|ar[k>>2])|0););else u=l=0}ar[(v=e+376564|0)>>2]=l,ar[(w=e+376568|0)>>2]=u,m=A+376156|0,l=(0|ar[(g=A+376160|0)>>2])-(0|ar[m>>2])|0,u=l>>2,ar[t>>2]=0,ar[(b=4+t|0)>>2]=0,ar[(s=8+t|0)>>2]=0,0|u&&((0|l)<0&&zl(),p=0|hu((y=1+((u+-1|0)>>>5)|0)<<2),ar[t>>2]=p,ar[s>>2]=y,ar[b>>2]=u,vb(0|p,0,(y=u>>>5)<<2|0),l=u-(y<<5)|0,u=p+(y<<2)|0,0|l&&(ar[u>>2]=ar[u>>2]&~(-1>>>(32-l|0))));if(0<(0|(l=0|ar[v>>2])))for(d=e+376148|0,k=e+376156|0,h=e+375388|0,s=0;l=0|ar[(b=e+376764+(s<<2)|0)>>2],l=0|ar[e+376424+(s<<2)>>2]?0|Ko(d,l,i,1):0|qo(d,l,i,1),(0|(ar[(u=e+377084+(s<<2)|0)>>2]=l))<=-1&&(l=0|To(A,e,0|ar[h>>2],0|ar[b>>2],1),ar[u>>2]=l),y=(0|ar[t>>2])+(l>>>5<<2)|0,ar[y>>2]=ar[y>>2]|1<<(31&l),0|tr[10516+(0|ar[(0|ar[k>>2])+(l<<2)>>2])>>0]&&(tr[10516+(0|ar[n>>2])>>0]=4),s=s+1|0,l=0|ar[v>>2],(0|s)<(0|l););if(0<(0|(u=0|ar[w>>2]))){for(k=e+376148|0,h=e+375388|0,d=0;l=0|ar[(b=e+376828+(d<<2)|0)>>2],l=0|ar[e+376488+(d<<2)>>2]?0|Ko(k,l,i,1):0|qo(k,l,i,1),(0|(ar[(u=e+377148+(d<<2)|0)>>2]=l))<=-1&&(l=0|To(A,e,0|ar[h>>2],0|ar[b>>2],1),ar[u>>2]=l),s=(0|ar[t>>2])+(l>>>5<<2)|0,ar[s>>2]=ar[s>>2]|1<<(31&l),d=d+1|0,s=0|ar[w>>2],(0|d)<(0|s););l=0|ar[v>>2]}else s=u;if(0<(0|l))for(b=0|ar[e+376156>>2],u=0;ar[96+(0|ar[b+(ar[e+377084+(u<<2)>>2]<<2)>>2])>>2]=2,(0|(u=u+1|0))<(0|l););if(0<(0|s))for(u=0|ar[e+376156>>2],l=0;ar[96+(0|ar[u+(ar[e+377148+(l<<2)>>2]<<2)>>2])>>2]=2,(0|(l=l+1|0))<(0|s););if(0<(0|ar[(d=e+376552|0)>>2]))for(k=e+376148|0,h=e+376156|0,w=e+375388|0,s=0;l=0|Ko(k,0|ar[(u=e+376572+(s<<2)|0)>>2],i,0),(0|(ar[(b=e+376892+(s<<2)|0)>>2]=l))<=-1&&(l=0|To(A,e,0|ar[w>>2],0|ar[u>>2],0),ar[b>>2]=l),y=(0|ar[t>>2])+(l>>>5<<2)|0,ar[y>>2]=ar[y>>2]|1<<(31&l),0|tr[10516+(0|ar[(0|ar[h>>2])+(l<<2)>>2])>>0]&&(tr[10516+(0|ar[n>>2])>>0]=4),(0|(s=s+1|0))<(0|ar[d>>2]););if(0<(0|ar[(d=e+376556|0)>>2]))for(k=e+376148|0,h=e+376156|0,w=e+375388|0,s=0;l=0|Ko(k,0|ar[(u=e+376636+(s<<2)|0)>>2],i,0),(0|(ar[(b=e+376956+(s<<2)|0)>>2]=l))<=-1&&(l=0|To(A,e,0|ar[w>>2],0|ar[u>>2],0),ar[b>>2]=l),y=(0|ar[t>>2])+(l>>>5<<2)|0,ar[y>>2]=ar[y>>2]|1<<(31&l),0|tr[10516+(0|ar[(0|ar[h>>2])+(l<<2)>>2])>>0]&&(tr[10516+(0|ar[n>>2])>>0]=4),(0|(s=s+1|0))<(0|ar[d>>2]););if(0<(0|ar[(u=e+376560|0)>>2]))for(b=e+376148|0,l=0;s=0|Ko(b,0|ar[e+376700+(l<<2)>>2],i,0),-1<(0|(ar[e+377020+(l<<2)>>2]=s))&&(A=(0|ar[t>>2])+(s>>>5<<2)|0,ar[A>>2]=ar[A>>2]|1<<(31&s)),(0|(l=l+1|0))<(0|ar[u>>2]););if(u=0|ar[g>>2],l=0|ar[m>>2],0<(u-l|0))for(v=e+376156|0,h=e+376160|0,w=8+o|0,k=0,d=u;!(((u=ar[(0|ar[t>>2])+(k>>>5<<2)>>2]&1<<(31&k)?d:(u=0|ar[v>>2],b=(0|ar[h>>2])-u>>2>>>0>k>>>0?0|ar[u+(k<<2)>>2]:0,u=0|ar[n>>2],(0|b)!=(0|u)&&(0|ar[(B=b+104|0)>>2])>>>0>(0|ar[u>>2])>>>0&&0!=(0|ar[b+96>>2])?(b=0|ar[b>>2],ar[f>>2]=b,(s=0|ar[a>>2])>>>0<(0|ar[w>>2])>>>0?(ar[s>>2]=b,ar[a>>2]=s+4,b=d):(Mo(o,f),b=0|ar[g>>2],l=0|ar[m>>2],u=0|ar[n>>2]),ar[B>>2]=ar[u>>2],b):d))-l>>2|0)<=(0|(k=k+1|0)));)d=u;(0|(l=r+1344|0))!=(0|o)&&$e(l,0|ar[o>>2],0|ar[a>>2]);0|(l=0|ar[t>>2])&&vu(l);if(!(l=0|ar[o>>2]))return ur=c;(0|(u=0|ar[a>>2]))!=(0|l)&&(ar[a>>2]=u+(~((u+-4-l|0)>>>2)<<2));vu(l),ur=c}(A,e,r)),ar[l>>2]=1,function(A){A|=0,ar[14391]=A}(0|ar[92+(0|ar[b>>2])>>2]),tr[A+376208>>0]=0}else if(!(0|ar[e+376224>>2]))return ur=c,(r=0)|r;if((0|ar[r+20>>2])>>>0<2&&!(0|function(A,e,r){A|=0,e|=0;var i,f,n,t,o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;ur=(b=ur)+480|0,v=b+192|0,u=(l=b)+384|0,m=0|ar[912+(r|=0)>>2],h=0|ar[(i=r+328|0)>>2],k=(0|m)<(0|h)?h:m,s=96+(A=u)|0;for(;tr[A>>0]=0,A=A+1|0,(0|A)<(0|s););f=e+376552|0,n=e+376556|0,t=e+376564|0,o=e+376892|0,a=e+376956|0,c=e+377084|0,A=0;for(;!((0|k)<=(0|A));){if(0<(0|(d=0|ar[f>>2])))for(hb(v+(A<<2)|0,0|o,0|br((s=A-k|0)>>>0<(w=0-d|0)>>>0?w:s,-4)),s=0;(0|(A=A+1|0))<(0|k)&(0|(s=s+1|0))<(0|d););if(d=0|ar[n>>2],(0|A)<(0|k)&0<(0|d))for(hb(v+(A<<2)|0,0|a,0|br((s=A-k|0)>>>0<(w=0-(1<(0|d)?d:1)|0)>>>0?w:s,-4)),s=0;(0|(A=A+1|0))<(0|k)&(0|(s=s+1|0))<(0|d););if(d=0|ar[t>>2],(0|A)<(0|k)&0<(0|d))for(vb(u+A|0,1,0-(s=(s=A-k|0)>>>0<(w=0-(1<(0|d)?d:1)|0)>>>0?w:s)|0),hb(v+(A<<2)|0,0|c,0|br(s,-4)),s=0;(0|(A=A+1|0))<(0|k)&(0|(s=s+1|0))<(0|d););if(!A){Z=13;break}}if(13==(0|Z))return 20==(0|(A=0|ar[(s=e+84|0)>>2]))?(s=1001,A=19):(ar[s>>2]=A+1,s=1016),ar[e+4+(A<<2)>>2]=s,ur=b,(e=0)|e;17<=(0|h)&&sr(34944,34700,1781,34977);A:do{if(0<(0|h)){for(k=r+336|0,h=e+376156|0,w=e+376160|0,d=0;;){if(A=0|tr[k>>0]?0|cr[r+338+d>>0]:d,ar[(s=r+916+(d<<2)|0)>>2]=ar[v+(A<<2)>>2],tr[r+1300+d>>0]=0|tr[u+A>>0],A=0|ar[s>>2],s=0|ar[h>>2],(0|ar[w>>2])-s>>2>>>0<=A>>>0){A=0,Z=54;break}if(!(A=0|ar[s+(A<<2)>>2])){A=0,Z=54;break}if(ar[r+1044+(d<<2)>>2]=ar[A+92>>2],ar[r+1172+(d<<2)>>2]=ar[A+96>>2],d=d+1|0,(0|(A=0|ar[i>>2]))<=(0|d)){g=A;break A}}if(54==(0|Z))return ur=b,0|A}else g=h}while(0);if(0|ar[r+20>>2])return ur=b,0|(e=1);h=0|ar[(v=r+332|0)>>2],k=(0|m)<(0|h)?h:m,A=0;for(;!((0|k)<=(0|A));){if(0<(0|(d=0|ar[n>>2])))for(hb(l+(A<<2)|0,0|a,0|br((s=A-k|0)>>>0<(m=0-d|0)>>>0?m:s,-4)),s=0;(0|(A=A+1|0))<(0|k)&(0|(s=s+1|0))<(0|d););if(d=0|ar[f>>2],(0|A)<(0|k)&0<(0|d))for(hb(l+(A<<2)|0,0|o,0|br((s=A-k|0)>>>0<(m=0-(1<(0|d)?d:1)|0)>>>0?m:s,-4)),s=0;(0|(A=A+1|0))<(0|k)&(0|(s=s+1|0))<(0|d););if(d=0|ar[t>>2],(0|A)<(0|k)&0<(0|d))for(vb(48+u+A|0,1,0-(s=(s=A-k|0)>>>0<(m=0-(1<(0|d)?d:1)|0)>>>0?m:s)|0),hb(l+(A<<2)|0,0|c,0|br(s,-4)),s=0;(0|(A=A+1|0))<(0|k)&(0|(s=s+1|0))<(0|d););if(!A){Z=38;break}}if(38==(0|Z))return 20==(0|(A=0|ar[(s=e+84|0)>>2]))?(s=1001,A=19):(ar[s>>2]=A+1,s=1016),ar[e+4+(A<<2)>>2]=s,ur=b,(e=0)|e;if(16<(0|g))return 20==(0|(A=0|ar[(s=e+84|0)>>2]))?(s=1001,A=19):(ar[s>>2]=A+1,s=1012),ar[e+4+(A<<2)>>2]=s,ur=b,(e=0)|e;17<=(0|h)&&sr(35011,34700,1834,34977);if((0|h)<=0)return ur=b,0|(e=1);h=r+337|0,w=e+376156|0,k=e+376160|0,d=0;for(;;){if(A=0|tr[h>>0]?0|cr[r+354+d>>0]:d,ar[(s=r+980+(d<<2)|0)>>2]=ar[l+(A<<2)>>2],tr[r+1316+d>>0]=0|tr[48+u+A>>0],A=0|ar[s>>2],s=0|ar[w>>2],(0|ar[k>>2])-s>>2>>>0<=A>>>0){A=0,Z=54;break}if(!(A=0|ar[s+(A<<2)>>2])){A=0,Z=54;break}if(ar[r+1108+(d<<2)>>2]=ar[A+92>>2],ar[r+1236+(d<<2)>>2]=ar[A+96>>2],(0|(d=d+1|0))>=(0|ar[v>>2])){A=1,Z=54;break}}return 54!=(0|Z)?0:(ur=b,0|A)}(0,e,r)))return ur=c,(r=0)|r;u=0|tr[r+12>>0]?800+(0|ar[(l=u=e+376228|0)>>2])|0:(l=e+376228|0,r+16|0);return ar[r+800>>2]=ar[u>>2],ar[l>>2]=r,ur=c,0|(r=1)}(A,A,s,n,0|ar[(u=r+8|0)>>2],0|ar[u+4>>2],i,0|ar[r+16>>2]),a=0|ar[(b=A+376224|0)>>2],!u)return 0|a&&(tr[a+10516>>0]=2),Ba(A+548|0,r),0|(a=0|ar[s+1344>>2])&&((0|(c=0|ar[(i=s+1348|0)>>2]))!=(0|a)&&(ar[i>>2]=c+(~((c+-4-a|0)>>>2)<<2)),vu(a)),kt(s+1332|0),0|(a=0|ar[s+776>>2])&&((0|(c=0|ar[(i=s+780|0)>>2]))!=(0|a)&&(ar[i>>2]=c+(~((c+-4-a|0)>>>2)<<2)),vu(a)),vu(s),s=0|ar[n>>2],ur=t,0|s;if(ar[f>>2]=s,i=a+48|0,l=0|ar[(c=a+52|0)>>2],ar[s>>2]=l-(0|ar[i>>2])>>2,(0|l)==(0|ar[a+56>>2])?function(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=4+(A|=0)|0,n=0|ar[A>>2],t=(0|ar[f>>2])-n|0,1073741823<(o=1+(i=t>>2)|0)>>>0&&zl();c=(0|ar[(l=A+8|0)>>2])-n|0,a=c>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t);if(ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),!n)return;vu(n)}(i,f):(ar[l>>2]=s,ar[c>>2]=4+(0|ar[c>>2])),et(e,1),rt(e),l=(0|ar[e>>2])-(0|ar[r+20>>2])|0,0<(0|ar[(u=s+768|0)>>2]))for(c=(a=0)|ar[(i=s+776|0)>>2];k=0|Za(r,0|ar[c+(a<<2)>>2],l),c=0|ar[i>>2],ar[(d=c+(a<<2)|0)>>2]=(0|ar[d>>2])-k,(0|(a=a+1|0))<(0|ar[u>>2]););if(0|tr[s+4>>0]){for(na((c=0|hu(10688))+8|0),i=(a=c+10632|0)+56|0;(0|(a=a+4|(ar[a>>2]=0)))<(0|i););ar[f>>2]=c,ar[c>>2]=ar[b>>2],(0|(i=0|ar[(a=A+377220|0)>>2]))==(0|ar[A+377224>>2])?function(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=4+(A|=0)|0,n=0|ar[A>>2],t=(0|ar[f>>2])-n|0,1073741823<(o=1+(i=t>>2)|0)>>>0&&zl();c=(0|ar[(l=A+8|0)>>2])-n|0,a=c>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t);if(ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),!n)return;vu(n)}(A+377216|0,f):(ar[i>>2]=c,ar[a>>2]=4+(0|ar[a>>2]))}else a=A+377220|0;return(0|ar[A+377216>>2])!=(0|ar[a>>2])&&(l=0|hu(152),ar[l>>2]=0,ar[(i=l+4|0)>>2]=0,ar[l+32>>2]=0,Dn(l+44|(tr[l+36>>0]=0)),ar[l+124>>2]=0,ar[l+128>>2]=-1,ar[l+132>>2]=-1,ar[l+136>>2]=0,ar[l+144>>2]=A,ar[l+40>>2]=0,ar[l+140>>2]=0,ar[f>>2]=l,ar[l>>2]=r,ar[i>>2]=s,ar[(i=l+8|0)>>2]=ar[e>>2],ar[i+4>>2]=ar[e+4>>2],ar[i+8>>2]=ar[e+8>>2],ar[i+12>>2]=ar[e+12>>2],ar[i+16>>2]=ar[e+16>>2],ar[i+20>>2]=ar[e+20>>2],tr[l+36>>0]=0|tr[A+377228>>0],a=0|ar[(0|ar[a>>2])-4>>2],(0|(c=0|ar[(i=a+10636|0)>>2]))==(0|ar[a+10640>>2])?function(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=4+(A|=0)|0,n=0|ar[A>>2],t=(0|ar[f>>2])-n|0,1073741823<(o=1+(i=t>>2)|0)>>>0&&zl();c=(0|ar[(l=A+8|0)>>2])-n|0,a=c>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t);if(ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),!n)return;vu(n)}(a+10632|0,f):(ar[c>>2]=l,ar[i>>2]=4+(0|ar[i>>2]))),k=0|Yo(A,f),ar[n>>2]=k,ur=t,(k=0)|k}function ir(A,e,r,i,f,n,t){A|=0,e|=0,f|=0,n|=0,t|=0;var o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;for(c=ur=(o=ur)+31&-32,ur=ur+112|0,100<(l=((i|=0)-(r|=0)|0)/12|0)>>>0?(c=0|yc(l))?g=a=c:gu():(a=c,g=0),c=0,b=r,s=a;(0|b)!=(0|i);)(u=0|tr[b+8+3>>0])<<24>>24<0?u=0|ar[b+4>>2]:u&=255,u?tr[s>>0]=1:(tr[s>>0]=2,c=c+1|0,l=l+-1|0),b=b+12|0,s=s+1|0;m=0,w=c;A:for(;;){c=0|ar[A>>2];do{if(c){if(0|Uf(c=(0|(u=0|ar[c+12>>2]))==(0|ar[c+16>>2])?0|jb[127&ar[36+(0|ar[c>>2])>>2]](c):0|gf(0|ar[u>>2]),-1)){ar[A>>2]=0,s=1;break}s=0==(0|ar[A>>2]);break}s=1}while(0);if(c=(u=0|ar[e>>2])?0|Uf(c=(0|(c=0|ar[u+12>>2]))==(0|ar[u+16>>2])?0|jb[127&ar[36+(0|ar[u>>2])>>2]](u):0|gf(0|ar[c>>2]),-1)?(u=ar[e>>2]=0,1):0:(u=0,1),b=0|ar[A>>2],!(0!=(0|l)&(s^c)))break;for(c=(0|(c=0|ar[b+12>>2]))==(0|ar[b+16>>2])?0|jb[127&ar[36+(0|ar[b>>2])>>2]](b):0|gf(0|ar[c>>2]),t||(c=0|Hb[31&ar[28+(0|ar[f>>2])>>2]](f,c)),v=m+1|0,k=r,d=0,h=a;(0|k)!=(0|i);){do{if(1==(0|tr[h>>0])){if(u=(0|tr[(b=k+8+3|0)>>0])<0?0|ar[k>>2]:k,u=0|ar[u+(m<<2)>>2],t||(u=0|Hb[31&ar[28+(0|ar[f>>2])>>2]](f,u)),s=l+-1|0,(0|c)!=(0|u)){tr[h>>0]=0,u=d,b=w,l=s;break}(u=0|tr[b>>0])<<24>>24<0?u=0|ar[k+4>>2]:u&=255,(0|u)==(0|v)?(tr[h>>0]=2,b=w+(u=1)|0,l=s):(u=1,b=w)}else u=d,b=w}while(0);k=k+12|0,d=u,h=h+1|0,w=b}if(d)if(c=0|ar[A>>2],(0|(b=0|ar[(u=c+12|0)>>2]))==(0|ar[c+16>>2])?jb[127&ar[40+(0|ar[c>>2])>>2]](c):(ar[u>>2]=b+4,gf(0|ar[b>>2])),1<(w+l|0)>>>0)for(b=r,s=a,c=w;;){if((0|b)==(0|i)){m=v,w=c;continue A}2==(0|tr[s>>0])&&((u=0|tr[b+8+3>>0])<<24>>24<0?u=0|ar[b+4>>2]:u&=255,(0|u)!=(0|v)&&(c=c+-1|(tr[s>>0]=0))),b=b+12|0,s=s+1|0}else m=v;else m=v}do{if(b){if(0|Uf(c=(0|(c=0|ar[b+12>>2]))==(0|ar[b+16>>2])?0|jb[127&ar[36+(0|ar[b>>2])>>2]](b):0|gf(0|ar[c>>2]),-1)){ar[A>>2]=0,l=1;break}l=0==(0|ar[A>>2]);break}l=1}while(0);do{if(u){if(0|Uf(c=(0|(c=0|ar[u+12>>2]))==(0|ar[u+16>>2])?0|jb[127&ar[36+(0|ar[u>>2])>>2]](u):0|gf(0|ar[c>>2]),-1)){ar[e>>2]=0,Z=41;break}if(l)break;Z=77;break}Z=41}while(0);for(41==(0|Z)&&l&&(Z=77),77==(0|Z)&&(ar[n>>2]=2|ar[n>>2]);;){if((0|r)==(0|i)){Z=81;break}if(2==(0|tr[a>>0]))break;r=r+12|0,a=a+1|0}return 81==(0|Z)&&(ar[n>>2]=4|ar[n>>2],r=i),Bc(g),ur=o,0|r}function fr(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t;return t=ur=(n=ur)+31&-32,ur=ur+16|0,ar[t>>2]=f,f=0|rf(r),r=0|Yc(A,e,i,t),0|f&&rf(f),ur=n,0|r}function nr(A,e,r){A|=0,e|=0,r|=0;var i=0;A:do{switch((176&ar[r+4>>2])<<24>>24){case 16:switch(i=A+1|0,(r=0|tr[A>>0])<<24>>24){case 43:case 45:A=i;break A}if(1<(e-A|0)&r<<24>>24==48){switch(0|tr[i>>0]){case 88:case 120:break;default:0;break A}A=A+2|0}else 0;break;case 32:A=e;break;default:0}}while(0);return 0|A}function dr(A,e,r){A|=0,e|=0;var i,f,n,t=0;for(2048&(r|=0)&&(tr[A>>0]=43,A=A+1|0),1024&r&&(tr[A>>0]=35,A=A+1|0),i=0!=(16384&r|0),(f=260==(0|(n=260&r)))?t=0:(tr[A>>0]=46,tr[A+1>>0]=42,t=1,A=A+2|0);(r=0|tr[e>>0])<<24>>24;)tr[A>>0]=r,e=e+1|0,A=A+1|0;A:do{switch(511&n){case 4:r=i?70:102;break;case 256:r=i?69:101;break;default:if(f){r=i?65:97;break A}r=i?71:103;break A}}while(0);return tr[A>>0]=r,0|t}function kr(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n;return n=ur=(f=ur)+31&-32,ur=ur+16|0,ar[n>>2]=i,i=0|rf(e),e=0|function(A,e,r){A|=0,e|=0,r|=0;var i,f=0,n=0,t=0;f=ur=(i=ur)+31&-32,ur=ur+16|0,ar[f>>2]=ar[r>>2],A=0<=(0|(f=0|Yc(0,0,e,f)))&&(t=0|yc(n=f+1|0),0!=(0|(ar[A>>2]=t)))?0|Yc(t,n,e,r):-1;return ur=i,0|A}(A,r,n),0|i&&rf(i),ur=f,0|e}function hr(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;switch(l=ur=(b=ur)+31&-32,ur=ur+16|0,u=0|un(t|=0,59232),c=0|un(t,59248),fs[63&ar[20+(0|ar[c>>2])>>2]](l,c),ar[n>>2]=i,(t=0|tr[A>>0])<<24>>24){case 43:case 45:v=0|Hb[31&ar[28+(0|ar[u>>2])>>2]](u,t),s=0|ar[n>>2],ar[n>>2]=s+1,tr[s>>0]=v,s=A+1|0;break;default:s=A}v=r;A:do{if(1<(v-s|0)&&48==(0|tr[s>>0])){switch(0|tr[(t=s+1|0)>>0]){case 88:case 120:break;default:t=s,m=10;break A}for(h=0|Hb[31&ar[28+(0|ar[u>>2])>>2]](u,48),w=0|ar[n>>2],ar[n>>2]=w+1,tr[w>>0]=h,s=s+2|0,w=0|Hb[31&ar[28+(0|ar[u>>2])>>2]](u,0|tr[t>>0]),t=0|ar[n>>2],ar[n>>2]=t+1,tr[t>>0]=w,t=s;;){if(r>>>0<=t>>>0)break A;if(!(0|lf(w=0|tr[t>>0],dn())))break A;t=t+1|0}}else t=s,m=10}while(0);A:do{if(10==(0|m))for(;;){if(r>>>(m=0)<=t>>>0)break A;if(!(0|af(w=0|tr[t>>0],dn())))break A;t=t+1|0,m=10}}while(0);k=0|tr[(o=11+l|0)>>0],a=4+l|0,h=s,w=A;A:do{if(0|(k<<24>>24<0?0|ar[a>>2]:255&k)){e:do{if((0|s)!=(0|t))for(A=t,d=s;;){if((A=A+-1|0)>>>0<=d>>>0)break e;k=0|tr[d>>0],tr[d>>0]=0|tr[A>>0],tr[A>>0]=k,d=d+1|0}}while(0);for(k=0|jb[127&ar[16+(0|ar[c>>2])>>2]](c),A=d=0;!(t>>>0<=s>>>0);)0<(g=0|tr[((0|tr[o>>0])<0?0|ar[l>>2]:l)+A>>0])<<24>>24&(0|d)==(g<<24>>24|0)&&(d=0|ar[n>>2],ar[n>>2]=d+1,tr[d>>0]=k,A=(A>>>0<(((d=0|tr[o>>0])<<24>>24<0?0|ar[a>>2]:255&d)-1|0)>>>0&1)+A|0,d=0),Z=0|Hb[31&ar[28+(0|ar[u>>2])>>2]](u,0|tr[s>>0]),g=0|ar[n>>2],ar[n>>2]=g+1,tr[g>>0]=Z,s=s+1|0,d=d+1|0;if((0|(A=i+(h-w)|0))==(0|(s=0|ar[n>>2])))A=u;else for(;;){if((s=s+-1|0)>>>0<=A>>>0){A=u;break A}Z=0|tr[A>>0],tr[A>>0]=0|tr[s>>0],tr[s>>0]=Z,A=A+1|0}}else Pb[7&ar[32+(0|ar[u>>2])>>2]](u,s,t,0|ar[n>>2]),ar[n>>2]=(0|ar[n>>2])+(t-h),A=u}while(0);for(;!(r>>>0<=t>>>0);){if(s=0|tr[t>>0],t=t+1|0,s<<24>>24==46){m=29;break}g=0|Hb[31&ar[28+(0|ar[A>>2])>>2]](u,s),Z=0|ar[n>>2],ar[n>>2]=Z+1,tr[Z>>0]=g}29==(0|m)&&(g=0|jb[127&ar[12+(0|ar[c>>2])>>2]](c),Z=0|ar[n>>2],ar[n>>2]=Z+1,tr[Z>>0]=g),Pb[7&ar[32+(0|ar[u>>2])>>2]](u,t,r,0|ar[n>>2]),Z=(0|ar[n>>2])+(v-t)|0,ar[n>>2]=Z,ar[f>>2]=(0|e)==(0|r)?Z:i+(e-w)|0,Bu(l),ur=b}function wr(A,e,r,i){A|=0,e|=0,r|=0;var f=0;for(2048&(i|=0)&&(tr[A>>0]=43,A=A+1|0),f=512&i?(tr[A>>0]=35,A+1|0):A;(A=0|tr[e>>0])<<24>>24;)tr[f>>0]=A,e=e+1|0,f=f+1|0;switch(74&i){case 64:A=111;break;case 8:A=16384&i|0?88:120;break;default:A=r?100:117}tr[f>>0]=A}function vr(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0;if(u=ur=(b=ur)+31&-32,ur=ur+16|0,c=0|un(t|=0,59232),d=0|un(t,59248),fs[63&ar[20+(0|ar[d>>2])>>2]](u,d),a=4+u|0,l=A,s=r,0|((k=0|tr[(o=11+u|0)>>0])<<24>>24<0?0|ar[a>>2]:255&k)){switch(ar[n>>2]=i,(t=0|tr[A>>0])<<24>>24){case 43:case 45:t=0|Hb[31&ar[28+(0|ar[c>>2])>>2]](c,t),k=0|ar[n>>2],ar[n>>2]=k+1,tr[k>>0]=t,A=A+1|0}A:do{if(1<(s-A|0)&&48==(0|tr[A>>0])){switch(0|tr[(t=A+1|0)>>0]){case 88:case 120:break;default:break A}k=0|Hb[31&ar[28+(0|ar[c>>2])>>2]](c,48),s=0|ar[n>>2],ar[n>>2]=s+1,tr[s>>0]=k,s=0|Hb[31&ar[28+(0|ar[c>>2])>>2]](c,0|tr[t>>0]),k=0|ar[n>>2],ar[n>>2]=k+1,tr[k>>0]=s,A=A+2|0}}while(0);A:do{if((0|A)!=(0|r))for(t=r,s=A;;){if((t=t+-1|0)>>>0<=s>>>0)break A;k=0|tr[s>>0],tr[s>>0]=0|tr[t>>0],tr[t>>0]=k,s=s+1|0}}while(0);for(k=0|jb[127&ar[16+(0|ar[d>>2])>>2]](d),d=A,s=t=0;!(r>>>0<=d>>>0);)(h=0|tr[((0|tr[o>>0])<0?0|ar[u>>2]:u)+t>>0])<<24>>24!=0&(0|s)==(h<<24>>24|0)&&(s=0|ar[n>>2],ar[n>>2]=s+1,tr[s>>0]=k,t=(t>>>0<(((s=0|tr[o>>0])<<24>>24<0?0|ar[a>>2]:255&s)-1|0)>>>0&1)+t|0,s=0),w=0|Hb[31&ar[28+(0|ar[c>>2])>>2]](c,0|tr[d>>0]),h=0|ar[n>>2],ar[n>>2]=h+1,tr[h>>0]=w,d=d+1|0,s=s+1|0;if((0|(t=i+(A-l)|0))!=(0|(A=0|ar[n>>2]))){for(;!((A=A+-1|0)>>>0<=t>>>0);)w=0|tr[t>>0],tr[t>>0]=0|tr[A>>0],tr[A>>0]=w,t=t+1|0;t=0|ar[n>>2]}}else Pb[7&ar[32+(0|ar[c>>2])>>2]](c,A,r,i),t=i+(s-l)|0,ar[n>>2]=t;ar[f>>2]=(0|e)==(0|r)?t:i+(e-l)|0,Bu(u),ur=b}function mr(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0;o=ur=(a=ur)+31&-32,ur=ur+16|0,t=12+o|0,c=0|ar[(A|=0)>>2];A:do{if(c){if(l=(0|(l=i-(h=e)>>2))<(0|(u=0|ar[(b=f+12|0)>>2]))?u-l|0:0,f=(h=(u=r)-h|0)>>2,0<(0|h)&&(0|xb[63&ar[48+(0|ar[c>>2])>>2]](c,e,f))!=(0|f)){c=ar[A>>2]=0;break}do{if(0<(0|l)){ar[o>>2]=0,ar[4+o>>2]=0,1073741807<l>>>(ar[8+o>>2]=0)&&pu();do{if(2<=l>>>0){if(!(1073741823<(f=l+4&2147483644)>>>0)){s=0|hu(f<<2),ar[o>>2]=s,ar[(d=8+o|0)>>2]=-2147483648|f,ar[4+o>>2]=l,d=d+3|0,k=o;break}lA()}else tr[(d=8+o+3|0)>>0]=l,k=s=o}while(0);if(gr(s,l,n),ln(s+(l<<2)|(ar[t>>2]=0),t),(0|xb[63&ar[48+(0|ar[c>>2])>>2]](c,(0|tr[d>>0])<0?0|ar[o>>2]:k,l))==(0|l)){Qu(o);break}ar[A>>2]=0,Qu(o),c=0;break A}}while(0);if(i=(h=i-u|0)>>2,0<(0|h)&&(0|xb[63&ar[48+(0|ar[c>>2])>>2]](c,r,i))!=(0|i)){c=ar[A>>2]=0;break}ar[b>>2]=0}else c=0}while(0);return ur=a,0|c}function gr(A,e,r){return A|=0,r|=0,(e|=0)&&function(A,e,r){A|=0,e|=0;var i=0;if(0|(r|=0))for(i=A;r=r+-1|0,ar[i>>2]=e,r;)i=i+4|0}(A,r,e),0|A}function Zr(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0;switch(l=ur=(b=ur)+31&-32,ur=ur+16|0,u=0|un(t|=0,59264),c=0|un(t,59272),fs[63&ar[20+(0|ar[c>>2])>>2]](l,c),ar[n>>2]=i,(t=0|tr[A>>0])<<24>>24){case 43:case 45:g=0|Hb[31&ar[44+(0|ar[u>>2])>>2]](u,t),t=0|ar[n>>2],ar[n>>2]=t+4,ar[t>>2]=g,t=A+1|0;break;default:t=A}g=r;A:do{if(1<(g-t|0)&&48==(0|tr[t>>0])){switch(0|tr[(s=t+1|0)>>0]){case 88:case 120:break;default:s=t,Z=10;break A}for(v=0|Hb[31&ar[44+(0|ar[u>>2])>>2]](u,48),m=0|ar[n>>2],ar[n>>2]=m+4,ar[m>>2]=v,t=t+2|0,m=0|Hb[31&ar[44+(0|ar[u>>2])>>2]](u,0|tr[s>>0]),s=0|ar[n>>2],ar[n>>2]=s+4,ar[s>>2]=m,s=t;;){if(r>>>0<=s>>>0)break A;if(!(0|lf(m=0|tr[s>>0],dn())))break A;s=s+1|0}}else s=t,Z=10}while(0);A:do{if(10==(0|Z))for(;;){if(r>>>(Z=0)<=s>>>0)break A;if(!(0|af(m=0|tr[s>>0],dn())))break A;s=s+1|0,Z=10}}while(0);w=0|tr[(o=11+l|0)>>0],a=4+l|0,v=t,m=A;A:do{if(0|(w<<24>>24<0?0|ar[a>>2]:255&w)){e:do{if((0|t)!=(0|s))for(A=s,d=t;;){if((A=A+-1|0)>>>0<=d>>>0)break e;w=0|tr[d>>0],tr[d>>0]=0|tr[A>>0],tr[A>>0]=w,d=d+1|0}}while(0);for(w=0|jb[127&ar[16+(0|ar[c>>2])>>2]](c),d=A=0;!(s>>>0<=t>>>0);)k=0|tr[o>>0],0<(p=0|tr[((h=k<<24>>24<0)?0|ar[l>>2]:l)+A>>0])<<24>>24&(0|d)==(p<<24>>24|0)&&(d=0|ar[n>>2],ar[n>>2]=d+4,ar[d>>2]=w,A=(A>>>0<((h?0|ar[a>>2]:255&k)-1|0)>>>0&1)+A|0,d=0),h=0|Hb[31&ar[44+(0|ar[u>>2])>>2]](u,0|tr[t>>0]),p=0|ar[n>>2],ar[n>>2]=p+4,ar[p>>2]=h,t=t+1|0,d=d+1|0;if((0|(t=i+(v-m<<2)|0))==(0|(d=0|ar[n>>2])))A=u;else for(A=d;;){if((A=A+-4|0)>>>0<=t>>>0){A=u,t=d;break A}p=0|ar[t>>2],ar[t>>2]=ar[A>>2],ar[A>>2]=p,t=t+4|0}}else Pb[7&ar[48+(0|ar[u>>2])>>2]](u,t,s,0|ar[n>>2]),t=(0|ar[n>>2])+(s-v<<2)|0,ar[n>>2]=t,A=u}while(0);for(;!(r>>>0<=s>>>0);){if(t=0|tr[s>>0],s=s+1|0,t<<24>>24==46){Z=29;break}v=0|Hb[31&ar[44+(0|ar[A>>2])>>2]](u,t),t=(p=0|ar[n>>2])+4|0,ar[n>>2]=t,ar[p>>2]=v}29==(0|Z)&&(Z=0|jb[127&ar[12+(0|ar[c>>2])>>2]](c),t=(p=0|ar[n>>2])+4|0,ar[n>>2]=t,ar[p>>2]=Z),Pb[7&ar[48+(0|ar[u>>2])>>2]](u,s,r,t),p=(0|ar[n>>2])+(g-s<<2)|0,ar[n>>2]=p,ar[f>>2]=(0|e)==(0|r)?p:i+(e-m<<2)|0,Bu(l),ur=b}function pr(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0,v=0;if(u=ur=(b=ur)+31&-32,ur=ur+16|0,c=0|un(t|=0,59264),d=0|un(t,59272),fs[63&ar[20+(0|ar[d>>2])>>2]](u,d),a=4+u|0,l=A,s=r,0|((w=0|tr[(o=11+u|0)>>0])<<24>>24<0?0|ar[a>>2]:255&w)){switch(ar[n>>2]=i,(t=0|tr[A>>0])<<24>>24){case 43:case 45:h=0|Hb[31&ar[44+(0|ar[c>>2])>>2]](c,t),w=0|ar[n>>2],ar[n>>2]=w+4,ar[w>>2]=h,A=A+1|0}A:do{if(1<(s-A|0)&&48==(0|tr[A>>0])){switch(0|tr[(t=A+1|0)>>0]){case 88:case 120:break;default:break A}w=0|Hb[31&ar[44+(0|ar[c>>2])>>2]](c,48),h=0|ar[n>>2],ar[n>>2]=h+4,ar[h>>2]=w,h=0|Hb[31&ar[44+(0|ar[c>>2])>>2]](c,0|tr[t>>0]),w=0|ar[n>>2],ar[n>>2]=w+4,ar[w>>2]=h,A=A+2|0}}while(0);A:do{if((0|A)!=(0|r))for(t=r,s=A;;){if((t=t+-1|0)>>>0<=s>>>0)break A;w=0|tr[s>>0],tr[s>>0]=0|tr[t>>0],tr[t>>0]=w,s=s+1|0}}while(0);for(w=0|jb[127&ar[16+(0|ar[d>>2])>>2]](d),h=A,s=t=0;!(r>>>0<=h>>>0);)d=0|tr[o>>0],(v=0|tr[((k=d<<24>>24<0)?0|ar[u>>2]:u)+t>>0])<<24>>24!=0&(0|s)==(v<<24>>24|0)&&(s=0|ar[n>>2],ar[n>>2]=s+4,ar[s>>2]=w,t=(t>>>0<((k?0|ar[a>>2]:255&d)-1|0)>>>0&1)+t|0,s=0),k=0|Hb[31&ar[44+(0|ar[c>>2])>>2]](c,0|tr[h>>0]),v=0|ar[n>>2],ar[n>>2]=v+4,ar[v>>2]=k,h=h+1|0,s=s+1|0;if((0|(t=i+(A-l<<2)|0))!=(0|(A=0|ar[n>>2]))){for(;!((A=A+-4|0)>>>0<=t>>>0);)v=0|ar[t>>2],ar[t>>2]=ar[A>>2],ar[A>>2]=v,t=t+4|0;t=0|ar[n>>2]}}else Pb[7&ar[48+(0|ar[c>>2])>>2]](c,A,r,i),t=i+(s-l<<2)|0,ar[n>>2]=t;ar[f>>2]=(0|e)==(0|r)?t:i+(e-l<<2)|0,Bu(u),ur=b}function yr(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a;a=ur=(t=ur)+31&-32,ur=ur+16|0,o=4+a|0,A=0|jb[127&ar[ar[(A=(A|=0)+8|0)>>2]>>2]](A),ar[a>>2]=ar[i>>2],ar[o>>2]=ar[a>>2],(0|(A=(0|Vn(r,o,A,A+168|0,n,f,0))-A|0))<168&&(ar[e>>2]=((0|A)/12|0)%7|0),ur=t}function Br(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a;a=ur=(t=ur)+31&-32,ur=ur+16|0,o=4+a|0,A=0|jb[127&ar[4+(0|ar[(A=(A|=0)+8|0)>>2])>>2]](A),ar[a>>2]=ar[i>>2],ar[o>>2]=ar[a>>2],(0|(A=(0|Vn(r,o,A,A+288|0,n,f,0))-A|0))<288&&(ar[e>>2]=((0|A)/12|0)%12|0),ur=t}function Er(A,e,r,i,f,n,t,o){A|=0,e|=0,r|=0,f|=0,n|=0,t|=0,o|=0;var a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0;s=ur=(d=ur)+31&-32,ur=ur+16|0,a=8+s|0,b=4+s|0,Tf(c=12+s|0,i|=0),l=0|un(c,59232),bn(c),u=8+l|(ar[f>>2]=0),k=0;A:for(;;){for(Z=(0|t)!=(0|o),h=k;;){if(k=0|ar[e>>2],!(Z&0==(0|h)))break A;g=(w=k)?0|Mf(h=(0|(h=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|hf(0|tr[h>>0]),-1)?(m=1,k=ar[e>>2]=0):(m=0,w):(k=0,m=1,w),h=v=0|ar[r>>2];do{if(v){if(0|Mf(w=(0|(w=0|ar[v+12>>2]))==(0|ar[v+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](v):0|hf(0|tr[w>>0]),-1)){h=ar[r>>2]=0,y=16;break}if(m)break;y=61;break A}y=16}while(0);if(16==(0|y)){if(y=0,m){y=61;break A}v=0}if((0|xb[63&ar[36+(0|ar[l>>2])>>2]](l,0|tr[t>>0],0))<<24>>24==37){y=19;break}if(-1<(h=0|tr[t>>0])<<24>>24&&(p=0|ar[u>>2],8192&or[p+(h<<24>>24<<1)>>1])){y=27;break}if(h=(0|(h=0|ar[(w=k+12|0)>>2]))==(0|ar[(v=k+16|0)>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|hf(0|tr[h>>0]),(g=0|Hb[31&ar[12+(0|ar[l>>2])>>2]](l,255&h))<<24>>24==(0|Hb[31&ar[12+(0|ar[l>>2])>>2]](l,0|tr[t>>0]))<<24>>24){y=57;break}h=ar[f>>2]=4}e:do{if(19==(0|y)){if(((y=0)|(m=t+1|0))==(0|o)){y=61;break A}switch((w=0|xb[63&ar[36+(0|ar[l>>2])>>2]](l,0|tr[m>>0],0))<<24>>24){case 48:case 69:if((0|(t=t+2|0))==(0|o)){y=61;break A}v=w,k=0|xb[63&ar[36+(0|ar[l>>2])>>2]](l,0|tr[t>>0],0),t=m;break;default:v=0,k=w}Z=0|ar[36+(0|ar[A>>2])>>2],ar[b>>2]=g,ar[s>>2]=h,ar[a>>2]=ar[b>>2],ar[c>>2]=ar[s>>2],Z=0|es[15&Z](A,a,c,i,f,n,k,v),ar[e>>2]=Z,t=t+2|0}else if(27==(0|y)){for(;;){if(((y=0)|(t=t+1|0))==(0|o)){t=o;break}if((h=0|tr[t>>0])<<24>>24<=-1)break;if(!(8192&or[p+(h<<24>>24<<1)>>1]))break;y=27}for(h=v;;){k?0|Mf(w=(0|(w=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|hf(0|tr[w>>0]),-1)?(m=1,k=ar[e>>2]=0):m=0:(m=1,k=0);do{if(v){if(0|Mf(w=(0|(w=0|ar[v+12>>2]))==(0|ar[v+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](v):0|hf(0|tr[w>>0]),-1)){h=ar[r>>2]=0,y=43;break}if(m^0==(0|h)){v=g=h;break}break e}y=43}while(0);if(43==(0|y)){if(y=0,m)break e;g=h,v=0}if((255&(h=(0|(h=0|ar[(w=k+12|0)>>2]))==(0|ar[(m=k+16|0)>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|hf(0|tr[h>>0])))<<24>>24<=-1)break e;if(!(8192&or[(0|ar[u>>2])+(h<<24>>24<<1)>>1]))break e;(0|(h=0|ar[w>>2]))!=(0|ar[m>>2])?(ar[w>>2]=h+1,hf(0|tr[h>>0]),h=g):(jb[127&ar[40+(0|ar[k>>2])>>2]](k),h=g)}}else if(57==(0|y)){if(t=t+1|(y=0),(0|(h=0|ar[w>>2]))==(0|ar[v>>2])){jb[127&ar[40+(0|ar[k>>2])>>2]](k);break}ar[w>>2]=h+1,hf(0|tr[h>>0]);break}}while(0);k=0|ar[f>>2]}61==(0|y)&&(ar[f>>2]=4),w=k?0|Mf(t=(0|(t=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|hf(0|tr[t>>0]),-1)?(k=ar[e>>2]=0,1):0:(k=0,1),t=0|ar[r>>2];do{if(t){if(0|Mf(t=(0|(h=0|ar[t+12>>2]))==(0|ar[t+16>>2])?0|jb[127&ar[36+(0|ar[t>>2])>>2]](t):0|hf(0|tr[h>>0]),-1)){ar[r>>2]=0,y=74;break}if(w)break;y=76;break}y=74}while(0);return 74==(0|y)&&w&&(y=76),76==(0|y)&&(ar[f>>2]=2|ar[f>>2]),ur=d,0|k}function Xr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],((A=0|Jr(r,A,f,n,2))+-1|0)>>>0<31&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Wr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|Jr(r,A,f,n,2)))<24&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Ir(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],((A=0|Jr(r,A,f,n,2))+-1|0)>>>0<12&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Cr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|Jr(r,A,f,n,3)))<366&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Gr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|Jr(r,A,f,n,2)))<13&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A+-1:ar[f>>2]=4|r,ur=t}function Vr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|Jr(r,A,f,n,2)))<60&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Fr(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0;var n,t=0,o=0;n=(f|=0)+8|0;A:for(;;){A=0|ar[e>>2];do{if(A){if(0|Mf(A=(0|(f=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[f>>0]),-1)){ar[e>>2]=0,t=1;break}t=0==(0|ar[e>>2]);break}t=1}while(0);f=0|ar[r>>2];do{if(f){if(0|Mf(A=(0|(A=0|ar[f+12>>2]))==(0|ar[f+16>>2])?0|jb[127&ar[36+(0|ar[f>>2])>>2]](f):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,o=15;break}if(t){t=f;break}t=f;break A}o=15}while(0);if(15==(0|o)){if(o=0,t){t=0;break}t=0}if(A=0|ar[e>>2],(255&(A=(0|(f=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[f>>0])))<<24>>24<=-1)break;if(!(8192&or[(0|ar[n>>2])+(A<<24>>24<<1)>>1]))break;A=0|ar[e>>2],(0|(t=0|ar[(f=A+12|0)>>2]))!=(0|ar[A+16>>2])?(ar[f>>2]=t+1,hf(0|tr[t>>0])):jb[127&ar[40+(0|ar[A>>2])>>2]](A)}A=0|ar[e>>2];do{if(A){if(0|Mf(A=(0|(f=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[f>>0]),-1)){ar[e>>2]=0,f=1;break}f=0==(0|ar[e>>2]);break}f=1}while(0);do{if(t){if(0|Mf(A=(0|(A=0|ar[t+12>>2]))==(0|ar[t+16>>2])?0|jb[127&ar[36+(0|ar[t>>2])>>2]](t):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,o=38;break}if(f)break;o=40;break}o=38}while(0);38==(0|o)&&f&&(o=40),40==(0|o)&&(ar[i>>2]=2|ar[i>>2])}function Rr(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c=0,l=0;o=ur=(a=ur)+31&-32,ur=ur+16|0,t=4+o|0,l=0|jb[127&ar[8+(0|ar[(l=(A|=0)+8|0)>>2])>>2]](l),c=(A=0|tr[l+11>>0])<<24>>24<0?0|ar[l+4>>2]:255&A,(A=0|tr[l+12+11>>0])<<24>>24<0?A=0|ar[l+16>>2]:A&=255;do{if((0|c)!=(0-A|0)){if(ar[o>>2]=ar[i>>2],ar[t>>2]=ar[o>>2],A=(0|Vn(r,t,l,l+24|0,n,f,0))-l|0,12==(0|(c=0|ar[e>>2]))&0==(0|A)){ar[e>>2]=0;break}(0|c)<12&12==(0|A)&&(ar[e>>2]=c+12)}else ar[f>>2]=4|ar[f>>2]}while(0);ur=a}function Nr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|Jr(r,A,f,n,2)))<61&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function _r(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|Jr(r,A,f,n,1)))<7&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Yr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],A=0|Jr(r,A,f,n,4),4&ar[f>>2]||(A=(0|A)<69?A+2e3|0:(0|A)<100?A+1900|0:A,ar[e>>2]=A+-1900),ur=t}function Qr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],A=0|Jr(r,A,f,n,4),4&ar[f>>2]||(ar[e>>2]=A+-1900),ur=t}function Dr(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0,a=0;A=0|ar[(e|=0)>>2];do{if(A){if(0|Mf(A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[n>>0]),-1)){ar[e>>2]=0,t=1;break}t=0==(0|ar[e>>2]);break}t=1}while(0);n=0|ar[r>>2];do{if(n){if(0|Mf(A=(0|(A=0|ar[n+12>>2]))==(0|ar[n+16>>2])?0|jb[127&ar[36+(0|ar[n>>2])>>2]](n):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,a=14;break}if(t){o=n,a=16;break}A=6,a=38;break}a=14}while(0);14==(0|a)&&(a=t?(A=6,38):(o=0,16));A:do{if(16==(0|a))if(A=0|ar[e>>2],A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[n>>0]),(0|xb[63&ar[36+(0|ar[f>>2])>>2]](f,255&A,0))<<24>>24==37){A=0|ar[e>>2],(0|(t=0|ar[(n=A+12|0)>>2]))==(0|ar[A+16>>2])?jb[127&ar[40+(0|ar[A>>2])>>2]](A):(ar[n>>2]=t+1,hf(0|tr[t>>0])),A=0|ar[e>>2];do{if(A){if(0|Mf(A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[n>>0]),-1)){ar[e>>2]=0,n=1;break}n=0==(0|ar[e>>2]);break}n=1}while(0);do{if(0|o){if(0|Mf(A=(0|(A=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0;break}if(n)break A;A=2,a=38;break A}}while(0);n&&(A=2,a=38)}else A=4,a=38}while(0);38==(0|a)&&(ar[i>>2]=ar[i>>2]|A)}function Jr(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;n=0|ar[(A|=0)>>2];do{if(n){if(0|Mf(n=(0|(t=0|ar[n+12>>2]))==(0|ar[n+16>>2])?0|jb[127&ar[36+(0|ar[n>>2])>>2]](n):0|hf(0|tr[t>>0]),-1)){ar[A>>2]=0,o=1;break}o=0==(0|ar[A>>2]);break}o=1}while(0);t=0|ar[e>>2];do{if(t){if(0|Mf(n=(0|(n=0|ar[t+12>>2]))==(0|ar[t+16>>2])?0|jb[127&ar[36+(0|ar[t>>2])>>2]](t):0|hf(0|tr[n>>0]),-1)){ar[e>>2]=0,k=14;break}if(o){k=17;break}k=16;break}k=14}while(0);14==(0|k)&&(k=o?16:(t=0,17));A:do{if(16==(0|k))ar[r>>2]=6|ar[r>>2],n=0;else if(17==(0|k)){if(n=0|ar[A>>2],-1<(o=255&(n=(0|(o=0|ar[n+12>>2]))==(0|ar[n+16>>2])?0|jb[127&ar[36+(0|ar[n>>2])>>2]](n):0|hf(0|tr[o>>0])))<<24>>24&&2048&or[(0|ar[(d=i+8|0)>>2])+(n<<24>>24<<1)>>1]){for(n=(0|xb[63&ar[36+(0|ar[i>>2])>>2]](i,o,0))<<24>>24,o=0|ar[A>>2],a=l=((0|(c=0|ar[(a=o+12|0)>>2]))==(0|ar[o+16>>2])?jb[127&ar[40+(0|ar[o>>2])>>2]](o):(ar[a>>2]=c+1,hf(0|tr[c>>0])),t);;){n=n+-48|0,s=f+-1|0,t=0|ar[A>>2];do{if(t){if(0|Mf(t=(0|(o=0|ar[t+12>>2]))==(0|ar[t+16>>2])?0|jb[127&ar[36+(0|ar[t>>2])>>2]](t):0|hf(0|tr[o>>0]),-1)){ar[A>>2]=0,c=1;break}c=0==(0|ar[A>>2]);break}c=1}while(0);do{if(a){if(0|Mf(t=(0|(t=0|ar[a+12>>2]))==(0|ar[a+16>>2])?0|jb[127&ar[36+(0|ar[a>>2])>>2]](a):0|hf(0|tr[t>>0]),-1)){t=1,u=b=ar[e>>2]=0;break}t=0==(0|(b=l)),u=l;break}b=l,t=1,u=0}while(0);if(o=0|ar[A>>2],!(1<(0|f)&(c^t)))break;if((o=255&(t=(0|(t=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|hf(0|tr[t>>0])))<<24>>24<=-1)break A;if(!(2048&or[(0|ar[d>>2])+(t<<24>>24<<1)>>1]))break A;n=((0|xb[63&ar[36+(0|ar[i>>2])>>2]](i,o,0))<<24>>24)+(10*n|0)|0,t=0|ar[A>>2],(0|(a=0|ar[(o=t+12|0)>>2]))!=(0|ar[t+16>>2])?(ar[o>>2]=a+1,hf(0|tr[a>>0]),f=s,l=b,a=u):(jb[127&ar[40+(0|ar[t>>2])>>2]](t),f=s,l=b,a=u)}do{if(o){if(0|Mf(t=(0|(t=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|hf(0|tr[t>>0]),-1)){ar[A>>2]=0,o=1;break}o=0==(0|ar[A>>2]);break}o=1}while(0);do{if(b){if(0|Mf(t=(0|(t=0|ar[b+12>>2]))==(0|ar[b+16>>2])?0|jb[127&ar[36+(0|ar[b>>2])>>2]](b):0|hf(0|tr[t>>0]),-1)){ar[e>>2]=0,k=62;break}if(o)break A;break}k=62}while(0);if(62==(0|k)&&!o)break;ar[r>>2]=2|ar[r>>2];break}ar[r>>2]=4|ar[r>>2],n=0}}while(0);return 0|n}function Mr(A){return 0|function(A){var e=0;e=A|=0;for(;0|ar[e>>2];)e=e+4|0;return e-A>>2|0}(A|=0)}function Tr(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a;a=ur=(t=ur)+31&-32,ur=ur+16|0,o=4+a|0,A=0|jb[127&ar[ar[(A=(A|=0)+8|0)>>2]>>2]](A),ar[a>>2]=ar[i>>2],ar[o>>2]=ar[a>>2],(0|(A=(0|ir(r,o,A,A+168|0,n,f,0))-A|0))<168&&(ar[e>>2]=((0|A)/12|0)%7|0),ur=t}function Ur(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a;a=ur=(t=ur)+31&-32,ur=ur+16|0,o=4+a|0,A=0|jb[127&ar[4+(0|ar[(A=(A|=0)+8|0)>>2])>>2]](A),ar[a>>2]=ar[i>>2],ar[o>>2]=ar[a>>2],(0|(A=(0|ir(r,o,A,A+288|0,n,f,0))-A|0))<288&&(ar[e>>2]=((0|A)/12|0)%12|0),ur=t}function Sr(A,e,r,i,f,n,t,o){A|=0,e|=0,r|=0,f|=0,n|=0,t|=0,o|=0;var a,c,l,u,b,s,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;b=ur=(s=ur)+31&-32,ur=ur+16|0,a=8+b|0,u=4+b|0,Tf(c=12+b|0,i|=0),l=0|un(c,59264),bn(c),d=ar[f>>2]=0;A:for(;;){for(g=(0|t)!=(0|o),k=d;;){if(d=0|ar[e>>2],!(g&0==(0|k)))break A;m=(h=d)?0|Uf(k=(0|(k=0|ar[d+12>>2]))==(0|ar[d+16>>2])?0|jb[127&ar[36+(0|ar[d>>2])>>2]](d):0|gf(0|ar[k>>2]),-1)?(v=1,d=ar[e>>2]=0):(v=0,h):(d=0,v=1,h),k=w=0|ar[r>>2];do{if(w){if(0|Uf(h=(0|(h=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[h>>2]),-1)){k=ar[r>>2]=0,Z=16;break}if(v)break;Z=58;break A}Z=16}while(0);if(16==(0|Z)){if(Z=0,v){Z=58;break A}w=0}if((0|xb[63&ar[52+(0|ar[l>>2])>>2]](l,0|ar[t>>2],0))<<24>>24==37){Z=19;break}if(0|xb[63&ar[12+(0|ar[l>>2])>>2]](l,8192,0|ar[t>>2])){Z=26;break}if(k=(0|(k=0|ar[(h=d+12|0)>>2]))==(0|ar[(w=d+16|0)>>2])?0|jb[127&ar[36+(0|ar[d>>2])>>2]](d):0|gf(0|ar[k>>2]),(0|(m=0|Hb[31&ar[28+(0|ar[l>>2])>>2]](l,k)))==(0|Hb[31&ar[28+(0|ar[l>>2])>>2]](l,0|ar[t>>2]))){Z=54;break}k=ar[f>>2]=4}e:do{if(19==(0|Z)){if(((Z=0)|(v=t+4|0))==(0|o)){Z=58;break A}switch((h=0|xb[63&ar[52+(0|ar[l>>2])>>2]](l,0|ar[v>>2],0))<<24>>24){case 48:case 69:if((0|(t=t+8|0))==(0|o)){Z=58;break A}w=h,d=0|xb[63&ar[52+(0|ar[l>>2])>>2]](l,0|ar[t>>2],0),t=v;break;default:w=0,d=h}g=0|ar[36+(0|ar[A>>2])>>2],ar[u>>2]=m,ar[b>>2]=k,ar[a>>2]=ar[u>>2],ar[c>>2]=ar[b>>2],g=0|es[15&g](A,a,c,i,f,n,d,w),ar[e>>2]=g,t=t+8|0}else if(26==(0|Z)){for(;;){if(((Z=0)|(t=t+4|0))==(0|o)){t=o;break}if(!(0|xb[63&ar[12+(0|ar[l>>2])>>2]](l,8192,0|ar[t>>2])))break;Z=26}for(k=w;;){d?0|Uf(h=(0|(h=0|ar[d+12>>2]))==(0|ar[d+16>>2])?0|jb[127&ar[36+(0|ar[d>>2])>>2]](d):0|gf(0|ar[h>>2]),-1)?(v=1,d=ar[e>>2]=0):v=0:(v=1,d=0);do{if(w){if(0|Uf(h=(0|(h=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[h>>2]),-1)){k=ar[r>>2]=0,Z=41;break}if(v^0==(0|k)){w=m=k;break}break e}Z=41}while(0);if(41==(0|Z)){if(Z=0,v)break e;m=k,w=0}if(k=(0|(k=0|ar[(h=d+12|0)>>2]))==(0|ar[(v=d+16|0)>>2])?0|jb[127&ar[36+(0|ar[d>>2])>>2]](d):0|gf(0|ar[k>>2]),!(0|xb[63&ar[12+(0|ar[l>>2])>>2]](l,8192,k)))break e;(0|(k=0|ar[h>>2]))!=(0|ar[v>>2])?(ar[h>>2]=k+4,gf(0|ar[k>>2]),k=m):(jb[127&ar[40+(0|ar[d>>2])>>2]](d),k=m)}}else if(54==(0|Z)){if(t=t+4|(Z=0),(0|(k=0|ar[h>>2]))==(0|ar[w>>2])){jb[127&ar[40+(0|ar[d>>2])>>2]](d);break}ar[h>>2]=k+4,gf(0|ar[k>>2]);break}}while(0);d=0|ar[f>>2]}58==(0|Z)&&(ar[f>>2]=4),h=d?0|Uf(t=(0|(t=0|ar[d+12>>2]))==(0|ar[d+16>>2])?0|jb[127&ar[36+(0|ar[d>>2])>>2]](d):0|gf(0|ar[t>>2]),-1)?(d=ar[e>>2]=0,1):0:(d=0,1),t=0|ar[r>>2];do{if(t){if(0|Uf(t=(0|(k=0|ar[t+12>>2]))==(0|ar[t+16>>2])?0|jb[127&ar[36+(0|ar[t>>2])>>2]](t):0|gf(0|ar[k>>2]),-1)){ar[r>>2]=0,Z=71;break}if(h)break;Z=73;break}Z=71}while(0);return 71==(0|Z)&&h&&(Z=73),73==(0|Z)&&(ar[f>>2]=2|ar[f>>2]),ur=s,0|d}function Or(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],((A=0|ii(r,A,f,n,2))+-1|0)>>>0<31&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function zr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|ii(r,A,f,n,2)))<24&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function jr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],((A=0|ii(r,A,f,n,2))+-1|0)>>>0<12&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Hr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|ii(r,A,f,n,3)))<366&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function xr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|ii(r,A,f,n,2)))<13&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A+-1:ar[f>>2]=4|r,ur=t}function Pr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|ii(r,A,f,n,2)))<60&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Lr(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0;A:for(;;){A=0|ar[e>>2];do{if(A){if(0|Uf(A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[n>>2]),-1)){ar[e>>2]=0,t=1;break}t=0==(0|ar[e>>2]);break}t=1}while(0);n=0|ar[r>>2];do{if(n){if(0|Uf(A=(0|(A=0|ar[n+12>>2]))==(0|ar[n+16>>2])?0|jb[127&ar[36+(0|ar[n>>2])>>2]](n):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,o=15;break}if(t){t=n;break}t=n;break A}o=15}while(0);if(15==(0|o)){if(o=0,t){t=0;break}t=0}if(A=0|ar[e>>2],A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[n>>2]),!(0|xb[63&ar[12+(0|ar[f>>2])>>2]](f,8192,A)))break;A=0|ar[e>>2],(0|(t=0|ar[(n=A+12|0)>>2]))!=(0|ar[A+16>>2])?(ar[n>>2]=t+4,gf(0|ar[t>>2])):jb[127&ar[40+(0|ar[A>>2])>>2]](A)}A=0|ar[e>>2];do{if(A){if(0|Uf(A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[n>>2]),-1)){ar[e>>2]=0,n=1;break}n=0==(0|ar[e>>2]);break}n=1}while(0);do{if(t){if(0|Uf(A=(0|(A=0|ar[t+12>>2]))==(0|ar[t+16>>2])?0|jb[127&ar[36+(0|ar[t>>2])>>2]](t):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,o=37;break}if(n)break;o=39;break}o=37}while(0);37==(0|o)&&n&&(o=39),39==(0|o)&&(ar[i>>2]=2|ar[i>>2])}function Kr(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c=0,l=0;o=ur=(a=ur)+31&-32,ur=ur+16|0,t=4+o|0,l=0|jb[127&ar[8+(0|ar[(l=(A|=0)+8|0)>>2])>>2]](l),c=(A=0|tr[l+8+3>>0])<<24>>24<0?0|ar[l+4>>2]:255&A,(A=0|tr[l+20+3>>0])<<24>>24<0?A=0|ar[l+16>>2]:A&=255;do{if((0|c)!=(0-A|0)){if(ar[o>>2]=ar[i>>2],ar[t>>2]=ar[o>>2],A=(0|ir(r,t,l,l+24|0,n,f,0))-l|0,12==(0|(c=0|ar[e>>2]))&0==(0|A)){ar[e>>2]=0;break}(0|c)<12&12==(0|A)&&(ar[e>>2]=c+12)}else ar[f>>2]=4|ar[f>>2]}while(0);ur=a}function qr(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|ii(r,A,f,n,2)))<61&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function $r(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],(0|(A=0|ii(r,A,f,n,1)))<7&0==(4&(r=0|ar[f>>2])|0)?ar[e>>2]=A:ar[f>>2]=4|r,ur=t}function Ai(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],A=0|ii(r,A,f,n,4),4&ar[f>>2]||(A=(0|A)<69?A+2e3|0:(0|A)<100?A+1900|0:A,ar[e>>2]=A+-1900),ur=t}function ei(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o;o=ur=(t=ur)+31&-32,ur=ur+16|0,A=4+o|0,ar[o>>2]=ar[i>>2],ar[A>>2]=ar[o>>2],A=0|ii(r,A,f,n,4),4&ar[f>>2]||(ar[e>>2]=A+-1900),ur=t}function ri(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0,a=0;A=0|ar[(e|=0)>>2];do{if(A){if(0|Uf(A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[n>>2]),-1)){ar[e>>2]=0,t=1;break}t=0==(0|ar[e>>2]);break}t=1}while(0);n=0|ar[r>>2];do{if(n){if(0|Uf(A=(0|(A=0|ar[n+12>>2]))==(0|ar[n+16>>2])?0|jb[127&ar[36+(0|ar[n>>2])>>2]](n):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,a=14;break}if(t){o=n,a=16;break}A=6,a=38;break}a=14}while(0);14==(0|a)&&(a=t?(A=6,38):(o=0,16));A:do{if(16==(0|a))if(A=0|ar[e>>2],A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[n>>2]),(0|xb[63&ar[52+(0|ar[f>>2])>>2]](f,A,0))<<24>>24==37){A=0|ar[e>>2],(0|(t=0|ar[(n=A+12|0)>>2]))==(0|ar[A+16>>2])?jb[127&ar[40+(0|ar[A>>2])>>2]](A):(ar[n>>2]=t+4,gf(0|ar[t>>2])),A=0|ar[e>>2];do{if(A){if(0|Uf(A=(0|(n=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[n>>2]),-1)){ar[e>>2]=0,n=1;break}n=0==(0|ar[e>>2]);break}n=1}while(0);do{if(0|o){if(0|Uf(A=(0|(A=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0;break}if(n)break A;A=2,a=38;break A}}while(0);n&&(A=2,a=38)}else A=4,a=38}while(0);38==(0|a)&&(ar[i>>2]=ar[i>>2]|A)}function ii(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0;n=0|ar[(A|=0)>>2];do{if(n){if(0|Uf(n=(0|(t=0|ar[n+12>>2]))==(0|ar[n+16>>2])?0|jb[127&ar[36+(0|ar[n>>2])>>2]](n):0|gf(0|ar[t>>2]),-1)){ar[A>>2]=0,o=1;break}o=0==(0|ar[A>>2]);break}o=1}while(0);t=0|ar[e>>2];do{if(t){if(0|Uf(n=(0|(n=0|ar[t+12>>2]))==(0|ar[t+16>>2])?0|jb[127&ar[36+(0|ar[t>>2])>>2]](t):0|gf(0|ar[n>>2]),-1)){ar[e>>2]=0,d=14;break}if(o){d=17;break}d=16;break}d=14}while(0);14==(0|d)&&(d=o?16:(t=0,17));A:do{if(16==(0|d))ar[r>>2]=6|ar[r>>2],n=0;else if(17==(0|d)){if(n=0|ar[A>>2],n=(0|(o=0|ar[n+12>>2]))==(0|ar[n+16>>2])?0|jb[127&ar[36+(0|ar[n>>2])>>2]](n):0|gf(0|ar[o>>2]),!(0|xb[63&ar[12+(0|ar[i>>2])>>2]](i,2048,n))){ar[r>>2]=4|ar[r>>2],n=0;break}for(n=(0|xb[63&ar[52+(0|ar[i>>2])>>2]](i,n,0))<<24>>24,o=0|ar[A>>2],a=l=((0|(c=0|ar[(a=o+12|0)>>2]))==(0|ar[o+16>>2])?jb[127&ar[40+(0|ar[o>>2])>>2]](o):(ar[a>>2]=c+4,gf(0|ar[c>>2])),t);;){n=n+-48|0,s=f+-1|0,t=0|ar[A>>2];do{if(t){if(0|Uf(t=(0|(o=0|ar[t+12>>2]))==(0|ar[t+16>>2])?0|jb[127&ar[36+(0|ar[t>>2])>>2]](t):0|gf(0|ar[o>>2]),-1)){ar[A>>2]=0,c=1;break}c=0==(0|ar[A>>2]);break}c=1}while(0);do{if(a){if(0|Uf(t=(0|(t=0|ar[a+12>>2]))==(0|ar[a+16>>2])?0|jb[127&ar[36+(0|ar[a>>2])>>2]](a):0|gf(0|ar[t>>2]),-1)){t=1,u=b=ar[e>>2]=0;break}t=0==(0|(b=l)),u=l;break}b=l,t=1,u=0}while(0);if(o=0|ar[A>>2],!(1<(0|f)&(c^t)))break;if(t=(0|(t=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|gf(0|ar[t>>2]),!(0|xb[63&ar[12+(0|ar[i>>2])>>2]](i,2048,t)))break A;n=((0|xb[63&ar[52+(0|ar[i>>2])>>2]](i,t,0))<<24>>24)+(10*n|0)|0,t=0|ar[A>>2],(0|(a=0|ar[(o=t+12|0)>>2]))!=(0|ar[t+16>>2])?(ar[o>>2]=a+4,gf(0|ar[a>>2]),f=s,l=b,a=u):(jb[127&ar[40+(0|ar[t>>2])>>2]](t),f=s,l=b,a=u)}do{if(o){if(0|Uf(t=(0|(t=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|gf(0|ar[t>>2]),-1)){ar[A>>2]=0,o=1;break}o=0==(0|ar[A>>2]);break}o=1}while(0);do{if(b){if(0|Uf(t=(0|(t=0|ar[b+12>>2]))==(0|ar[b+16>>2])?0|jb[127&ar[36+(0|ar[b>>2])>>2]](b):0|gf(0|ar[t>>2]),-1)){ar[e>>2]=0,d=60;break}if(o)break A;break}d=60}while(0);if(60==(0|d)&&!o)break;ar[r>>2]=2|ar[r>>2]}}while(0);return 0|n}function fi(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u=0;t=ur=(a=ur)+31&-32,ur=ur+16|0,tr[t>>0]=37,tr[(o=1+t|0)>>0]=f,tr[(u=2+t|0)>>0]=n,tr[3+t>>0]=0,n<<24>>24&&(tr[o>>0]=n,tr[u>>0]=f),u=0|(c=e,l=0|ar[r>>2],(l|=0)-(c|=0)|0),u=e+(0|EA(0|e,0|u,0|t,0|i,0|ar[A>>2]))|0,ar[r>>2]=u,ur=a}function ni(A){(0|(0|ar[(A|=0)>>2]))!=(0|dn())&&of(0|ar[A>>2])}function ti(){lA()}function oi(A,e,r){return A|=0,r|=0,0|(e|=0)&&vb(0|A,255&(0|hf(r))|0,0|e),0|A}function ai(A,e,r,i,f,n,t,o,a,c,l){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0;var u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0;for(V=ur=(J=ur)+31&-32,ur=ur+512|0,j=96+V|0,D=80+V|0,G=72+V|0,E=68+V|0,X=500+V|0,W=497+V|0,I=496+V|0,F=56+V|0,R=44+V|0,N=32+V|0,_=20+V|0,Y=8+V|0,C=4+V|0,ar[(B=88+V|0)>>2]=l,ar[D>>2]=j,ar[(Q=4+D|0)>>2]=444,ar[G>>2]=j,ar[E>>2]=j+400,ar[F>>2]=0,ar[4+F>>2]=0,l=ar[8+F>>2]=0;3!=(0|l);)l=l+1|(ar[F+(l<<2)>>2]=0);for(ar[R>>2]=0,ar[4+R>>2]=0,l=ar[8+R>>2]=0;3!=(0|l);)l=l+1|(ar[R+(l<<2)>>2]=0);for(ar[N>>2]=0,ar[4+N>>2]=0,l=ar[8+N>>2]=0;3!=(0|l);)l=l+1|(ar[N+(l<<2)>>2]=0);for(ar[_>>2]=0,ar[4+_>>2]=0,l=ar[8+_>>2]=0;3!=(0|l);)l=l+1|(ar[_+(l<<2)>>2]=0);for(ar[Y>>2]=0,ar[4+Y>>2]=0,l=ar[8+Y>>2]=0;3!=(0|l);)l=l+1|(ar[Y+(l<<2)>>2]=0);!function(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b;if(u=ur=(b=ur)+31&-32,ur=ur+16|0,l=12+u|0,A|=0){for(e=0|un(e,60952),fs[63&ar[44+(0|ar[e>>2])>>2]](l,e),A=0|ar[l>>2],tr[r>>0]=A,tr[r+1>>0]=A>>8,tr[r+2>>0]=A>>16,tr[r+3>>0]=A>>24,fs[63&ar[32+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=a+11|0)>>0])<0?(A=0|ar[a>>2],tr[l>>0]=0,Qf(A,l),ar[a+4>>2]=0):(tr[l>>0]=0,Qf(a,l),tr[A>>0]=0),a),Cu(a,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Bu(u),fs[63&ar[28+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=o+11|0)>>0])<0?(A=0|ar[o>>2],tr[l>>0]=0,Qf(A,l),ar[o+4>>2]=0):(tr[l>>0]=0,Qf(o,l),tr[A>>0]=0),o),Cu(o,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Bu(u),A=0|jb[127&ar[12+(0|ar[e>>2])>>2]](e),tr[i>>0]=A,A=0|jb[127&ar[16+(0|ar[e>>2])>>2]](e),tr[f>>0]=A,fs[63&ar[20+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=n+11|0)>>0])<0?(A=0|ar[n>>2],tr[l>>0]=0,Qf(A,l),ar[n+4>>2]=0):(tr[l>>0]=0,Qf(n,l),tr[A>>0]=0),n),Cu(n,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Bu(u),fs[63&ar[24+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=t+11|0)>>0])<0?(A=0|ar[t>>2],tr[l>>0]=0,Qf(A,l),ar[t+4>>2]=0):(tr[l>>0]=0,Qf(t,l),tr[A>>0]=0),t),Cu(t,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;Bu(u),A=0|jb[127&ar[36+(0|ar[e>>2])>>2]](e)}else{for(e=0|un(e,60944),fs[63&ar[44+(0|ar[e>>2])>>2]](l,e),A=0|ar[l>>2],tr[r>>0]=A,tr[r+1>>0]=A>>8,tr[r+2>>0]=A>>16,tr[r+3>>0]=A>>24,fs[63&ar[32+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=a+11|0)>>0])<0?(A=0|ar[a>>2],tr[l>>0]=0,Qf(A,l),ar[a+4>>2]=0):(tr[l>>0]=0,Qf(a,l),tr[A>>0]=0),a),Cu(a,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Bu(u),fs[63&ar[28+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=o+11|0)>>0])<0?(A=0|ar[o>>2],tr[l>>0]=0,Qf(A,l),ar[o+4>>2]=0):(tr[l>>0]=0,Qf(o,l),tr[A>>0]=0),o),Cu(o,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Bu(u),A=0|jb[127&ar[12+(0|ar[e>>2])>>2]](e),tr[i>>0]=A,A=0|jb[127&ar[16+(0|ar[e>>2])>>2]](e),tr[f>>0]=A,fs[63&ar[20+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=n+11|0)>>0])<0?(A=0|ar[n>>2],tr[l>>0]=0,Qf(A,l),ar[n+4>>2]=0):(tr[l>>0]=0,Qf(n,l),tr[A>>0]=0),n),Cu(n,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Bu(u),fs[63&ar[24+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=t+11|0)>>0])<0?(A=0|ar[t>>2],tr[l>>0]=0,Qf(A,l),ar[t+4>>2]=0):(tr[l>>0]=0,Qf(t,l),tr[A>>0]=0),t),Cu(t,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;Bu(u),A=0|jb[127&ar[36+(0|ar[e>>2])>>2]](e)}ar[c>>2]=A,ur=b}(r,i,X,W,I,F,R,N,_,C),ar[c>>2]=ar[a>>2],m=o+8|0,g=11+N|0,Z=4+N|0,p=11+_|0,y=4+_|0,u=0!=(512&f|0),b=11+R|0,s=4+R|0,d=11+Y|0,k=4+Y|0,h=3+X|0,w=11+F|0,v=4+F|0,z=j=0;A:for(;;){if(o=0!=(0|j),4<=z>>>0){H=234;break}l=0|ar[A>>2];do{if(l){if(0|Mf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);r=0|ar[e>>2];do{if(r){if(0|Mf(l=(0|(l=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|hf(0|tr[l>>0]),-1)){ar[e>>2]=0,H=31;break}if(i){O=r;break}H=234;break A}H=31}while(0);if(31==(0|H)){if(H=0,i){H=234;break}O=0}l=3!=(0|z);e:do{switch(0|tr[X+z>>0]){case 1:if(l){if(l=0|ar[A>>2],(255&(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0])))<<24>>24<=-1){H=44;break A}if(!(8192&or[(0|ar[m>>2])+(l<<24>>24<<1)>>1])){H=44;break A}l=0|ar[A>>2],_u(Y,255&(l=(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+1,0|hf(0|tr[i>>0])))),o=l=O,H=46}else l=j;break;case 0:l?(o=l=O,H=46):l=j;break;case 3:if((0|(l=(l=0|tr[g>>0])<<24>>24<0?0|ar[Z>>2]:255&l))==(0-(o=(o=0|tr[p>>0])<<24>>24<0?0|ar[y>>2]:255&o)|0))l=j;else{if(f=0==(0|l),l=0|ar[A>>2],i=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2]),f|0==(0|o)){if(l=i?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),l&=255,f){if(l<<24>>24!=(0|tr[((0|tr[p>>0])<0?0|ar[_>>2]:_)>>0])){l=j;break e}l=0|ar[A>>2],(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+1,hf(0|tr[i>>0])),l=(tr[t>>0]=1)<((l=0|tr[p>>0])<<24>>24<0?0|ar[y>>2]:255&l)>>>0?_:j;break e}if(l<<24>>24!=(0|tr[((0|tr[g>>0])<0?0|ar[N>>2]:N)>>0])){tr[t>>0]=1,l=j;break e}l=0|ar[A>>2],(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+1,hf(0|tr[i>>0])),l=1<((l=0|tr[g>>0])<<24>>24<0?0|ar[Z>>2]:255&l)>>>0?N:j;break e}if(l=i?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),r=0|ar[A>>2],f=(0|(o=0|ar[(i=r+12|0)>>2]))==(0|ar[r+16>>2]),(255&l)<<24>>24==(0|tr[((0|tr[g>>0])<0?0|ar[N>>2]:N)>>0])){f?jb[127&ar[40+(0|ar[r>>2])>>2]](r):(ar[i>>2]=o+1,hf(0|tr[o>>0])),l=1<((l=0|tr[g>>0])<<24>>24<0?0|ar[Z>>2]:255&l)>>>0?N:j;break e}if((255&(l=f?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|hf(0|tr[o>>0])))<<24>>24!=(0|tr[((0|tr[p>>0])<0?0|ar[_>>2]:_)>>0])){H=103;break A}l=0|ar[A>>2],(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+1,hf(0|tr[i>>0])),l=(tr[t>>0]=1)<((l=0|tr[p>>0])<<24>>24<0?0|ar[y>>2]:255&l)>>>0?_:j}break;case 2:if(!(z>>>0<2|o)&&!(u|2==(0|z)&0!=(0|tr[h>>0]))){l=0;break e}l=(r=0|tr[b>>0])<<24>>24<0,U=0|ar[R>>2],T=i=l?U:R;r:do{if(0!=(0|z)&&(0|cr[X+(z+-1)>>0])<2){for(l=i+(l?0|ar[s>>2]:255&r)|0,M=T;(0|(o=M))!=(0|l)&&!((f=0|tr[o>>0])<<24>>24<=-1)&&8192&or[(0|ar[m>>2])+(f<<24>>24<<1)>>1];)M=o+1|0;if((f=M-T|0)>>>0<=(o=(l=(o=0|tr[d>>0])<<24>>24<0)?0|ar[k>>2]:255&o)>>>0)for(l=(o=(l?0|ar[Y>>2]:Y)+o|0)+(0-f)|0;;){if((0|l)==(0|o)){i=M,l=U,o=S=O;break r}if((0|tr[l>>0])!=(0|tr[i>>0])){i=T,l=U,o=S=O;break r}i=i+1|0,l=l+1|0}else i=T,l=U,o=S=O}else i=T,l=U,o=S=O}while(0);r:for(;l=((M=r<<24>>24<0)?l:R)+(M?0|ar[s>>2]:255&r)|0,(0|(M=i))!=(0|l);){l=0|ar[A>>2];do{if(l){if(0|Mf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),-1)){ar[A>>2]=0,r=1;break}r=0==(0|ar[A>>2]);break}r=1}while(0);do{if(o){if(0|Mf(l=(0|(l=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|hf(0|tr[l>>0]),-1)){l=ar[e>>2]=0,H=132;break}if(r^0==(0|S)){f=l=S;break}l=M;break r}l=S,H=132}while(0);if(132==(0|H)){if(H=0,r){l=M;break}f=0}if(r=0|ar[A>>2],(255&(r=(0|(i=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|hf(0|tr[i>>0])))<<24>>24!=(0|tr[M>>0])){l=M;break}r=0|ar[A>>2],(0|(o=0|ar[(i=r+12|0)>>2]))==(0|ar[r+16>>2])?jb[127&ar[40+(0|ar[r>>2])>>2]](r):(ar[i>>2]=o+1,hf(0|tr[o>>0])),S=l,i=M+1|0,r=0|tr[b>>0],l=0|ar[R>>2],o=f}if(u&&(0|l)!=(((S=(O=0|tr[b>>0])<<24>>24<0)?0|ar[R>>2]:R)+(S?0|ar[s>>2]:255&O)|0)){H=144;break A}l=j;break;case 4:T=0,o=l=O;r:for(;;){r=0|ar[A>>2];do{if(r){if(0|Mf(r=(0|(i=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|hf(0|tr[i>>0]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);do{if(o){if(0|Mf(r=(0|(r=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|hf(0|tr[r>>0]),-1)){l=ar[e>>2]=0,H=158;break}if(i^0==(0|l)){M=f=l;break}o=l;break r}H=158}while(0);if(158==(0|H)){if(H=0,i){o=l;break}f=l,M=0}if(l=0|ar[A>>2],-1<(r=255&(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0])))<<24>>24&&0!=(2048&or[(0|ar[m>>2])+(l<<24>>24<<1)>>1]))(0|(l=0|ar[c>>2]))==(0|ar[B>>2])&&(li(a,c,B),l=0|ar[c>>2]),ar[c>>2]=l+1,tr[l>>0]=r,l=T+1|0;else{if(O=0|tr[w>>0],!(r<<24>>24==(0|tr[I>>0])&(0|T?0!=(0|(O<<24>>24<0?0|ar[v>>2]:255&O)):0))){o=f;break}(0|(l=0|ar[G>>2]))==(0|ar[E>>2])&&(ui(D,G,E),l=0|ar[G>>2]),ar[G>>2]=l+4,ar[l>>2]=T,l=0}r=0|ar[A>>2],(0|(o=0|ar[(i=r+12|0)>>2]))!=(0|ar[r+16>>2])?(ar[i>>2]=o+1,hf(0|tr[o>>0]),T=l,l=f,o=M):(jb[127&ar[40+(0|ar[r>>2])>>2]](r),T=l,l=f,o=M)}l=0|ar[G>>2],0|T&&(0|ar[D>>2])!=(0|l)&&((0|l)==(0|ar[E>>2])&&(ui(D,G,E),l=0|ar[G>>2]),ar[G>>2]=l+4,ar[l>>2]=T);r:do{if(0<(0|ar[C>>2])){l=0|ar[A>>2];do{if(l){if(0|Mf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),-1)){ar[A>>2]=0,r=1;break}r=0==(0|ar[A>>2]);break}r=1}while(0);do{if(o){if(0|Mf(l=(0|(l=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|hf(0|tr[l>>0]),-1)){ar[e>>2]=0,H=193;break}if(r)break;H=232;break A}H=193}while(0);if(193==(0|H)){if(H=0,r){H=232;break A}o=0}if(l=0|ar[A>>2],(255&(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0])))<<24>>24!=(0|tr[W>>0])){H=232;break A}for(l=0|ar[A>>2],l=((0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+1,hf(0|tr[i>>0])),o);;){if((0|ar[C>>2])<=0)break r;r=0|ar[A>>2];do{if(r){if(0|Mf(r=(0|(i=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|hf(0|tr[i>>0]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);do{if(o){if(0|Mf(r=(0|(r=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|hf(0|tr[r>>0]),-1)){l=ar[e>>2]=0,H=216;break}if(i^0==(0|l)){o=f=l;break}H=232;break A}H=216}while(0);if(216==(0|H)){if(H=0,i){H=232;break A}f=l,o=0}if(l=0|ar[A>>2],(255&(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0])))<<24>>24<=-1){H=232;break A}if(!(2048&or[(0|ar[m>>2])+(l<<24>>24<<1)>>1])){H=232;break A}(0|ar[c>>2])==(0|ar[B>>2])&&li(a,c,B),l=0|ar[A>>2],l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),r=0|ar[c>>2],ar[c>>2]=r+1,tr[r>>0]=l,ar[C>>2]=(0|ar[C>>2])-1,l=0|ar[A>>2],(0|(i=0|ar[(r=l+12|0)>>2]))!=(0|ar[l+16>>2])?(ar[r>>2]=i+1,hf(0|tr[i>>0]),l=f):(jb[127&ar[40+(0|ar[l>>2])>>2]](l),l=f)}}}while(0);if((0|ar[c>>2])==(0|ar[a>>2])){H=232;break A}l=j;break;default:l=j}}while(0);e:do{if(46==(0|H))for(;;){r=(H=0)|ar[A>>2];do{if(r){if(0|Mf(r=(0|(i=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|hf(0|tr[i>>0]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);do{if(o){if(0|Mf(r=(0|(r=0|ar[o+12>>2]))==(0|ar[o+16>>2])?0|jb[127&ar[36+(0|ar[o>>2])>>2]](o):0|hf(0|tr[r>>0]),-1)){l=ar[e>>2]=0,H=59;break}if(i^0==(0|l)){o=f=l;break}l=j;break e}H=59}while(0);if(59==(0|H)){if(H=0,i){l=j;break e}f=l,o=0}if(l=0|ar[A>>2],(255&(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0])))<<24>>24<=-1){l=j;break e}if(!(8192&or[(0|ar[m>>2])+(l<<24>>24<<1)>>1])){l=j;break e}l=0|ar[A>>2],_u(Y,255&(l=(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+1,0|hf(0|tr[i>>0])))),l=f,H=46}}while(0);j=l,z=z+1|0}A:do{if(44==(0|H))ar[n>>2]=4|ar[n>>2],r=0;else if(103==(0|H))ar[n>>2]=4|ar[n>>2],r=0;else if(144==(0|H))ar[n>>2]=4|ar[n>>2],r=0;else if(232==(0|H))ar[n>>2]=4|ar[n>>2],r=0;else if(234==(0|H)){e:do{if(o){f=j+11|0,M=j+4|0,o=1;r:for(;;){if((l=0|tr[f>>0])<<24>>24<0?l=0|ar[M>>2]:l&=255,l>>>0<=o>>>0)break e;l=0|ar[A>>2];do{if(l){if(0|Mf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);l=0|ar[e>>2];do{if(l){if(0|Mf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),-1)){ar[e>>2]=0,H=253;break}if(i)break;break r}H=253}while(0);if(253==(0|H)&&(H=0,i))break;if(l=0|ar[A>>2],l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|hf(0|tr[r>>0]),r=(0|tr[f>>0])<0?0|ar[j>>2]:j,(255&l)<<24>>24!=(0|tr[r+o>>0]))break;l=o+1|0,r=0|ar[A>>2],(0|(o=0|ar[(i=r+12|0)>>2]))!=(0|ar[r+16>>2])?(ar[i>>2]=o+1,hf(0|tr[o>>0]),o=l):(jb[127&ar[40+(0|ar[r>>2])>>2]](r),o=l)}ar[n>>2]=4|ar[n>>2],r=0;break A}}while(0);if((0|(r=0|ar[D>>2]))!=(0|(l=0|ar[G>>2]))){if(ar[V>>2]=0,gn(F,r,l,V),0|ar[V>>2]){ar[n>>2]=4|ar[n>>2],r=0;break}r=1;break}r=1}}while(0);return Bu(Y),Bu(_),Bu(N),Bu(R),Bu(F),l=0|ar[D>>2],(ar[D>>2]=0)|l&&is[511&ar[Q>>2]](l),ur=J,0|r}function ci(A,e,r){return(e|=0)>>>0<=(A|=0)>>>0&A>>>0<(r|=0)>>>0|0}function li(A,e,r){e|=0,r|=0;var i,f,n=0,t=0,o=0;t=444!=(0|ar[(f=(A|=0)+4|0)>>2]),n=0|ar[A>>2],o=0==(0|(o=(o=(0|ar[r>>2])-n|0)>>>0<2147483647?o<<1:-1))?1:o,i=(0|ar[e>>2])-n|0,(n=0|Ec(t?n:0,o))||gu(),t?ar[A>>2]=n:(t=0|ar[A>>2],ar[A>>2]=n,t&&(is[511&ar[f>>2]](t),n=0|ar[A>>2])),ar[f>>2]=445,ar[e>>2]=n+i,ar[r>>2]=(0|ar[A>>2])+o}function ui(A,e,r){e|=0,r|=0;var i,f,n=0,t=0,o=0;t=444!=(0|ar[(f=(A|=0)+4|0)>>2]),n=0|ar[A>>2],o=0==(0|(o=(o=(0|ar[r>>2])-n|0)>>>0<2147483647?o<<1:-1))?4:o,i=(0|ar[e>>2])-n>>2,(n=0|Ec(t?n:0,o))||gu(),t?ar[A>>2]=n:(t=0|ar[A>>2],ar[A>>2]=n,t&&(is[511&ar[f>>2]](t),n=0|ar[A>>2])),ar[f>>2]=445,ar[e>>2]=n+(i<<2),ar[r>>2]=(0|ar[A>>2])+(o>>>2<<2)}function bi(A,e,r,i,f,n,t,o,a,c,l){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0;var u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0;for(G=ur=(D=ur)+31&-32,ur=ur+512|0,z=104+G|0,Q=88+G|0,C=80+G|0,B=76+G|0,E=504+G|0,X=72+G|0,W=68+G|0,V=56+G|0,F=44+G|0,R=32+G|0,N=20+G|0,_=8+G|0,I=4+G|0,ar[(y=96+G|0)>>2]=l,ar[Q>>2]=z,ar[(Y=4+Q|0)>>2]=444,ar[C>>2]=z,ar[B>>2]=z+400,ar[V>>2]=0,ar[4+V>>2]=0,l=ar[8+V>>2]=0;3!=(0|l);)l=l+1|(ar[V+(l<<2)>>2]=0);for(ar[F>>2]=0,ar[4+F>>2]=0,l=ar[8+F>>2]=0;3!=(0|l);)l=l+1|(ar[F+(l<<2)>>2]=0);for(ar[R>>2]=0,ar[4+R>>2]=0,l=ar[8+R>>2]=0;3!=(0|l);)l=l+1|(ar[R+(l<<2)>>2]=0);for(ar[N>>2]=0,ar[4+N>>2]=0,l=ar[8+N>>2]=0;3!=(0|l);)l=l+1|(ar[N+(l<<2)>>2]=0);for(ar[_>>2]=0,ar[4+_>>2]=0,l=ar[8+_>>2]=0;3!=(0|l);)l=l+1|(ar[_+(l<<2)>>2]=0);!function(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b;if(u=ur=(b=ur)+31&-32,ur=ur+16|0,l=12+u|0,A|=0){for(e=0|un(e,60968),fs[63&ar[44+(0|ar[e>>2])>>2]](l,e),A=0|ar[l>>2],tr[r>>0]=A,tr[r+1>>0]=A>>8,tr[r+2>>0]=A>>16,tr[r+3>>0]=A>>24,fs[63&ar[32+(0|ar[e>>2])>>2]](u,e),(0|tr[(A=a+8+3|0)>>0])<0?(r=0|ar[a>>2],ar[l>>2]=0,ln(r,l),ar[a+4>>2]=0):(ar[l>>2]=0,ln(a,l),tr[A>>0]=0),Mu(a,0),ar[a>>2]=ar[u>>2],ar[a+4>>2]=ar[4+u>>2],ar[a+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Qu(u),fs[63&ar[28+(0|ar[e>>2])>>2]](u,e),(0|tr[(A=o+8+3|0)>>0])<0?(a=0|ar[o>>2],ar[l>>2]=0,ln(a,l),ar[o+4>>2]=0):(ar[l>>2]=0,ln(o,l),tr[A>>0]=0),Mu(o,0),ar[o>>2]=ar[u>>2],ar[o+4>>2]=ar[4+u>>2],ar[o+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Qu(u),A=0|jb[127&ar[12+(0|ar[e>>2])>>2]](e),ar[i>>2]=A,A=0|jb[127&ar[16+(0|ar[e>>2])>>2]](e),ar[f>>2]=A,fs[63&ar[20+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=n+11|0)>>0])<0?(A=0|ar[n>>2],tr[l>>0]=0,Qf(A,l),ar[n+4>>2]=0):(tr[l>>0]=0,Qf(n,l),tr[A>>0]=0),n),Cu(n,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Bu(u),fs[63&ar[24+(0|ar[e>>2])>>2]](u,e),(0|tr[(A=t+8+3|0)>>0])<0?(n=0|ar[t>>2],ar[l>>2]=0,ln(n,l),ar[t+4>>2]=0):(ar[l>>2]=0,ln(t,l),tr[A>>0]=0),Mu(t,0),ar[t>>2]=ar[u>>2],ar[t+4>>2]=ar[4+u>>2],ar[t+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;Qu(u),A=0|jb[127&ar[36+(0|ar[e>>2])>>2]](e)}else{for(e=0|un(e,60960),fs[63&ar[44+(0|ar[e>>2])>>2]](l,e),A=0|ar[l>>2],tr[r>>0]=A,tr[r+1>>0]=A>>8,tr[r+2>>0]=A>>16,tr[r+3>>0]=A>>24,fs[63&ar[32+(0|ar[e>>2])>>2]](u,e),(0|tr[(A=a+8+3|0)>>0])<0?(r=0|ar[a>>2],ar[l>>2]=0,ln(r,l),ar[a+4>>2]=0):(ar[l>>2]=0,ln(a,l),tr[A>>0]=0),Mu(a,0),ar[a>>2]=ar[u>>2],ar[a+4>>2]=ar[4+u>>2],ar[a+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Qu(u),fs[63&ar[28+(0|ar[e>>2])>>2]](u,e),(0|tr[(A=o+8+3|0)>>0])<0?(a=0|ar[o>>2],ar[l>>2]=0,ln(a,l),ar[o+4>>2]=0):(ar[l>>2]=0,ln(o,l),tr[A>>0]=0),Mu(o,0),ar[o>>2]=ar[u>>2],ar[o+4>>2]=ar[4+u>>2],ar[o+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Qu(u),A=0|jb[127&ar[12+(0|ar[e>>2])>>2]](e),ar[i>>2]=A,A=0|jb[127&ar[16+(0|ar[e>>2])>>2]](e),ar[f>>2]=A,fs[63&ar[20+(0|ar[e>>2])>>2]](u,e),A=((0|tr[(A=n+11|0)>>0])<0?(A=0|ar[n>>2],tr[l>>0]=0,Qf(A,l),ar[n+4>>2]=0):(tr[l>>0]=0,Qf(n,l),tr[A>>0]=0),n),Cu(n,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;for(Bu(u),fs[63&ar[24+(0|ar[e>>2])>>2]](u,e),(0|tr[(A=t+8+3|0)>>0])<0?(n=0|ar[t>>2],ar[l>>2]=0,ln(n,l),ar[t+4>>2]=0):(ar[l>>2]=0,ln(t,l),tr[A>>0]=0),Mu(t,0),ar[t>>2]=ar[u>>2],ar[t+4>>2]=ar[4+u>>2],ar[t+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)ar[u+(A<<2)>>2]=0,A=A+1|0;Qu(u),A=0|jb[127&ar[36+(0|ar[e>>2])>>2]](e)}ar[c>>2]=A,ur=b}(r,i,E,X,W,V,F,R,N,I),ar[c>>2]=ar[a>>2],m=8+R+3|0,g=4+R|0,Z=8+N+3|0,p=4+N|0,u=0!=(512&f|0),b=8+F+3|0,s=4+F|0,d=8+_+3|0,k=4+_|0,h=3+E|0,w=11+V|0,v=4+V|0,O=z=0;A:for(;;){if(f=0!=(0|z),4<=O>>>0){j=229;break}l=0|ar[A>>2];do{if(l){if(0|Uf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);r=0|ar[e>>2];do{if(r){if(0|Uf(l=(0|(l=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|gf(0|ar[l>>2]),-1)){ar[e>>2]=0,j=31;break}if(i){S=r;break}j=229;break A}j=31}while(0);if(31==(0|j)){if(j=0,i){j=229;break}S=0}l=3!=(0|O);e:do{switch(0|tr[E+O>>0]){case 1:if(l){if(l=0|ar[A>>2],l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),!(0|xb[63&ar[12+(0|ar[o>>2])>>2]](o,8192,l))){j=43;break A}l=0|ar[A>>2],Ou(_,l=(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+4,0|gf(0|ar[i>>2]))),f=l=S,j=45}else l=z;break;case 0:l?(f=l=S,j=45):l=z;break;case 3:if((0|(l=(l=0|tr[m>>0])<<24>>24<0?0|ar[g>>2]:255&l))==(0-(f=(f=0|tr[Z>>0])<<24>>24<0?0|ar[p>>2]:255&f)|0))l=z;else{if(J=0==(0|l),l=0|ar[A>>2],i=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2]),J|0==(0|f)){if(l=i?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),J){if((0|l)!=(0|ar[((0|tr[Z>>0])<0?0|ar[N>>2]:N)>>2])){l=z;break e}l=0|ar[A>>2],(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+4,gf(0|ar[i>>2])),l=(tr[t>>0]=1)<((l=0|tr[Z>>0])<<24>>24<0?0|ar[p>>2]:255&l)>>>0?N:z;break e}if((0|l)!=(0|ar[((0|tr[m>>0])<0?0|ar[R>>2]:R)>>2])){tr[t>>0]=1,l=z;break e}l=0|ar[A>>2],(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+4,gf(0|ar[i>>2])),l=1<((l=0|tr[m>>0])<<24>>24<0?0|ar[g>>2]:255&l)>>>0?R:z;break e}if(l=i?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),r=0|ar[A>>2],J=(0|(f=0|ar[(i=r+12|0)>>2]))==(0|ar[r+16>>2]),(0|l)==(0|ar[((0|tr[m>>0])<0?0|ar[R>>2]:R)>>2])){J?jb[127&ar[40+(0|ar[r>>2])>>2]](r):(ar[i>>2]=f+4,gf(0|ar[f>>2])),l=1<((l=0|tr[m>>0])<<24>>24<0?0|ar[g>>2]:255&l)>>>0?R:z;break e}if((0|(l=J?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|gf(0|ar[f>>2])))!=(0|ar[((0|tr[Z>>0])<0?0|ar[N>>2]:N)>>2])){j=101;break A}l=0|ar[A>>2],(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+4,gf(0|ar[i>>2])),l=(tr[t>>0]=1)<((l=0|tr[Z>>0])<<24>>24<0?0|ar[p>>2]:255&l)>>>0?N:z}break;case 2:if(!(O>>>0<2|f)&&!(u|2==(0|O)&0!=(0|tr[h>>0]))){l=0;break e}i=0|tr[b>>0],f=0|ar[F>>2],l=i<<24>>24<0?f:F;r:do{if(0!=(0|O)&&(0|cr[E+(O+-1)>>0])<2){for(;(0|(r=l))!=(((U=i<<24>>24<0)?f:F)+((U?0|ar[s>>2]:255&i)<<2)|0);){if(!(0|xb[63&ar[12+(0|ar[o>>2])>>2]](o,8192,0|ar[r>>2]))){j=108;break}l=r+4|0,i=0|tr[b>>0],f=0|ar[F>>2]}if(108==(0|j)&&(i=(j=0)|tr[b>>0],f=0|ar[F>>2]),T=l-(U=J=i<<24>>24<0?f:F)>>2,(M=(r=(M=0|tr[d>>0])<<24>>24<0)?0|ar[k>>2]:255&M)>>>0<T>>>0)r=U,J=T=S;else for(r=(M=(r?0|ar[_>>2]:_)+(M<<2)|0)+(0-T<<2)|0;;){if((0|r)==(0|M)){r=l,J=T=S;break r}if((0|ar[r>>2])!=(0|ar[J>>2])){r=U,J=T=S;break r}J=J+4|0,r=r+4|0}}else r=l,J=T=S}while(0);r:for(;(0|(M=r))!=(0|(l=((l=i<<24>>24<0)?f:F)+((l?0|ar[s>>2]:255&i)<<2)|0));){l=0|ar[A>>2];do{if(l){if(0|Uf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),-1)){ar[A>>2]=0,r=1;break}r=0==(0|ar[A>>2]);break}r=1}while(0);do{if(J){if(0|Uf(l=(0|(l=0|ar[J+12>>2]))==(0|ar[J+16>>2])?0|jb[127&ar[36+(0|ar[J>>2])>>2]](J):0|gf(0|ar[l>>2]),-1)){l=ar[e>>2]=0,j=129;break}if(r^0==(0|T)){J=l=T;break}l=M;break r}l=T,j=129}while(0);if(129==(0|j)){if(j=0,r){l=M;break}J=0}if(r=0|ar[A>>2],(0|(r=(0|(i=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|gf(0|ar[i>>2])))!=(0|ar[M>>2])){l=M;break}r=0|ar[A>>2],(0|(f=0|ar[(i=r+12|0)>>2]))==(0|ar[r+16>>2])?jb[127&ar[40+(0|ar[r>>2])>>2]](r):(ar[i>>2]=f+4,gf(0|ar[f>>2])),T=l,r=M+4|0,i=0|tr[b>>0],f=0|ar[F>>2]}if(u&&(0|l)!=(((U=(S=0|tr[b>>0])<<24>>24<0)?0|ar[F>>2]:F)+((U?0|ar[s>>2]:255&S)<<2)|0)){j=141;break A}l=z;break;case 4:T=0,f=l=S;r:for(;;){r=0|ar[A>>2];do{if(r){if(0|Uf(r=(0|(i=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|gf(0|ar[i>>2]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);do{if(f){if(0|Uf(r=(0|(r=0|ar[f+12>>2]))==(0|ar[f+16>>2])?0|jb[127&ar[36+(0|ar[f>>2])>>2]](f):0|gf(0|ar[r>>2]),-1)){l=ar[e>>2]=0,j=155;break}if(i^0==(0|l)){M=J=l;break}f=l;break r}j=155}while(0);if(155==(0|j)){if(j=0,i){f=l;break}J=l,M=0}if(l=0|ar[A>>2],r=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),0|xb[63&ar[12+(0|ar[o>>2])>>2]](o,2048,r))(0|(l=0|ar[c>>2]))==(0|ar[y>>2])&&(di(a,c,y),l=0|ar[c>>2]),ar[c>>2]=l+4,ar[l>>2]=r,l=T+1|0;else{if(S=0|tr[w>>0],!((0|r)==(0|ar[W>>2])&(0|T?0!=(0|(S<<24>>24<0?0|ar[v>>2]:255&S)):0))){f=J;break}(0|(l=0|ar[C>>2]))==(0|ar[B>>2])&&(ui(Q,C,B),l=0|ar[C>>2]),ar[C>>2]=l+4,ar[l>>2]=T,l=0}r=0|ar[A>>2],(0|(f=0|ar[(i=r+12|0)>>2]))!=(0|ar[r+16>>2])?(ar[i>>2]=f+4,gf(0|ar[f>>2]),T=l,l=J,f=M):(jb[127&ar[40+(0|ar[r>>2])>>2]](r),T=l,l=J,f=M)}l=0|ar[C>>2],0|T&&(0|ar[Q>>2])!=(0|l)&&((0|l)==(0|ar[B>>2])&&(ui(Q,C,B),l=0|ar[C>>2]),ar[C>>2]=l+4,ar[l>>2]=T);r:do{if(0<(0|ar[I>>2])){l=0|ar[A>>2];do{if(l){if(0|Uf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),-1)){ar[A>>2]=0,r=1;break}r=0==(0|ar[A>>2]);break}r=1}while(0);do{if(f){if(0|Uf(l=(0|(l=0|ar[f+12>>2]))==(0|ar[f+16>>2])?0|jb[127&ar[36+(0|ar[f>>2])>>2]](f):0|gf(0|ar[l>>2]),-1)){ar[e>>2]=0,j=189;break}if(r)break;j=227;break A}j=189}while(0);if(189==(0|j)){if(j=0,r){j=227;break A}f=0}if(l=0|ar[A>>2],(0|(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2])))!=(0|ar[X>>2])){j=227;break A}for(l=0|ar[A>>2],l=((0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+4,gf(0|ar[i>>2])),f);;){if((0|ar[I>>2])<=0)break r;r=0|ar[A>>2];do{if(r){if(0|Uf(r=(0|(i=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|gf(0|ar[i>>2]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);do{if(f){if(0|Uf(r=(0|(r=0|ar[f+12>>2]))==(0|ar[f+16>>2])?0|jb[127&ar[36+(0|ar[f>>2])>>2]](f):0|gf(0|ar[r>>2]),-1)){l=ar[e>>2]=0,j=212;break}if(i^0==(0|l)){f=J=l;break}j=227;break A}j=212}while(0);if(212==(0|j)){if(j=0,i){j=227;break A}J=l,f=0}if(l=0|ar[A>>2],l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),!(0|xb[63&ar[12+(0|ar[o>>2])>>2]](o,2048,l))){j=227;break A}(0|ar[c>>2])==(0|ar[y>>2])&&di(a,c,y),l=0|ar[A>>2],l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),r=0|ar[c>>2],ar[c>>2]=r+4,ar[r>>2]=l,ar[I>>2]=(0|ar[I>>2])-1,l=0|ar[A>>2],(0|(i=0|ar[(r=l+12|0)>>2]))!=(0|ar[l+16>>2])?(ar[r>>2]=i+4,gf(0|ar[i>>2]),l=J):(jb[127&ar[40+(0|ar[l>>2])>>2]](l),l=J)}}}while(0);if((0|ar[c>>2])==(0|ar[a>>2])){j=227;break A}l=z;break;default:l=z}}while(0);e:do{if(45==(0|j))for(;;){r=(j=0)|ar[A>>2];do{if(r){if(0|Uf(r=(0|(i=0|ar[r+12>>2]))==(0|ar[r+16>>2])?0|jb[127&ar[36+(0|ar[r>>2])>>2]](r):0|gf(0|ar[i>>2]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);do{if(f){if(0|Uf(r=(0|(r=0|ar[f+12>>2]))==(0|ar[f+16>>2])?0|jb[127&ar[36+(0|ar[f>>2])>>2]](f):0|gf(0|ar[r>>2]),-1)){l=ar[e>>2]=0,j=58;break}if(i^0==(0|l)){f=J=l;break}l=z;break e}j=58}while(0);if(58==(0|j)){if(j=0,i){l=z;break e}J=l,f=0}if(l=0|ar[A>>2],l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),!(0|xb[63&ar[12+(0|ar[o>>2])>>2]](o,8192,l))){l=z;break e}l=0|ar[A>>2],Ou(_,l=(0|(i=0|ar[(r=l+12|0)>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[40+(0|ar[l>>2])>>2]](l):(ar[r>>2]=i+4,0|gf(0|ar[i>>2]))),l=J,j=45}}while(0);z=l,O=O+1|0}A:do{if(43==(0|j))ar[n>>2]=4|ar[n>>2],r=0;else if(101==(0|j))ar[n>>2]=4|ar[n>>2],r=0;else if(141==(0|j))ar[n>>2]=4|ar[n>>2],r=0;else if(227==(0|j))ar[n>>2]=4|ar[n>>2],r=0;else if(229==(0|j)){e:do{if(f){J=z+8+3|0,M=z+4|0,f=1;r:for(;;){if((l=0|tr[J>>0])<<24>>24<0?l=0|ar[M>>2]:l&=255,l>>>0<=f>>>0)break e;l=0|ar[A>>2];do{if(l){if(0|Uf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),-1)){ar[A>>2]=0,i=1;break}i=0==(0|ar[A>>2]);break}i=1}while(0);l=0|ar[e>>2];do{if(l){if(0|Uf(l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),-1)){ar[e>>2]=0,j=248;break}if(i)break;break r}j=248}while(0);if(248==(0|j)&&(j=0,i))break;if(l=0|ar[A>>2],l=(0|(r=0|ar[l+12>>2]))==(0|ar[l+16>>2])?0|jb[127&ar[36+(0|ar[l>>2])>>2]](l):0|gf(0|ar[r>>2]),r=(0|tr[J>>0])<0?0|ar[z>>2]:z,(0|l)!=(0|ar[r+(f<<2)>>2]))break;l=f+1|0,r=0|ar[A>>2],(0|(f=0|ar[(i=r+12|0)>>2]))!=(0|ar[r+16>>2])?(ar[i>>2]=f+4,gf(0|ar[f>>2]),f=l):(jb[127&ar[40+(0|ar[r>>2])>>2]](r),f=l)}ar[n>>2]=4|ar[n>>2],r=0;break A}}while(0);if((0|(r=0|ar[Q>>2]))!=(0|(l=0|ar[C>>2]))){if(ar[G>>2]=0,gn(V,r,l,G),0|ar[G>>2]){ar[n>>2]=4|ar[n>>2],r=0;break}r=1;break}r=1}}while(0);return Qu(_),Qu(N),Qu(R),Qu(F),Bu(V),l=0|ar[Q>>2],(ar[Q>>2]=0)|l&&is[511&ar[Y>>2]](l),ur=D,0|r}function si(A,e,r){return(e|=0)>>>0<=(A|=0)>>>0&A>>>0<(r|=0)>>>0|0}function di(A,e,r){e|=0,r|=0;var i,f,n=0,t=0,o=0;t=444!=(0|ar[(f=(A|=0)+4|0)>>2]),n=0|ar[A>>2],o=0==(0|(o=(o=(0|ar[r>>2])-n|0)>>>0<2147483647?o<<1:-1))?4:o,i=(0|ar[e>>2])-n>>2,(n=0|Ec(t?n:0,o))||gu(),t?ar[A>>2]=n:(t=0|ar[A>>2],ar[A>>2]=n,t&&(is[511&ar[f>>2]](t),n=0|ar[A>>2])),ar[f>>2]=445,ar[e>>2]=n+(i<<2),ar[r>>2]=(0|ar[A>>2])+(o>>>2<<2)}function ki(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b,s=0;if(u=ur=(b=ur)+31&-32,ur=ur+16|0,l=12+u|0,A|=0){if(s=0|un(r,60952),e){for(fs[63&ar[44+(0|ar[s>>2])>>2]](l,s),A=0|ar[l>>2],tr[i>>0]=A,tr[i+1>>0]=A>>8,tr[i+2>>0]=A>>16,tr[i+3>>0]=A>>24,fs[63&ar[32+(0|ar[s>>2])>>2]](u,s),A=((0|tr[(A=a+11|0)>>0])<0?(A=0|ar[a>>2],tr[l>>0]=0,Qf(A,l),ar[a+4>>2]=0):(tr[l>>0]=0,Qf(a,l),tr[A>>0]=0),a),Cu(a,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Bu(u),r=s}else{for(fs[63&ar[40+(0|ar[s>>2])>>2]](l,s),A=0|ar[l>>2],tr[i>>0]=A,tr[i+1>>0]=A>>8,tr[i+2>>0]=A>>16,tr[i+3>>0]=A>>24,fs[63&ar[28+(0|ar[s>>2])>>2]](u,s),A=((0|tr[(A=a+11|0)>>0])<0?(A=0|ar[a>>2],tr[l>>0]=0,Qf(A,l),ar[a+4>>2]=0):(tr[l>>0]=0,Qf(a,l),tr[A>>0]=0),a),Cu(a,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Bu(u),r=s}for(A=0|jb[127&ar[12+(0|ar[s>>2])>>2]](s),tr[f>>0]=A,A=0|jb[127&ar[16+(0|ar[s>>2])>>2]](s),tr[n>>0]=A,fs[63&ar[20+(0|ar[r>>2])>>2]](u,s),A=((0|tr[(A=t+11|0)>>0])<0?(A=0|ar[t>>2],tr[l>>0]=0,Qf(A,l),ar[t+4>>2]=0):(tr[l>>0]=0,Qf(t,l),tr[A>>0]=0),t),Cu(t,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);for(Bu(u),fs[63&ar[24+(0|ar[r>>2])>>2]](u,s),A=((0|tr[(A=o+11|0)>>0])<0?(A=0|ar[o>>2],tr[l>>0]=0,Qf(A,l),ar[o+4>>2]=0):(tr[l>>0]=0,Qf(o,l),tr[A>>0]=0),o),Cu(o,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Bu(u),A=0|jb[127&ar[36+(0|ar[s>>2])>>2]](s)}else{if(s=0|un(r,60944),e){for(fs[63&ar[44+(0|ar[s>>2])>>2]](l,s),A=0|ar[l>>2],tr[i>>0]=A,tr[i+1>>0]=A>>8,tr[i+2>>0]=A>>16,tr[i+3>>0]=A>>24,fs[63&ar[32+(0|ar[s>>2])>>2]](u,s),A=((0|tr[(A=a+11|0)>>0])<0?(A=0|ar[a>>2],tr[l>>0]=0,Qf(A,l),ar[a+4>>2]=0):(tr[l>>0]=0,Qf(a,l),tr[A>>0]=0),a),Cu(a,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Bu(u),r=s}else{for(fs[63&ar[40+(0|ar[s>>2])>>2]](l,s),A=0|ar[l>>2],tr[i>>0]=A,tr[i+1>>0]=A>>8,tr[i+2>>0]=A>>16,tr[i+3>>0]=A>>24,fs[63&ar[28+(0|ar[s>>2])>>2]](u,s),A=((0|tr[(A=a+11|0)>>0])<0?(A=0|ar[a>>2],tr[l>>0]=0,Qf(A,l),ar[a+4>>2]=0):(tr[l>>0]=0,Qf(a,l),tr[A>>0]=0),a),Cu(a,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Bu(u),r=s}for(A=0|jb[127&ar[12+(0|ar[s>>2])>>2]](s),tr[f>>0]=A,A=0|jb[127&ar[16+(0|ar[s>>2])>>2]](s),tr[n>>0]=A,fs[63&ar[20+(0|ar[r>>2])>>2]](u,s),A=((0|tr[(A=t+11|0)>>0])<0?(A=0|ar[t>>2],tr[l>>0]=0,Qf(A,l),ar[t+4>>2]=0):(tr[l>>0]=0,Qf(t,l),tr[A>>0]=0),t),Cu(t,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);for(Bu(u),fs[63&ar[24+(0|ar[r>>2])>>2]](u,s),A=((0|tr[(A=o+11|0)>>0])<0?(A=0|ar[o>>2],tr[l>>0]=0,Qf(A,l),ar[o+4>>2]=0):(tr[l>>0]=0,Qf(o,l),tr[A>>0]=0),o),Cu(o,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Bu(u),A=0|jb[127&ar[36+(0|ar[s>>2])>>2]](s)}ar[c>>2]=A,ur=b}function hi(A,e,r,i,f,n,t,o,a,c,l,u,b,s,d){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0,s|=0,d|=0;var k,h,w,v,m,g,Z,p,y,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0;for(ar[(r|=0)>>2]=A,k=s+11|0,y=s+4|0,h=b+11|0,w=b+4|0,v=0==(512&i|0),m=t+8|0,g=0<(0|d),Z=u+11|0,p=u+4|0,G=0;4!=(0|G);){A:do{switch(0|tr[a+G>>0]){case 0:ar[e>>2]=ar[r>>2];break;case 1:ar[e>>2]=ar[r>>2],I=0|Hb[31&ar[28+(0|ar[t>>2])>>2]](t,32),C=0|ar[r>>2],ar[r>>2]=C+1,tr[C>>0]=I;break;case 3:0|((B=(C=0|tr[k>>0])<<24>>24<0)?0|ar[y>>2]:255&C)&&(I=0|tr[(B?0|ar[s>>2]:s)>>0],C=0|ar[r>>2],ar[r>>2]=C+1,tr[C>>0]=I);break;case 2:if(!(v|0==(0|(E=(B=(E=0|tr[h>>0])<<24>>24<0)?0|ar[w>>2]:255&E)))){for(X=(C=B?0|ar[b>>2]:b)+E|0,B=0|ar[r>>2],E=C;(0|E)!=(0|X);)tr[B>>0]=0|tr[E>>0],B=B+1|0,E=E+1|0;ar[r>>2]=B}break;case 4:for(E=0|ar[r>>2],X=f=o?f+1|0:f;!(n>>>0<=X>>>0)&&!((B=0|tr[X>>0])<<24>>24<=-1)&&2048&or[(0|ar[m>>2])+(B<<24>>24<<1)>>1];)X=X+1|0;if(g){for(W=d;f>>>0<X>>>0&(B=0<(0|W));)B=0|tr[(C=X+-1|0)>>0],I=0|ar[r>>2],ar[r>>2]=I+1,tr[I>>0]=B,W=W+-1|0,X=C;for(I=B?0|Hb[31&ar[28+(0|ar[t>>2])>>2]](t,48):0,B=W;W=0|ar[r>>2],ar[r>>2]=W+1,!((0|B)<=0);)tr[W>>0]=I,B=B+-1|0;tr[W>>0]=c}e:do{if((0|X)==(0|f))I=0|Hb[31&ar[28+(0|ar[t>>2])>>2]](t,48),C=0|ar[r>>2],ar[r>>2]=C+1,tr[C>>0]=I;else for(C=W=(I=0|((B=(C=0|tr[Z>>0])<<24>>24<0)?0|ar[p>>2]:255&C)?0|tr[(B?0|ar[u>>2]:u)>>0]:-1,0);;){if((0|X)==(0|f))break e;B=(0|C)==(0|I)?(I=0|ar[r>>2],ar[r>>2]=I+1,tr[I>>0]=l,I=(W=W+1|0)>>>0<((B=(I=0|tr[Z>>0])<<24>>24<0)?0|ar[p>>2]:255&I)>>>0?(I=0|tr[(B?0|ar[u>>2]:u)+W>>0])<<24>>24==127?-1:I<<24>>24:C,0):C,F=0|tr[(V=X+-1|0)>>0],C=0|ar[r>>2],ar[r>>2]=C+1,tr[C>>0]=F,C=B+1|0,X=V}}while(0);if((0|E)!=(0|(B=0|ar[r>>2])))for(;;){if((B=B+-1|0)>>>0<=E>>>0)break A;F=0|tr[E>>0],tr[E>>0]=0|tr[B>>0],tr[B>>0]=F,E=E+1|0}}}while(0);G=G+1|0}if(1<(f=(B=(f=0|tr[k>>0])<<24>>24<0)?0|ar[y>>2]:255&f)>>>0){for(E=(F=B?0|ar[s>>2]:s)+f|0,B=0|ar[r>>2],f=F;(0|(f=f+1|0))!=(0|E);)tr[B>>0]=0|tr[f>>0],B=B+1|0;ar[r>>2]=B}switch((176&i)<<24>>24){case 32:ar[e>>2]=ar[r>>2];break;case 16:break;default:ar[e>>2]=A}}function wi(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0;A:do{if(36<e>>>0)ar[(f=10364)>>2]=22,i=f=0;else{for(d=A+4|0,s=A+100|0;0!=(0|mi(n=(n=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=n+1,0|cr[n>>0]):0|vi(A))););e:do{switch(0|n){case 43:case 45:if(n=(45==(0|n))<<31>>31,(t=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0){ar[d>>2]=t+1,b=n,n=0|cr[t>>0];break e}b=n,n=0|vi(A);break e;default:b=0}}while(0);t=0==(0|e);do{if(16==(16|e)&48==(0|n)){if(120!=(32|(n=(n=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=n+1,0|cr[n>>0]):0|vi(A)))){if(t){e=8,l=46;break}l=32;break}if(n=(n=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=n+1,0|cr[n>>0]):0|vi(A),15<(0|cr[52625+n>>0])){if((i=0!=(0|ar[s>>2]))&&(ar[d>>2]=(0|ar[d>>2])-1),!r){nl(A,0),i=f=0;break A}if(!i){i=f=0;break A}ar[d>>2]=(0|ar[d>>2])-1,i=f=0;break A}e=16,l=46}else{if(e=t?10:e,!((0|cr[52625+n>>0])>>>0<e>>>0)){0|ar[s>>2]&&(ar[d>>2]=(0|ar[d>>2])-1),nl(A,0),ar[(f=10364)>>2]=22,i=f=0;break A}l=32}}while(0);e:do{if(32==(0|l))if(10==(0|e)){if((e=n+-48|0)>>>0<10){for(n=0,t=e;n=(10*n|0)+t|0,(t=(e=(e=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=e+1,0|cr[e>>0]):0|vi(A))+-48|0)>>>0<10&n>>>0<429496729;);r=0}else e=n,r=n=0;if((o=e+-48|0)>>>0<10){t=e;do{if(e=0|nb(0|n,0|r,10,0),(u=~(c=((0|o)<0)<<31>>31))>>>0<(a=D)>>>0|(0|a)==(0|u)&~o>>>0<e>>>0){e=10,l=72;break e}n=0|tb(0|e,0|a,0|o,0|c),r=D,o=(t=(e=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=e+1,0|cr[e>>0]):0|vi(A))+-48|0}while(o>>>0<10&(r>>>0<429496729|429496729==(0|r)&n>>>0<2576980378));9<o>>>0?(t=b,e=r):(e=10,l=72)}else t=b,e=r}else l=46}while(0);e:do{if(46==(0|l)){if(!(e+-1&e)){if(l=0|tr[52881+((23*e|0)>>>5&7)>>0],(t=255&(r=0|tr[52625+n>>0]))>>>0<e>>>0){for(n=0,o=t;n=o|n<<l,t=(t=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=t+1,0|cr[t>>0]):0|vi(A),n>>>0<134217728&(o=255&(r=0|tr[52625+t>>0]))>>>0<e>>>0;);o=0}else t=n,n=o=0;if(a=0|sb(-1,-1,0|l),e>>>0<=(255&r)>>>0|(c=D)>>>0<o>>>0|(0|o)==(0|c)&a>>>0<n>>>0){r=o,l=72;break}for(t=o;;){if(n=0|db(0|n,0|t,0|l),o=D,n|=255&r,t=(t=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=t+1,0|cr[t>>0]):0|vi(A),e>>>0<=(255&(r=0|tr[52625+t>>0]))>>>0|c>>>0<o>>>0|(0|o)==(0|c)&a>>>0<n>>>0){r=o,l=72;break e}t=o}}if((t=255&(r=0|tr[52625+n>>0]))>>>0<e>>>0){for(n=0,o=t;n=o+(0|br(n,e))|0,t=(t=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=t+1,0|cr[t>>0]):0|vi(A),n>>>0<119304647&(o=255&(r=0|tr[52625+t>>0]))>>>0<e>>>0;);o=0}else t=n,o=n=0;if((255&r)>>>0<e>>>0)for(l=0|lb(-1,-1,0|e,0),u=D,c=o;;){if(u>>>0<c>>>0|(0|c)==(0|u)&l>>>0<n>>>0){r=c,l=72;break e}if(o=0|nb(0|n,0|c,0|e,0),4294967295<(a=D)>>>0|-1==(0|a)&~(r&=255)>>>0<o>>>0){r=c,l=72;break e}if(n=0|tb(0|r,0,0|o,0|a),o=D,t=(t=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=t+1,0|cr[t>>0]):0|vi(A),e>>>0<=(255&(r=0|tr[52625+t>>0]))>>>0){r=o,l=72;break}c=o}else r=o,l=72}}while(0);if(72==(0|l))if((0|cr[52625+t>>0])>>>0<e>>>0){for(;n=(n=0|ar[d>>2])>>>0<(0|ar[s>>2])>>>0?(ar[d>>2]=n+1,0|cr[n>>0]):0|vi(A),(0|cr[52625+n>>0])>>>0<e>>>0;);ar[(t=10364)>>2]=34,t=0==(1&i|0)&!0?b:0,e=f,n=i}else t=b,e=r;if(0|ar[s>>2]&&(ar[d>>2]=(0|ar[d>>2])-1),!(e>>>0<f>>>0|(0|e)==(0|f)&n>>>0<i>>>0)){if(!(0!=(1&i|0)|!1|0!=(0|t))){ar[(d=10364)>>2]=34,i=0|tb(0|i,0|f,-1,-1),f=D;break}if(f>>>0<e>>>0|(0|e)==(0|f)&i>>>0<n>>>0){ar[(d=10364)>>2]=34;break}}i=0|ob(n^t|0,e^(i=((0|t)<0)<<31>>31)|0,0|t,0|i),f=D}}while(0);return D=f,0|i}function vi(A){var e=0,r=0,i=0,f=0,n=0,t=0,o=0;return!(0!=(0|(t=0|ar[(r=(A|=0)+104|0)>>2]))&&(0|ar[A+108>>2])>=(0|t))&&0<=(0|(e=0|gi(A)))?(i=0|ar[r>>2],r=A+8|0,i?i=((t=n=0|ar[r>>2])-(r=0|ar[A+4>>2])|0)<(0|(i=i-(0|ar[(f=A+108|0)>>2])|0))?n=t:(n=r+(i+-1)|0,t):(f=A+108|0,n=i=0|ar[r>>2],r=0|ar[A+4>>2]),ar[A+100>>2]=n,0|i&&(ar[f>>2]=i+1-r+(0|ar[f>>2])),(0|cr[(r=r+-1|0)>>0])!=(0|e)&&(tr[r>>0]=e)):o=4,4==(0|o)&&(ar[A+100>>2]=0,e=-1),0|e}function mi(A){return 1&(32==(0|(A|=0))|(A+-9|0)>>>0<5)|0}function gi(A){var e,r;return e=ur=(r=ur)+31&-32,ur=ur+16|0,A=0==(0|Zi(A|=0))&&1==(0|xb[63&ar[A+32>>2]](A,e,1))?0|cr[e>>0]:-1,ur=r,0|A}function Zi(A){var e=0,r=0;return r=0|tr[(e=(A|=0)+74|0)>>0],tr[e>>0]=r+255|r,r=A+28|0,(0|ar[(e=A+20|0)>>2])>>>0>(0|ar[r>>2])>>>0&&xb[63&ar[A+36>>2]](A,0,0),ar[A+16>>2]=0,ar[r>>2]=0,(ar[e>>2]=0)|(e=4&(e=0|ar[A>>2])?(ar[A>>2]=32|e,-1):(r=(0|ar[A+44>>2])+(0|ar[A+48>>2])|0,ar[A+8>>2]=r,ar[A+4>>2]=r,e<<27>>31))}function pi(A,e,r){var i,f,n;return 0|(0|(i=A|=0,f=e|=0,n=r|=0,0|(n=0|fl(i|=0,f|=0,n|=0,0,-2147483648))))}function yi(){return 0|(0|ar[ar[2622]>>2]?4:1)}function Bi(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o;return f=ur=(i=ur)+31&-32,ur=ur+16|0,ar[f>>2]=r,r=0|(n=A,t=e,o=f,0|Yc(n|=0,2147483647,t|=0,o|=0)),ur=i,0|r}function Ei(A,e){A|=0,e|=0;var r,i;return i=ur=(r=ur)+31&-32,ur=ur+16|0,ar[i>>2]=A,ar[4+i>>2]=e,e=0|Ic(0|M(91,0|i)),ur=r,0|e}function Xi(A,e,r,i){A|=0,r|=0,i|=0;var f=0,n=0,t=0,o=0,a=0;f=0|ar[(e|=0)>>2],a=0!=(0|i)&&0!=(0|(n=0|ar[i>>2]))?A?(ar[i>>2]=0,o=r,t=f,43):(t=f,i=r,25):5;A:do{if(5==(0|a)){if(i=0!=(0|A),0|ar[ar[(a=10488)>>2]>>2]){if(i){i=r,a=15;break}i=r,a=14;break}if(!i){r=0|Vc(f),a=59;break}e:do{if(r){for(i=r;(n=0|tr[f>>0])<<24>>24;){if(f=f+1|0,ar[A>>2]=n<<24>>24&57343,!(i=i+-1|0))break e;A=A+4|0}ar[A>>2]=0,r=r-i|(ar[e>>2]=0),a=59;break A}}while(0);ar[e>>2]=f,a=59}}while(0);A:for(;;){e:do{if(14==(0|a)){for(;;){if(((255&(n=0|tr[f>>0]))-1|0)>>>0<127&&0==(3&f|0)&&(n=255&(a=0|ar[f>>2]),!(-2139062144&(a+-16843009|a)))){for(;i=i+-4|0,!(-2139062144&((n=0|ar[(f=f+4|0)>>2])+-16843009|n)|0););n&=255}if(127<=((n&=255)+-1|0)>>>0)break;f=f+1|0,i=i+-1|0}if(!(50<(n=n+-194|0)>>>0)){n=0|ar[9896+(n<<2)>>2],t=f+1|0,a=25;continue A}a=53}else{if(15==(0|a)){r:do{if(i){for(;;){n=0|tr[f>>0];do{if(((255&n)-1|0)>>>0<127&&4<i>>>0&0==(3&f|0)){for(;;){if(-2139062144&((n=0|ar[f>>2])+-16843009|n)|0){a=38;break}if(ar[A>>2]=255&n,ar[A+4>>2]=cr[f+1>>0],ar[A+8>>2]=cr[f+2>>0],t=f+4|0,n=A+16|0,ar[A+12>>2]=cr[f+3>>0],!(4<(i=i+-4|0)>>>0)){a=37;break}A=n,f=t}if(37==(0|a)){A=n,n=0|tr[(f=t)>>0];break}if(38==(0|a)){n&=255;break}}}while(0);if(127<=((n&=255)+-1|0)>>>0)break;if(f=f+1|0,ar[A>>2]=n,!(i=i+-1|0))break r;A=A+4|0}if(50<(n=n+-194|0)>>>0){a=53;break e}n=0|ar[9896+(n<<2)>>2],o=i,t=f+1|0,a=43;continue A}}while(0);ar[e>>2]=f,a=59;continue A}if(25==(0|a)){if(!(7<((a=(0|cr[t>>0])>>>3)+-16|a+(n>>26))>>>0)){if(f=t+1|0,33554432&n){if((-64&tr[f>>0])<<24>>24!=-128){f=t,a=52;break}if(f=t+2|0,524288&n){if((-64&tr[f>>0])<<24>>24!=-128){f=t,a=52;break}f=t+3|0}}i=i+-1|0,a=14;continue A}f=t,a=52}else if(43==(0|a)){if(!(7<((f=(i=(a=0)|cr[t>>0])>>>3)+-16|f+(n>>26))>>>0)){f=t+1|0,i=i+-128|n<<6;do{if((0|i)<0){if(63<(n=(0|cr[f>>0])-128|0)>>>0){f=t+-1|0,r=A;break e}if(f=t+2|0,(0|(i=n|i<<6))<0){if(63<(n=(0|cr[f>>0])-128|0)>>>0){f=t+-1|0,r=A;break e}f=t+3|0,i=n|i<<6;break}}}while(0);ar[A>>2]=i,A=A+4|0,i=o+-1|0,a=15;continue A}f=t,i=o,a=52}else if(59==(0|a))return 0|r}}while(0);if(52==(0|a)&&(f=f+-1|(a=0),n?r=A:a=53),53==(0|a)){if(!(0|tr[f>>0])){0|A&&(ar[A>>2]=0,ar[e>>2]=0),r=r-i|0,a=59;continue}r=A}ar[(a=10364)>>2]=84,r?(ar[e>>2]=f,r=-1,a=59):(r=-1,a=59)}return 0}function Wi(A){var e=0,r=0,i=0;0<=(0|ar[(A|=0)+76>>2])&&0!=(0|Jc())?e=(r=0|ar[(e=A+4|0)>>2])>>>0<(0|ar[A+8>>2])>>>0?(ar[e>>2]=r+1,0|cr[r>>0]):0|gi(A):i=3;do{if(3==(0|i)){if((r=0|ar[(e=A+4|0)>>2])>>>0<(0|ar[A+8>>2])>>>0){ar[e>>2]=r+1,e=0|cr[r>>0];break}e=0|gi(A);break}}while(0);return 0|e}function Ii(A,e,r){A|=0,e|=0,r|=0;var i,f;return f=ur=(i=ur)+31&-32,ur=ur+16|0,ar[f>>2]=r,r=0|Qc(A,e,f),ur=i,0|r}function Ci(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t=0,o=0;f=ur=(n=ur)+31&-32,ur=ur+16|0;A:do{if(A){e:do{if(3<r>>>0){for(i=r,t=0|ar[e>>2];;){if(126<((o=0|ar[t>>2])+-1|0)>>>0){if(!o)break;if(-1==(0|(o=0|$c(A,o)))){r=-1;break A}A=A+o|0,i=i-o|0}else tr[A>>0]=o,A=A+1|0,i=i+-1|0,t=0|ar[e>>2];if(t=t+4|0,ar[e>>2]=t,i>>>0<=3)break e}tr[A>>0]=0,r=r-i|(ar[e>>2]=0);break A}i=r}while(0);if(i){for(t=0|ar[e>>2];;){if(126<((o=0|ar[t>>2])+-1|0)>>>0){if(!o){t=19;break}if(-1==(0|(o=0|$c(f,o)))){r=-1;break A}if(i>>>0<o>>>0){t=22;break}$c(A,0|ar[t>>2]),A=A+o|0,i=i-o|0}else tr[A>>0]=o,A=A+1|0,i=i+-1|0,t=0|ar[e>>2];if(t=t+4|0,ar[e>>2]=t,!i)break A}if(19==(0|t)){tr[A>>0]=0,r=r-i|(ar[e>>2]=0);break}if(22==(0|t)){r=r-i|0;break}}}else if(r=0|ar[e>>2],i=0|ar[r>>2]){A=r,r=0;do{if(127<i>>>0){if(-1==(0|(i=0|$c(f,i)))){r=-1;break A}}else i=1;r=i+r|0,i=0|ar[(A=A+4|0)>>2]}while(0!=(0|i))}else r=0}while(0);return ur=n,0|r}function Gi(A,e,r,i){A|=0,e|=0,r|=0;var f,n,t=0,o=0,a=0,c=0;t=ur=(n=ur)+31&-32,ur=ur+16|0,i=0|ar[(f=0==(0|(i|=0))?58152:i)>>2];A:do{if(e)if(o=0==(0|A)?t:A,r){if(i)t=r,a=11;else{if(-1<(i=0|tr[e>>0])<<24>>24){ar[o>>2]=255&i,i=i<<24>>24!=0&1;break}if(t=10488,i=0|tr[e>>0],!(0|ar[ar[t>>2]>>2])){ar[o>>2]=i<<24>>24&57343,i=1;break}if(50<(i=(255&i)-194|0)>>>0){a=17;break}i=0|ar[9896+(i<<2)>>2],(t=r+-1|0)&&(e=e+1|0,a=11)}e:do{if(11==(0|a)){if(7<((c=(255&(A=0|tr[e>>0]))>>>3)+-16|c+(i>>26))>>>0){a=17;break A}for(;e=e+1|0,t=t+-1|0,!(0<=(0|(i=(255&A)-128|i<<6)));){if(!t)break e;if((-64&(A=0|tr[e>>0]))<<24>>24!=-128){a=17;break A}}ar[f>>2]=0,ar[o>>2]=i,i=r-t|0;break A}}while(0);ar[f>>2]=i,i=-2}else i=-2;else i?a=17:i=0}while(0);return 17==(0|a)&&(ar[f>>2]=0,ar[(i=10364)>>2]=84,i=-1),ur=n,0|i}function Vi(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0,b=0;t=ur=(a=ur)+31&-32,ur=ur+1040|0,n=8+t|0,b=0|ar[(e|=0)>>2],l=(o=0!=(0|A))?i:256,A=o?A:n,c=ar[t>>2]=b;A:do{if(0!=(0|l)&0!=(0|b)){for(i=0,b=r;;){if(!(131<b>>>0|(r=l>>>0<=(u=b>>>2)>>>0))){r=b;break A}if(r=b-(c=r?l:u)|0,-1==(0|(c=0|Xi(A,t,c,f))))break;if(A=(b=(0|A)==(0|n))?A:A+(c<<2)|0,i=c+i|0,!(0!=(0|(l=l-(b?0:c)|0))&0!=(0|(c=0|ar[t>>2]))))break A;b=r}i=-1,c=(l=0)|ar[t>>2]}else i=0}while(0);A:do{if(0!=(0|c)&&0!=(0|l)&0!=(0|r)){for(u=A;!(((A=0|Gi(u,c,r,f))+2|0)>>>0<3);){if(c=(0|ar[t>>2])+A|0,ar[t>>2]=c,i=i+1|0,!(0!=(0|(l=l+-1|0))&0!=(0|(r=r-A|0))))break A;u=u+4|0}switch(0|A){case-1:i=-1;break A;case 0:ar[t>>2]=0;break A;default:ar[f>>2]=0;break A}}}while(0);return o&&(ar[e>>2]=ar[t>>2]),ur=a,0|i}function Fi(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0;t=ur=(a=ur)+31&-32,ur=ur+272|0,n=8+t|0,l=0|ar[(e|=0)>>2],c=(o=0!=(0|A))?i:256,A=o?A:n,i=ar[t>>2]=l;A:do{if(0!=(0|c)&0!=(0|l)){for(f=0,l=i;;){if(!((i=c>>>0<=r>>>0)|32<r>>>0)){i=l;break A}if(r=r-(i=i?c:r)|0,-1==(0|(i=0|Ci(A,t,i,0))))break;if(A=(l=(0|A)==(0|n))?A:A+i|0,f=i+f|0,!(0!=(0|(c=c-(l?0:i)|0))&0!=(0|(i=0|ar[t>>2]))))break A;l=i}f=-1,i=(c=0)|ar[t>>2]}else f=0}while(0);A:do{if(0!=(0|i)&&0!=(0|c)&0!=(0|r)){for(l=A;!(((A=0|$c(l,0|ar[i>>2]))+1|0)>>>0<2);){if(i=4+(0|ar[t>>2])|0,ar[t>>2]=i,f=A+f|0,!(0!=(0|(c=c-A|0))&0!=(0|(r=r+-1|0))))break A;l=l+A|0}A?f=-1:ar[t>>2]=0}}while(0);return o&&(ar[e>>2]=ar[t>>2]),ur=a,0|f}function Ri(A,e,r){A|=0,r|=0;var i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;switch(0|(e|=0)){case 0:a=-149,c=24,t=4;break;case 1:case 2:a=-1074,c=53,t=4;break;default:i=0}A:do{if(4==(0|t)){for(u=A+4|0,l=A+100|0;0!=(0|mi(e=(e=0|ar[u>>2])>>>0<(0|ar[l>>2])>>>0?(ar[u>>2]=e+1,0|cr[e>>0]):0|vi(A))););e:do{switch(0|e){case 43:case 45:if(n=1-((45==(0|e)&1)<<1)|0,(e=0|ar[u>>2])>>>0<(0|ar[l>>2])>>>0){ar[u>>2]=e+1,f=0|cr[e>>0];break e}f=0|vi(A);break e;default:f=e,n=1}}while(0);e=0;do{if((32|f)!=(0|tr[52890+e>>0]))break;do{if(e>>>0<7){if((f=0|ar[u>>2])>>>0<(0|ar[l>>2])>>>0){ar[u>>2]=f+1,f=0|cr[f>>0];break}f=0|vi(A);break}}while(0);e=e+1|0}while(e>>>0<8);e:do{switch(0|e){case 8:break;case 3:t=23;break;default:if((o=0!=(0|r))&3<e>>>0){if(8==(0|e))break e;t=23;break e}r:do{if(!e){e=0;do{if((32|f)!=(0|tr[52899+e>>0]))break r;do{if(e>>>0<2){if((f=0|ar[u>>2])>>>0<(0|ar[l>>2])>>>0){ar[u>>2]=f+1,f=0|cr[f>>0];break}f=0|vi(A);break}}while(0);e=e+1|0}while(e>>>0<3)}}while(0);switch(0|e){case 3:if(40!=(0|(e=(e=0|ar[u>>2])>>>0<(0|ar[l>>2])>>>0?(ar[u>>2]=e+1,0|cr[e>>0]):0|vi(A)))){if(!(0|ar[l>>2])){i=h;break A}ar[u>>2]=(0|ar[u>>2])-1,i=h;break A}for(e=1;((f=(f=0|ar[u>>2])>>>0<(0|ar[l>>2])>>>0?(ar[u>>2]=f+1,0|cr[f>>0]):0|vi(A))+-48|0)>>>0<10|(f+-65|0)>>>0<26||95==(0|f)|(f+-97|0)>>>0<26;)e=e+1|0;if(41==(0|f)){i=h;break A}if((f=0==(0|ar[l>>2]))||(ar[u>>2]=(0|ar[u>>2])-1),!o){ar[(u=10364)>>2]=22,nl(A,0),i=0;break A}if(!e){i=h;break A}for(;;)if(e=e+-1|0,f||(ar[u>>2]=(0|ar[u>>2])-1),!e){i=h;break A}case 0:if(48==(0|f)){if(120==(32|(e=(e=0|ar[u>>2])>>>0<(0|ar[l>>2])>>>0?(ar[u>>2]=e+1,0|cr[e>>0]):0|vi(A)))){i=+Ni(A,c,a,n,r);break A}e=(0|ar[l>>2]&&(ar[u>>2]=(0|ar[u>>2])-1),48)}else e=f;i=+_i(A,e,c,a,n,r);break A;default:0|ar[l>>2]&&(ar[u>>2]=(0|ar[u>>2])-1),ar[(u=10364)>>2]=22,nl(A,0),i=0;break A}}}while(0);if(23==(0|t)&&((f=0==(0|ar[l>>2]))||(ar[u>>2]=(0|ar[u>>2])-1),0!=(0|r)&3<e>>>0))for(;f||(ar[u>>2]=(0|ar[u>>2])-1),3<(e=e+-1|0)>>>0;);i=(0|n)*w}}while(0);return+i}function Ni(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0;a=(o=(o=0|ar[(g=(A|=0)+4|0)>>2])>>>0<(0|ar[(n=A+100|0)>>2])>>>0?(ar[g>>2]=o+1,0|cr[o>>0]):0|vi(A),0);A:for(;;){switch(0|o){case 46:b=8;break A;case 48:break;default:d=1,h=a,l=u=k=a=m=t=v=w=0;break A}(o=0|ar[g>>2])>>>0<(0|ar[n>>2])>>>0?(ar[g>>2]=o+1,o=0|cr[o>>0],a=1):(o=0|vi(A),a=1)}if(8==(0|b))if(48==(0|(o=(o=0|ar[g>>2])>>>0<(0|ar[n>>2])>>>0?(ar[g>>2]=o+1,0|cr[o>>0]):0|vi(A)))){for(a=l=0;o=(o=0|ar[g>>2])>>>0<(0|ar[n>>2])>>>0?(ar[g>>2]=o+1,0|cr[o>>0]):0|vi(A),l=0|tb(0|l,0|a,-1,-1),a=D,48==(0|o););h=d=w=1,u=k=m=t=v=0}else d=w=1,h=a,l=u=k=a=m=t=v=0;for(;s=46==(0|o),!(10<=(b=o+-48|0)>>>0)||s|((32|o)-97|0)>>>0<6;){if(s){if(w){o=46;break}w=1,b=v,c=d,o=m,l=u,a=k}else{o=57<(0|o)?(32|o)-87|0:b;do{if(!((0|k)<0|0==(0|k)&u>>>0<8)){if((0|k)<0|0==(0|k)&u>>>0<14){b=v,t+=(c=d*=.0625)*(0|o),o=m;break}b=(o=0!=(0|v)|0==(0|o))?v:1,c=d,t=o?t:t+.5*d,o=m;break}b=v,c=d,o=o+(m<<4)|0}while(0);u=0|tb(0|u,0|k,1,0),h=1,k=D}o=(s=0|ar[g>>2])>>>0<(0|ar[n>>2])>>>0?(ar[g>>2]=s+1,v=b,d=c,m=o,0|cr[s>>0]):(v=b,d=c,m=o,0|vi(A))}do{if(h){if(s=(b=0==(0|w))?u:l,b=b?k:a,(0|k)<0|0==(0|k)&u>>>0<8){for(a=m,l=k;a<<=4,u=0|tb(0|u,0|l,1,0),(0|(l=D))<0|0==(0|l)&u>>>0<8;);u=a}else u=m;if(112==(32|o)){if(0==(0|(a=0|Yi(A,f)))&-2147483648==(0|(o=D))){if(!f){nl(A,0),t=0;break}o=a=(0|ar[n>>2]&&(ar[g>>2]=(0|ar[g>>2])-1),0)}}else o=a=(0|ar[n>>2]&&(ar[g>>2]=(0|ar[g>>2])-1),0);if(l=0|tb(0|(l=0|db(0|s,0|b,2)),0|D,-32,-1),l=0|tb(0|l,0|D,0|a,0|o),o=D,!u){t=0*(0|i);break}if((0|(f=((0|(g=0-r|0))<0)<<31>>31))<(0|o)|(0|o)==(0|f)&g>>>0<l>>>0){ar[(e=10364)>>2]=34,t=17976931348623157e292*(0|i)*17976931348623157e292;break}if((0|o)<(0|(f=((0|(g=r+-106|0))<0)<<31>>31))|(0|o)==(0|f)&l>>>0<g>>>0){ar[(e=10364)>>2]=34,t=22250738585072014e-324*(0|i)*22250738585072014e-324;break}if(-1<(0|u)){for(a=u;a=a<<1|1&(1^(g=!(.5<=t))),t+=g?t:t+-1,l=0|tb(0|l,0|o,-1,-1),o=D,-1<(0|a););d=t,u=a}else d=t;o=0|tb(0|(r=0|ob(32,0,0|r,((0|r)<0)<<31>>31|0)),0|D,0|l,0|o),59==(0|(b=(0|(r=D))<(0|(g=((0|e)<0)<<31>>31))|(0|g)==(0|r)&o>>>0<e>>>0?0<(0|o)?59:(a=0,o=84,61):(o=e,59)))&&((0|o)<53?(o=84-(a=o)|0,b=61):t=+((c=0)|i)),61==(0|b)&&(t=+(0|i),c=+Di(+Qi(1,o),t),o=a),0==(t=t*((i=0==(1&u|0)&0!=d&(0|o)<32)?0:d)+(c+t*(((1&i)+u|0)>>>0))-c)&&(ar[(i=10364)>>2]=34),t=+Mi(t,l)}else(a=0!=(0|(o=0|ar[n>>2])))&&(ar[g>>2]=(0|ar[g>>2])-1),f?(a&&(ar[g>>2]=(0|ar[g>>2])-1),0==(0|w)|0==(0|o)||(ar[g>>2]=(0|ar[g>>2])-1)):nl(A,0),t=0*(0|i)}while(0);return+t}function _i(A,e,r,i,f,n){e|=0,f|=0,n|=0;var t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0;t=ur=(o=ur)+31&-32,ur=ur+512|0,G=0-(C=(i|=0)+(r|=0)|0)|0,X=(A|=0)+4|0,W=A+100|0,l=0;A:for(;;){switch(0|e){case 46:B=6;break A;case 48:break;default:d=l,s=k=g=0;break A}(e=0|ar[X>>2])>>>0<(0|ar[W>>2])>>>0?(ar[X>>2]=e+1,e=0|cr[e>>0],l=1):(e=0|vi(A),l=1)}if(6==(0|B))if(48==(0|(e=(e=0|ar[X>>2])>>>0<(0|ar[W>>2])>>>0?(ar[X>>2]=e+1,0|cr[e>>0]):0|vi(A))))for(e=l=0;;){if(l=0|tb(0|l,0|e,-1,-1),s=D,48!=(0|(e=(e=0|ar[X>>2])>>>0<(0|ar[W>>2])>>>0?(ar[X>>2]=e+1,0|cr[e>>0]):0|vi(A)))){d=g=1,k=l;break}e=s}else g=1,d=l,s=k=0;b=e+-48|(ar[t>>2]=0),u=46==(0|e);A:do{if(u|b>>>0<10){E=496+t|0,p=g,y=d,B=b,b=d=m=l=Z=0;e:for(;;){do{if(u){if(p)break e;p=1,k=d,s=b}else{if(d=0|tb(0|d,0|b,1,0),b=D,g=48!=(0|e),125<=(0|l)){if(!g)break;ar[E>>2]=1|ar[E>>2];break}u=t+(l<<2)|0,e=Z?e+-48+(10*(0|ar[u>>2])|0)|0:B,ar[u>>2]=e,Z=(y=9==(0|(Z=Z+1|0)))?0:Z,l=(1&y)+l|0,m=g?d:m,y=1}}while(0);if(!((u=46==(0|(e=(e=0|ar[X>>2])>>>0<(0|ar[W>>2])>>>0?(ar[X>>2]=e+1,0|cr[e>>0]):0|vi(A))))|(B=e+-48|0)>>>0<10)){g=p,u=y,B=29;break A}}e=Z,u=0!=(0|y),B=37}else u=d,b=d=m=l=Z=0,B=29}while(0);do{if(29==(0|B)){if(k=(E=0==(0|g))?d:k,s=E?b:s,!((u=0!=(0|u))&101==(32|e))){if(-1<(0|e)){e=Z,B=37;break}e=Z,B=39;break}if(0==(0|(u=0|Yi(A,n)))&-2147483648==(0|(e=D))){if(!n){nl(A,0),a=0;break}e=u=(0|ar[W>>2]&&(ar[X>>2]=(0|ar[X>>2])-1),0)}y=0|tb(0|u,0|e,0|k,0|s),e=Z,s=D,B=41}}while(0);37==(0|B)&&(B=0|ar[W>>2]?(ar[X>>2]=(0|ar[X>>2])-1,u?(y=k,41):40):39),39==(0|B)&&(B=u?(y=k,41):40);do{if(40==(0|B))ar[(G=10364)>>2]=22,nl(A,0),a=0;else if(41==(0|B)){if(!(u=0|ar[t>>2])){a=0*(0|f);break}if((0|y)==(0|d)&(0|s)==(0|b)&((0|b)<0|0==(0|b)&d>>>0<10)&&30<(0|r)|0==(u>>>r|0)){a=(0|f)*(u>>>0);break}if((0|(W=((0|(A=(0|i)/-2|0))<0)<<31>>31))<(0|s)|(0|s)==(0|W)&A>>>0<y>>>0){ar[(G=10364)>>2]=34,a=17976931348623157e292*(0|f)*17976931348623157e292;break}if((0|s)<(0|(W=((0|(A=i+-106|0))<0)<<31>>31))|(0|s)==(0|W)&y>>>0<A>>>0){ar[(G=10364)>>2]=34,a=22250738585072014e-324*(0|f)*22250738585072014e-324;break}if(e){if((0|e)<9){for(u=0|ar[(b=t+(l<<2)|0)>>2];u=10*u|0,9!=(0|(e=e+1|0)););ar[b>>2]=u}l=l+1|0}if((0|m)<9&&(0|m)<=(0|y)&(0|y)<18){if(e=0|ar[t>>2],9==(0|y)){a=(0|f)*(e>>>0);break}if((0|y)<9){a=(0|f)*(e>>>0)/(0|ar[14012+(8-y<<2)>>2]);break}if(30<(0|(A=r+27+(0|br(y,-3))|0))|0==(e>>>A|0)){a=(0|f)*(e>>>0)*(0|ar[14012+(y+-10<<2)>>2]);break}}if(e=(0|y)%9|0){if(d=0|ar[14012+(8-(m=-1<(0|y)?e:e+9|0)<<2)>>2],l){for(k=1e9/(0|d)|0,u=y,e=s=b=0;A=(((W=0|ar[(X=t+(e<<2)|0)>>2])>>>0)/(d>>>0)|0)+b|0,ar[X>>2]=A,b=0|br(k,(W>>>0)%(d>>>0)|0),u=(A=(0|e)==(0|s)&0==(0|A))?u+-9|0:u,s=A?s+1&127:s,(0|(e=e+1|0))!=(0|l););b?(ar[t+(l<<2)>>2]=b,b=s,l=l+1|0):b=s}else l=b=0,u=y;y=9-m+u|(e=0)}else b=e=0;A:for(;;){for(m=(0|y)<18,g=18==(0|y),Z=t+(b<<2)|0;;){if(!m){if(!g){u=y;break A}if(9007199<=(0|ar[Z>>2])>>>0){u=18;break A}}for(l=(p=l)+127|(u=0);l=0|tb(0|(l=0|db(0|ar[(d=t+((s=127&l)<<2)|0)>>2],0,29)),0|D,0|u,0),0<(u=D)>>>0|0==(0|u)&1e9<l>>>0?(k=0|lb(0|l,0|u,1e9,0),l=0|ub(0|l,0|u,1e9,0)):k=0,p=0==(0|(ar[d>>2]=l))&(1^((0|s)!=(p+127&127|0)|(A=(0|s)==(0|b))))?s:p,!A;)u=k,l=s+-1|0;if(e=e+-29|0,0|k)break;l=p}l=p+127&127,u=t+((p+126&127)<<2)|0,(0|(b=b+127&127))==(0|p)?ar[u>>2]=ar[u>>2]|ar[t+(l<<2)>>2]:l=p,ar[t+(b<<2)>>2]=k,y=y+9|0}A:for(;;){for(Z=l+1&127,p=t+((l+127&127)<<2)|0;;){for(k=18==(0|u),g=27<(0|u)?9:1,y=b;;){for(b=0;;){if((0|(s=b+y&127))==(0|l)){I=2,B=88;break}if((s=0|ar[t+(s<<2)>>2])>>>0<(d=0|ar[14044+(b<<2)>>2])>>>0){I=2,B=88;break}if(d>>>0<s>>>0)break;if(2<=(0|(b=b+1|0))){I=b,B=88;break}}if(88==(0|B)&&k&2==((B=0)|I)){s=a=0;break A}if(e=g+e|0,(0|y)!=(0|l))break;y=l}for(k=(1<<g)-1|0,m=1e9>>>g,d=0,s=b=y;A=((W=0|ar[(X=t+(s<<2)|0)>>2])>>>g)+d|0,ar[X>>2]=A,d=0|br(W&k,m),u=(A=(0|s)==(0|b)&0==(0|A))?u+-9|0:u,b=A?b+1&127:b,(0|(s=s+1&127))!=(0|l););if(d){if((0|Z)!=(0|b))break;ar[p>>2]=1|ar[p>>2]}}ar[t+(l<<2)>>2]=d,l=Z}for(;u=l+1&127,(0|(b=s+y&127))==(0|l)&&(ar[t+(u+-1<<2)>>2]=0,l=u),a=1e9*a+ +((0|ar[t+(b<<2)>>2])>>>0),2!=(0|(s=s+1|0)););if(c=(v=+(0|f))*a,h=(0|(b=(k=(0|(d=(s=e+53|0)-i|0))<(0|r))?0<(0|d)?d:0:r))<53?(w=+Di(+Qi(1,105-b|0),c))+(c-(a=h=+Ji(c,+Qi(1,53-b|0)))):(a=w=0,c),(0|(u=y+2&127))!=(0|l)){u=0|ar[t+(u<<2)>>2];do{if(5e8<=u>>>0){if(5e8!=(0|u)){a=.75*v+a;break}if((y+3&127|0)==(0|l)){a=.5*v+a;break}a=.75*v+a;break}if(0==(0|u)&&(y+3&127|0)==(0|l))break;a=.25*v+a}while(0);c=1<(53-b|0)&&0==+Ji(a,1)?a+1:a}else c=a;a=h+c-w;do{if((-2-C|0)<(2147483647&s|0)){if(a=(C=!(9007199254740992<=+V(+a)))?a:.5*a,((e=(1&(1^C))+e|0)+50|0)<=(0|G)&&!(0!=c&k&((0|b)!=(0|d)|C)))break;ar[(G=10364)>>2]=34}}while(0);a=+Mi(a,e)}}while(0);return ur=o,+a}function Yi(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0;switch(0|(i=(i=0|ar[(a=(A|=0)+4|0)>>2])>>>0<(0|ar[(r=A+100|0)>>2])>>>0?(ar[a>>2]=i+1,0|cr[i>>0]):0|vi(A))){case 43:case 45:f=45==(0|i)&1,0!=(0|e)&9<((i=(i=0|ar[a>>2])>>>0<(0|ar[r>>2])>>>0?(ar[a>>2]=i+1,0|cr[i>>0]):0|vi(A))+-48|0)>>>0&&0!=(0|ar[r>>2])&&(ar[a>>2]=(0|ar[a>>2])-1);break;default:f=0}if(9<(i+-48|0)>>>0)i=(f=(0|ar[r>>2]&&(ar[a>>2]=(0|ar[a>>2])-1),-2147483648),0);else{for(n=0;n=i+-48+(10*n|0)|0,((i=(i=0|ar[a>>2])>>>0<(0|ar[r>>2])>>>0?(ar[a>>2]=i+1,0|cr[i>>0]):0|vi(A))+-48|0)>>>0<10&(0|n)<214748364;);if(e=((0|n)<0)<<31>>31,(i+-48|0)>>>0<10){for(;e=0|nb(0|n,0|e,10,0),n=D,i=0|tb(0|i,((0|i)<0)<<31>>31|0,-48,-1),n=0|tb(0|i,0|D,0|e,0|n),e=D,((i=(i=0|ar[a>>2])>>>0<(0|ar[r>>2])>>>0?(ar[a>>2]=i+1,0|cr[i>>0]):0|vi(A))+-48|0)>>>0<10&((0|e)<21474836|21474836==(0|e)&n>>>0<2061584302););t=i,o=n}else t=i,o=n;if(i=0|ar[r>>2],(t+-48|0)>>>0<10)for(;(n=0|ar[a>>2])>>>0<i>>>0?(ar[a>>2]=n+1,n=0|cr[n>>0]):(n=0|vi(A),i=0|ar[r>>2]),(n+-48|0)>>>0<10;);0|i&&(ar[a>>2]=(0|ar[a>>2])-1),i=0|ob(0,0,0|o,0|e),f=(a=0!=(0|f))?D:e,i=a?i:o}return D=f,0|i}function Qi(A,e){A=+A;var r=0,i=0;return(0|(e|=0))<=1023?(0|e)<-1022&&(A*=22250738585072014e-324,r=e+1022|0,e=e+2044|0,A=(i=(0|r)<-1022)?22250738585072014e-324*A:A,e=i?-1022<(0|e)?e:-1022:r):(A*=898846567431158e293,i=e+-1023|0,e=e+-2046|0,A=(r=1023<(0|i))?898846567431158e293*A:A,e=r?(0|e)<1023?e:1023:i),r=0|db(e+1023|0,0,52),i=D,ar[d>>2]=r,ar[d+4>>2]=i,+(A*Q[d>>3])}function Di(A,e){return+ +function(A,e){A=+A,e=+e;var r,i=0;return Q[d>>3]=A,r=0|ar[d>>2],i=0|ar[d+4>>2],Q[d>>3]=e,i=-2147483648&ar[d+4>>2]|2147483647&i,ar[d>>2]=r,ar[d+4>>2]=i,+ +Q[d>>3]}(A=+A,e=+e)}function Ji(A,e){return+ +function(A,e){A=+A,e=+e;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;Q[d>>3]=A,o=0|ar[d>>2],c=0|ar[d+4>>2],Q[d>>3]=e,u=0|ar[d>>2],b=0|ar[d+4>>2],f=2047&(f=0|sb(0|o,0|c,52)),l=2047&(l=0|sb(0|u,0|b,52)),r=-2147483648&c,t=0|db(0|u,0|b,1),a=D;A:do{if(0==(0|t)&0==(0|a)||(n=0|Ti(e),i=2147483647&D,2047==(0|f)|2146435072<i>>>0|2146435072==(0|i)&0<n>>>0))s=3;else{if(i=0|db(0|o,0|c,1),!(a>>>0<(n=D)>>>0|(0|n)==(0|a)&t>>>0<i>>>0))return+((0|i)==(0|t)&(0|n)==(0|a)?0*A:A);if(f)t=1048575&c|1048576;else{if(i=0|db(0|o,0|c,12),-1<(0|(n=D))|-1==(0|n)&4294967295<i>>>0)for(f=0;f=f+-1|0,i=0|db(0|i,0|n,1),-1<(0|(n=D))|-1==(0|n)&4294967295<i>>>0;);else f=0;o=0|db(0|o,0|c,1-f|0),t=D}if(l)c=1048575&b|1048576;else{if(n=0|db(0|u,0|b,12),-1<(0|(a=D))|-1==(0|a)&4294967295<n>>>0)for(i=0;i=i+-1|0,n=0|db(0|n,0|a,1),-1<(0|(a=D))|-1==(0|a)&4294967295<n>>>0;);else i=0;u=0|db(0|u,0|b,1-i|0),l=i,c=D}n=0|ob(0|o,0|t,0|u,0|c),a=-1<(0|(i=D))|-1==(0|i)&4294967295<n>>>0;e:do{if((0|l)<(0|f)){for(;;){if(a){if(0==(0|n)&0==(0|i))break}else n=o,i=t;if(o=0|db(0|n,0|i,1),n=0|ob(0|o,0|(t=D),0|u,0|c),a=-1<(0|(i=D))|-1==(0|i)&4294967295<n>>>0,(0|(f=f+-1|0))<=(0|l))break e}e=0*A;break A}}while(0);if(a){if(0==(0|n)&0==(0|i)){e=0*A;break}}else i=t,n=o;if(i>>>0<1048576|1048576==(0|i)&n>>>0<0)for(;n=0|db(0|n,0|i,1),f=f+-1|0,(i=D)>>>0<1048576|1048576==(0|i)&n>>>0<0;);0<(0|f)?(b=0|tb(0|n,0|i,0,-1048576),i=D,f=0|db(0|f,0,52),i|=D,f|=b):(f=0|sb(0|n,0|i,1-f|0),i=D),ar[d>>2]=f,ar[d+4>>2]=i|r,e=+Q[d>>3]}}while(0);3==(0|s)&&(e*=A,e/=e);return+e}(A=+A,e=+e)}function Mi(A,e){return+ +Qi(A=+A,e|=0)}function Ti(A){A=+A;var e;return Q[d>>3]=A,e=0|ar[d>>2],D=0|ar[d+4>>2],0|e}function Ui(A,e,r,i){A|=0,i|=0;var f,n=0;return f=0|br(r|=0,e|=0),r=0==(0|e)?0:r,-1<(0|ar[i+76>>2])?(n=0==(0|Jc()),A=0|el(A,f,i),n||Mc()):A=0|el(A,f,i),(0|A)!=(0|f)&&(r=(A>>>0)/(e>>>0)|0),0|r}function Si(A,e){A|=0;var r,i,f,n=0,t=0,o=0,a=0;r=ur=(f=ur)+31&-32,ur=ur+16|0,i=255&(e|=0),tr[r>>0]=i,(o=0|ar[(t=A+16|0)>>2])?a=4:0|rl(A)?n=-1:(o=0|ar[t>>2],a=4);do{if(4==(0|a)){if((t=0|ar[(a=A+20|0)>>2])>>>0<o>>>0&&(0|(n=255&e))!=(0|tr[A+75>>0])){ar[a>>2]=t+1,tr[t>>0]=i;break}n=1==(0|xb[63&ar[A+36>>2]](A,r,1))?0|cr[r>>0]:-1}}while(0);return ur=f,0|n}function Oi(A){A|=0;var e=0,r=0;do{if(A){if((0|ar[A+76>>2])<=-1){e=0|zi(A);break}r=0==(0|Jc()),e=0|zi(A),r||Mc()}else{if(e=0|ar[2636]?0|Oi(0|ar[2636]):0,A=0|(C(58160),58168),A=0|ar[A>>2])for(;r=-1<(0|ar[A+76>>2])?0|Jc():0,(0|ar[A+20>>2])>>>0>(0|ar[A+28>>2])>>>0&&(e=0|zi(A)|e),0|r&&Mc(),0!=(0|(A=0|ar[A+56>>2])););T(58160)}}while(0);return 0|e}function zi(A){var e,r,i=0,f=0,n=0,t=0;return r=(A|=0)+28|0,0|(A=(0|ar[(e=A+20|0)>>2])>>>0>(0|ar[r>>2])>>>0&&(xb[63&ar[A+36>>2]](A,0,0),0==(0|ar[e>>2]))?-1:((f=0|ar[(i=A+4|0)>>2])>>>0<(t=0|ar[(n=A+8|0)>>2])>>>0&&xb[63&ar[A+40>>2]](A,f-t|0,1),ar[A+16>>2]=0,ar[r>>2]=0,ar[e>>2]=0,ar[n>>2]=0,ar[i>>2]=0))}function ji(A,e,r){A|=0,e|=0,r|=0;var i,f;return f=ur=(i=ur)+31&-32,ur=ur+16|0,ar[f>>2]=r,r=0|Hi(A,e,f),ur=i,0|r}function Hi(A,e,r){A|=0,e|=0,r|=0;var i,f,n=0,t=0;for(i=ur=(f=ur)+31&-32,ur=ur+128|0,t=(n=i)+124|0;(0|(n=n+4|(ar[n>>2]=0)))<(0|t););return ar[32+i>>2]=34,ar[44+i>>2]=A,ar[76+i>>2]=-1,ar[84+i>>2]=A,t=0|function(A,e,r){e|=0,r|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0;R=ur=(t=ur)+31&-32,ur=ur+288|0,i=R+8|0,f=R+17|0,R=(n=R)+16|0,_=-1<(0|ar[76+(A|=0)>>2])?0|Jc():0;o=0|tr[e>>0];A:do{if(o<<24>>24){y=A+4|0,B=A+100|0,E=A+108|0,X=A+8|0,W=10+f|0,I=33+f|0,p=4+i|0,C=46+f|0,G=94+f|0,F=V=1+f|0,l=e,a=c=e=v=0;e:for(;;){r:do{if(0|mi(255&o)){for(;0|mi(0|cr[(o=l+1|0)>>0]);)l=o;for(nl(A,0);0!=(0|mi(o=(o=0|ar[y>>2])>>>0<(0|ar[B>>2])>>>0?(ar[y>>2]=o+1,0|cr[o>>0]):0|vi(A))););0|ar[B>>2]?(o=(0|ar[y>>2])-1|0,ar[y>>2]=o):o=0|ar[y>>2],u=(0|ar[E>>2])+v+o-(0|ar[X>>2])|0}else{o=o<<24>>24==37;i:do{if(o){u=0|tr[(s=l+1|0)>>0];f:do{switch(u<<24>>24){case 37:break i;case 42:l=l+2|(Z=0);break;default:if((o=(255&u)-48|0)>>>0<10&&36==(0|tr[l+2>>0])){Z=0|xi(r,o),l=l+3|0;break f}l=3+(0|ar[r>>2])&-4,Z=0|ar[l>>2],ar[r>>2]=l+4,l=s}}while(0);if(o=0|tr[l>>0],((u=255&o)+-48|0)>>>0<10)for(s=0;s=(10*s|0)-48+u|0,o=0|tr[(l=l+1|0)>>0],((u=255&o)+-48|0)>>>0<10;);else s=0;switch(c=(o=o<<24>>24==109)?0:c,a=o?0:a,l=o?l+1|0:l,o&=g=0!=(0|Z),u=l+1|0,0|tr[l>>0]){case 104:m=104==(0|tr[u>>0]),d=m?-2:-1,l=m?l+2|0:u;break;case 108:m=108==(0|tr[u>>0]),d=m?3:1,l=m?l+2|0:u;break;case 106:d=3,l=u;break;case 116:case 122:d=1,l=u;break;case 76:d=2,l=u;break;case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:d=0;break;default:N=137;break e}switch(h=0|cr[l>>0],h=(w=3==(47&h|0))?32|h:h,w=w?1:d,(k=255&h)<<24>>24){case 99:s=1<(0|s)?s:1;break;case 91:break;case 110:Pi(Z,w,v,((0|v)<0)<<31>>31),u=v;break r;default:for(nl(A,0);0!=(0|mi(u=(u=0|ar[y>>2])>>>0<(0|ar[B>>2])>>>0?(ar[y>>2]=u+1,0|cr[u>>0]):0|vi(A))););0|ar[B>>2]?(u=(0|ar[y>>2])-1|0,ar[y>>2]=u):u=0|ar[y>>2],v=(0|ar[E>>2])+v+u-(0|ar[X>>2])|0}if(nl(A,s),u=0|ar[y>>2],d=0|ar[B>>2],u>>>0<d>>>0)ar[y>>2]=u+1;else{if((0|vi(A))<0){N=137;break e}d=0|ar[B>>2]}0|d&&(ar[y>>2]=(0|ar[y>>2])-1);f:do{switch(k<<24>>24){case 91:case 99:case 115:m=99==(0|h);n:do{if(115==(16|h))vb(0|V,-1,256),115==((tr[f>>0]=0)|h)&&(tr[I>>0]=0,tr[W>>0]=0,tr[W+1>>0]=0,tr[W+2>>0]=0,tr[W+3>>0]=0,tr[W+4>>0]=0);else{switch(h=94==(0|tr[(u=l+1|0)>>0]),l=h?l+2|0:u,vb(0|F,(k=1&h)|0,256),(tr[f>>0]=0)|tr[l>>0]){case 45:u=C,N=64;break;case 93:u=G,N=64;break;default:h=255&(1^k)}for(64==(0|N)&&(h=255&(1^k),tr[u>>(N=0)]=h,l=l+1|0);;){u=0|tr[l>>0];t:do{switch(u<<24>>24){case 0:N=137;break e;case 93:break n;case 45:switch((u=0|tr[(k=l+1|0)>>0])<<24>>24){case 93:case 0:u=45;break t}if((255&(l=0|tr[l+-1>>0]))<(255&u)){for(l&=255;tr[f+(l=l+1|0)>>0]=h,u=0|tr[k>>0],(0|l)<(255&u|0););l=k}else l=k}}while(0);tr[1+(255&u)+f>>0]=h,l=l+1|0}}}while(0);u=m?s+1|0:31,h=1==(0|w);n:do{if(h){if(o){if(!(a=0|yc(u<<2))){a=c=0,o=1,N=137;break e}}else a=Z;ar[i>>2]=0,ar[p>>2]=0,k=u,c=0;t:for(;;){d=0==(0|a);do{o:for(;;){if(u=(u=0|ar[y>>2])>>>0<(0|ar[B>>2])>>>0?(ar[y>>2]=u+1,0|cr[u>>0]):0|vi(A),!(0|tr[f+(u+1)>>0]))break t;switch(tr[R>>0]=u,0|Gi(n,R,1,i)){case-1:c=0,N=137;break e;case-2:break;default:break o}}d||(ar[a+(c<<2)>>2]=ar[n>>2],c=c+1|0)}while(!(o&(0|c)==(0|k)));if(!(u=0|Ec(a,(c=k<<1|1)<<2))){c=0,o=1,N=137;break e}w=k,k=c,a=u,c=w}if(!(0|(Y=i,1&(Y=(Y|=0)?0==(0|ar[Y>>2]):1)|0))){c=0,N=137;break e}u=c,c=0,k=a}else{if(o){if(!(c=0|yc(u))){a=c=0,o=1,N=137;break e}for(d=u,a=0;;){do{if(u=(u=0|ar[y>>2])>>>0<(0|ar[B>>2])>>>0?(ar[y>>2]=u+1,0|cr[u>>0]):0|vi(A),!(0|tr[f+(u+1)>>0])){u=a,a=k=0;break n}tr[c+a>>0]=u,a=a+1|0}while((0|a)!=(0|d));if(!(u=0|Ec(c,a=d<<1|1))){a=0,o=1,N=137;break e}w=d,d=a,c=u,a=w}}if(Z)for(u=0,c=d;;){if(a=(a=0|ar[y>>2])>>>0<c>>>0?(ar[y>>2]=a+1,0|cr[a>>0]):0|vi(A),!(0|tr[f+(a+1)>>0])){c=Z,a=k=0;break n}tr[Z+u>>0]=a,u=u+1|0,c=0|ar[B>>2]}else for(c=d;;){if(a=(a=0|ar[y>>2])>>>0<c>>>0?(ar[y>>2]=a+1,0|cr[a>>0]):0|vi(A),!(0|tr[f+(a+1)>>0])){a=k=c=u=0;break n}c=0|ar[B>>2]}}}while(0);if(0|ar[B>>2]?(d=(0|ar[y>>2])-1|0,ar[y>>2]=d):d=0|ar[y>>2],!(d=d-(0|ar[X>>2])+(0|ar[E>>2])|0)){N=139;break e}if(!((0|d)==(0|s)|1^m)){N=139;break e}do{if(o){if(h){ar[Z>>2]=k;break}ar[Z>>2]=c;break}}while(0);if(!m){if(0|k&&(ar[k+(u<<2)>>2]=0),!c){c=0;break f}tr[c+u>>0]=0}break;case 120:case 88:case 112:u=16,N=125;break;case 111:u=8,N=125;break;case 117:case 100:u=10,N=125;break;case 105:u=0,N=125;break;case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:if(b=+Ri(A,w,0),(0|ar[E>>2])==((0|ar[X>>2])-(0|ar[y>>2])|0)){N=139;break e}if(Z)switch(0|w){case 0:gA[Z>>2]=b;break f;case 1:case 2:Q[Z>>3]=b;break f;default:break f}}}while(0);do{if(125==(0|N)){if(u=(N=0)|wi(A,u,0,-1,-1),(0|ar[E>>2])==((0|ar[X>>2])-(0|ar[y>>2])|0)){N=139;break e}if(g&112==(0|h)){ar[Z>>2]=u;break}Pi(Z,w,u,D);break}}while(0);e=(1&g)+e|0,u=(0|ar[E>>2])+v+(0|ar[y>>2])-(0|ar[X>>2])|0;break r}}while(0);if(l=l+(1&o)|0,nl(A,0),(0|(o=(o=0|ar[y>>2])>>>0<(0|ar[B>>2])>>>0?(ar[y>>2]=o+1,0|cr[o>>0]):0|vi(A)))!=(0|cr[l>>0])){N=22;break e}u=v+1|0}}while(0);if(!((o=0|tr[(l=l+1|0)>>0])<<24>>24))break A;v=u}if(22==(0|N)){if(0|ar[B>>2]&&(ar[y>>2]=(0|ar[y>>2])-1),0!=(0|e)|-1<(0|o))break;o=0,N=138}else 137==(0|N)?(o&=1,e||(N=138)):139==(0|N)&&(o&=1);138==(0|N)&&(e=-1),o&&(Bc(c),Bc(a))}else e=0}while(0);var Y;0|_&&Mc();return ur=t,0|e}(i,e,r),ur=f,0|t}function xi(A,e){A|=0,e|=0;var r,i,f=0;for(r=ur=(i=ur)+31&-32,ur=ur+16|0,ar[r>>2]=ar[A>>2];f=3+(0|ar[r>>2])&-4,A=0|ar[f>>2],ar[r>>2]=f+4,1<e>>>0;)e=e+-1|0;return ur=i,0|A}function Pi(A,e,r,i){A|=0,e|=0,r|=0,i|=0;A:do{if(0|A)switch(0|e){case-2:tr[A>>0]=r;break A;case-1:or[A>>1]=r;break A;case 0:case 1:ar[A>>2]=r;break A;case 3:ar[(e=A)>>2]=r,ar[e+4>>2]=i;break A;default:break A}}while(0)}function Li(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t=0,o=0;for(f=ur=(n=ur)+31&-32,ur=ur+128|0,o=(t=f)+124|0;(0|(t=t+4|(ar[t>>2]=0)))<(0|o););return ar[(t=4+f|0)>>2]=A,ar[(o=8+f|0)>>2]=-1,ar[44+f>>2]=A,ar[76+f>>2]=-1,nl(f,0),i=+Ri(f,r,1),r=(0|ar[t>>2])-(0|ar[o>>2])+(0|ar[108+f>>2])|0,0|e&&(ar[e>>2]=0|r?A+r|0:A),ur=n,+i}function Ki(A,e){return r=A|=0,i=e|=0,+ + + +Li(r|=0,i|=0,0);var r,i}function qi(A,e){return r=A|=0,i=e|=0,+ + + +Li(r|=0,i|=0,1);var r,i}function $i(A,e){return r=A|=0,i=e|=0,+ + + +Li(r|=0,i|=0,2);var r,i}function Af(A,e){return+ +Qi(A=+A,e|=0)}function ef(A){return 0|~~+pb(+(A=+A))}function rf(A){A|=0;var e;return e=0|ar[2622],0|A&&(ar[2622]=-1==(0|A)?58104:A),0|(58104==(0|e)?-1:e)}function ff(A,e){A|=0,e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;b=ur=(i=ur)+31&-32,ur=ur+272|0,r=b+8|0;do{if(!(0|tr[e>>0])){if(0|(e=0|bA(52903))&&0|tr[e>>0])break;if(0|(e=0|bA(52910+(12*A|0)|0))&&0|tr[e>>0])break;if(0|(e=0|bA(52982))&&0|tr[e>>0])break;e=52987}}while(0);f=0;A:do{switch(0|tr[e+f>>0]){case 47:case 0:break A}f=f+1|0}while(f>>>0<15);15==(0|(u=(n=0|tr[e>>0])<<24>>24!=46&&0==(0|tr[e+f>>0])?n<<24>>24==67?15:(l=e,16):(e=52987,15)))&&(u=0|tr[e+1>>0]?(l=e,16):18);A:do{if(16==(0|u))if(0!=(0|Fc(l,52987))&&0!=(0|Fc(l,52995))){if(0|(e=0|ar[14543]))do{if(!(0|Fc(l,e+8|0)))break A;e=0|ar[e+24>>2]}while(0!=(0|e));C(58176),e=0|ar[14543];e:do{if(0|e){for(;0|Fc(l,e+8|0);)if(!(e=0|ar[e+24>>2]))break e;T(58176);break A}}while(0);e:do{if(0==(0|ar[14518])&&0!=(0|(t=0|bA(53001)))&&0!=(0|tr[t>>0])){for(a=254-f|0,c=f+1|0,n=t;;){if((t=(o=0|Nc(n,58))-n+(((e=0|tr[o>>0])<<24>>24!=0)<<31>>31)|0)>>>0<a>>>0){if(hb(0|r,0|n,0|t),tr[(n=r+t|0)>>0]=47,hb(n+1|0,0|l,0|f),(tr[r+(c+t)>>0]=0)|(t=0|G(0|r,0|b)))break;e=0|tr[o>>0]}if(!(0|tr[(n=o+(e<<24>>24!=0&1)|0)>>0])){u=41;break e}}if(e=0|yc(28),n=0|ar[b>>2],e){ar[e>>2]=t,ar[e+4>>2]=n,hb(0|(b=e+8|0),0|l,0|f),tr[b+f>>0]=0,ar[e+24>>2]=ar[14543],ar[14543]=e;break}Ei(t,n),u=41;break}u=41}while(0);41==(0|u)&&(e=0|yc(28))&&(ar[e>>2]=ar[2525],ar[e+4>>2]=ar[2526],hb(0|(b=e+8|0),0|l,0|f),tr[b+f>>0]=0,ar[e+24>>2]=ar[14543],ar[14543]=e),T(58176),e=0==(0|A)&0==(0|e)?10100:e}else e=l,u=18}while(0);do{if(18==(0|u)){if(0==(0|A)&&46==(0|tr[e+1>>0])){e=10100;break}e=0}}while(0);return ur=i,0|e}function nf(A){return 10148!=(0|(A|=0))&0!=(0|A)&58128!=(0|A)&1|0}function tf(A,e,r,i){return 0|(i|=0)}function of(A){0|nf(A|=0)&&Bc(A)}function af(A){return((A|=0)+-48|0)>>>0<10|0}function cf(){return-1}function lf(A){return 0|(e=A|=0,1&(((e|=0)-48|0)>>>0<10|((32|e)-97|0)>>>0<6)|0);var e}function uf(A,e){A|=0,e|=0;var r=0,i=0,f=0,n=0,t=0;do{if(-1!=(0|A)){if(f=-1<(0|ar[e+76>>2])?0|Jc():0,(r=0|ar[(n=e+4|0)>>2])?(i=r,r=0!=(0|f),t=7):(Zi(e),r=0!=(0|f),(i=0|ar[n>>2])?t=7:A=r),7==(0|t)){if(i>>>0>((0|ar[e+44>>2])-8|0)>>>0){if(t=i+-1|0,ar[n>>2]=t,tr[t>>0]=A,ar[e>>2]=-17&ar[e>>2],!r)break;Mc();break}A=r}A=(A&&Mc(),-1)}else A=-1}while(0);return 0|A}function bf(A){sf(A|=0)}function sf(A){ar[(A|=0)>>2]=14060,function(A,e){e|=0;var r,i,f=0,n=0;r=32+(A|=0)|0,i=A+36|0,f=0|ar[A+40>>2];for(;f;)n=f+-1|0,ns[127&ar[(0|ar[r>>2])+(n<<2)>>2]](e,A,0|ar[(0|ar[i>>2])+(n<<2)>>2]),f=n}(A,0),bn(A+28|0),Bc(0|ar[A+32>>2]),Bc(0|ar[A+36>>2]),Bc(0|ar[A+48>>2]),Bc(0|ar[A+60>>2])}function df(A){sf(A|=0)}function kf(A){ar[(A|=0)>>2]=14076,bn(A+4|0)}function hf(A){return 255&(A|=0)|0}function wf(A,e,r){return A|=0,e|=0,0|(r|=0)&&hb(0|A,0|e,0|r),0|A}function vf(A){return 255&(A|=0)|0}function mf(A){ar[(A|=0)>>2]=14140,bn(A+4|0)}function gf(A){return 0|(A|=0)}function Zf(A,e,r){return A|=0,e|=0,(r|=0)&&function(A,e,r){A|=0,e|=0;var i=0;if(0|(r|=0))for(i=A;r=r+-1|0,ar[i>>2]=ar[e>>2],r;)e=e+4|0,i=i+4|0}(A,e,r),0|A}function pf(A){return 0|(A|=0)}function yf(A){Ef(A|=0),bf(A+8|0)}function Bf(A){yf(A|=0),vu(A)}function Ef(){}function Xf(A){df((A|=0)+8|0)}function Wf(A){Xf(A|=0),vu(A)}function If(A){Gf(A|=0),bf(A+4|0)}function Cf(A){If(A|=0),vu(A)}function Gf(){}function Vf(A){df((A|=0)+4|0)}function Ff(A){Vf(A|=0),vu(A)}function Rf(A){_f(A|=0),bf(A+12|0)}function Nf(A){Rf(A|=0),vu(A)}function _f(){}function Yf(A){return 0|Vc(A|=0)}function Qf(A,e){e|=0,tr[(A|=0)>>0]=0|tr[e>>0]}function Df(A,e){e|=0,ar[(A|=0)+16>>2]=0==(0|ar[A+24>>2])|e}function Jf(A,e){e|=0;var r;for(ar[(A|=0)+24>>2]=e,ar[A+16>>2]=0==(0|e)&1,ar[A+20>>2]=0,ar[A+4>>2]=4098,ar[A+12>>2]=0,ar[A+8>>2]=6,r=A+28|0,A=(e=A+32|0)+40|0;(0|(e=e+4|(ar[e>>2]=0)))<(0|A););fu(r)}function Mf(A,e){return(0|(A|=0))==(0|(e|=0))|0}function Tf(A,e){ru(A|=0,(e|=0)+28|0)}function Uf(A,e){return(0|(A|=0))==(0|(e|=0))|0}function Sf(A){ar[(A|=0)>>2]=14076,fu(A+4|0),ar[(A=A+8|0)>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ar[A+12>>2]=0,ar[A+16>>2]=0,ar[A+20>>2]=0}function Of(A){ar[(A|=0)>>2]=14140,fu(A+4|0),ar[(A=A+8|0)>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ar[A+12>>2]=0,ar[A+16>>2]=0,ar[A+20>>2]=0}function zf(A,e){var r,i,f,n;e|=0,tr[(A|=0)>>0]=0,e=(ar[A+4>>2]=e)+(0|ar[(0|ar[e>>2])-12>>2])|0,0|ar[e+16>>2]||(0|(e=0|ar[e+72>>2])&&(r=e,i=ur=(f=ur)+31&-32,ur=ur+16|(n=0),0|ar[(r|=0)+(0|ar[(0|ar[r>>2])-12>>2])+24>>2]&&(zf(i,r),0|tr[i>>0]&&(n=0|ar[r+(0|ar[(0|ar[r>>2])-12>>2])+24>>2],-1==(0|jb[127&ar[24+(0|ar[n>>2])>>2]](n)))&&Df(n=r+(0|ar[(0|ar[r>>2])-12>>2])|0,1|ar[n+16>>2]),jf(i)),ur=f),tr[A>>0]=1)}function jf(A){var e=0;e=(e=0|ar[(A=(A|=0)+4|0)>>2])+(0|ar[(0|ar[e>>2])-12>>2])|0,0|ar[e+24>>2]&&0==(0|ar[e+16>>2])&&8192&ar[e+4>>2]|0&&!(0|E())&&(e=0|ar[A>>2],e=0|ar[e+(0|ar[(0|ar[e>>2])-12>>2])+24>>2],-1==(0|jb[127&ar[24+(0|ar[e>>2])>>2]](e)))&&Df(e=(e=0|ar[A>>2])+(0|ar[(0|ar[e>>2])-12>>2])|0,1|ar[e+16>>2])}function Hf(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0;return f=ur=(n=ur)+31&-32,ur=ur+16|0,r=12+f|0,i=8+f|0,zf(f,A|=0),0|tr[f>>0]&&(Tf(r,A+(0|ar[(0|ar[A>>2])-12>>2])|0),o=0|un(r,59288),bn(r),a=A+(0|ar[(0|ar[A>>2])-12>>2])|0,c=0|ar[a+24>>2],t=0|Mf(l=-1,0|ar[(t=a+76|0)>>2])?(Tf(r,a),l=0|un(r,59232),l=0|Hb[31&ar[28+(0|ar[l>>2])>>2]](l,32),bn(r),l=l<<24>>24,ar[t>>2]=l):0|ar[t>>2],l=0|ar[12+(0|ar[o>>2])>>2],ar[i>>2]=c,ar[r>>2]=ar[i>>2],0|Kb[31&l](o,r,a,255&t,e)||Df(l=A+(0|ar[(0|ar[A>>2])-12>>2])|0,5|ar[l+16>>2])),jf(f),ur=n,0|A}function xf(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0;return f=ur=(n=ur)+31&-32,ur=ur+16|0,r=12+f|0,i=8+f|0,zf(f,A|=0),0|tr[f>>0]&&(Tf(r,A+(0|ar[(0|ar[A>>2])-12>>2])|0),o=0|un(r,59288),bn(r),a=A+(0|ar[(0|ar[A>>2])-12>>2])|0,c=0|ar[a+24>>2],t=0|Mf(l=-1,0|ar[(t=a+76|0)>>2])?(Tf(r,a),l=0|un(r,59232),l=0|Hb[31&ar[28+(0|ar[l>>2])>>2]](l,32),bn(r),l=l<<24>>24,ar[t>>2]=l):0|ar[t>>2],l=0|ar[24+(0|ar[o>>2])>>2],ar[i>>2]=c,ar[r>>2]=ar[i>>2],0|Kb[31&l](o,r,a,255&t,65535&e)||Df(l=A+(0|ar[(0|ar[A>>2])-12>>2])|0,5|ar[l+16>>2])),jf(f),ur=n,0|A}function Pf(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0;return f=ur=(n=ur)+31&-32,ur=ur+16|0,r=12+f|0,i=8+f|0,zf(f,A|=0),0|tr[f>>0]&&(Tf(r,A+(0|ar[(0|ar[A>>2])-12>>2])|0),o=0|un(r,59288),bn(r),a=A+(0|ar[(0|ar[A>>2])-12>>2])|0,c=0|ar[a+24>>2],t=0|Mf(l=-1,0|ar[(t=a+76|0)>>2])?(Tf(r,a),l=0|un(r,59232),l=0|Hb[31&ar[28+(0|ar[l>>2])>>2]](l,32),bn(r),l=l<<24>>24,ar[t>>2]=l):0|ar[t>>2],l=0|ar[16+(0|ar[o>>2])>>2],ar[i>>2]=c,ar[r>>2]=ar[i>>2],0|Kb[31&l](o,r,a,255&t,e)||Df(l=A+(0|ar[(0|ar[A>>2])-12>>2])|0,5|ar[l+16>>2])),jf(f),ur=n,0|A}function Lf(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0;return f=ur=(n=ur)+31&-32,ur=ur+16|0,r=12+f|0,i=8+f|0,zf(f,A|=0),0|tr[f>>0]&&(Tf(r,A+(0|ar[(0|ar[A>>2])-12>>2])|0),o=0|un(r,59288),bn(r),a=A+(0|ar[(0|ar[A>>2])-12>>2])|0,c=0|ar[a+24>>2],t=0|Mf(l=-1,0|ar[(t=a+76|0)>>2])?(Tf(r,a),l=0|un(r,59232),l=0|Hb[31&ar[28+(0|ar[l>>2])>>2]](l,32),bn(r),l=l<<24>>24,ar[t>>2]=l):0|ar[t>>2],l=0|ar[24+(0|ar[o>>2])>>2],ar[i>>2]=c,ar[r>>2]=ar[i>>2],0|Kb[31&l](o,r,a,255&t,e)||Df(l=A+(0|ar[(0|ar[A>>2])-12>>2])|0,5|ar[l+16>>2])),jf(f),ur=n,0|A}function Kf(A,e,r){e|=0,r|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0;return n=ur=(t=ur)+31&-32,ur=ur+16|0,i=12+n|0,f=8+n|0,zf(n,A|=0),0|tr[n>>0]&&(Tf(i,A+(0|ar[(0|ar[A>>2])-12>>2])|0),a=0|un(i,59288),bn(i),c=A+(0|ar[(0|ar[A>>2])-12>>2])|0,l=0|ar[c+24>>2],o=0|Mf(u=-1,0|ar[(o=c+76|0)>>2])?(Tf(i,c),u=0|un(i,59232),u=0|Hb[31&ar[28+(0|ar[u>>2])>>2]](u,32),bn(i),u=u<<24>>24,ar[o>>2]=u):0|ar[o>>2],u=0|ar[28+(0|ar[a>>2])>>2],ar[f>>2]=l,ar[i>>2]=ar[f>>2],0|$b[63&u](a,i,c,255&o,e,r)||Df(u=A+(0|ar[(0|ar[A>>2])-12>>2])|0,5|ar[u+16>>2])),jf(n),ur=t,0|A}function qf(A,e,r){e|=0,r|=0;var i,f;f=ur=(i=ur)+31&-32,ur=ur+16|0,Sf(A|=0),ar[A>>2]=14508,ar[A+32>>2]=e,ru(f,A+4|0),e=0|un(f,61024),bn(f),ar[A+36>>2]=e,ar[A+40>>2]=r,r=1&(0|jb[127&ar[28+(0|ar[e>>2])>>2]](e)),tr[A+44>>0]=r,ur=i}function $f(A,e,r){e|=0,r|=0;var i,f;f=ur=(i=ur)+31&-32,ur=ur+16|0,Of(A|=0),ar[A>>2]=14444,ar[A+32>>2]=e,ru(f,A+4|0),e=0|un(f,61032),bn(f),ar[A+36>>2]=e,ar[A+40>>2]=r,r=1&(0|jb[127&ar[28+(0|ar[e>>2])>>2]](e)),tr[A+44>>0]=r,ur=i}function An(A){mf(A|=0)}function en(A){kf(A|=0)}function rn(A){mf(A|=0)}function fn(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;if(i=ur=(t=ur)+31&-32,ur=ur+32|0,f=16+i|0,k=8+i|0,r=4+i|0,n=(A|=0)+48|0,0|tr[(a=A+52|0)>>0])o=0|ar[n>>2],e&&(k=-1,ar[n>>2]=k,tr[a>>0]=0);else{for(o=1<(0|(o=0|ar[A+44>>2]))?o:1,d=A+32|0,a=0;;){if((0|o)<=(0|a)){s=9;break}if(-1==(0|(c=0|Wi(0|ar[d>>2])))){s=8;break}tr[f+a>>0]=c,a=a+1|0}if(8==(0|s))o=-1;else if(9==(0|s)){do{if(0|tr[A+53>>0])ar[k>>2]=tr[f>>0],s=19;else{b=A+40|0,l=A+36|0,u=k+4|0;A:for(;;){switch(h=0|ar[b>>2],a=0|ar[(c=h)>>2],c=0|ar[c+4>>2],w=0|ar[l>>2],A=f+o|0,0|es[15&ar[16+(0|ar[w>>2])>>2]](w,h,f,A,r,k,u,i)){case 3:s=16;break A;case 2:s=18;break A;case 1:break;default:break A}if(w=0|ar[b>>2],ar[w>>2]=a,ar[w+4>>2]=c,8==(0|o)){s=18;break}if(-1==(0|(a=0|Wi(0|ar[d>>2])))){s=18;break}tr[A>>0]=a,o=o+1|0}if(16==(0|s))ar[k>>2]=tr[f>>0];else if(18==(0|s)){o=-1;break}s=19}}while(0);A:do{if(19==(0|s)){e:do{if(!e){do{if((0|o)<=0)break e;w=0|gf(0|tr[f+(o=o+-1|0)>>0])}while(-1!=(0|uf(w,0|ar[d>>2])));o=-1;break A}w=0|gf(0|ar[k>>2]),ar[n>>2]=w}while(0);o=0|gf(0|ar[k>>2])}}while(0)}}return ur=t,0|o}function nn(A){kf(A|=0)}function tn(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;if(i=ur=(t=ur)+31&-32,ur=ur+32|0,f=16+i|0,k=8+i|0,r=4+i|0,n=(A|=0)+48|0,0|tr[(a=A+52|0)>>0])o=0|ar[n>>2],e&&(k=-1,ar[n>>2]=k,tr[a>>0]=0);else{for(o=1<(0|(o=0|ar[A+44>>2]))?o:1,d=A+32|0,a=0;;){if((0|o)<=(0|a)){s=9;break}if(-1==(0|(c=0|Wi(0|ar[d>>2])))){s=8;break}tr[f+a>>0]=c,a=a+1|0}if(8==(0|s))o=-1;else if(9==(0|s)){do{if(0|tr[A+53>>0])tr[k>>0]=0|tr[f>>0],s=19;else{b=A+40|0,l=A+36|0,u=k+1|0;A:for(;;){switch(h=0|ar[b>>2],a=0|ar[(c=h)>>2],c=0|ar[c+4>>2],w=0|ar[l>>2],A=f+o|0,0|es[15&ar[16+(0|ar[w>>2])>>2]](w,h,f,A,r,k,u,i)){case 3:s=16;break A;case 2:s=18;break A;case 1:break;default:break A}if(w=0|ar[b>>2],ar[w>>2]=a,ar[w+4>>2]=c,8==(0|o)){s=18;break}if(-1==(0|(a=0|Wi(0|ar[d>>2])))){s=18;break}tr[A>>0]=a,o=o+1|0}if(16==(0|s))tr[k>>0]=0|tr[f>>0];else if(18==(0|s)){o=-1;break}s=19}}while(0);A:do{if(19==(0|s)){e:do{if(!e){do{if((0|o)<=0)break e;w=0|hf(0|tr[f+(o=o+-1|0)>>0])}while(-1!=(0|uf(w,0|ar[d>>2])));o=-1;break A}w=0|hf(0|tr[k>>0]),ar[n>>2]=w}while(0);o=0|hf(0|tr[k>>0])}}while(0)}}return ur=t,0|o}function on(A){an(A|=0)}function an(A){0}function cn(A){an()}function ln(A,e){e|=0,ar[(A|=0)>>2]=ar[e>>2]}function un(A,e){return e|=0,A=0|ar[(A|=0)>>2],0|(r=A,i=0|hn(e),i|=0,0|ar[(0|ar[8+(r|=0)>>2])+(i<<2)>>2]);var r,i}function bn(A){lu(0|ar[(A|=0)>>2])}function sn(A,e,r,i,f,n,t,o,a,c){A|=0,e|=0,r|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b=0,s=0;u=(0|(l=0|ar[(i|=0)>>2]))==(0|r);do{if(u){if(!(b=(0|tr[c+24>>0])==A<<24>>24)&&(0|tr[c+25>>0])!=A<<24>>24){s=5;break}ar[i>>2]=r+1,tr[r>>0]=b?43:45,b=ar[f>>2]=0}else s=5}while(0);A:do{if(5==(0|s)){if(s=0|tr[t+11>>0],A<<24>>24==n<<24>>24&&0!=(0|(s<<24>>24<0?0|ar[t+4>>2]:255&s))){if(160<=((b=0|ar[a>>2])-o|0)){b=0;break}i=0|ar[f>>2],ar[a>>2]=b+4,ar[b>>2]=i,b=ar[f>>2]=0;break}for(t=c+26|0,n=0;;){if(b=c+n|0,26==(0|n)){b=t;break}if((0|tr[b>>0])==A<<24>>24)break;n=n+1|0}if(23<(0|(b=b-c|0)))b=-1;else{switch(n=53648+b|0,0|e){case 10:case 8:if((0|e)<=(0|b)){b=-1;break A}break;case 16:if(22<=(0|b)){if(u){b=-1;break A}if(3<=(l-r|0)){b=-1;break A}if(48!=(0|tr[l-1>>0])){b=-1;break A}b=(ar[f>>2]=0)|tr[n>>0],ar[i>>2]=1+l,tr[l>>0]=b,b=0;break A}}b=0|tr[n>>0],ar[i>>2]=1+l,tr[l>>0]=b,ar[f>>2]=1+(0|ar[f>>2]),b=0}}}while(0);return 0|b}function dn(){var A=0;return 0==(0|tr[56624])&&0|ib(56624)&&(A=0|function(A,e,r){A|=0,e|=0,r|=0;var i,f,n=0,t=0,o=0,a=0;i=ur=(f=ur)+31&-32,ur=ur+32|0;A:do{if(0|nf(r))for(n=0;1<<n&A|0&&(a=0|ff(n,e),ar[r+(n<<2)>>2]=a),6!=(0|(n=n+1|0)););else{for(a=0==(0|r),o=t=0;t=(0!=(0|(n=a|(n=0!=(1<<o&A|0))?0|ff(o,n?e:79659):0|ar[r+(o<<2)>>2]))&1)+t|0,ar[i+(o<<2)>>2]=n,6!=(0|(o=o+1|0)););switch(0|t){case 0:r=58128;break A;case 1:if(10100!=(0|ar[i>>2]))break;r=10148;break A}}}while(0);return ur=f,0|r}(2147483647,53684,0),ar[14810]=A),0|ar[14810]}function kn(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n;return n=ur=(f=ur)+31&-32,ur=ur+16|0,ar[n>>2]=i,i=0|rf(e),e=0|Hi(A,r,n),0|i&&rf(i),ur=f,0|e}function hn(A){A|=0;var e,r,i,f,n=0;return n=ur=(f=ur)+31&-32,ur=ur+48|0,e=n+32|0,r=n+24|0,ar[(n=(i=n)+16|0)>>2]=442,ar[n+4>>2]=0,ar[e>>2]=ar[n>>2],ar[4+e>>2]=ar[n+4>>2],function(A,e,r){A|=0,r|=0;var i;i=0|ar[(e=e|0)>>2],e=0|ar[e+4>>2],ar[A>>2]=r,ar[A+4>>2]=i,ar[A+8>>2]=e}(i,e,A),-1!=(0|ar[A>>2])&&(ar[e>>2]=i,ar[r>>2]=e,function(A,e,r){A|=0,e|=0,r|=0,gb();for(;1==(0|ar[A>>2]);)hA(61100,61072);0|ar[A>>2]?Zb():(ar[A>>2]=1,Zb(),is[511&r](e),gb(),ar[A>>2]=-1,Zb(),mb())}(A,r,443)),ur=f,(0|ar[A+4>>2])-1|0}function wn(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n,t;t=ur=(n=ur)+31&-32,ur=ur+16|0,Tf(t,e|=0),e=0|un(t,59232),Pb[7&ar[32+(0|ar[e>>2])>>2]](e,53648,53680,r),r=0|un(t,59248),e=0|jb[127&ar[12+(0|ar[r>>2])>>2]](r),tr[i>>0]=e,i=0|jb[127&ar[16+(0|ar[r>>2])>>2]](r),tr[f>>0]=i,fs[63&ar[20+(0|ar[r>>2])>>2]](A,r),bn(t),ur=n}function vn(A,e,r,i,f,n,t,o,a,c,l,u){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,c|=0,l|=0,u|=0;var b,s=0,d=0;b=a|=0;A:do{if(A<<24>>24==n<<24>>24)a=0|tr[e>>0]?(r=(tr[e>>0]=0)|ar[f>>2],ar[f>>2]=r+1,tr[r>>0]=46,0!=(0|((f=0|tr[o+11>>0])<<24>>24<0?0|ar[o+4>>2]:255&f))&&((s=0|ar[c>>2])-b|0)<160&&(a=0|ar[l>>2],ar[c>>2]=s+4,ar[s>>2]=a),0):-1;else{if(A<<24>>24==t<<24>>24&&0|((t=0|tr[o+11>>0])<<24>>24<0?0|ar[o+4>>2]:255&t)){if(!(0|tr[e>>0])){a=-1;break}if(160<=((a=0|ar[c>>2])-b|0)){a=0;break}f=0|ar[l>>2],ar[c>>2]=a+4,ar[a>>2]=f,a=ar[l>>2]=0;break}for(n=u+32|0,s=0;;){if(a=u+s|0,32==(0|s)){a=n;break}if((0|tr[a>>0])==A<<24>>24)break;s=s+1|0}if(31<(0|(s=a-u|0)))a=-1;else switch(n=0|tr[53648+s>>0],0|s){case 24:case 25:if((0|(a=0|ar[f>>2]))!=(0|i)&&(95&tr[a+-1>>0])!=(127&tr[r>>0])){a=-1;break A}ar[f>>2]=a+1,tr[a>>0]=n,a=0;break A;case 23:case 22:tr[r>>0]=80,a=0|ar[f>>2],ar[f>>2]=a+1,tr[a>>0]=n,a=0;break A;default:if((0|(a=95&n))==(0|tr[r>>0])&&(tr[r>>0]=128|a,0|tr[e>>0])&&(tr[e>>0]=0)|((r=0|tr[o+11>>0])<<24>>24<0?0|ar[o+4>>2]:255&r)&&((d=0|ar[c>>2])-b|0)<160&&(r=0|ar[l>>2],ar[c>>2]=d+4,ar[d>>2]=r),c=0|ar[f>>2],ar[f>>2]=c+1,tr[c>>0]=n,21<(0|s)){a=0;break A}ar[l>>2]=1+(0|ar[l>>2]),a=0;break A}}}while(0);return 0|a}function mn(A,e,r){r|=0;var i,f,n=0,t=0,o=0;return i=ur=(f=ur)+31&-32,ur=ur+16|0,(0|(A|=0))==(0|(e|=0))?(ar[r>>2]=4,n=0):(t=0|ar[(t=10364)>>2],ar[10364>>2]=0,n=+$i(A,i,dn()),(A=0|ar[(A=10364)>>2])||(ar[10364>>2]=t),(0|ar[i>>2])==(0|e)?34==(0|A)&&(o=6):(n=0,o=6),6==(0|o)&&(ar[r>>2]=4)),ur=f,+n}function gn(A,e,r,i){e|=0,r|=0,i|=0;var f,n=0,t=0,o=0,a=0,c=0,l=0;f=(a=0|tr[(A|=0)+11>>0])<<24>>24<0,n=0|ar[(o=A+4|0)>>2],a&=255;do{if(0|(f?n:a)){if((0|e)!=(0|r)){for(n=r,t=e;!((n=n+-4|0)>>>0<=t>>>0);)l=0|ar[t>>2],ar[t>>2]=ar[n>>2],ar[n>>2]=l,t=t+4|0;n=0|ar[o>>2]}for(r=r+-4|0,A=(l=f?0|ar[A>>2]:A)+(f?n:a)|0,n=l;o=0<(t=0|tr[n>>0])<<24>>24&t<<24>>24!=127,!(r>>>0<=e>>>0);){if(o&&(t<<24>>24|0)!=(0|ar[e>>2])){c=10;break}e=e+4|0,n=1<(A-n|0)?n+1|0:n}if(10==(0|c)){ar[i>>2]=4;break}o&&((0|ar[r>>2])-1|0)>>>0>=t<<24>>24>>>0&&(ar[i>>2]=4)}}while(0)}function Zn(A,e,r){r|=0;var i,f,n=0,t=0,o=0;return i=ur=(f=ur)+31&-32,ur=ur+16|0,(0|(A|=0))==(0|(e|=0))?(ar[r>>2]=4,n=0):(t=0|ar[(t=10364)>>2],ar[10364>>2]=0,n=+qi(A,i,dn()),(A=0|ar[(A=10364)>>2])||(ar[10364>>2]=t),(0|ar[i>>2])==(0|e)?34==(0|A)&&(o=6):(n=0,o=6),6==(0|o)&&(ar[r>>2]=4)),ur=f,+n}function pn(A,e,r){r|=0;var i,f,n=0,t=0,o=0;return i=ur=(f=ur)+31&-32,ur=ur+16|0,(0|(A|=0))==(0|(e|=0))?(ar[r>>2]=4,n=0):(t=0|ar[(t=10364)>>2],ar[10364>>2]=0,n=+Ki(A,i,dn()),(A=0|ar[(A=10364)>>2])||(ar[10364>>2]=t),(0|ar[i>>2])==(0|e)?34==(0|A)&&(o=6):(n=0,o=6),6==(0|o)&&(ar[r>>2]=4)),ur=f,+n}function yn(A){switch(74&ar[(A|=0)+4>>2]){case 64:A=8;break;case 8:A=16;break;case 0:A=0;break;default:A=10}return 0|A}function Bn(A,e,r,i){A|=0,r|=0,i|=0;var f,n;n=ur=(f=ur)+31&-32,ur=ur+16|0,Tf(n,e|=0),e=0|un(n,59232),Pb[7&ar[32+(0|ar[e>>2])>>2]](e,53648,53674,r),r=0|un(n,59248),e=0|jb[127&ar[16+(0|ar[r>>2])>>2]](r),tr[i>>0]=e,fs[63&ar[20+(0|ar[r>>2])>>2]](A,r),bn(n),ur=f}function En(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t=0,o=0,a=0;f=ur=(n=ur)+31&-32,ur=ur+16|0;do{if((0|A)==(0|e))ar[r>>2]=4,A=i=0;else{if(45==(0|tr[A>>0])){ar[r>>2]=4,A=i=0;break}o=0|ar[(o=10364)>>2],A=(ar[(t=10364)>>2]=0)|il(A,f,i,dn()),i=D,(t=0|ar[(t=10364)>>2])||(ar[10364>>2]=o),(0|ar[f>>2])==(0|e)?34==(0|t)&&(i=A=-1,a=8):(i=A=0,a=8),8==(0|a)&&(ar[r>>2]=4)}}while(0);return D=i,ur=n,0|A}function Xn(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t=0,o=0;f=ur=(n=ur)+31&-32,ur=ur+16|0;do{if((0|A)==(0|e))ar[r>>2]=4,A=0;else{if(45==(0|tr[A>>0])){ar[r>>2]=4,A=0;break}o=0|ar[(o=10364)>>2],A=(ar[(t=10364)>>2]=0)|il(A,f,i,dn()),i=D,(t=0|ar[(t=10364)>>2])||(ar[10364>>2]=o);do{if((0|ar[f>>2])==(0|e)){if(0<i>>>0|0==(0|i)&4294967295<A>>>0|34==(0|t)){ar[r>>2]=4,A=-1;break}break}ar[r>>2]=4,A=0}while(0)}}while(0);return ur=n,0|A}function Wn(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t=0,o=0;f=ur=(n=ur)+31&-32,ur=ur+16|0;do{if((0|A)==(0|e))ar[r>>2]=4,A=0;else{if(45==(0|tr[A>>0])){ar[r>>2]=4,A=0;break}o=0|ar[(o=10364)>>2],A=(ar[(t=10364)>>2]=0)|il(A,f,i,dn()),i=D,(t=0|ar[(t=10364)>>2])||(ar[10364>>2]=o);do{if((0|ar[f>>2])==(0|e)){if(0<i>>>0|0==(0|i)&4294967295<A>>>0|34==(0|t)){ar[r>>2]=4,A=-1;break}break}ar[r>>2]=4,A=0}while(0)}}while(0);return ur=n,0|A}function In(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t=0,o=0;f=ur=(n=ur)+31&-32,ur=ur+16|0;do{if((0|A)==(0|e))ar[r>>2]=4,A=0;else{if(45==(0|tr[A>>0])){ar[r>>2]=4,A=0;break}o=0|ar[(o=10364)>>2],A=(ar[(t=10364)>>2]=0)|il(A,f,i,dn()),i=D,(t=0|ar[(t=10364)>>2])||(ar[10364>>2]=o);do{if((0|ar[f>>2])==(0|e)){if(0<i>>>0|0==(0|i)&65535<A>>>0|34==(0|t)){ar[r>>2]=4,A=-1;break}A&=65535;break}ar[r>>2]=4,A=0}while(0)}}while(0);return ur=n,0|A}function Cn(A,e,r,i){r|=0,i|=0;var f,n,t=0,o=0;return f=ur=(n=ur)+31&-32,ur=ur+16|0,(0|(A|=0))==(0|(e|=0))?(ar[r>>2]=4,A=i=0):(o=0|ar[(o=10364)>>2],A=(ar[(t=10364)>>2]=0)|pi(A,f,i,dn()),i=D,(t=0|ar[(t=10364)>>2])||(ar[10364>>2]=o),(0|ar[f>>2])==(0|e)?34==(0|t)&&(ar[r>>2]=4,A=(i=0<(0|i)|0==(0|i)&0<A>>>0)?-1:0,i=i?2147483647:-2147483648):(ar[r>>2]=4,i=A=0)),D=i,ur=n,0|A}function Gn(A,e,r,i){r|=0,i|=0;var f,n,t=0,o=0;if(f=ur=(n=ur)+31&-32,ur=ur+16|0,(0|(A|=0))==(0|(e|=0)))ar[r>>2]=4,A=0;else{o=0|ar[(o=10364)>>2],A=(ar[(t=10364)>>2]=0)|pi(A,f,i,dn()),i=D,(t=0|ar[(t=10364)>>2])||(ar[10364>>2]=o);A:do{if((0|ar[f>>2])==(0|e)){do{if(34!=(0|t)){if((0|i)<-1|-1==(0|i)&A>>>0<2147483648){ar[r>>2]=4;break}if(0<(0|i)|0==(0|i)&2147483647<A>>>0){ar[r>>2]=4,A=2147483647;break A}break A}if(ar[r>>2]=4,0<(0|i)|0==(0|i)&0<A>>>0){A=2147483647;break A}}while(0);A=-2147483648}else ar[r>>2]=4,A=0}while(0)}return ur=n,0|A}function Vn(A,e,r,i,f,n,t){A|=0,e|=0,f|=0,n|=0,t|=0;var o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;for(c=ur=(o=ur)+31&-32,ur=ur+112|0,100<(l=((i|=0)-(r|=0)|0)/12|0)>>>0?(c=0|yc(l))?g=a=c:gu():(a=c,g=0),b=r,s=a,c=0;(0|b)!=(0|i);)(u=0|tr[b+11>>0])<<24>>24<0?u=0|ar[b+4>>2]:u&=255,u?tr[s>>0]=1:(tr[s>>0]=2,l=l+-1|0,c=c+1|0),b=b+12|0,s=s+1|0;m=0,w=c;A:for(;;){c=0|ar[A>>2];do{if(c){if(0|Mf(c=(0|(u=0|ar[c+12>>2]))==(0|ar[c+16>>2])?0|jb[127&ar[36+(0|ar[c>>2])>>2]](c):0|hf(0|tr[u>>0]),-1)){ar[A>>2]=0,s=1;break}s=0==(0|ar[A>>2]);break}s=1}while(0);if(c=(u=0|ar[e>>2])?0|Mf(c=(0|(c=0|ar[u+12>>2]))==(0|ar[u+16>>2])?0|jb[127&ar[36+(0|ar[u>>2])>>2]](u):0|hf(0|tr[c>>0]),-1)?(u=ar[e>>2]=0,1):0:(u=0,1),b=0|ar[A>>2],!(0!=(0|l)&(s^c)))break;for(c=(0|(c=0|ar[b+12>>2]))==(0|ar[b+16>>2])?0|jb[127&ar[36+(0|ar[b>>2])>>2]](b):0|hf(0|tr[c>>0]),c&=255,t||(c=0|Hb[31&ar[12+(0|ar[f>>2])>>2]](f,c)),v=m+1|0,k=r,d=0,h=a;(0|k)!=(0|i);){do{if(1==(0|tr[h>>0])){if(u=(0|tr[(b=k+11|0)>>0])<0?0|ar[k>>2]:k,u=0|tr[u+m>>0],t||(u=0|Hb[31&ar[12+(0|ar[f>>2])>>2]](f,u)),s=l+-1|0,c<<24>>24!=u<<24>>24){tr[h>>0]=0,u=d,b=w,l=s;break}(u=0|tr[b>>0])<<24>>24<0?u=0|ar[k+4>>2]:u&=255,(0|u)==(0|v)?(tr[h>>0]=2,b=w+(u=1)|0,l=s):(u=1,b=w)}else u=d,b=w}while(0);k=k+12|0,d=u,h=h+1|0,w=b}if(d)if(c=0|ar[A>>2],(0|(b=0|ar[(u=c+12|0)>>2]))==(0|ar[c+16>>2])?jb[127&ar[40+(0|ar[c>>2])>>2]](c):(ar[u>>2]=b+1,hf(0|tr[b>>0])),1<(w+l|0)>>>0)for(b=r,s=a,c=w;;){if((0|b)==(0|i)){m=v,w=c;continue A}2==(0|tr[s>>0])&&((u=0|tr[b+11>>0])<<24>>24<0?u=0|ar[b+4>>2]:u&=255,(0|u)!=(0|v)&&(c=c+-1|(tr[s>>0]=0))),b=b+12|0,s=s+1|0}else m=v;else m=v}do{if(b){if(0|Mf(c=(0|(c=0|ar[b+12>>2]))==(0|ar[b+16>>2])?0|jb[127&ar[36+(0|ar[b>>2])>>2]](b):0|hf(0|tr[c>>0]),-1)){ar[A>>2]=0,l=1;break}l=0==(0|ar[A>>2]);break}l=1}while(0);do{if(u){if(0|Mf(c=(0|(c=0|ar[u+12>>2]))==(0|ar[u+16>>2])?0|jb[127&ar[36+(0|ar[u>>2])>>2]](u):0|hf(0|tr[c>>0]),-1)){ar[e>>2]=0,Z=41;break}if(l)break;Z=77;break}Z=41}while(0);for(41==(0|Z)&&l&&(Z=77),77==(0|Z)&&(ar[n>>2]=2|ar[n>>2]);;){if((0|r)==(0|i)){Z=81;break}if(2==(0|tr[a>>0]))break;r=r+12|0,a=a+1|0}return 81==(0|Z)&&(ar[n>>2]=4|ar[n>>2],r=i),Bc(g),ur=o,0|r}function Fn(A,e,r,i,f,n,t,o,a,c){A|=0,e|=0,r|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b=0,s=0;u=(0|(l=0|ar[(i|=0)>>2]))==(0|r);do{if(u){if(!(b=(0|ar[c+96>>2])==(0|A))&&(0|ar[c+100>>2])!=(0|A)){s=5;break}ar[i>>2]=r+1,tr[r>>0]=b?43:45,b=ar[f>>2]=0}else s=5}while(0);A:do{if(5==(0|s)){if(s=0|tr[t+11>>0],(0|A)==(0|n)&&0!=(0|(s<<24>>24<0?0|ar[t+4>>2]:255&s))){if(160<=((b=0|ar[a>>2])-o|0)){b=0;break}i=0|ar[f>>2],ar[a>>2]=b+4,ar[b>>2]=i,b=ar[f>>2]=0;break}for(t=c+104|0,n=0;;){if(b=c+(n<<2)|0,26==(0|n)){b=t;break}if((0|ar[b>>2])==(0|A))break;n=n+1|0}if(n=(b=b-c|0)>>2,92<(0|b))b=-1;else{switch(t=53648+n|0,0|e){case 10:case 8:if((0|e)<=(0|n)){b=-1;break A}break;case 16:if(88<=(0|b)){if(u){b=-1;break A}if(3<=(l-r|0)){b=-1;break A}if(48!=(0|tr[l-1>>0])){b=-1;break A}b=(ar[f>>2]=0)|tr[t>>0],ar[i>>2]=1+l,tr[l>>0]=b,b=0;break A}}b=0|tr[t>>0],ar[i>>2]=1+l,tr[l>>0]=b,ar[f>>2]=1+(0|ar[f>>2]),b=0}}}while(0);return 0|b}function Rn(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n,t;t=ur=(n=ur)+31&-32,ur=ur+16|0,Tf(t,e|=0),e=0|un(t,59264),Pb[7&ar[48+(0|ar[e>>2])>>2]](e,53648,53680,r),r=0|un(t,59272),e=0|jb[127&ar[12+(0|ar[r>>2])>>2]](r),ar[i>>2]=e,i=0|jb[127&ar[16+(0|ar[r>>2])>>2]](r),ar[f>>2]=i,fs[63&ar[20+(0|ar[r>>2])>>2]](A,r),bn(t),ur=n}function Nn(A,e,r,i,f,n,t,o,a,c,l,u){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,c|=0,l|=0,u|=0;var b,s=0,d=0;b=a|=0;A:do{if((0|A)==(0|n))a=0|tr[e>>0]?(r=(tr[e>>0]=0)|ar[f>>2],ar[f>>2]=r+1,tr[r>>0]=46,0!=(0|((f=0|tr[o+11>>0])<<24>>24<0?0|ar[o+4>>2]:255&f))&&((s=0|ar[c>>2])-b|0)<160&&(a=0|ar[l>>2],ar[c>>2]=s+4,ar[s>>2]=a),0):-1;else{if((0|A)==(0|t)&&0|((t=0|tr[o+11>>0])<<24>>24<0?0|ar[o+4>>2]:255&t)){if(!(0|tr[e>>0])){a=-1;break}if(160<=((a=0|ar[c>>2])-b|0)){a=0;break}f=0|ar[l>>2],ar[c>>2]=a+4,ar[a>>2]=f,a=ar[l>>2]=0;break}for(n=u+128|0,s=0;;){if(a=u+(s<<2)|0,32==(0|s)){a=n;break}if((0|ar[a>>2])==(0|A))break;s=s+1|0}if(a=(s=a-u|0)>>2,(0|s)<=124){switch(n=0|tr[53648+a>>0],0|a){case 24:case 25:if((0|(a=0|ar[f>>2]))!=(0|i)&&(95&tr[a+-1>>0])!=(127&tr[r>>0])){a=-1;break A}ar[f>>2]=a+1,tr[a>>0]=n,a=0;break A;case 23:case 22:tr[r>>0]=80;break;default:(0|(a=95&n))==(0|tr[r>>0])&&(tr[r>>0]=128|a,0|tr[e>>0])&&(tr[e>>0]=0)|((r=0|tr[o+11>>0])<<24>>24<0?0|ar[o+4>>2]:255&r)&&((d=0|ar[c>>2])-b|0)<160&&(r=0|ar[l>>2],ar[c>>2]=d+4,ar[d>>2]=r)}c=0|ar[f>>2],ar[f>>2]=c+1,tr[c>>0]=n,a=(84<(0|s)||(ar[l>>2]=1+(0|ar[l>>2])),0)}else a=-1}}while(0);return 0|a}function _n(A,e,r,i){A|=0,r|=0,i|=0;var f,n;n=ur=(f=ur)+31&-32,ur=ur+16|0,Tf(n,e|=0),e=0|un(n,59264),Pb[7&ar[48+(0|ar[e>>2])>>2]](e,53648,53674,r),r=0|un(n,59272),e=0|jb[127&ar[16+(0|ar[r>>2])>>2]](r),ar[i>>2]=e,fs[63&ar[20+(0|ar[r>>2])>>2]](A,r),bn(n),ur=f}function Yn(A){gb(A|=0)}function Qn(A){Zb(A|=0)}function Dn(A){ar[(A|=0)>>2]=0,pA(A+4|0,0),dA(A+32|0,0)}function Jn(A){ZA((A|=0)+4|0),sA(A+32|0)}function Mn(A,e){e|=0;var r,i=0;if(!((0|ar[(A|=0)>>2])>=(0|e))){if(gb(r=A+4|0),(0|ar[A>>2])<(0|e))for(i=A+32|0;hA(0|i,0|r),(0|ar[A>>2])<(0|e););Zb()}}function Tn(A,e){e|=0;var r;gb(r=(A|=0)+4|0),(0|ar[A>>2])>=(0|e)||(ar[A>>2]=e,mb()),Zb()}function Un(A,e){e|=0;var r;gb(r=(A|=0)+4|0),ar[A>>2]=(0|ar[A>>2])+e,mb(),Zb()}function Sn(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0;gb(n=(A|=0)+420|0),0|tr[A>>0]||(t=0|ar[(i=A+8|0)>>2],c=(0|ar[A+12>>2])-t|0,a=0|ar[(o=A+20|0)>>2],(0|(0==(0|c)?0:(c<<8)-1|0))==((r=0|ar[(f=A+24|0)>>2])+a|0)?(function(A){var e=0,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(s=ur)+32|0,c=s+4|0,a=s,1023<(r=0|ar[(e=16+(A|=0)|0)>>2])>>>0){ar[e>>2]=r+-1024,c=0|ar[(l=A+4|0)>>2],b=0|ar[c>>2],c=c+4|0,ar[l>>2]=c,o=0|ar[(u=A+8|0)>>2],t=0|ar[(a=A+12|0)>>2],e=t,n=o;do{if((0|o)==(0|t)){if(r=0|ar[A>>2],(i=r)>>>0<c>>>0){f=(e=c)+((i=(1+(e-i>>2)|0)/-2|0)<<2)|0,e=(r=(e=n-e|0)>>2)?(wb(0|f,0|c,0|e),0|ar[l>>2]):c,A=f+(r<<2)|0,ar[u>>2]=A,ar[l>>2]=e+(i<<2),e=A;break}if(1073741823<(e=0==(0|(e=e-i>>1))?1:e)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),f=0|hu(e<<2),t=i=(n=f)+(e>>>2<<2)|0,f=f+(e<<2)|0,(0|c)==(0|o))e=t;else{for(e=t,r=c;ar[i>>2]=ar[r>>2],e=i=e+4|0,(0|(r=r+4|0))!=(0|o););r=0|ar[A>>2]}ar[A>>2]=n,ar[l>>2]=t,ar[u>>2]=e,ar[a>>2]=f,r&&(vu(r),e=0|ar[u>>2])}else e=o}while(0);return ar[e>>2]=b,ar[u>>2]=4+(0|ar[u>>2]),ur=s}if(e=0|ar[(b=A+8|0)>>2],f=e-(0|ar[(u=A+4|0)>>2])|0,r=0|ar[(l=A+12|0)>>2],i=r-(0|ar[A>>2])|0,i>>>0<=f>>>0){for(e=0==(0|(e=i>>1))?1:e,ar[c+12>>2]=0,ar[c+16>>2]=A+12,1073741823<e>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),i=0|hu(e<<2),ar[c>>2]=i,t=i+(f>>2<<2)|0,ar[(o=c+8|0)>>2]=t,ar[(n=c+4|0)>>2]=t,ar[(t=c+12|0)>>2]=i+(e<<2),f=0|hu(4096),ar[a>>2]=f,function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=0|ar[(b=8+(A|=0)|0)>>2],u=0|ar[(i=A+12|0)>>2],t=u,a=r;do{if((0|r)==(0|u)){if(l=0|ar[(u=A+4|0)>>2],n=0|ar[A>>2],(f=n)>>>0<l>>>0){o=(n=l)+((t=(1+(n-f>>2)|0)/-2|0)<<2)|0,f=(n=(f=a-n|0)>>2)?(wb(0|o,0|l,0|f),0|ar[u>>2]):l,l=o+(n<<2)|0,ar[b>>2]=l,ar[u>>2]=f+(t<<2),f=l;break}if(1073741823<(f=0==(0|(f=t-f>>1))?1:f)>>>0&&(Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)),o=0|hu(f<<2),c=t=(a=o)+(f>>>2<<2)|0,o=o+(f<<2)|0,(0|l)==(0|r))f=c;else{for(f=c,n=l;ar[t>>2]=ar[n>>2],f=t=f+4|0,(0|(n=n+4|0))!=(0|r););n=0|ar[A>>2]}ar[A>>2]=a,ar[u>>2]=c,ar[b>>2]=f,ar[i>>2]=o,n&&(vu(n),f=0|ar[b>>2])}else f=r}while(0);ar[f>>2]=ar[e>>2],ar[b>>2]=4+(0|ar[b>>2])}(c,a),f=0|ar[b>>2];e=0|ar[u>>2],(0|f)!=(0|e);)On(c,a=f+-4|0),f=a;return r=e,i=0|ar[A>>2],ar[A>>2]=ar[c>>2],ar[c>>2]=i,ar[u>>2]=ar[n>>2],ar[n>>2]=r,e=0|ar[b>>2],ar[b>>2]=ar[o>>2],ar[o>>2]=e,A=0|ar[l>>2],ar[l>>2]=ar[t>>2],ar[t>>2]=A,(0|e)!=(0|f)&&(ar[o>>2]=e+(~((e+-4-r|0)>>>2)<<2)),0|i&&vu(i),ur=s}if((0|r)!=(0|e))return b=0|hu(4096),ar[c>>2]=b,function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=0|ar[(b=8+(A|=0)|0)>>2],u=0|ar[(i=A+12|0)>>2],t=u,a=r;do{if((0|r)==(0|u)){if(l=0|ar[(u=A+4|0)>>2],n=0|ar[A>>2],(f=n)>>>0<l>>>0){o=(n=l)+((t=(1+(n-f>>2)|0)/-2|0)<<2)|0,f=(n=(f=a-n|0)>>2)?(wb(0|o,0|l,0|f),0|ar[u>>2]):l,l=o+(n<<2)|0,ar[b>>2]=l,ar[u>>2]=f+(t<<2),f=l;break}if(1073741823<(f=0==(0|(f=t-f>>1))?1:f)>>>0&&(Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)),o=0|hu(f<<2),c=t=(a=o)+(f>>>2<<2)|0,o=o+(f<<2)|0,(0|l)==(0|r))f=c;else{for(f=c,n=l;ar[t>>2]=ar[n>>2],f=t=f+4|0,(0|(n=n+4|0))!=(0|r););n=0|ar[A>>2]}ar[A>>2]=a,ar[u>>2]=c,ar[b>>2]=f,ar[i>>2]=o,n&&(vu(n),f=0|ar[b>>2])}else f=r}while(0);ar[f>>2]=ar[e>>2],ar[b>>2]=4+(0|ar[b>>2])}(A,c),ur=s;a=0|hu(4096),ar[c>>2]=a,function(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;r=0|ar[(s=4+(A|=0)|0)>>2],b=0|ar[A>>2],n=b;do{if((0|r)==(0|b)){if(f=0|ar[(b=A+8|0)>>2],l=0|ar[(u=A+12|0)>>2],f>>>0<(i=l)>>>0){t=(i=(n=f)+((o=(1+(i-n>>2)|0)/2|0)<<2)|0)+(0-(u=(n=n-r|0)>>2)<<2)|0,u&&(wb(0|t,0|r,0|n),i=t,f=0|ar[b>>2]),ar[s>>2]=i,ar[b>>2]=f+(o<<2);break}if(1073741823<(n=0==(0|(n=i-n>>1))?1:n)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),a=0|hu(n<<2),l=i=(c=a)+((n+3|0)>>>2<<2)|0,a=a+(n<<2)|0,(0|r)==(0|f))n=l,f=r;else{for(o=i,n=l,t=r;ar[o>>2]=ar[t>>2],n=o=n+4|0,(0|(t=t+4|0))!=(0|f););f=0|ar[A>>2]}ar[A>>2]=c,ar[s>>2]=l,ar[b>>2]=n,ar[u>>2]=a,f&&(vu(f),i=0|ar[s>>2])}else i=r}while(0);ar[i+-4>>2]=ar[e>>2],ar[s>>2]=(0|ar[s>>2])-4}(A,c),a=0|ar[u>>2],c=0|ar[a>>2],a=a+4|0,ar[u>>2]=a,o=0|ar[b>>2],t=0|ar[l>>2],e=t,n=o;do{if((0|o)==(0|t)){if(r=0|ar[A>>2],(i=r)>>>0<a>>>0){f=(e=a)+((i=(1+(e-i>>2)|0)/-2|0)<<2)|0,e=(r=(e=n-e|0)>>2)?(wb(0|f,0|a,0|e),0|ar[u>>2]):a,A=f+(r<<2)|0,ar[b>>2]=A,ar[u>>2]=e+(i<<2),e=A;break}if(1073741823<(e=0==(0|(e=e-i>>1))?1:e)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),f=0|hu(e<<2),t=i=(n=f)+(e>>>2<<2)|0,f=f+(e<<2)|0,(0|a)==(0|o))e=t;else{for(e=t,r=a;ar[i>>2]=ar[r>>2],e=i=e+4|0,(0|(r=r+4|0))!=(0|o););r=0|ar[A>>2]}ar[A>>2]=n,ar[u>>2]=t,ar[b>>2]=e,ar[l>>2]=f,r&&(vu(r),e=0|ar[b>>2])}else e=o}while(0);ar[e>>2]=c,ar[b>>2]=4+(0|ar[b>>2]),ur=s}(A+4|0),a=0|ar[o>>2],o=0|ar[f>>2],t=0|ar[i>>2]):o=r,ar[(0|ar[t+((c=o+a|0)>>>10<<2)>>2])+((1023&c)<<2)>>2]=e,ar[f>>2]=o+1,kA(A+448|0)),Zb()}function On(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;r=0|ar[(s=(A|=0)+4|0)>>2],n=b=0|ar[A>>2];do{if((0|r)==(0|b)){if((f=0|ar[(b=A+8|0)>>2])>>>0<(i=l=0|ar[(u=A+12|0)>>2])>>>0){t=(i=(n=f)+((o=(1+(i-n>>2)|0)/2|0)<<2)|0)+(0-(u=(n=n-r|0)>>2)<<2)|0,u&&(wb(0|t,0|r,0|n),i=t,f=0|ar[b>>2]),ar[s>>2]=i,ar[b>>2]=f+(o<<2);break}if(1073741823<(n=0==(0|(n=i-n>>1))?1:n)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),l=i=(c=a=0|hu(n<<2))+((n+3|0)>>>2<<2)|0,a=a+(n<<2)|0,(0|r)==(0|f))n=l,f=r;else{for(o=i,n=l,t=r;ar[o>>2]=ar[t>>2],n=o=n+4|0,(0|(t=t+4|0))!=(0|f););f=0|ar[A>>2]}ar[A>>2]=c,ar[s>>2]=l,ar[b>>2]=n,ar[u>>2]=a,f&&(vu(f),i=0|ar[s>>2])}else i=r}while(0);ar[i+-4>>2]=ar[e>>2],ar[s>>2]=(0|ar[s>>2])-4}function zn(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0;u=5932+(o=0|ar[(a=(A|=0)+18596|0)>>2])|0,t=0|ar[(b=A+18600|0)>>2],n=(h=-1<<ar[10092+o>>2])&i,h&=f,r=A+18536|0,(0|n)==(0|ar[(e=A+18532|0)>>2])&&(0|h)==(0|ar[r>>2])||(ar[A+18540>>2]=ar[A+18528>>2],ar[e>>2]=n,ar[r>>2]=h),k=5804+o|0,l=n?0:0==((1<<ar[k>>2])-1&h|0),e=0|ar[800+t>>2],r=0|ar[5820+o>>2],c=0|ar[5812+o>>2],r=(0|br(c,(0|e)%(0|r)|0))==(0|n)?(0|br((0|e)/(0|r)|0,c))==(0|h):0,e=0!=(0|tr[5966+o>>0])&&0==((1<<(s=0|ar[k>>2]))-1&(n|h)|0)?0|Fa(u,n>>s,h>>s):0;do{if(r|e)d=14;else{if(l&&0|tr[5965+o>>0]){d=14;break}e=A+18540|0}}while(0);14==(0|d)&&(e=792+(0|ar[b>>2])|0),u=0|ar[e>>2],e=n-1|0;do{if(0|da(0|ar[a>>2],n,h,e,h)&&(d=0|ar[5864+o>>2],s=(0|br(h>>d,0|ar[5852+o>>2]))+(e>>d)|0,(ar[(0|ar[10320+o>>2])+(s<<2)>>2]>>((0|ar[k>>2])-d<<1)|0)==(0|ar[A+4>>2]))){if(l=0|ar[a>>2],e>>=r=0|ar[l+10368>>2],r=h>>r,(0|e)<=-1&&sr(48482,48519,118,48539),(0|(c=0|ar[l+10372>>2]))<=(0|e)&&sr(48482,48519,118,48539),(0|r)<=-1&&sr(48543,48519,119,48539),(0|r)<(0|ar[l+10376>>2])){w=(0|ar[l+10360>>2])+(3*((0|br(c,r))+e|0)|0)+2|0,w=0|tr[w>>0];break}sr(48543,48519,119,48539)}else w=u}while(0);e=h+-1|0;do{if(0|da(0|ar[a>>2],n,h,n,e)&&(h=0|ar[5864+o>>2],d=(0|br(e>>h,0|ar[5852+o>>2]))+(n>>h)|0,(ar[(0|ar[10320+o>>2])+(d<<2)>>2]>>((0|ar[k>>2])-h<<1)|0)==(0|ar[A+4>>2]))){if(l=0|ar[a>>2],e>>=h=0|ar[l+10368>>2],(0|(c=n>>h))<=-1&&sr(48482,48519,118,48539),(0|(r=0|ar[l+10372>>2]))<=(0|c)&&sr(48482,48519,118,48539),(0|e)<=-1&&sr(48543,48519,119,48539),(0|e)<(0|ar[l+10376>>2])){v=(0|ar[l+10360>>2])+(3*((0|br(r,e))+c|0)|0)+2|0,v=0|tr[v>>0];break}sr(48543,48519,119,48539)}else v=u}while(0);h=0|ar[5764+o>>2],h=(e=(52+(0|ar[A+18512>>2])+(w+1+v>>1)+(h<<1)|0)%(h+52|0)|0)-h|0,ar[A+18544>>2]=e,e=(0|(e=(0|ar[5952+o>>2])+h+(0|ar[744+t>>2])+(0|ar[A+18520>>2])|0))<(0|(v=0-(c=0|ar[5772+o>>2])|0))?v:(0|e)<57?e:57,r=(0|(r=(0|ar[5956+o>>2])+h+(0|ar[748+t>>2])+(0|ar[A+18524>>2])|0))<(0|v)?v:(0|r)<57?r:57;do{if(1==(0|ar[5776+o>>2])){do{if(30<=(0|e)){if(42<(0|e)){e=e+-6|0;break}e=0|ar[8020+(e+-30<<2)>>2];break}}while(0);if(30<=(0|r)){if(42<(0|r)){r=r+-6|0;break}r=0|ar[8020+(r+-30<<2)>>2];break}}}while(0);if(ar[A+18548>>2]=c+e,ar[A+18552>>2]=c+r,e=0|ar[a>>2],c=f>>(r=0|ar[e+10368>>2]),(0|(k=i>>r))<=-1&&sr(48482,48519,118,48539),(0|(d=0|ar[e+10372>>2]))<=(0|k)&&sr(48482,48519,118,48539),(0|c)<=-1&&sr(48543,48519,119,48539),(0|c)>=(0|ar[e+10376>>2])&&sr(48543,48519,119,48539),f=(s=0|ar[e+10360>>2])+(3*((0|br(d,c))+k|0)|0)|0,b=(e=1<<(f=(3<(f=7&(cr[f>>0]|cr[f+1>>0]<<8))>>>0?f:3)-r|0))+c|0,31!=(0|f)){l=e+k|0,u=255&h,e=c;do{for(c=0|br(e,d),r=k;tr[s+(3*(r+c|0)|0)+2>>0]=u,(0|(r=r+1|0))<(0|l););e=e+1|0}while((0|e)<(0|b));ar[(A=A+18528|0)>>2]=h}else ar[(A=A+18528|0)>>2]=h}function jn(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l;return l=0|ar[(A|=0)+18596>>2],8<(0|ar[(0==(0|t)?5760+l|0:5768+l|0)>>2])?void function(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b,s,d,k,h,w,v,m,g,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0;switch(ur=(g=ur)+4096|0,s=g,b=0|ar[(k=18596+(A|=0)|0)>>2],0|t){case 0:Z=A+18544|0;break;case 1:Z=A+18548|0;break;case 2:Z=A+18552|0;break;default:sr(44456,44443,367,44458)}X=0|ar[Z>>2],i=0|ar[(m=A+2112|0)>>2],h=0|ar[((d=0==(0|t))?40+b|0:44+b|0)>>2],v=(0|ar[4+b+(t<<2)>>2])+((0|br(h,r))+e<<1)|0,w=0|ar[(d?5760+b|0:5768+b|0)>>2],f=0|ar[10368+b>>2],e>>=f,f=r>>f,(0|e)<=-1&&sr(48482,48519,118,48539);Z=0|ar[10372+b>>2],(0|Z)<=(0|e)&&sr(48482,48519,118,48539);(0|f)<=-1&&sr(48543,48519,119,48539);(0|f)>=(0|ar[10376+b>>2])&&sr(48543,48519,119,48539);I=(0|ar[10360+b>>2])+(3*((0|br(Z,f))+e|0)|0)|0,I=(65535&(cr[I>>0]|cr[I+1>>0]<<8))>>>8&3,l=65535&I,I=(u=4==(0|n))&0!=(0|tr[5748+b>>0])&I<<16>>16==0;A:do{if(0|tr[A+32>>0]){if(r=d?A+14412|0:s,0<(0|or[(Z=A+14404+(t<<1)|0)>>1]))for(f=0;or[i+(or[A+8260+(t<<11)+(f<<1)>>1]<<1)>>1]=0|or[A+2116+(t<<11)+(f<<1)>>1],(0|(f=f+1|0))<(0|or[Z>>1]););I&&fs[63&ar[432+(0|ar[A+18592>>2])>>2]](i,4);do{if(c){if(f=0|ar[A+18592>>2],2==(0|c)){ns[127&ar[f+368>>2]](r,i,n);break}ns[127&ar[f+372>>2]](r,i,n);break}ns[127&ar[364+(0|ar[A+18592>>2])>>2]](r,i,n)}while(0);if(!d&&0|ar[(p=A+28|0)>>2]&&(B=0|ar[k>>2],y=0|ar[B+5768>>2],B=0|ar[B+5760>>2],0<(0|n))){f=0;do{for(e=0|br(f,n),Z=0;R=(0|br(ar[A+14412+((N=Z+e|0)<<2)>>2]<<y>>B,0|ar[p>>2]))>>3,ar[(N=r+(N<<2)|0)>>2]=R+(0|ar[N>>2]),(0|(Z=Z+1|0))!=(0|n););f=f+1|0}while((0|f)!=(0|n))}if(os[63&ar[460+(0|ar[A+18592>>2])>>2]](v,h,r,n,w),I)for(f=i+32|0;((or[i>>1]=0)|(i=i+2|0))<(0|f););}else{if(E=1<(0|n))for(Z=n,f=0;f=f+1|0,3<Z>>>0;)Z>>>=1;else f=0;if(B=(f=f+w|0)+-5|0,0|tr[1400+b>>0]){y=1<<f+-6;do{if(!a){if((0|n)<32){f=t+3|0;break}f=t+1|0;break}f=t}while(0);switch((a=n+-4|0)>>>2|a<<30|0){case 0:W=5993+b+(f<<4)|0;break;case 1:W=6089+b+(f<<6)|0;break;case 3:W=6473+b+(f<<8)|0;break;case 7:W=8009+b+(f<<10)|0;break;default:sr(44456,44443,492,44458)}if(0<(0|or[(r=A+14404+(t<<1)|0)>>1]))for(p=0|ar[8072+(((0|X)%6|0)<<2)>>2],Z=(0|X)/6|0,e=((0|y)<0)<<31>>31,f=0;X=0|or[A+8260+(t<<11)+(f<<1)>>1],R=(0|br(0|cr[W+X>>0],p))<<Z,a=0|or[A+2116+(t<<11)+(f<<1)>>1],a=0|bb(0|(a=0|tb(0|(a=0|nb(0|R,((0|R)<0)<<31>>31|0,0|a,((0|a)<0)<<31>>31|0)),0|D,0|y,0|e)),0|D,0|B),F=(0|(R=D))<-1|-1==(0|R)&a>>>0<4294934528,a=(N=(0|R)<0|0==(0|R)&a>>>0<32767)?a:32767,or[i+(X<<1)>>1]=F?-32768:65535&a,(0|(f=f+1|0))<(0|or[r>>1]););}else if(p=f+-9|0,r=1<<f+-10,Z=ar[8072+(((0|X)%6|0)<<2)>>2]<<((0|X)/6|0),0<(0|or[(e=A+14404+(t<<1)|0)>>1]))for(f=0;W=(0|br(0|or[A+2116+(t<<11)+(f<<1)>>1],Z))+r>>p,or[i+(or[A+8260+(t<<11)+(f<<1)>>1]<<1)>>1]=(0|W)<-32768?-32768:65535&((0|W)<32767?W:32767),(0|(f=f+1|0))<(0|or[e>>1]););if(p=0<(0|n),!o){if(Z=u&0==(l|t|0),0|c&&sr(44486,44443,591,44458),0|tr[10071+b>>0]){xn(A,i,n,n,1&Z,v,h,w,t);break}if(f=0|ar[A+18592>>2],Z){ts[31&ar[f+412>>2]](v,i,h,w);break}switch(0|n){case 4:ts[31&ar[f+416>>2]](v,i,h,w);break A;case 8:ts[31&ar[f+420>>2]](v,i,h,w);break A;case 16:ts[31&ar[f+424>>2]](v,i,h,w);break A;default:ts[31&ar[f+428>>2]](v,i,h,w);break A}}if(E){for(f=n,Z=0;3<f>>>0;)f>>>=1,Z=Z+1|0;Z=Z+6|0}else Z=5;e=0<(0|(e=20-w|0))?e:0,I&&fs[63&ar[432+(0|ar[A+18592>>2])>>2]](i,4),r=d?A+14412|0:s;do{if(c){if(f=0|ar[A+18592>>2],2==(0|c)){os[63&ar[f+464>>2]](r,i,n,Z,e);break}os[63&ar[f+468>>2]](r,i,n,Z,e);break}os[63&ar[472+(0|ar[A+18592>>2])>>2]](r,i,n,Z,e)}while(0);if(!d&&0|ar[(C=A+28|0)>>2]&&(V=0|ar[k>>2],G=0|ar[V+5768>>2],V=0|ar[V+5760>>2],p)){f=0;do{for(e=0|br(f,n),Z=0;R=(0|br(ar[A+14412+((N=Z+e|0)<<2)>>2]<<G>>V,0|ar[C>>2]))>>3,ar[(N=r+(N<<2)|0)>>2]=R+(0|ar[N>>2]),(0|(Z=Z+1|0))!=(0|n););f=f+1|0}while((0|f)!=(0|n))}if(os[63&ar[460+(0|ar[A+18592>>2])>>2]](v,h,r,n,w),I)for(f=i+32|0;((or[i>>1]=0)|(i=i+2|0))<(0|f););}}while(0);if((0|or[(Z=A+14404+(t<<1)|0)>>1])<=0)return ur=g;f=0|ar[m>>2],i=0;for(;or[f+(or[A+8260+(t<<11)+(i<<1)>>1]<<1)>>1]=0,i=i+1|0,(0|i)<(0|or[Z>>1]););ur=g}(A,e,r,i,f,n,t,o,a,c):void function(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b,s,d,k,h,w,v,m,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0;switch(ur=(m=ur)+4096|0,s=m,b=0|ar[(k=18596+(A|=0)|0)>>2],0|t){case 0:g=A+18544|0;break;case 1:g=A+18548|0;break;case 2:g=A+18552|0;break;default:sr(44456,44443,367,44458)}E=0|ar[g>>2],i=0|ar[(v=A+2112|0)>>2],h=0|ar[((d=0==(0|t))?40+b|0:44+b|0)>>2],w=(0|ar[4+b+(t<<2)>>2])+((0|br(h,r))+e)|0,f=0|ar[10368+b>>2],e>>=f,f=r>>f,(0|e)<=-1&&sr(48482,48519,118,48539);g=0|ar[10372+b>>2],(0|g)<=(0|e)&&sr(48482,48519,118,48539);(0|f)<=-1&&sr(48543,48519,119,48539);(0|f)>=(0|ar[10376+b>>2])&&sr(48543,48519,119,48539);W=(0|ar[10360+b>>2])+(3*((0|br(g,f))+e|0)|0)|0,W=(65535&(cr[W>>0]|cr[W+1>>0]<<8))>>>8&3,l=65535&W,W=(u=4==(0|n))&0!=(0|tr[5748+b>>0])&W<<16>>16==0;A:do{if(0|tr[A+32>>0]){if(r=d?A+14412|0:s,0<(0|or[(g=A+14404+(t<<1)|0)>>1]))for(f=0;or[i+(or[A+8260+(t<<11)+(f<<1)>>1]<<1)>>1]=0|or[A+2116+(t<<11)+(f<<1)>>1],(0|(f=f+1|0))<(0|or[g>>1]););W&&fs[63&ar[432+(0|ar[A+18592>>2])>>2]](i,4);do{if(c){if(f=0|ar[A+18592>>2],2==(0|c)){ns[127&ar[f+368>>2]](r,i,n);break}ns[127&ar[f+372>>2]](r,i,n);break}ns[127&ar[364+(0|ar[A+18592>>2])>>2]](r,i,n)}while(0);if(!d&&0|ar[(Z=A+28|0)>>2]&&(y=0|ar[k>>2],p=0|ar[y+5768>>2],y=0|ar[y+5760>>2],0<(0|n))){f=0;do{for(e=0|br(f,n),g=0;F=(0|br(ar[A+14412+((R=g+e|0)<<2)>>2]<<p>>y,0|ar[Z>>2]))>>3,ar[(R=r+(R<<2)|0)>>2]=F+(0|ar[R>>2]),(0|(g=g+1|0))!=(0|n););f=f+1|0}while((0|f)!=(0|n))}if(os[63&ar[456+(0|ar[A+18592>>2])>>2]](w,h,r,n,8),W)for(f=i+32|0;((or[i>>1]=0)|(i=i+2|0))<(0|f););}else{if(e=0|ar[(d?5760+b|0:5768+b|0)>>2],B=1<(0|n))for(g=n,f=0;f=f+1|0,3<g>>>0;)g>>>=1;else f=0;if(y=(f=f+e|0)+-5|0,0|tr[1400+b>>0]){p=1<<f+-6;do{if(!a){if((0|n)<32){f=t+3|0;break}f=t+1|0;break}f=t}while(0);switch((a=n+-4|0)>>>2|a<<30|0){case 0:X=5993+b+(f<<4)|0;break;case 1:X=6089+b+(f<<6)|0;break;case 3:X=6473+b+(f<<8)|0;break;case 7:X=8009+b+(f<<10)|0;break;default:sr(44456,44443,492,44458)}if(0<(0|or[(r=A+14404+(t<<1)|0)>>1]))for(Z=0|ar[8072+(((0|E)%6|0)<<2)>>2],g=(0|E)/6|0,e=((0|p)<0)<<31>>31,f=0;E=0|or[A+8260+(t<<11)+(f<<1)>>1],F=(0|br(0|cr[X+E>>0],Z))<<g,a=0|or[A+2116+(t<<11)+(f<<1)>>1],a=0|bb(0|(a=0|tb(0|(a=0|nb(0|F,((0|F)<0)<<31>>31|0,0|a,((0|a)<0)<<31>>31|0)),0|D,0|p,0|e)),0|D,0|y),V=(0|(F=D))<-1|-1==(0|F)&a>>>0<4294934528,a=(R=(0|F)<0|0==(0|F)&a>>>0<32767)?a:32767,or[i+(E<<1)>>1]=V?-32768:65535&a,(0|(f=f+1|0))<(0|or[r>>1]););}else if(Z=f+-9|0,r=1<<f+-10,g=ar[8072+(((0|E)%6|0)<<2)>>2]<<((0|E)/6|0),0<(0|or[(e=A+14404+(t<<1)|0)>>1]))for(f=0;X=(0|br(0|or[A+2116+(t<<11)+(f<<1)>>1],g))+r>>Z,or[i+(or[A+8260+(t<<11)+(f<<1)>>1]<<1)>>1]=(0|X)<-32768?-32768:65535&((0|X)<32767?X:32767),(0|(f=f+1|0))<(0|or[e>>1]););if(e=0<(0|n),!o){if(g=u&0==(l|t|0),0|c&&sr(44486,44443,591,44458),0|tr[10071+b>>0]){Hn(A,i,n,n,1&g,w,h,8,t);break}if(f=0|ar[A+18592>>2],g){ns[127&ar[f+388>>2]](w,i,h);break}switch(0|n){case 4:ns[127&ar[f+392>>2]](w,i,h);break A;case 8:ns[127&ar[f+396>>2]](w,i,h);break A;case 16:ns[127&ar[f+400>>2]](w,i,h);break A;default:ns[127&ar[f+404>>2]](w,i,h);break A}}if(B){for(f=n,g=0;3<f>>>0;)f>>>=1,g=g+1|0;g=g+6|0}else g=5;W&&fs[63&ar[432+(0|ar[A+18592>>2])>>2]](i,4),r=d?A+14412|0:s;do{if(c){if(f=0|ar[A+18592>>2],2==(0|c)){os[63&ar[f+464>>2]](r,i,n,g,12);break}os[63&ar[f+468>>2]](r,i,n,g,12);break}os[63&ar[472+(0|ar[A+18592>>2])>>2]](r,i,n,g,12)}while(0);if(!d&&0|ar[(I=A+28|0)>>2]&&(G=0|ar[k>>2],C=0|ar[G+5768>>2],G=0|ar[G+5760>>2],e)){f=0;do{for(e=0|br(f,n),g=0;F=(0|br(ar[A+14412+((R=g+e|0)<<2)>>2]<<C>>G,0|ar[I>>2]))>>3,ar[(R=r+(R<<2)|0)>>2]=F+(0|ar[R>>2]),(0|(g=g+1|0))!=(0|n););f=f+1|0}while((0|f)!=(0|n))}if(os[63&ar[456+(0|ar[A+18592>>2])>>2]](w,h,r,n,8),W)for(f=i+32|0;((or[i>>1]=0)|(i=i+2|0))<(0|f););}}while(0);if((0|or[(g=A+14404+(t<<1)|0)>>1])<=0)return ur=m;f=0|ar[v>>2],i=0;for(;or[f+(or[A+8260+(t<<11)+(i<<1)>>1]<<1)>>1]=0,i=i+1|0,(0|i)<(0|or[g>>1]););ur=m}(A,e,r,i,f,n,t,o,a,c)}function Hn(A,e,r,i,f,n,t,o,a){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0;var c,l,u,b=0,s=0,d=0,k=0;ur=(u=ur)+4096|0,l=0|ar[(A|=0)+18592>>2],c=(r=0==(0|a))?A+14412|0:u,a=20-o|0;A:do{if(1==(0|f))ts[31&ar[436+l>>2]](c,e,a,15);else switch(0|i){case 4:ts[31&ar[440+l>>2]](c,e,a,15);break A;case 8:ts[31&ar[444+l>>2]](c,e,a,15);break A;case 16:ts[31&ar[448+l>>2]](c,e,a,15);break A;default:ts[31&ar[452+l>>2]](c,e,a,15);break A}}while(0);if(!r&&0|ar[(b=A+28|0)>>2]&&(d=0|ar[A+18596>>2],s=0|ar[d+5768>>2],d=0|ar[d+5760>>2],0<(0|i))){r=0;do{for(e=0|br(r,i),a=0;k=(0|br(ar[A+14412+((f=a+e|0)<<2)>>2]<<s>>d,0|ar[b>>2]))>>3,ar[(f=c+(f<<2)|0)>>2]=k+(0|ar[f>>2]),(0|(a=a+1|0))!=(0|i););r=r+1|0}while((0|r)!=(0|i))}os[63&ar[456+l>>2]](n,t,c,i,o),ur=u}function xn(A,e,r,i,f,n,t,o,a){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0;var c,l,u,b=0,s=0,d=0,k=0;ur=(u=ur)+4096|0,l=0|ar[(A|=0)+18592>>2],c=(r=0==(0|a))?A+14412|0:u,a=20-o|0;A:do{if(1==(0|f))ts[31&ar[436+l>>2]](c,e,a,15);else switch(0|i){case 4:ts[31&ar[440+l>>2]](c,e,a,15);break A;case 8:ts[31&ar[444+l>>2]](c,e,a,15);break A;case 16:ts[31&ar[448+l>>2]](c,e,a,15);break A;default:ts[31&ar[452+l>>2]](c,e,a,15);break A}}while(0);if(!r&&0|ar[(b=A+28|0)>>2]&&(d=0|ar[A+18596>>2],s=0|ar[d+5768>>2],d=0|ar[d+5760>>2],0<(0|i))){r=0;do{for(e=0|br(r,i),a=0;k=(0|br(ar[A+14412+((f=a+e|0)<<2)>>2]<<s>>d,0|ar[b>>2]))>>3,ar[(f=c+(f<<2)|0)>>2]=k+(0|ar[f>>2]),(0|(a=a+1|0))!=(0|i););r=r+1|0}while((0|r)!=(0|i))}os[63&ar[460+l>>2]](n,t,c,i,o),ur=u}function Pn(A,e,r){A|=0,r|=0;var i,f,n,t;ur=(t=ur)+16|0,f=t,n=42==(0|tr[(e|=0)>>0]),i=0|ar[2543],n||Ui(44505,6,1,i),ar[f>>2]=r,Qc(A,e+(1&n)|0,f),Oi(i),ur=t}function Ln(A,e,r){e|=0,r|=0;var i,f,n=0,t=0;if(tr[(A|=0)>>0]=1,tr[A+44>>0]=1,qn(A,e),f=r+-1|0,i=1<(0|r))for(n=0;t=255&(0|At(e,1)),tr[A+52+(52*n|0)>>0]=t,t=255&(0|At(e,1)),tr[A+52+(52*n|0)+44>>0]=t,(0|(n=n+1|0))!=(0|f););if((r+-2|0)>>>0<7)for(n=f;et(e,2),(0|(n=n+1|0))<8;);if(i)for(n=0;qn(A+52+(52*n|0)|0,e),(0|(n=n+1|0))!=(0|f););}function Kn(A,e,r){r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;return ur=(o=ur)+32|0,f=o+8|0,i=o,(e|=0)>>>0<=(c=0|ar[(n=(A|=0)+4|0)>>2])>>>0?(ar[n>>2]=e,void(ur=o)):((l=(u=0|ar[(t=A+8|0)>>2])<<5)>>>0<(a=e-c|0)>>>0|(l-a|0)>>>0<c>>>0?(ar[f>>2]=0,ar[(s=4+f|0)>>2]=0,((ar[(d=8+f|0)>>2]=0)|e)<0&&zl(),c=u<<6,u=e+31&-32,function(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;if(ur=(t=ur)+32|0,o=t+16|0,r=t+8|0,i=t,ar[(n=8+(A|=0)|0)>>2]<<5>>>0>=e>>>0)return ur=t;ar[o>>2]=0,ar[(a=o+4|0)>>2]=0,ar[(f=o+8|0)>>2]=0,(0|e)<0&&zl();c=0|hu((l=1+((e+-1|0)>>>5)|0)<<2),ar[o>>2]=c,ar[a>>2]=0,ar[f>>2]=l,l=0|ar[A>>2],ar[r>>2]=l,ar[4+r>>2]=0,e=0|ar[(c=A+4|0)>>2],ar[i>>2]=l+(e>>>5<<2),ar[i+4>>2]=31&e,function(A,e,r){e|=0,r|=0;var i,f,n,t,o,a,c,l=0,u=0,b=0,s=0,d=0;if(ur=(c=ur)+32|0,f=c+24|0,n=c+16|0,t=c+8|0,a=c,d=0|ar[(u=4+(A|=0)|0)>>2],o=0|ar[e>>2],l=0|ar[e+4>>2],i=0|ar[r>>2],b=0|ar[r+4>>2],s=i-o<<3,ar[u>>2]=d-l+b+s,u=(0|ar[A>>2])+(d>>>5<<2)|0,e=u,(0|l)!=(0|(r=31&d)))return ar[f>>2]=o,ar[4+f>>2]=l,ar[n>>2]=i,ar[4+n>>2]=b,ar[t>>2]=e,ar[4+t>>2]=r,function(A,e,r,i){A|=0,r|=0,i|=0;var f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;if(l=0|ar[(e|=0)>>2],f=0|ar[(u=e+4|0)>>2],o=((0|ar[r>>2])-l<<3)+(0|ar[r+4>>2])-f|0,r=l,(0|o)<=0)return e=i+4|0,i=0|ar[i>>2],ar[A>>2]=i,i=A+4|0,A=0|ar[e>>2],ar[i>>2]=A;f?(n=-1>>>((n=32-f|0)-(l=(0|o)<(0|n)?o:n)|0)&-1<<f&ar[r>>2],f=0|ar[(c=i+4|0)>>2],r=(a=32-f|0)>>>0<l>>>0?a:l,t=0|ar[i>>2],f=ar[t>>2]&~(-1>>>(a-r|0)&-1<<f),ar[t>>2]=f,a=0|ar[c>>2],b=0|ar[u>>2],ar[t>>2]=(b>>>0<a>>>0?n<<a-b:n>>>(b-a|0))|f,f=(0|ar[c>>2])+r|0,t=t+(f>>>5<<2)|0,ar[i>>2]=t,f&=31,ar[c>>2]=f,0<(0|(a=l-r|0))&&(f=ar[t>>2]&~(-1>>>(32-a|0)),ar[t>>2]=f,ar[t>>2]=n>>>((0|ar[u>>2])+r|0)|f,ar[c>>2]=a,f=a),r=4+(0|ar[e>>2])|0,ar[e>>2]=r,o=o-l|0):f=0|ar[(c=f=i+4|0)>>2];if(a=32-f|0,n=-1<<f,31<(0|o)){for(t=~n,f=o;u=0|ar[r>>2],b=0|ar[i>>2],l=ar[b>>2]&t,ar[b>>2]=l,ar[b>>2]=u<<ar[c>>2]|l,b=b+4|0,ar[i>>2]=b,ar[b>>2]=ar[b>>2]&n|u>>>a,f=f+-32|0,r=4+(0|ar[e>>2])|0,ar[e>>2]=r,31<(0|f););o&=31}if((0|o)<=0)return e=c,b=0|ar[i>>2],ar[A>>2]=b,b=A+4|0,i=0|ar[e>>2],ar[b>>2]=i;if(t=ar[r>>2]&-1>>>(32-o|0),n=(0|a)<(0|o)?a:o,f=0|ar[i>>2],r=ar[f>>2]&~(-1<<ar[c>>2]&-1>>>(a-n|0)),ar[f>>2]=r,ar[f>>2]=r|t<<ar[c>>2],r=(0|ar[c>>2])+n|0,f=f+(r>>>5<<2)|0,ar[i>>2]=f,ar[c>>2]=31&r,(0|(r=o-n|0))<=0)return e=c,b=0|ar[i>>2],ar[A>>2]=b,b=A+4|0,i=0|ar[e>>2],ar[b>>2]=i;ar[f>>2]=ar[f>>2]&~(-1>>>(32-r|0))|t>>>n,ar[c>>2]=r,e=c,b=0|ar[i>>2],ar[A>>2]=b,b=A+4|0,i=0|ar[e>>2],ar[b>>2]=i}(a,f,n,t),ur=c;r=b-l+s|0,s=o,0<(0|r)&&(e=l?(d=-1>>>((d=32-l|0)-(e=(0|r)<(0|d)?r:d)|0)&-1<<l,ar[u>>2]=ar[u>>2]&~d|ar[s>>2]&d,r=r-e|0,u=u+((l=e+l|0)>>>5<<2)|0,l&=31,s=s+4|0):(l=0,o),wb(0|u,0|e,(b=(0|r)/32|0)<<2|0),A=r-(b<<5)|0,e=r=u+(b<<2)|0,0<(0|A)&&(l=-1>>>(32-A|0),ar[r>>2]=ar[r>>2]&~l|ar[s+(b<<2)>>2]&l,l=A));ar[a>>2]=e,ar[a+4>>2]=l,ur=c}(o,r,i),e=0|ar[A>>2],ar[A>>2]=ar[o>>2],ar[o>>2]=e,o=0|ar[c>>2],ar[c>>2]=ar[a>>2],ar[a>>2]=o,a=0|ar[n>>2],ar[n>>2]=ar[f>>2],ar[f>>2]=a,0|e&&vu(e);ur=t}(f,l>>>0<1073741823?c>>>0<u>>>0?u:c:2147483647),l=0|ar[n>>2],ar[s>>2]=l+a,u=c=0|ar[A>>2],e=0|ar[f>>2],0<(0|(l=(u+(l>>>5<<2)-c<<3)+(31&l)|0))?(wb(0|e,0|c,(b=l>>>5)<<2|0),c=l-(b<<5)|0,e=l=e+(b<<2)|0,0<(0|c)?(k=-1>>>(32-c|0),ar[l>>2]=ar[l>>2]&~k|ar[u+(b<<2)>>2]&k):c=0):c=0,ar[i>>2]=e,ar[i+4>>2]=c,e=0|ar[(l=i)>>2],l=0|ar[l+4>>2],c=0|ar[A>>2],ar[A>>2]=ar[f>>2],ar[f>>2]=c,k=0|ar[n>>2],ar[n>>2]=ar[s>>2],ar[s>>2]=k,k=0|ar[t>>2],ar[t>>2]=ar[d>>2],ar[d>>2]=k,0|c&&vu(c)):(l=(0|ar[A>>2])+(c>>>5<<2)|0,ar[n>>2]=e,e=l,l=31&c),a?(u=0==(0|l),c=e,r?(u||(e=a>>>0<(k=32-l|0)>>>0?a:k,ar[c>>2]=ar[c>>2]|-1>>>(k-e|0)&-1<<l,a=a-e|0,e=c=c+4|0),vb(0|e,-1,(k=a>>>5)<<2|0),(a=a-(k<<5)|0)&&(ar[(e=c+(k<<2)|0)>>2]=ar[e>>2]|-1>>>(32-a|0)),void(ur=o)):(u||(e=a>>>0<(k=32-l|0)>>>0?a:k,ar[c>>2]=ar[c>>2]&~(-1>>>(k-e|0)&-1<<l),a=a-e|0,e=c=c+4|0),vb(0|e,0,(k=a>>>5)<<2|0),(a=a-(k<<5)|0)&&(ar[(e=c+(k<<2)|0)>>2]=ar[e>>2]&~(-1>>>(32-a|0))),void(ur=o))):void(ur=o))}function qn(A,e){e|=0;var r=0,i=0;if(0|tr[(A|=0)>>0]){for(r=255&(0|At(e,2)),tr[A+1>>0]=r,r=255&(0|At(e,1)),tr[A+2>>0]=r,r=0|At(e,5),ar[A+4>>2]=r,i=255&((r=0)|At(e,1));tr[A+8+r>>0]=i,r=r+1|0,i=255&(0|At(e,1)),32!=(0|r););tr[A+40>>0]=i,i=255&(0|At(e,1)),tr[A+41>>0]=i,i=255&(0|At(e,1)),tr[A+42>>0]=i,i=255&(0|At(e,1)),tr[A+43>>0]=i,et(e,44)}0|tr[A+44>>0]&&(i=0|At(e,8),ar[A+48>>2]=i)}function $n(A,e,r){r|=0;var i,f,n,t,o,a,c,l,u,b,s,d,k=0,h=0;if(ur=(d=ur)+112|0,s=d+88|0,h=d+80|0,b=d+72|0,u=d+64|0,l=d+56|0,c=d+48|0,a=d+40|0,o=d+32|0,n=d+24|0,t=d+16|0,i=d+8|0,k=d,f=(e|=0)?45527:45535,0|tr[(A|=0)>>0]){switch(e=0|tr[A+1>>0],ar[k>>2]=f,ar[k+4>>2]=e,Pn(r,45545,k),k=0|tr[A+2>>0],ar[i>>2]=f,ar[4+i>>2]=k,Pn(r,45574,i),0|ar[A+4>>2]){case 1:e=45659;break;case 2:e=45652;break;case 3:e=45635;break;case 4:e=45613;break;default:e=45603}for(ar[t>>2]=f,ar[4+t>>2]=e,Pn(r,45664,t),ar[n>>2]=f,Pn(r,45693,n),e=0;0|e&&Pn(r,45884,b),ar[h>>2]=tr[A+8+e>>0],Pn(r,45887,h),32!=(0|(e=e+1|0)););Pn(r,45728,o),h=0|tr[A+40>>0],ar[a>>2]=f,ar[4+a>>2]=h,Pn(r,45731,a),h=0|tr[A+41>>0],ar[c>>2]=f,ar[4+c>>2]=h,Pn(r,45768,c),h=0|tr[A+42>>0],ar[l>>2]=f,ar[4+l>>2]=h,Pn(r,45804,l),h=0|tr[A+43>>0],ar[u>>2]=f,ar[4+u>>2]=h,Pn(r,45844,u)}ur=(0|tr[A+44>>0]&&(h=0|ar[A+48>>2],ar[s>>2]=f,ar[4+s>>2]=h,Q[8+s>>3]=(0|h)/30,Pn(r,45891,s)),d)}function At(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if((0|(i=0|ar[(r=(A|=0)+16|0)>>2]))<(0|e)){i=64-i|0,n=A+4|0;A:do{if(7<(0|i)){t=A+8|0,f=0|ar[n>>2];do{if(!f)break A;c=0|ar[A>>2],ar[A>>2]=c+1,c=0|cr[c>>0],f=f+-1|0,ar[n>>2]=f,c=0|db(0|c,0,0|(i=i+-8|0)),a=ar[(l=t)+4>>2]|D,ar[(o=t)>>2]=ar[l>>2]|c,ar[o+4>>2]=a}while(7<(0|i))}}while(0);i=64-i|0,ar[r>>2]=i}return l=0|sb(0|(o=0|ar[(a=c=A+8|0)>>2]),0|(a=0|ar[a+4>>2]),64-e|0),a=0|db(0|o,0|a,0|e),ar[c>>2]=a,ar[c+4>>2]=D,ar[r>>2]=i-e,0|l}function et(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if((0|(i=0|ar[(r=(A|=0)+16|0)>>2]))<(0|e)){i=64-i|0,n=A+4|0;A:do{if(7<(0|i)){t=A+8|0,f=0|ar[n>>2];do{if(!f)break A;c=0|ar[A>>2],ar[A>>2]=c+1,c=0|cr[c>>0],f=f+-1|0,ar[n>>2]=f,c=0|db(0|c,0,0|(i=i+-8|0)),a=ar[(l=t)+4>>2]|D,ar[(o=t)>>2]=ar[l>>2]|c,ar[o+4>>2]=a}while(7<(0|i))}}while(0);i=64-i|0,ar[r>>2]=i}c=0|db(0|ar[(c=l=A+8|0)>>2],0|ar[c+4>>2],0|e),ar[l>>2]=c,ar[l+4>>2]=D,ar[r>>2]=i-e}function rt(A){var e,r,i;i=(-8&ar[(e=(A|=0)+16|0)>>2]|0)/8|0,ar[A>>2]=(0|ar[A>>2])+(0-i),ar[(r=A+4|0)>>2]=(0|ar[r>>2])+i,ar[(A=A+8|0)>>2]=0,ar[A+4>>2]=0,ar[e>>2]=0}function it(A){var e,r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;for(a=(A|=0)+4|0,r=A+8|0,i=(c=0)|ar[(e=A+16|0)>>2];;){if((0|i)<1){i=64-i|0;A:do{if(7<(0|i)){f=0|ar[a>>2];do{if(!f)break A;l=0|ar[A>>2],ar[A>>2]=l+1,l=0|cr[l>>0],f=f+-1|0,ar[a>>2]=f,l=0|db(0|l,0,0|(i=i+-8|0)),n=ar[(u=r)+4>>2]|D,ar[(t=r)>>2]=ar[u>>2]|l,ar[t+4>>2]=n}while(7<(0|i))}}while(0);t=64-i|0,ar[e>>2]=t}else t=i;if(n=0|db(0|(u=0|ar[(l=r)>>2]),0|(l=0|ar[l+4>>2]),1),f=D,ar[(i=r)>>2]=n,ar[i+4>>2]=f,i=t+-1|0,ar[e>>2]=i,!(-1<(0|l)|-1==(0|l)&4294967295<u>>>0))break;if(19<(0|c)){i=-99999,o=20;break}c=c+1|0}if(20==(0|o))return 0|i;if(!c)return(u=0)|u;if((0|t)<=(0|c)){i=65-t|0;A:do{if(7<(0|i)){t=0|ar[a>>2];do{if(!t)break A;u=0|ar[A>>2],ar[A>>2]=u+1,u=0|cr[u>>0],t=t+-1|0,ar[a>>2]=t,n|=u=0|db(0|u,0,0|(i=i+-8|0)),f|=D,ar[(u=r)>>2]=n,ar[u+4>>2]=f}while(7<(0|i))}}while(0);i=64-i|0,ar[e>>2]=i}return u=0|sb(0|n,0|f,64-c|0),a=0|db(0|n,0|f,0|c),ar[(l=r)>>2]=a,ar[l+4>>2]=D,ar[e>>2]=i-c,(0|(i=u+(1<<c)|0))<=1&&sr(47395,47382,146,47403),0|(u=i+-1|0)}function ft(A){A=0|it(A|=0);A:do{if((0|A)<0){switch(0|A){case-99999:break;default:break A}return 0|(A=-99999)}switch(0|A){case 0:A=0;break;default:break A}return 0|A}while(0);return 0|(A=(0|(0==(1&A|0)?0-A|0:A+1|0))/2|0)}function nt(A,e,r){if(A|=0,e|=0,-1<(0|(r|=0)))return ar[A>>2]=e,ar[A+4>>2]=e,void(ar[A+8>>2]=e+r);sr(47837,47828,138,47849)}function tt(A){var e,r,i,f,n,t;f=0|ar[(i=(A|=0)+4|0)>>2],n=(0|ar[A+8>>2])-f|0,ar[A+12>>2]=510,or[(t=A+20|0)>>1]=8,((ar[(r=A+16|0)>>2]=0)|n)<=0||(A=1+f|0,ar[i>>2]=A,e=(0|cr[f>>0])<<8,ar[r>>2]=e,1!=((or[t>>1]=0)|n)&&(ar[i>>2]=2+f,ar[r>>2]=0|e|cr[A>>0],or[t>>1]=-8))}function ot(A,e){e|=0;var r=0,i=0,f=0,n=0,t=0,o=0,a=0;return i=(i=0|ar[(t=(A|=0)+12|0)>>2])-(r=0|cr[(i>>>6)-4+(47412+(((0|cr[e>>0])>>>1&255)<<2))>>0])|0,n=(ar[t>>2]=i)<<7,(f=0|ar[(a=A+16|0)>>2])>>>0<n>>>0?(o=255&(f=1&(r=0|tr[e>>0])),tr[e>>0]=tr[47764+((255&r)>>>1&255)>>0]<<1&255|f,32768<=n>>>0?0|(a=o):(ar[t>>2]=i<<1&67108862,f=ar[a>>2]<<1,ar[a>>2]=f,e=1+(0|or[(r=A+20|0)>>1])<<16>>16,(or[r>>1]=e)<<16>>16?0|(a=o):(or[r>>1]=-8,(i=0|ar[(r=A+4|0)>>2])>>>0>=(0|ar[A+8>>2])>>>0||(ar[r>>2]=i+1,ar[a>>2]=0|f|cr[i>>0]),0|(a=o)))):(o=0|cr[47668+(r>>>3)>>0],ar[a>>2]=f-n<<o,ar[t>>2]=r<<o,t=255&(i=1&(r=0|tr[e>>0])^1),(255&r)<2&&(r=i|-2&r,tr[e>>0]=r),tr[e>>0]=tr[47700+((255&r)>>>1&255)>>0]<<1&255|1&r,r=(0|lr[(n=A+20|0)>>1])+o|0,32768&(or[n>>1]=r)|0||(r=r<<16>>16,(f=0|ar[(i=A+4|0)>>2])>>>0<(0|ar[A+8>>2])>>>0&&(ar[i>>2]=f+1,ar[a>>2]=(0|cr[f>>0])<<r|ar[a>>2]),or[n>>1]=r+65528),0|(a=t))}function at(A){var e=0,r=0,i=0,f=0,n=0;return r=(0|ar[(e=(A|=0)+12|0)>>2])-2|0,(i=(ar[e>>2]=r)<<7)>>>0<=(f=0|ar[(n=A+16|0)>>2])>>>0?0|(n=1):32768<=i>>>0?(n=0)|n:(ar[e>>2]=r<<1&67108862,i=f<<1,ar[n>>2]=i,f=1+(0|or[(e=A+20|0)>>1])<<16>>16,(or[e>>1]=f)<<16>>16?(n=0)|n:(or[e>>1]=-8,(r=0|ar[(e=A+4|0)>>2])>>>0>=(0|ar[A+8>>2])>>>0||(ar[e>>2]=r+1,ar[n>>2]=i+(0|cr[r>>0])),(n=0)|n))}function ct(A){var e,r,i=0,f=0,n=0,t=0;return f=ar[(r=(A|=0)+16|0)>>2]<<1,ar[r>>2]=f,t=1+(0|or[(e=A+20|0)>>1])<<16>>16,-1<(or[e>>1]=t)<<16>>16&&(n=0|ar[(i=A+4|0)>>2],(0|ar[A+8>>2])>>>0>n>>>0)&&(or[e>>1]=-8,ar[i>>2]=n+1,f=0|f|cr[n>>0],ar[r>>2]=f),f>>>0<(i=ar[A+12>>2]<<7)>>>0?(t=0)|t:(ar[r>>2]=f-i,0|(t=1))}function lt(A,e){var r,i,f,n,t=0,o=0,a=0,c=0,l=0;if((0|(e|=0))<=0)return 0|(l=e);for(i=(A|=0)+16|0,f=A+20|0,n=A+8|0,l=A+4|0,r=A+12|0,t=(A=0)|or[f>>1],o=0|ar[i>>2];;){if(o<<=1,ar[i>>2]=o,t=t+1<<16>>16,-1<(or[f>>1]=t)<<16>>16&&(c=0|ar[l>>2],(0|ar[n>>2])>>>0>c>>>0)?(or[f>>1]=-8,ar[l>>2]=c+1,a=0|cr[c>>0]|o,ar[i>>2]=a,t=-8):a=o,a>>>0<(o=ar[r>>2]<<7)>>>0){t=8;break}if(o=a-o|0,ar[i>>2]=o,(0|e)<=(0|(A=A+1|0))){A=e,t=8;break}}return 8==(0|t)?0|A:0}function ut(A,e){A|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;if((0|(e|=0))<9)return e?(i=ar[(t=A+16|0)>>2]<<e,ar[t>>2]=i,f=(0|lr[(n=A+20|0)>>1])+e|0,0==(32768&(or[n>>1]=f)|0)&&(a=0|ar[(o=A+4|0)>>2],(0|ar[A+8>>2])>>>0>a>>>0)&&(ar[o>>2]=a+1,u=f<<16>>16,b=(0|cr[a>>0])<<u,or[n>>1]=u+65528,i|=b,ar[t>>2]=i),u=ar[A+12>>2]<<7,u=i-(0|br(b=(0|(l=(i>>>0)/(u>>>0)|0))<(0|(b=1<<e))?l:b+-1|0,u))|0,ar[t>>2]=u,0|b):(b=0)|b;if(i=ar[(l=A+16|0)>>2]<<8,ar[l>>2]=i,n=65535&(f=8+(0|lr[(u=A+20|0)>>1])|0),or[u>>1]=n,0==(32768&f|0)&&(c=0|ar[(t=A+4|0)>>2],(0|ar[A+8>>2])>>>0>c>>>0)?(ar[t>>2]=c+1,n=f<<16>>16,f=(0|cr[c>>0])<<n,n=n+65528&65535,or[u>>1]=n,f|=i,ar[l>>2]=f):f=i,r=ar[A+12>>2]<<7,t=f-(0|br(i=(0|(i=(f>>>0)/(r>>>0)|0))<255?i:255,r))|0,ar[l>>2]=t,!(f=e+-8|0))return 0|(b=i);for(e=A+8|0,c=A+4|0;f=f+-1|0,a=i<<1,i=t<<1,ar[l>>2]=i,n=n+1<<16>>16,-1<(or[u>>1]=n)<<16>>16&&(b=0|ar[c>>2],(0|ar[e>>2])>>>0>b>>>0)&&(or[u>>1]=-8,ar[c>>2]=b+1,i=0|cr[b>>0]|i,ar[l>>2]=i,n=-8),i>>>0<r>>>0?(t=0,o=i):(o=i-r|0,ar[l>>2]=o,t=1),i=t|a,f;)t=o;return 0|i}function bt(A,e){var r,i,f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0;for(r=(A|=0)+16|0,f=A+8|0,n=A+4|0,t=A+12|0,o=(e|=0)+31|0,a=(u=0)|or[(i=A+20|0)>>1],c=0|ar[r>>2];c<<=1,ar[r>>2]=c,a=a+1<<16>>16,-1<(or[i>>1]=a)<<16>>16&&(b=0|ar[n>>2],(0|ar[f>>2])>>>0>b>>>0)?(or[i>>1]=-8,ar[n>>2]=b+1,l=0|cr[b>>0]|c,ar[r>>2]=l,a=-8):l=c,!(l>>>0<(c=ar[t>>2]<<7)>>>0);){if(c=l-c|0,ar[r>>2]=c,(0|e)==(0|o)){e=0,s=8;break}u=u+(1<<e)|0,e=e+1|0}return 8==(0|s)?0|e:0|(s=(0|ut(A,e))+u|0)}function st(A){ar[(A|=0)>>2]=0,ar[A+4>>2]=0}function dt(A,e){A|=0;var r,i=0;ur=(r=ur)+16|0,i=r,0|(i=0|ar[(e|=0)+4>>2])&&(ar[i>>2]=1+(0|ar[i>>2])),ar[A+4>>2]=i,ar[A>>2]=ar[e>>2],ur=r}function kt(A){var e,r,i,f=0;ur=(r=ur)+16|0,f=r,ur=((f=0|ar[(e=(A|=0)+4|0)>>2])&&(i=(0|ar[f>>2])-1|0,ar[f>>2]=i,0|i||(0|(f=0|ar[A>>2])&&mu(f),(f=0|ar[e>>2])&&vu(f))),r)}function ht(A,e,r){e|=0,r|=0;var i,f,n=0,t=0,o=0;ur=(f=ur)+16|0,o=f+8|0,n=f,i=0|ar[(n=(A|=0)+4|0)>>2];do{if(0|i){if(1==(0|(t=0|ar[i>>2])))return wt(o=0|ar[A>>2],e,r),void(ur=f);if(1<(0|t)){ar[i>>2]=t+-1;break}sr(47917,47927,177,47943)}}while(0);o=0|wu(172),ar[A>>2]=o,A=0|hu(4),ar[n>>2]=A,ar[A>>2]=1,wt(o,e,r),ur=f}function wt(A,e,r){A|=0,e|=0,r|=0;var i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0;do{if(0<(0|e)){if(o=(0|r)<0?0:(0|r)<51?r:51,i=A+5|0,f=(255&(a=(f=63<(0|(a=(0|(a=((a=0|ar[8096+(12*(n=e+-1|0)|0)>>2])<<3&120)-16+((0|br((5*(a>>4)|0)-45|0,o))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&f,63<=(127&a)>>>0&&(t=f,tr[(a=i)>>0]=t,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+6|0,f=(255&(a=(f=63<(0|(a=(0|(a=((a=0|ar[8096+(12*n|0)+4>>2])<<3&120)-16+((0|br((5*(a>>4)|0)-45|0,o))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&f,63<=(127&a)>>>0&&(t=f,tr[(a=i)>>0]=t,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+7|0,f=(255&(a=(f=63<(0|(a=(0|(a=((a=0|ar[8096+(12*n|0)+8>>2])<<3&120)-16+((0|br((5*(a>>4)|0)-45|0,o))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&f,63<=(127&a)>>>0&&(t=f,tr[(a=i)>>0]=t,sr(47989,47927,210,48010)),vb(0|i,0|f,1),f=A+149|0,i=(255&(a=(i=63<(0|(a=(0|(a=((a=0|ar[9536+(n<<2)>>2])<<3&120)-16+((0|br((5*(a>>4)|0)-45|0,o))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&i,63<=(127&a)>>>0&&(tr[f>>0]=i,sr(47989,47927,210,48010)),vb(0|f,0|i,1),i=A+147|0,f=(255&(a=(f=63<(0|(a=(0|(a=((a=0|ar[8120+(n<<2)>>2])<<3&120)-16+((0|br((5*(a>>4)|0)-45|0,o))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&f,63<=(127&a)>>>0&&(tr[i>>0]=f,sr(47989,47927,210,48010)),vb(0|i,0|f,1),f=A+148|0,i=(255&(a=(i=63<(0|(a=(0|(a=((a=0|ar[8128+(n<<2)>>2])<<3&120)-16+((0|br((5*(a>>4)|0)-45|0,o))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&i,63<=(127&a)>>>0&&(tr[f>>0]=i,sr(47989,47927,210,48010)),vb(0|f,0|i,1),i=A+156|0,f=(255&(a=(f=63<(0|(a=(0|(a=104+((0|br(o,-20))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&f,63<=(127&a)>>>0&&(t=f,tr[(a=i)>>0]=t,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+157|0,t=(255&(a=(t=63<(0|(a=(0|(a=104+((0|br(o,-25))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&t,63<=(127&a)>>>0&&(n=t,tr[(a=i)>>0]=n,sr(47989,47927,210,48010)),vb(0|i,0|t,1),i=A+158|0,f=(255&(a=(f=63<(0|(a=(0|(a=104+((0|br(o,-30))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&f,63<=(127&a)>>>0&&(n=f,tr[(a=i)>>0]=n,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+159|0,f=(255&(a=(f=63<(0|(a=(0|(a=104+((0|br(o,-40))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&f,63<=(127&a)>>>0&&(n=f,tr[(a=i)>>0]=n,sr(47989,47927,210,48010)),vb(0|i,0|f,1),vb(A+160|0,0|f,1),tr[A+154>>0]=14,tr[A+155>>0]=14,i=A+150|0,f=(255&(a=(f=63<(0|(a=(0|(a=((a=0|ar[(n=9520+((1==(0|e)?0:2)<<2)|0)>>2])<<3&120)-16+((0|br((5*(a>>4)|0)-45|0,o))>>4)|0))<1?1:(0|a)<126?a:126)))?a+64|0:63-a|0))<<1&255|1&f,63<=(127&a)>>>0&&(l=f,tr[(a=i)>>0]=l,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+151|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+4>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,o))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(a=f,tr[(l=i)>>0]=a,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=(255&(l=(i=63<(0|(l=(0|(l=48+(5*o>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&i,f=A+152|0,63<=(127&l)>>>0&&(tr[f>>0]=i,sr(47989,47927,210,48010)),vb(0|f,0|i,1),vb(A+153|0,0|t,1),f=A+143|0,i=(255&(l=(i=63<(0|(l=(0|(l=72+((0|br(o,-5))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&i,(127&l)>>>0<63){vb(0|f,0|i,4);break}tr[f>>0]=i,sr(47989,47927,210,48010)}}while(0);a=(0|r)<0?0:(0|r)<51?r:51,i=A+2|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[8136+(12*e|0)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+3|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[8136+(12*e|0)+4>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+4|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[8136+(12*e|0)+8>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+8|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[(n=9484+((2!=(0|e)?e:5)<<2)|0)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+9|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+4>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+10|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+8>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+11|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+12>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),f=A+12|0,i=(255&(l=(i=63<(0|(l=(0|(l=((l=0|ar[9472+(e<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&i,63<=(127&l)>>>0&&(tr[f>>0]=i,sr(47989,47927,210,48010)),vb(0|f,0|i,1),i=A+13|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[8172+(e<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(tr[i>>0]=f,sr(47989,47927,210,48010)),vb(0|i,0|f,1),f=A+14|0,n=(255&(l=(n=63<(0|(l=(0|(l=((l=0|ar[(i=8184+((0==(0|e)?0:2)<<2)|0)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&n,63<=(127&l)>>>0&&(r=n,tr[(l=f)>>0]=r,sr(47989,47927,210,48010)),vb(0|f,0|n,1),l=0|ar[i+4>>2],i=A+15|0,f=(255&(l=(f=63<(0|(l=(0|(l=(l<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+16|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[(n=9424+((r=e<<2)<<2)|0)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(o=f,tr[(l=i)>>0]=o,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+17|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+4>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(o=f,tr[(l=i)>>0]=o,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+18|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+8>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(o=f,tr[(l=i)>>0]=o,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+19|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+12>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(o=f,tr[(l=i)>>0]=o,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+20|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[(n=9388+(3*e<<2)|0)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(o=f,tr[(l=i)>>0]=o,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+21|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+4>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(o=f,tr[(l=i)>>0]=o,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+22|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+8>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(o=f,tr[(l=i)>>0]=o,sr(47989,47927,210,48010)),vb(0|i,0|f,1),n=A+25|0,o=9172+(18*e<<2)|0,i=0;do{if(f=n+i|0,t=(255&(l=(t=63<(0|(l=(0|(l=((l=0|ar[o+(i<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&t,63<=(127&l)>>>0){c=35;break}vb(0|f,0|t,1),i=i+1|0}while((0|i)<18);35==(0|c)&&(tr[f>>0]=t,sr(47989,47927,210,48010)),f=A+43|0,i=0;do{if(n=f+i|0,t=(255&(l=(t=63<(0|(l=(0|(l=((l=0|ar[o+(i<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&t,63<=(127&l)>>>0){c=39;break}vb(0|n,0|t,1),i=i+1|0}while((0|i)<18);39==(0|c)&&(tr[n>>0]=t,sr(47989,47927,210,48010)),i=A+61|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[(n=8200+(r<<2)|0)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+62|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+4>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+63|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+8>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+64|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[n+12>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),n=A+65|0,i=0;do{if(f=n+i|0,t=(255&(l=(t=63<(0|(l=(0|(l=((l=0|ar[8248+(168*e|0)+(i<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&t,63<=(127&l)>>>0){c=45;break}vb(0|f,0|t,1),i=i+1|0}while((0|i)<42);45==(0|c)&&(tr[f>>0]=t,sr(47989,47927,210,48010)),i=A+107|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[8752+(e<<3)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),i=A+108|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[8752+(e<<3)+4>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(r=f,tr[(l=i)>>0]=r,sr(47989,47927,210,48010)),vb(0|i,0|f,1),t=A+109|0,f=8884+(24*e<<2)|0,i=0;do{if(n=t+i|0,o=(255&(l=(o=63<(0|(l=(0|(l=((l=0|ar[f+(i<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&o,63<=(127&l)>>>0){c=51;break}vb(0|n,0|o,1),i=i+1|0}while((0|i)<24);51==(0|c)&&(tr[n>>0]=o,sr(47989,47927,210,48010)),f=A+133|0,n=8776+(6*e<<2)|0,i=0;do{if(t=f+i|0,o=(255&(l=(o=63<(0|(l=(0|(l=((l=0|ar[n+(i<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&o,63<=(127&l)>>>0){c=55;break}vb(0|t,0|o,1),i=i+1|0}while((0|i)<6);if(55==(0|c)&&(tr[t>>0]=o,sr(47989,47927,210,48010)),i=(255&(l=(i=63<(0|(l=(0|(l=((l=0|ar[8848+(e<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&i,63<=(127&l)>>>0&&(tr[A>>0]=i,sr(47989,47927,210,48010)),vb(0|A,0|i,1),i=A+1|0,f=(255&(l=(f=63<(0|(l=(0|(l=((l=0|ar[8860+(e<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&f,63<=(127&l)>>>0&&(tr[i>>0]=f,sr(47989,47927,210,48010)),vb(0|i,0|f,1),tr[A+139>>0]=1,tr[A+140>>0]=1,f=A+141|0,i=(255&(l=(i=63<(0|(l=(0|(l=72+((0|br(a,-5))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&i,63<=(127&l)>>>0&&(tr[f>>0]=i,sr(47989,47927,210,48010)),vb(0|f,0|i,1),vb(A+142|0,0|i,1),f=A+161|0,i=(255&(l=(i=63<(0|(l=(0|(l=((l=0|ar[8872+(e<<2)>>2])<<3&120)-16+((0|br((5*(l>>4)|0)-45|0,a))>>4)|0))<1?1:(0|l)<126?l:126)))?l+64|0:63-l|0))<<1&255|1&i,(127&l)>>>0<63)return vb(0|f,0|i,1),tr[(e=l=A+162|0)>>0]=1,tr[e+1>>0]=1,tr[e+2>>0]=1,tr[e+3>>0]=1,tr[(l=l+4|0)>>0]=1,tr[l+1>>0]=1,tr[l+2>>0]=1,tr[l+3>>0]=1,tr[(l=A+170|0)>>0]=1,tr[l+1>>0]=1,tr[A+23>>0]=1,void(tr[A+24>>0]=1);tr[f>>0]=i,sr(47989,47927,210,48010)}function vt(A){var e,r,i=0;ur=(r=ur)+16|0,i=r,ur=((i=0|ar[(e=(A|=0)+4|0)>>2])&&(ar[i>>2]=(0|ar[i>>2])-1,ar[A>>2]=0,ar[e>>2]=0),r)}function mt(A){var e,r,i=0,f=0;ur=(r=ur)+16|0,i=r,(i=0|ar[(e=(A|=0)+4|0)>>2])||sr(48057,47927,95,48064),ur=((0|(f=0|ar[i>>2]))<=1||(ar[i>>2]=f+-1,f=0|ar[A>>2],i=0|wu(172),ar[A>>2]=i,A=0|hu(4),ar[e>>2]=A,ar[A>>2]=1,hb(0|i,0|f,172)),r)}function gt(A,e){A|=0;var r,i,f=0,n=0;return ur=(i=ur)+32|0,f=i,f=0|ar[(r=(e|=0)+4|0)>>2],ur=(f?(ar[f>>2]=1+(0|ar[f>>2]),0|(f=0|ar[(n=A+4|0)>>2])&&(ar[f>>2]=(0|ar[f>>2])-1,ar[A>>2]=0,ar[n>>2]=0),ar[A>>2]=ar[e>>2],ar[n>>2]=ar[r>>2]):(f=0|ar[(n=A+4|0)>>2])&&(ar[f>>2]=(0|ar[f>>2])-1,ar[A>>2]=0,ar[n>>2]=0),i),0|A}function Zt(A,e){e|=0;var r,i,f,n,t,o,a,c,l,u,b,s,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0;if(b=0|ar[(A|=0)+5808>>2],J=(1<<(s=0|ar[A+5804>>2]))-1|0,M=0|ar[A+5820>>2],d=e<<s>>(Q=0|ar[A+5800>>2]),Q=e+1<<s>>Q,(0|(Q=(0|(D=0|ar[A+5824>>2]))<(0|Q)?D:Q))<=(0|d))return(M=0)|(M&=J=1);i=A+10372|0,f=A+10360|0,n=A+10348|0,t=A+10352|0,o=A+10356|0,a=A+10340|0,c=A+48|0,l=A+52|0,u=A+5977|0,D=A+10308|0,k=(e=0)|ar[(r=A+5816|0)>>2];A:for(;;){if(0<(0|k)){G=0==(0|(F=0|br(d,b)))?0:32,R=0|br(F>>s,M),Y=0!=(0|F)&0==(F&J|0),_=0|br((N=F+-1|0)>>s,M),V=0;do{if(C=(0|br(0|ar[i>>2],d))+V|0,C=(0|ar[f>>2])+(3*C|0)|0,I=65535&(C=7&(cr[C>>0]|cr[C+1>>0]<<8)),C<<16>>16){if(y=(C=0|br(V,b))>>s,h=F>>(Z=0|ar[n>>2]),(0|(B=C>>Z))<=-1){d=8;break A}if((0|(E=0|ar[t>>2]))<=(0|B)){d=8;break A}if((0|h)<=-1){d=11;break A}if((0|(X=0|ar[o>>2]))<=(0|h)){d=11;break A}if(W=0|ar[a>>2],v=0|br(E,h),w=0|lr[W+(24*(v+B|0)|0)+2>>1],h=0|ar[c>>2],(p=(0|ar[l>>2])-h>>2)>>>0<=w>>>0){k=0,d=33;break A}g=0|ar[(m=h)+(w<<2)>>2],h=0==(0|C)?0:16;do{if(0!=(0|C)&0==(C&J|0)){if(!(0|tr[g+764>>0])){if(!(-1<(0|(w=C+-1>>Z))&(0|w)<(0|E))){d=16;break A}if((v=0|lr[W+(24*(v+w|0)|0)+2>>1])>>>0<p>>>0&&(0|ar[g+800>>2])!=(0|ar[800+(0|ar[m+(v<<2)>>2])>>2])){w=0;break}}w=0|tr[u>>0]?h:(w=0|ar[D>>2],(0|ar[w+(y+R<<2)>>2])==(0|ar[w+((C+-1>>s)+R<<2)>>2])?h:0)}else w=h}while(0);do{if(Y){if(!(0|tr[g+764>>0])){if(!(-1<(0|(h=N>>Z))&(0|h)<(0|X))){d=24;break A}if(W=W+(24*((0|br(E,h))+B|0)|0)+2|0,(W=0|lr[W>>1])>>>0<p>>>0&&(0|ar[g+800>>2])!=(0|ar[800+(0|ar[m+(W<<2)>>2])>>2])){h=0;break}}h=0|tr[u>>0]?G:(h=0|ar[D>>2],(0|ar[h+(y+R<<2)>>2])==(0|ar[h+(y+_<<2)>>2])?G:0)}else h=G}while(0);0|tr[g+754>>0]||(Wt(A,C,F,I,0,255&w,255&h),It(A,C,F,I,0,0),e=1,k=0|ar[r>>2])}V=V+1|0}while((0|V)<(0|k))}if((0|Q)<=(0|(d=d+1|0))){k=1,d=33;break}}if(8==(0|d))sr(48482,48519,118,48539);else if(11==(0|d))sr(48543,48519,119,48539);else if(16==(0|d))sr(48482,48519,118,48539);else if(24==(0|d))sr(48543,48519,119,48539);else if(33==(0|d))return 0|(M=k&e);return 0}function pt(A,e,r,i,f,n){r|=0,i|=0,f|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0,fA=0,nA=0;if(V=(e|=0)?2:1,F=e?1:2,R=1&e,N=1&(1^e),G=e?80:160,I=e?16:32,nA=(0|(n|=0))<(0|(nA=0|ar[(C=(A|=0)+10472|0)>>2]))?n:nA,!((0|(fA=(0|i)<(0|(fA=0|ar[A+10476>>2]))?i:fA))<=(0|r))){o=(0|f)<(0|nA),a=A+10460|0,c=A+10368|0,l=A+10372|0,u=A+10376|0,b=A+10360|0,s=A+10388|0,d=A+10392|0,k=A+10396|0,h=A+10380|0,w=A+10348|0,v=A+10352|0,m=A+10356|0,g=A+10340|0,Z=A+48|0,p=A+52|0,y=A+10332|0,B=A+10516|0,E=A+10448|0,X=A+10452|0,W=A+10456|0,t=A+10440|0;A:for(;;){if(o){eA=(0|(AA=r<<2))/4|0,rA=AA-N|0,$=f;do{if(iA=(0|(M=$<<2))/4|0,e=(0|br(0|ar[C>>2],eA))+iA|0,e=(0|ar[a>>2])+e|0,(D=255&(n=0|tr[e>>0]))&G){if(J=M-R|0,n=rA>>(A=0|ar[c>>2]),(0|(e=J>>A))<=-1){e=10;break A}if((0|(_=0|ar[l>>2]))<=(0|e)){e=10;break A}if((0|n)<=-1){e=13;break A}if((0|(Y=0|ar[u>>2]))<=(0|n)){e=13;break A}if(n=(Q=0|ar[b>>2])+(3*((0|br(_,n))+e|0)|0)|0,e=AA>>A,!(-1<(0|(i=M>>A))&(0|i)<(0|_))){e=15;break A}if(!(-1<(0|e)&(0|e)<(0|Y))){e=17;break A}q=Q+(3*((0|br(_,e))+i|0)|0)|0;e:do{if(0!=(768&(cr[n>>0]|cr[n+1>>0]<<8))&&0!=(768&(cr[q>>0]|cr[q+1>>0]<<8))){if(D&I|0){if(n=AA>>(i=0|ar[E>>2]),(0|(e=M>>i))<=-1){e=22;break A}if((0|(A=0|ar[X>>2]))<=(0|e)){e=22;break A}if((0|n)<=-1){e=25;break A}if((0|(_=0|ar[W>>2]))<=(0|n)){e=25;break A}if(q=(Y=0|ar[t>>2])+((0|br(A,n))+e)|0,(0|tr[q>>0])<=-1){e=1;break}if(e=rA>>i,!(-1<(0|(n=J>>i))&(0|n)<(0|A))){e=28;break A}if(!(-1<(0|e)&(0|e)<(0|_))){e=30;break A}if(q=Y+((0|br(A,e))+n)|0,(0|tr[q>>0])<=-1){e=1;break}}if(n=rA>>(i=0|ar[s>>2]),(0|(e=J>>i))<=-1){e=34;break A}if((0|(A=0|ar[d>>2]))<=(0|e)){e=34;break A}if((0|n)<=-1){e=37;break A}if((0|(_=0|ar[k>>2]))<=(0|n)){e=37;break A}if(q=0|ar[h>>2],K=(0|br(A,n))+e|0,e=AA>>i,!(-1<(0|(n=M>>i))&(0|n)<(0|A))){e=39;break A}if(!(-1<(0|e)&(0|e)<(0|_))){e=41;break A}if(L=(0|br(A,e))+n|0,n=rA>>(_=0|ar[w>>2]),(0|(e=J>>_))<=-1){e=44;break A}if((0|(Y=0|ar[v>>2]))<=(0|e)){e=44;break A}if((0|n)<=-1){e=47;break A}if((0|(Q=0|ar[m>>2]))<=(0|n)){e=47;break A}if(e=(D=0|ar[g>>2])+(24*((0|br(Y,n))+e|0)|0)+2|0,e=0|lr[e>>1],i=0|ar[Z>>2],J=e>>>0<(A=(0|ar[p>>2])-i>>2)>>>0?0|ar[i+(e<<2)>>2]:0,e=AA>>_,!(-1<(0|(n=M>>_))&(0|n)<(0|Y))){e=51;break A}if(!(-1<(0|e)&(0|e)<(0|Q))){e=53;break A}if(e=D+(24*((0|br(Y,e))+n|0)|0)+2|0,e=(e=0|lr[e>>1])>>>0<A>>>0?0|ar[i+(e<<2)>>2]:0,x=(n=(j=0|tr[q+(12*K|0)>>0])<<24>>24==0)?-1:0|ar[J+916+(tr[q+(12*K|0)+2>>0]<<2)>>2],O=(i=(H=0|tr[q+(12*K|0)+1>>0])<<24>>24==0)?-1:0|ar[J+980+(tr[q+(12*K|0)+3>>0]<<2)>>2],!((U=(0|x)==(0|(S=(A=(M=0|tr[q+(12*L|0)>>0])<<24>>24==0)?-1:0|ar[e+916+(tr[q+(12*L|0)+2>>0]<<2)>>2])))&(0|O)==(0|(J=(D=(T=0|tr[q+(12*L|0)+1>>0])<<24>>24==0)?-1:0|ar[e+980+(tr[q+(12*L|0)+3>>0]<<2)>>2])))&&!((0|O)==(0|S)&(0|x)==(0|J))){e=1;break}if(P=n?0:0|or[q+(12*K|0)+6>>1],e=n?0:0|or[q+(12*K|0)+4>>1],z=i?0:0|or[q+(12*K|0)+10>>1],Q=i?0:0|or[q+(12*K|0)+8>>1],Y=A?0:0|or[q+(12*L|0)+6>>1],A=A?0:0|or[q+(12*L|0)+4>>1],_=D?0:0|or[q+(12*L|0)+10>>1],i=D?0:0|or[q+(12*L|0)+8>>1],((255&H)+(255&j)|0)!=((255&T)+(255&M)|0)&&(er(4+(0|ar[y>>2])|0,1013,0),tr[B>>0]=3),(0|x)==(0|O)){if((0|S)!=(0|J)){e=81;break A}q=(n=e<<16>>16)-(e=A<<16>>16)|0;do{if((0|((0|q)<0?0-q|0:q))<=3){if(3<(0|((0|(q=(P<<16>>16)-(Y<<16>>16)|0))<0?0-q|0:q)))break;if(3<(0|((0|(q=(Q<<16>>16)-(i<<16>>16)|0))<0?0-q|0:q)))break;if((0|((0|(q=(z<<16>>16)-(_<<16>>16)|0))<0?0-q|0:q))<=3){e=0;break e}}}while(0);q=n-(i<<16>>16)|0;do{if((0|((0|q)<0?0-q|0:q))<=3){if(3<(0|((0|(q=(P<<16>>16)-(_<<16>>16)|0))<0?0-q|0:q)))break;if(3<(0|((0|(q=(Q<<16>>16)-e|0))<0?0-q|0:q)))break;if((0|((0|(q=(z<<16>>16)-(Y<<16>>16)|0))<0?0-q|0:q))<=3){e=0;break e}}}while(0);e=1;break}if(e=e<<16>>16,U){q=e-(A<<16>>16)|0;do{if((0|((0|q)<0?0-q|0:q))<=3){if(3<(0|((0|(q=(P<<16>>16)-(Y<<16>>16)|0))<0?0-q|0:q)))break;if(3<(0|((0|(q=(Q<<16>>16)-(i<<16>>16)|0))<0?0-q|0:q)))break;if((0|((0|(q=(z<<16>>16)-(_<<16>>16)|0))<0?0-q|0:q))<=3){e=0;break e}}}while(0);e=1;break}q=e-(i<<16>>16)|0;do{if((0|((0|q)<0?0-q|0:q))<=3){if(3<(0|((0|(q=(P<<16>>16)-(_<<16>>16)|0))<0?0-q|0:q)))break;if(3<(0|((0|(q=(Q<<16>>16)-(A<<16>>16)|0))<0?0-q|0:q)))break;if((0|((0|(q=(z<<16>>16)-(Y<<16>>16)|0))<0?0-q|0:q))<=3){e=0;break e}}}while(0);e=1;break}e=2}while(0);iA=(0|br(0|ar[C>>2],eA))+iA|0,iA=(0|ar[a>>2])+iA|0,tr[iA>>0]=-4&tr[iA>>0]|e}else tr[e>>0]=-4&n;$=$+V|0}while((0|$)<(0|nA))}if((0|fA)<=(0|(r=r+F|0))){e=5;break}}switch(0|e){case 5:return;case 10:sr(48482,48519,118,48539);break;case 13:sr(48543,48519,119,48539);break;case 15:sr(48482,48519,118,48539);break;case 17:sr(48543,48519,119,48539);break;case 22:sr(48482,48519,118,48539);break;case 25:sr(48543,48519,119,48539);break;case 28:sr(48482,48519,118,48539);break;case 30:sr(48543,48519,119,48539);break;case 34:sr(48482,48519,118,48539);break;case 37:sr(48543,48519,119,48539);break;case 39:sr(48482,48519,118,48539);break;case 41:sr(48543,48519,119,48539);break;case 44:sr(48482,48519,118,48539);break;case 47:sr(48543,48519,119,48539);break;case 51:sr(48482,48519,118,48539);break;case 53:sr(48543,48519,119,48539);break;case 81:sr(48206,48225,343,48236)}}}function yt(A,e,r,i,f,n){r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j,H,x,P,L,K,q,$,AA,eA,rA,iA,fA,nA,tA,oA,aA,cA,lA,uA,bA,sA,dA,kA,hA,wA,vA,mA,gA,ZA,pA,yA,BA,EA,XA,WA,IA,CA,GA,VA,FA,RA,NA,_A,YA,QA,DA,JA,MA,TA,UA,SA,OA,zA,jA,HA,xA,PA,LA,KA,qA,$A,Ae,ee,re,ie,fe,ne,te,oe,ae,ce,le,ue,be,se,de,ke,he,we,ve,me,ge,Ze,pe,ye=0,Be=0,Ee=0,Xe=0,We=0,Ie=0,Ce=0,Ge=0,Ve=0,Fe=0,Re=0,Ne=0,_e=0,Ye=0,Qe=0,De=0,Je=0,Me=0,Te=0,Ue=0,Se=0,Oe=0,ze=0,je=0,He=0,xe=0,Pe=0,Le=0,Ke=0,qe=0,$e=0,Ar=0,er=0,rr=0,ir=0,fr=0,nr=0;if(ur=(pe=ur)+80|0,me=(ve=pe)+40|0,ge=pe+32|0,Ze=(e|=0)?2:1,ke=e?1:2,de=0|ar[(he=(A|=0)+40|0)>>2],ye=0|ar[A+5760>>2],nr=(0|n)<(0|(nr=0|ar[(we=A+10472|0)>>2]))?n:nr,(0|(fr=(0|i)<(0|(fr=0|ar[A+10476>>2]))?i:fr))<=(0|r))ur=pe;else{TA=(0|f)<(0|nr),UA=A+10460|0,SA=A+4|0,OA=A+10368|0,zA=A+10372|0,jA=A+10376|0,HA=A+10360|0,xA=A+10348|0,PA=A+10352|0,LA=A+10356|0,KA=A+10340|0,qA=A+48|0,$A=ye+-8|0,Ae=4+me|0,ee=2+me|0,re=28+me|0,ie=26+me|0,fe=24+me|0,ne=ve+4|0,te=ve+2|0,oe=ve+28|0,ae=ve+26|0,ce=ve+24|0,le=6+me|0,ue=ve+6|0,be=30+me|0,se=ve+30|0,DA=A+5480|0,JA=2+ge|0,MA=4+ge|0,x=65535+(H=1<<ye)|0,YA=ve+8|0,L=de-1|0,y=8+me|0,K=de-2|0,Z=10+me|0,q=de-3|0,B=12+me|0,$=de-4|0,W=14+me|0,QA=ve+16|0,AA=de<<2,eA=(rr=P=de<<1)+-1|0,X=16+me|0,rA=rr+-2|0,p=18+me|0,iA=rr+-3|0,E=20+me|0,rr=rr+-4|0,I=22+me|0,fA=6*de|0,nA=(ir=3*de|0)+-1|0,tA=ir+-2|0,oA=ir+-3|0,ir=ir+-4|0,aA=de<<1,cA=0|br(de,-3),lA=de<<1,uA=0|br(de,-3),kA=0-de|0,hA=ve+2|0,wA=0-(sA=bA=de<<1)|0,t=2+me|0,vA=ve+4|0,mA=0-(dA=3*de|0)|0,u=4+me|0,gA=ve+6|0,ZA=0-(er=de<<2)|0,h=6+me|0,pA=ve+8|0,yA=1-de|0,l=8+me|0,BA=1+de|0,EA=ve+10|0,XA=1-sA|0,o=10+me|0,WA=1|sA,IA=ve+12|0,CA=1-dA|0,b=12+me|0,GA=1+dA|0,VA=ve+14|0,FA=1-er|0,w=14+me|0,RA=ve+16|0,NA=2-de|0,k=16+me|0,_A=2+de|0,C=ve+18|0,G=2-sA|0,a=18+me|0,V=2+sA|0,F=ve+20|0,R=2-dA|0,s=20+me|0,N=2+dA|0,_=ve+22|0,Y=2-er|0,v=22+me|0,Q=ve+24|0,D=3-de|0,g=24+me|0,J=3+de|0,M=ve+26|0,T=3-sA|0,c=26+me|0,U=3+sA|0,S=ve+28|0,O=3-dA|0,d=28+me|0,z=3+dA|0,j=ve+30|0,er=3-er|0,m=30+me|0;A:for(;;){if(TA){Le=(0|(Pe=r<<2))/4|0,Ke=Pe+-1|0,xe=e?Pe:Ke,He=f;do{if(Xe=He<<2,We=(0|br(0|ar[we>>2],Le))+((0|Xe)/4|0)|0,(We=3&tr[(0|ar[UA>>2])+We>>0])<<24>>24){if(Ar=(qe=0|ar[SA>>2])+($e=(0|br(0|ar[he>>2],Pe))+Xe<<1)|0,Ee=e?(i=lr[(i=(A=i=Ar)+4|0)>>1]|lr[i+2>>1]<<16,ar[(n=ve)>>2]=lr[A>>1]|lr[A+2>>1]<<16,ar[n+4>>2]=i,or[me>>1]=0|or[Ar+-2>>1],or[ee>>1]=0|or[Ar+-4>>1],or[Ae>>1]=0|or[Ar+-6>>1],or[le>>1]=0|or[Ar+-8>>1],n=lr[(n=(i=n=qe+($e+P)|0)+4|0)>>1]|lr[n+2>>1]<<16,ar[(A=YA)>>2]=lr[i>>1]|lr[i+2>>1]<<16,ar[A+4>>2]=n,or[y>>1]=0|or[Ar+(L<<1)>>1],or[Z>>1]=0|or[Ar+(K<<1)>>1],or[B>>1]=0|or[Ar+(q<<1)>>1],or[W>>1]=0|or[Ar+($<<1)>>1],A=lr[(A=(n=A=qe+($e+AA)|0)+4|0)>>1]|lr[A+2>>1]<<16,ar[(i=QA)>>2]=lr[n>>1]|lr[n+2>>1]<<16,ar[i+4>>2]=A,or[X>>1]=0|or[Ar+(eA<<1)>>1],or[p>>1]=0|or[Ar+(rA<<1)>>1],or[E>>1]=0|or[Ar+(iA<<1)>>1],or[I>>1]=0|or[Ar+(rr<<1)>>1],i=lr[(i=(A=i=qe+($e+fA)|0)+4|0)>>1]|lr[i+2>>1]<<16,ar[(n=ce)>>2]=lr[A>>1]|lr[A+2>>1]<<16,ar[n+4>>2]=i,or[fe>>1]=0|or[Ar+(nA<<1)>>1],n=ie,i=be,A=tA,ye=ir,Be=re,oA):(or[ve>>1]=0|or[Ar>>1],or[me>>1]=0|or[Ar+(kA<<1)>>1],or[hA>>1]=0|or[Ar+(de<<1)>>1],or[t>>1]=0|or[Ar+(wA<<1)>>1],or[vA>>1]=0|or[Ar+(sA<<1)>>1],or[u>>1]=0|or[Ar+(mA<<1)>>1],or[gA>>1]=0|or[Ar+(dA<<1)>>1],or[h>>1]=0|or[Ar+(ZA<<1)>>1],or[pA>>1]=0|or[Ar+2>>1],or[l>>1]=0|or[Ar+(yA<<1)>>1],or[EA>>1]=0|or[Ar+(BA<<1)>>1],or[o>>1]=0|or[Ar+(XA<<1)>>1],or[IA>>1]=0|or[Ar+(WA<<1)>>1],or[b>>1]=0|or[Ar+(CA<<1)>>1],or[VA>>1]=0|or[Ar+(GA<<1)>>1],or[w>>1]=0|or[Ar+(FA<<1)>>1],or[RA>>1]=0|or[Ar+4>>1],or[k>>1]=0|or[Ar+(NA<<1)>>1],or[C>>1]=0|or[Ar+(_A<<1)>>1],or[a>>1]=0|or[Ar+(G<<1)>>1],or[F>>1]=0|or[Ar+(V<<1)>>1],or[s>>1]=0|or[Ar+(R<<1)>>1],or[_>>1]=0|or[Ar+(N<<1)>>1],or[v>>1]=0|or[Ar+(Y<<1)>>1],or[Q>>1]=0|or[Ar+6>>1],or[g>>1]=0|or[Ar+(D<<1)>>1],or[M>>1]=0|or[Ar+(J<<1)>>1],or[c>>1]=0|or[Ar+(T<<1)>>1],or[S>>1]=0|or[Ar+(U<<1)>>1],n=d,i=m,A=O,ye=er,Be=j,z),or[n>>1]=0|or[Ar+(A<<1)>>1],or[Be>>1]=0|or[Ar+(Ee<<1)>>1],or[i>>1]=0|or[Ar+(ye<<1)>>1],n=Pe>>(Ve=0|ar[OA>>2]),(0|(Re=Xe>>Ve))<=-1){n=13;break A}if((0|(_e=0|ar[zA>>2]))<=(0|Re)){n=13;break A}if((0|n)<=-1){n=16;break A}if((0|(Ne=0|ar[jA>>2]))<=(0|n)){n=16;break A}if(Qe=0|ar[HA>>2],Ye=(Fe=0|br(_e,n))+Re|0,Ge=Xe+-1|0,i=xe>>Ve,!(-1<(0|(n=(e?Ge:Xe)>>Ve))&(0|n)<(0|_e))){n=18;break A}if(!(-1<(0|i)&(0|i)<(0|Ne))){n=20;break A}if(ye=Qe+(3*((0|br(_e,i))+n|0)|0)+2|0,ye=1+(0|tr[Qe+(3*Ye|0)+2>>0])+(0|tr[ye>>0])>>1,n=Xe>>(i=0|ar[xA>>2]),i=Pe>>i,(0|n)<=-1){n=23;break A}if((0|(A=0|ar[PA>>2]))<=(0|n)){n=23;break A}if((0|i)<=-1){n=26;break A}if((0|i)>=(0|ar[LA>>2])){n=26;break A}je=(0|ar[KA>>2])+(24*((0|br(A,i))+n|0)|0)+2|0,je=0|ar[(0|ar[qA>>2])+(lr[je>>1]<<2)>>2],Ce=(0|ar[je+756>>2])+ye|0,Ce=cr[48154+((0|Ce)<0?0:(0|Ce)<51?Ce:51)>>0]<<$A,je=(We<<1&255)-2+ye+(0|ar[je+760>>2])|0,je=cr[48100+((0|je)<0?0:(0|je)<53?je:53)>>0]<<$A,Je=(0|(Je=(65535&(Te=0|or[Ae>>1]))-((65535&(Ue=0|or[ee>>1]))<<1)+(n=65535&(ye=0|or[me>>1]))|0))<0?0-Je|0:Je,Be=0|lr[fe>>1],De=(0|(De=(0|lr[re>>1])-(lr[ie>>1]<<1)+Be|0))<0?0-De|0:De,Me=(0|(Me=(65535&(Ie=0|or[ne>>1]))-((65535&(Oe=0|or[te>>1]))<<1)+(i=65535&(Se=0|or[ve>>1]))|0))<0?0-Me|0:Me,Ee=0|lr[ce>>1],A=Me+Je|0,Xe=(ze=(0|(ze=(0|lr[oe>>1])-(lr[ae>>1]<<1)+Ee|0))<0?0-ze|0:ze)+De|0,Je=De+Je|0,Me=ze+Me|0;e:do{if((Xe+A|0)<(0|Ce)){We=Ce>>2;do{if((A<<1|0)<(0|We)){if(ze=(0|lr[le>>1])-n|0,(Ce>>3|0)<=(((0|(De=i-(0|lr[ue>>1])|0))<0?0-De|0:De)+((0|ze)<0?0-ze|0:ze)|0)){i=0;break}i=(0|((0|(i=n-i|0))<0?0-i|0:i))<(1+(5*je|0)>>1|0)}else i=0}while(0);do{if((Xe<<1|0)<(0|We)){if(ze=(0|lr[be>>1])-Be|0,(Ce>>3|0)<=(((0|(De=Ee-(0|lr[se>>1])|0))<0?0-De|0:De)+((0|ze)<0?0-ze|0:ze)|0)){n=0;break}n=(0|((0|(n=Be-Ee|0))<0?0-n|0:n))<(1+(5*je|0)>>1|0)}else n=0}while(0);if(ze=i&n,Ee=(Ce>>1)+Ce>>3,A=(Be=0|tr[DA>>0])<<24>>24!=0,e){if(n=-1<(0|(i=Ge>>Ve)),A){if(!(n&(0|i)<(0|_e))){n=37;break A}A=(65535&(cr[(A=Qe+(3*(Fe+i|0)|0)|0)>>0]|cr[A+1>>0]<<8))>>>10&1^1}else{if(!n){n=41;break A}A=1}if((0|_e)<=(0|i)){n=41;break A}i=Qe+(3*(Fe+i|0)|0)|0,De=(n=Be<<24>>24?0==(1024&(cr[(n=Qe+(3*Ye|0)|0)>>0]|cr[n+1>>0]<<8)):1)&0==(2048&(cr[(De=Qe+(3*Ye|0)|0)>>0]|cr[De+1>>0]<<8)),Ne=A<<24>>24?0==(2048&(cr[i>>0]|cr[i+1>>0]<<8)):0}else{if(n=-1<(0|(i=Ke>>Ve)),A){if(!(n&(0|i)<(0|Ne))){n=47;break A}A=Qe+(3*((0|br(_e,i))+Re|0)|0)|0,A=0==(1024&(cr[A>>0]|cr[A+1>>0]<<8))}else{if(!n){n=51;break A}A=1}if((0|Ne)<=(0|i)){n=51;break A}i=Qe+(3*((0|br(_e,i))+Re|0)|0)|0,De=(n=Be<<24>>24?0==(1024&(cr[(n=Qe+(3*Ye|0)|0)>>0]|cr[n+1>>0]<<8)):1)&0==(2048&(cr[(De=Qe+(3*Ye|0)|0)>>0]|cr[De+1>>0]<<8)),Ne=A&0==(2048&(cr[i>>0]|cr[i+1>>0]<<8))}for(_e=je<<1,Ye=10*je|0,Qe=0-je|0,Re=(0|Ee)<=(0|Je)|1^Ne,Fe=(0|Ee)<=(0|Me)|1^De,Ve=0-(Ge=je>>1)|0,Ce=0,Xe=Te,Ee=Ue,i=Se,A=Oe;;){We=qe+($e+(0|br(P,Ce)))|0;do{if(ze){Se=0|or[ve+(Ce<<3)+6>>1],Me=65535&Ee,Ue=65535&A,Ee=(Te=65535&ye)+_e|0,Be=65535&((0|(Be=(A=4+(Te<<1)|0)+(Me<<1)+(Oe=65535&Xe)+(n=(i&=65535)<<1)+Ue>>3))<(0|(Je=Te-_e|0))?Je:(0|Ee)<(0|Be)?Ee:Be),Xe=Me+_e|0,Ee=65535&((0|(Ee=(Te+2+Me+Oe+i|0)>>>2))<(0|(Je=Me-_e|0))?Je:(0|Xe)<(0|Ee)?Xe:Ee),Xe=(Te+4+Me+(3*Oe|0)+i+(lr[me+(Ce<<3)+6>>1]<<1)|0)>>>3,Je=Oe-_e|0,Oe=Oe+_e|0,Xe=65535&((0|Xe)<(0|Je)?Je:(0|Oe)<(0|Xe)?Oe:Xe),n=A+Me+n+(Ue<<1)+(Oe=65535&Ie)>>3,A=i+_e|0,n=65535&((0|n)<(0|(Me=i-_e|0))?Me:(0|A)<(0|n)?A:n),or[ge>>1]=n,A=i+Te+Ue|0,Te=Ue-_e|0,Ue=Ue+_e|0,i=65535&((0|(i=(Oe+2+A|0)>>>2))<(0|Te)?Te:(0|Ue)<(0|i)?Ue:i),or[JA>>1]=i,A=(A+4+(3*Oe|0)+((65535&Se)<<1)|0)>>>3,Se=Oe-_e|0,Oe=Oe+_e|0,A=65535&((0|A)<(0|Se)?Se:(0|Oe)<(0|A)?Oe:A),or[MA>>1]=A;do{if(e){if(ye=0|br(Ce,de),!Ne){if(!De)break;or[We>>1]=0|or[ge>>1],or[We+2>>1]=0|or[2+ge>>1],or[We+4>>1]=0|or[4+ge>>1];break}if(or[Ar+(ye+-1<<1)>>1]=Be,De){or[Ar+(ye<<1)>>1]=n,or[Ar+(ye+-2<<1)>>1]=Ee,or[Ar+(ye+1<<1)>>1]=i,or[Ar+(ye+-3<<1)>>1]=Xe,or[Ar+(ye+2<<1)>>1]=A;break}or[Ar+(ye+-2<<1)>>1]=Ee,or[Ar+(ye+-3<<1)>>1]=Xe;break}if(!Ne){if(!De)break;or[Ar+(Ce<<1)>>1]=n,or[Ar+(de+Ce<<1)>>1]=i,or[Ar+(bA+Ce<<1)>>1]=A;break}if(or[Ar+(Ce-de<<1)>>1]=Be,De){or[Ar+(Ce<<1)>>1]=n,or[Ar+(Ce-aA<<1)>>1]=Ee,or[Ar+(de+Ce<<1)>>1]=i,or[Ar+(Ce+cA<<1)>>1]=Xe,or[Ar+(aA+Ce<<1)>>1]=A;break}or[Ar+(Ce-lA<<1)>>1]=Ee,or[Ar+(Ce+uA<<1)>>1]=Xe;break}while(0)}else{if((0|Ye)<=(0|((0|(n=8+(9*((Be=65535&i)-(ye&=65535)|0)|0)+(0|br((A&=65535)-(i=65535&Ee)|0,-3))>>4))<0?0-n|0:n)))break;n=(0|n)<(0|Qe)?Qe:(0|je)<(0|n)?je:n;do{if(e){if(Ne&&(Se=n+ye|0,Oe=Ar+((0|br(Ce,de))-1<<1)|0,or[Oe>>1]=(0|Se)<0?0:65535&((0|Se)<(0|H)?Se:x)),!De)break;Se=Be-n|0,Oe=Ar+((0|br(Ce,de))<<1)|0,or[Oe>>1]=(0|Se)<0?0:65535&((0|Se)<(0|H)?Se:x)}else{if(Ne&&(Oe=n+ye|0,or[Ar+(Ce-de<<1)>>1]=(0|Oe)<0?0:65535&((0|Oe)<(0|H)?Oe:x)),!De)break;Oe=Be-n|0,or[Ar+(Ce<<1)>>1]=(0|Oe)<0?0:65535&((0|Oe)<(0|H)?Oe:x)}}while(0);if(Re||(Se=((0|(Oe=(Se=n+(((ye+1+(65535&Xe)|0)>>>1)-i)|0)>>1))<(0|Ve)?Ve:((0|Ge)<(0|Oe)?je:Se)>>1)+i|0,Oe=(0|br(Ce,de))-2|0,or[Ar+((e?Oe:Ce-P|0)<<1)>>1]=(0|Se)<0?0:65535&((0|Se)<(0|H)?Se:x)),Fe)break;Se=((0|(Oe=(Se=((Be+1+(65535&Ie)|0)>>>1)-A-n|0)>>1))<(0|Ve)?Ve:((0|Ge)<(0|Oe)?je:Se)>>1)+A|0,Oe=0|br(e?Ce:1,de),or[Ar+(Oe+(e?1:Ce)<<1)>>1]=(0|Se)<0?0:65535&((0|Se)<(0|H)?Se:x)}}while(0);if(4==(0|(n=Ce+1|0)))break e;Xe=0|or[me+((Ce=n)<<3)+4>>1],Ee=0|or[me+(n<<3)+2>>1],ye=0|or[me+(n<<3)>>1],i=0|or[ve+(n<<3)>>1],A=0|or[ve+(n<<3)+2>>1],Ie=0|or[ve+(n<<3)+4>>1]}}}while(0)}He=He+Ze|0}while((0|He)<(0|nr))}if((0|fr)<=(0|(r=r+ke|0))){n=5;break}}switch(0|n){case 5:return void(ur=pe);case 13:sr(48482,48519,118,48539);break;case 16:sr(48543,48519,119,48539);break;case 18:sr(48482,48519,118,48539);break;case 20:sr(48543,48519,119,48539);break;case 23:sr(48482,48519,118,48539);break;case 26:sr(48543,48519,119,48539);break;case 37:case 41:sr(48482,48519,118,48539);break;case 47:case 51:sr(48543,48519,119,48539)}}}function Bt(A,e,r,i,f,n){r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j,H,x,P,L,K,q,$,AA,eA,rA,iA,fA,nA,tA,oA,aA,cA,lA,uA,bA,sA,dA,kA,hA,wA,vA,mA,gA,ZA,pA,yA,BA,EA,XA,WA,IA,CA,GA,VA,FA,RA,NA,_A,YA,QA,DA,JA,MA,TA,UA=0,SA=0,OA=0,zA=0,jA=0,HA=0,xA=0,PA=0,LA=0,KA=0,qA=0,$A=0,Ae=0,ee=0,re=0,ie=0,fe=0,ne=0,te=0,oe=0,ae=0,ce=0,le=0,ue=0,be=0,se=0,de=0,ke=0,he=0,we=0,ve=0,me=0,ge=0,Ze=0,pe=0,ye=0,Be=0,Ee=0,Xe=0,We=0,Ie=0;if(ur=(TA=ur)+48|0,QA=TA+24|0,DA=TA+8|0,JA=TA,MA=(e|=0)?2:1,NA=e?1:2,RA=0|ar[(_A=(A|=0)+40|0)>>2],UA=0|ar[A+5760>>2],Ie=(0|n)<(0|(Ie=0|ar[(YA=A+10472|0)>>2]))?n:Ie,(0|(We=(0|i)<(0|(We=0|ar[A+10476>>2]))?i:We))<=(0|r))ur=TA;else{tA=(0|f)<(0|Ie),oA=A+10460|0,aA=A+4|0,cA=A+10368|0,lA=A+10372|0,uA=A+10376|0,bA=A+10360|0,sA=A+10348|0,dA=A+10352|0,kA=A+10356|0,hA=A+10340|0,wA=A+48|0,vA=UA+-8|0,mA=2+DA|0,gA=1+DA|0,ZA=14+DA|0,pA=13+DA|0,yA=12+DA|0,BA=2+QA|0,EA=1+QA|0,XA=14+QA|0,WA=13+QA|0,IA=12+QA|0,CA=3+DA|0,GA=3+QA|0,VA=15+DA|0,FA=15+QA|0,iA=A+5480|0,fA=JA+1|0,nA=JA+2|0,L=255+(P=1<<UA)|0,pe=3*RA|0,q=ye=K=RA<<1,$=0|br(RA,-3),AA=RA<<1,eA=0|br(RA,-3),Be=rA=RA<<1,Ee=3*RA|0,Xe=RA<<2,a=e?-1:0-RA|0,t=e?1:RA,c=e?-2:0-Be|0,l=e?2:Be,u=e?-3:0-Ee|0,b=e?3:Ee,s=e?-4:0-Xe|0,o=e?RA:1,d=4+QA|0,k=e?RA-1|0:1-RA|0,S=4+DA|0,h=1+RA|0,w=5+QA|0,v=e?RA-2|0:1-Be|0,T=5+DA|0,m=e?2+RA|0:1|Be,g=6+QA|0,Z=e?RA-3|0:1-Ee|0,O=6+DA|0,p=e?3+RA|0:Ee+1|0,y=7+QA|0,B=e?RA-4|0:1-Xe|0,H=7+DA|0,E=e?ye:2,X=8+QA|0,W=e?ye+-1|0:2-RA|0,j=8+DA|0,I=e?1|ye:2+RA|0,C=9+QA|0,G=e?ye+-2|0:2-Be|0,U=9+DA|0,V=(e?ye:Be)+2|0,F=10+QA|0,R=e?ye+-3|0:2-Ee|0,z=10+DA|0,N=e?ye+3|0:Ee+2|0,_=11+QA|0,ye=e?ye+-4|0:2-Xe|0,x=11+DA|0,Y=e?pe:3,Q=e?pe+-1|0:3-RA|0,D=e?pe+1|0:3+RA|0,J=e?pe+-2|0:3-Be|0,Be=e?pe+2|0:Be+3|0,M=e?pe+-3|0:3-Ee|0,Ee=(e?pe:Ee)+3|0,Xe=e?pe+-4|0:3-Xe|0;A:for(;;){if(tA){ve=(0|(we=r<<2))/4|0,me=we+-1|0,he=e?we:me,ke=f;do{if(A=ke<<2,SA=(0|br(0|ar[YA>>2],ve))+((0|A)/4|0)|0,(SA=3&tr[(0|ar[oA>>2])+SA>>0])<<24>>24){if(pe=(ge=0|ar[aA>>2])+(Ze=(0|br(0|ar[_A>>2],we))+A|0)|0,tr[QA>>0]=0|tr[pe>>0],tr[DA>>0]=0|tr[pe+a>>0],tr[EA>>0]=0|tr[pe+t>>0],tr[gA>>0]=0|tr[pe+c>>0],tr[BA>>0]=0|tr[pe+l>>0],tr[mA>>0]=0|tr[pe+u>>0],tr[GA>>0]=0|tr[pe+b>>0],tr[CA>>0]=0|tr[pe+s>>0],tr[d>>0]=0|tr[pe+o>>0],tr[S>>0]=0|tr[pe+k>>0],tr[w>>0]=0|tr[pe+h>>0],tr[T>>0]=0|tr[pe+v>>0],tr[g>>0]=0|tr[pe+m>>0],tr[O>>0]=0|tr[pe+Z>>0],tr[y>>0]=0|tr[pe+p>>0],tr[H>>0]=0|tr[pe+B>>0],tr[X>>0]=0|tr[pe+E>>0],tr[j>>0]=0|tr[pe+W>>0],tr[C>>0]=0|tr[pe+I>>0],tr[U>>0]=0|tr[pe+G>>0],tr[F>>0]=0|tr[pe+V>>0],tr[z>>0]=0|tr[pe+R>>0],tr[_>>0]=0|tr[pe+N>>0],tr[x>>0]=0|tr[pe+ye>>0],KA=0|tr[pe+Y>>0],tr[IA>>0]=KA,zA=0|tr[pe+Q>>0],tr[yA>>0]=zA,qA=0|tr[pe+D>>0],tr[WA>>0]=qA,jA=0|tr[pe+J>>0],tr[pA>>0]=jA,$A=0|tr[pe+Be>>0],tr[XA>>0]=$A,HA=0|tr[pe+M>>0],tr[ZA>>0]=HA,re=0|tr[pe+Ee>>0],tr[FA>>0]=re,ee=0|tr[pe+Xe>>0],tr[VA>>0]=ee,n=we>>(fe=0|ar[cA>>2]),(0|(te=A>>fe))<=-1){n=10;break A}if((0|(ae=0|ar[lA>>2]))<=(0|te)){n=10;break A}if((0|n)<=-1){n=13;break A}if((0|(oe=0|ar[uA>>2]))<=(0|n)){n=13;break A}if(le=0|ar[bA>>2],ce=(ne=0|br(ae,n))+te|0,ie=A+-1|0,i=he>>fe,!(-1<(0|(n=(e?ie:A)>>fe))&(0|n)<(0|ae))){n=15;break A}if(!(-1<(0|i)&(0|i)<(0|oe))){n=17;break A}if(UA=le+(3*((0|br(ae,i))+n|0)|0)+2|0,UA=1+(0|tr[le+(3*ce|0)+2>>0])+(0|tr[UA>>0])>>1,n=A>>(i=0|ar[sA>>2]),i=we>>i,(0|n)<=-1){n=20;break A}if((0|(A=0|ar[dA>>2]))<=(0|n)){n=20;break A}if((0|i)<=-1){n=23;break A}if((0|i)>=(0|ar[kA>>2])){n=23;break A}de=(0|ar[hA>>2])+(24*((0|br(A,i))+n|0)|0)+2|0,de=0|ar[(0|ar[wA>>2])+(lr[de>>1]<<2)>>2],Ae=(0|ar[de+756>>2])+UA|0,Ae=cr[48154+((0|Ae)<0?0:(0|Ae)<51?Ae:51)>>0]<<vA,de=(SA<<1&255)-2+UA+(0|ar[de+760>>2])|0,de=cr[48100+((0|de)<0?0:(0|de)<53?de:53)>>0]<<vA,SA=(0|(SA=(255&(xA=0|tr[mA>>0]))-((255&(OA=0|tr[gA>>0]))<<1)+(PA=255&(UA=0|tr[DA>>0]))|0))<0?0-SA|0:SA,HA=(0|(HA=(255&HA)-((255&jA)<<1)+(LA=255&zA)|0))<0?0-HA|0:HA,n=(se=(0|(se=(255&(jA=0|tr[BA>>0]))-((255&(be=0|tr[EA>>0]))<<1)+(i=255&(ue=0|tr[QA>>0]))|0))<0?0-se|0:se)+SA|0,A=(KA=(0|(KA=(255&$A)-((255&qA)<<1)+(zA=255&KA)|0))<0?0-KA|0:KA)+HA|0,HA=HA+SA|0,KA=KA+se|0;e:do{if((A+n|0)<(0|Ae)){SA=Ae>>2;do{if((n<<1|0)<(0|SA)){if(se=(0|cr[CA>>0])-PA|0,(Ae>>3|0)<=(((0|($A=i-(0|cr[GA>>0])|0))<0?0-$A|0:$A)+((0|se)<0?0-se|0:se)|0)){i=0;break}i=(0|((0|(i=PA-i|0))<0?0-i|0:i))<(1+(5*de|0)>>1|0)}else i=0}while(0);do{if((A<<1|0)<(0|SA)){if((Ae>>3|0)<=(((0|(re=zA-(255&re)|0))<0?0-re|0:re)+((0|(se=(255&ee)-LA|0))<0?0-se|0:se)|0)){n=0;break}n=(0|((0|(n=LA-zA|0))<0?0-n|0:n))<(1+(5*de|0)>>1|0)}else n=0}while(0);if(se=i&n,zA=(Ae>>1)+Ae>>3,A=(SA=0|tr[iA>>0])<<24>>24!=0,e){if(n=-1<(0|(i=ie>>fe)),A){if(!(n&(0|i)<(0|ae))){n=34;break A}A=(65535&(cr[(A=le+(3*(ne+i|0)|0)|0)>>0]|cr[A+1>>0]<<8))>>>10&1^1}else{if(!n){n=38;break A}A=1}if((0|ae)<=(0|i)){n=38;break A}i=le+(3*(ne+i|0)|0)|0,fe=(n=SA<<24>>24?0==(1024&(cr[(n=le+(3*ce|0)|0)>>0]|cr[n+1>>0]<<8)):1)&0==(2048&(cr[(fe=le+(3*ce|0)|0)>>0]|cr[fe+1>>0]<<8)),Ae=A<<24>>24?0==(2048&(cr[i>>0]|cr[i+1>>0]<<8)):0}else{if(n=-1<(0|(i=me>>fe)),A){if(!(n&(0|i)<(0|oe))){n=44;break A}A=le+(3*((0|br(ae,i))+te|0)|0)|0,A=0==(1024&(cr[A>>0]|cr[A+1>>0]<<8))}else{if(!n){n=48;break A}A=1}if((0|oe)<=(0|i)){n=48;break A}i=le+(3*((0|br(ae,i))+te|0)|0)|0,fe=(n=SA<<24>>24?0==(1024&(cr[(n=le+(3*ce|0)|0)>>0]|cr[n+1>>0]<<8)):1)&0==(2048&(cr[(fe=le+(3*ce|0)|0)>>0]|cr[fe+1>>0]<<8)),Ae=A&0==(2048&(cr[i>>0]|cr[i+1>>0]<<8))}for(ee=de<<1,re=10*de|0,ie=0-de|0,$A=(0|zA)<=(0|HA)|1^Ae,qA=(0|zA)<=(0|KA)|1^fe,KA=0-(LA=de>>1)|0,PA=0,i=ue,A=be;;){zA=ge+(Ze+(HA=0|br(RA,PA)))|0;do{if(se){ue=0|tr[QA+(PA<<2)+3>>0],le=255&A,SA=(ce=255&UA)+ee|0,UA=255&((0|(UA=(A=4+(ce<<1)|0)+((ae=255&OA)<<1)+(be=255&xA)+(n=(i&=255)<<1)+le>>3))<(0|(oe=ce-ee|0))?oe:(0|SA)<(0|UA)?SA:UA),OA=ae+ee|0,SA=255&((0|(SA=(ce+2+ae+be+i|0)>>>2))<(0|(oe=ae-ee|0))?oe:(0|OA)<(0|SA)?OA:SA),OA=(ce+4+ae+(3*be|0)+i+(cr[DA+(PA<<2)+3>>0]<<1)|0)>>>3,oe=be-ee|0,be=be+ee|0,OA=255&((0|OA)<(0|oe)?oe:(0|be)<(0|OA)?be:OA),n=A+ae+n+(le<<1)+(be=255&jA)>>3,A=i+ee|0,n=255&((0|n)<(0|(ae=i-ee|0))?ae:(0|A)<(0|n)?A:n),tr[JA>>0]=n,A=i+ce+le|0,ce=le-ee|0,le=le+ee|0,i=255&((0|(i=(be+2+A|0)>>>2))<(0|ce)?ce:(0|le)<(0|i)?le:i),tr[fA>>0]=i,A=(A+4+(3*be|0)+((255&ue)<<1)|0)>>>3,ue=be-ee|0,be=be+ee|0,A=255&((0|A)<(0|ue)?ue:(0|be)<(0|A)?be:A),tr[nA>>0]=A;do{if(e){if(!Ae){if(!fe)break;tr[zA>>0]=0|tr[JA>>0],tr[zA+1>>0]=0|tr[JA+1>>0],tr[zA+2>>0]=0|tr[JA+2>>0];break}if(tr[pe+(HA+-1)>>0]=UA,fe){tr[pe+HA>>0]=n,tr[pe+(HA+-2)>>0]=SA,tr[pe+(HA+1)>>0]=i,tr[pe+(HA+-3)>>0]=OA,tr[pe+(HA+2)>>0]=A;break}tr[pe+(HA+-2)>>0]=SA,tr[pe+(HA+-3)>>0]=OA;break}if(!Ae){if(!fe)break;tr[pe+PA>>0]=n,tr[pe+(RA+PA)>>0]=i,tr[pe+(rA+PA)>>0]=A;break}if(tr[pe+(PA-RA)>>0]=UA,fe){tr[pe+PA>>0]=n,tr[pe+(PA-q)>>0]=SA,tr[pe+(RA+PA)>>0]=i,tr[pe+(PA+$)>>0]=OA,tr[pe+(q+PA)>>0]=A;break}tr[pe+(PA-AA)>>0]=SA,tr[pe+(PA+eA)>>0]=OA;break}while(0)}else{if((0|re)<=(0|((0|(n=8+(9*((SA=255&i)-(UA&=255)|0)|0)+(0|br((A&=255)-(i=255&OA)|0,-3))>>4))<0?0-n|0:n)))break;n=(0|n)<(0|ie)?ie:(0|de)<(0|n)?de:n;do{if(e){if(Ae&&(be=n+UA|0,tr[pe+(HA+-1)>>0]=(0|be)<0?0:255&((0|be)<(0|P)?be:L)),!fe)break;be=SA-n|0,tr[pe+HA>>0]=(0|be)<0?0:255&((0|be)<(0|P)?be:L)}else{if(Ae&&(be=n+UA|0,tr[pe+(PA-RA)>>0]=(0|be)<0?0:255&((0|be)<(0|P)?be:L)),!fe)break;be=SA-n|0,tr[pe+PA>>0]=(0|be)<0?0:255&((0|be)<(0|P)?be:L)}}while(0);if($A||(be=((0|(ue=(be=n+(((UA+1+(255&xA)|0)>>>1)-i)|0)>>1))<(0|KA)?KA:((0|LA)<(0|ue)?de:be)>>1)+i|0,tr[pe+(e?HA+-2|0:PA-K|0)>>0]=(0|be)<0?0:255&((0|be)<(0|P)?be:L)),qA)break;ue=((0|(be=(ue=((SA+1+(255&jA)|0)>>>1)-A-n|0)>>1))<(0|KA)?KA:((0|LA)<(0|be)?de:ue)>>1)+A|0,be=0|br(e?PA:1,RA),tr[pe+(be+(e?1:PA))>>0]=(0|ue)<0?0:255&((0|ue)<(0|P)?ue:L)}}while(0);if(4==(0|(n=PA+1|0)))break e;xA=0|tr[DA+((PA=n)<<2)+2>>0],OA=0|tr[DA+(n<<2)+1>>0],UA=0|tr[DA+(n<<2)>>0],i=0|tr[QA+(n<<2)>>0],A=0|tr[QA+(n<<2)+1>>0],jA=0|tr[QA+(n<<2)+2>>0]}}}while(0)}ke=ke+MA|0}while((0|ke)<(0|Ie))}if((0|We)<=(0|(r=r+NA|0))){n=5;break}}switch(0|n){case 5:return void(ur=TA);case 10:sr(48482,48519,118,48539);break;case 13:sr(48543,48519,119,48539);break;case 15:sr(48482,48519,118,48539);break;case 17:sr(48543,48519,119,48539);break;case 20:sr(48482,48519,118,48539);break;case 23:sr(48543,48519,119,48539);break;case 34:case 38:sr(48482,48519,118,48539);break;case 44:case 48:sr(48543,48519,119,48539)}}}function Et(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j,H,x,P,L,K,q,$,AA,eA,rA,iA,fA,nA,tA,oA,aA,cA,lA,uA,bA,sA,dA,kA,hA,wA,vA,mA,gA,ZA,pA,yA,BA,EA,XA,WA,IA,CA,GA,VA,FA,RA,NA,_A,YA,QA,DA,JA,MA,TA=0,UA=0,SA=0,OA=0,zA=0,jA=0,HA=0,xA=0,PA=0,LA=0,KA=0,qA=0,$A=0,Ae=0,ee=0,re=0,ie=0,fe=0,ne=0,te=0,oe=0,ae=0,ce=0,le=0,ue=0;if(ur=(MA=ur)+32|0,QA=MA+16|0,DA=MA,JA=0|ar[(A|=0)+5780>>2],FA=0|ar[A+5784>>2],RA=0|br(JA,e?2:1),NA=0|br(FA,e?1:2),VA=0|ar[(_A=A+44|0)>>2],ue=(0|n)<(0|(ue=0|ar[(YA=A+10472|0)>>2]))?n:ue,s=A+5768|0,(0|(le=(0|i)<(0|(le=0|ar[A+10476>>2]))?i:le))<=(0|r))ur=MA;else{d=(0|f)<(0|ue),k=3-JA|0,h=3-FA|0,w=A+10460|0,v=A+5956|0,m=A+5952|0,g=A+10368|0,Z=A+10372|0,p=A+10376|0,y=A+10360|0,B=A+5776|0,E=A+10348|0,X=A+10352|0,W=A+10356|0,I=A+10340|0,C=A+48|0,G=A+5480|0,F=65535+(V=1<<ar[s>>2])|0,R=VA<<1,N=0|br(VA,-2),Y=VA-1|0,J=(Q=VA<<1)-1|0,U=(M=3*VA|0)-1|0,O=1+VA|0,j=VA-2|0,H=1|Q,P=Q-2|0,L=1+M|0,q=M-2|0,cA=VA<<1,dA=3*VA|0,wA=eA=_=DA+2|0,vA=rA=t=2+QA|0,mA=iA=o=10+QA|0,gA=fA=z=DA+10|0,ZA=nA=D=DA+4|0,pA=tA=c=4+QA|0,yA=oA=l=12+QA|0,BA=aA=x=DA+12|0,EA=lA=T=DA+6|0,XA=uA=u=6+QA|0,WA=bA=b=14+QA|0,IA=sA=K=DA+14|0,GA=kA=$=a=8+QA|0,CA=hA=AA=S=DA+8|0;A:for(;;){if(d){ae=(0|(oe=0|br(te=r<<h,FA)))/4|0,ce=oe+-1|0,re=e?oe:ce,Ae=f;do{if(fe=0|br(ie=Ae<<k,JA),n=(0|br(0|ar[YA>>2],ae))+((0|fe)/4|0)|0,1<(255&(n=3&tr[(0|ar[w>>2])+n>>0]))){ne=fe+-1|0,ee=e?ne:fe,qA=(n<<1&255)-2|0,KA=0;do{if(TA=0|ar[(0==(0|KA)?m:v)>>2],$A=(n=0|ar[A+4+((KA=KA+1|0)<<2)>>2])+(i=(0|br(0|ar[_A>>2],te))+ie<<1)|0,e?(or[DA>>1]=0|or[$A>>1],or[QA>>1]=0|or[$A+-2>>1],or[_>>1]=0|or[$A+(VA<<1)>>1],or[t>>1]=0|or[$A+(Y<<1)>>1],or[D>>1]=0|or[$A+(Q<<1)>>1],or[c>>1]=0|or[$A+(J<<1)>>1],or[T>>1]=0|or[$A+(M<<1)>>1],or[u>>1]=0|or[$A+(U<<1)>>1],or[S>>1]=0|or[$A+2>>1],or[a>>1]=0|or[$A+-4>>1],or[z>>1]=0|or[$A+(O<<1)>>1],or[o>>1]=0|or[$A+(j<<1)>>1],or[x>>1]=0|or[$A+(H<<1)>>1],or[l>>1]=0|or[$A+(P<<1)>>1],or[K>>1]=0|or[$A+(L<<1)>>1],or[b>>1]=0|or[$A+(q<<1)>>1]):(PA=N+i|0,xA=lr[(xA=(LA=xA=$A)+4|0)>>1]|lr[xA+2>>1]<<16,ar[(HA=DA)>>2]=lr[LA>>1]|lr[LA+2>>1]<<16,ar[HA+4>>2]=xA,HA=lr[(HA=(xA=HA=n+PA|0)+4|0)>>1]|lr[HA+2>>1]<<16,ar[(LA=QA)>>2]=lr[xA>>1]|lr[xA+2>>1]<<16,ar[LA+4>>2]=HA,LA=lr[(LA=(HA=LA=n+(i+R)|0)+4|0)>>1]|lr[LA+2>>1]<<16,ar[(xA=CA)>>2]=lr[HA>>1]|lr[HA+2>>1]<<16,ar[xA+4>>2]=LA,PA=lr[(PA=(xA=PA=n+(PA+N)|0)+4|0)>>1]|lr[PA+2>>1]<<16,ar[(LA=GA)>>2]=lr[xA>>1]|lr[xA+2>>1]<<16,ar[LA+4>>2]=PA),n=oe>>(SA=0|ar[g>>2]),(0|(zA=fe>>SA))<=-1){n=14;break A}if((0|(HA=0|ar[Z>>2]))<=(0|zA)){n=14;break A}if((0|n)<=-1){n=17;break A}if((0|(jA=0|ar[p>>2]))<=(0|n)){n=17;break A}if(PA=0|ar[y>>2],xA=(OA=0|br(HA,n))+zA|0,i=re>>SA,!(-1<(0|(n=ee>>SA))&(0|n)<(0|HA))){n=19;break A}if(!(-1<(0|i)&(0|i)<(0|jA))){n=21;break A}n=PA+(3*((0|br(HA,i))+n|0)|0)+2|0,n=(1+(0|tr[PA+(3*xA|0)+2>>0])+(0|tr[n>>0])>>1)+TA|0;do{if(1==(0|ar[B>>2])){if(30<=(0|n)){if(42<(0|n)){n=n+-6|0;break}n=0|ar[8020+(n+-30<<2)>>2];break}}else n=(0|n)<51?n:51}while(0);if(i=fe>>(TA=0|ar[E>>2]),TA=oe>>TA,(0|i)<=-1){n=30;break A}if((0|(UA=0|ar[X>>2]))<=(0|i)){n=30;break A}if((0|TA)<=-1){n=33;break A}if((0|TA)>=(0|ar[W>>2])){n=33;break A}LA=(0|ar[I>>2])+(24*((0|br(UA,TA))+i|0)|0)+2|0,LA=qA+n+(0|ar[760+(0|ar[(0|ar[C>>2])+(lr[LA>>1]<<2)>>2])>>2])|0,LA=cr[48100+((0|LA)<0?0:(0|LA)<53?LA:53)>>0]<<(0|ar[s>>2])-8,UA=0==(0|tr[G>>0]);e:do{if(e){if(n=-1<(0|(i=ne>>SA)),UA){if(!n){n=41;break A}TA=1}else{if(!(n&(0|i)<(0|HA))){n=37;break A}TA=0==(1024&(cr[(TA=PA+(3*(OA+i|0)|0)|0)>>0]|cr[TA+1>>0]<<8))}if((0|HA)<=(0|i)){n=41;break A}if(i=PA+(3*(OA+i|0)|0)|0,SA=(n=UA?1:0==(1024&(cr[(n=PA+(3*xA|0)|0)>>0]|cr[n+1>>0]<<8)))&0==(2048&(cr[(SA=PA+(3*xA|0)|0)>>0]|cr[SA+1>>0]<<8)),OA=0-LA|0,TA&0==(2048&(cr[i>>0]|cr[i+1>>0]<<8)))for(n=0;;)if(i=DA+(n<<1)|0,PA=0|lr[QA+(n<<1)>>1],PA=(TA=(0|(TA=4+(0|lr[8+QA+(n<<1)>>1])+((0|lr[i>>1])-PA<<2)-(0|lr[DA+8+(n<<1)>>1])>>3))<(0|OA)?OA:(0|LA)<(0|TA)?LA:TA)+PA|0,UA=0|br(n,VA),or[$A+(UA+-1<<1)>>1]=(0|PA)<0?0:65535&((0|PA)<(0|V)?PA:F),SA&&(PA=(0|lr[i>>1])-TA|0,or[$A+(UA<<1)>>1]=(0|PA)<0?0:65535&((0|PA)<(0|V)?PA:F)),4==(0|(n=n+1|0)))break e;if(n=0|lr[DA>>1],i=4+(0|lr[$>>1])+(n-(0|lr[QA>>1])<<2)-(0|lr[AA>>1])>>3,SA&&(PA=n-((0|i)<(0|OA)?OA:(0|LA)<(0|i)?LA:i)|0,or[$A>>1]=(0|PA)<0?0:65535&((0|PA)<(0|V)?PA:F)),n=0|lr[eA>>1],i=4+(0|lr[iA>>1])+(n-(0|lr[rA>>1])<<2)-(0|lr[fA>>1])>>3,SA&&(PA=n-((0|i)<(0|OA)?OA:(0|LA)<(0|i)?LA:i)|0,or[$A+(VA<<1)>>1]=(0|PA)<0?0:65535&((0|PA)<(0|V)?PA:F)),n=0|lr[nA>>1],i=4+(0|lr[oA>>1])+(n-(0|lr[tA>>1])<<2)-(0|lr[aA>>1])>>3,SA&&(PA=n-((0|i)<(0|OA)?OA:(0|LA)<(0|i)?LA:i)|0,or[$A+(cA<<1)>>1]=(0|PA)<0?0:65535&((0|PA)<(0|V)?PA:F)),n=0|lr[lA>>1],i=4+(0|lr[bA>>1])+(n-(0|lr[uA>>1])<<2)-(0|lr[sA>>1])>>3,!SA)break;LA=n-((0|i)<(0|OA)?OA:(0|LA)<(0|i)?LA:i)|0,or[$A+(dA<<1)>>1]=(0|LA)<0?0:65535&((0|LA)<(0|V)?LA:F)}else{if(n=-1<(0|(i=ce>>SA)),UA){if(!n){n=57;break A}TA=1}else{if(!(n&(0|i)<(0|jA))){n=53;break A}TA=PA+(3*((0|br(HA,i))+zA|0)|0)|0,TA=0==(1024&(cr[TA>>0]|cr[TA+1>>0]<<8))}if((0|jA)<=(0|i)){n=57;break A}if(i=PA+(3*((0|br(HA,i))+zA|0)|0)|0,UA=(n=UA?1:0==(1024&(cr[(n=PA+(3*xA|0)|0)>>0]|cr[n+1>>0]<<8)))&0==(2048&(cr[(UA=PA+(3*xA|0)|0)>>0]|cr[UA+1>>0]<<8)),SA=0-LA|0,!(TA&0==(2048&(cr[i>>0]|cr[i+1>>0]<<8)))){if(!UA)break;xA=(PA=0|lr[DA>>1])-((0|(xA=4+(0|lr[kA>>1])+(PA-(0|lr[QA>>1])<<2)-(0|lr[hA>>1])>>3))<(0|SA)?SA:(0|LA)<(0|xA)?LA:xA)|0,or[$A>>1]=(0|xA)<0?0:65535&((0|xA)<(0|V)?xA:F),PA=(xA=0|lr[wA>>1])-((0|(PA=4+(0|lr[mA>>1])+(xA-(0|lr[vA>>1])<<2)-(0|lr[gA>>1])>>3))<(0|SA)?SA:(0|LA)<(0|PA)?LA:PA)|0,or[$A+2>>1]=(0|PA)<0?0:65535&((0|PA)<(0|V)?PA:F),xA=(PA=0|lr[ZA>>1])-((0|(xA=4+(0|lr[yA>>1])+(PA-(0|lr[pA>>1])<<2)-(0|lr[BA>>1])>>3))<(0|SA)?SA:(0|LA)<(0|xA)?LA:xA)|0,or[$A+4>>1]=(0|xA)<0?0:65535&((0|xA)<(0|V)?xA:F),LA=(xA=0|lr[EA>>1])-((0|(PA=4+(0|lr[WA>>1])+(xA-(0|lr[XA>>1])<<2)-(0|lr[IA>>1])>>3))<(0|SA)?SA:(0|LA)<(0|PA)?LA:PA)|0,or[$A+6>>1]=(0|LA)<0?0:65535&((0|LA)<(0|V)?LA:F);break}for(n=0;i=DA+(n<<1)|0,PA=0|lr[QA+(n<<1)>>1],PA=(TA=(0|(TA=4+(0|lr[8+QA+(n<<1)>>1])+((0|lr[i>>1])-PA<<2)-(0|lr[DA+8+(n<<1)>>1])>>3))<(0|SA)?SA:(0|LA)<(0|TA)?LA:TA)+PA|0,or[$A+(n-VA<<1)>>1]=(0|PA)<0?0:65535&((0|PA)<(0|V)?PA:F),UA&&(PA=(0|lr[i>>1])-TA|0,or[$A+(n<<1)>>1]=(0|PA)<0?0:65535&((0|PA)<(0|V)?PA:F)),4!=(0|(n=n+1|0)););}}while(0)}while((0|KA)<2)}Ae=Ae+RA|0}while((0|Ae)<(0|ue))}if((0|le)<=(0|(r=r+NA|0))){n=5;break}}switch(0|n){case 5:return void(ur=MA);case 14:sr(48482,48519,118,48539);break;case 17:sr(48543,48519,119,48539);break;case 19:sr(48482,48519,118,48539);break;case 21:sr(48543,48519,119,48539);break;case 30:sr(48482,48519,118,48539);break;case 33:sr(48543,48519,119,48539);break;case 37:case 41:sr(48482,48519,118,48539);break;case 53:case 57:sr(48543,48519,119,48539)}}}function Xt(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j,H,x,P,L,K,q,$,AA,eA,rA,iA,fA,nA,tA,oA,aA,cA,lA,uA,bA,sA,dA,kA,hA,wA,vA,mA,gA,ZA,pA,yA,BA,EA,XA,WA,IA,CA,GA,VA,FA,RA,NA,_A,YA,QA,DA,JA,MA,TA,UA,SA,OA,zA,jA,HA,xA,PA,LA,KA,qA,$A,Ae,ee,re,ie,fe,ne,te,oe,ae,ce,le,ue,be,se,de,ke,he,we,ve,me,ge,Ze,pe=0,ye=0,Be=0,Ee=0,Xe=0,We=0,Ie=0,Ce=0,Ge=0,Ve=0,Fe=0,Re=0,Ne=0,_e=0,Ye=0,Qe=0,De=0,Je=0,Me=0,Te=0,Ue=0,Se=0,Oe=0,ze=0,je=0,He=0;if(ur=(Ze=ur)+16|0,ve=Ze+8|0,me=Ze,ge=0|ar[(A|=0)+5780>>2],se=0|ar[A+5784>>2],de=0|br(ge,e?2:1),ke=0|br(se,e?1:2),be=0|ar[(he=A+44|0)>>2],He=(0|n)<(0|(He=0|ar[(we=A+10472|0)>>2]))?n:He,O=A+5768|0,(0|(je=(0|i)<(0|(je=0|ar[A+10476>>2]))?i:je))<=(0|r))ur=Ze;else{z=(0|f)<(0|He),j=3-ge|0,H=3-se|0,x=A+10460|0,P=A+5956|0,L=A+5952|0,K=A+10368|0,q=A+10372|0,$=A+10376|0,AA=A+10360|0,eA=A+5776|0,rA=A+10348|0,iA=A+10352|0,fA=A+10356|0,nA=A+10340|0,tA=A+48|0,oA=A+5480|0,cA=255+(aA=1<<ar[O>>2])|0,lA=0-be|0,kA=(sA=be<<1)-1|0,vA=(hA=3*be|0)-1|0,gA=1+be|0,pA=be-2|0,yA=1|sA,EA=sA-2|0,XA=1+hA|0,IA=hA-2|0,_A=bA=be-1|0,TA=(MA=be<<1)-1|0,HA=(jA=3*be|0)-1|0,fe=be<<1,ce=3*be|0,m=1-be|0,B=2-be|0,C=3-be|0,F=k=LA=VA=uA=me+1|0,R=h=KA=FA=t=1+ve|0,N=w=qA=RA=o=5+ve|0,_=v=$A=NA=ZA=me+5|0,Y=g=Ae=YA=dA=me+2|0,Q=Z=ee=QA=c=2+ve|0,D=p=re=DA=l=6+ve|0,J=y=ie=JA=BA=me+6|0,M=E=ne=UA=wA=me+3|0,T=X=te=SA=u=3+ve|0,U=W=oe=OA=b=7+ve|0,S=I=ae=zA=WA=me+7|0,ue=G=s=xA=CA=a=4+ve|0,le=V=d=PA=GA=mA=me+4|0;A:for(;;){if(z){Te=(0|(Me=0|br(Je=r<<H,se)))/4|0,Ue=Me+-1|0,De=e?Me:Ue,Ye=f;do{if(Oe=0|br(Se=Ye<<j,ge),n=(0|br(0|ar[we>>2],Te))+((0|Oe)/4|0)|0,1<(255&(n=3&tr[(0|ar[x>>2])+n>>0]))){ze=Oe+-1|0,Qe=e?ze:Oe,Re=(n<<1&255)-2|0,Ne=Se-be|0,Fe=0;do{if(ye=0|ar[(0==(0|Fe)?L:P)>>2],_e=(n=0|ar[A+4+((Fe=Fe+1|0)<<2)>>2])+(pe=(i=0|br(0|ar[he>>2],Je))+Se|0)|0,e?(tr[me>>0]=0|tr[_e>>0],tr[ve>>0]=0|tr[_e+-1>>0],tr[uA>>0]=0|tr[_e+be>>0],tr[t>>0]=0|tr[_e+bA>>0],tr[dA>>0]=0|tr[_e+sA>>0],tr[c>>0]=0|tr[_e+kA>>0],tr[wA>>0]=0|tr[_e+hA>>0],tr[u>>0]=0|tr[_e+vA>>0],tr[mA>>0]=0|tr[_e+1>>0],tr[a>>0]=0|tr[_e+-2>>0],tr[ZA>>0]=0|tr[_e+gA>>0],tr[o>>0]=0|tr[_e+pA>>0],tr[BA>>0]=0|tr[_e+yA>>0],tr[l>>0]=0|tr[_e+EA>>0],tr[WA>>0]=0|tr[_e+XA>>0],tr[b>>0]=0|tr[_e+IA>>0]):(Ge=n+(Ve=Ne+i|0)|0,ar[me>>2]=cr[_e>>0]|cr[_e+1>>0]<<8|cr[_e+2>>0]<<16|cr[_e+3>>0]<<24,ar[ve>>2]=cr[Ge>>0]|cr[Ge+1>>0]<<8|cr[Ge+2>>0]<<16|cr[Ge+3>>0]<<24,Ve=n+(Ve-be)|0,Ge=n+(pe+be)|0,ar[le>>2]=cr[Ge>>0]|cr[Ge+1>>0]<<8|cr[Ge+2>>0]<<16|cr[Ge+3>>0]<<24,ar[ue>>2]=cr[Ve>>0]|cr[Ve+1>>0]<<8|cr[Ve+2>>0]<<16|cr[Ve+3>>0]<<24),n=Me>>(Be=0|ar[K>>2]),(0|(Xe=Oe>>Be))<=-1){n=14;break A}if((0|(Ie=0|ar[q>>2]))<=(0|Xe)){n=14;break A}if((0|n)<=-1){n=17;break A}if((0|(We=0|ar[$>>2]))<=(0|n)){n=17;break A}if(Ge=0|ar[AA>>2],Ce=(Ee=0|br(Ie,n))+Xe|0,i=De>>Be,!(-1<(0|(n=Qe>>Be))&(0|n)<(0|Ie))){n=19;break A}if(!(-1<(0|i)&(0|i)<(0|We))){n=21;break A}n=Ge+(3*((0|br(Ie,i))+n|0)|0)+2|0,n=(1+(0|tr[Ge+(3*Ce|0)+2>>0])+(0|tr[n>>0])>>1)+ye|0;do{if(1==(0|ar[eA>>2])){if(30<=(0|n)){if(42<(0|n)){n=n+-6|0;break}n=0|ar[8020+(n+-30<<2)>>2];break}}else n=(0|n)<51?n:51}while(0);if(i=Oe>>(pe=0|ar[rA>>2]),pe=Me>>pe,(0|i)<=-1){n=30;break A}if((0|(ye=0|ar[iA>>2]))<=(0|i)){n=30;break A}if((0|pe)<=-1){n=33;break A}if((0|pe)>=(0|ar[fA>>2])){n=33;break A}Ve=(0|ar[nA>>2])+(24*((0|br(ye,pe))+i|0)|0)+2|0,Ve=Re+n+(0|ar[760+(0|ar[(0|ar[tA>>2])+(lr[Ve>>1]<<2)>>2])>>2])|0,Ve=cr[48100+((0|Ve)<0?0:(0|Ve)<53?Ve:53)>>0]<<(0|ar[O>>2])-8,pe=0==(0|tr[oA>>0]);do{if(e){if(n=-1<(0|(i=ze>>Be)),pe){if(!n){n=41;break A}Be=1}else{if(!(n&(0|i)<(0|Ie))){n=37;break A}Be=0==(1024&(cr[(Be=Ge+(3*(Ee+i|0)|0)|0)>>0]|cr[Be+1>>0]<<8))}if((0|Ie)<=(0|i)){n=41;break A}if(ye=Ge+(3*(Ee+i|0)|0)|0,pe=(n=pe?1:0==(1024&(cr[(n=Ge+(3*Ce|0)|0)>>0]|cr[n+1>>0]<<8)))&0==(2048&(cr[(pe=Ge+(3*Ce|0)|0)>>0]|cr[pe+1>>0]<<8)),i=0-Ve|0,!(Be&0==(2048&(cr[ye>>0]|cr[ye+1>>0]<<8)))){if(!pe)break;Ce=(Ge=0|cr[me>>0])-((0|(Ce=4+(0|cr[xA>>0])+(Ge-(0|cr[ve>>0])<<2)-(0|cr[PA>>0])>>3))<(0|i)?i:(0|Ve)<(0|Ce)?Ve:Ce)|0,tr[_e>>0]=(0|Ce)<0?0:255&((0|Ce)<(0|aA)?Ce:cA),Ge=(Ce=0|cr[LA>>0])-((0|(Ge=4+(0|cr[qA>>0])+(Ce-(0|cr[KA>>0])<<2)-(0|cr[$A>>0])>>3))<(0|i)?i:(0|Ve)<(0|Ge)?Ve:Ge)|0,tr[_e+be>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA),Ce=(Ge=0|cr[Ae>>0])-((0|(Ce=4+(0|cr[re>>0])+(Ge-(0|cr[ee>>0])<<2)-(0|cr[ie>>0])>>3))<(0|i)?i:(0|Ve)<(0|Ce)?Ve:Ce)|0,tr[_e+fe>>0]=(0|Ce)<0?0:255&((0|Ce)<(0|aA)?Ce:cA),Ve=(Ce=0|cr[ne>>0])-((0|(Ge=4+(0|cr[oe>>0])+(Ce-(0|cr[te>>0])<<2)-(0|cr[ae>>0])>>3))<(0|i)?i:(0|Ve)<(0|Ge)?Ve:Ge)|0,tr[_e+ce>>0]=(0|Ve)<0?0:255&((0|Ve)<(0|aA)?Ve:cA);break}if(Ge=0|cr[ve>>0],Ge=(n=(0|(n=4+(0|cr[CA>>0])+((0|cr[me>>0])-Ge<<2)-(0|cr[GA>>0])>>3))<(0|i)?i:(0|Ve)<(0|n)?Ve:n)+Ge|0,tr[_e+-1>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA),pe&&(Ge=(0|cr[me>>0])-n|0,tr[_e>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA)),Ge=0|cr[FA>>0],Ge=(n=(0|(n=4+(0|cr[RA>>0])+((0|cr[VA>>0])-Ge<<2)-(0|cr[NA>>0])>>3))<(0|i)?i:(0|Ve)<(0|n)?Ve:n)+Ge|0,tr[_e+_A>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA),pe&&(Ge=(0|cr[VA>>0])-n|0,tr[_e+be>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA)),Ge=0|cr[QA>>0],Ge=(n=(0|(n=4+(0|cr[DA>>0])+((0|cr[YA>>0])-Ge<<2)-(0|cr[JA>>0])>>3))<(0|i)?i:(0|Ve)<(0|n)?Ve:n)+Ge|0,tr[_e+TA>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA),pe&&(Ge=(0|cr[YA>>0])-n|0,tr[_e+MA>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA)),Ge=0|cr[SA>>0],Ve=(n=(0|(n=4+(0|cr[OA>>0])+((0|cr[UA>>0])-Ge<<2)-(0|cr[zA>>0])>>3))<(0|i)?i:(0|Ve)<(0|n)?Ve:n)+Ge|0,tr[_e+HA>>0]=(0|Ve)<0?0:255&((0|Ve)<(0|aA)?Ve:cA),!pe)break;Ve=(0|cr[UA>>0])-n|0,tr[_e+jA>>0]=(0|Ve)<0?0:255&((0|Ve)<(0|aA)?Ve:cA)}else{if(n=-1<(0|(i=Ue>>Be)),pe){if(!n){n=56;break A}Be=1}else{if(!(n&(0|i)<(0|We))){n=52;break A}Be=Ge+(3*((0|br(Ie,i))+Xe|0)|0)|0,Be=0==(1024&(cr[Be>>0]|cr[Be+1>>0]<<8))}if((0|We)<=(0|i)){n=56;break A}if(ye=Ge+(3*((0|br(Ie,i))+Xe|0)|0)|0,pe=(n=pe?1:0==(1024&(cr[(n=Ge+(3*Ce|0)|0)>>0]|cr[n+1>>0]<<8)))&0==(2048&(cr[(pe=Ge+(3*Ce|0)|0)>>0]|cr[pe+1>>0]<<8)),i=0-Ve|0,!(Be&0==(2048&(cr[ye>>0]|cr[ye+1>>0]<<8)))){if(!pe)break;Ce=(Ge=0|cr[me>>0])-((0|(Ce=4+(0|cr[G>>0])+(Ge-(0|cr[ve>>0])<<2)-(0|cr[V>>0])>>3))<(0|i)?i:(0|Ve)<(0|Ce)?Ve:Ce)|0,tr[_e>>0]=(0|Ce)<0?0:255&((0|Ce)<(0|aA)?Ce:cA),Ge=(Ce=0|cr[F>>0])-((0|(Ge=4+(0|cr[N>>0])+(Ce-(0|cr[R>>0])<<2)-(0|cr[_>>0])>>3))<(0|i)?i:(0|Ve)<(0|Ge)?Ve:Ge)|0,tr[_e+1>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA),Ce=(Ge=0|cr[Y>>0])-((0|(Ce=4+(0|cr[D>>0])+(Ge-(0|cr[Q>>0])<<2)-(0|cr[J>>0])>>3))<(0|i)?i:(0|Ve)<(0|Ce)?Ve:Ce)|0,tr[_e+2>>0]=(0|Ce)<0?0:255&((0|Ce)<(0|aA)?Ce:cA),Ve=(Ce=0|cr[M>>0])-((0|(Ge=4+(0|cr[U>>0])+(Ce-(0|cr[T>>0])<<2)-(0|cr[S>>0])>>3))<(0|i)?i:(0|Ve)<(0|Ge)?Ve:Ge)|0,tr[_e+3>>0]=(0|Ve)<0?0:255&((0|Ve)<(0|aA)?Ve:cA);break}if(Ge=0|cr[ve>>0],Ge=(n=(0|(n=4+(0|cr[s>>0])+((0|cr[me>>0])-Ge<<2)-(0|cr[d>>0])>>3))<(0|i)?i:(0|Ve)<(0|n)?Ve:n)+Ge|0,tr[_e+lA>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA),pe&&(Ge=(0|cr[me>>0])-n|0,tr[_e>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA)),Ge=0|cr[h>>0],Ge=(n=(0|(n=4+(0|cr[w>>0])+((0|cr[k>>0])-Ge<<2)-(0|cr[v>>0])>>3))<(0|i)?i:(0|Ve)<(0|n)?Ve:n)+Ge|0,tr[_e+m>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA),pe&&(Ge=(0|cr[k>>0])-n|0,tr[_e+1>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA)),Ge=0|cr[Z>>0],Ge=(n=(0|(n=4+(0|cr[p>>0])+((0|cr[g>>0])-Ge<<2)-(0|cr[y>>0])>>3))<(0|i)?i:(0|Ve)<(0|n)?Ve:n)+Ge|0,tr[_e+B>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA),pe&&(Ge=(0|cr[g>>0])-n|0,tr[_e+2>>0]=(0|Ge)<0?0:255&((0|Ge)<(0|aA)?Ge:cA)),Ge=0|cr[X>>0],Ve=(n=(0|(n=4+(0|cr[W>>0])+((0|cr[E>>0])-Ge<<2)-(0|cr[I>>0])>>3))<(0|i)?i:(0|Ve)<(0|n)?Ve:n)+Ge|0,tr[_e+C>>0]=(0|Ve)<0?0:255&((0|Ve)<(0|aA)?Ve:cA),!pe)break;Ve=(0|cr[E>>0])-n|0,tr[_e+3>>0]=(0|Ve)<0?0:255&((0|Ve)<(0|aA)?Ve:cA)}}while(0)}while((0|Fe)<2)}Ye=Ye+de|0}while((0|Ye)<(0|He))}if((0|je)<=(0|(r=r+ke|0))){n=5;break}}switch(0|n){case 5:return void(ur=Ze);case 14:sr(48482,48519,118,48539);break;case 17:sr(48543,48519,119,48539);break;case 19:sr(48482,48519,118,48539);break;case 21:sr(48543,48519,119,48539);break;case 30:sr(48482,48519,118,48539);break;case 33:sr(48543,48519,119,48539);break;case 37:case 41:sr(48482,48519,118,48539);break;case 52:case 56:sr(48543,48519,119,48539)}}}function Wt(A,e,r,i,f,n,t){r|=0,i|=0,f|=0,n|=0,t|=0;var o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0;for((0|(l=(e|=0)>>(u=0|ar[(d=(A|=0)+10448|0)>>2])))<=-1&&sr(48482,48519,118,48539),o=A+10452|0,a=A+10456|0,c=A+10440|0,v=e,b=i,s=n,h=t,i=(w=r)>>u;;){if((0|(e=0|ar[o>>2]))<=(0|l)){e=4;break}if((0|i)<=-1){e=7;break}if((0|i)>=(0|ar[a>>2])){e=7;break}if(u=(0|ar[c>>2])+((0|br(e,i))+l)|0,k=1<<b,!((0|cr[u>>0])&1<<f)){e=9;break}if(i=(n=k>>1)+v|0,n=n+w|0,Wt(A,v,w,e=b+-1|0,f=f+1|0,s,h),Wt(A,i,w,e,f,16,h),Wt(A,v,n,e,f,s,32),(0|(l=i>>(t=0|ar[d>>2])))<=-1){e=4;break}v=i,b=e,s=16,h=32,i=(w=n)>>t}if(4==(0|e))sr(48482,48519,118,48539);else if(7==(0|e))sr(48543,48519,119,48539);else if(9==(0|e)){if(b=31==(0|b))return;for(i=255&s,f=(0|v)/4|0,n=A+10472|0,t=A+10476|0,l=A+10460|0,e=0;r=(e+w|0)/4|0,(0|f)<(0|(u=0|ar[n>>2]))&&(0|r)<(0|ar[t>>2])&&(d=(0|br(u,r))+f|0,d=(0|ar[l>>2])+d|0,tr[d>>0]=tr[d>>0]|i),(0|(e=e+4|0))<(0|k););if(b)return;for(u=255&h,t=(0|w)/4|0,l=A+10472|0,r=A+10476|0,i=A+10460|0,e=0;(0|(f=(e+v|0)/4|0))<(0|(n=0|ar[l>>2]))&&(0|t)<(0|ar[r>>2])&&(A=(0|br(n,t))+f|0,A=(0|ar[i>>2])+A|0,tr[A>>0]=tr[A>>0]|u),(0|(e=e+4|0))<(0|k););return}}function It(A,e,r,i,f,n){r|=0,i|=0,f|=0,n|=0;var t,o=0,a=0,c=0,l=0,u=0;switch(n=(e|=0)>>(o=0|ar[(A|=0)+10368>>2]),o=r>>o,(0|n)<=-1&&sr(48482,48519,118,48539),(0|(f=0|ar[A+10372>>2]))<=(0|n)&&sr(48482,48519,118,48539),(0|o)<=-1&&sr(48543,48519,119,48539),(0|o)>=(0|ar[A+10376>>2])&&sr(48543,48519,119,48539),u=(0|ar[A+10360>>2])+(3*((0|br(f,o))+n|0)|0)|0,t=1<<i,n=1<<i+-1,f=1<<i+-2,(65535&(cr[u>>0]|cr[u+1>>0]<<8))>>>3&7){case 3:if(31==(0|i))return;for(c=(n+e|0)/4|0,l=A+10472|0,u=A+10476|0,a=A+10460|0,i=(n+r|0)/4|0,o=0;f=(o+r|0)/4|0,(0|c)<(0|(n=0|ar[l>>2]))&&(0|f)<(0|ar[u>>2])&&(n=(0|br(n,f))+c|0,n=(0|ar[a>>2])+n|0,tr[n>>0]=64|tr[n>>0],n=0|ar[l>>2]),(0|(f=(o+e|0)/4|0))<(0|n)&&(0|i)<(0|ar[u>>2])&&(A=(0|br(n,i))+f|0,A=(0|ar[a>>2])+A|0,tr[A>>0]=-128|tr[A>>0]),(0|(o=o+1|0))<(0|t););return;case 2:if(31==(0|i))return;for(a=(n+e|0)/4|0,c=A+10472|0,l=A+10476|0,i=A+10460|0,f=0;n=(f+r|0)/4|0,(0|a)<(0|(o=0|ar[c>>2]))&&(0|n)<(0|ar[l>>2])&&(e=(0|br(o,n))+a|0,e=(0|ar[i>>2])+e|0,tr[e>>0]=64|tr[e>>0]),(0|(f=f+1|0))<(0|t););return;case 1:if(31==(0|i))return;for(a=(n+r|0)/4|0,c=A+10472|0,l=A+10476|0,i=A+10460|0,f=0;(0|(n=(f+e|0)/4|0))<(0|(o=0|ar[c>>2]))&&(0|a)<(0|ar[l>>2])&&(r=(0|br(o,a))+n|0,r=(0|ar[i>>2])+r|0,tr[r>>0]=-128|tr[r>>0]),(0|(f=f+1|0))<(0|t););return;case 6:if(31==(0|i))return;for(a=(f+e|0)/4|0,c=A+10472|0,l=A+10476|0,i=A+10460|0,f=0;n=(f+r|0)/4|0,(0|a)<(0|(o=0|ar[c>>2]))&&(0|n)<(0|ar[l>>2])&&(e=(0|br(o,n))+a|0,e=(0|ar[i>>2])+e|0,tr[e>>0]=64|tr[e>>0]),(0|(f=f+1|0))<(0|t););return;case 7:if(31==(0|i))return;for(a=(n+e+f|0)/4|0,c=A+10472|0,l=A+10476|0,i=A+10460|0,f=0;n=(f+r|0)/4|0,(0|a)<(0|(o=0|ar[c>>2]))&&(0|n)<(0|ar[l>>2])&&(e=(0|br(o,n))+a|0,e=(0|ar[i>>2])+e|0,tr[e>>0]=64|tr[e>>0]),(0|(f=f+1|0))<(0|t););return;case 4:if(31==(0|i))return;for(a=(f+r|0)/4|0,c=A+10472|0,l=A+10476|0,i=A+10460|0,f=0;(0|(n=(f+e|0)/4|0))<(0|(o=0|ar[c>>2]))&&(0|a)<(0|ar[l>>2])&&(r=(0|br(o,a))+n|0,r=(0|ar[i>>2])+r|0,tr[r>>0]=-128|tr[r>>0]),(0|(f=f+1|0))<(0|t););return;case 5:if(31==(0|i))return;for(a=(n+r+f|0)/4|0,c=A+10472|0,l=A+10476|0,i=A+10460|0,f=0;(0|(n=(f+e|0)/4|0))<(0|(o=0|ar[c>>2]))&&(0|a)<(0|ar[l>>2])&&(r=(0|br(o,a))+n|0,r=(0|ar[i>>2])+r|0,tr[r>>0]=-128|tr[r>>0]),(0|(f=f+1|0))<(0|t););return;default:return}}function Ct(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,n|=0,t|=0;var o=0,a=0,c=0;return t=(0|(c=(f|=0)?(f=e+-1>>(o=0|ar[t+10368>>2]),o=r>>o,(0|f)<=-1&&sr(48482,48519,118,48539),(0|(a=0|ar[t+10372>>2]))<=(0|f)&&sr(48482,48519,118,48539),(0|o)<=-1&&sr(48543,48519,119,48539),(0|o)>=(0|ar[t+10376>>2])&&sr(48543,48519,119,48539),c=(0|ar[t+10360>>2])+(3*((0|br(a,o))+f|0)|0)|0,1792&(cr[c>>0]|cr[c+1>>0]<<8)?1:0|cr[(0|ar[t+10400>>2])+(i+-1)>>0]):1))!=(0|(f=n?(f=e>>(o=0|ar[t+10368>>2]),o=r+-1>>o,(0|f)<=-1&&sr(48482,48519,118,48539),(0|(a=0|ar[t+10372>>2]))<=(0|f)&&sr(48482,48519,118,48539),(0|o)<=-1&&sr(48543,48519,119,48539),(0|o)>=(0|ar[t+10376>>2])&&sr(48543,48519,119,48539),n=(0|ar[t+10360>>2])+(3*((0|br(a,o))+f|0)|0)|0,0==(1792&(cr[n>>0]|cr[n+1>>0]<<8))&&(r>>(n=0|ar[t+5804>>2])<<n|0)<(0|r)?0|cr[(0|ar[t+10400>>2])+(i-(0|ar[t+5876>>2]))>>0]:1):1))?0!=(0|(ar[A>>2]=c))&0!=(0|(ar[A+4>>2]=f))?0:1!=(0|c)&1!=(0|f)?1:26:c>>>0<2?(ar[A>>2]=0,ar[A+4>>2]=1,26):(ar[A>>2]=c,ar[A+4>>2]=2+(c+29&31),2+((c+-1|0)%32|0)|0),void(ar[(A=A+8|0)>>2]=t)}function Gt(A,e,r,i,f,n){return A|=0,e|=0,r|=0,i|=0,f|=0,8<(0|ar[(0==(0|(n|=0))?A+5760|0:A+5768|0)>>2])?void function(A,e,r,i,f,n){i|=0;var t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;ur=(o=ur)+272|0,function(A,e,r,i,f,n){e|=0,r|=0,i|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0;ur=(m=ur)+144|0,v=(h=m)+64|0,w=0|ar[4+(A|=0)+((f|=0)<<2)>>2],c=0|ar[((f=0==(0|f))?A+40|0:A+44|0)>>2],L=f?q=1:(q=0|ar[A+5780>>2],0|ar[A+5784>>2]);k=0|ar[(f?A+5760|0:A+5768|0)>>2],Q=0|br(q,e),Y=0|br(L,r),C=0|ar[A+5804>>2],W=0|ar[A+5820>>2],F=(M=0!=(0|Q))&(V=1^(y=0==(0|Y))),I=Q+(0|br(q,i))|0,D=0|ar[A+1248>>2],N=(0|I)<(0|D)&V,B=Q>>C,p=Y>>C,E=Q+-1>>C,I>>=C,C=Y+-1>>C,g=0|ar[A+10352>>2],f=0|br(g,p),Z=0|ar[A+10340>>2],o=0|lr[Z+(24*(f+B|0)|0)>>1],J=M?0|lr[Z+(24*(f+E|0)|0)>>1]:-1;G=y?-1:(G=Z+(24*((0|br(g,C))+B|0)|0)|0,0|lr[G>>1]);R=N?(R=Z+(24*((0|br(g,C))+I|0)|0)|0,0|lr[R>>1]):-1;X=F?(X=Z+(24*((0|br(g,C))+E|0)|0)|0,0|lr[X>>1]):-1;f=0|br(p,W),p=0|ar[A+10308>>2],t=0|ar[p+(f+B<<2)>>2],_=M?0|ar[p+(f+E<<2)>>2]:-1;g=y?-1:(g=p+((0|br(C,W))+B<<2)|0,0|ar[g>>2]);Z=F?(Z=p+((0|br(C,W))+E<<2)|0,0|ar[Z>>2]):-1;f=N?(f=p+((0|br(C,W))+I<<2)|0,0|ar[f>>2]):-1;d=(0|G)==(0|o)&(0|g)==(0|t)&V,F=F&(0|X)==(0|o)&(0|Z)==(0|t),l=N&(0|R)==(0|o)&(0|f)==(0|t),u=0|ar[A+5864>>2],a=0|ar[A+5852>>2],K=(0|br(Y>>u,a))+(Q>>u)|0,b=0|ar[A+10320>>2],K=0|ar[b+(K<<2)>>2],f=(L+-1-Y+(0|ar[A+1252>>2])|0)/(0|L)|0,Y=(0|f)>(0|(s=i<<1))?s:f,Q=(0|(Q=(q+-1-Q+D|0)/(0|q)|0))>(0|s)?s:Q,vb(0-s+v|0,0,0|(D=i<<2|1)),g=Y+-1|0;A:do{if(0<(0|Y)&&(T=e+-1|0,U=0|br(q,T),S=A+10368|0,O=A+10372|0,z=A+10376|0,j=A+10360|0,M&(0|J)==(0|o)&(0|_)==(0|t))){for(C=64-((0|f)<(0|s)?f:s)|0,G=U>>u,V=0==(0|tr[A+5944>>0]),W=g,I=g=f=0;;){if(X=h+(C+(I<<2))|0,Z=0|br(E=W+r|0,L),y=b+((0|br(Z>>u,a))+G<<2)|0,y=(0|ar[y>>2])<=(0|K),V)y&&(H=29);else{if(M=0|ar[S>>2],Z>>=M,(0|(B=U>>M))<=-1){H=34;break}if((0|(p=0|ar[O>>2]))<=(0|B)){H=34;break}if((0|Z)<=-1){H=35;break}if((0|Z)>=(0|ar[z>>2])){H=35;break}M=(0|ar[j>>2])+(3*((0|br(p,Z))+B|0)|0)|0,y&0==(768&(cr[M>>0]|cr[M+1>>0]<<8))&&(H=29)}if(29==(0|H)&&(Z=w+(((H=0)|br(E,c))+T<<1)|0,g||(f=0|or[Z>>1]),tr[X>>0]=1,tr[X+1>>0]=1,tr[X+2>>0]=1,tr[X+3>>0]=1,or[n+(~W<<1)>>1]=0|or[Z>>1],M=w+((0|br(E+-1|0,c))+T<<1)|0,or[n+(1-W-1<<1)>>1]=0|or[M>>1],M=w+((0|br(E+-2|0,c))+T<<1)|0,or[n+(2-W-1<<1)>>1]=0|or[M>>1],M=w+((0|br(E+-3|0,c))+T<<1)|0,or[n+(3-W-1<<1)>>1]=0|or[M>>1],g=g+4|0),(0|(W=W+-4|0))<=-1){x=f,P=g;break A}I=I+1|0}34==(0|H)?sr(48482,48519,118,48539):35==(0|H)&&sr(48543,48519,119,48539)}else P=x=0}while(0);A:do{if(F){f=0|br(q,p=e+-1|0),g=0|br(L,y=r+-1|0),B=b+((0|br(g>>u,a))+(f>>u)<<2)|0,B=(0|ar[B>>2])<=(0|K);do{if(0|tr[A+5944>>0]){if(H=0|ar[A+10368>>2],Z=f>>H,f=g>>H,(0|Z)<=-1&&sr(48482,48519,118,48539),(0|(g=0|ar[A+10372>>2]))<=(0|Z)&&sr(48482,48519,118,48539),(0|f)<=-1&&sr(48543,48519,119,48539),(0|f)<(0|ar[A+10376>>2])){if(H=(0|ar[A+10360>>2])+(3*((0|br(g,f))+Z|0)|0)|0,B&0==(768&(cr[H>>0]|cr[H+1>>0]<<8)))break;g=P,f=x;break A}sr(48543,48519,119,48539)}else if(!B){g=P,f=x;break A}}while(0);g=w+((0|br(c,y))+p<<1)|0,f=P?x:0|or[g>>1],or[n>>1]=0|or[g>>1],tr[v>>0]=1,g=P+1|0}else g=P,f=x}while(0);A:do{if(0<(0|Q)){_=0|br(L,V=r+-1|0),Y=A+5944|0,V=0|br(c,V),F=A+10368|0,R=A+10372|0,N=A+10376|0,G=A+10360|0,C=0|br(_>>u,a),W=I=0;e:for(;;){X=h+(65+(W<<2))|0;do{if((0|I)<(0|i)?d:l){if(Z=0|br(B=I+e|0,q),E=(0|ar[b+(C+(Z>>u)<<2)>>2])<=(0|K),0|tr[Y>>0]){if(p=0|ar[F>>2],Z>>=p,p=_>>p,(0|Z)<=-1){H=55;break e}if((0|(y=0|ar[R>>2]))<=(0|Z)){H=55;break e}if((0|p)<=-1){H=58;break e}if((0|p)>=(0|ar[N>>2])){H=58;break e}if(A=(0|ar[G>>2])+(3*((0|br(y,p))+Z|0)|0)|0,!(E&0==(768&(cr[A>>0]|cr[A+1>>0]<<8))))break}else if(!E)break;p=w+((Z=B+V|0)<<1)|0,g||(f=0|or[p>>1]),A=1|I,tr[X>>0]=1,tr[X+1>>0]=1,tr[X+2>>0]=1,tr[X+3>>0]=1,or[n+(A<<1)>>1]=0|or[p>>1],or[n+(A+1<<1)>>1]=0|or[w+(Z+1<<1)>>1],or[n+((3|I)<<1)>>1]=0|or[w+(Z+2<<1)>>1],or[n+(A+3<<1)>>1]=0|or[w+(Z+3<<1)>>1],g=g+4|0}}while(0);if((0|Q)<=(0|(I=I+4|0))){$=g,AA=f;break A}W=W+1|0}55==(0|H)?sr(48482,48519,118,48539):58==(0|H)&&sr(48543,48519,119,48539)}else $=g,AA=f}while(0);if((0|$)==(0|D))return ur=m;if(f=0|br(i,-2),!$){if((0|s)<(0|f))return ur=m;for(g=1<<k-1&65535;or[n+(f<<1)>>1]=g,(0|f)<(0|s);)f=f+1|0;return ur=m}0|tr[v+f>>0]||(or[n+(f<<1)>>1]=AA);if((0|(f|=1))>(0|s))return ur=m;for(;0|tr[v+f>>0]||(or[n+(f<<1)>>1]=0|or[n+(f+-1<<1)>>1]),(0|f)<(0|s);)f=f+1|0;ur=m}(A|=0,e|=0,r|=0,f|=0,n|=0,t=o+128|0);do{if(!(0|tr[A+5753>>0])){if(0|n&&3!=(0|ar[A+5776>>2]))break;tc(A,t,f,n,i)}}while(0);switch(0|i){case 0:if(s=0|ar[(0==(0|n)?A+40|0:A+44|0)>>2],b=(0|ar[A+4+(n<<2)>>2])+((0|br(s,r))+e<<1)|0,1<(0|f)){for(i=f,A=0;3<i>>>0;)i>>>=1,A=A+1|0;i=A+2|0}else i=1;if((0|f)<=0)return ur=o;r=f+-1|0,n=t+(f+1<<1)|0,a=t+(~f<<1)|0,e=0;do{for(c=t+(~e<<1)|0,l=r-e|0,u=0|br(e,s),e=e+1|0,A=0;w=0|br(0|lr[c>>1],r-A|0),A=(d=A)+1|0,h=0|br(0|lr[n>>1],A),k=0|br(0|lr[t+(A<<1)>>1],l),k=w+f+h+k+(0|br(0|lr[a>>1],e))>>i&65535,or[b+(d+u<<1)>>1]=k,(0|A)!=(0|f););}while((0|e)!=(0|f));return ur=o;case 1:return function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,n|=0;var t,o,a,c,l=0;if(c=0|ar[((o=0==(0|(f|=0)))?A+40|0:A+44|0)>>2],a=(0|ar[A+4+(f<<2)>>2])+((0|br(c,r))+e<<1)|0,t=1<(0|i)){for(A=i,e=0;3<A>>>0;)A>>>=1,e=e+1|0;r=e+2|0}else r=1;if(f=0<(0|i))for(A=e=0;A=(0|lr[n+((e=(l=e)+1|0)<<1)>>1])+A+(0|lr[n+(~l<<1)>>1])|0,(0|e)!=(0|i););else A=0;if(r=A+i>>r,!((0|i)<32&o)){if(!f)return;r&=65535,e=0;do{for(f=0|br(e,c),A=0;or[a+(A+f<<1)>>1]=r,(0|(A=A+1|0))!=(0|i););e=e+1|0}while((0|e)!=(0|i));return}if(or[a>>1]=(2+(r<<1)+(0|lr[n+-2>>1])+(0|lr[n+2>>1])|0)>>>2,!t)return;e=2+(3*r|0)|0,A=1;for(;A=(l=A)+1|0,or[a+(l<<1)>>1]=(e+(0|lr[n+(A<<1)>>1])|0)>>>2,(0|A)!=(0|i););if(!t)return;e=2+(3*r|0)|0,A=1;for(;l=a+((0|br(A,c))<<1)|0,or[l>>1]=(e+(0|lr[n+(~A<<1)>>1])|0)>>>2,A=A+1|0,(0|A)!=(0|i););if(!t)return;r&=65535,A=1;do{for(f=0|br(A,c),e=1;or[a+(e+f<<1)>>1]=r,(0|(e=e+1|0))!=(0|i););A=A+1|0}while((0|A)!=(0|i))}(A,e,r,f,n,t),ur=o;default:(function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,t|=0;var o,a,c,l,u,b,s,d,k,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;ur=(k=ur)+272|0,l=(w=k)+128|0,s=0|ar[((u=0==(0|(n|=0)))?A+40|0:A+44|0)>>2],o=0|ar[A+4+(n<<2)>>2],a=(0|br(s,r))+e<<1,d=o+a|0,b=0|ar[(u?A+5760|0:A+5768|0)>>2],35<=(0|i)&&sr(48302,48289,596,48319);(0|i)<=1&&sr(48344,48289,597,48319);c=0|ar[9568+(i<<2)>>2];do{if(0|tr[A+5750>>0]){if(n=0|ar[A+10368>>2],h=e>>n,n=r>>n,(0|h)<=-1&&sr(48482,48519,118,48539),(0|(e=0|ar[A+10372>>2]))<=(0|h)&&sr(48482,48519,118,48539),(0|n)<=-1&&sr(48543,48519,119,48539),(0|n)<(0|ar[A+10376>>2])){p=(0|ar[A+10360>>2])+(3*((0|br(e,n))+h|0)|0)|0,p=0==(2048&(cr[p>>0]|cr[p+1>>0]<<8));break}sr(48543,48519,119,48539)}else p=1}while(0);{if(n=(0|f)<0,17<(0|i)){if(n||hb(0|l,0|t,2+(f<<1)|0),(n=i+-11|0)>>>0<15){if(e=0|ar[9708+(n<<2)>>2],(0|(n=(0|br(c,f))>>5))<-1)for(;Z=t+(0-(128+(0|br(n,e))>>8)<<1)|0,or[l+(n<<1)>>1]=0|or[Z>>1],(0|n)<-1;)n=n+1|0}else(0|f)<(0|(n=f<<1))&&hb(w+(f+65<<1)|0,t+(f+1<<1)|0,0|n);if(!(g=0<(0|f)))return ur=k;Z=s<<1,m=w+130|0,r=f<<1,e=0;do{if(A=0|br(e=(n=e)+1|0,c),h=A>>5,A&=31,w=0|br(n,s),v=32-A|0,A)for(n=0;y=((B=0|br(0|lr[l+((y=n+h|0)+1<<1)>>1],v))+16+(0|br(0|lr[l+(y+2<<1)>>1],A))|0)>>>5&65535,or[d+(n+w<<1)>>1]=y,(0|(n=n+1|0))!=(0|f););else hb(o+(a+(0|br(Z,n)))|0,m+(h<<1)|0,0|r)}while((0|e)!=(0|f));if(!((0|f)<32&26==(0|i)&u&p&g))return ur=k;for(h=t+2|0,r=(e=1<<b)+65535|0,n=0;y=((0|lr[t+(~n<<1)>>1])-(0|lr[t>>1])>>1)+(0|lr[h>>1])|0,B=d+((0|br(n,s))<<1)|0,or[B>>1]=(0|y)<0?0:65535&((0|y)<(0|e)?y:r),(0|(n=n+1|0))!=(0|f););return ur=k}if(!n)for(n=0;or[l+(n<<1)>>1]=0|or[t+(0-n<<1)>>1],(0|n)!=(0|f);)n=n+1|0;if((n=i+-11|0)>>>0<15){if(e=0|ar[9708+(n<<2)>>2],(0|(n=(0|br(c,f))>>5))<-1)for(;B=t+(128+(0|br(n,e))>>8<<1)|0,or[l+(n<<1)>>1]=0|or[B>>1],(0|n)<-1;)n=n+1|0}else if((0|f)<(0|(e=f<<1)))for(n=f;or[l+((n=(B=n)+1|0)<<1)>>1]=0|or[t+(~B<<1)>>1],(0|n)!=(0|e););if(!(v=0<(0|f)))return ur=k;w=0;do{for(m=0|br(w,s),h=0;r=0|br(h=(A=h)+1|0,c),e=31&r,n=0|or[l+((r=(r>>5)+w|0)+1<<1)>>1],e&&(n=((n=0|br(65535&n,32-e|0))+16+(0|br(0|lr[l+(r+2<<1)>>1],e))|0)>>>5&65535),or[d+(A+m<<1)>>1]=n,(0|h)!=(0|f););w=w+1|0}while((0|w)!=(0|f));if(!((0|f)<32&10==(0|i)&u&p&v))return ur=k;for(h=t+-2|0,r=(e=1<<b)+65535|0,n=0;y=((0|lr[t+((n=(B=n)+1|0)<<1)>>1])-(0|lr[t>>1])>>1)+(0|lr[h>>1])|0,or[d+(B<<1)>>1]=(0|y)<0?0:65535&((0|y)<(0|e)?y:r),(0|n)!=(0|f););ur=k}})(A,e,r,i,f,n,t),ur=o}}(A,e,r,i,f,n):void function(A,e,r,i,f,n){i|=0;var t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;ur=(o=ur)+144|0,function(A,e,r,i,f,n){e|=0,r|=0,i|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0;ur=(g=ur)+144|0,m=(w=g)+64|0,v=0|ar[4+(A|=0)+((f|=0)<<2)>>2],s=0|ar[((f=0==(0|f))?A+40|0:A+44|0)>>2],q=f?AA=1:(AA=0|ar[A+5780>>2],0|ar[A+5784>>2]);h=0|ar[(f?A+5760|0:A+5768|0)>>2],D=0|br(AA,e),Y=0|br(q,r),G=0|ar[A+5804>>2],I=0|ar[A+5820>>2],R=(T=0!=(0|D))&(F=1^(B=0==(0|Y))),C=D+(0|br(AA,i))|0,J=0|ar[A+1248>>2],_=(0|C)<(0|J)&F,E=D>>G,y=Y>>G,X=D+-1>>G,C>>=G,G=Y+-1>>G,Z=0|ar[A+10352>>2],f=0|br(Z,y),p=0|ar[A+10340>>2],o=0|lr[p+(24*(f+E|0)|0)>>1],M=T?0|lr[p+(24*(f+X|0)|0)>>1]:-1;V=B?-1:(V=p+(24*((0|br(Z,G))+E|0)|0)|0,0|lr[V>>1]);N=_?(N=p+(24*((0|br(Z,G))+C|0)|0)|0,0|lr[N>>1]):-1;W=R?(W=p+(24*((0|br(Z,G))+X|0)|0)|0,0|lr[W>>1]):-1;f=0|br(y,I),y=0|ar[A+10308>>2],t=0|ar[y+(f+E<<2)>>2],Q=T?0|ar[y+(f+X<<2)>>2]:-1;Z=B?-1:(Z=y+((0|br(G,I))+E<<2)|0,0|ar[Z>>2]);p=R?(p=y+((0|br(G,I))+X<<2)|0,0|ar[p>>2]):-1;f=_?(f=y+((0|br(G,I))+C<<2)|0,0|ar[f>>2]):-1;k=(0|V)==(0|o)&(0|Z)==(0|t)&F,F=R&(0|W)==(0|o)&(0|p)==(0|t),c=_&(0|N)==(0|o)&(0|f)==(0|t),E=0|ar[(l=A+5864|0)>>2],B=0|ar[(u=A+5852|0)>>2],$=(0|br(Y>>E,B))+(D>>E)|0,y=0|ar[(b=A+10320|0)>>2],$=0|ar[y+($<<2)>>2],Z=(q+-1-Y+(0|ar[A+1252>>2])|0)/(0|q)|0,Y=(0|Z)>(0|(d=i<<1))?d:Z,D=(0|(D=(AA+-1-D+J|0)/(0|AA)|0))>(0|d)?d:D,vb(m+(J=0-d|0)|0,0,0|(a=i<<2|1)),f=Y+-1|0;A:do{if(0<(0|Y)&&(U=e+-1|0,S=0|br(AA,U),O=A+5944|0,z=A+10368|0,j=A+10372|0,H=A+10376|0,x=A+10360|0,T&(0|M)==(0|o)&(0|Q)==(0|t))){for(V=64-((0|Z)<(0|d)?Z:d)|0,G=p=Z=0;;){if(C=w+(V+(G<<2))|0,W=0|br(I=f+r|0,q),E=y+((0|br(W>>E,B))+(S>>E)<<2)|0,E=(0|ar[E>>2])<=(0|$),0|tr[O>>0]){if(y=0|ar[z>>2],X=S>>y,y=W>>y,(0|X)<=-1){P=35;break}if((0|(B=0|ar[j>>2]))<=(0|X)){P=35;break}if((0|y)<=-1){P=36;break}if((0|y)>=(0|ar[H>>2])){P=36;break}T=(0|ar[x>>2])+(3*((0|br(B,y))+X|0)|0)|0,E&0==(768&(cr[T>>0]|cr[T+1>>0]<<8))&&(P=29)}else E&&(P=29);if(29==(0|P)&&(y=v+(((P=0)|br(I,s))+U)|0,p||(Z=0|tr[y>>0]),tr[C>>0]=1,tr[C+1>>0]=1,tr[C+2>>0]=1,tr[C+3>>0]=1,tr[n+~f>>0]=0|tr[y>>0],T=v+((0|br(I+-1|0,s))+U)|0,tr[n+(1-f-1)>>0]=0|tr[T>>0],T=v+((0|br(I+-2|0,s))+U)|0,tr[n+(2-f-1)>>0]=0|tr[T>>0],T=v+((0|br(I+-3|0,s))+U)|0,tr[n+(3-f-1)>>0]=0|tr[T>>0],p=p+4|0),(0|(f=f+-4|0))<=-1){L=Z,K=p;break A}E=0|ar[l>>2],B=0|ar[u>>2],y=0|ar[b>>2],G=G+1|0}35==(0|P)?sr(48482,48519,118,48539):36==(0|P)&&sr(48543,48519,119,48539)}else K=L=0}while(0);A:do{if(F){f=0|br(AA,y=e+-1|0),E=0|ar[l>>2],Z=0|br(q,B=r+-1|0),E=(0|br(Z>>E,0|ar[u>>2]))+(f>>E)|0,E=(0|ar[(0|ar[b>>2])+(E<<2)>>2])<=(0|$);do{if(0|tr[A+5944>>0]){if(P=0|ar[A+10368>>2],p=f>>P,f=Z>>P,(0|p)<=-1&&sr(48482,48519,118,48539),(0|(Z=0|ar[A+10372>>2]))<=(0|p)&&sr(48482,48519,118,48539),(0|f)<=-1&&sr(48543,48519,119,48539),(0|f)<(0|ar[A+10376>>2])){if(P=(0|ar[A+10360>>2])+(3*((0|br(Z,f))+p|0)|0)|0,E&0==(768&(cr[P>>0]|cr[P+1>>0]<<8)))break;Z=K,f=L;break A}sr(48543,48519,119,48539)}else if(!E){Z=K,f=L;break A}}while(0);Z=v+((0|br(s,B))+y)|0,f=K?L:0|tr[Z>>0],tr[n>>0]=0|tr[Z>>0],tr[m>>0]=1,Z=K+1|0}else Z=K,f=L}while(0);A:do{if(0<(0|D)){_=0|br(q,V=r+-1|0),Y=A+5944|0,V=0|br(s,V),F=A+10368|0,R=A+10372|0,N=A+10376|0,G=A+10360|0,I=C=0;e:for(;;){W=w+(65+(I<<2))|0;do{if((0|C)<(0|i)?k:c){if(p=0|br(E=C+e|0,AA),X=0|ar[l>>2],X=(0|br(_>>X,0|ar[u>>2]))+(p>>X)|0,X=(0|ar[(0|ar[b>>2])+(X<<2)>>2])<=(0|$),0|tr[Y>>0]){if(y=0|ar[F>>2],p>>=y,y=_>>y,(0|p)<=-1){P=56;break e}if((0|(B=0|ar[R>>2]))<=(0|p)){P=56;break e}if((0|y)<=-1){P=59;break e}if((0|y)>=(0|ar[N>>2])){P=59;break e}if(A=(0|ar[G>>2])+(3*((0|br(B,y))+p|0)|0)|0,!(X&0==(768&(cr[A>>0]|cr[A+1>>0]<<8))))break}else if(!X)break;y=v+(p=E+V|0)|0,Z||(f=0|tr[y>>0]),A=1|C,tr[W>>0]=1,tr[W+1>>0]=1,tr[W+2>>0]=1,tr[W+3>>0]=1,tr[n+A>>0]=0|tr[y>>0],tr[n+(A+1)>>0]=0|tr[v+(p+1)>>0],tr[n+(3|C)>>0]=0|tr[v+(p+2)>>0],tr[n+(A+3)>>0]=0|tr[v+(p+3)>>0],Z=Z+4|0}}while(0);if((0|D)<=(0|(C=C+4|0))){eA=Z,rA=f;break A}I=I+1|0}56==(0|P)?sr(48482,48519,118,48539):59==(0|P)&&sr(48543,48519,119,48539)}else eA=Z,rA=f}while(0);if((0|eA)==(0|a))return ur=g;if(!eA)return vb(n+J|0,1<<h-1&255|0,0|a),ur=g;f=0|br(i,-2),0|tr[m+f>>0]||(tr[n+f>>0]=rA);if((0|(f|=1))>(0|d))return ur=g;for(;0|tr[m+f>>0]||(tr[n+f>>0]=0|tr[n+(f+-1)>>0]),(0|f)<(0|d);)f=f+1|0;ur=g}(A|=0,e|=0,r|=0,f|=0,n|=0,t=o+64|0);do{if(!(0|tr[A+5753>>0])){if(0|n&&3!=(0|ar[A+5776>>2]))break;nc(A,t,f,n,i)}}while(0);switch(0|i){case 0:if(s=0|ar[(0==(0|n)?A+40|0:A+44|0)>>2],b=(0|ar[A+4+(n<<2)>>2])+((0|br(s,r))+e)|0,1<(0|f)){for(i=f,A=0;3<i>>>0;)i>>>=1,A=A+1|0;i=A+2|0}else i=1;if((0|f)<=0)return ur=o;r=f+-1|0,n=t+(f+1)|0,a=t+~f|0,e=0;do{for(c=t+~e|0,l=r-e|0,u=0|br(e,s),e=e+1|0,A=0;w=0|br(0|cr[c>>0],r-A|0),A=(d=A)+1|0,h=0|br(0|cr[n>>0],A),k=0|br(0|cr[t+A>>0],l),k=w+f+h+k+(0|br(0|cr[a>>0],e))>>i&255,tr[b+(d+u)>>0]=k,(0|A)!=(0|f););}while((0|e)!=(0|f));return ur=o;case 1:return function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,n|=0;var t,o,a,c,l,u,b=0,s=0,d=0;if(u=0|ar[((o=0==(0|(f|=0)))?A+40|0:A+44|0)>>2],l=0|ar[A+4+(f<<2)>>2],t=(0|br(u,r))+e|0,a=l+t|0,c=1<(0|i)){for(A=i,f=0;3<A>>>0;)A>>>=1,f=f+1|0;b=f+2|0}else b=1;if(s=0<(0|i))for(A=f=0;A=(0|cr[n+(f=(d=f)+1|0)>>0])+A+(0|cr[n+~d>>0])|0,(0|f)!=(0|i););else A=0;if(b=A+i>>b,!((0|i)<32&o)){if(!s)return;for(f=255&b,A=0;vb(l+(t+(0|br(u,A)))|0,0|f,0|i),(0|(A=A+1|0))!=(0|i););return}if(tr[a>>0]=(2+(b<<1)+(0|cr[n+-1>>0])+(0|cr[n+1>>0])|0)>>>2,!c)return;f=2+(3*b|0)|0,A=1;for(;A=(d=A)+1|0,tr[a+d>>0]=(f+(0|cr[n+A>>0])|0)>>>2,(0|A)!=(0|i););if(!c)return;f=2+(3*b|0)|0,A=1;for(;d=a+(0|br(A,u))|0,tr[d>>0]=(f+(0|cr[n+~A>>0])|0)>>>2,A=A+1|0,(0|A)!=(0|i););if(!c)return;s=255&b,b=(0|br(u,r+1|0))+e+1|0,A=i+-1|0,f=0;for(;vb(l+(b+(0|br(u,f)))|0,0|s,0|A),f=f+1|0,(0|f)!=(0|A););}(A,e,r,f,n,t),ur=o;default:(function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,t|=0;var o,a,c,l,u,b,s,d,k,h=0,w=0,v=0,m=0,g=0,Z=0,p=0;ur=(k=ur)+144|0,l=(w=k)+64|0,s=0|ar[((u=0==(0|(n|=0)))?A+40|0:A+44|0)>>2],o=0|ar[A+4+(n<<2)>>2],a=(0|br(s,r))+e|0,d=o+a|0,b=0|ar[(u?A+5760|0:A+5768|0)>>2],35<=(0|i)&&sr(48302,48289,596,48319);(0|i)<=1&&sr(48344,48289,597,48319);c=0|ar[9568+(i<<2)>>2];do{if(0|tr[A+5750>>0]){if(n=0|ar[A+10368>>2],h=e>>n,n=r>>n,(0|h)<=-1&&sr(48482,48519,118,48539),(0|(e=0|ar[A+10372>>2]))<=(0|h)&&sr(48482,48519,118,48539),(0|n)<=-1&&sr(48543,48519,119,48539),(0|n)<(0|ar[A+10376>>2])){g=(0|ar[A+10360>>2])+(3*((0|br(e,n))+h|0)|0)|0,g=0==(2048&(cr[g>>0]|cr[g+1>>0]<<8));break}sr(48543,48519,119,48539)}else g=1}while(0);{if(n=(0|f)<0,17<(0|i)){if(n||hb(0|l,0|t,f+1|0),(n=i+-11|0)>>>0<15){if(e=0|ar[9708+(n<<2)>>2],(0|(n=(0|br(c,f))>>5))<-1)for(;m=t+(0-(128+(0|br(n,e))>>8))|0,tr[l+n>>0]=0|tr[m>>0],(0|n)<-1;)n=n+1|0}else(0|f)<(f<<1|0)&&hb(w+(f+65)|0,t+(f+1)|0,0|f);if(!(m=0<(0|f)))return ur=k;v=w+65|0,n=0;do{if(r=0|br(s,n),A=0|br(n=n+1|0,c),h=A>>5,w=32-(A&=31)|0,A)for(e=0;Z=((p=0|br(0|cr[l+((Z=e+h|0)+1)>>0],w))+16+(0|br(0|cr[l+(Z+2)>>0],A))|0)>>>5&255,tr[d+(e+r)>>0]=Z,(0|(e=e+1|0))!=(0|f););else hb(o+(a+r)|0,v+h|0,0|f)}while((0|n)!=(0|f));if(!((0|f)<32&26==(0|i)&u&g&m))return ur=k;for(h=t+1|0,e=(r=1<<b)+255|0,n=0;Z=((0|cr[t+~n>>0])-(0|cr[t>>0])>>1)+(0|cr[h>>0])|0,p=d+(0|br(n,s))|0,tr[p>>0]=(0|Z)<0?0:255&((0|Z)<(0|r)?Z:e),(0|(n=n+1|0))!=(0|f););return ur=k}if(!n)for(n=0;tr[l+n>>0]=0|tr[t+(0-n)>>0],(0|n)!=(0|f);)n=n+1|0;if((n=i+-11|0)>>>0<15){if(e=0|ar[9708+(n<<2)>>2],(0|(n=(0|br(c,f))>>5))<-1)for(;p=t+(128+(0|br(n,e))>>8)|0,tr[l+n>>0]=0|tr[p>>0],(0|n)<-1;)n=n+1|0}else if((0|f)<(0|(e=f<<1)))for(n=f;tr[l+(n=(p=n)+1|0)>>0]=0|tr[t+~p>>0],(0|n)!=(0|e););if(!(v=0<(0|f)))return ur=k;w=0;do{for(m=0|br(w,s),h=0;r=0|br(h=(A=h)+1|0,c),e=31&r,n=0|tr[l+((r=(r>>5)+w|0)+1)>>0],e&&(n=((n=0|br(255&n,32-e|0))+16+(0|br(0|cr[l+(r+2)>>0],e))|0)>>>5&255),tr[d+(A+m)>>0]=n,(0|h)!=(0|f););w=w+1|0}while((0|w)!=(0|f));if(!((0|f)<32&10==(0|i)&u&g&v))return ur=k;for(h=t+-1|0,r=(e=1<<b)+255|0,n=0;Z=((0|cr[t+(n=(p=n)+1|0)>>0])-(0|cr[t>>0])>>1)+(0|cr[h>>0])|0,tr[d+p>>0]=(0|Z)<0?0:255&((0|Z)<(0|e)?Z:r),(0|n)!=(0|f););ur=k}})(A,e,r,i,f,n,t),ur=o}}(A,e,r,i,f,n)}function Vt(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5196,ar[(r=A+16|0)>>2]=5224,0|(i=0|ar[A+84>>2])&&((0|ar[(f=A+88|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),(0|tr[(i=A+72|0)+11>>0])<0&&vu(0|ar[i>>2]),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()}function Ft(A){var e=0,r=0,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5104,0|(e=0|ar[(n=A+56|0)>>2])){if((0|(r=0|ar[(t=A+60|0)>>2]))!=(0|e)){for(i=r;r=i+-16|0,ar[t>>2]=r,(f=0|ar[i+-12>>2])&&((0|(i=0|ar[(r=i+-8|0)>>2]))!=(0|f)&&(ar[r>>2]=i+(~((i+-4-f|0)>>>2)<<2)),vu(f),r=0|ar[t>>2]),(0|r)!=(0|e);)i=r;e=0|ar[n>>2]}vu(e)}if(ar[A>>2]=4404,0|(e=0|ar[(f=A+44|0)>>2])){if((0|(r=0|ar[(n=A+48|0)>>2]))!=(0|e)){for(;i=r+-8|0,ar[n>>2]=i,(0|(r=(r=0|ar[r+-4>>2])?(du(r),0|ar[n>>2]):i))!=(0|e););e=0|ar[f>>2]}vu(e)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(e=A+28|0)>>2])!=(0|r)&&(ar[e>>2]=r),vu(r))}function Rt(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=(A|=0)+4|0,i=0|ar[A>>2],268435455<(f=(o=(0|ar[r>>2])-i>>4)+1|0)>>>0&&zl(),i=(a=(0|ar[(c=A+8|0)>>2])-i|0)>>3,i=a>>4>>>0<134217727?i>>>0<f>>>0?f:i:268435455;do{if(i){if(!(268435455<i>>>0)){t=0|hu(i<<4);break}Zu(c=0|X(8),44519),ar[c>>2]=17660,I(0|c,4016,428)}else t=0}while(0);if(a=t+(i<<4)|0,ar[(n=f=t+(o<<4)|0)>>2]=ar[e>>2],function(A,e){e|=0;var r,i,f,n,t=0;if(ar[(A|=0)>>2]=0,ar[(n=A+4|0)>>2]=0,ar[A+8>>2]=0,t=(0|ar[(f=e+4|0)>>2])-(0|ar[e>>2])|0,!(r=t>>2))return;1073741823<r>>>0&&zl();if(i=0|hu(t),ar[n>>2]=i,ar[A>>2]=i,ar[A+8>>2]=i+(r<<2),A=0|ar[e>>2],(0|(t=(0|ar[f>>2])-A|0))<=0)return;hb(0|i,0|A,0|t),ar[n>>2]=i+(t>>>2<<2)}(t+(o<<4)+4|0,e+4|0),e=f+16|0,t=0|ar[A>>2],(0|(i=0|ar[r>>2]))==(0|t))f=n,i=o=t;else{for(;i=(u=i)+-16|0,ar[f+-16>>2]=ar[i>>2],o=u+-12|0,ar[(l=f+-12|0)>>2]=0,ar[(b=f+-8|0)>>2]=0,ar[f+-4>>2]=0,ar[l>>2]=ar[o>>2],l=u+-8|0,ar[b>>2]=ar[l>>2],u=u+-4|0,ar[f+-4>>2]=ar[u>>2],ar[u>>2]=0,ar[l>>2]=0,n=f=n+-16|(ar[o>>2]=0),(0|i)!=(0|t););f=n,o=0|ar[A>>2],i=0|ar[r>>2]}if(ar[A>>2]=f,ar[r>>2]=e,ar[c>>2]=a,(0|i)!=(0|(e=o)))for(;0|(f=0|ar[i+-12>>2])&&((0|(t=0|ar[(n=i+-8|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-4-f|0)>>>2)<<2)),vu(f)),(0|(i=i+-16|0))!=(0|e););o&&vu(o)}function Nt(A,e){e|=0;var r,i,f,n,t,o,a=0,c=0,l=0,u=0;n=(A|=0)+4|0,u=t=0|ar[A>>2],1073741823<(a=1+(i=(o=(0|ar[n>>2])-t|0)>>2)|0)>>>0&&zl(),c=(l=(0|ar[(f=A+8|0)>>2])-t|0)>>1,c=l>>2>>>0<536870911?c>>>0<a>>>0?a:c:1073741823;do{if(c){if(!(1073741823<c>>>0)){l=0|hu(c<<2);break}Zu(u=0|X(8),44519),ar[u>>2]=17660,I(0|u,4016,428)}else l=0}while(0);r=l+(i<<2)|0,a=lr[e>>1]|lr[e+2>>1]<<16,or[r>>1]=a,or[2+r>>1]=a>>>16,a=r+(0-i<<2)|0,0<(0|o)&&hb(0|a,0|u,0|o),ar[A>>2]=a,ar[n>>2]=4+r,ar[f>>2]=l+(c<<2),t&&vu(u)}function _t(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4924,(0|tr[(r=A+112|0)+11>>0])<0&&vu(0|ar[r>>2]),(0|tr[(r=A+100|0)+11>>0])<0&&vu(0|ar[r>>2]),(0|tr[(r=A+88|0)+11>>0])<0&&vu(0|ar[r>>2]),(0|tr[(r=A+76|0)+11>>0])<0&&vu(0|ar[r>>2]),(0|tr[(r=A+64|0)+11>>0])<0&&vu(0|ar[r>>2]),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))}function Yt(A){var e,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0;if(ar[(A|=0)>>2]=4804,0|(r=0|ar[(e=A+56|0)>>2])){if((0|(i=0|ar[(c=A+60|0)>>2]))!=(0|r)){for(f=i;;){if(i=f+-32|0,ar[c>>2]=i,o=0|ar[(a=f+-16|0)>>2]){if((0|(i=0|ar[(t=f+-12|0)>>2]))==(0|o))i=o;else{for(;f=i+-40|0,ar[t>>2]=f,(0|(i=(n=0|ar[i+-16>>2])?((0|ar[(i=i+-12|0)>>2])!=(0|n)&&(ar[i>>2]=n),vu(n),0|ar[t>>2]):f))!=(0|o););i=0|ar[a>>2]}vu(i),i=0|ar[c>>2]}if((0|i)==(0|r))break;f=i}r=0|ar[e>>2]}vu(r)}if(ar[A>>2]=4404,0|(r=0|ar[(n=A+44|0)>>2])){if((0|(i=0|ar[(t=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[t>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[t>>2]):f))!=(0|r););r=0|ar[n>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))}function Qt(A,e){e|=0;var r,i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0;b=0|ar[(d=(A|=0)+4|0)>>2],n=t=0|ar[A>>2],107374182<(o=(u=((a=b)-t|0)/40|0)+1|0)>>>0&&zl(),c=(s=((0|ar[(f=A+8|0)>>2])-t|0)/40|0)<<1,c=s>>>0<53687091?c>>>0<o>>>0?o:c:107374182;do{if(c){if(!(107374182<c>>>0)){l=0|hu(40*c|0);break}Zu(d=0|X(8),44519),ar[d>>2]=17660,I(0|d,4016,428)}else l=0}while(0);s=l+(40*c|0)|0,ar[(o=t=l+(40*u|0)|0)>>2]=ar[e>>2],ar[t+4>>2]=ar[e+4>>2],ar[t+8>>2]=ar[e+8>>2],ar[t+12>>2]=ar[e+12>>2],ar[t+16>>2]=ar[e+16>>2],ar[t+20>>2]=ar[e+20>>2],ar[(r=l+(40*u|0)+24|0)>>2]=0,ar[(i=l+(40*u|0)+28|0)>>2]=0,k=(ar[l+(40*u|0)+32>>2]=0)|ar[e+24>>2],c=(0|ar[e+28>>2])-k|0,e=k;do{if(0|c){if(!((0|c)<0)){h=0|hu(c),ar[i>>2]=h,k=(ar[r>>2]=h)+c|0,ar[l+(40*u|0)+32>>2]=k,hb(0|h,0|e,0|c),ar[i>>2]=k;break}zl()}}while(0);if(e=t+40|0,(0|a)==(0|n))c=b;else{for(;a=(b=a)+-40|0,ar[(k=t+-40|0)>>2]=ar[a>>2],ar[k+4>>2]=ar[a+4>>2],ar[k+8>>2]=ar[a+8>>2],ar[k+12>>2]=ar[a+12>>2],ar[k+16>>2]=ar[a+16>>2],ar[k+20>>2]=ar[a+20>>2],h=b+-16|0,ar[(k=t+-16|0)>>2]=0,ar[(u=t+-12|0)>>2]=0,ar[t+-8>>2]=0,ar[k>>2]=ar[h>>2],k=b+-12|0,ar[u>>2]=ar[k>>2],b=b+-8|0,ar[t+-8>>2]=ar[b>>2],ar[b>>2]=0,ar[k>>2]=0,o=t=o+-40|(ar[h>>2]=0),(0|a)!=(0|n););c=0|ar[A>>2],n=0|ar[d>>2]}if(ar[A>>2]=o,ar[d>>2]=e,ar[f>>2]=s,(0|n)!=(0|(a=c)))for(;0|(t=0|ar[n+-16>>2])&&((0|ar[(o=n+-12|0)>>2])!=(0|t)&&(ar[o>>2]=t),vu(t)),(0|(n=n+-40|0))!=(0|a););c&&vu(c)}function Dt(A,e){e|=0;var r,i,f,n=0;ar[(A|=0)>>2]=0,ar[(r=A+4|0)>>2]=0,f=((ar[A+8>>2]=0)|(n=(0|ar[(i=e+4|0)>>2])-(0|ar[e>>2])|0))/40|0,n&&(107374182<f>>>0&&zl(),n=0|hu(n),ar[r>>2]=n,ar[A>>2]=n,ar[A+8>>2]=n+(40*f|0),function(A,e,r,i){i|=0;var f,n=0,t=0,o=0,a=0,c=0;if(f=4+(A|=0)|0,(0|(e|=0))==(0|(r|=0)))return;i=0|ar[f>>2];for(;;){if(ar[i>>2]=ar[e>>2],ar[i+4>>2]=ar[e+4>>2],ar[i+8>>2]=ar[e+8>>2],ar[i+12>>2]=ar[e+12>>2],ar[i+16>>2]=ar[e+16>>2],ar[i+20>>2]=ar[e+20>>2],n=e+24|0,ar[(o=i+24|0)>>2]=0,ar[(c=i+28|0)>>2]=0,(ar[i+32>>2]=0)|(A=(0|ar[(t=e+28|0)>>2])-(0|ar[n>>2])|0)){if((0|A)<0){A=5;break}a=0|hu(A),ar[c>>2]=a,ar[o>>2]=a,ar[i+32>>2]=a+A,i=0|ar[n>>2],0<(0|(A=(0|ar[t>>2])-i|0))&&(hb(0|a,0|i,0|A),ar[c>>2]=a+A)}if(e=e+40|0,i=40+(0|ar[f>>2])|0,ar[f>>2]=i,(0|e)==(0|r)){A=9;break}}if(5==(0|A))zl();else if(9==(0|A));}(A,0|ar[e>>2],0|ar[i>>2],f))}function Jt(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=(A|=0)+4|0,i=0|ar[A>>2],134217727<(f=(o=(0|ar[r>>2])-i>>5)+1|0)>>>0&&zl(),i=(c=(0|ar[(l=A+8|0)>>2])-i|0)>>4,i=c>>5>>>0<67108863?i>>>0<f>>>0?f:i:134217727;do{if(i){if(!(134217727<i>>>0)){t=0|hu(i<<5);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else t=0}while(0);if(a=t+(i<<5)|0,ar[(n=f=t+(o<<5)|0)>>2]=ar[e>>2],ar[f+4>>2]=ar[e+4>>2],ar[f+8>>2]=ar[e+8>>2],ar[f+12>>2]=ar[e+12>>2],Dt(t+(o<<5)+16|0,e+16|0),e=f+32|0,t=0|ar[A>>2],(0|(i=0|ar[r>>2]))==(0|t))i=n,f=c=t;else{for(;i=(u=i)+-32|0,ar[(o=f+-32|0)>>2]=ar[i>>2],ar[o+4>>2]=ar[i+4>>2],ar[o+8>>2]=ar[i+8>>2],ar[o+12>>2]=ar[i+12>>2],c=u+-16|0,ar[(o=f+-16|0)>>2]=0,ar[(b=f+-12|0)>>2]=0,ar[f+-8>>2]=0,ar[o>>2]=ar[c>>2],o=u+-12|0,ar[b>>2]=ar[o>>2],u=u+-8|0,ar[f+-8>>2]=ar[u>>2],ar[u>>2]=0,ar[o>>2]=0,n=f=n+-32|(ar[c>>2]=0),(0|i)!=(0|t););i=n,c=0|ar[A>>2],f=0|ar[r>>2]}if(ar[A>>2]=i,ar[r>>2]=e,ar[l>>2]=a,(0|f)!=(0|(A=c))){a=f;do{if(0|(i=0|ar[(e=a+-16|0)>>2])){if((0|(f=0|ar[(o=a+-12|0)>>2]))!=(0|i)){for(;n=f+-40|0,ar[o>>2]=n,(0|(f=(t=0|ar[f+-16>>2])?((0|ar[(f=f+-12|0)>>2])!=(0|t)&&(ar[f>>2]=t),vu(t),0|ar[o>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}a=a+-32|0}while((0|a)!=(0|A))}c&&vu(c)}function Mt(A){var e;ar[(A|=0)>>2]=4264,e=A+8|0,ar[A+40>>2]=0,ar[e>>2]=0,ar[4+e>>2]=0,ar[8+e>>2]=0,ar[12+e>>2]=0,ar[16+e>>2]=0,ar[20+e>>2]=0,ar[24+e>>2]=0,or[28+e>>1]=0}function Tt(A,e,r){A|=0,r|=0;var i,f=0;f=0|ar[(e|=0)+44>>2],i=0|ar[e+48>>2];A:do{if((0|f)!=(0|i)){for(e=f;f=0|ar[e>>2],(0|ar[f+20>>2])!=(0|r);)if((0|(e=e+8|0))==(0|i))break A;return(ar[A>>2]=f,e=0|ar[e+4>>2],ar[A+4>>2]=e)?void bu(e):void 0}}while(0);ar[A>>2]=0,ar[A+4>>2]=0}function Ut(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;f=0|ar[(u=(A|=0)+4|0)>>2],c=n=0|ar[A>>2],536870911<(t=1+(r=f-n>>3)|0)>>>0&&zl(),o=(l=(0|ar[(i=A+8|0)>>2])-n|0)>>2,o=l>>3>>>0<268435455?o>>>0<t>>>0?t:o:536870911;do{if(o){if(!(536870911<o>>>0)){a=0|hu(o<<3);break}Zu(u=0|X(8),44519),ar[u>>2]=17660,I(0|u,4016,428)}else a=0}while(0);if(l=a+(o<<3)|0,ar[(t=n=a+(r<<3)|0)>>2]=ar[e>>2],o=0|ar[e+4>>2],o=(ar[a+(r<<3)+4>>2]=o)?(bu(o),f=0|ar[u>>2],0|ar[A>>2]):c,a=n+8|0,(0|f)!=(0|o)){for(;f=(c=f)+-8|0,ar[n+-8>>2]=ar[f>>2],c=c+-4|0,ar[n+-4>>2]=ar[c>>2],ar[f>>2]=0,t=n=t+-8|(ar[c>>2]=0),(0|f)!=(0|o););o=0|ar[A>>2],f=0|ar[u>>2]}if(ar[A>>2]=t,ar[u>>2]=a,ar[i>>2]=l,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-4>>2],f=f+-8|0,0|n&&du(n),(0|f)!=(0|t););o&&vu(o)}function St(A,e){e|=0;var r=0;if((0|(r=0|ar[(A|=0)+64>>2]))==(0|(A=0|ar[A+68>>2])))return(e=0)|e;for(;;){if((0|ar[r>>2])==(0|e)){r=1,A=4;break}if((0|(r=r+4|0))==(0|A)){r=0,A=4;break}}return 4==(0|A)?0|r:0}function Ot(A,e,r,i,f,n){A|=0,e|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0;ur=(w=ur)+272|0,k=w+252|0,h=w+72|0,b=w+240|0,s=w+228|0,d=w+216|0,c=w+56|0,l=w+44|0,t=w+24|0,o=w+16|0,u=w,e=0|ar[(r|=0)+16>>2],a=0|ar[r+20>>2];A:do{if((0|e)!=(0|a)){F=r+4|0,V=n+4|0,R=r+8|0,E=4+o|0,X=i+4|0,I=(W=8+t|0)+11|0;e:for(;;){switch(0|tr[F>>0]){case 0:if(C=(0|ar[V>>2])-(0|ar[n>>2])|0,m=0|ar[(g=B=e+16|0)>>2],0<(g=0|ar[g+4>>2])>>>0|0==(0|g)&(536870912-C|0)>>>0<m>>>0){e=5;break e}if(Z=0|ar[(p=y=e+8|0)>>2],8388607<(p=0|ar[p+4>>2])>>>0|8388607==(0|p)&4294967295<Z>>>0){e=14;break e}if(r=0|ar[(v=R)>>2],8388607<(N=(v=0|ar[v+4>>2])|g)>>>0|8388607==(0|N)&4294967295<(r|m)>>>0){e=14;break e}switch(_=0|ar[i>>2],Y=0|ar[12+(0|ar[_>>2])>>2],N=0|tb(0|tb(0|Z,0|p,0|m,0|g),0|D,0|r,0|v),0|xb[63&Y](_,N,D)){case 2:e=17;break e;case 1:e=26;break e}if(_=0|ar[i>>2],N=0|ar[20+(0|ar[_>>2])>>2],Y=y,Y=0|tb(0|ar[(y=R)>>2],0|ar[y+4>>2],0|ar[Y>>2],0|ar[Y+4>>2]),!(0|xb[63&N](_,Y,D))){e=29;break e}if((m=0|tb(0|(v=0|ar[(m=B)>>2]),0|ar[m+4>>2],0|C,0))>>>0<=(g=(Z=0|ar[V>>2])-(r=0|ar[n>>2])|0)>>>0?m>>>0<g>>>0&&(0|Z)!=(0|(G=r+m|0))&&(ar[V>>2]=G):(TA(n,m-g|0),v=0|ar[B>>2],r=0|ar[n>>2]),Y=0|ar[i>>2],0|xb[63&ar[16+(0|ar[Y>>2])>>2]](Y,r+C|0,v))break;e=36;break e;case 1:if(!(r=0|ar[f>>2])){e=38;break e}ar[o>>2]=ar[i>>2],v=0|ar[X>>2],(m=0==(0|(ar[E>>2]=v)))||bu(v),_=e+8|0,Y=e+16|0,zt(t,r,o,0|tb(0|ar[(N=R)>>2],0|ar[N+4>>2],0|ar[_>>2],0|ar[_+4>>2]),D,0|ar[Y>>2],0|ar[Y+4>>2],n),(0|tr[I>>0])<0&&vu(0|ar[W>>2]),m||du(v);break;default:e=46;break e}if((0|(e=e+40|0))==(0|a))break A}if(5==(0|e))return r=64+h|0,ar[(m=8+h|0)>>2]=4524,v=12+h|0,ar[h>>2]=188,ar[r>>2]=208,Jf(64+h|(ar[4+h>>2]=0),v),ar[136+h>>2]=0,ar[140+h>>2]=-1,ar[h>>2]=4504,ar[r>>2]=4544,ar[m>>2]=4524,Sf(v),ar[v>>2]=4340,ar[(m=44+h|0)>>2]=0,ar[m+4>>2]=0,ar[m+8>>2]=0,ar[m+12>>2]=0,ar[60+h>>2]=24,ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,Xe(v,k),(0|tr[11+k>>0])<0&&vu(0|ar[k>>2]),Y=0|We(e=8+h|0,23479,19),_=0|We(0|Kf(Y,0|ar[(_=B)>>2],0|ar[_+4>>2]),23499,35),We(0|Pf(0|We(0|Kf(_,Y=0|tb(0|ar[(Y=B)>>2],0|ar[Y+4>>2],0|C,0),D),23535,40),536870912),23576,6),Ie(b,v),oo(A,6,1e3,b),(0|tr[11+b>>0])<0&&vu(0|ar[b>>2]),ar[h>>2]=4504,ar[r>>2]=4544,ar[e>>2]=4524,ar[v>>2]=4340,(0|tr[m+11>>0])<0&&vu(0|ar[m>>2]),kf(v),bf(r),void(ur=w);if(14==(0|e)){for(e=0|hu(48),ar[s>>2]=e,ar[8+s>>2]=-2147483600,v=23583,m=(r=e)+(ar[4+s>>2]=39)|0;tr[r>>0]=0|tr[v>>0],v=v+1|0,(0|(r=r+1|0))<(0|m););return(tr[e+39>>0]=0,oo(A,2,1e3,s),0<=(0|tr[11+s>>0]))?void(ur=w):(vu(0|ar[s>>2]),void(ur=w))}if(17==(0|e))return e=0|ar[n>>2],(0|ar[V>>2])!=(0|e)&&(ar[V>>2]=e),r=64+h|0,ar[(m=8+h|0)>>2]=4524,v=12+h|0,ar[h>>2]=188,ar[r>>2]=208,Jf(64+h|(ar[4+h>>2]=0),v),ar[136+h>>2]=0,ar[140+h>>2]=-1,ar[h>>2]=4504,ar[r>>2]=4544,ar[m>>2]=4524,Sf(v),ar[v>>2]=4340,ar[(m=44+h|0)>>2]=0,ar[m+4>>2]=0,ar[m+8>>2]=0,ar[m+12>>2]=0,ar[60+h>>2]=24,ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,Xe(v,k),(0|tr[11+k>>0])<0&&vu(0|ar[k>>2]),_=0|We(0|We(e=8+h|0,23623,58),23682,25),Y=y,We(0|Kf(_,Y=0|tb(0|ar[(N=R)>>2],0|ar[N+4>>2],0|ar[Y>>2],0|ar[Y+4>>2]),D),18904,2),Ie(d,v),oo(A,2,100,d),(0|tr[11+d>>0])<0&&vu(0|ar[d>>2]),ar[h>>2]=4504,ar[r>>2]=4544,ar[e>>2]=4524,ar[v>>2]=4340,(0|tr[m+11>>0])<0&&vu(0|ar[m>>2]),kf(v),bf(r),void(ur=w);if(26==(0|e))return ar[c>>2]=0,ar[4+c>>2]=0,ar[8+c>>2]=0,oo(A,2,100,c),0<=(0|tr[11+c>>0])||vu(0|ar[c>>2]),void(ur=w);if(29==(0|e))sr(23708,19104,1114,23716);else if(36==(0|e))sr(23708,19104,1122,23716);else{if(38==(0|e)){for(e=0|hu(64),ar[l>>2]=e,ar[8+l>>2]=-2147483584,v=23726,m=(r=e)+(ar[4+l>>2]=54)|0;tr[r>>0]=0|tr[v>>0],v=v+1|0,(0|(r=r+1|0))<(0|m););return(tr[e+54>>0]=0,oo(A,2,103,l),0<=(0|tr[11+l>>0]))?void(ur=w):(vu(0|ar[l>>2]),void(ur=w))}if(46==(0|e))return e=64+h|0,ar[(v=8+h|0)>>2]=4524,r=12+h|0,ar[h>>2]=188,ar[e>>2]=208,Jf(64+h|(ar[4+h>>2]=0),r),ar[136+h>>2]=0,ar[140+h>>2]=-1,ar[h>>2]=4504,ar[e>>2]=4544,ar[v>>2]=4524,Sf(r),ar[r>>2]=4340,ar[(v=44+h|0)>>2]=0,ar[v+4>>2]=0,ar[v+8>>2]=0,ar[v+12>>2]=0,ar[60+h>>2]=24,ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,Xe(r,k),(0|tr[11+k>>0])<0&&vu(0|ar[k>>2]),Y=0|We(m=8+h|0,23781,25),tr[k>>0]=0|tr[F>>0],We(0|We(Y,k,1),23807,16),Ie(u,r),oo(A,4,103,u),(0|tr[u+11>>0])<0&&vu(0|ar[u>>2]),ar[h>>2]=4504,ar[e>>2]=4544,ar[m>>2]=4524,ar[r>>2]=4340,(0|tr[v+11>>0])<0&&vu(0|ar[v>>2]),kf(r),bf(e),void(ur=w)}}}while(0);_=0|ar[(N=56592)+4>>2],ar[(Y=A)>>2]=ar[N>>2],ar[Y+4>>2]=_,yu(A+8|0,56600),ur=w}function zt(A,e,r,i,f,n,t,o){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0;return ur=(c=ur)+208|0,s=c+192|0,k=c+48|0,d=c+36|0,l=c+24|0,h=c+12|0,w=c,0<(t|=0)>>>0|0==(0|t)&(536870912-(m=(0|ar[(a=(o|=0)+4|0)>>2])-(0|ar[o>>2])|0)|0)>>>0<n>>>0?(l=k+64|0,ar[(b=k+8|0)>>2]=4524,u=k+12|0,ar[k>>2]=188,ar[l>>2]=208,Jf(k+64|(ar[k+4>>2]=0),u),ar[k+136>>2]=0,ar[k+140>>2]=-1,ar[k>>2]=4504,ar[l>>2]=4544,ar[b>>2]=4524,Sf(u),ar[u>>2]=4340,ar[(b=k+44|0)>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,ar[b+12>>2]=0,ar[k+60>>2]=24,ar[s>>2]=0,ar[s+4>>2]=0,ar[s+8>>2]=0,Xe(u,s),(0|tr[s+11>>0])<0&&vu(0|ar[s>>2]),r=0|We(0|Kf(0|We(e=k+8|0,23824,19),n,t),23499,35),We(0|Pf(0|We(0|Kf(r,n=0|tb(0|m,0,0|n,0|t),D),23535,40),536870912),23576,6),Ie(d,u),oo(A,6,1e3,d),(0|tr[d+11>>0])<0&&vu(0|ar[d>>2]),ar[k>>2]=4504,ar[l>>2]=4544,ar[e>>2]=4524,ar[u>>2]=4340,(0|tr[b+11>>0])<0&&vu(0|ar[b>>2]),kf(u),bf(l),void(ur=c)):(d=0|ar[(k=s=e+64|0)>>2],k=0|ar[k+4>>2],e=0|tb(0|(u=0|ar[(b=e+8|0)>>2]),0|(b=0|ar[b+4>>2]),0|d,0|k),(g=D)>>>0<f>>>0|(0|g)==(0|f)&e>>>0<i>>>0?(ar[l>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,oo(A,2,100,l),0<=(0|tr[l+11>>0])||vu(0|ar[l>>2]),void(ur=c)):(e=0|tb(0|n,0|t,0|i,0|f),b>>>0<t>>>0|(0|b)==(0|t)&u>>>0<n>>>0|b>>>0<(l=D)>>>0|(0|l)==(0|b)&u>>>0<e>>>0?(ar[h>>2]=0,ar[h+4>>2]=0,ar[h+8>>2]=0,oo(A,2,100,h),0<=(0|tr[h+11>>0])||vu(0|ar[h>>2]),void(ur=c)):(h=0|ar[r>>2],b=0|ar[12+(0|ar[h>>2])>>2],g=0|tb(0|e,0|l,0|d,0|k),((0|xb[63&b](h,g,D))-1|0)>>>0<2?(ar[w>>2]=0,ar[w+4>>2]=0,ar[w+8>>2]=0,oo(A,2,100,w),0<=(0|tr[w+11>>0])||vu(0|ar[w>>2]),void(ur=c)):(w=0|ar[r>>2],h=0|ar[20+(0|ar[w>>2])>>2],g=0|tb(0|ar[(g=s)>>2],0|ar[g+4>>2],0|i,0|f),0|xb[63&h](w,g,D)||sr(23708,19104,3031,23716),0==(0|n)&0==(0|t)||((l=0|tb(0|m,0,0|n,0|t))>>>0<=(u=(b=0|ar[a>>2])-(e=0|ar[o>>2])|0)>>>0?l>>>0<u>>>0&&(0|b)!=(0|(v=e+l|0))&&(ar[a>>2]=v):(TA(o,l-u|0),e=0|ar[o>>2]),g=0|ar[r>>2],0|xb[63&ar[16+(0|ar[g>>2])>>2]](g,e+m|0,n)||sr(23708,19104,3040,23716)),n=0|ar[(m=56592)+4>>2],ar[(g=A)>>2]=ar[m>>2],ar[g+4>>2]=n,yu(A+8|0,56600),void(ur=c)))))}function jt(A){or[(A|=0)+4>>1]=2,or[A+6>>1]=2,or[A+8>>1]=6,tr[A+10>>0]=1}function Ht(A,e,r,i,f){A|=0,e|=0,r|=0,f|=0;var n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;ur=(c=ur)+336|0,o=c+316|0,a=c+160|0,b=c+304|0,t=(n=c)+144|0,u=0|ar[(i|=0)>>2],i=0|ar[u+56>>2],u=0|ar[u+60>>2];A:do{if((0|i)!=(0|u)){for(;l=i+16|0,(0|ar[i>>2])!=(0|r);){if((0|l)==(0|u))break A;i=l}xt(a,e+44|0),l=0|ar[i+4>>2],s=0|ar[i+8>>2];e:do{if((0|l)==(0|s))g=34;else{for(d=4+a|0,h=8+o|0,w=k=4+o|0,v=f+4|0,m=f+8|0;u=65535&(i=0|or[(b=l+2|0)>>1]),e=Z=0|ar[a>>2],!(u>>>0>(0|ar[d>>2])-Z>>3>>>0);){ar[k>>2]=0,ar[h>>2]=0,tr[o>>0]=0|tr[l>>0];do{if(i<<16>>16){if(b=0|ar[e+((i=u+-1|0)<<3)>>2],(u=i=0|ar[e+(i<<3)+4>>2])?(bu(i),i=0|ar[h>>2],ar[w>>2]=b,ar[h>>2]=u,0|i&&du(i)):(ar[w>>2]=b,ar[h>>2]=u),(0|(i=0|ar[v>>2]))==(0|ar[m>>2])){Pt(f,o);break}tr[i>>0]=0|tr[o>>0],ar[i+4>>2]=ar[w>>2],u=0|ar[h>>2],(ar[i+8>>2]=u)&&(bu(u),i=0|ar[v>>2]),ar[v>>2]=i+12}}while(0);if(0|(i=0|ar[h>>2])&&du(i),(0|(l=l+4|0))==(0|s)){g=34;break e}}l=n+64|0,ar[(e=n+8|0)>>2]=4524,u=n+12|0,ar[n>>2]=188,ar[l>>2]=208,Jf(n+64|(ar[n+4>>2]=0),u),ar[n+136>>2]=0,ar[n+140>>2]=-1,ar[n>>2]=4504,ar[l>>2]=4544,ar[e>>2]=4524,Sf(u),ar[u>>2]=4340,ar[(e=n+44|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[n+60>>2]=24,ar[o>>2]=0,ar[4+o>>2]=0,ar[8+o>>2]=0,Xe(u,o),(0|tr[11+o>>0])<0&&vu(0|ar[o>>2]),Z=0|We(i=n+8|0,23901,28),We(0|Lf(0|We(0|We(0|xf(Z,0|or[b>>1]),23930,11),23942,4),r),23947,23),Ie(t,u),oo(A,2,115,t),(0|tr[11+t>>0])<0&&vu(0|ar[t>>2]),ar[n>>2]=4504,ar[l>>2]=4544,ar[i>>2]=4524,ar[u>>2]=4340,(0|tr[e+11>>0])<0&&vu(0|ar[e>>2]),kf(u),bf(l),i=a}}while(0);if(34==(0|g)&&(Z=0|ar[(r=56592)+4>>2],ar[(i=A)>>2]=ar[r>>2],ar[i+4>>2]=Z,yu(A+8|0,56600),i=a),0|(i=0|ar[i>>2])){if((0|(l=0|ar[(e=4+a|0)>>2]))!=(0|i)){for(;u=l+-8|0,ar[e>>2]=u,(0|(l=(l=0|ar[l+-4>>2])?(du(l),0|ar[e>>2]):u))!=(0|i););i=0|ar[a>>2]}vu(i)}return void(ur=c)}}while(0);l=64+a|0,ar[(e=8+a|0)>>2]=4524,u=12+a|0,ar[a>>2]=188,ar[l>>2]=208,Jf(64+a|(ar[4+a>>2]=0),u),ar[136+a>>2]=0,ar[140+a>>2]=-1,ar[a>>2]=4504,ar[l>>2]=4544,ar[e>>2]=4524,Sf(u),ar[u>>2]=4340,ar[(e=44+a|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[60+a>>2]=24,ar[o>>2]=0,ar[4+o>>2]=0,ar[8+o>>2]=0,Xe(u,o),(0|tr[11+o>>0])<0&&vu(0|ar[o>>2]),We(0|Lf(0|We(i=8+a|0,23844,9),r),23854,46),Ie(b,u),oo(A,2,116,b),(0|tr[b+11>>0])<0&&vu(0|ar[b>>2]),ar[a>>2]=4504,ar[l>>2]=4544,ar[i>>2]=4524,ar[u>>2]=4340,(0|tr[e+11>>0])<0&&vu(0|ar[e>>2]),kf(u),bf(l),ur=c}function xt(A,e){e|=0;var r,i,f,n=0,t=0;if(ar[(A|=0)>>2]=0,ar[(f=A+4|0)>>2]=0,(r=(n=((ar[A+8>>2]=0)|ar[(i=e+4|0)>>2])-(0|ar[e>>2])|0)>>3)&&(536870911<r>>>0&&zl(),t=0|hu(n),ar[f>>2]=t,ar[A>>2]=t,ar[A+8>>2]=t+(r<<3),(0|(n=0|ar[e>>2]))!=(0|(e=0|ar[i>>2]))))for(;ar[t>>2]=ar[n>>2],A=0|ar[n+4>>2],0|(ar[t+4>>2]=A)&&bu(A),n=n+8|0,t=8+(0|ar[f>>2])|0,ar[f>>2]=t,(0|n)!=(0|e););}function Pt(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;n=0|ar[(u=(A|=0)+4|0)>>2],c=i=0|ar[A>>2],357913941<(f=(a=(n-i|0)/12|0)+1|0)>>>0&&zl(),t=(l=((0|ar[(r=A+8|0)>>2])-i|0)/12|0)<<1,t=l>>>0<178956970?t>>>0<f>>>0?f:t:357913941;do{if(t){if(!(357913941<t>>>0)){o=0|hu(12*t|0);break}Zu(u=0|X(8),44519),ar[u>>2]=17660,I(0|u,4016,428)}else o=0}while(0);if(l=o+(12*t|0)|0,tr[(f=i=o+(12*a|0)|0)>>0]=0|tr[e>>0],ar[o+(12*a|0)+4>>2]=ar[e+4>>2],t=0|ar[e+8>>2],t=(ar[o+(12*a|0)+8>>2]=t)?(bu(t),n=0|ar[u>>2],0|ar[A>>2]):c,o=i+12|0,(0|n)==(0|t))i=t=n;else{for(;n=(c=n)+-12|0,tr[i+-12>>0]=0|tr[n>>0],a=c+-8|0,ar[i+-8>>2]=ar[a>>2],c=c+-4|0,ar[i+-4>>2]=ar[c>>2],ar[a>>2]=0,f=i=f+-12|(ar[c>>2]=0),(0|n)!=(0|t););t=0|ar[A>>2],i=0|ar[u>>2]}if(ar[A>>2]=f,ar[u>>2]=o,ar[r>>2]=l,(0|i)!=(0|(n=t)))for(;f=0|ar[i+-4>>2],i=i+-12|0,0|f&&du(f),(0|i)!=(0|n););t&&vu(n)}function Lt(A,e,r,i,f){A|=0,e|=0,r|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0,b=0;ur=(t=ur)+16|0,n=t,a=0|ar[(i|=0)>>2],i=0|ar[a+56>>2],a=0|ar[a+60>>2];A:do{if((0|i)!=(0|a)){for(;o=i+16|0,(0|ar[i>>2])!=(0|r);){if((0|o)==(0|a))break A;i=o}xt(n,e+44|0),a=0|ar[i+4>>2],c=0|ar[i+8>>2];e:do{if((0|a)==(0|c))o=A+4|0,i=n,u=15;else{for(l=n+4|0,o=A+4|0;;){if(i=65535&(b=0|or[a+2>>1]),e=r=0|ar[n>>2],b<<16>>16==0||i>>>0>(0|ar[l>>2])-r>>3>>>0){i=n,u=15;break e}if(r=0|ar[e+((i=i+-1|0)<<3)>>2],0|(i=0|ar[e+(i<<3)+4>>2])&&bu(i),(0|ar[r+20>>2])==(0|f))break;if(0|i&&du(i),(0|(a=a+4|0))==(0|c)){i=n,u=15;break e}}ar[A>>2]=r,ar[o>>2]=i,i=n}}while(0);if(15==(0|u)&&(ar[A>>2]=0,ar[o>>2]=0),0|(i=0|ar[i>>2])){if((0|(o=0|ar[(e=n+4|0)>>2]))!=(0|i)){for(;a=o+-8|0,ar[e>>2]=a,(0|(o=(o=0|ar[o+-4>>2])?(du(o),0|ar[e>>2]):a))!=(0|i););i=0|ar[n>>2]}vu(i)}return void(ur=t)}}while(0);ar[A>>2]=0,ar[A+4>>2]=0,ur=t}function Kt(A,e){A|=0;var r=0,i=0,f=0;if(r=(e|=0)+-1|0,131072<(e+65535|0)>>>0)for(e=2;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);else e=2;if(f=0|ar[A+76>>2],i=0|ar[A+72>>2],(0|f)==(0|e)){if(r=i+r|0,131072<(e+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if(131072<(r+65536|0)>>>0)for(;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);}else{if(r=(0|br(i,e))+(0|br(f,r))|0,131072<((e=0|br(f,e))+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if(131072<(r+65536|0)>>>0)for(;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);}if(i=0|ar[A+60>>2],f=(0|ar[A+56>>2])-i|0,131072<(i+65536|0)>>>0)for(;f=(0|f)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);if(131072<(f+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((f=(0|f)/2|0)+65536|0)>>>0;);if(131072<((i<<=1)+65536|0)>>>0)for(;f=(0|f)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);if(131072<(f+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((f=(0|f)/2|0)+65536|0)>>>0;);if((0|e)==(0|i)){if(r=r-f|0,131072<(e+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if((r+65536|0)>>>0<=131072)return 0|(A=(0|(f=r))/(0|(A=e))|0);for(;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);return 0|(A=(0|r)/(0|e)|0)}if(r=(0|br(i,r))-(0|br(f,e))|0,131072<((e=0|br(i,e))+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if((r+65536|0)>>>0<=131072)return 0|(A=(0|(f=r))/(0|(A=e))|0);for(;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);return 0|(A=(0|r)/(0|e)|0)}function qt(A,e){e|=0;var r=0,i=0;if(r=0|ar[(A|=0)+60>>2],i=(0|ar[A+56>>2])-r|0,131072<(r+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);if(131072<(i+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);if(i=(0|br(0|Kt(A,e),r))+i|0,131072<(r+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);if((i+65536|0)>>>0<=131072)return A=i,0|(e=(0|(A=(i=(0|(e=r))/2|0)+A|0))/(0|e)|0);for(;r=(0|r)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);return 0|(e=(0|(e=(e=(0|r)/2|0)+i|0))/(0|r)|0)}function $t(A,e){A|=0;var r=0,i=0,f=0;if(r=(e|=0)+-1|0,131072<(e+65535|0)>>>0)for(e=2;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);else e=2;if(f=0|ar[A+84>>2],i=0|ar[A+80>>2],(0|f)==(0|e)){if(r=i+r|0,131072<(e+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if(131072<(r+65536|0)>>>0)for(;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);}else{if(r=(0|br(i,e))+(0|br(f,r))|0,131072<((e=0|br(f,e))+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if(131072<(r+65536|0)>>>0)for(;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);}if(i=0|ar[A+68>>2],f=(0|ar[A+64>>2])-i|0,131072<(i+65536|0)>>>0)for(;f=(0|f)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);if(131072<(f+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((f=(0|f)/2|0)+65536|0)>>>0;);if(131072<((i<<=1)+65536|0)>>>0)for(;f=(0|f)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);if(131072<(f+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((f=(0|f)/2|0)+65536|0)>>>0;);if((0|e)==(0|i)){if(r=r-f|0,131072<(e+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if((r+65536|0)>>>0<=131072)return 0|(A=(0|(f=(i=(0|(A=e))/2|0)+(f=r)|0))/(0|A)|0);for(;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);return 0|(A=(0|(A=(A=(0|e)/2|0)+r|0))/(0|e)|0)}if(r=(0|br(i,r))-(0|br(f,e))|0,131072<((e=0|br(i,e))+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if((r+65536|0)>>>0<=131072)return 0|(A=(0|(f=(i=(0|(A=e))/2|0)+(f=r)|0))/(0|A)|0);for(;e=(0|e)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);return 0|(A=(0|(A=(A=(0|e)/2|0)+r|0))/(0|e)|0)}function Ao(A,e){e|=0;var r=0,i=0;if(r=0|ar[(A|=0)+68>>2],i=(0|ar[A+64>>2])-r|0,131072<(r+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);if(131072<(i+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);if(i=(0|br(0|$t(A,e),r))+i|0,131072<(r+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);if((i+65536|0)>>>0<=131072)return A=i,0|(e=(0|(A=(i=(0|(e=r))/2|0)+A|0))/(0|e)|0);for(;r=(0|r)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);return 0|(e=(0|(e=(e=(0|r)/2|0)+i|0))/(0|r)|0)}function eo(A){var e=0,r=0,i=0,f=0,n=0;if(n=0|ar[(A|=0)+60>>2],e=(0|ar[A+56>>2])-n|0,f=131072<(n+65536|0)>>>0)for(r=e,A=n;r=(0|r)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);else r=e,A=n;if(131072<(r+65536|0)>>>0)for(;A=(0|A)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);if(131072<((A<<=1)+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);if(131072<(r+65536|0)>>>0)for(;A=(0|A)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);if(i=0-r|0,1==(0|A))if(131072<(65536-r|0)>>>0)for(A=1;A=(0|A)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);else A=1;else{if(131072<(A+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);if(131072<(i+65536|0)>>>0)for(;A=(0|A)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);}if(r=(((0|A)/2|0)+i|0)/(0|A)|0,f)for(A=n;e=(0|e)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);else A=n;if(131072<(e+65536|0)>>>0)for(;A=(0|A)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if(131072<((A<<=1)+65536|0)>>>0)for(;e=(0|e)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);if((e+65536|0)>>>0<=131072)return n=(0|(f=(i=(0|(n=A))/2|0)+(f=e)|0))/(0|n)|0,0|(n=(f=1-r|0)+n|0);for(;A=(0|A)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);return 0|(n=(f=1-r|0)+(n=(0|(n=(n=(0|A)/2|0)+e|0))/(0|A)|0)|0)}function ro(A){var e=0,r=0,i=0,f=0,n=0;if(n=0|ar[(A|=0)+68>>2],e=(0|ar[A+64>>2])-n|0,f=131072<(n+65536|0)>>>0)for(r=e,A=n;r=(0|r)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);else r=e,A=n;if(131072<(r+65536|0)>>>0)for(;A=(0|A)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);if(131072<((A<<=1)+65536|0)>>>0)for(;r=(0|r)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);if(131072<(r+65536|0)>>>0)for(;A=(0|A)/2|0,131072<((r=(0|r)/2|0)+65536|0)>>>0;);if(i=0-r|0,1==(0|A))if(131072<(65536-r|0)>>>0)for(A=1;A=(0|A)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);else A=1;else{if(131072<(A+65536|0)>>>0)for(;i=(0|i)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);if(131072<(i+65536|0)>>>0)for(;A=(0|A)/2|0,131072<((i=(0|i)/2|0)+65536|0)>>>0;);}if(r=(((0|A)/2|0)+i|0)/(0|A)|0,f)for(A=n;e=(0|e)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);else A=n;if(131072<(e+65536|0)>>>0)for(;A=(0|A)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);if(131072<((A<<=1)+65536|0)>>>0)for(;e=(0|e)/2|0,131072<((A=(0|A)/2|0)+65536|0)>>>0;);if((e+65536|0)>>>0<=131072)return n=(0|(f=(i=(0|(n=A))/2|0)+(f=e)|0))/(0|n)|0,0|(n=(f=1-r|0)+n|0);for(;A=(0|A)/2|0,131072<((e=(0|e)/2|0)+65536|0)>>>0;);return 0|(n=(f=1-r|0)+(n=(0|(n=(n=(0|A)/2|0)+e|0))/(0|A)|0)|0)}function io(A,e,r){e|=0,r|=0;var i,f,n,t=0;if(ar[(A|=0)>>2]=0,ar[(n=A+4|0)>>2]=0,((ar[A+8>>2]=0)|(t=0|ar[e+56>>2]))!=(0|(f=0|ar[e+60>>2]))){i=A+8|0,e=t;do{do{if((0|ar[e+48>>2])==(0|r)){if((0|(t=0|ar[n>>2]))==(0|ar[i>>2])){de(A,e);break}se(t,e),ar[n>>2]=64+(0|ar[n>>2]);break}}while(0);e=e+64|0}while((0|e)!=(0|f))}}function fo(A,e,r,i){A|=0,r|=0,i|=0;var f=0;f=0|ar[(e|=0)+56>>2],e=0|ar[e+60>>2];A:do{if((0|f)!=(0|e)){for(;(0|ar[f+48>>2])!=(0|r)||(0|ar[f+20>>2])!=(0|i);)if((0|(f=f+64|0))==(0|e))break A;return void Ge(A,f+52|0)}}while(0);ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0}function no(A,e){e|=0;var r,i,f,n,t,o,a,c,l,u,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0;if(ur=(u=ur)+32|0,o=u+20|0,t=u+16|0,n=u+12|0,a=u+8|0,c=u+4|0,l=u,(0|(b=0|ar[(A|=0)+92>>2]))==(0|(f=0|ar[A+96>>2])))return ur=u,1;r=e+4|0,i=e+8|0;A:for(;;){if((0|(A=0|ar[b+4>>2]))!=(0|(p=0|ar[b+8>>2])))do{if(w=((0|ar[(Z=A+4|0)>>2])-(0|ar[A>>2])|0)>>>24&255,s=0|ar[r>>2],(d=g=0|ar[i>>2])>>>0<=s>>>0){if(m=g=0|ar[e>>2],(0|(s=(v=s-g|0)+1|0))<0){A=9;break A}k=(h=d-g|0)<<1,h=(k=h>>>0<1073741823?k>>>0<s>>>0?s:k:2147483647)?0|hu(k):0,tr[(d=h+v|0)>>0]=w,s=d+1|0,d=d+(0-v)|0,0<(0|v)&&hb(0|d,0|m,0|v),ar[e>>2]=d,ar[r>>2]=s,ar[i>>2]=h+k,g&&(vu(m),s=0|ar[r>>2])}else tr[s>>0]=w,s=1+(0|ar[r>>2])|0,ar[r>>2]=s;if(w=((0|ar[Z>>2])-(0|ar[A>>2])|0)>>>16&255,(d=g=0|ar[i>>2])>>>0<=s>>>0){if(m=g=0|ar[e>>2],(0|(s=(v=s-g|0)+1|0))<0){A=19;break A}k=(h=d-g|0)<<1,h=(k=h>>>0<1073741823?k>>>0<s>>>0?s:k:2147483647)?0|hu(k):0,tr[(d=h+v|0)>>0]=w,s=d+1|0,d=d+(0-v)|0,0<(0|v)&&hb(0|d,0|m,0|v),ar[e>>2]=d,ar[r>>2]=s,ar[i>>2]=h+k,g&&(vu(m),s=0|ar[r>>2])}else tr[s>>0]=w,s=1+(0|ar[r>>2])|0,ar[r>>2]=s;if(w=((0|ar[Z>>2])-(0|ar[A>>2])|0)>>>8&255,(d=g=0|ar[i>>2])>>>0<=s>>>0){if(m=g=0|ar[e>>2],(0|(s=(v=s-g|0)+1|0))<0){A=29;break A}k=(h=d-g|0)<<1,h=(k=h>>>0<1073741823?k>>>0<s>>>0?s:k:2147483647)?0|hu(k):0,tr[(d=h+v|0)>>0]=w,s=d+1|0,d=d+(0-v)|0,0<(0|v)&&hb(0|d,0|m,0|v),ar[e>>2]=d,ar[r>>2]=s,ar[i>>2]=h+k,g&&(vu(m),s=0|ar[r>>2])}else tr[s>>0]=w,s=1+(0|ar[r>>2])|0,ar[r>>2]=s;if(w=(0|ar[Z>>2])-(0|ar[A>>2])&255,(d=g=0|ar[i>>2])>>>0<=s>>>0){if(m=g=0|ar[e>>2],(0|(s=(v=s-g|0)+1|0))<0){A=39;break A}k=(h=d-g|0)<<1,h=(k=h>>>0<1073741823?k>>>0<s>>>0?s:k:2147483647)?0|hu(k):0,tr[(d=h+v|0)>>0]=w,s=d+1|0,d=d+(0-v)|0,0<(0|v)&&hb(0|d,0|m,0|v),ar[e>>2]=d,ar[r>>2]=s,ar[i>>2]=h+k,g&&(vu(m),s=0|ar[r>>2])}else tr[s>>0]=w,s=1+(0|ar[r>>2])|0,ar[r>>2]=s;ar[a>>2]=s,ar[c>>2]=ar[A>>2],ar[l>>2]=ar[Z>>2],ar[n>>2]=ar[a>>2],ar[t>>2]=ar[c>>2],ar[o>>2]=ar[l>>2],to(e,n,t,o),A=A+12|0}while((0|A)!=(0|p));if((0|(b=b+16|0))==(0|f)){A=3;break}}return 3==(0|A)?(ur=u,1):(9!=(0|A)&&19!=(0|A)&&29!=(0|A)&&39!=(0|A)||zl(),0)}function to(A,e,r,i){e|=0,r|=0,i|=0;var f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0;if(e=(u=f=0|ar[(A|=0)>>2])+(b=(0|ar[e>>2])-u|0)|0,a=0|ar[r>>2],t=c=0|ar[i>>2],(0|(s=c-a|0))<=0)return 0|(d=e);if((0|s)<=((l=0|ar[(o=A+8|0)>>2])-(i=n=0|ar[(d=A+4|0)>>2])|0)){if((0|(l=i-e|0))<(0|s)){if((0|(c=i=a+l|0))==(0|t))i=n;else{for(a=n;tr[a>>0]=0|tr[i>>0],i=i+1|0,a=1+(0|ar[d>>2])|0,ar[d>>2]=a,(0|i)!=(0|t););i=a}if(!(0<(0|l)))return 0|(d=e);u=i}else u=n;if((i=e+(l=u-(e+s)|0)|0)>>>0<n>>>0)for(a=u;tr[a>>0]=0|tr[i>>0],i=i+1|0,a=1+(0|ar[d>>2])|0,ar[d>>2]=a,(0|i)!=(0|n););if(0|l&&wb(u+(0-l)|0,0|e,0|l),(0|(i=0|ar[r>>2]))==(0|c))return 0|(d=e);for(a=e;tr[a>>0]=0|tr[i>>0],(0|(i=i+1|0))!=(0|c);)a=a+1|0;return 0|e}if((0|(i=i-u+s|0))<0&&zl(),c=(u=l-u|0)<<1,c=u>>>0<1073741823?c>>>0<i>>>0?i:c:2147483647,u=e,i=s=(l=c?0|hu(c):0)+b|0,b=l+c|0,(0|a)==(0|t))c=f;else{for(c=s;tr[c>>0]=0|tr[a>>0],i=c=i+1|0,(0|(a=a+1|0))!=(0|t););c=0|ar[A>>2]}return l=s+(0-(a=u-c|0))|0,0<(0|a)&&hb(0|l,0|c,0|a),e=0<(0|(a=(0|ar[d>>2])-u|0))?(hb(0|i,0|e,0|a),i=i+a|0,0|ar[A>>2]):c,ar[A>>2]=l,ar[d>>2]=i,ar[o>>2]=b,e&&vu(e),0|(d=s)}function oo(A,e,r,i){e|=0,r|=0,i|=0,ar[(A|=0)>>2]=e,ar[A+4>>2]=r,yu(A+8|0,i)}function ao(A,e,r){A|=0,r|=0;var i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0;if(ur=(n=ur)+176|0,o=n+160|0,i=n+16|0,f=n,t=0|ar[(e|=0)>>2],!r)return ar[A>>2]=t,ar[A+4>>2]=ar[e+4>>2],e=0|ar[(e=6168)>>2],ar[(A=A+8|0)>>2]=e,void(ur=n);if(t){switch(u=64+i|0,ar[(s=8+i|0)>>2]=4524,b=12+i|0,ar[i>>2]=188,ar[u>>2]=208,Jf(64+i|(ar[4+i>>2]=0),b),ar[136+i>>2]=0,ar[140+i>>2]=-1,ar[i>>2]=4504,ar[u>>2]=4544,ar[s>>2]=4524,Sf(b),ar[b>>2]=4340,ar[(s=44+i|0)>>2]=0,ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s+12>>2]=0,ar[60+i>>2]=24,ar[o>>2]=0,ar[o+4>>2]=0,ar[o+8>>2]=0,Xe(b,o),(0|tr[o+11>>0])<0&&vu(0|ar[o>>2]),l=8+i|0,0|ar[e>>2]){case 0:a=32215;break;case 1:a=24245;break;case 2:a=24231;break;case 3:a=24209;break;case 4:a=24189;break;case 5:a=24177;break;case 6:a=24153;break;case 7:a=24119;break;case 8:a=24085;break;case 9:a=24040;break;case 10:a=24011;break;default:sr(55739,23985,74,23994)}c=0|We(0|We(l,a,0|Vc(a)),25392,2),We(c,a=0|function(A){var e=0;switch(0|(A|=0)){case 0:e=25380;break;case 100:e=25357;break;case 101:e=25340;break;case 118:e=25322;break;case 119:e=25302;break;case 102:e=25288;break;case 103:e=25274;break;case 104:e=25260;break;case 105:e=25246;break;case 106:e=25232;break;case 131:e=25218;break;case 107:e=25204;break;case 108:e=25190;break;case 109:e=25176;break;case 110:e=25162;break;case 111:e=25148;break;case 112:e=25134;break;case 113:e=25120;break;case 125:e=25106;break;case 114:e=25085;break;case 115:e=25039;break;case 116:e=25008;break;case 117:e=24991;break;case 120:e=24954;break;case 121:e=24933;break;case 122:e=24896;break;case 123:e=24860;break;case 124:e=24833;break;case 126:e=24806;break;case 127:e=24775;break;case 128:e=24749;break;case 129:e=24730;break;case 130:e=24713;break;case 1e3:e=24689;break;case 2e3:e=24657;break;case 2001:e=24634;break;case 2002:e=24596;break;case 2003:e=24546;break;case 2004:e=24496;break;case 2005:e=24474;break;case 2006:e=24450;break;case 3e3:e=24432;break;case 3001:e=24409;break;case 3002:e=24384;break;case 3003:e=24355;break;case 3004:e=24318;break;case 4e3:e=24296;break;case 5e3:e=24271;break;default:sr(55739,23985,198,23994)}return 0|e}(0|ar[(o=e+4|0)>>2]),0|Vc(a)),(t=0|tr[(c=(a=e+8|0)+11|0)>>0])<<24>>24<0?t=0|ar[e+12>>2]:t&=255,0|t&&(d=0|We(l,25392,2),We(d,(t=(c=0|tr[c>>0])<<24>>24<0)?0|ar[a>>2]:a,t?0|ar[e+12>>2]:255&c)),Ie(f,b),Eu(r,f),t=(0|tr[r+11>>0])<0?0|ar[r>>2]:r,ar[(a=r+12|0)>>2]=t,(0|tr[f+11>>0])<0&&vu(0|ar[f>>2]),ar[i>>2]=4504,ar[u>>2]=4544,ar[l>>2]=4524,ar[b>>2]=4340,(0|tr[s+11>>0])<0&&vu(0|ar[s>>2]),kf(b),bf(u),t=0|ar[e>>2]}else ar[(a=r+12|0)>>2]=32215,o=e+4|0,t=0;ar[A>>2]=t,ar[A+4>>2]=ar[o>>2],e=0|ar[(e=a)>>2],ar[(d=A+8|0)>>2]=e,ur=n}function co(A){var e,r,i;for(ar[(A|=0)+112>>2]=0,r=A+112|(ar[A+116>>2]=0),e=i=A+108|0;(0|(A=A+4|(ar[A>>2]=0)))<(0|e););ar[i>>2]=r}function lo(A){var e,r=0,i=0,f=0,n=0;if(uo((A|=0)+108|0,0|ar[A+112>>2]),0|(r=0|ar[A+104>>2])&&du(r),0|(r=0|ar[A+96>>2])&&du(r),0|(r=0|ar[A+88>>2])&&du(r),0|(r=0|ar[A+80>>2])&&du(r),0|(r=0|ar[A+72>>2])&&du(r),0|(r=0|ar[A+64>>2])&&du(r),0|(r=0|ar[A+56>>2])&&du(r),0|(r=0|ar[A+48>>2])&&du(r),0|(r=0|ar[A+40>>2])&&du(r),0|(r=0|ar[A+32>>2])&&du(r),0|(r=0|ar[A+24>>2])&&du(r),0|(r=0|ar[(e=A+8|0)>>2])){if((0|(i=0|ar[(n=A+12|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}(r=0|ar[A+4>>2])&&du(r)}function uo(A,e){A|=0,(e|=0)&&(uo(A,0|ar[e>>2]),uo(A,0|ar[e+4>>2]),0|(A=0|ar[e+24>>2])&&du(A),vu(e))}function bo(A,e,r){A|=0,e|=0;var i,f,n,t,o,a=0;ur=(o=ur)+48|0,n=(t=o)+32|0,f=0|ar[(r|=0)>>2],0|(a=0|ar[r+4>>2])&&bu(a),ar[e>>2]=f,r=0|ar[(i=e+4|0)>>2],ar[i>>2]=a,r?(du(r),r=0|ar[e>>2],a=0|ar[i>>2]):r=f,ar[n>>2]=r,0|(ar[(r=4+n|0)>>2]=a)&&bu(a),WA(t,n,-1,2147483647,0),0|(r=0|ar[r>>2])&&du(r),function(A,e,r){A|=0;var i,f,n,t,o,a,c,l,u,b,s,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0;ur=(s=ur)+288|0,t=s+264|0,C=s+108|0,o=s+96|0,c=s+84|0,l=s+72|0,u=s+60|0,R=s+48|0,N=s+36|0,_=s+24|0,Q=s+12|0,i=4+(b=(D=s)+276|0)|0,w=24+(r|=0)|0,v=r+16|0,m=12+(e|=0)|0,g=e+16|0,Z=e+8|0,p=e+36|0,y=e+40|0,B=e+20|0,E=e+24|0,n=11+(f=8+(a=s+120|0)|0)|0;for(;;){if(ar[b>>2]=0,ar[i>>2]=0,Ae(a,r,b),(0|ar[a>>2])!=(0|ar[14148])){Y=40;break}if(0|tr[w>>0]){Y=35;break}if(0==(0|ar[(Y=v)>>2])&0==(0|ar[Y+4>>2])){Y=30;break}(0|(d=0|ar[m>>2]))==(0|ar[g>>2])?Ut(Z,b):(ar[d>>2]=ar[b>>2],k=0|ar[i>>2],(ar[d+4>>2]=k)&&(bu(k),d=0|ar[m>>2]),ar[m>>2]=d+8),k=0|ar[b>>2],1835365473==(0|(d=0|ar[k+20>>2]))&&(0!=(0|k)&&0!=(0|(X=0|qu(k,128,160,0)))?(d=X,h=0|ar[i>>2],(k=h)&&bu(h)):k=d=0,ar[p>>2]=d,d=0|ar[y>>2],ar[y>>2]=k,0|d&&du(d),k=0|ar[b>>2],d=0|ar[k+20>>2]),1718909296==(0|d)&&(0!=(0|k)&&0!=(0|(W=0|qu(k,128,144,0)))?(d=W,h=0|ar[i>>2],(k=h)&&bu(h)):k=d=0,ar[B>>2]=d,d=0|ar[E>>2],ar[E>>2]=k,0|d&&du(d)),(0|tr[n>>0])<0&&vu(0|ar[f>>2]),0|(d=0|ar[i>>2])&&du(d)}30!=(0|Y)&&35!=(0|Y)&&40!=(0|Y)||((0|tr[n>>0])<0&&vu(0|ar[f>>2]),0|(d=0|ar[i>>2])&&du(d));if(!(k=0|ar[(d=e+20|0)>>2]))return ar[t>>2]=0,ar[4+t>>2]=0,ar[8+t>>2]=0,oo(A,2,102,t),0<=(0|tr[11+t>>0])||vu(0|ar[t>>2]),ur=s;if(!(0|St(k,1751476579)||0|St(0|ar[d>>2],1751476600)||0|St(0|ar[d>>2],1835623985))&&!(0|St(0|ar[d>>2],1635150182)))return k=64+a|0,ar[(w=8+a|0)>>2]=4524,h=12+a|0,ar[a>>2]=188,ar[k>>2]=208,ar[4+a>>2]=0,Jf(64+a|0,h),ar[136+a>>2]=0,ar[140+a>>2]=-1,ar[a>>2]=4504,ar[k>>2]=4544,ar[w>>2]=4524,Sf(h),ar[h>>2]=4340,ar[(w=44+a|0)>>2]=0,ar[w+4>>2]=0,ar[w+8>>2]=0,ar[w+12>>2]=0,ar[60+a>>2]=24,ar[b>>2]=0,ar[4+b>>2]=0,ar[8+b>>2]=0,Xe(h,b),(0|tr[11+b>>0])<0&&vu(0|ar[b>>2]),We(d=8+a|0,25395,44),Ie(C,h),oo(A,3,0,C),(0|tr[C+11>>0])<0&&vu(0|ar[C>>2]),ar[a>>2]=4504,ar[k>>2]=4544,ar[d>>2]=4524,ar[h>>2]=4340,(0|tr[w+11>>0])<0&&vu(0|ar[w>>2]),kf(h),bf(k),ur=s;if(!(d=0|ar[(v=e+36|0)>>2]))return ar[o>>2]=0,ar[4+o>>2]=0,ar[8+o>>2]=0,oo(A,2,104,o),0<=(0|tr[11+o>>0])||vu(0|ar[o>>2]),ur=s;Tt(b,d,1751411826),k=0!=(0|(d=0|ar[b>>2]))&&0!=(0|(I=0|qu(d,128,1128,0)))?(d=I,k=0|ar[4+b>>2],(h=k)&&bu(k),h):d=0;ar[(h=e+28|0)>>2]=d,d=0|ar[(C=e+32|0)>>2],ar[C>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);if(0|(C=0|ar[h>>2])&&1885954932!=(0|ar[C+60>>2]))return ar[c>>2]=0,ar[4+c>>2]=0,ar[8+c>>2]=0,oo(A,2,114,c),0<=(0|tr[11+c>>0])||vu(0|ar[c>>2]),ur=s;Tt(b,0|ar[v>>2],1885959277),k=0!=(0|(d=0|ar[b>>2]))&&0!=(0|(G=0|qu(d,128,1096,0)))?(d=G,k=0|ar[4+b>>2],(h=k)&&bu(k),h):d=0;ar[(h=e+84|0)>>2]=d,d=0|ar[(G=e+88|0)>>2],ar[G>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);if(!(0|ar[h>>2]))return ar[l>>2]=0,ar[4+l>>2]=0,ar[8+l>>2]=0,oo(A,2,107,l),0<=(0|tr[11+l>>0])||vu(0|ar[l>>2]),ur=s;Tt(b,0|ar[v>>2],1768977008),k=0!=(0|(d=0|ar[b>>2]))&&0!=(0|(V=0|qu(d,128,968,0)))?(d=V,k=0|ar[4+b>>2],(h=k)&&bu(k),h):d=0;ar[(w=e+100|0)>>2]=d,d=0|ar[(V=e+104|0)>>2],ar[V>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);if(!(d=0|ar[w>>2]))return ar[u>>2]=0,ar[4+u>>2]=0,ar[8+u>>2]=0,oo(A,2,112,u),0<=(0|tr[11+u>>0])||vu(0|ar[u>>2]),ur=s;Tt(b,d,1768973167),k=0!=(0|(d=0|ar[b>>2]))&&0!=(0|(F=0|qu(d,128,936,0)))?(d=F,k=0|ar[4+b>>2],(h=k)&&bu(k),h):d=0;ar[(h=e+44|0)>>2]=d,d=0|ar[(F=e+48|0)>>2],ar[F>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);if(!(0|ar[h>>2]))return ar[R>>2]=0,ar[R+4>>2]=0,ar[R+8>>2]=0,oo(A,2,108,R),0<=(0|tr[R+11>>0])||vu(0|ar[R>>2]),ur=s;Tt(b,0|ar[w>>2],1768975713),d=0|ar[b>>2];do{if(d){if(!(d=0|qu(d,128,904,0))){k=d=0;break}if(k=0|ar[4+b>>2],!(h=k)){k=h;break}bu(k),k=h}else k=d=0}while(0);ar[(h=e+52|0)>>2]=d,d=0|ar[(R=e+56|0)>>2],ar[R>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);if(!(0|ar[h>>2]))return ar[N>>2]=0,ar[N+4>>2]=0,ar[N+8>>2]=0,oo(A,2,109,N),0<=(0|tr[N+11>>0])||vu(0|ar[N>>2]),ur=s;Tt(b,0|ar[v>>2],1768714083),d=0|ar[b>>2];do{if(d){if(!(d=0|qu(d,128,1064,0))){k=d=0;break}if(k=0|ar[4+b>>2],!(h=k)){k=h;break}bu(k),k=h}else k=d=0}while(0);ar[(h=e+60|0)>>2]=d,d=0|ar[(N=e+64|0)>>2],ar[N>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);if(!(0|ar[h>>2]))return ar[_>>2]=0,ar[_+4>>2]=0,ar[_+8>>2]=0,oo(A,2,110,_),0<=(0|tr[_+11>>0])||vu(0|ar[_>>2]),ur=s;Tt(b,0|ar[v>>2],1768186228),d=0|ar[b>>2];do{if(d){if(!(d=0|qu(d,128,616,0))){k=d=0;break}if(h=0|ar[4+b>>2],!(k=h))break;bu(h)}else k=d=0}while(0);ar[e+68>>2]=d,d=0|ar[(_=e+72|0)>>2],ar[_>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);Tt(b,0|ar[v>>2],1769104742),d=0|ar[b>>2];do{if(d){if(!(d=0|qu(d,128,712,0))){k=d=0;break}if(h=0|ar[4+b>>2],!(k=h))break;bu(h)}else k=d=0}while(0);ar[e+76>>2]=d,d=0|ar[(_=e+80|0)>>2],ar[_>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);Tt(b,0|ar[v>>2],1768517222),d=0|ar[b>>2];do{if(d){if(!(d=0|qu(d,128,1032,0))){k=d=0;break}if(k=0|ar[4+b>>2],!(h=k)){k=h;break}bu(k),k=h}else k=d=0}while(0);ar[(h=e+92|0)>>2]=d,d=0|ar[(_=e+96|0)>>2],ar[_>>2]=k,0|d&&du(d);0|(d=0|ar[4+b>>2])&&du(d);if(!(d=0|ar[h>>2]))return ar[Q>>2]=0,ar[Q+4>>2]=0,ar[Q+8>>2]=0,oo(A,2,111,Q),0<=(0|tr[Q+11>>0])||vu(0|ar[Q>>2]),ur=s;(function(A,e,r){e|=0,r|=0;var i,f,n,t=0,o=0;if(ar[(A|=0)>>2]=0,ar[(n=A+4|0)>>2]=0,((ar[A+8>>2]=0)|(t=0|ar[e+44>>2]))!=(0|(f=0|ar[e+48>>2]))){i=A+8|0;do{o=e=0|ar[t>>2];do{if((0|ar[e+20>>2])==(0|r)){if((0|(e=0|ar[n>>2]))==(0|ar[i>>2])){Ut(A,t);break}ar[e>>2]=o,o=0|ar[t+4>>2],(ar[e+4>>2]=o)&&(bu(o),e=0|ar[n>>2]),ar[n>>2]=e+8}}while(0);t=t+8|0}while((0|t)!=(0|f))}})(b,d,1768842853),d=0|ar[b>>2],p=0|ar[(W=4+b|0)>>2];A:do{if((0|d)==(0|p))Y=186;else for(y=D+11|0,B=e+108|0,X=E=e+112|0,Z=e+116|0;;){k=0|ar[d>>2];do{if(k){if(!(h=0|qu(k,128,1e3,0))){k=0,Y=164;break}if(g=h,(k=0|ar[d+4>>2])?bu(k):k=0,!h){Y=164;break}m=0|ar[h+56>>2],0|(r=k)&&bu(k),h=0|ar[E>>2];do{if(h){for(v=X;;)if(w=0|ar[h+16>>2],m>>>0<w>>>0){if(!(w=0|ar[h>>2])){Y=172;break}v=h,h=w}else{if(m>>>0<=w>>>0){Y=176;break}if(!(w=0|ar[(v=h+4|0)>>2])){Y=175;break}h=w}if(172==(0|Y)){Y=0,v=w=h;break}if(175==(0|Y)){Y=0,w=h;break}if(176==(0|Y)){Y=0,w=h;break}}else v=w=E}while(0);if(0|ar[v>>2]){if(!k){h=0;break}du(k),h=0;break}h=0|hu(28),ar[h+16>>2]=m,ar[h+20>>2]=g,ar[h+24>>2]=r,ar[h>>2]=0,ar[h+4>>2]=0,ar[h+8>>2]=w,ar[v>>2]=h,(w=0|ar[ar[B>>2]>>2])&&(ar[B>>2]=w,h=0|ar[v>>2]),so(0|ar[X>>2],h),ar[Z>>2]=1+(0|ar[Z>>2]),h=0}else k=0,Y=164}while(0);do{if(164==(0|Y)){if(Y=0,ar[D>>2]=0,ar[D+4>>2]=0,ar[D+8>>2]=0,oo(A,2,125,D),0<=(0|tr[y>>0])){h=1;break}vu(0|ar[D>>2]),h=1}}while(0);if(0|k&&du(k),d=d+8|0,0|h)break A;if((0|d)==(0|p)){Y=186;break}}}while(0);186==(0|Y)&&(e=0|ar[(Q=56592)+4>>2],ar[(D=A)>>2]=ar[Q>>2],ar[D+4>>2]=e,yu(A+8|0,56600));if(0|(d=0|ar[b>>2])){if((0|(k=0|ar[W>>2]))!=(0|d)){for(;h=k+-8|0,ar[W>>2]=h,(0|(k=(k=0|ar[k+-4>>2])?(du(k),0|ar[W>>2]):h))!=(0|d););d=0|ar[b>>2]}vu(d)}ur=s}(A,e,t),ur=((r=0|ar[t+4>>2])&&du(r),o)}function so(A,e){var r=0,i=0,f=0,n=0,t=0;if(t=(0|(e|=0))==(0|(A|=0)),tr[e+12>>0]=1&t,!t){for(;;){if(t=0|ar[e+8>>2],0|tr[(f=t+12|0)>>0]){r=23;break}if(i=0|ar[(n=t+8|0)>>2],(0|(r=0|ar[i>>2]))==(0|t)){if(!(r=0|ar[i+4>>2])){r=7;break}if(0|tr[(r=r+12|0)>>0]){r=7;break}e=r}else{if(!r){r=16;break}if(0|tr[(r=r+12|0)>>0]){r=16;break}e=r}if(tr[f>>0]=1,t=(0|i)==(0|A),tr[i+12>>0]=1&t,tr[e>>0]=1,t){r=23;break}e=i}if(7==(0|r))return f=(0|ar[t>>2])==(0|e)?(e=t,i):(r=0|ar[(A=t+4|0)>>2],e=0|ar[r>>2],e=(ar[A>>2]=e)?(ar[e+8>>2]=t,0|ar[n>>2]):i,ar[r+8>>2]=e,e=0|ar[n>>2],ar[((0|ar[e>>2])==(0|t)?e:e+4|0)>>2]=r,ar[r>>2]=t,ar[n>>2]=r,0|ar[(e=r)+8>>2]),tr[e+12>>0]=1,e=(tr[f+12>>0]=0)|ar[f>>2],i=0|ar[(r=e+4|0)>>2],0|(ar[f>>2]=i)&&(ar[i+8>>2]=f),t=f+8|0,ar[e+8>>2]=ar[t>>2],n=0|ar[t>>2],ar[((0|ar[n>>2])==(0|f)?n:n+4|0)>>2]=e,ar[r>>2]=f,void(ar[t>>2]=e);if(16==(0|r))return(0|ar[t>>2])==(0|e)?(f=0|ar[t>>2],e=0|ar[(r=f+4|0)>>2],(ar[t>>2]=e)&&(ar[e+8>>2]=t,i=0|ar[n>>2]),ar[f+8>>2]=i,e=0|ar[n>>2],ar[((0|ar[e>>2])==(0|t)?e:e+4|0)>>2]=f,ar[r>>2]=t,ar[n>>2]=f,i=0|ar[(e=f)+8>>2]):e=t,tr[e+12>>0]=1,e=(tr[i+12>>0]=0)|ar[(t=i+4|0)>>2],r=0|ar[e>>2],0|(ar[t>>2]=r)&&(ar[r+8>>2]=i),t=i+8|0,ar[e+8>>2]=ar[t>>2],n=0|ar[t>>2],ar[((0|ar[n>>2])==(0|i)?n:n+4|0)>>2]=e,ar[e>>2]=i,void(ar[t>>2]=e)}}function ko(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a;ur=(n=ur)+16|0,o=n,t=0|hu(48),ar[4+t>>2]=0,ar[8+t>>2]=0,ar[t>>2]=6180,function(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n=0;if(ar[(A|=0)>>2]=4232,ar[(n=A+8|0)>>2]=r,ar[n+4>>2]=i,ar[(n=A+16|0)>>2]=0,ar[n+4>>2]=0,ar[(n=A+24|0)>>2]=0,!f)return i=e,ar[(f=A+4|0)>>2]=i;i=0|wu(f=i>>>0<0|0==(0|i)&r>>>0<4294967295?r:-1),hb(0|(ar[n>>2]=i),0|e,0|r),ar[(f=A+4|0)>>2]=i}(a=16+t|0,r,i,0,f),ar[o>>2]=a,bu(ar[o+4>>2]=t),bo(A,e,o),du(t),du(t),ur=n}function ho(A,e,r){A|=0,r|=0;var i,f=0,n=0,t=0;if(f=0|ar[(i=(e|=0)+112|0)>>2]){e=i,n=f;A:for(;;){for(f=n;!((0|ar[f+16>>2])>>>0>=r>>>0);)if(!(f=0|ar[f+4>>2]))break A;if(!(n=0|ar[f>>2])){e=f;break}e=f}(0|e)!=(0|i)&&(0|ar[e+16>>2])>>>0<=r>>>0?(f=0|ar[e+20>>2],(e=0|ar[e+24>>2])?bu(e):e=0,f?yu(A,f+64|0):t=11):(e=0,t=11)}else e=0,t=11;11==(0|t)&&(ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0),e&&du(e)}function wo(A,e,r){A|=0,r|=0;var i,f=0,n=0,t=0;if(f=0|ar[(i=(e|=0)+112|0)>>2]){e=i,n=f;A:for(;;){for(f=n;!((0|ar[f+16>>2])>>>0>=r>>>0);)if(!(f=0|ar[f+4>>2]))break A;if(!(n=0|ar[f>>2])){e=f;break}e=f}(0|e)!=(0|i)&&(0|ar[e+16>>2])>>>0<=r>>>0?(f=0|ar[e+20>>2],(e=0|ar[e+24>>2])?bu(e):e=0,f?yu(A,f+88|0):t=11):(e=0,t=11)}else e=0,t=11;11==(0|t)&&(ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0),e&&du(e)}function vo(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t,o;return ur=(o=ur)+32|0,f=o+12|0,n=o,(t=0|ar[(e|=0)+44>>2])?0|ar[(e=e+52|0)>>2]?(Ht(A,t,r,e,i),void(ur=o)):(ar[n>>2]=0,ar[n+4>>2]=0,ar[n+8>>2]=0,oo(A,2,109,n),void(ur=(0<=(0|tr[n+11>>0])||vu(0|ar[n>>2]),o))):(ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,oo(A,2,108,f),0<=(0|tr[11+f>>0])||vu(0|ar[f>>2]),void(ur=o))}function mo(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0;if(ur=(d=ur)+352|0,l=d+192|0,C=d+328|0,V=d+304|0,b=d+340|0,s=d+316|0,u=d+292|0,T=d+48|0,R=d+280|0,F=d+268|0,M=d+24|0,n=d+256|0,t=(c=d)+248|0,o=d+232|0,a=d+224|0,f=d+216|0,0|(W=0|ar[(G=(e|=0)+112|0)>>2])){E=G,I=W;A:for(;;){for(X=I;!((0|ar[X+16>>2])>>>0>=r>>>0);)if(!(X=0|ar[X+4>>2]))break A;if(!(I=0|ar[X>>2])){E=X;break}E=X}if((0|E)!=(0|G)&&(0|ar[E+16>>2])>>>0<=r>>>0){E=G;A:for(;;){for(X=W;!((0|ar[X+16>>2])>>>0>=r>>>0);)if(!(X=0|ar[X+4>>2]))break A;if(!(W=0|ar[X>>2])){E=X;break}E=X}if((0|E)!=(0|G)&&(0|ar[E+16>>2])>>>0<=r>>>0)if(W=0|ar[E+20>>2],(E=0|ar[E+24>>2])?bu(E):E=0,X=W){if(yu(b,X+64|0),yu(s,X+88|0),function(A,e){e|=0;var r,i,f,n=0;if(ar[(A|=0)>>2]=0,ar[(f=A+4|0)>>2]=0,ar[A+8>>2]=0,n=(0|ar[(i=e+4|0)>>2])-(0|ar[e>>2])|0,!(r=n>>5))return;134217727<r>>>0&&zl();if(n=0|hu(n),ar[f>>2]=n,ar[A>>2]=n,ar[A+8>>2]=n+(r<<5),A=0|ar[e>>2],e=0|ar[i>>2],(0|A)==(0|e))return;for(;ar[n>>2]=ar[A>>2],ar[n+4>>2]=ar[A+4>>2],ar[n+8>>2]=ar[A+8>>2],ar[n+12>>2]=ar[A+12>>2],Dt(n+16|0,A+16|0),A=A+32|0,n=32+(0|ar[f>>2])|0,ar[f>>2]=n,(0|A)!=(0|e););}(u,56+(0|ar[(Q=e+60|0)>>2])|0),(0|(X=0|ar[u>>2]))!=(0|(W=0|ar[(U=4+u|0)>>2]))){for(J=0;J=(V=(0|ar[X>>2])==(0|r))?X:J,!(V|(0|(X=X+32|0))==(0|W)););if(J){ar[F>>2]=0,ar[F+4>>2]=0,ar[F+8>>2]=0,oo(l,4,3e3,F),(0|tr[F+11>>0])<0&&vu(0|ar[F>>2]),W=0|tr[(I=11+b|0)>>0],X=0|ar[(C=4+b|0)>>2];do{if(4==(0|(W<<24>>24<0?X:255&W))){if(0|Yu(b,0,-1,30298,4)){W=0|tr[I>>0],X=0|ar[C>>2],S=72;break}ar[T>>2]=0,ar[(G=T+4|0)>>2]=0,Ht(M,(ar[T+8>>2]=0)|ar[e+44>>2],r,e+52|0,T);do{if(0|ar[M>>2])C=0|ar[(e=M)+4>>2],ar[(i=A)>>2]=ar[e>>2],ar[i+4>>2]=C,C=M+8|0,ar[(i=A+8|0)>>2]=ar[C>>2],ar[i+4>>2]=ar[C+4>>2],ar[i+8>>2]=ar[C+8>>2],ar[C>>2]=0,ar[C+4>>2]=0,ar[C+8>>2]=0,C=1;else{for((0|(X=0|ar[T>>2]))==(0|(C=0|ar[G>>2]))?sr(55739,25520,565,25571):(Y=X,_=0);;){if(X=0|ar[Y+4>>2],1752589123==(0|ar[X+20>>2])){do{if(X){if(!(X=0|qu(X,128,680,0))){D=N=0;break}if(!(I=W=0|ar[Y+8>>2])){N=X,D=I;break}bu(W),N=X,D=I}else D=N=0}while(0);if(0|_&&du(_),N)break;X=D}else X=_;if((0|(Y=Y+12|0))==(0|C)){S=48;break}_=X}48==(0|S)&&sr(55739,25520,565,25571);do{if(0|no(N,i))X=0|ar[Q>>2],ar[t>>2]=ar[e>>2],C=4+t|0,W=0|ar[e+4>>2],0|(ar[C>>2]=W)&&bu(W),Ot(c,X,J,t,e+68|0,i),X=0|ar[(W=c)+4>>2],ar[(I=l)>>2]=ar[W>>2],ar[I+4>>2]=X,X=c+8|0,(0|tr[(W=(I=8+l|0)+11|0)>>0])<0?(tr[ar[I>>2]>>0]=0,ar[12+l>>2]=0):(tr[I>>0]=0,tr[W>>0]=0),Cu(I,0),ar[I>>2]=ar[X>>2],ar[I+4>>2]=ar[X+4>>2],ar[I+8>>2]=ar[X+8>>2],ar[X>>2]=0,ar[X+4>>2]=0,(ar[X+8>>2]=0)|(X=0|ar[C>>2])&&du(X),X=0;else{if(ar[n>>2]=0,ar[4+n>>2]=0,ar[8+n>>2]=0,oo(A,2,117,n),0<=(0|tr[11+n>>0])){X=1;break}vu(0|ar[n>>2]),X=1}}while(0);if(!D){C=X;break}du(D),C=X}}while(0);if((0|tr[(X=M+8|0)+11>>0])<0&&vu(0|ar[X>>2]),0|(X=0|ar[T>>2])){if((0|(W=0|ar[G>>2]))!=(0|X)){for(;I=W+-12|0,ar[G>>2]=I,(0|(W=(W=0|ar[W+-4>>2])?(du(W),0|ar[G>>2]):I))!=(0|X););X=0|ar[T>>2]}vu(X)}C||(S=118)}else S=72}while(0);do{if(72==(0|S)){if(4==(0|(W<<24>>24<0?X:255&W))&&0==(0|Yu(b,0,-1,30318,4))){ar[T>>2]=0,ar[(R=T+4|0)>>2]=0,Ht(M,(ar[T+8>>2]=0)|ar[e+44>>2],r,e+52|0,T);do{if(0|ar[M>>2])C=0|ar[(e=M)+4>>2],ar[(i=A)>>2]=ar[e>>2],ar[i+4>>2]=C,C=M+8|0,ar[(i=A+8|0)>>2]=ar[C>>2],ar[i+4>>2]=ar[C+4>>2],ar[i+8>>2]=ar[C+8>>2],ar[C>>2]=0,ar[C+4>>2]=0,ar[C+8>>2]=0,C=1;else{X=0|ar[T>>2],V=0|ar[R>>2];A:do{if((0|X)==(0|V))X=0,S=86;else{for(G=X,X=0;;){if(W=0|ar[G+4>>2],1635135811==(0|ar[W+20>>2])){do{if(W){if(!(W=0|qu(W,128,648,0))){F=W=0;break}if(!(C=I=0|ar[G+8>>2])){F=C;break}bu(I),F=C}else F=W=0}while(0);if(0|X&&du(X),W)break;X=F}if((0|(G=G+12|0))==(0|V)){S=86;break A}}(0|(W=(X=W)+68|0))!=(0|i)&&(k=i,h=0|ar[W>>2],w=0|ar[X+72>>2],B=y=p=Z=g=m=v=void 0,m=(B=w|=B=y=p=Z=g=0)-(v=h|=0)|0,((g=0|ar[(p=8+(k|=0)|0)>>2])-(y=Z=0|ar[k>>2])|0)>>>0<m>>>0?(Z&&((0|ar[(g=k+4|0)>>2])!=(0|y)&&(ar[g>>2]=y),vu(y),ar[p>>2]=0,ar[g>>2]=0,g=ar[k>>2]=0),(0|m)<0&&zl(),B=g<<1,(0|(g=g>>>0<1073741823?B>>>0<m>>>0?m:B:2147483647))<0&&zl(),y=0|hu(g),ar[(B=k+4|0)>>2]=y,ar[k>>2]=y,ar[p>>2]=y+g,hb(0|y,0|h,0|m),ar[B>>2]=y+m):(0|(g=(Z=w=(k=(Z=(0|ar[(p=k+4|0)>>2])-Z|0)>>>0<m>>>0)?h+Z|0:w)-v|0)&&wb(0|y,0|h,0|g),g=y+g|0,k?(0|(g=B-Z|0))<=0||(hb(0|ar[p>>2],0|w,0|g),ar[p>>2]=(0|ar[p>>2])+g):(0|ar[p>>2])!=(0|g)&&(ar[p>>2]=g))),X=0|ar[Q>>2],ar[a>>2]=ar[e>>2],C=4+a|0,W=0|ar[e+4>>2],0|(ar[C>>2]=W)&&bu(W),Ot(c,X,J,a,e+68|0,i),X=0|ar[(W=c)+4>>2],ar[(I=l)>>2]=ar[W>>2],ar[I+4>>2]=X,X=c+8|0,(0|tr[(W=(I=8+l|0)+11|0)>>0])<0?(tr[ar[I>>2]>>0]=0,ar[12+l>>2]=0):(tr[I>>0]=0,tr[W>>0]=0),Cu(I,0),ar[I>>2]=ar[X>>2],ar[I+4>>2]=ar[X+4>>2],ar[I+8>>2]=ar[X+8>>2],ar[X>>2]=0,ar[X+4>>2]=0,(ar[X+8>>2]=0)|(X=0|ar[C>>2])&&du(X),W=0,X=F}}while(0);do{if(86==(0|S)){if(ar[o>>2]=0,ar[4+o>>2]=0,ar[8+o>>2]=0,oo(A,2,131,o),0<=(0|tr[11+o>>0])){W=1;break}vu(0|ar[o>>2]),W=1}}while(0);if(!X){C=W;break}du(X),C=W}}while(0);if((0|tr[(X=M+8|0)+11>>0])<0&&vu(0|ar[X>>2]),0|(X=0|ar[T>>2])){if((0|(W=0|ar[R>>2]))!=(0|X)){for(;I=W+-12|0,ar[R>>2]=I,(0|(W=(W=0|ar[W+-4>>2])?(du(W),0|ar[R>>2]):I))!=(0|X););X=0|ar[T>>2]}vu(X)}if(C)break;S=118;break}X=0|ar[Q>>2],ar[f>>2]=ar[e>>2],C=4+f|0,W=0|ar[e+4>>2],0|(ar[C>>2]=W)&&bu(W),Ot(T,X,J,f,e+68|0,i),X=0|ar[(W=T)+4>>2],ar[(I=l)>>2]=ar[W>>2],ar[I+4>>2]=X,X=T+8|0,(0|tr[(W=(I=8+l|0)+11|0)>>0])<0?(tr[ar[I>>2]>>0]=0,ar[12+l>>2]=0):(tr[I>>0]=0,tr[W>>0]=0),Cu(I,0),ar[I>>2]=ar[X>>2],ar[I+4>>2]=ar[X+4>>2],ar[I+8>>2]=ar[X+8>>2],ar[X>>2]=0,ar[X+4>>2]=0,(ar[X+8>>2]=0)|(X=0|ar[C>>2])&&du(X),S=118}}while(0);do{if(118==(0|S)){if((0|ar[l>>2])==(0|ar[14148])){M=0|ar[(i=56592)+4>>2],ar[(T=A)>>2]=ar[i>>2],ar[T+4>>2]=M,yu(A+8|0,56600);break}M=0|ar[(i=l)+4>>2],ar[(T=A)>>2]=ar[i>>2],ar[T+4>>2]=M,T=A+8|0,A=8+l|0,ar[T>>2]=ar[A>>2],ar[T+4>>2]=ar[A+4>>2],ar[T+8>>2]=ar[A+8>>2],ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0;break}}while(0);(0|tr[(X=8+l|0)+11>>0])<0&&vu(0|ar[X>>2])}else S=24}else S=24;if(24==(0|S)&&(W=T+64|0,ar[(C=T+8|0)>>2]=4524,I=T+12|0,ar[T>>2]=188,ar[W>>2]=208,Jf(T+64|(ar[T+4>>2]=0),I),ar[T+136>>2]=0,ar[T+140>>2]=-1,ar[T>>2]=4504,ar[W>>2]=4544,ar[C>>2]=4524,Sf(I),ar[I>>2]=4340,ar[(C=T+44|0)>>2]=0,ar[C+4>>2]=0,ar[C+8>>2]=0,ar[C+12>>2]=0,ar[T+60>>2]=24,ar[l>>2]=0,ar[4+l>>2]=0,ar[8+l>>2]=0,Xe(I,l),(0|tr[11+l>>0])<0&&vu(0|ar[l>>2]),We(0|Lf(0|We(X=T+8|0,25533,13),r),25547,23),Ie(R,I),oo(A,2,117,R),(0|tr[R+11>>0])<0&&vu(0|ar[R>>2]),ar[T>>2]=4504,ar[W>>2]=4544,ar[X>>2]=4524,ar[I>>2]=4340,(0|tr[C+11>>0])<0&&vu(0|ar[C>>2]),kf(I),bf(W)),0|(X=0|ar[u>>2])){if((0|(W=0|ar[U>>2]))!=(0|X)){do{if(I=W+-32|0,ar[U>>2]=I,F=0|ar[(V=W+-16|0)>>2]){if((0|(W=0|ar[(G=W+-12|0)>>2]))==(0|F))W=F;else{for(;I=W+-40|0,ar[G>>2]=I,(0|(W=(C=0|ar[W+-16>>2])?((0|ar[(W=W+-12|0)>>2])!=(0|C)&&(ar[W>>2]=C),vu(C),0|ar[G>>2]):I))!=(0|F););W=0|ar[V>>2]}vu(W),W=0|ar[U>>2]}else W=I}while((0|W)!=(0|X));X=0|ar[u>>2]}vu(X)}(0|tr[11+s>>0])<0&&vu(0|ar[s>>2]),(0|tr[11+b>>0])<0&&vu(0|ar[b>>2])}else S=19;else E=0,S=19;return(19==(0|S)&&(ar[V>>2]=0,ar[V+4>>2]=0,ar[V+8>>2]=0,oo(A,5,2e3,V),(0|tr[V+11>>0])<0&&vu(0|ar[V>>2])),E)?(du(E),void(ur=d)):void(ur=d)}}ar[C>>2]=0,ar[C+4>>2]=0,ar[C+8>>2]=0,oo(A,5,2e3,C),ur=(0<=(0|tr[C+11>>0])||vu(0|ar[C>>2]),d)}function go(A){return(A|=0)>>>0<4?16908801>>>(A<<3)&255|0:(sr(55739,25597,47,25611),0)}function Zo(A){return(A|=0)>>>0<4?16843265>>>(A<<3)&255|0:(sr(55739,25597,66,25632),0)}function po(A){var e,r,i=0,f=0,n=0;if((0|(i=0|ar[(e=(A|=0)+56|0)>>2]))!=(0|(r=A+60|0)))for(n=i;;){if(0|(i=0|ar[n+44>>2])&&mu(i),i=0|ar[n+4>>2])for(;f=0|ar[i>>2];)i=f;else if(i=0|ar[(f=n+8|0)>>2],(0|ar[i>>2])!=(0|n))for(;n=0|ar[f>>2],i=0|ar[(f=n+8|0)>>2],(0|ar[i>>2])!=(0|n););if((0|i)==(0|r))break;n=i}!function A(e,r){e|=0;r|=0;return r?(A(e,0|ar[r>>2]),A(e,0|ar[r+4>>2]),void vu(r)):void 0}(e,0|ar[r>>2]),0|(i=0|ar[A+52>>2])&&du(i),0|(i=0|ar[A+44>>2])&&du(i),(0|tr[(i=A+8|0)+11>>0])<0&&vu(0|ar[i>>2]),(i=0|ar[A+4>>2])&&ku(i)}function yo(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0,ar[(A|=0)+24>>2]=e,ar[A+28>>2]=r,ar[A+32>>2]=i,ar[A+36>>2]=f}function Bo(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o=0,a=0;if(ur=(t=ur)+64|0,tr[(o=(n=t)+32|0)>>0]=0,ar[(a=o+4|0)>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,ar[a+12>>2]=0,ar[a+16>>2]=0,ar[a+20>>2]=0,!((ar[a+24>>2]=0)|function(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n=0,t=0;(0|(e|=0))<=-1&&sr(25686,25597,157,25697);(0|r)<=-1&&sr(25703,25597,158,25697);(0|i)<=0&&sr(25715,25597,159,25697);33<=(0|i)&&sr(25730,25597,160,25697);ar[A+4>>2]=e,ar[A+8>>2]=r,n=64<(n=e+1&-2)>>>0?n:64,ar[A+12>>2]=n,r=64<(r=r+1&-2)>>>0?r:64,ar[A+16>>2]=r,e=11==(0|f)&32==(0|(e=24==(0|i)&10==(0|f)?8:i))?8:e,17<=(0|cr[A>>0])&&sr(25746,25597,181,25697);switch(e=(7+(255&(tr[A>>0]=e))|0)>>>3,0|f){case 3:case 2:case 1:case 0:case 99:t=1;break;case 14:case 12:case 10:t=3;break;case 15:case 13:case 11:t=4;break;default:sr(55739,25597,118,25653)}return t=15+(0|br(0|br(t,e),n))&-16,ar[A+28>>2]=t,t=0|wu(15|br(t,r)),ar[A+24>>2]=t,f=15&t,ar[A+20>>2]=0==(0|f)?t:t+(16-f)|0,1}(o,r,i,f,0|ar[A+36>>2])))return ur=t,(A=0)|A;a=A+56|0,ar[n>>2]=ar[o>>2],ar[n+4>>2]=ar[o+4>>2],ar[n+8>>2]=ar[o+8>>2],ar[n+12>>2]=ar[o+12>>2],ar[n+16>>2]=ar[o+16>>2],ar[n+20>>2]=ar[o+20>>2],ar[n+24>>2]=ar[o+24>>2],ar[n+28>>2]=ar[o+28>>2],r=0|ar[(i=A+60|0)>>2];do{if(r){for(f=A+60|0;;)if((0|e)<(0|(i=0|ar[r+16>>2]))){if(!(i=0|ar[r>>2])){i=7;break}f=r,r=i}else{if((0|e)<=(0|i)){i=11;break}if(!(i=0|ar[(f=r+4|0)>>2])){i=10;break}r=i}if(7==(0|i)){f=o=r;break}if(10==(0|i)){o=r;break}if(11==(0|i)){o=r;break}}else f=o=i}while(0);return 0|ar[f>>2]||(r=0|hu(52),ar[r+16>>2]=e,ar[(i=r+20|0)>>2]=ar[n>>2],ar[i+4>>2]=ar[n+4>>2],ar[i+8>>2]=ar[n+8>>2],ar[i+12>>2]=ar[n+12>>2],ar[i+16>>2]=ar[n+16>>2],ar[i+20>>2]=ar[n+20>>2],ar[i+24>>2]=ar[n+24>>2],ar[i+28>>2]=ar[n+28>>2],ar[r>>2]=0,ar[r+4>>2]=0,ar[r+8>>2]=o,ar[f>>2]=r,(i=0|ar[ar[a>>2]>>2])&&(ar[a>>2]=i,r=0|ar[f>>2]),so(0|ar[A+60>>2],r),ar[(A=A+64|0)>>2]=1+(0|ar[A>>2])),ur=t,0|(A=1)}function Eo(A,e){e|=0;var r,i=0,f=0;if(0|(i=0|ar[(r=(A|=0)+60|0)>>2])){A=r,f=i;A:for(;;){for(i=f;!((0|ar[i+16>>2])>=(0|e));)if(!(i=0|ar[i+4>>2]))break A;if(!(f=0|ar[i>>2])){A=i;break}A=i}if((0|A)!=(0|r)&&(0|ar[A+16>>2])<=(0|e))return 0|(e=(0|(e=A))!=(0|r))}return 0|(e=(0|(e=r))!=(0|r))}function Xo(A,e){e|=0;var r,i=0,f=0;if(!(i=0|ar[(r=(A|=0)+60|0)>>2]))return 0|(e=-1);A=r,f=i;A:for(;;){for(i=f;!((0|ar[i+16>>2])>=(0|e));)if(!(i=0|ar[i+4>>2]))break A;if(!(f=0|ar[i>>2])){A=i;break}A=i}return(0|A)==(0|r)||(0|ar[A+16>>2])>(0|e)?0|(e=-1):0|(e=0|ar[A+24>>2])}function Wo(A,e){e|=0;var r,i=0,f=0;if(!(i=0|ar[(r=(A|=0)+60|0)>>2]))return 0|(e=-1);A=r,f=i;A:for(;;){for(i=f;!((0|ar[i+16>>2])>=(0|e));)if(!(i=0|ar[i+4>>2]))break A;if(!(f=0|ar[i>>2])){A=i;break}A=i}return(0|A)==(0|r)||(0|ar[A+16>>2])>(0|e)?0|(e=-1):0|(e=0|ar[A+28>>2])}function Io(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0;if(ar[(i=(A|=0)+4|0)>>2]=0,n=A+4|(ar[(f=A+8|0)>>2]=0),ar[A>>2]=n,(0|(t=0|ar[e+56>>2]))!=(0|(r=e+60|0)))for(l=t,e=0;;){c=l+16|0;do{if(e){for(a=0|ar[c>>2],o=i;;){if((0|a)<(0|(t=0|ar[e+16>>2]))){if(!(t=0|ar[e>>2])){t=9;break}}else{if((0|a)<=(0|t)){t=13;break}if(!(t=0|ar[(o=e+4|0)>>2])){t=12;break}e=o}o=e,e=t}if(9==(0|t)){o=a=e;break}if(12==(0|t)){a=e;break}if(13==(0|t)){a=e;break}}else o=a=n}while(0);if(0|ar[o>>2]||(e=0|hu(20),ar[e+16>>2]=ar[c>>2],ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=a,ar[o>>2]=e,(t=0|ar[ar[A>>2]>>2])&&(ar[A>>2]=t,e=0|ar[o>>2]),so(0|ar[i>>2],e),ar[f>>2]=1+(0|ar[f>>2])),e=0|ar[l+4>>2])for(;t=0|ar[e>>2];)e=t;else if(e=0|ar[(t=l+8|0)>>2],(0|ar[e>>2])!=(0|l))for(;l=0|ar[t>>2],e=0|ar[(t=l+8|0)>>2],(0|ar[e>>2])!=(0|l););if((0|e)==(0|r))break;l=e,e=0|ar[n>>2]}}function Co(A,e){return A|=0,(e|=0)&&(Co(A,0|ar[e>>2]),Co(A,0|ar[e+4>>2]),void vu(e))}function Go(A,e){A|=0;var r,i=0,f=0;if(10==(0|(e|=0)))switch(0|ar[A+36>>2]){case 11:return 0|(e=32);case 14:case 12:return 0|(e=48);case 15:case 13:return 0|(e=64);case 10:return 0|(e=24);default:return 0|(e=-1)}if(i=0|ar[(r=A+60|0)>>2]){A=r,f=i;A:for(;;){for(i=f;!((0|ar[i+16>>2])>=(0|e));)if(!(i=0|ar[i+4>>2]))break A;if(!(f=0|ar[i>>2])){A=i;break}A=i}A=(0|A)!=(0|r)&&(0|ar[A+16>>2])<=(0|e)?0|tr[A+20>>0]:-1}else A=-1;return 256<=(A=7+(255&A)&504)>>>0&&sr(25764,25597,362,25775),0|(e=255&A)}function Vo(A,e){e|=0;var r,i=0,f=0;if(!(i=0|ar[(r=(A|=0)+60|0)>>2]))return 0|(e=-1);A=r,f=i;A:for(;;){for(i=f;!((0|ar[i+16>>2])>=(0|e));)if(!(i=0|ar[i+4>>2]))break A;if(!(f=0|ar[i>>2])){A=i;break}A=i}return(0|A)==(0|r)||(0|ar[A+16>>2])>(0|e)?0|(e=-1):0|(e=0|tr[A+20>>0])}function Fo(A,e,r){e|=0,r|=0;var i,f=0,n=0;if(!(f=0|ar[(i=(A|=0)+60|0)>>2]))return(r=0)|r;A=i,n=f;A:for(;;){for(f=n;!((0|ar[f+16>>2])>=(0|e));)if(!(f=0|ar[f+4>>2]))break A;if(!(n=0|ar[f>>2])){A=f;break}A=f}return(0|A)==(0|i)||(0|ar[A+16>>2])>(0|e)?(r=0)|r:(0|r&&(ar[r>>2]=ar[A+48>>2]),0|(r=0|ar[A+40>>2]))}function Ro(A,e,r){e|=0,r|=0;var i,f=0,n=0;if(!(f=0|ar[(i=(A|=0)+60|0)>>2]))return(r=0)|r;A=i,n=f;A:for(;;){for(f=n;!((0|ar[f+16>>2])>=(0|e));)if(!(f=0|ar[f+4>>2]))break A;if(!(n=0|ar[f>>2])){A=f;break}A=f}return(0|A)==(0|i)||(0|ar[A+16>>2])>(0|e)?(r=0)|r:(0|r&&(ar[r>>2]=ar[A+48>>2]),0|(r=0|ar[A+40>>2]))}function No(A,e,r,i){A|=0,r|=0,i|=0;var f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;if(b=60+(0|ar[(e|=0)>>2])|0,l=0==(0|(u=0|ar[b>>2])))d=n=s=-1;else{n=b,o=u;A:for(;;){for(t=o;!((0|ar[t+16>>2])>=(0|r));)if(!(t=0|ar[t+4>>2]))break A;if(!(o=0|ar[t>>2])){n=t;break}n=t}if(c=(0|n)!=(0|b)&&(0|ar[n+16>>2])<=(0|r)?0|ar[n+24>>2]:-1,l)s=c,d=n=-1;else{n=b,o=u;A:for(;;){for(t=o;!((0|ar[t+16>>2])>=(0|r));)if(!(t=0|ar[t+4>>2]))break A;if(!(o=0|ar[t>>2])){n=t;break}n=t}if(a=(0|n)!=(0|b)&&(0|ar[n+16>>2])<=(0|r)?0|ar[n+28>>2]:-1,l)s=c,n=-1,d=a;else{n=b,o=u;A:for(;;){for(t=o;!((0|ar[t+16>>2])>=(0|r));)if(!(t=0|ar[t+4>>2]))break A;if(!(o=0|ar[t>>2])){n=t;break}n=t}d=(n=(0|n)!=(0|b)&&(0|ar[n+16>>2])<=(0|r)?(s=c,0|tr[n+20>>0]):(s=c,-1),a)}}}if(Bo(A,i,s,d,255&n),l=0|ar[e>>2],u=0==(0|(o=0|ar[(f=l+60|0)>>2])))b=e=0;else{n=f,a=o;A:for(;;){for(t=a;!((0|ar[t+16>>2])>=(0|r));)if(!(t=0|ar[t+4>>2]))break A;if(!(a=0|ar[t>>2])){n=t;break}n=t}b=(0|n)!=(0|f)&&(0|ar[n+16>>2])<=(0|r)?(e=0|ar[n+40>>2],0|ar[n+48>>2]):e=0}if(t=0|ar[(c=A+60|0)>>2]){n=c;A:for(;;){for(a=t;!((0|ar[a+16>>2])>=(0|i));){if(!(t=0|ar[a+4>>2]))break A;a=t}if(!(t=0|ar[a>>2])){n=a;break}n=a}a=(0|n)!=(0|c)&&(0|ar[n+16>>2])<=(0|i)?(c=0|ar[n+40>>2],0|ar[n+48>>2]):c=0}else a=c=0;A:do{if(10!=(0|r)){if(u)n=-1;else{n=f;e:for(;;){for(t=o;!((0|ar[t+16>>2])>=(0|r));)if(!(t=0|ar[t+4>>2]))break e;if(!(o=0|ar[t>>2])){n=t;break}n=t}n=(0|n)!=(0|f)&&(0|ar[n+16>>2])<=(0|r)?0|tr[n+20>>0]:-1}if((n=7+(255&n)|0)>>>0<256){k=(255&n)>>>3;break}sr(25764,25597,362,25775)}else switch(0|ar[l+36>>2]){case 10:k=3;break A;case 11:k=4;break A;case 14:case 12:k=6;break A;case 15:case 13:k=8;break A;default:k=31;break A}}while(0);if(t=0|br(255&k,s),0<(0|d))for(n=0;hb(c+(0|br(n,a))|0,e+(0|br(n,b))|0,0|t),(0|(n=n+1|0))!=(0|d););}function _o(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0;ur=(t=ur)+64|0,f=t+32|0,n=t,u=(s=0|ar[(e|=0)>>2])+56|0,b=0|ar[(o=s+60|0)>>2];do{if(b){for(c=s+60|0,o=b;;)if((0|r)<(0|(a=0|ar[o+16>>2]))){if(!(a=0|ar[o>>2])){a=6;break}c=o,o=a}else{if((0|r)<=(0|a)){a=10;break}if(!(a=0|ar[(c=o+4|0)>>2])){a=9;break}o=a}if(6==(0|a)){c=l=o;break}if(9==(0|a)){l=o;break}if(10==(0|a)){l=o;break}}else c=l=o}while(0);if((o=0|ar[c>>2])||(a=0|hu(52),ar[a+16>>2]=r,ar[(o=a+20|0)>>2]=0,ar[o+4>>2]=0,ar[o+8>>2]=0,ar[o+12>>2]=0,ar[o+16>>2]=0,ar[o+20>>2]=0,ar[o+24>>2]=0,ar[o+28>>2]=0,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=l,ar[c>>2]=a,o=(o=0|ar[ar[u>>2]>>2])?(ar[u>>2]=o,0|ar[c>>2]):a,so(0|ar[s+60>>2],o),ar[(b=s+64|0)>>2]=1+(0|ar[b>>2]),b=0|ar[e>>2],o=a,b=0|ar[(s=b)+60>>2]),u=o+20|0,ar[f>>2]=ar[u>>2],ar[4+f>>2]=ar[u+4>>2],ar[8+f>>2]=ar[u+8>>2],ar[12+f>>2]=ar[u+12>>2],ar[16+f>>2]=ar[u+16>>2],ar[20+f>>2]=ar[u+20>>2],ar[24+f>>2]=ar[u+24>>2],ar[28+f>>2]=ar[u+28>>2],u=s+56|0,l=s+60|0,0|b){c=l,a=b;A:for(;;){for(o=a;!((0|ar[o+16>>2])>=(0|r));)if(!(o=0|ar[o+4>>2]))break A;if(!(a=0|ar[o>>2])){c=o;break}c=o}if((0|c)!=(0|l)&&(0|ar[c+16>>2])<=(0|r)){if(o=0|ar[c+4>>2])for(;a=0|ar[o>>2];)o=a;else if(o=0|ar[(a=c+8|0)>>2],(0|ar[o>>2])!=(0|c))for(;r=0|ar[a>>2],o=0|ar[(a=r+8|0)>>2],(0|ar[o>>2])!=(0|r););(0|ar[u>>2])==(0|c)&&(ar[u>>2]=o),ar[(r=s+64|0)>>2]=(0|ar[r>>2])-1,function(A,e){A|=0;var r,i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0;if(t=0|ar[(e|=0)>>2])if(n=0|ar[e+4>>2])for(;;){if(!(t=0|ar[n>>2])){t=0;break}n=t}else n=e;else n=e,t=0;r=n+4|0,i=0|ar[(0|t?n:r)>>2],l=n+8|0,(f=0!=(0|i))&&(ar[8+i>>2]=ar[l>>2]);t=0|ar[l>>2],(0|ar[t>>2])==(0|n)?(ar[t>>2]=i,(0|n)==(0|A)?(A=i,c=0):(t=t+4|0,u=10)):(ar[t+4>>2]=i,u=10);10==(0|u)&&(c=0|ar[t>>2]);a=0!=(0|tr[(o=n+12|0)>>0]),(0|n)!=(0|e)&&(t=0|ar[(u=e+8|0)>>2],ar[l>>2]=t,ar[((0|ar[ar[u>>2]>>2])==(0|e)?t:t+4|0)>>2]=n,t=0|ar[e>>2],ar[n>>2]=t,ar[t+8>>2]=n,t=0|ar[e+4>>2],0|(ar[r>>2]=t)&&(ar[t+8>>2]=n),tr[o>>0]=0|tr[e+12>>0],A=(0|A)==(0|e)?n:A);if(!(a&0!=(0|A)))return;if(f)return tr[12+i>>0]=1;for(;;){if(a=0|ar[c+8>>2],t=0!=(0|tr[(n=c+12|0)>>0]),(0|ar[a>>2])==(0|c)){if(t?l=c:(tr[n>>0]=1,tr[a+12>>0]=0,n=0|ar[a>>2],o=0|ar[(t=n+4|0)>>2],0|(ar[a>>2]=o)&&(ar[o+8>>2]=a),u=a+8|0,ar[n+8>>2]=ar[u>>2],l=0|ar[u>>2],ar[((0|ar[l>>2])==(0|a)?l:l+4|0)>>2]=n,ar[t>>2]=a,ar[u>>2]=n,u=0|ar[c+4>>2],l=0|ar[u>>2],A=(0|A)==(0|u)?c:A),n=0|ar[l>>2],!(o=0==(0|n))&&0==(0|tr[n+12>>0])){A=l,u=55;break}if(0|(a=0|ar[(t=l+4|0)>>2])&&0==(0|tr[a+12>>0])){u=49;break}if(((tr[l+12>>0]=0)|(n=0|ar[l+8>>2]))==(0|A)|0==(0|tr[(t=n+12|0)>>0])){u=48;break}}else{if(t?o=c:(tr[n>>0]=1,tr[a+12>>0]=0,n=0|ar[(u=a+4|0)>>2],t=0|ar[n>>2],0|(ar[u>>2]=t)&&(ar[t+8>>2]=a),u=a+8|0,ar[n+8>>2]=ar[u>>2],o=0|ar[u>>2],ar[((0|ar[o>>2])==(0|a)?o:o+4|0)>>2]=n,ar[n>>2]=a,ar[u>>2]=n,u=0|ar[c>>2],o=0|ar[u+4>>2],A=(0|A)==(0|u)?c:A),0|(t=0|ar[o>>2])&&0==(0|tr[t+12>>0])){u=31;break}if(0|(n=0|ar[o+4>>2])&&0==(0|tr[n+12>>0])){A=n,u=32;break}if(((tr[o+12>>0]=0)|(n=0|ar[o+8>>2]))==(0|A)){u=30;break}if(!(0|tr[n+12>>0])){A=n,u=30;break}}c=0|ar[n+8>>2],c=0|ar[((0|ar[c>>2])==(0|n)?c+4|0:c)>>2]}do{if(30==(0|u))return tr[A+12>>0]=1;if(31==(0|u))A=0|ar[o+4>>2],u=A?32:33;else{if(48==(0|u))return tr[t>>0]=1;if(49==(0|u)){if(o)A=a;else{if(!(0|tr[n+12>>0])){A=l,u=55;break}A=0|ar[(t=A=l+4|0)>>2]}tr[A+12>>0]=1,tr[l+12>>0]=0,n=0|ar[A>>2],0|(ar[t>>2]=n)&&(ar[n+8>>2]=l),n=l+8|0,ar[A+8>>2]=ar[n>>2],u=0|ar[n>>2],ar[((0|ar[u>>2])==(0|l)?u:u+4|0)>>2]=A,ar[A>>2]=l,ar[n>>2]=A,n=l,u=55}}}while(0);if(32==(0|u))0|tr[A+12>>0]?u=33:n=o;else if(55==(0|u))return o=0|ar[A+8>>2],t=o+12|0,tr[A+12>>0]=0|tr[t>>0],tr[t>>0]=1,tr[n+12>>0]=1,A=0|ar[o>>2],t=0|ar[(n=A+4|0)>>2],0|(ar[o>>2]=t)&&(ar[t+8>>2]=o),u=o+8|0,ar[A+8>>2]=ar[u>>2],e=0|ar[u>>2],ar[((0|ar[e>>2])==(0|o)?e:e+4|0)>>2]=A,ar[n>>2]=o,ar[u>>2]=A;33==(0|u)&&(tr[t+12>>0]=1,tr[o+12>>0]=0,n=0|ar[(A=t+4|0)>>2],0|(ar[o>>2]=n)&&(ar[n+8>>2]=o),n=o+8|0,ar[t+8>>2]=ar[n>>2],u=0|ar[n>>2],ar[((0|ar[u>>2])==(0|o)?u:u+4|0)>>2]=t,ar[A>>2]=o,ar[n>>2]=t,n=t,A=o);t=0|ar[n+8>>2],u=t+12|0,tr[n+12>>0]=0|tr[u>>0],tr[u>>0]=1,tr[A+12>>0]=1,A=0|ar[(u=t+4|0)>>2],n=0|ar[A>>2],0|(ar[u>>2]=n)&&(ar[n+8>>2]=t);u=t+8|0,ar[A+8>>2]=ar[u>>2],e=0|ar[u>>2],ar[((0|ar[e>>2])==(0|t)?e:e+4|0)>>2]=A,ar[A>>2]=t,ar[u>>2]=A}(b,c),vu(c)}}u=A+56|0,ar[n>>2]=ar[f>>2],ar[n+4>>2]=ar[4+f>>2],ar[n+8>>2]=ar[8+f>>2],ar[n+12>>2]=ar[12+f>>2],ar[n+16>>2]=ar[16+f>>2],ar[n+20>>2]=ar[20+f>>2],ar[n+24>>2]=ar[24+f>>2],ar[n+28>>2]=ar[28+f>>2],o=0|ar[(a=A+60|0)>>2];do{if(o){for(c=A+60|0;;)if((0|i)<(0|(a=0|ar[o+16>>2]))){if(!(a=0|ar[o>>2])){a=36;break}c=o,o=a}else{if((0|i)<=(0|a)){a=40;break}if(!(a=0|ar[(c=o+4|0)>>2])){a=39;break}o=a}if(36==(0|a)){c=l=o;break}if(39==(0|a)){l=o;break}if(40==(0|a)){l=o;break}}else c=l=a}while(0);ur=(0|ar[c>>2]||(o=0|hu(52),ar[o+16>>2]=i,ar[(a=o+20|0)>>2]=ar[n>>2],ar[a+4>>2]=ar[n+4>>2],ar[a+8>>2]=ar[n+8>>2],ar[a+12>>2]=ar[n+12>>2],ar[a+16>>2]=ar[n+16>>2],ar[a+20>>2]=ar[n+20>>2],ar[a+24>>2]=ar[n+24>>2],ar[a+28>>2]=ar[n+28>>2],ar[o>>2]=0,ar[o+4>>2]=0,ar[o+8>>2]=l,ar[c>>2]=o,(a=0|ar[ar[u>>2]>>2])&&(ar[u>>2]=a,o=0|ar[c>>2]),so(0|ar[A+60>>2],o),ar[(A=A+64|0)>>2]=1+(0|ar[A>>2])),t)}function Yo(A,e){A|=0;var r,i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0;if(ur=(f=ur)+16|0,r=f,((tr[(e|=0)>>0]=0)|(t=n=0|ar[(i=A+377216|0)>>2]))==(0|(o=b=0|ar[(d=A+377220|0)>>2])))return ur=f,(d=0)|d;u=0|ar[n>>2],a=0|ar[u+10636>>2],b=c=0|ar[u+10632>>2];A:do{if((0|a)!=(0|c)){for(c=a-c>>2,a=0;l=0|ar[b+(a<<2)>>2],a=a+1|0,0|ar[l+40>>2];)if(c>>>0<=a>>>0)break A;if(l){if(0|tr[l+36>>0]&&ra(A+376148|0),tr[e>>0]=1,n=0|Qo(A,u,l))return ur=f,0|(d=n);t=n=0|ar[i>>2],o=0|ar[d>>2];break}}}while(0);if(1<o-t>>2>>>0?(u=0|ar[n>>2],(0|(b=0|ar[u+10636>>2]))!=(0|ar[u+10632>>2])&&0==(0|ar[40+(0|ar[b+-4>>2])>>2])&&(s=14)):s=14,14==(0|s)){if((0|o)==(0|(n=s=0|ar[i>>2])))return ur=f,(d=0)|d;if(b=0|ar[n>>2],(0|(s=0|ar[b+10636>>2]))!=(0|ar[b+10632>>2])&&0==(0|ar[40+(0|ar[s+-4>>2])>>2]))return ur=f,(d=0)|d;if((0!=(0|ar[A+556>>2])|0)!=(0-(0|ar[A+580>>2])|0))return ur=f,(d=0)|d;if(0==(0|tr[A+548>>0])&&0==(0|tr[A+549>>0]))return ur=f,(d=0)|d}if(c=0|ar[n>>2],tr[e>>0]=1,n=0|ar[c>>2],0<(0|ar[(o=n+10344|0)>>2])){for(t=n+10524|0,n=0;Tn((0|ar[t>>2])+(80*n|0)|0,1),(0|(n=n+1|0))<(0|ar[o>>2]););a=0|ar[c>>2]}else a=n;n=0|ar[(o=a+10332|0)>>2],t=0==(0|tr[n+532>>0]),0|ar[375892+(0|ar[10332+(0|ar[A+376224>>2])>>2])>>2]?(t?(function(A){var e,r,i,f,n,t,o,a=0,c=0,l=0;if(ur=(o=ur)+16|0,r=o,i=0|ar[(A|=0)>>2],l=0|ar[10332+i>>2],ca(i,ar[(f=5828+i|0)>>2]<<1),n=A+10668|0,t=A+10672|0,l=l+375396|0,e=A+10664|0,0<(0|ar[f>>2])){for(c=0;A=0|hu(20),ar[A+4>>2]=0,ar[A>>2]=9552,ar[A+8>>2]=i,ar[A+12>>2]=c,tr[A+16>>0]=1,ar[r>>2]=A,(a=0|ar[n>>2])>>>0<(0|ar[t>>2])>>>0?(ar[a>>2]=A,ar[n>>2]=4+(0|ar[n>>2])):Oe(e,r),Sn(l,A),(0|(c=c+1|0))<(0|(A=0|ar[f>>2])););if(0<(0|A)){for(A=0;a=0|hu(20),ar[a+4>>2]=0,ar[a>>2]=9552,ar[a+8>>2]=i,ar[a+12>>2]=A,tr[a+16>>0]=0,ar[r>>2]=a,(c=0|ar[n>>2])>>>0<(0|ar[t>>2])>>>0?(ar[c>>2]=a,ar[n>>2]=4+(0|ar[n>>2])):Oe(e,r),Sn(l,a),(0|(A=A+1|0))<(0|ar[f>>2]););ur=o}else ur=o}else ur=o}(c),t=3,n=0|ar[o>>2]):t=1,0|tr[n+533>>0]||function(A,e){e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0;if(ur=(n=ur)+16|0,f=n,b=0|ar[(A|=0)>>2],!(0|tr[b+5467>>0]))return ur=n,b=0;if(o=0|ar[(t=b+10332|0)>>2],u=b+10480|0,0|ta(i=A+8|0,0|ar[b+24>>2],0|ar[b+28>>2],0|ar[b+20>>2],b+764|0,0,o,0|ar[b+10336>>2],0|ar[u>>2],0|ar[u+4>>2],0|ar[b+10488>>2],1))return er(4+(0|ar[t>>2])|0,1024,0),ur=n,b=0;if(r=0|ar[b+5828>>2],ca(b,r),0<(0|r))for(l=A+10668|0,u=A+10672|0,c=o+375396|0,o=A+10664|0,t=0;A=0|hu(28),ar[A+4>>2]=0,ar[A>>2]=7752,ar[A+16>>2]=b,ar[A+20>>2]=i,ar[A+12>>2]=b,ar[A+8>>2]=t,ar[A+24>>2]=e,ar[f>>2]=A,(a=0|ar[l>>2])>>>0<(0|ar[u>>2])>>>0?(ar[a>>2]=A,ar[l>>2]=4+(0|ar[l>>2])):Oe(o,f),Sn(c,A),(0|(t=t+1|0))!=(0|r););sa(b),function(A,e){var r,i=0,f=0,n=0;n=(e=e|0)+4|0,f=0|ar[(i=(A=A|0)+4|0)>>2],ar[i>>2]=ar[n>>2],ar[n>>2]=f,f=e+60|0,i=0|ar[(n=A+60|0)>>2],ar[n>>2]=ar[f>>2],ar[f>>2]=i,i=e+10492|0,n=0|ar[(f=A+10492|0)>>2],ar[f>>2]=ar[i>>2],ar[i>>2]=n,n=e+8|0,f=0|ar[(i=A+8|0)>>2],ar[i>>2]=ar[n>>2],ar[n>>2]=f,f=e+64|0,i=0|ar[(n=A+64|0)>>2],ar[n>>2]=ar[f>>2],ar[f>>2]=i,i=e+10496|0,n=0|ar[(f=A+10496|0)>>2],ar[f>>2]=ar[i>>2],ar[i>>2]=n,n=e+12|0,f=0|ar[(i=A+12|0)>>2],ar[i>>2]=ar[n>>2],ar[n>>2]=f,f=e+68|0,i=0|ar[(n=A+68|0)>>2],ar[n>>2]=ar[f>>2],ar[f>>2]=i,i=e+10500|0,n=0|ar[(f=A+10500|0)>>2],ar[f>>2]=ar[i>>2],ar[i>>2]=n,n=e+40|0,f=0|ar[(i=A+40|0)>>2],ar[i>>2]=ar[n>>2],ar[n>>2]=f,f=e+44|0,i=0|ar[(n=A+44|0)>>2],ar[n>>2]=ar[f>>2],ar[f>>2]=i,e=e+10504|0,i=0|ar[(A=f=A+10504|0)>>2],A=0|ar[A+4>>2],r=0|ar[(n=e)+4>>2],ar[f>>2]=ar[n>>2],ar[f+4>>2]=r,ar[e>>2]=i,ar[e+4>>2]=A}(b,i),ur=n,b=1}(c,t),sa(a)):(t&&(function(A){var e,r,i,f=0,n=0,t=0;if(0<(0|ar[(t=(A|=0)+5828|0)>>2])){for(n=f=0;f=0|f|Zt(A,n),(0|(n=n+1|0))<(0|ar[t>>2]););if(f){i=A+10472|0,pt(A,1,0,0|ar[(r=A+10476|0)>>2],0,0|ar[i>>2]),f=0|ar[r>>2],n=0|ar[i>>2],(8<(0|ar[(e=A+5760|0)>>2])?yt:Bt)(A,1,0,f,0,n),t=A+5776|0;do{if(0|ar[t>>2]){if(f=0|ar[r>>2],n=0|ar[i>>2],8<(0|ar[A+5768>>2])){Et(A,1,0,f,0,n);break}Xt(A,1,0,f,0,n);break}}while(0);if(pt(A,0,0,0|ar[r>>2],0,0|ar[i>>2]),f=0|ar[r>>2],n=0|ar[i>>2],(8<(0|ar[e>>2])?yt:Bt)(A,0,0,f,0,n),0|ar[t>>2])n=0|ar[r>>2],f=0|ar[i>>2],8<(0|ar[A+5768>>2])?Et(A,0,0,n,0,f):Xt(A,0,0,n,0,f)}}}(a),n=0|ar[o>>2]),0|tr[n+533>>0]||function(A){var e,r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0;if(!(0|tr[5467+(A|=0)>>0]))return;d=A+40|0,C=0|br(0|ar[(k=A+28|0)>>2],0|ar[d>>2]),C=0|br(C,(7+(0|ar[(h=A+5760|0)>>2])|0)/8|0),e=A+44|0,V=0|br(0|ar[(r=A+36|0)>>2],0|ar[e>>2]),V=0|br(V,(7+(0|ar[(i=A+5768|0)>>2])|0)/8|0),V=0|wu(-1<(0|(V=(0|V)<(0|C)?C:V))?V:-1),C=0==(0|ar[A+5776>>2])?1:3,n=A+5820|0,t=A+10352|0,o=A+10340|0,a=A+48|0,c=A+52|0,l=A+5804|0,u=A+4|0,b=A+5780|0,s=A+5784|0,w=0|ar[(f=A+5828|(G=0))>>2];A:for(;;){if(B=0|ar[(X=(W=0==(0|G))?d:e)>>2],I=A+4+(G<<2)|0,y=0|br(0|ar[(W?k:r)>>2],B),E=W?h:i,hb(0|V,0|ar[I>>2],0|br(y,(7+(0|ar[E>>2])|0)/8|0)),0<(0|w))for(w=(y=0)|ar[n>>2];;){if(0<(0|w))for(p=0;;){if(w=(0|br(0|ar[t>>2],y))+p|0,w=0|lr[(0|ar[o>>2])+(24*w|0)+2>>1],v=0|ar[a>>2],w>>>0>=(0|ar[c>>2])-v>>2>>>0){w=21;break A}if(!(Z=0|ar[v+(w<<2)>>2])){w=21;break A}do{if(W){if(0|tr[Z+325>>0]){if(v=1<<ar[l>>2],m=0|ar[u>>2],w=0|ar[d>>2],8<(0|ar[h>>2])){Ra(A,p,y,Z,0,v,v,V,B,m,w);break}Na(A,p,y,Z,0,v,v,V,B,m,w);break}}else if(0|tr[Z+326>>0]){if(m=1<<ar[l>>2],v=(0|m)/(0|ar[b>>2])|0,m=(0|m)/(0|ar[s>>2])|0,g=0|ar[I>>2],w=0|ar[X>>2],8<(0|ar[E>>2])){Ra(A,p,y,Z,G,v,m,V,B,g,w);break}Na(A,p,y,Z,G,v,m,V,B,g,w);break}}while(0);if(p=p+1|0,(0|(w=0|ar[n>>2]))<=(0|p)){v=w;break}}else v=w;if(y=y+1|0,(0|(w=0|ar[f>>2]))<=(0|y))break;w=v}if((0|C)<=(0|(G=G+1|0))){w=20;break}}{if(20==(0|w))return mu(V);if(21==(0|w));}}(a)),a=c+10648|0,n=0|ar[(o=c+10644|0)>>2];A:do{if((0|ar[a>>2])==(0|n))a=0;else for(t=0;;){if(n=0|Qa(n+(80*t|0)|0,0|ar[c>>2]),t=t+1|0,0|n){a=n;break A}if(n=0|ar[o>>2],t>>>0>=(((0|ar[a>>2])-n|0)/80|0)>>>0){a=0;break}}}while(0);if(0|(n=0|ar[c>>2])){do{if(0|tr[n+100>>0]){if(0|tr[n+10516>>0]&&0|tr[A+514>>0])break;ar[r>>2]=n,(0|(o=0|ar[(t=A+376172|0)>>2]))==(0|ar[A+376176>>2])?Do(A+376168|0,r):(ar[o>>2]=n,ar[t>>2]=4+(0|ar[t>>2]))}}while(0);((0|ar[A+376172>>2])-(0|ar[A+376168>>2])>>2|0)>(0|ar[n+596+(12*((0|ar[n+116>>2])-1|0)|0)+4>>2])&&Aa(A+376148|0)}if(Te(c),vu(c),1<(n=0|ar[d>>2])-(t=0|ar[i>>2])>>2>>>0)for(o=1;ar[(n=t)+(o+-1<<2)>>2]=ar[n+(o<<2)>>2],(o=o+1|0)>>>0<(n=0|ar[d>>2])-(t=0|ar[i>>2])>>2>>>0;);return ar[d>>2]=n+-4,ur=f,0|(d=a)}function Qo(A,e,r){A|=0,e|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0;if(l=(u=0|ar[(f=(r|=0)+4|0)>>2])+1344|0,u=u+1348|0,t=0|ar[l>>2],(0|ar[u>>2])!=(0|t))for(a=A+376148|0,c=A+376156|0,o=0;-1<(0|(t=0|$o(a,0|ar[t+(o<<2)>>2])))&&(ar[96+(0|ar[(0|ar[c>>2])+(t<<2)>>2])>>2]=0),o=o+1|0,t=0|ar[l>>2],o>>>0<(0|ar[u>>2])-t>>2>>>0;);u=0|ar[e>>2],ar[(i=r+40|0)>>2]=1,c=0|ar[u+10332>>2];A:do{if(0<(0|ar[c+375892>>2]))if(l=(k=0|tr[u+5965>>0])<<24>>24!=0,t=(h=0|tr[u+5966>>0])<<24>>24!=0,(k|h)<<24>>24)d=t;else{if(0<(0|(a=0|ar[(o=c+168|0)>>2]))){t=0;do{if(1e3==(0|ar[c+88+(t<<2)>>2])){d=0;break A}t=t+1|0}while((0|t)<(0|a));(0|a)<20&&(v=12)}else v=12;12==(0|v)&&(ar[o>>2]=a+1,ar[c+88+(a<<2)>>2]=1e3),20==(0|(t=0|ar[(o=c+84|0)>>2]))?(o=1001,t=19):(ar[o>>2]=t+1,o=1e3),ar[c+4+(t<<2)>>2]=o,d=0}else l=d=0}while(0);if(k=e+10632|0,(0|(t=0|ar[(h=e+10636|0)>>2]))!=(0|(o=0|ar[k>>2]))){if((0|ar[o>>2])==(0|r)&&0<(0|(b=0|ar[16+(0|ar[f>>2])>>2]))){for(o=u+10524|0,t=0;Tn((0|ar[o>>2])+(80*t|0)|0,1),(0|(t=t+1|0))!=(0|b););o=0|ar[k>>2],t=0|ar[h>>2]}}else o=t;a=t-o>>2;A:do{if(1<a>>>0){for(t=1;(0|ar[o+(t<<2)>>2])!=(0|r);)if(a>>>0<=(t=t+1|0)>>>0)break A;if(0|(c=0|ar[o+(t+-1<<2)>>2])&&2==(0|ar[c+40>>2])){a=a+-1|0,t=0;do{if(a>>>0<=t>>>0)break A;t=(b=t)+1|0}while((0|ar[o+(b<<2)>>2])!=(0|c));if(0|(t=0|ar[o+(t<<2)>>2])&&(0|(n=0|ar[16+(0|ar[c+4>>2])>>2]))<(0|ar[16+(0|ar[(s=t+4|0)>>2])>>2]))do{if(t=0|ar[e>>2],(0|n)>=(0|ar[t+10344>>2]))break A;Tn((0|ar[t+10524>>2])+(80*n|0)|0,1),n=n+1|0}while((0|n)<(0|ar[16+(0|ar[s>>2])>>2]))}}}while(0);if(!(l|d)){a=0|function(A,e,r){A|=0,e|=0;var i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(n=ur)+18624|0,f=n,t=0|ar[(i=4+(r|=0)|0)>>2],b=t+1348|0,o=0|ar[(u=t+1344|0)>>2],(0|ar[b>>2])!=(0|o)){for(c=A+376148|0,l=A+376156|0,a=0,t=o;-1<(0|(t=0|$o(c,0|ar[t+(a<<2)>>2])))&&(ar[96+(0|ar[(0|ar[l>>2])+(t<<2)>>2])>>2]=0),a=a+1|0,t=0|ar[u>>2],a>>>0<(0|ar[b>>2])-t>>2>>>0;);t=0|ar[i>>2]}if(b=0|ar[e>>2],(0|ar[t+16>>2])>>>0>=(0|ar[b+10276>>2])-(0|ar[b+10272>>2])>>2>>>0)return ur=n,0|(s=6);if(st(b=f+18580|0),t=f+48|0,ar[(u=f+18508|0)>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u+12>>2]=0,ar[u+16>>2]=0,vb(0|(ar[f+2112>>2]=t),0,2048),t=0|ar[i>>2],ar[f+18600>>2]=t,u=0|ar[e>>2],ar[f+18596>>2]=u,ar[f+18592>>2]=A,ar[f+18604>>2]=e,ar[f+18608>>2]=r,ar[f+4>>2]=ar[(0|ar[u+10272>>2])+(ar[t+16>>2]<<2)>>2],Se(ar[f+18612>>2]=0,f),(0|(t=0|ar[r+12>>2]))<1)t=17;else{nt(f+18556|0,0|ar[r+8>>2],t);do{if(0|tr[A+93817>>0]&&0|tr[4+(0|ar[i>>2])>>0]){if(u=e+10676|0,c=(0|ar[5828+(0|ar[A+376224>>2])>>2])-1|0,t=0|ar[(l=e+10680|0)>>2],o=0|ar[u>>2],(a=t-o>>3)>>>0<c>>>0){Jo(u,c-a|0);break}if(c>>>0<a>>>0&&(0|t)!=(0|(s=o+(c<<3)|0)))for(;e=t+-8|0,kt(ar[l>>2]=e),(0|(t=0|ar[l>>2]))!=(0|s););}}while(0);ar[r+124>>2]=1,t=0|function(A){var e,r,i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0;l=0|ar[18596+(A|=0)>>2],a=0|ar[A+4>>2],o=0|ar[l+5836>>2],c=0|ar[l+5820>>2],(0|a)<(0|o)&&(o=0|ar[(0|ar[l+10284>>2])+(a<<2)>>2]);if(ar[A>>2]=o,ar[A+8>>2]=(0|o)%(0|c)|0,ar[A+12>>2]=(0|o)/(0|c)|0,a=0|ar[(i=A+18600|0)>>2],!(0|Da(A)))return 0|(A=18);tt(f=A+18556|0),n=A+18560|0,t=A+18592|0,l=l+5966|0,e=A+18580|0,r=A+18588|0,a=0==(0|tr[a+12>>(o=0)]);for(;;){do{if(0<(0|o)){if(c=o+-1|0,b=0|ar[i>>2],u=0|ar[b+776>>2],c>>>0<(0|ar[b+780>>2])-u>>2>>>0&&((0|ar[n>>2])-2-(0|ar[f>>2])|0)==(0|ar[u+(c<<2)>>2]))break;er(4+(0|ar[t>>2])|0,1003,1)}}while(0);if(o=o+1|0,2==(2|Ja(A,0,a))){o=0,a=14;break}if(0|tr[l>>0]){if(a=0|ar[i>>2],3<=(c=0|ar[a+796>>2])>>>0){a=12;break}ht(e,c,0|ar[a+792>>2]),tr[r>>0]=0,tr[1+r>>0]=0,tr[2+r>>0]=0,tr[3+r>>0]=0,a=0}else a=0}if(12==(0|a))sr(39211,39242,1508,39251);else if(14==(0|a))return 0|o;return 0}(f),Tn(r+44|0,1)}return kt(b),ur=n,0|(s=t)}(A,e,r),ar[i>>2]=2,o=0|ar[k>>2],t=((0|ar[h>>2])-o>>2)-1|0,n=0;do{if(t>>>0<=n>>>0){w=a,v=60;break}n=(s=n)+1|0}while((0|ar[o+(s<<2)>>2])!=(0|r));if(60==(0|v))return 0|w;if(!(n=0|ar[o+(n<<2)>>2]))return 0|(e=a);if(!((0|(t=0|ar[16+(0|ar[f>>2])>>2]))<(0|ar[16+(0|ar[(o=n+4|0)>>2])>>2])))return 0|(e=a);for(n=t;;){if(t=0|ar[e>>2],(0|n)>=(0|ar[t+10344>>2])){w=a,v=60;break}if(Tn((0|ar[t+10524>>2])+(80*n|0)|0,1),(0|(n=n+1|0))>=(0|ar[16+(0|ar[o>>2])>>2])){w=a,v=60;break}}if(60==(0|v))return 0|w}if(l&d)return 0|(e=1006);if(l){!function(A,e,r){A|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0;ur=(a=ur)+16|0,t=a,o=0|ar[(e|=0)>>2],n=0|ar[r+4>>2],f=0|ar[768+n>>2],h=1+f|0,i=0|ar[5820+o>>2],(0|ar[10536+o>>2])!=(0-(0|ar[10532+o>>2])|0)&&sr(34762,34700,989,34867);do{if(0|tr[4+n>>0]){if(l=e+10676|0,u=(0|ar[5828+o>>2])-1|0,c=0|ar[(d=e+10680|0)>>2],b=0|ar[l>>2],(s=c-b>>3)>>>0<u>>>0){Jo(l,u-s|0);break}if(u>>>0<s>>>0&&(0|c)!=(0|(k=b+(u<<3)|0)))for(;X=c+-8|0,kt(ar[d>>2]=X),(0|(c=0|ar[d>>2]))!=(0|k););}}while(0);Ue(r,h),c=0|ar[16+n>>2],s=(0|c)/(0|i)|0;A:do{if(0<=(0|f)){if(m=r+140|0,g=r+136|0,Z=10332+o|0,p=10272+o|0,y=r+12|0,B=r+8|0,E=r+124|0,X=A+375396|0,v=776+n|0,!f){if((0|ar[m>>2])<=0&&sr(34817,34837,170,34848),u=0|ar[g>>2],ar[u+18600>>2]=n,ar[u+18592>>2]=ar[Z>>2],ar[u+18596>>2]=o,ar[(l=u+18604|0)>>2]=e,ar[u+18608>>2]=r,ar[u+4>>2]=ar[(0|ar[p>>2])+(c<<2)>>2],Se(0,u),(0|(c=0|ar[y>>2]))<=0)break;nt(u+18556|0,0|ar[B>>2],c),ca(o,1),ar[E>>2]=1+(0|ar[E>>2]),b=0|hu(20),ar[b+4>>2]=0,ar[b>>2]=7972,tr[b+8>>0]=1,ar[b+16>>2]=u,ar[b+12>>2]=s,ar[u+18612>>2]=b,Sn(X,b),c=0|ar[l>>2],ar[t>>2]=b,(u=0|ar[(l=c+10668|0)>>2])>>>0<(0|ar[c+10672>>2])>>>0?(ar[u>>2]=b,ar[l>>2]=4+(0|ar[l>>2])):Oe(c+10664|0,t);break}for(l=s,w=0;;){if((0|w)<=0){if((0|c)%(0|i)|0)break A}else c=0|br(l=c=l+1|0,i);if((0|ar[m>>2])<=(0|w))break;if(s=0|ar[g>>2],d=s+(18624*w|0)|0,ar[s+(18624*w|0)+18600>>2]=n,ar[s+(18624*w|0)+18592>>2]=ar[Z>>2],ar[s+(18624*w|0)+18596>>2]=o,ar[(k=s+(18624*w|0)+18604|0)>>2]=e,ar[s+(18624*w|0)+18608>>2]=r,ar[s+(18624*w|0)+4>>2]=ar[(0|ar[p>>2])+(c<<2)>>2],Se(0,d),b=(h=0==(0|w))?0:0|ar[(0|ar[v>>2])+(w+-1<<2)>>2],u=(0|w)==(0|f)?y:(0|ar[v>>2])+(w<<2)|0,u=0|ar[u>>2],(0|b)<0)break A;if(!((0|b)<(0|u)&&(0|u)<=(0|ar[y>>2])))break A;if(nt(s+(18624*w|0)+18556|0,(0|ar[B>>2])+b|0,u-b|0),ca(o,1),ar[E>>2]=1+(0|ar[E>>2]),A=0|hu(20),ar[A+4>>2]=0,ar[A>>2]=7972,tr[A+8>>0]=1&h,ar[A+16>>2]=d,ar[A+12>>2]=l,ar[s+(18624*w|0)+18612>>2]=A,Sn(X,A),s=0|ar[k>>2],ar[t>>2]=A,(b=0|ar[(u=s+10668|0)>>2])>>>0<(0|ar[s+10672>>2])>>>0?(ar[b>>2]=A,ar[u>>2]=4+(0|ar[u>>2])):Oe(s+10664|0,t),!((0|w)<(0|f)))break A;w=w+1|0}sr(34817,34837,170,34848)}}while(0);if(sa(o),d=e+10664|0,l=0|ar[(k=e+10668|0)>>2],b=0|ar[d>>2],(0|(c=l))!=(0|(u=b))){for(s=0;(u=0|ar[u+(s<<2)>>2])&&(is[511&ar[4+(0|ar[u>>2])>>2]](u),c=0|ar[k>>2],b=0|ar[d>>2],l=c),(s=s+1|0)>>>0<l-(u=b)>>2>>>0;);l=b}ur=((0|c)!=(0|u)&&(ar[k>>2]=c+(~((c+-4-l|0)>>>2)<<2)),a)}(A,e,r),ar[i>>2]=2,o=0|ar[k>>2],t=((0|ar[h>>2])-o>>2)-1|0,n=0;do{if(t>>>0<=n>>>0){w=0,v=60;break}n=(s=n)+1|0}while((0|ar[o+(s<<2)>>2])!=(0|r));if(60==(0|v))return 0|w;if(!(n=0|ar[o+(n<<2)>>2]))return(e=0)|e;if(!((0|(t=0|ar[16+(0|ar[f>>2])>>2]))<(0|ar[16+(0|ar[(o=n+4|0)>>2])>>2])))return(e=0)|e;for(n=t;;){if(t=0|ar[e>>2],(0|n)>=(0|ar[t+10344>>2])){w=0,v=60;break}if(Tn((0|ar[t+10524>>2])+(80*n|0)|0,1),(0|(n=n+1|0))>=(0|ar[16+(0|ar[o>>2])>>2])){w=0,v=60;break}}if(60==(0|v))return 0|w}d||sr(55739,34700,971,34735),a=0|function(A,e,r){A|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0;ur=(a=ur)+16|0,f=a,n=0|ar[(e|=0)>>2],t=0|ar[r+4>>2],o=0|ar[768+t>>2],i=0|ar[5820+n>>2],(0|ar[10536+n>>2])!=(0-(0|ar[10532+n>>2])|0)&&sr(34762,34700,1103,34793);Ue(r,1+o|0),c=0|ar[16+t>>2];A:do{if((0|o)<0)C=0;else{for(g=5968+n|0,Z=5972+n|0,p=r+140|0,y=r+136|0,B=10332+n|0,E=10272+n|0,X=r+12|0,W=r+8|0,I=r+124|0,v=A+375396|0,m=776+t|0,l=c,A=0|ar[(0|ar[10308+n>>2])+(c<<2)>>2],w=0;;){if(0<(0|w)){if(c=A+1|0,A=0|ar[g>>2],(0|c)>=(0|br(0|ar[Z>>2],A))){C=1007;break A}l=(0|br(0|ar[10228+n+(((0|c)/(0|A)|0)<<2)>>2],i))+(0|ar[10184+n+(((0|c)%(0|A)|0)<<2)>>2])|0,A=c}if((0|ar[p>>2])<=(0|w))break;if(b=0|ar[y>>2],s=b+(18624*w|0)|0,ar[b+(18624*w|0)+18600>>2]=t,ar[b+(18624*w|0)+18592>>2]=ar[B>>2],ar[b+(18624*w|0)+18596>>2]=n,ar[(d=b+(18624*w|0)+18604|0)>>2]=e,ar[b+(18624*w|0)+18608>>2]=r,ar[b+(18624*w|0)+4>>2]=ar[(0|ar[E>>2])+(l<<2)>>2],Se(0,s),u=(k=0==(0|w))?0:0|ar[(0|ar[m>>2])+(w+-1<<2)>>2],c=(0|w)==(0|o)?X:(0|ar[m>>2])+(w<<2)|0,c=0|ar[c>>2],(0|u)<0){C=17;break A}if(!((0|u)<(0|c)&&(0|c)<=(0|ar[X>>2]))){C=17;break A}if(nt(b+(18624*w|0)+18556|0,(0|ar[W>>2])+u|0,c-u|0),ca(n,1),ar[I>>2]=1+(0|ar[I>>2]),h=0|hu(24),ar[h+4>>2]=0,ar[h>>2]=7932,tr[h+8>>0]=1&k,ar[h+20>>2]=s,ar[h+12>>2]=(0|l)%(0|i)|0,ar[h+16>>2]=(0|l)/(0|i)|0,ar[b+(18624*w|0)+18612>>2]=h,Sn(v,h),c=0|ar[d>>2],ar[f>>2]=h,(b=0|ar[(u=c+10668|0)>>2])>>>0<(0|ar[c+10672>>2])>>>0?(ar[b>>2]=h,ar[u>>2]=4+(0|ar[u>>2])):Oe(c+10664|0,f),!((0|w)<(0|o))){C=0;break A}w=w+1|0}sr(34817,34837,170,34848)}}while(0);if(sa(n),s=e+10664|0,c=0|ar[(d=e+10668|0)>>2],u=0|ar[s>>2],(0|(A=c))!=(0|(l=u))){for(b=0;(l=0|ar[l+(b<<2)>>2])&&(is[511&ar[4+(0|ar[l>>2])>>2]](l),A=0|ar[d>>2],u=0|ar[s>>2],c=A),(b=b+1|0)>>>0<c-(l=u)>>2>>>0;);c=u}return ur=((0|A)!=(0|l)&&(ar[d>>2]=A+(~((A+-4-c|0)>>>2)<<2)),a),0|C}(A,e,r),ar[i>>2]=2,o=0|ar[k>>2],t=((0|ar[h>>2])-o>>2)-1|0,n=0;do{if(t>>>0<=n>>>0){w=a,v=60;break}n=(A=n)+1|0}while((0|ar[o+(A<<2)>>2])!=(0|r));if(60==(0|v))return 0|w;if(!(t=0|ar[o+(n<<2)>>2]))return 0|(e=a);if((0|(n=0|ar[16+(0|ar[f>>2])>>2]))>=(0|ar[16+(0|ar[(o=t+4|0)>>2])>>2]))return 0|(e=a);for(;;){if(t=0|ar[e>>2],(0|n)>=(0|ar[t+10344>>2])){w=a,v=60;break}if(Tn((0|ar[t+10524>>2])+(80*n|0)|0,1),(0|(n=n+1|0))>=(0|ar[16+(0|ar[o>>2])>>2])){w=a,v=60;break}}return 60==(0|v)?0|w:0}function Do(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=(A|=0)+4|0,n=0|ar[A>>2],1073741823<(o=1+(i=(t=(0|ar[f>>2])-n|0)>>2)|0)>>>0&&zl(),a=(c=(0|ar[(l=A+8|0)>>2])-n|0)>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t),ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),n&&vu(n)}function Jo(A,e){var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if((e|=0)>>>0<=(t=0|ar[(i=(A|=0)+8|0)>>2])-(f=0|ar[(l=A+4|0)>>2])>>3>>>0)for(;st(f),f=8+(0|ar[l>>2])|0,ar[l>>2]=f,0!=(0|(e=e+-1|0)););else{536870911<(f=(o=f-(n=0|ar[A>>2])>>3)+e|0)>>>0&&zl(),c=(a=t-n|0)>>2,f=a>>3>>>0<268435455?c>>>0<f>>>0?f:c:536870911;do{if(f){if(!(536870911<f>>>0)){n=0|hu(f<<3);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else n=0}while(0);for(c=n+(f<<3)|0,a=o=r=n+(o<<3)|0,f=r;st(f),a=f=a+8|0,0!=(0|(e=e+-1|0)););if(t=0|ar[A>>2],(0|(f=0|ar[l>>2]))==(0|t))e=o,f=n=t;else{for(n=o,e=r;dt(e+-8|0,f=f+-8|0),n=e=n+-8|0,(0|f)!=(0|t););e=n,n=0|ar[A>>2],f=0|ar[l>>2]}if(ar[A>>2]=e,ar[l>>2]=a,ar[i>>2]=c,(0|f)!=(0|(e=n)))for(;kt(f=f+-8|0),(0|f)!=(0|e););n&&vu(n)}}function Mo(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=(A|=0)+4|0,n=0|ar[A>>2],1073741823<(o=1+(i=(t=(0|ar[f>>2])-n|0)>>2)|0)>>>0&&zl(),a=(c=(0|ar[(l=A+8|0)>>2])-n|0)>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t),ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),n&&vu(n)}function To(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n,t=0,o=0,a=0,c=0;if(0|Lo(t=(e|=0)+376148|0,1)||sr(35044,34700,1433,35080),(0|(n=0|ia(t,0|ar[e+375388>>2],A,0,0,0,0)))<=-1&&sr(35119,34700,1436,35080),A=0|ar[e+376156>>2],A=(0|ar[e+376160>>2])-A>>2>>>0>n>>>0?0|ar[A+(n<<2)>>2]:0,e=1<<(0|ar[r+5004>>2])-1,function(A,e,r,i){A|=0,r|=0,i|=0,-1<(0|(e|=0))&&vb(0|ar[A+4>>2],255&e|0,0|br(0|ar[A+28>>2],0|ar[A+40>>2]));-1<(0|r)&&vb(0|ar[A+8>>2],255&r|0,0|br(0|ar[A+36>>2],0|ar[A+44>>2]));if((0|i)<=-1)return;vb(0|ar[A+12>>2],255&i|0,0|br(0|ar[A+36>>2],0|ar[A+44>>2]))}(A,1<<(0|ar[r+4996>>2])-1,e,e),0<(0|ar[(e=A+10364|0)>>2]))for(o=A+10360|0,t=0;a=(0|ar[o>>2])+(3*t|0)|0,c=-769&(cr[a>>0]|cr[a+1>>0]<<8),tr[a>>0]=c,tr[a+1>>0]=c>>8,(0|(t=t+1|0))<(0|ar[e>>2]););return ar[A+92>>2]=i,ar[A+88>>2]=(0|ar[r+5032>>2])-1&i,tr[A+100>>0]=0,ar[A+96>>2]=f?2:1,tr[A+10516>>0]=1,0|n}function Uo(A,e){A|=0;var r,i,f=0,n=0,t=0,o=0,a=0;if(ur=(i=ur)+112|0,r=i+24|0,t=(o=i)+104|0,function(A,e,r){e|=0,r|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0;ar[(A|=0)>>2]=e,ar[(i=A+4|0)>>2]=r,ar[(c=a=A+8|0)>>2]=0,ar[c+4>>2]=0,ar[(c=A+16|0)>>2]=0,r?(f=e+1|0,ar[A>>2]=f,n=0|cr[e>>0],o=r+-1|0,ar[i>>2]=o,n=0|db(0|n,0,56),t=D,ar[(l=a)>>2]=n,ar[l+4>>2]=t,o?(o=e+2|0,ar[A>>2]=o,f=0|cr[f>>0],l=r+-2|0,ar[i>>2]=l,f=0|db(0|f,0,48),f|=n,n=t|D,ar[(t=a)>>2]=f,ar[t+4>>2]=n,l?(t=e+3|0,ar[A>>2]=t,o=0|cr[o>>0],l=r+-3|0,ar[i>>2]=l,o=0|db(0|o,0,40),o|=f,f=n|D,ar[(n=a)>>2]=o,ar[n+4>>2]=f,l?(n=e+4|0,ar[A>>2]=n,t=0|cr[t>>0],l=r+-4|0,ar[i>>2]=l,f|=t,ar[(t=a)>>2]=o,ar[t+4>>2]=f,l?(t=e+5|0,ar[A>>2]=t,n=0|cr[n>>0],l=r+-5|0,ar[i>>2]=l,n=0|db(0|n,0,24),n|=o,f|=D,ar[(o=a)>>2]=n,ar[o+4>>2]=f,l?(o=e+6|0,ar[A>>2]=o,t=0|cr[t>>0],l=r+-6|0,ar[i>>2]=l,n|=t=0|db(0|t,0,16),f|=D,ar[(t=a)>>2]=n,ar[t+4>>2]=f,l?(t=e+7|0,ar[A>>2]=t,o=0|cr[o>>0],l=r+-7|0,ar[i>>2]=l,n|=o=0|db(0|o,0,8),f|=D,ar[(o=a)>>2]=n,ar[o+4>>2]=f,l=l?(ar[A>>2]=e+8,e=0|cr[t>>0],ar[i>>2]=r+-8,ar[(l=a)>>2]=n|e,ar[l+4>>2]=f,64-(l=0)|0):64-(l=8)|0,ar[c>>2]=l):(l=64-(l=16)|0,ar[c>>2]=l)):(l=64-(l=24)|0,ar[c>>2]=l)):(l=64-(l=32)|0,ar[c>>2]=l)):(l=64-(l=40)|0,ar[c>>2]=l)):(l=64-(l=48)|0,ar[c>>2]=l)):(l=64-(l=56)|0,ar[c>>2]=l)):(a=(a=64)-a|0,ar[c>>2]=a)}(o,0|ar[(e|=0)+20>>2],0|ar[e+24>>2]),tr[t>>0]=0,tr[(a=t+1|0)>>0]=0,tr[(f=t+2|0)>>0]=0,function(A,e){A|=0;var r=0;et(e=e|0,1),r=255&(0|At(e,6)),tr[A>>0]=r,r=255&(0|At(e,6)),tr[A+1>>0]=r,e=255+(0|At(e,3))&255,tr[A+2>>0]=e}(t,o),n=0|tr[t>>0],tr[A+377212>>0]=n,tr[A+377213>>0]=(n+-19&255)<2&1,tr[A+377214>>0]=(-8&n)<<24>>24==16&1,0|tr[a>>0])return Ba(A+548|0,e),ur=i,(e=0)|e;if((0|cr[f>>0])>(0|ar[A+375912>>2]))return Ba(A+548|0,e),ur=i,(e=0)|e;if((255&n)<32)return e=0|rr(A,o,e,t),ur=i,0|e;switch(n<<24>>24){case 32:return a=0|ze(A,o),Ba(A+548|0,e),ur=i,0|(e=a);case 33:return a=0|Le(A,o),Ba(A+548|0,e),ur=i,0|(e=a);case 34:return a=0|qe(A,o),Ba(A+548|0,e),ur=i,0|(e=a);case 40:case 39:a=0|function(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f=0,n=0;r=0;for(;n=0|At(A,8),r=n+r|0,255==(0|n););f=0;for(;n=0|At(A,8),f=n+f|0,255==(0|n););if(ar[e>>2]=r,ar[e+4>>2]=f,132!=(0|r))return(e=0)|e;if(f=0|At(A,8),ar[(n=e+8|0)>>2]=f,!i)return 0|(e=1025);i=0==(0|ar[i+476>>2])?1:3,r=0;for(;;){switch(0|f){case 0:f=255&(0|At(A,8)),tr[e+12+(r<<4)>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+1>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+2>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+3>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+4>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+5>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+6>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+7>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+8>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+9>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+10>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+11>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+12>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+13>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+14>>0]=f,f=255&(0|At(A,8)),tr[e+12+(r<<4)+15>>0]=f;break;case 1:f=65535&(0|At(A,16)),or[e+60+(r<<1)>>1]=f;break;case 2:f=0|At(A,32),ar[e+68+(r<<2)>>2]=f}if((0|i)<=(0|(r=r+1|0))){r=0;break}f=0|ar[n>>2]}return 0|r}(o,r,n=n<<24>>24==40,0|ar[A+375388>>2]);do{if(a)20==(0|(f=0|ar[(n=A+84|0)>>2]))?(n=1001,f=19):(ar[n>>2]=f+1,n=a),ar[A+4+(f<<2)>>2]=n;else if(f=0|ar[A+377220>>2],!((0|ar[A+377216>>2])==(0|f)|1^n)){if(f=0|ar[f+-4>>2],(0|(n=0|ar[(o=f+10648|0)>>2]))==(0|ar[f+10652>>2])){Ar(f+10644|0,r);break}for(f=r,t=n+80|0;ar[n>>2]=ar[f>>2],f=f+4|0,(0|(n=n+4|0))<(0|t););ar[o>>2]=80+(0|ar[o>>2]);break}}while(0);return Ba(A+548|0,e),ur=i,0|(e=a);case 36:return tr[A+376211>>0]=1,Ba(A+548|0,e),ur=i,(e=0)|e;default:return Ba(A+548|0,e),ur=i,(e=0)|e}return 0}function So(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b=0,s=0,d=0,k=0,h=0,w=0,v=0;if(ur=(u=ur)+2048|0,l=u,1<(0|(e|=0)))for(s=e,b=0;b=b+1|0,3<s>>>0;)s>>>=1;else b=0;if(a=5-b|0,c=1<<i+-1,n=(w=1<<f)+65535|0,t=0-w|0,o=0<(0|e)){h=65535&(31==(0|f)?t:31!=(0|f)?0:n),k=0;do{for(d=e;;){if(b=d+-1|0,(0|d)<=0){b=0,s=8;break}if(f=r+((0|br(b,e))+k<<1)|0,0|or[f>>1]){f=0,s=10;break}d=b}if(8==(0|s))for(;d=l+((0|br(b,e))+k<<1)|0,or[d>>1]=h,(0|(b=b+1|0))!=(0|e);)s=8;else if(10==(0|s))for(;;){for(s=b=0;v=r+((0|br(b,e))+k<<1)|0,s=(0|br(0|or[v>>1],0|tr[35206+(b<<a<<5)+f>>0]))+s|0,(0|(b=b+1|0))!=(0|d););if(s=s+64>>7,v=l+((0|br(f,e))+k<<1)|0,or[v>>1]=(0|s)<(0|t)?t:(0|s)<(0|w)?s:n,(0|(f=f+1|0))==(0|e))break;s=10}k=k+1|0}while((0|k)!=(0|e));if(o){h=c>>i,k=0;do{for(w=0|br(k,e),d=e;;){if(b=d+-1|0,(0|d)<=0){b=0,s=18;break}if(0|or[l+(b+w<<1)>>1]){f=0,s=20;break}d=b}if(18==(0|s))for(;ar[A+(b+w<<2)>>2]=h,(0|(b=b+1|0))!=(0|e);)s=18;else if(20==(0|s))for(;;){for(s=b=0;s=(0|br(0|or[l+(b+w<<1)>>1],0|tr[35206+(b<<a<<5)+f>>0]))+s|0,(0|(b=b+1|0))!=(0|d););if(ar[A+(f+w<<2)>>2]=s+c>>i,(0|(f=f+1|0))==(0|e))break;s=20}k=k+1|0}while((0|k)!=(0|e));ur=u}else ur=u}else ur=u}function Oo(A,e,r,i,f){A|=0,e|=0,i|=0;var n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;if(ur=(c=ur)+2048|0,t=c,a=1<<(o=20-(f|=0)|0)-1,1<(0|(r|=0)))for(u=r,l=0;l=l+1|0,3<u>>>0;)u>>>=1;else l=0;if(n=5-l|0,k=0<(0|r)){d=0;do{for(s=r;;){if(l=s+-1|0,(0|s)<=0){l=0,u=7;break}if(w=i+((0|br(l,r))+d<<1)|0,0|or[w>>1]){b=0,u=9;break}s=l}if(7==(0|u))for(;w=t+((0|br(l,r))+d<<1)|0,((or[w>>1]=0)|(l=l+1|0))!=(0|r);)u=7;else if(9==(0|u))for(;;){for(u=l=0;w=i+((0|br(l,r))+d<<1)|0,u=(0|br(0|or[w>>1],0|tr[35206+(l<<n<<5)+b>>0]))+u|0,(0|(l=l+1|0))!=(0|s););if(h=u+64>>7,w=t+((0|br(b,r))+d<<1)|0,or[w>>1]=(0|h)<-32768?-32768:65535&((0|h)<32767?h:32767),(0|(b=b+1|0))==(0|r))break;u=9}d=d+1|0}while((0|d)!=(0|r));if(k){h=(f=1<<f)+255|0,w=a>>o,i=0;do{for(k=0|br(i,r),d=r;;){if(l=d+-1|0,(0|d)<=0){u=18;break}if(0|or[t+(l+k<<1)>>1]){u=19;break}d=l}if(18==(0|u))for(u=0|br(i,e),l=0;d=(0|cr[(k=A+(l+u)|0)>>0])+w|0,tr[k>>0]=(0|d)<0?0:255&((0|d)<(0|f)?d:h),(0|(l=l+1|0))!=(0|r););else if(19==(0|u)){s=0|br(i,e),b=0;do{for(u=l=0;u=(0|br(0|or[t+(l+k<<1)>>1],0|tr[35206+(l<<n<<5)+b>>0]))+u|0,(0|(l=l+1|0))!=(0|d););u=(0|cr[(l=A+(b+s)|0)>>0])+(u+a>>o)|0,tr[l>>0]=(0|u)<0?0:255&((0|u)<(0|f)?u:h),b=b+1|0}while((0|b)!=(0|r))}i=i+1|0}while((0|i)!=(0|r));ur=c}else ur=c}else ur=c}function zo(A,e,r,i,f){A|=0,e|=0,i|=0;var n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;if(ur=(c=ur)+2048|0,t=c,a=1<<(o=20-(f|=0)|0)-1,1<(0|(r|=0)))for(u=r,l=0;l=l+1|0,3<u>>>0;)u>>>=1;else l=0;if(n=5-l|0,k=0<(0|r)){d=0;do{for(s=r;;){if(l=s+-1|0,(0|s)<=0){l=0,u=7;break}if(w=i+((0|br(l,r))+d<<1)|0,0|or[w>>1]){b=0,u=9;break}s=l}if(7==(0|u))for(;w=t+((0|br(l,r))+d<<1)|0,((or[w>>1]=0)|(l=l+1|0))!=(0|r);)u=7;else if(9==(0|u))for(;;){for(u=l=0;w=i+((0|br(l,r))+d<<1)|0,u=(0|br(0|or[w>>1],0|tr[35206+(l<<n<<5)+b>>0]))+u|0,(0|(l=l+1|0))!=(0|s););if(h=u+64>>7,w=t+((0|br(b,r))+d<<1)|0,or[w>>1]=(0|h)<-32768?-32768:65535&((0|h)<32767?h:32767),(0|(b=b+1|0))==(0|r))break;u=9}d=d+1|0}while((0|d)!=(0|r));if(k){h=(f=1<<f)+65535|0,w=a>>o,i=0;do{for(k=0|br(i,r),d=r;;){if(l=d+-1|0,(0|d)<=0){u=18;break}if(0|or[t+(l+k<<1)>>1]){u=19;break}d=l}if(18==(0|u))for(u=0|br(i,e),l=0;d=(0|lr[(k=A+(l+u<<1)|0)>>1])+w|0,or[k>>1]=(0|d)<0?0:65535&((0|d)<(0|f)?d:h),(0|(l=l+1|0))!=(0|r););else if(19==(0|u)){s=0|br(i,e),b=0;do{for(u=l=0;u=(0|br(0|or[t+(l+k<<1)>>1],0|tr[35206+(l<<n<<5)+b>>0]))+u|0,(0|(l=l+1|0))!=(0|d););u=(0|lr[(l=A+(b+s<<1)|0)>>1])+(u+a>>o)|0,or[l>>1]=(0|u)<0?0:65535&((0|u)<(0|f)?u:h),b=b+1|0}while((0|b)!=(0|r))}i=i+1|0}while((0|i)!=(0|r));ur=c}else ur=c}else ur=c}function jo(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;if(ur=(t=ur)+2048|0,n=t,1<(0|(e|=0))){for(o=e,u=0;;){if(!(3<o>>>0)){o=e,a=0;break}o>>>=1,u=u+1|0}for(;3<o>>>0;)o>>>=1,a=a+1|0;for(b=a+7|0,c=1<<u+-1,l=1<<a+6,a=e,o=0;;){if(o=o+1|0,!(3<a>>>0)){d=u,h=l,k=b;break}a>>>=1}}else c=o=0,d=-1,h=32,k=6;if(f=5-o|0,b=0<(0|e)){o=0;do{u=0;do{for(s=u<<f,l=a=0;w=r+((0|br(a,i))+o<<1)|0,l=(0|br(0|or[w>>1],0|tr[35206+(s<<5)+a>>0]))+l|0,(0|(a=a+1|0))!=(0|e););w=n+((0|br(u,e))+o<<1)|0,or[w>>1]=l+c>>d,u=u+1|0}while((0|u)!=(0|e));o=o+1|0}while((0|o)!=(0|e));if(b){l=0;do{u=0|br(l,e),c=0;do{for(b=c<<f,a=o=0;a=(0|br(0|or[n+(o+u<<1)>>1],0|tr[35206+(b<<5)+o>>0]))+a|0,(0|(o=o+1|0))!=(0|e););or[A+(c+u<<1)>>1]=a+h>>k,c=c+1|0}while((0|c)!=(0|e));l=l+1|0}while((0|l)!=(0|e));ur=t}else ur=t}else ur=t}function Ho(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0;if(ur=(t=ur)+2176|0,n=t+128|0,f=0<(0|(e|=0))){for(w=0==(0|(h=e>>>1)),v=e>>>2,m=7<e>>>0,b=(l=t)+64|(k=0);;){if(a=0|br(k,i),!w)for(c=b,o=0;u=r+(o+a<<1)|0,s=r+((d=o+h|0)+a<<1)|0,or[c+(o<<1)>>1]=(0|lr[s>>1])+(0|lr[u>>1]),or[c+(d<<1)>>1]=(0|lr[u>>1])-(0|lr[s>>1]),(0|(o=o+1|0))!=(0|h););if(m)for(s=v,d=h,u=l,l=b;;){c=l,b=u,a=0;do{for(o=0;p=c+((y=o+a|0)<<1)|0,Z=c+((g=y+s|0)<<1)|0,or[b+(y<<1)>>1]=(0|lr[Z>>1])+(0|lr[p>>1]),or[b+(g<<1)>>1]=(0|lr[p>>1])-(0|lr[Z>>1]),(0|(o=o+1|0))!=(0|s););a=a+d|0}while((0|a)<(0|e));if((0|(s>>=1))<=1)break;y=l,d>>=1,l=u,u=y}else u=b;for(a=u,c=0|br(k,e),o=0;Z=0|or[a+(o<<1)>>1],p=0|or[a+((y=1|o)<<1)>>1],or[n+(o+c<<1)>>1]=p+Z,or[n+(y+c<<1)>>1]=Z-p,(0|(o=o+2|0))<(0|e););if((0|(k=k+1|0))==(0|e))break;b=u}if(f){for(w=0==(0|(h=e>>>1)),v=e>>>2,m=7<e>>>0,k=0;;){if(!w)for(a=u,o=0;Z=n+((0|br(o,e))+k<<1)|0,Z=0|or[Z>>1],p=n+((0|br(y=o+h|0,e))+k<<1)|0,p=0|or[p>>1],or[a+(o<<1)>>1]=p+Z,or[a+(y<<1)>>1]=Z-p,(0|(o=o+1|0))!=(0|h););if(m)for(s=v,d=h,c=l,l=u;;){u=l,b=c,a=0;do{for(o=0;Z=u+((g=o+a|0)<<1)|0,p=u+((y=g+s|0)<<1)|0,or[b+(g<<1)>>1]=(0|lr[p>>1])+(0|lr[Z>>1]),or[b+(y<<1)>>1]=(0|lr[Z>>1])-(0|lr[p>>1]),(0|(o=o+1|0))!=(0|s););a=a+d|0}while((0|a)<(0|e));if((0|(s>>=1))<=1)break;y=l,d>>=1,l=c,c=y}else c=u;for(a=c,o=0;Z=a+(o<<1)|0,p=a+((y=1|o)<<1)|0,g=A+((0|br(o,e))+k<<1)|0,or[g>>1]=(0|lr[p>>1])+(0|lr[Z>>1]),y=A+((0|br(y,e))+k<<1)|0,or[y>>1]=(0|lr[Z>>1])-(0|lr[p>>1]),(0|(o=o+2|0))<(0|e););if((0|(k=k+1|0))==(0|e))break;u=c}ur=t}else ur=t}else ur=t}function xo(A,e,r,i,f,n,t,o,a,c){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,a|=0,c|=0;var l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0;switch(d=0|ar[9768+((o|=0)<<2)>>2],b=(u=0|ar[9768+(a<<2)>>2])+n+(s=0|ar[9784+(a<<2)>>2])|0,l=c+-8|0,0|o){case 0:if((0|(c=0-u|0))<(0|(h=s+n|0))&&(v=0-d|0,0<(0|f)))do{for(d=t+(c+u<<1)|(s=0),k=r+(0|br(c,i))+v|0;or[d>>1]=0|cr[k>>0],(0|(s=s+1|0))!=(0|f);)d=d+(b<<1)|0,k=k+1|0;c=c+1|0}while((0|c)!=(0|h));break;case 1:if((0|(c=0-u|0))<(0|(h=s+n|0))&&(m=0-d|0,0<(0|f)))do{for(d=t+(c+u<<1)|(s=0),k=r+(0|br(c,i))+m|0;v=(v=(cr[(k=(g=k)+1|0)>>0]<<2)-(0|cr[g>>0])+(0|br(0|cr[g+2>>0],-10))|0)+(58*(0|cr[g+3>>0])|0)+(17*(0|cr[g+4>>0])|0)+(0|br(0|cr[g+5>>0],-5))|0,or[d>>1]=v+(0|cr[g+6>>0])>>l,(0|(s=s+1|0))!=(0|f);)d=d+(b<<1)|0;c=c+1|0}while((0|c)!=(0|h));break;case 2:if((0|(c=0-u|0))<(0|(h=s+n|0))&&(g=0-d|0,0<(0|f)))do{for(d=t+(c+u<<1)|(s=0),k=r+(0|br(c,i))+g|0;m=(cr[(k=(m=k)+1|0)>>0]<<2)-(0|cr[m>>0])+(40*((0|cr[m+4>>0])+(0|cr[m+3>>0])|0)|0)+(cr[m+6>>0]<<2)-(0|cr[m+7>>0])+(0|br((0|cr[m+5>>0])+(0|cr[m+2>>0])|0,-11))>>l&65535,or[d>>1]=m,(0|(s=s+1|0))!=(0|f);)d=d+(b<<1)|0;c=c+1|0}while((0|c)!=(0|h));break;case 3:if((0|(c=0-u|0))<(0|(h=s+n|0))&&(w=0-d|0,0<(0|f)))do{for(d=t+(c+u<<1)|(s=0),k=r+(0|br(c,i))+w|0;m=(m=(0|br(0|cr[(k=(g=k)+1|0)>>0],-5))+(0|cr[g>>0])|0)+(17*(0|cr[g+2>>0])|0)+(58*(0|cr[g+3>>0])|0)+(0|br(0|cr[g+4>>0],-10))|0,or[d>>1]=m+(cr[g+5>>0]<<2)-(0|cr[g+6>>0])>>l,(0|(s=s+1|0))!=(0|f);)d=d+(b<<1)|0;c=c+1|0}while((0|c)!=(0|h))}switch(h=0==(0|o)?l:6,0|a){case 0:if(!(0<(0|f)&0<(0|n)))return;k=0;do{for(s=A+(k<<1)|(c=0),d=t+((0|br(k,b))<<1)|0;or[s>>1]=0|or[d>>1],(0|(c=c+1|0))!=(0|n);)s=s+(e<<1)|0,d=d+2|0;k=k+1|0}while((0|k)!=(0|f));return;case 1:if(!(0<(0|f)&0<(0|n)))return;k=0;do{for(s=A+(k<<1)|(c=0),d=t+((0|br(k,b))<<1)|0;o=(o=(or[(d=(a=d)+2|0)>>1]<<2)-(0|or[a>>1])+(0|br(0|or[a+4>>1],-10))|0)+(58*(0|or[a+6>>1])|0)+(17*(0|or[a+8>>1])|0)+(0|br(0|or[a+10>>1],-5))|0,or[s>>1]=o+(0|or[a+12>>1])>>h,(0|(c=c+1|0))!=(0|n);)s=s+(e<<1)|0;k=k+1|0}while((0|k)!=(0|f));return;case 2:if(!(0<(0|f)&0<(0|n)))return;k=0;do{for(s=A+(k<<1)|(c=0),d=t+((0|br(k,b))<<1)|0;a=(or[(d=(a=d)+2|0)>>1]<<2)-(0|or[a>>1])+(40*((0|or[a+8>>1])+(0|or[a+6>>1])|0)|0)+(or[a+12>>1]<<2)-(0|or[a+14>>1])+(0|br((0|or[a+10>>1])+(0|or[a+4>>1])|0,-11))>>h&65535,or[s>>1]=a,(0|(c=c+1|0))!=(0|n);)s=s+(e<<1)|0;k=k+1|0}while((0|k)!=(0|f));return;case 3:if(!(0<(0|f)&0<(0|n)))return;k=0;do{for(s=A+(k<<1)|(c=0),d=t+((0|br(k,b))<<1)|0;o=(o=(0|br(0|or[(d=(a=d)+2|0)>>1],-5))+(0|or[a>>1])|0)+(17*(0|or[a+4>>1])|0)+(58*(0|or[a+6>>1])|0)+(0|br(0|or[a+8>>1],-10))|0,or[s>>1]=o+(or[a+10>>1]<<2)-(0|or[a+12>>1])>>h,(0|(c=c+1|0))!=(0|n);)s=s+(e<<1)|0;k=k+1|0}while((0|k)!=(0|f));return;default:return}}function Po(A,e,r,i,f,n,t,o,a,c){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,a|=0,c|=0;var l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0;switch(d=0|ar[9768+((o|=0)<<2)>>2],b=(u=0|ar[9768+(a<<2)>>2])+n+(s=0|ar[9784+(a<<2)>>2])|0,l=c+-8|0,0|o){case 0:if((0|(c=0-u|0))<(0|(h=s+n|0))&&(v=0-d|0,0<(0|f)))do{for(d=t+(c+u<<1)|(s=0),k=r+((0|br(c,i))<<1)+(v<<1)|0;or[d>>1]=0|or[k>>1],(0|(s=s+1|0))!=(0|f);)d=d+(b<<1)|0,k=k+2|0;c=c+1|0}while((0|c)!=(0|h));break;case 1:if((0|(c=0-u|0))<(0|(h=s+n|0))&&(m=0-d|0,0<(0|f)))do{for(d=t+(c+u<<1)|(s=0),k=r+((0|br(c,i))<<1)+(m<<1)|0;v=(v=(lr[(k=(g=k)+2|0)>>1]<<2)-(0|lr[g>>1])+(0|br(0|lr[g+4>>1],-10))|0)+(58*(0|lr[g+6>>1])|0)+(17*(0|lr[g+8>>1])|0)+(0|br(0|lr[g+10>>1],-5))|0,or[d>>1]=v+(0|lr[g+12>>1])>>l,(0|(s=s+1|0))!=(0|f);)d=d+(b<<1)|0;c=c+1|0}while((0|c)!=(0|h));break;case 2:if((0|(c=0-u|0))<(0|(h=s+n|0))&&(g=0-d|0,0<(0|f)))do{for(d=t+(c+u<<1)|(s=0),k=r+((0|br(c,i))<<1)+(g<<1)|0;m=(lr[(k=(m=k)+2|0)>>1]<<2)-(0|lr[m>>1])+(40*((0|lr[m+8>>1])+(0|lr[m+6>>1])|0)|0)+(lr[m+12>>1]<<2)-(0|lr[m+14>>1])+(0|br((0|lr[m+10>>1])+(0|lr[m+4>>1])|0,-11))>>l&65535,or[d>>1]=m,(0|(s=s+1|0))!=(0|f);)d=d+(b<<1)|0;c=c+1|0}while((0|c)!=(0|h));break;case 3:if((0|(c=0-u|0))<(0|(h=s+n|0))&&(w=0-d|0,0<(0|f)))do{for(d=t+(c+u<<1)|(s=0),k=r+((0|br(c,i))<<1)+(w<<1)|0;m=(m=(0|br(0|lr[(k=(g=k)+2|0)>>1],-5))+(0|lr[g>>1])|0)+(17*(0|lr[g+4>>1])|0)+(58*(0|lr[g+6>>1])|0)+(0|br(0|lr[g+8>>1],-10))|0,or[d>>1]=m+(lr[g+10>>1]<<2)-(0|lr[g+12>>1])>>l,(0|(s=s+1|0))!=(0|f);)d=d+(b<<1)|0;c=c+1|0}while((0|c)!=(0|h))}switch(h=0==(0|o)?l:6,0|a){case 0:if(!(0<(0|f)&0<(0|n)))return;k=0;do{for(s=A+(k<<1)|(c=0),d=t+((0|br(k,b))<<1)|0;or[s>>1]=0|or[d>>1],(0|(c=c+1|0))!=(0|n);)s=s+(e<<1)|0,d=d+2|0;k=k+1|0}while((0|k)!=(0|f));return;case 1:if(!(0<(0|f)&0<(0|n)))return;k=0;do{for(s=A+(k<<1)|(c=0),d=t+((0|br(k,b))<<1)|0;o=(o=(or[(d=(a=d)+2|0)>>1]<<2)-(0|or[a>>1])+(0|br(0|or[a+4>>1],-10))|0)+(58*(0|or[a+6>>1])|0)+(17*(0|or[a+8>>1])|0)+(0|br(0|or[a+10>>1],-5))|0,or[s>>1]=o+(0|or[a+12>>1])>>h,(0|(c=c+1|0))!=(0|n);)s=s+(e<<1)|0;k=k+1|0}while((0|k)!=(0|f));return;case 2:if(!(0<(0|f)&0<(0|n)))return;k=0;do{for(s=A+(k<<1)|(c=0),d=t+((0|br(k,b))<<1)|0;a=(or[(d=(a=d)+2|0)>>1]<<2)-(0|or[a>>1])+(40*((0|or[a+8>>1])+(0|or[a+6>>1])|0)|0)+(or[a+12>>1]<<2)-(0|or[a+14>>1])+(0|br((0|or[a+10>>1])+(0|or[a+4>>1])|0,-11))>>h&65535,or[s>>1]=a,(0|(c=c+1|0))!=(0|n);)s=s+(e<<1)|0;k=k+1|0}while((0|k)!=(0|f));return;case 3:if(!(0<(0|f)&0<(0|n)))return;k=0;do{for(s=A+(k<<1)|(c=0),d=t+((0|br(k,b))<<1)|0;o=(o=(0|br(0|or[(d=(a=d)+2|0)>>1],-5))+(0|or[a>>1])|0)+(17*(0|or[a+4>>1])|0)+(58*(0|or[a+6>>1])|0)+(0|br(0|or[a+8>>1],-10))|0,or[s>>1]=o+(or[a+10>>1]<<2)-(0|or[a+12>>1])>>h,(0|(c=c+1|0))!=(0|n);)s=s+(e<<1)|0;k=k+1|0}while((0|k)!=(0|f));return;default:return}}function Lo(A,e){var r,i=0,f=0;if(e|=0)return 0|(f=1);if(e=0|ar[(A|=0)+12>>2],r=i=0|ar[A+8>>2],(f=e-i>>2)>>>0<(0|ar[A>>2])>>>0)return 0|(f=1);if((0|e)==(0|i))return(f=0)|f;for(e=0;;){if(A=0|ar[r+(e<<2)>>2],0==(0|tr[A+100>>0])&&0==(0|ar[A+96>>2])){e=1,i=7;break}if(f>>>0<=(e=e+1|0)>>>0){e=0,i=7;break}}return 7==(0|i)?0|e:0}function Ko(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f=0,n=0,t=0,o=0,a=0;A:do{if(i){if(n=A+8|0,(0|(t=0|ar[A+12>>2]))==(0|(A=o=0|ar[n>>2])))return 0|(r=-1);for(f=t-o>>2,i=0;a=0|ar[A+(i<<2)>>2],!((0|ar[a+92>>2])==(0|e)&&(0|ar[a+104>>2])>(0|r)&&2==(0|ar[a+96>>2]));)if(f>>>0<=(i=i+1|0)>>>0){f=t,i=o;break A}return 0|i}a=0|ar[(n=A+8|0)>>2],f=0|ar[A+12>>2],A=i=a}while(0);if((0|f)==(0|i))return 0|(a=-1);for(i=0;;){if(a=0|ar[A+(i<<2)>>2],(0|ar[a+92>>2])==(0|e)&&(0|ar[a+104>>2])>(0|r)&&0|ar[a+96>>2]){A=14;break}if((i=i+1|0)>>>0>=f-(0|ar[n>>2])>>2>>>0){i=-1,A=14;break}}return 14==(0|A)?0|i:0}function qo(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f=0,n=0,t=0,o=0,a=0;A:do{if(i){if(n=A+8|0,(0|(t=0|ar[A+12>>2]))==(0|(A=o=0|ar[n>>2])))return 0|(r=-1);for(f=t-o>>2,i=0;a=0|ar[A+(i<<2)>>2],!((0|ar[a+88>>2])==(0|e)&&(0|ar[a+104>>2])>(0|r)&&2==(0|ar[a+96>>2]));)if(f>>>0<=(i=i+1|0)>>>0){f=t,i=o;break A}return 0|i}a=0|ar[(n=A+8|0)>>2],f=0|ar[A+12>>2],A=i=a}while(0);if((0|f)==(0|i))return 0|(a=-1);for(i=0;;){if(a=0|ar[A+(i<<2)>>2],(0|ar[a+88>>2])==(0|e)&&(0|ar[a+104>>2])>(0|r)&&0|ar[a+96>>2]){A=14;break}if((i=i+1|0)>>>0>=f-(0|ar[n>>2])>>2>>>0){i=-1,A=14;break}}return 14==(0|A)?0|i:0}function $o(A,e){e|=0;var r,i=0;if((0|(i=0|ar[(A|=0)+12>>2]))==(0|(r=A=0|ar[A+8>>2])))return 0|(e=-1);for(i=i-A>>2,A=0;;){if((0|ar[ar[r+(A<<2)>>2]>>2])==(0|e)){i=5;break}if(i>>>0<=(A=A+1|0)>>>0){A=-1,i=5;break}}return 5==(0|i)?0|A:0}function Aa(A){var e,r,i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0;if((0|(i=0|ar[(r=(A|=0)+20|0)>>2]))==(0|(n=0|ar[(f=A+24|0)>>2]))&&sr(36524,36554,147,36561),1<(l=n-i>>2)>>>0)for(t=(n=0)|ar[92+(0|ar[i>>2])>>2],o=1;;){if(n=(c=(0|(a=0|ar[92+(0|ar[i+(o<<2)>>2])>>2]))<(0|t))?o:n,l>>>0<=(o=o+1|0)>>>0){l=n;break}t=c?a:t}else l=0;n=0|ar[(c=A+36|0)>>2],u=(0|ar[A+40>>2])-n|0,a=0|ar[(o=A+48|0)>>2],(0|(0==(0|u)?0:(u<<8)-1|0))==((t=0|ar[(e=A+52|0)>>2])+a|0)&&(function(A){var e=0,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(s=ur)+32|0,c=s+4|0,a=s,1023<(r=0|ar[(e=16+(A|=0)|0)>>2])>>>0){ar[e>>2]=r+-1024,c=0|ar[(l=A+4|0)>>2],b=0|ar[c>>2],c=c+4|0,ar[l>>2]=c,o=0|ar[(u=A+8|0)>>2],t=0|ar[(a=A+12|0)>>2],e=t,n=o;do{if((0|o)==(0|t)){if(r=0|ar[A>>2],(i=r)>>>0<c>>>0){f=(e=c)+((i=(1+(e-i>>2)|0)/-2|0)<<2)|0,e=(r=(e=n-e|0)>>2)?(wb(0|f,0|c,0|e),0|ar[l>>2]):c,A=f+(r<<2)|0,ar[u>>2]=A,ar[l>>2]=e+(i<<2),e=A;break}if(1073741823<(e=0==(0|(e=e-i>>1))?1:e)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),f=0|hu(e<<2),t=i=(n=f)+(e>>>2<<2)|0,f=f+(e<<2)|0,(0|c)==(0|o))e=t;else{for(e=t,r=c;ar[i>>2]=ar[r>>2],e=i=e+4|0,(0|(r=r+4|0))!=(0|o););r=0|ar[A>>2]}ar[A>>2]=n,ar[l>>2]=t,ar[u>>2]=e,ar[a>>2]=f,r&&(vu(r),e=0|ar[u>>2])}else e=o}while(0);return ar[e>>2]=b,ar[u>>2]=4+(0|ar[u>>2]),ur=s}if(e=0|ar[(b=A+8|0)>>2],f=e-(0|ar[(u=A+4|0)>>2])|0,r=0|ar[(l=A+12|0)>>2],i=r-(0|ar[A>>2])|0,i>>>0<=f>>>0){for(e=0==(0|(e=i>>1))?1:e,ar[c+12>>2]=0,ar[c+16>>2]=A+12,1073741823<e>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),i=0|hu(e<<2),ar[c>>2]=i,t=i+(f>>2<<2)|0,ar[(o=c+8|0)>>2]=t,ar[(n=c+4|0)>>2]=t,ar[(t=c+12|0)>>2]=i+(e<<2),f=0|hu(4096),ar[a>>2]=f,function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=0|ar[(b=8+(A|=0)|0)>>2],u=0|ar[(i=A+12|0)>>2],t=u,a=r;do{if((0|r)==(0|u)){if(l=0|ar[(u=A+4|0)>>2],n=0|ar[A>>2],(f=n)>>>0<l>>>0){o=(n=l)+((t=(1+(n-f>>2)|0)/-2|0)<<2)|0,f=(n=(f=a-n|0)>>2)?(wb(0|o,0|l,0|f),0|ar[u>>2]):l,l=o+(n<<2)|0,ar[b>>2]=l,ar[u>>2]=f+(t<<2),f=l;break}if(1073741823<(f=0==(0|(f=t-f>>1))?1:f)>>>0&&(Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)),o=0|hu(f<<2),c=t=(a=o)+(f>>>2<<2)|0,o=o+(f<<2)|0,(0|l)==(0|r))f=c;else{for(f=c,n=l;ar[t>>2]=ar[n>>2],f=t=f+4|0,(0|(n=n+4|0))!=(0|r););n=0|ar[A>>2]}ar[A>>2]=a,ar[u>>2]=c,ar[b>>2]=f,ar[i>>2]=o,n&&(vu(n),f=0|ar[b>>2])}else f=r}while(0);ar[f>>2]=ar[e>>2],ar[b>>2]=4+(0|ar[b>>2])}(c,a),f=0|ar[b>>2];e=0|ar[u>>2],(0|f)!=(0|e);)ea(c,a=f+-4|0),f=a;return r=e,i=0|ar[A>>2],ar[A>>2]=ar[c>>2],ar[c>>2]=i,ar[u>>2]=ar[n>>2],ar[n>>2]=r,e=0|ar[b>>2],ar[b>>2]=ar[o>>2],ar[o>>2]=e,A=0|ar[l>>2],ar[l>>2]=ar[t>>2],ar[t>>2]=A,(0|e)!=(0|f)&&(ar[o>>2]=e+(~((e+-4-r|0)>>>2)<<2)),0|i&&vu(i),ur=s}if((0|r)!=(0|e))return b=0|hu(4096),ar[c>>2]=b,function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=0|ar[(b=8+(A|=0)|0)>>2],u=0|ar[(i=A+12|0)>>2],t=u,a=r;do{if((0|r)==(0|u)){if(l=0|ar[(u=A+4|0)>>2],n=0|ar[A>>2],(f=n)>>>0<l>>>0){o=(n=l)+((t=(1+(n-f>>2)|0)/-2|0)<<2)|0,f=(n=(f=a-n|0)>>2)?(wb(0|o,0|l,0|f),0|ar[u>>2]):l,l=o+(n<<2)|0,ar[b>>2]=l,ar[u>>2]=f+(t<<2),f=l;break}if(1073741823<(f=0==(0|(f=t-f>>1))?1:f)>>>0&&(Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)),o=0|hu(f<<2),c=t=(a=o)+(f>>>2<<2)|0,o=o+(f<<2)|0,(0|l)==(0|r))f=c;else{for(f=c,n=l;ar[t>>2]=ar[n>>2],f=t=f+4|0,(0|(n=n+4|0))!=(0|r););n=0|ar[A>>2]}ar[A>>2]=a,ar[u>>2]=c,ar[b>>2]=f,ar[i>>2]=o,n&&(vu(n),f=0|ar[b>>2])}else f=r}while(0);ar[f>>2]=ar[e>>2],ar[b>>2]=4+(0|ar[b>>2])}(A,c),ur=s;a=0|hu(4096),ar[c>>2]=a,function(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;r=0|ar[(s=4+(A|=0)|0)>>2],b=0|ar[A>>2],n=b;do{if((0|r)==(0|b)){if(f=0|ar[(b=A+8|0)>>2],l=0|ar[(u=A+12|0)>>2],f>>>0<(i=l)>>>0){t=(i=(n=f)+((o=(1+(i-n>>2)|0)/2|0)<<2)|0)+(0-(u=(n=n-r|0)>>2)<<2)|0,u&&(wb(0|t,0|r,0|n),i=t,f=0|ar[b>>2]),ar[s>>2]=i,ar[b>>2]=f+(o<<2);break}if(1073741823<(n=0==(0|(n=i-n>>1))?1:n)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),a=0|hu(n<<2),l=i=(c=a)+((n+3|0)>>>2<<2)|0,a=a+(n<<2)|0,(0|r)==(0|f))n=l,f=r;else{for(o=i,n=l,t=r;ar[o>>2]=ar[t>>2],n=o=n+4|0,(0|(t=t+4|0))!=(0|f););f=0|ar[A>>2]}ar[A>>2]=c,ar[s>>2]=l,ar[b>>2]=n,ar[u>>2]=a,f&&(vu(f),i=0|ar[s>>2])}else i=r}while(0);ar[i+-4>>2]=ar[e>>2],ar[s>>2]=(0|ar[s>>2])-4}(A,c),a=0|ar[u>>2],c=0|ar[a>>2],a=a+4|0,ar[u>>2]=a,o=0|ar[b>>2],t=0|ar[l>>2],e=t,n=o;do{if((0|o)==(0|t)){if(r=0|ar[A>>2],(i=r)>>>0<a>>>0){f=(e=a)+((i=(1+(e-i>>2)|0)/-2|0)<<2)|0,e=(r=(e=n-e|0)>>2)?(wb(0|f,0|a,0|e),0|ar[u>>2]):a,A=f+(r<<2)|0,ar[b>>2]=A,ar[u>>2]=e+(i<<2),e=A;break}if(1073741823<(e=0==(0|(e=e-i>>1))?1:e)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),f=0|hu(e<<2),t=i=(n=f)+(e>>>2<<2)|0,f=f+(e<<2)|0,(0|a)==(0|o))e=t;else{for(e=t,r=a;ar[i>>2]=ar[r>>2],e=i=e+4|0,(0|(r=r+4|0))!=(0|o););r=0|ar[A>>2]}ar[A>>2]=n,ar[u>>2]=t,ar[b>>2]=e,ar[l>>2]=f,r&&(vu(r),e=0|ar[b>>2])}else e=o}while(0);ar[e>>2]=c,ar[b>>2]=4+(0|ar[b>>2]),ur=s}(A+32|0),a=0|ar[o>>2],t=0|ar[e>>2],n=0|ar[c>>2]),ar[(0|ar[n+((u=t+a|0)>>>10<<2)>>2])+((1023&u)<<2)>>2]=ar[i+(l<<2)>>2],ar[e>>2]=t+1,ar[(0|ar[r>>2])+(l<<2)>>2]=ar[(0|ar[f>>2])-4>>2],ar[f>>2]=(0|ar[f>>2])-4}function ea(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;r=0|ar[(s=(A|=0)+4|0)>>2],n=b=0|ar[A>>2];do{if((0|r)==(0|b)){if((f=0|ar[(b=A+8|0)>>2])>>>0<(i=l=0|ar[(u=A+12|0)>>2])>>>0){t=(i=(n=f)+((o=(1+(i-n>>2)|0)/2|0)<<2)|0)+(0-(u=(n=n-r|0)>>2)<<2)|0,u&&(wb(0|t,0|r,0|n),i=t,f=0|ar[b>>2]),ar[s>>2]=i,ar[b>>2]=f+(o<<2);break}if(1073741823<(n=0==(0|(n=i-n>>1))?1:n)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),l=i=(c=a=0|hu(n<<2))+((n+3|0)>>>2<<2)|0,a=a+(n<<2)|0,(0|r)==(0|f))n=l,f=r;else{for(o=i,n=l,t=r;ar[o>>2]=ar[t>>2],n=o=n+4|0,(0|(t=t+4|0))!=(0|f););f=0|ar[A>>2]}ar[A>>2]=c,ar[s>>2]=l,ar[b>>2]=n,ar[u>>2]=a,f&&(vu(f),i=0|ar[s>>2])}else i=r}while(0);ar[i+-4>>2]=ar[e>>2],ar[s>>2]=(0|ar[s>>2])-4}function ra(A){var e,r=0;if(r=(A|=0)+24|0,(0|ar[(e=A+20|0)>>2])==(0|ar[r>>2]))return(r=0)|r;for(;Aa(A),(0|ar[e>>2])!=(0|ar[r>>2]););return 0|(A=1)}function ia(A,e,r,i,f,n,t){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0;var o,a,c,l,u,b=0,s=0,d=0,k=0,h=0,w=0,v=0;ur=(u=ur)+16|0,a=u,l=(A|=0)+8|0,s=0|ar[(c=A+12|0)>>2],o=k=0|ar[l>>2],b=s;A:do{if((0|s)==(0|k))d=-1,k=s;else{for(w=s-k>>2,d=0;h=0|ar[o+(d<<2)>>2],0!=(0|tr[h+100>>0])||0!=(0|ar[h+96>>2]);)if(w>>>0<=(d=d+1|0)>>>0){d=-1;break A}oa(h),b=0|ar[c>>2],k=0|ar[l>>2],s=b}}while(0);return(0|d)==((w=s-k>>2)+-1|0)||w>>>0<=(0|ar[A+4>>2])>>>0||(v=0|ar[b+-4>>2],0!=(0|tr[v+100>>0]))||0!=(0|ar[v+96>>2])?b=s:((s=0|ar[b+-4>>2])&&(aa(s),vu(s),b=0|ar[c>>2]),b=b+-4|0,ar[c>>2]=b),-1==(0|d)&&(d=b-(0|ar[l>>2])>>2,na(b=0|hu(10624)),ar[a>>2]=b,(s=0|ar[c>>2])>>>0<(0|ar[A+16>>2])>>>0?(ar[s>>2]=b,ar[c>>2]=4+(0|ar[c>>2])):function(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=4+(A|=0)|0,n=0|ar[A>>2],t=(0|ar[f>>2])-n|0,1073741823<(o=1+(i=t>>2)|0)>>>0&&zl();c=(0|ar[(l=A+8|0)>>2])-n|0,a=c>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t);if(ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),!n)return;vu(n)}(l,a)),b=0|ar[(0|ar[l>>2])+(d<<2)>>2],(s=0|ar[e+476>>2])>>>0<4?(ta(b,0|ar[e+484>>2],0|ar[e+488>>2],s,e,1,r,0,i,f,n,t),tr[b+10516>>0]=0,ur=u,0|d):(sr(44456,36554,259,36599),0)}function fa(A){var e,r;e=(A|=0)+36|0,r=A+48|0,ar[(A=A+52|0)>>2]=(0|ar[A>>2])-1,A=1+(0|ar[r>>2])|0,(ar[r>>2]=A)>>>0<=2047||(vu(0|ar[ar[e>>2]>>2]),ar[e>>2]=4+(0|ar[e>>2]),ar[r>>2]=(0|ar[r>>2])-1024)}function na(A){var e,r,i=0;ar[(A|=0)+48>>2]=0,ar[A+52>>2]=0,ar[A+56>>2]=0,ar[A+700>>2]=0,ar[A+704>>2]=0,ar[A+708>>2]=0,ar[(i=A+736|0)>>2]=0,ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i+12>>2]=0,ar[i+16>>2]=0,$a(A+764|(ar[i+20>>2]=0)),Ia(A+5932|0),tr[A+10518>>0]=0,tr[A+10519>>0]=0,vb(A+10340|(tr[A+10520>>0]=0),0,140),ar[A>>2]=-1,ar[A+104>>2]=0,ar[A+10332>>2]=0,ar[A+10336>>2]=0,ar[A+10512>>2]=0,ar[A+4>>2]=0,ar[A+60>>2]=0,ar[A+8>>2]=0,ar[A+64>>2]=0,ar[A+12>>2]=0,ar[A+68>>2]=0,ar[A+28>>2]=0,i=A+10480|(ar[A+24>>2]=0),ar[A+10524>>2]=0,ar[i>>2]=0,ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i+12>>2]=0,ar[i+16>>2]=0,ar[i+20>>2]=0,tr[A+10516>>0]=2,ar[A+88>>2]=-1,ar[A+92>>2]=-1,ar[A+96>>2]=0,tr[A+100>>0]=0,ar[(i=A+10528|0)>>2]=0,ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i+12>>2]=0,ar[i+16>>2]=0,e=A+10548|0,pA(0|(e|=0),0),r=A+10576|0,dA(0|(r|=0),0)}function ta(A,e,r,i,f,n,t,o,a,c,l,u){A|=0,e|=0,r|=0,i|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0;var b,s,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0;switch(ur=(s=ur)+48|0,b=s,(f|=0)||sr(36749,36663,240,36753),hb(0|(h=A+764|0),0|f,4717),(0|h)!=(0|f)&&Ke(A+5484|0,0|ar[f+4720>>2],0|ar[f+4724>>2]),hb(A+5496|0,f+4732|0,436),oa(A),k=0|ar[14326],ar[14326]=k+1,ar[A>>2]=k,ar[A+104>>2]=2147483647,ar[A+10332>>2]=t,ar[A+10336>>2]=o,ar[A+20>>2]=i,ar[A+24>>2]=e,ar[A+28>>2]=r,ar[(k=A+32|0)>>2]=e,ar[(h=A+36|0)>>2]=r,ar[A+10488>>2]=l,ar[(l=A+10480|0)>>2]=a,ar[l+4>>2]=c,0|i){case 3:case 0:d=m=1;break;case 1:d=2,p=8;break;case 2:d=1,p=8;break;default:sr(44456,36663,276,36753)}switch(8==(0|p)&&(m=2),0|i){case 1:w=(e+1|0)/(ar[b>>2]=2)|0,ar[k>>2]=w,v=(r+1|0)/2|0,ar[h>>2]=v;break;case 2:ar[b>>2]=3,w=(e+1|0)/2|0,ar[k>>2]=w,v=r;break;case 3:ar[b>>2]=4,w=e,v=r;break;case 0:ar[b>>2]=1,ar[k>>2]=0,v=w=ar[h>>2]=0;break;default:sr(55739,36663,302,36753)}ar[b+4>>2]=e,ar[b+8>>2]=r,ar[b+12>>2]=16,i=0|ar[f+496>>2],a=0|ar[f+500>>2],k=0|ar[f+504>>2],h=0|ar[f+508>>2],e=e-(0|br(y=a+i|0,m))|0,ar[A+72>>2]=e,l=r-(0|br(c=h+k|0,d))|0,ar[A+76>>2]=l,ar[A+80>>2]=w-y,ar[A+84>>2]=v-c,c=0|br(i,m),ar[b+16>>2]=c,a=0|br(a,m),ar[b+20>>2]=a,a=0|br(k,d),ar[b+24>>2]=a,m=0|br(h,d),ar[b+28>>2]=m,ar[b+32>>2]=e,ar[b+36>>2]=l,tr[A+16>>0]=8<(0|ar[f+4996>>2])&1,l=8<(0|ar[f+5004>>2])&1,tr[A+17>>0]=l,tr[A+18>>0]=l,d=(l=0==(0|t))?0:0|ar[t+544>>2];do{if(o){if(d=0|ar[o+3060>>2],u){if(y=0|ar[o+3064>>2],l=A+10504|0,ar[A+10512>>2]=y){ar[l>>2]=0,ar[A+10508>>2]=0;break}Z=0|ar[(p=7736)>>2],p=0|ar[p+4>>2],ar[(g=l)>>2]=Z,ar[g+4>>2]=p,g=d,p=25;break}p=24}else p=l|1^u?24:(Z=0|ar[(p=t+536|0)>>2],p=0|ar[p+4>>2],ar[(g=A+10504|0)>>2]=Z,ar[g+4>>2]=p,g=d,25)}while(0);if(24==(0|p)&&(Z=0|ar[(y=7736)>>2],y=0|ar[y+4>>2],ar[(g=A+10504|0)>>2]=Z,ar[g+4>>2]=y,g=d,p=25),25==(0|p)&&0|Z&&(y=0==(0|Pb[7&Z](t,b,A,g)),t=(0|ar[A+4>>2])+c+(0|br(0|ar[A+40>>2],a))|0,ar[A+60>>2]=t,t=0|br(0|ar[A+44>>2],k),ar[A+64>>2]=(0|ar[A+8>>2])+i+t,ar[A+68>>2]=(0|ar[A+12>>2])+i+t,y))return ur=s,0|(y=7);do{if(n){i=0|ar[(e=f+5112|0)>>2],k=0|ar[(w=f+5116|0)>>2],h=0|ar[(v=f+5108|0)>>2],a=0|br(k,i),c=A+10404|0,d=0|ar[(l=A+10400|0)>>2];do{if((0|a)!=(0|ar[c>>2])){if(Bc(d),d=0|yc(a),ar[l>>2]=d){ar[c>>2]=a,p=32;break}r=ar[c>>2]=0;break}p=32}while(0);32==(0|p)&&(ar[A+10412>>2]=i,ar[A+10416>>2]=k,ar[A+10408>>2]=h,r=0!=(0|d)),h=0|ar[e>>2],k=0|ar[w>>2],i=0|ar[v>>2],a=0|br(k,h),c=A+10424|0,d=0|ar[(l=A+10420|0)>>2];do{if((0|a)!=(0|ar[c>>2])){if(Bc(d),d=0|yc(a),ar[l>>2]=d){ar[c>>2]=a,p=37;break}d=ar[c>>2]=0;break}p=37}while(0);37==(0|p)&&(ar[A+10432>>2]=h,ar[A+10436>>2]=k,ar[A+10428>>2]=i,d=0!=(0|d)),e=r&d,l=A+10360|0,i=0|ar[(r=f+5052|0)>>2],k=0|ar[(v=f+5060|0)>>2],h=0|ar[(w=f+5036|0)>>2],a=0|br(k,i),c=A+10364|0;do{if((0|a)!=(0|ar[c>>2])){if(Bc(0|ar[l>>2]),d=0|yc(3*a|0),ar[l>>2]=d){ar[c>>2]=a,p=43;break}d=ar[c>>2]=0;break}d=0|ar[l>>2],p=43}while(0);43==(0|p)&&(ar[A+10372>>2]=i,ar[A+10376>>2]=k,ar[A+10368>>2]=h,d=0!=(0|d)),h=e&d,i=(0|ar[w>>2])-2|0,k=ar[r>>2]<<i,i=ar[v>>2]<<i,l=A+10380|0,a=0|br(i,k),c=A+10384|0;do{if((0|a)!=(0|ar[c>>2])){if(Bc(0|ar[l>>2]),d=0|yc(12*a|0),ar[l>>2]=d){ar[c>>2]=a,p=49;break}d=ar[c>>2]=0;break}d=0|ar[l>>2],p=49}while(0);49==(0|p)&&(ar[A+10392>>2]=k,ar[A+10396>>2]=i,ar[A+10388>>2]=2,d=0!=(0|d)),e=h&d,i=0|ar[f+5088>>2],k=0|ar[f+5092>>2],h=0|ar[f+5100>>2],a=0|br(k,i),c=A+10444|0,d=0|ar[(l=A+10440|0)>>2];do{if((0|a)!=(0|ar[c>>2])){if(Bc(d),d=0|yc(a),ar[l>>2]=d){ar[c>>2]=a,p=54;break}d=ar[c>>2]=0;break}p=54}while(0);54==(0|p)&&(ar[A+10452>>2]=i,ar[A+10456>>2]=k,ar[A+10448>>2]=h,d=0!=(0|d)),h=e&d,i=(3+(0|ar[f+484>>2])|0)/4|0,k=(3+(0|ar[f+488>>2])|0)/4|0,a=0|br(k,i),c=A+10464|0,d=0|ar[(l=A+10460|0)>>2];do{if((0|a)!=(0|ar[c>>2])){if(Bc(d),d=0|yc(a),ar[l>>2]=d){ar[c>>2]=a,p=59;break}d=ar[c>>2]=0;break}p=59}while(0);if(59==(0|p)&&(ar[A+10472>>2]=i,ar[A+10476>>2]=k,ar[A+10468>>2]=2,d=0!=(0|d)),r=h&d,h=A+10340|0,(0|(d=0|ar[(e=A+10344|0)>>2]))==(0|ar[f+5072>>2])){if(r)break;return ur=s,0|(d=7)}if(a=0|ar[(w=A+10524|0)>>2]){if(0|(d=0|ar[(l=a+-4|0)>>2]))for(d=a+(80*d|0)|0;Jn(d=d+-80|0),(0|d)!=(0|a););mu(l),d=0|ar[e>>2]}i=0|ar[f+5056>>2],k=0|ar[f+5064>>2],c=0|ar[f+5040>>2],l=0|br(k,i);do{if((0|l)!=(0|d)){if(Bc(0|ar[h>>2]),d=0|yc(24*l|0),ar[h>>2]=d){ar[e>>2]=l,a=d,p=71;break}l=d=ar[e>>2]=0;break}a=0|ar[h>>2],l=d,p=71}while(0);if(71==(0|p)&&(ar[A+10352>>2]=i,ar[A+10356>>2]=k,ar[A+10348>>2]=c,d=0!=(0|a)),a=r&d,c=0|wu(53687091<l>>>0|4294967291<(c=80*l|0)>>>0?-1:c+4|0),ar[c>>2]=l,c=c+4|0,0|l)for(d=c+(80*l|0)|0,l=c;Dn(l),(0|(l=l+80|0))!=(0|d););if(ar[w>>2]=c,!a)return ur=s,0|(y=7)}}while(0);return ur=s,(y=0)|y}function oa(A){var e,r=0,i=0,f=0,n=0,t=0,o=0;if(0|ar[(f=(A|=0)+4|0)>>2]&&((r=0|ar[A+10512>>2])?(o=0|ar[A+10336>>2],ns[127&r](o,A,0|ar[o+3060>>2])):(i=(r=0|ar[A+10332>>2])?0|ar[r+544>>2]:0,ns[127&ar[A+10508>>2]](r,A,i)),ar[f>>2]=0,ar[A+60>>2]=0,ar[A+8>>2]=0,ar[A+64>>2]=0,ar[A+12>>2]=0,ar[A+68>>2]=0),e=A+48|0,(0|(r=i=0|ar[(o=A+52|0)>>2]))!=(0|(f=A=0|ar[e>>2]))){for(t=0;(n=0|ar[f+(t<<2)>>2])&&(0|(r=0|ar[n+1344>>2])&&((0|(f=0|ar[(i=n+1348|0)>>2]))!=(0|r)&&(ar[i>>2]=f+(~((f+-4-r|0)>>>2)<<2)),vu(r)),kt(n+1332|0),0|(r=0|ar[n+776>>2])&&((0|(f=0|ar[(i=n+780|0)>>2]))!=(0|r)&&(ar[i>>2]=f+(~((f+-4-r|0)>>>2)<<2)),vu(r)),vu(n),r=0|ar[o>>2],A=0|ar[e>>2],i=r),(t=t+1|0)>>>0<i-(f=A)>>2>>>0;);i=A}(0|r)!=(0|f)&&(ar[o>>2]=r+(~((r+-4-i|0)>>>2)<<2))}function aa(A){var e,r,i,f=0,n=0,t=0,o=0;if(oa(A|=0),0|(n=0|ar[A+10524>>2])){if(0|(f=0|ar[(t=n+-4|0)>>2]))for(f=n+(80*f|0)|0;Jn(f=f+-80|0),(0|f)!=(0|n););mu(t)}if(r=A+10576|0,sA(0|(r|=0)),i=A+10548|0,ZA(0|(i|=0)),Bc(0|ar[A+10460>>2]),Bc(0|ar[A+10440>>2]),Bc(0|ar[A+10420>>2]),Bc(0|ar[A+10400>>2]),Bc(0|ar[A+10380>>2]),Bc(0|ar[A+10360>>2]),Bc(0|ar[A+10340>>2]),Ga(A+5932|0),Ac(A+764|0),0|(f=0|ar[A+748>>2])&&((0|ar[(n=A+752|0)>>2])!=(0|f)&&(ar[n>>2]=f),vu(f)),0|(f=0|ar[A+736>>2])&&((0|(t=0|ar[(n=A+740|0)>>2]))!=(0|f)&&(ar[n>>2]=t+(~((t+-2-f|0)>>>1)<<1)),vu(f)),0|(f=0|ar[(e=A+700|0)>>2])){if((0|(n=0|ar[(o=A+704|0)>>2]))!=(0|f)){for(;n=n+-12|0,ar[o>>2]=n,(t=0|ar[n>>2])&&(vu(t),n=0|ar[o>>2]),(0|n)!=(0|f););f=0|ar[e>>2]}vu(f)}(t=0|ar[A+48>>2])&&((0|(n=0|ar[(f=A+52|0)>>2]))!=(0|t)&&(ar[f>>2]=n+(~((n+-4-t|0)>>>2)<<2)),vu(t))}function ca(A,e){e|=0;var r,i;Yn(r=(A|=0)+10548|0),ar[(i=A+10528|0)>>2]=(0|ar[i>>2])+e,ar[(A=A+10544|0)>>2]=(0|ar[A>>2])+e,Qn(r)}function la(A,e){e|=0;var r;Yn(e=(A|=0)+10548|0),ar[(r=A+10528|0)>>2]=(0|ar[r>>2])-1,ar[(A=A+10532|0)>>2]=1+(0|ar[A>>2]),Qn(e)}function ua(A,e){e|=0;var r,i,f,n=0;(Yn(e=(A|=0)+10548|0),i=0|ar[(n=A+10532|0)>>2],ar[n>>2]=i-1,r=1+(0|ar[(n=A+10540|0)>>2])|0,ar[n>>2]=r,(0|i)<=0&&sr(36809,36663,642,36830),(0|r)==(0|ar[A+10544>>2]))?(f=A+10576|0,mb(f|=0),Qn(e)):Qn(e)}function ba(A,e,r,i,f){r|=0,i|=0,f|=0,function(A,e,r,i){A|=0,r|=0,i|=0;var f,n;if(!(e|=0))return;if((0|function(A){return 0|ar[(A|=0)>>2]}(r=(0|ar[A+10524>>2])+(80*r|0)|0))>=(0|i))return;Yn(f=A+10548|0),ar[(n=A+10532|0)>>2]=(0|ar[n>>2])-1,ar[(A=A+10536|0)>>2]=1+(0|ar[A>>2]),Qn(f),ar[(e=e+4|0)>>2]=2,Mn(r,i),ar[e>>2]=1,Yn(f),ar[A>>2]=(0|ar[A>>2])-1,ar[n>>2]=1+(0|ar[n>>2]),Qn(f)}(A|=0,e|=0,(0|br(0|ar[A+5820>>2],i))+r|0,f)}function sa(A){var e,r,i;if(Yn(e=(A|=0)+10548|0),i=A+10544|0,(0|ar[(r=A+10540|0)>>2])!=(0|ar[i>>2])){for(A=A+10576|0;f=A,n=e,hA(0|(f|=0),0|(n|=0)),(0|ar[r>>2])!=(0|ar[i>>2]););var f,n;Qn(e)}else Qn(e)}function da(A,e,r,i,f){A|=0,e|=0,r|=0;var n=0,t=0,o=0,a=0;return((f|=0)|(i|=0)|0)<0||(0|ar[A+1248>>2])<=(0|i)||(0|ar[A+1252>>2])<=(0|f)?(A=0)|A:(t=0|ar[A+5864>>2],a=0|ar[A+5852>>2],n=(0|br(f>>t,a))+(i>>t)|0,t=(o=0|ar[A+10320>>2])+((0|br(r>>t,a))+(e>>t)<<2)|0,(0|ar[o+(n<<2)>>2])>(0|ar[t>>2])?(a=0)|a:(t=e>>(a=0|ar[A+5804>>2]),n=r>>a,r=i>>a,e=f>>a,a=0|ar[A+10352>>2],o=(0|br(a,n))+t|0,a=(f=0|ar[A+10340>>2])+(24*((0|br(a,e))+r|0)|0)|0,(0|or[f+(24*o|0)>>1])!=(0|or[a>>1])?(a=0)|a:(a=0|ar[A+5820>>2],o=(0|br(a,n))+t|0,a=(A=0|ar[A+10308>>2])+((0|br(a,e))+r<<2)|0,0|(a=(0|ar[A+(o<<2)>>2])==(0|ar[a>>2])))))}function ka(A,e,r,i,f,n,t,o,a,c,l){if(A|=0,f|=0,n|=0,t|=0,o|=0,a|=0,(0|(l|=0))<((i|=0)+(r|=0)|0)&(1^((i+(e|=0)|0)<=(0|(c|=0))|(0|c)<(0|e)|(0|l)<(0|r)))){if((t<<1|0)==(0|i)&&!((t+e|0)<=(0|c)|1!=(0|a)|(o<<1|0)!=(0|i)|(0|l)<(o+r|0)))return 0}else{if((l|c|0)<0)return 0;if((0|ar[A+1248>>2])<=(0|c))return 0;if((0|ar[A+1252>>2])<=(0|l))return 0;if(a=0|ar[A+5864>>2],i=0|ar[A+5852>>2],o=(0|br(l>>a,i))+(c>>a)|0,a=(t=0|ar[A+10320>>2])+((0|br(n>>a,i))+(f>>a)<<2)|0,(0|ar[t+(o<<2)>>2])>(0|ar[a>>2]))return 0;if(f>>=i=0|ar[A+5804>>2],e=n>>i,r=c>>i,i=l>>i,n=0|ar[A+10352>>2],a=(0|br(n,e))+f|0,n=(o=0|ar[A+10340>>2])+(24*((0|br(n,i))+r|0)|0)|0,(0|or[o+(24*a|0)>>1])!=(0|or[n>>1]))return 0;if(n=0|ar[A+5820>>2],a=(0|br(n,e))+f|0,n=(o=0|ar[A+10308>>2])+((0|br(n,i))+r<<2)|0,(0|ar[o+(a<<2)>>2])!=(0|ar[n>>2]))return 0}return i=c>>(e=0|ar[A+10368>>2]),e=l>>e,(0|i)<=-1&&sr(48482,36846,118,48539),(0|(r=0|ar[A+10372>>2]))<=(0|i)&&sr(48482,36846,118,48539),(0|e)<=-1&&sr(48543,36846,119,48539),(0|e)<(0|ar[A+10376>>2])?(A=(0|ar[A+10360>>2])+(3*((0|br(r,e))+i|0)|0)|0,0!=(768&(cr[A>>0]|cr[A+1>>0]<<8))|0):(sr(48543,36846,119,48539),0)}function ha(A){return((A|=0)+-19&255)<2|0}function wa(A){return((A|=0)+-16&255)<3|0}function va(A){return(1|(A|=0))<<24>>24==9|0}function ma(A){return(-8&(A|=0))<<24>>24==16|0}function ga(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=(A|=0)+4|0,n=0|ar[A>>2],1073741823<(o=1+(i=(t=(0|ar[f>>2])-n|0)>>2)|0)>>>0&&zl(),a=(c=(0|ar[(l=A+8|0)>>2])-n|0)>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t),ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),n&&vu(n)}function Za(A,e,r){e|=0,r|=0;var i,f=0;for(i=f=0|ar[(A|=0)+32>>2],A=(0|ar[A+36>>2])-f>>2;;){if(f=A+-1|0,(0|A)<=0){A=0,f=4;break}if(!(((0|ar[i+(f<<2)>>2])-r|0)>(0|e))){f=4;break}A=f}return 4==(0|f)?0|A:0}function pa(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0,l=0;f=(A|=0)+4|0,n=0|ar[A>>2],1073741823<(o=1+(i=(t=(0|ar[f>>2])-n|0)>>2)|0)>>>0&&zl(),a=(c=(0|ar[(l=A+8|0)>>2])-n|0)>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);ar[(r=c+(i<<2)|0)>>2]=ar[e>>2],o=r+(0-i<<2)|0,0<(0|t)&&hb(0|o,0|n,0|t),ar[A>>2]=o,ar[f>>2]=4+r,ar[l>>2]=c+(a<<2),n&&vu(n)}function ya(A){var e,r,i,f,n=0,t=0,o=0;return(n=0|ar[(e=(A|=0)+32|0)>>2])?(f=0|ar[(i=A+16|0)>>2],o=0|ar[(t=A+28|0)>>2],r=0|ar[(0|ar[f+(o>>>10<<2)>>2])+((1023&o)<<2)>>2],ar[e>>2]=n+-1,n=o+1|0,2047<(ar[t>>2]=n)>>>0&&(vu(0|ar[f>>2]),ar[i>>2]=4+(0|ar[i>>2]),ar[t>>2]=(0|ar[t>>2])-1024),ar[(o=A+36|0)>>2]=(0|ar[o>>2])-(0|ar[24+r>>2]),0|(o=r)):(t=0)|t}function Ba(A,e){A|=0,e|=0;var r,i,f,n,t=0,o=0;if(ur=(n=ur)+16|0,o=ar[(t=n)>>2]=e){if(r=A+40|0,(f=0|ar[(i=A+44|0)>>2])-(0|ar[r>>2])>>2>>>0<16)return(0|f)==(0|ar[A+48>>2])?pa(r,t):(ar[f>>2]=o,ar[i>>2]=4+(0|ar[i>>2])),void(ur=n);Bc(0|ar[e+20>>2]),0|(A=0|ar[e+32>>2])&&((0|(o=0|ar[(t=e+36|0)>>2]))!=(0|A)&&(ar[t>>2]=o+(~((o+-4-A|0)>>>2)<<2)),vu(A)),vu(e),ur=n}else ur=n}function Ea(A){var e=0,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(s=ur)+32|0,c=s+4|0,a=s,1023<(r=0|ar[(e=(A|=0)+16|0)>>2])>>>0){ar[e>>2]=r+-1024,c=0|ar[(l=A+4|0)>>2],b=0|ar[c>>2],c=c+4|0,ar[l>>2]=c,o=0|ar[(u=A+8|0)>>2],e=t=0|ar[(a=A+12|0)>>2],n=o;do{if((0|o)==(0|t)){if((i=r=0|ar[A>>2])>>>0<c>>>0){f=(e=c)+((i=(1+(e-i>>2)|0)/-2|0)<<2)|0,e=(r=(e=n-e|0)>>2)?(wb(0|f,0|c,0|e),0|ar[l>>2]):c,A=f+(r<<2)|0,ar[u>>2]=A,ar[l>>2]=e+(i<<2),e=A;break}if(1073741823<(e=0==(0|(e=e-i>>1))?1:e)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),t=i=(n=f=0|hu(e<<2))+(e>>>2<<2)|0,f=f+(e<<2)|0,(0|c)==(0|o))e=t;else{for(e=t,r=c;ar[i>>2]=ar[r>>2],e=i=e+4|0,(0|(r=r+4|0))!=(0|o););r=0|ar[A>>2]}ar[A>>2]=n,ar[l>>2]=t,ar[u>>2]=e,ar[a>>2]=f,r&&(vu(r),e=0|ar[u>>2])}else e=o}while(0);return ar[e>>2]=b,ar[u>>2]=4+(0|ar[u>>2]),void(ur=s)}if(f=(e=0|ar[(b=A+8|0)>>2])-(0|ar[(u=A+4|0)>>2])|0,(i=(r=0|ar[(l=A+12|0)>>2])-(0|ar[A>>2])|0)>>>0<=f>>>0){for(e=0==(0|(e=i>>1))?1:e,ar[c+12>>2]=0,ar[c+16>>2]=A+12,1073741823<e>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),i=0|hu(e<<2),t=(ar[c>>2]=i)+(f>>2<<2)|0,ar[(o=c+8|0)>>2]=t,ar[(n=c+4|0)>>2]=t,ar[(t=c+12|0)>>2]=i+(e<<2),f=0|hu(4096),ar[a>>2]=f,function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=0|ar[(b=8+(A|=0)|0)>>2],u=0|ar[(i=A+12|0)>>2],t=u,a=r;do{if((0|r)==(0|u)){if(l=0|ar[(u=A+4|0)>>2],n=0|ar[A>>2],(f=n)>>>0<l>>>0){o=(n=l)+((t=(1+(n-f>>2)|0)/-2|0)<<2)|0,f=(n=(f=a-n|0)>>2)?(wb(0|o,0|l,0|f),0|ar[u>>2]):l,l=o+(n<<2)|0,ar[b>>2]=l,ar[u>>2]=f+(t<<2),f=l;break}if(1073741823<(f=0==(0|(f=t-f>>1))?1:f)>>>0&&(Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)),o=0|hu(f<<2),c=t=(a=o)+(f>>>2<<2)|0,o=o+(f<<2)|0,(0|l)==(0|r))f=c;else{for(f=c,n=l;ar[t>>2]=ar[n>>2],f=t=f+4|0,(0|(n=n+4|0))!=(0|r););n=0|ar[A>>2]}ar[A>>2]=a,ar[u>>2]=c,ar[b>>2]=f,ar[i>>2]=o,n&&(vu(n),f=0|ar[b>>2])}else f=r}while(0);ar[f>>2]=ar[e>>2],ar[b>>2]=4+(0|ar[b>>2])}(c,a),f=0|ar[b>>2];(0|f)!=(0|(e=0|ar[u>>2]));)Xa(c,a=f+-4|0),f=a;return r=e,i=0|ar[A>>2],ar[A>>2]=ar[c>>2],ar[c>>2]=i,ar[u>>2]=ar[n>>2],ar[n>>2]=r,e=0|ar[b>>2],ar[b>>2]=ar[o>>2],ar[o>>2]=e,A=0|ar[l>>2],ar[l>>2]=ar[t>>2],ar[t>>2]=A,(0|e)!=(0|f)&&(ar[o>>2]=e+(~((e+-4-r|0)>>>2)<<2)),0|i&&vu(i),void(ur=s)}if((0|r)!=(0|e))return b=0|hu(4096),ar[c>>2]=b,function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;r=0|ar[(b=8+(A|=0)|0)>>2],u=0|ar[(i=A+12|0)>>2],t=u,a=r;do{if((0|r)==(0|u)){if(l=0|ar[(u=A+4|0)>>2],n=0|ar[A>>2],(f=n)>>>0<l>>>0){o=(n=l)+((t=(1+(n-f>>2)|0)/-2|0)<<2)|0,f=(n=(f=a-n|0)>>2)?(wb(0|o,0|l,0|f),0|ar[u>>2]):l,l=o+(n<<2)|0,ar[b>>2]=l,ar[u>>2]=f+(t<<2),f=l;break}if(1073741823<(f=0==(0|(f=t-f>>1))?1:f)>>>0&&(Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)),o=0|hu(f<<2),c=t=(a=o)+(f>>>2<<2)|0,o=o+(f<<2)|0,(0|l)==(0|r))f=c;else{for(f=c,n=l;ar[t>>2]=ar[n>>2],f=t=f+4|0,(0|(n=n+4|0))!=(0|r););n=0|ar[A>>2]}ar[A>>2]=a,ar[u>>2]=c,ar[b>>2]=f,ar[i>>2]=o,n&&(vu(n),f=0|ar[b>>2])}else f=r}while(0);ar[f>>2]=ar[e>>2],ar[b>>2]=4+(0|ar[b>>2])}(A,c),void(ur=s);a=0|hu(4096),ar[c>>2]=a,function(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;r=0|ar[(s=4+(A|=0)|0)>>2],b=0|ar[A>>2],n=b;do{if((0|r)==(0|b)){if(f=0|ar[(b=A+8|0)>>2],l=0|ar[(u=A+12|0)>>2],f>>>0<(i=l)>>>0){t=(i=(n=f)+((o=(1+(i-n>>2)|0)/2|0)<<2)|0)+(0-(u=(n=n-r|0)>>2)<<2)|0,u&&(wb(0|t,0|r,0|n),i=t,f=0|ar[b>>2]),ar[s>>2]=i,ar[b>>2]=f+(o<<2);break}if(1073741823<(n=0==(0|(n=i-n>>1))?1:n)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),a=0|hu(n<<2),l=i=(c=a)+((n+3|0)>>>2<<2)|0,a=a+(n<<2)|0,(0|r)==(0|f))n=l,f=r;else{for(o=i,n=l,t=r;ar[o>>2]=ar[t>>2],n=o=n+4|0,(0|(t=t+4|0))!=(0|f););f=0|ar[A>>2]}ar[A>>2]=c,ar[s>>2]=l,ar[b>>2]=n,ar[u>>2]=a,f&&(vu(f),i=0|ar[s>>2])}else i=r}while(0);ar[i+-4>>2]=ar[e>>2],ar[s>>2]=(0|ar[s>>2])-4}(A,c),a=0|ar[u>>2],c=0|ar[a>>2],a=a+4|0,ar[u>>2]=a,o=0|ar[b>>2],e=t=0|ar[l>>2],n=o;do{if((0|o)==(0|t)){if((i=r=0|ar[A>>2])>>>0<a>>>0){f=(e=a)+((i=(1+(e-i>>2)|0)/-2|0)<<2)|0,e=(r=(e=n-e|0)>>2)?(wb(0|f,0|a,0|e),0|ar[u>>2]):a,A=f+(r<<2)|0,ar[b>>2]=A,ar[u>>2]=e+(i<<2),e=A;break}if(1073741823<(e=0==(0|(e=e-i>>1))?1:e)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),t=i=(n=f=0|hu(e<<2))+(e>>>2<<2)|0,f=f+(e<<2)|0,(0|a)==(0|o))e=t;else{for(e=t,r=a;ar[i>>2]=ar[r>>2],e=i=e+4|0,(0|(r=r+4|0))!=(0|o););r=0|ar[A>>2]}ar[A>>2]=n,ar[u>>2]=t,ar[b>>2]=e,ar[l>>2]=f,r&&(vu(r),e=0|ar[b>>2])}else e=o}while(0);ar[e>>2]=c,ar[b>>2]=4+(0|ar[b>>2]),ur=s}function Xa(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;r=0|ar[(s=(A|=0)+4|0)>>2],n=b=0|ar[A>>2];do{if((0|r)==(0|b)){if((f=0|ar[(b=A+8|0)>>2])>>>0<(i=l=0|ar[(u=A+12|0)>>2])>>>0){t=(i=(n=f)+((o=(1+(i-n>>2)|0)/2|0)<<2)|0)+(0-(u=(n=n-r|0)>>2)<<2)|0,u&&(wb(0|t,0|r,0|n),i=t,f=0|ar[b>>2]),ar[s>>2]=i,ar[b>>2]=f+(o<<2);break}if(1073741823<(n=0==(0|(n=i-n>>1))?1:n)>>>0&&(Zu(s=0|X(8),44519),ar[s>>2]=17660,I(0|s,4016,428)),l=i=(c=a=0|hu(n<<2))+((n+3|0)>>>2<<2)|0,a=a+(n<<2)|0,(0|r)==(0|f))n=l,f=r;else{for(o=i,n=l,t=r;ar[o>>2]=ar[t>>2],n=o=n+4|0,(0|(t=t+4|0))!=(0|f););f=0|ar[A>>2]}ar[A>>2]=c,ar[s>>2]=l,ar[b>>2]=n,ar[u>>2]=a,f&&(vu(f),i=0|ar[s>>2])}else i=r}while(0);ar[i+-4>>2]=ar[e>>2],ar[s>>2]=(0|ar[s>>2])-4}function Wa(A){var e,r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if(!(r=0|ar[(e=(A|=0)+8|0)>>2]))return(l=0)|l;if(6==(0|(i=0|ar[(l=A+4|0)>>2]))){if(a=(i=0|ar[(c=24+r|0)>>2])+1|0,(0|ar[(t=28+r|0)>>2])>(0|i))f=0|ar[20+r>>2];else{if(!(f=0|yc(a)))return 0|(l=7);(n=0|ar[(o=20+r|0)>>2])&&(hb(0|f,0|n,0|i),Bc(n),i=0|ar[c>>2]),ar[o>>2]=f,ar[t>>2]=a}tr[f+i>>0]=0,ar[c>>2]=1+(0|ar[c>>2]),i=0|ar[l>>2]}if(7==(0|i)){if(t=(i=0|ar[(c=24+r|0)>>2])+2|0,(0|ar[(o=28+r|0)>>2])<(0|t)){if(!(f=0|yc(t)))return 0|(l=7);(n=0|ar[(a=20+r|0)>>2])&&(hb(0|f,0|n,0|i),Bc(n),i=0|ar[c>>2]),ar[a>>2]=f,ar[o>>2]=t}else f=0|ar[20+r>>2];tr[(i=f+i|0)>>0]=0,tr[i+1>>0]=0,ar[c>>2]=2+(0|ar[c>>2]),i=0|ar[l>>2]}return 4<(0|i)&&(i=0|ar[(o=A+16|0)>>2],c=(0|ar[A+20>>2])-i|0,n=0|ar[(f=A+28|0)>>2],(0|(0==(0|c)?0:(c<<8)-1|0))==((t=0|ar[(a=A+32|0)>>2])+n|0)?(Ea(A+12|0),n=0|ar[f>>2],f=0|ar[a>>2],i=0|ar[o>>2]):f=t,ar[(0|ar[i+((c=f+n|0)>>>10<<2)>>2])+((1023&c)<<2)>>2]=r,ar[a>>2]=f+1,ar[(A=A+36|0)>>2]=(0|ar[A>>2])+(0|ar[24+r>>2]),ar[e>>2]=0),(l=ar[l>>2]=0)|l}function Ia(A){var e,r=0;for(tr[(A|=0)+4138>>0]=2,r=A+4139|0,tr[A+4155>>0]=0,tr[A+4156>>0]=0,tr[r>>0]=0,tr[r+1>>0]=0,tr[r+2>>0]=0,e=(r=A+4340|(tr[r+3>>0]=0))+60|0;(0|(r=r+4|(ar[r>>2]=0)))<(0|e););Ca(A,0)}function Ca(A,e){e|=0;var r=0,i=0;if(ar[(A|=0)>>2]=0,or[A+4>>1]=0,tr[A+6>>0]=1,tr[A+7>>0]=1,ar[A+8>>2]=27,tr[A+12>>0]=0,tr[A+13>>0]=0,tr[A+14>>0]=0,ar[(e=A+16|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,or[e+16>>1]=0,tr[e+18>>0]=0,ar[A+36>>2]=1,ar[A+40>>2]=1,tr[A+44>>0]=1,tr[A+45>>0]=1,tr[A+46>>0]=1,vb(A+4172|0,0,168),e=0|ar[A+4340>>2],(0|(i=0|ar[(r=A+4344|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),e=0|ar[A+4352>>2],(0|(i=0|ar[(r=A+4356|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),e=0|ar[A+4364>>2],(0|(i=0|ar[(r=A+4368|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),e=0|ar[A+4376>>2],(0|(i=0|ar[(r=A+4380|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),e=0|ar[A+4388>>2],(0|(i=0|ar[(r=A+4392|0)>>2]))==(0|e))return ar[(i=A+4160|0)>>2]=0,tr[(i=A+47|0)>>0]=0,tr[(i=A+48|0)>>0]=0,tr[(i=A+49|0)>>0]=0,ar[(i=A+52|0)>>2]=0,ar[(i=A+56|0)>>2]=0,tr[(i=A+60|0)>>0]=0,tr[(i=A+4125|0)>>0]=0,ar[(i=A+4128|0)>>2]=2,ar[(A=A+4132|0)>>2]=0,void(or[A+4>>1]=0);ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2),ar[(i=A+4160|0)>>2]=0,tr[(i=A+47|0)>>0]=0,tr[(i=A+48|0)>>0]=0,tr[(i=A+49|0)>>0]=0,ar[(i=A+52|0)>>2]=0,ar[(i=A+56|0)>>2]=0,tr[(i=A+60|0)>>0]=0,tr[(i=A+4125|0)>>0]=0,ar[(i=A+4128|0)>>2]=2,ar[(A=A+4132|0)>>2]=0,or[A+4>>1]=0}function Ga(A){var e=0,r=0,i=0;0|(e=0|ar[(A|=0)+4388>>2])&&((0|(i=0|ar[(r=A+4392|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),vu(e)),0|(e=0|ar[A+4376>>2])&&((0|(i=0|ar[(r=A+4380|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),vu(e)),0|(e=0|ar[A+4364>>2])&&((0|(i=0|ar[(r=A+4368|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),vu(e)),0|(e=0|ar[A+4352>>2])&&((0|(i=0|ar[(r=A+4356|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),vu(e)),(i=0|ar[A+4340>>2])&&((0|(r=0|ar[(e=A+4344|0)>>2]))!=(0|i)&&(ar[e>>2]=r+(~((r+-4-i|0)>>>2)<<2)),vu(i))}function Va(A,e){var r,i,f,n,t,o=0,a=0,c=0,l=0;if((e|=0)>>>0<=(a=0|ar[(t=(A|=0)+8|0)>>2])-(o=0|ar[(l=A+4|0)>>2])>>2>>>0)return vb(0|o,0,e<<2|0),void(ar[l>>2]=o+(e<<2));1073741823<(o=(i=(f=o-(n=0|ar[A>>2])|0)>>2)+e|0)>>>0&&zl(),a=(c=a-n|0)>>1,a=c>>2>>>0<536870911?a>>>0<o>>>0?o:a:1073741823;do{if(a){if(!(1073741823<a>>>0)){c=0|hu(a<<2);break}Zu(l=0|X(8),44519),ar[l>>2]=17660,I(0|l,4016,428)}else c=0}while(0);vb(0|(r=c+(i<<2)|0),0,e<<2|0),o=r+(0-i<<2)|0,0<(0|f)&&hb(0|o,0|n,0|f),ar[A>>2]=o,ar[l>>2]=r+(e<<2),ar[t>>2]=c+(a<<2),n&&vu(n)}function Fa(A,e,r){e|=0,r|=0;var i,f=0;if(!(0|tr[(A|=0)+34>>0]))return 0==(r|e|0)|0;i=0|ar[A+36>>2];A:do{if(0<(0|i)){for(f=0;(0|ar[A+4252+(f<<2)>>2])!=(0|e);)if((0|i)<=(0|(f=f+1|0))){e=f=0;break A}if(0<(0|(e=0|ar[A+40>>2])))for(f=0;;){if((0|ar[A+4296+(f<<2)>>2])==(0|r)){e=f=1;break A}if((0|e)<=(0|(f=f+1|0))){f=1,e=0;break}}else f=1,e=0}else e=f=0}while(0);return e&f|0}function Ra(A,e,r,i,f,n,t,o,a,c,l){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0;var u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0,fA=0,nA=0,tA=0,oA=0,aA=0,cA=0,lA=0;if(ur=(U=ur)+144|0,D=U+8|0,F=(V=U)+136|0,S=0|ar[(R=(A|=0)+10352|0)>>2],iA=(0|br(S,r))+e|0,J=0|ar[A+10340>>2],z=f<<1,j=(0|cr[J+(24*iA|0)+4>>0])>>>z&3)if(T=(M=1<<(P=0|ar[((O=0==(0|f))?A+5760|0:A+5768|0)>>2]))-1|0,Q=0|br(n,e),Y=0|br(t,r),W=0|ar[(O?A+24|0:A+32|0)>>2],I=0|ar[(O?A+28|0:A+36|0)>>2],e=Y>>(C=0|ar[A+10348>>2]),-1<(0|(i=Q>>C))&(0|i)<(0|S)||sr(48482,48519,118,48539),(0|e)<=-1&&sr(48543,48519,119,48539),(0|(G=0|ar[A+10356>>2]))<=(0|e)&&sr(48543,48519,119,48539),nA=J+(24*((0|br(e,S))+i|0)|0)+2|0,p=A+52|0,y=0|ar[A+48>>2],nA=0|ar[800+(0|ar[y+(lr[nA>>1]<<2)>>2])>>2],B=0|ar[A+5820>>2],E=y,cA=O?aA=0:(aA=(0|ar[A+5780>>2])-1|0,(0|ar[A+5784>>2])-1|0),Z=(fA=0|ar[A+5804>>2])-aA|0,fA=fA-cA|0,_=(0|W)<(Q+n|0)?W-Q|0:n,N=(0|I)<(Y+t|0)?I-Y|0:t,X=0!=(0|tr[J+(24*iA|0)+22>>0]),2==(0|j)){switch((0|cr[J+(24*iA|0)+5>>0])>>>z&3){case 0:H=x=0,tA=-1,oA=1;break;case 1:H=-(x=1),oA=tA=0;break;case 2:tA=H=-(x=1),oA=1;break;case 3:H=-(x=1),oA=-(tA=1)}if(ar[D>>2]=tA,ar[4+D>>2]=oA,ar[V>>2]=H,ar[V+4>>2]=x,g=0|br(H,a),m=0-x&a,tr[F>>0]=0|tr[J+(24*iA|0)+9+(f<<2)>>0],tr[1+F>>0]=0|tr[J+(24*iA|0)+9+(f<<2)+1>>0],tr[2+F>>0]=0,tr[3+F>>0]=0|tr[J+(24*iA|0)+9+(f<<2)+2>>0],tr[4+F>>0]=0|tr[J+(24*iA|0)+9+(f<<2)+3>>0],(0|N)<=0)ur=U;else{f=0<(0|_),u=A+5480|0,b=A+10368|0,s=A+10372|0,d=A+10376|0,k=A+10360|0,h=_+-1|0,w=N+-1|0,v=A+5977|0,P=A+10308|0,L=(0|br(Y>>fA,B))+(Q>>Z)|0,H=0;A:for(;;){if(K=o+((0|br(A=H+Y|0,a))+Q<<1)|0,q=c+((0|br(A,l))+Q<<1)|0,f){AA=0==(0|H),eA=(0|H)==(0|w),iA=(0|(rA=($=A<<cA)>>C))<0|(0|G)<=(0|rA),x=0;do{if(X&&0!=(0|tr[u>>0])){if(i=x+Q<<aA>>(e=0|ar[b>>2]),e=$>>e,(0|i)<=-1){lA=23;break A}if((0|(r=0|ar[s>>2]))<=(0|i)){lA=23;break A}if((0|e)<=-1){lA=26;break A}if((0|e)>=(0|ar[d>>2])){lA=26;break A}j=(0|ar[k>>2])+(3*((0|br(r,e))+i|0)|0)|0,1024&(cr[j>>0]|cr[j+1>>0]<<8)||(lA=28)}else lA=28;e:do{if(28==(0|lA)){if(e=(i=(j=x+Q|(lA=0))<<aA)>>(r=0|ar[b>>2]),r=$>>r,(0|e)<=-1){lA=30;break A}if((0|(S=0|ar[s>>2]))<=(0|e)){lA=30;break A}if((0|r)<=-1){lA=33;break A}if((0|r)>=(0|ar[d>>2])){lA=33;break A}if(z=(0|ar[k>>2])+(3*((0|br(S,r))+e|0)|0)|0,!(2048&(cr[z>>0]|cr[z+1>>0]<<8))){if(eA|(0|x)==(0|h)|AA|0==(0|x)){O=-1<(0|(S=i>>C)),r=0;do{if(n=(0|ar[D+(r<<2)>>2])+j|0,!((0|(t=(0|ar[V+(r<<2)>>2])+A|0))<(0|I)&(0|n)<(0|W)&-1<(t|n|0)))break e;if(e=t<<cA>>C,(0|(i=n<<aA>>C))<=-1){lA=40;break A}if((0|(z=0|ar[R>>2]))<=(0|i)){lA=40;break A}if(!(-1<(0|e)&(0|e)<(0|G))){lA=42;break A}if(e=J+(24*((0|br(z,e))+i|0)|0)+2|0,(e=0|lr[e>>1])>>>0>=(0|ar[p>>2])-E>>2>>>0){lA=59;break A}if(!(i=0|ar[y+(e<<2)>>2])){lA=59;break A}if((0|(i=0|ar[i+800>>2]))<(0|nA)){if(!(O&(0|S)<(0|z))){lA=47;break A}if(iA){lA=49;break A}if(z=J+(24*((0|br(z,rA))+S|0)|0)+2|0,!(0|tr[764+(0|ar[y+(lr[z>>1]<<2)>>2])>>0]))break e}if((0|nA)<(0|i)&&0==(0|tr[764+(0|ar[y+(e<<2)>>2])>>0]))break e;if(0==(0|tr[v>>0])&&(t=(0|br(t>>fA,B))+(n>>Z)|0,z=0|ar[P>>2],(0|ar[z+(t<<2)>>2])!=(0|ar[z+(L<<2)>>2])))break e;r=r+1|0}while((0|r)<2)}t=(j=0|lr[K+(x<<1)>>1])-(0|lr[K+(x+g+tA<<1)>>1])|0,z=j-(0|lr[K+(x+m+oA<<1)>>1])|0,j=(0|tr[((0|t)<0?1:0|t?3:2)+((0|z)<0?-1:0!=(0|z)&1)+F>>0])+j|0,or[q+(x<<1)>>1]=(0|j)<0?0:65535&((0|j)<(0|M)?j:T)}}}while(0);x=x+1|0}while((0|x)<(0|_))}if((0|N)<=(0|(H=H+1|0))){lA=59;break}}if(23==(0|lA))sr(48482,48519,118,48539);else if(26==(0|lA))sr(48543,48519,119,48539);else if(30==(0|lA))sr(48482,48519,118,48539);else if(33==(0|lA))sr(48543,48519,119,48539);else if(40==(0|lA))sr(48482,48519,118,48539);else if(42==(0|lA))sr(48543,48519,119,48539);else if(47==(0|lA))sr(48482,48519,118,48539);else if(49==(0|lA))sr(48543,48519,119,48539);else if(59==(0|lA))return void(ur=U)}}else{for(i=0|cr[J+(24*iA|0)+6+f>>0],r=(e=D)+128|0;(0|(e=e+4|(ar[e>>2]=0)))<(0|r););ar[D+((31&i)<<2)>>2]=1,ar[D+((i+1&31)<<2)>>2]=2,ar[D+((i+2&31)<<2)>>2]=3,ar[D+((i+3&31)<<2)>>2]=4,rA=P+-5|0,i=0<(0|N);A:do{if(X){if(i){K=0<(0|_),q=A+5480|0,$=A+10368|0,AA=A+10372|0,eA=A+10376|0,P=A+10360|0,L=7<(0|rA),x=0;e:for(;;){r:do{if(K){if(H=(z=x+Y|0)<<cA,t=0|br(z,a),z=0|br(z,l),A=0==(0|tr[q>>0]),L)for(j=-1<(0|(z=H>>(t=0|ar[$>>2]))),n=-1<(0|(O=H>>t)),S=0;;){if(i=S+Q<<aA,A)lA=79;else{if((0|(e=i>>t))<=-1){lA=88;break e}if((0|(r=0|ar[AA>>2]))<=(0|e)){lA=88;break e}if(!n){lA=91;break e}if((0|O)>=(0|ar[eA>>2])){lA=91;break e}oA=(0|ar[P>>2])+(3*((0|br(r,O))+e|0)|0)|0,1024&(cr[oA>>0]|cr[oA+1>>0]<<8)||(lA=79)}if(79==(0|lA)){if(((lA=0)|(i>>=t))<=-1){lA=95;break e}if((0|i)>=(0|ar[AA>>2])){lA=95;break e}if(!j){lA=98;break e}if((0|z)>=(0|ar[eA>>2])){lA=98;break e}}if((0|_)<=(0|(S=S+1|0)))break r}else n=0;do{if(i=(j=n+Q|0)<<aA,O=0|ar[$>>2],A)lA=93;else{if(r=H>>O,(0|(e=i>>O))<=-1){lA=88;break e}if((0|(S=0|ar[AA>>2]))<=(0|e)){lA=88;break e}if((0|r)<=-1){lA=91;break e}if((0|r)>=(0|ar[eA>>2])){lA=91;break e}oA=(0|ar[P>>2])+(3*((0|br(S,r))+e|0)|0)|0,1024&(cr[oA>>0]|cr[oA+1>>0]<<8)||(lA=93)}do{if(93==(0|lA)){if(r=i>>O,i=H>>O,((lA=0)|r)<=-1){lA=95;break e}if((0|(e=0|ar[AA>>2]))<=(0|r)){lA=95;break e}if((0|i)<=-1){lA=98;break e}if((0|i)>=(0|ar[eA>>2])){lA=98;break e}if(oA=(0|ar[P>>2])+(3*((0|br(e,i))+r|0)|0)|0,2048&(cr[oA>>0]|cr[oA+1>>0]<<8))break;if(i=0|lr[o+(j+t<<1)>>1],(0|(e=0|ar[D+(i>>>rA<<2)>>2]))<=0)break;oA=(0|tr[e+-1+(J+(24*iA|0)+9+(f<<2))>>0])+i|0,or[c+(j+z<<1)>>1]=(0|oA)<0?0:65535&((0|oA)<(0|M)?oA:T)}}while(0);n=n+1|0}while((0|n)<(0|_))}}while(0);if((0|N)<=(0|(x=x+1|0)))break A}88==(0|lA)?sr(48482,48519,118,48539):91==(0|lA)?sr(48543,48519,119,48539):95==(0|lA)?sr(48482,48519,118,48539):98==(0|lA)&&sr(48543,48519,119,48539)}}else if(i&&(L=7<(0|rA),0<(0|_))){e=0;do{if(r=0|br(S=e+Y|0,a),S=0|br(S,l),!L)for(i=0;n=0|lr[o+((O=i+Q|0)+r<<1)>>1],0<(0|(t=0|ar[D+(n>>>rA<<2)>>2]))&&(lA=(0|tr[t+-1+(J+(24*iA|0)+9+(f<<2))>>0])+n|0,or[c+(O+S<<1)>>1]=(0|lA)<0?0:65535&((0|lA)<(0|M)?lA:T)),(0|(i=i+1|0))<(0|_););e=e+1|0}while((0|e)<(0|N))}}while(0);ur=U}else ur=U}function Na(A,e,r,i,f,n,t,o,a,c,l){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0;var u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0,fA=0,nA=0,tA=0,oA=0,aA=0,cA=0,lA=0,uA=0,bA=0;if(ur=(U=ur)+144|0,J=U+8|0,F=(V=U)+136|0,S=0|ar[(R=(A|=0)+10352|0)>>2],iA=(0|br(S,r))+e|0,fA=0|ar[(N=A+10340|0)>>2],z=f<<1,j=(0|cr[fA+(24*iA|0)+4>>0])>>>z&3)if(T=(M=1<<(P=0|ar[((O=0==(0|f))?A+5760|0:A+5768|0)>>2]))-1|0,D=0|br(n,e),Q=0|br(t,r),W=0|ar[(O?A+24|0:A+32|0)>>2],I=0|ar[(O?A+28|0:A+36|0)>>2],i=D>>(e=0|ar[(C=A+10348|0)>>2]),e=Q>>e,-1<(0|i)&(0|i)<(0|S)||sr(48482,48519,118,48539),(0|e)<=-1&&sr(48543,48519,119,48539),(0|e)>=(0|ar[(G=A+10356|0)>>2])&&sr(48543,48519,119,48539),oA=fA+(24*((0|br(e,S))+i|0)|0)+2|0,B=A+52|0,oA=0|ar[800+(0|ar[(0|ar[(y=A+48|0)>>2])+(lr[oA>>1]<<2)>>2])>>2],E=0|ar[A+5820>>2],uA=O?lA=0:(lA=(0|ar[A+5780>>2])-1|0,(0|ar[A+5784>>2])-1|0),p=(tA=0|ar[A+5804>>2])-lA|0,tA=tA-uA|0,Y=(0|W)<(D+n|0)?W-D|0:n,_=(0|I)<(Q+t|0)?I-Q|0:t,X=0!=(0|tr[fA+(24*iA|0)+22>>0]),2==(0|j)){switch((0|cr[fA+(24*iA|0)+5>>0])>>>z&3){case 0:H=x=0,aA=-1,cA=1;break;case 1:H=-(x=1),cA=aA=0;break;case 2:aA=H=-(x=1),cA=1;break;case 3:H=-(x=1),cA=-(aA=1)}if(ar[J>>2]=aA,ar[4+J>>2]=cA,ar[V>>2]=H,ar[V+4>>2]=x,Z=0|br(H,a),g=0-x&a,tr[F>>0]=0|tr[fA+(24*iA|0)+9+(f<<2)>>0],tr[1+F>>0]=0|tr[fA+(24*iA|0)+9+(f<<2)+1>>0],tr[2+F>>0]=0,tr[3+F>>0]=0|tr[fA+(24*iA|0)+9+(f<<2)+2>>0],tr[4+F>>0]=0|tr[fA+(24*iA|0)+9+(f<<2)+3>>0],(0|_)<=0)ur=U;else{u=0<(0|Y),b=A+5480|0,s=A+10368|0,d=A+10372|0,k=A+10376|0,h=A+10360|0,w=Y+-1|0,v=_+-1|0,m=A+5977|0,$=A+10308|0,AA=(0|br(Q>>tA,E))+(D>>p)|0,K=0;A:for(;;){if(rA=o+((0|br(eA=K+Q|0,a))+D)|0,iA=c+((0|br(eA,l))+D)|0,u){fA=eA<<uA,f=0==(0|K),nA=(0|K)==(0|v),q=0;do{if(X&&0!=(0|tr[b>>0])){if(i=q+D<<lA>>(e=0|ar[s>>2]),e=fA>>e,(0|i)<=-1){bA=23;break A}if((0|(r=0|ar[d>>2]))<=(0|i)){bA=23;break A}if((0|e)<=-1){bA=26;break A}if((0|e)>=(0|ar[k>>2])){bA=26;break A}A=(0|ar[h>>2])+(3*((0|br(r,e))+i|0)|0)|0,1024&(cr[A>>0]|cr[A+1>>0]<<8)||(bA=28)}else bA=28;e:do{if(28==(0|bA)){if(i=(A=(L=q+D|(bA=0))<<lA)>>(e=0|ar[s>>2]),e=fA>>e,(0|i)<=-1){bA=30;break A}if((0|(r=0|ar[d>>2]))<=(0|i)){bA=30;break A}if((0|e)<=-1){bA=33;break A}if((0|e)>=(0|ar[k>>2])){bA=33;break A}if(P=(0|ar[h>>2])+(3*((0|br(r,e))+i|0)|0)|0,!(2048&(cr[P>>0]|cr[P+1>>0]<<8))){if(nA|(0|q)==(0|w)|f|0==(0|q)){t=0;do{if(z=(0|ar[J+(t<<2)>>2])+L|0,!((0|(j=(0|ar[V+(t<<2)>>2])+eA|0))<(0|I)&(0|z)<(0|W)&-1<(j|z|0)))break e;if(e=j<<uA>>(n=0|ar[C>>2]),(0|(i=z<<lA>>n))<=-1){bA=39;break A}if((0|(H=0|ar[R>>2]))<=(0|i)){bA=39;break A}if((0|e)<=-1){bA=42;break A}if((0|(x=0|ar[G>>2]))<=(0|e)){bA=42;break A}if(i=(P=0|ar[N>>2])+(24*((0|br(H,e))+i|0)|0)+2|0,i=0|lr[i>>1],O=S=0|ar[y>>2],i>>>0>=(0|ar[B>>2])-S>>2>>>0){bA=59;break A}if(!(e=0|ar[O+(i<<2)>>2])){bA=59;break A}if((0|(r=0|ar[e+800>>2]))<(0|oA)){if(i=fA>>n,!(-1<(0|(S=A>>n))&(0|S)<(0|H))){bA=47;break A}if(!(-1<(0|i)&(0|i)<(0|x))){bA=49;break A}if(P=P+(24*((0|br(H,i))+S|0)|0)+2|0,!(0|tr[764+(0|ar[O+(lr[P>>1]<<2)>>2])>>0]))break e}if((0|oA)<(0|r)&&0==(0|tr[e+764>>0]))break e;if(0==(0|tr[m>>0])&&(x=(0|br(j>>tA,E))+(z>>p)|0,P=0|ar[$>>2],(0|ar[P+(x<<2)>>2])!=(0|ar[P+(AA<<2)>>2])))break e;t=t+1|0}while((0|t)<2)}P=(A=0|cr[rA+q>>0])-(0|cr[rA+(q+Z+aA)>>0])|0,L=A-(0|cr[rA+(q+g+cA)>>0])|0,A=(0|tr[((0|P)<0?1:0|P?3:2)+((0|L)<0?-1:0!=(0|L)&1)+F>>0])+A|0,tr[iA+q>>0]=(0|A)<0?0:255&((0|A)<(0|M)?A:T)}}}while(0);q=q+1|0}while((0|q)<(0|Y))}if((0|_)<=(0|(K=K+1|0))){bA=59;break}}if(23==(0|bA))sr(48482,48519,118,48539);else if(26==(0|bA))sr(48543,48519,119,48539);else if(30==(0|bA))sr(48482,48519,118,48539);else if(33==(0|bA))sr(48543,48519,119,48539);else if(39==(0|bA))sr(48482,48519,118,48539);else if(42==(0|bA))sr(48543,48519,119,48539);else if(47==(0|bA))sr(48482,48519,118,48539);else if(49==(0|bA))sr(48543,48519,119,48539);else if(59==(0|bA))return void(ur=U)}}else{for(i=0|cr[fA+(24*iA|0)+6+f>>0],r=(e=J)+128|0;(0|(e=e+4|(ar[e>>2]=0)))<(0|r););ar[J+((31&i)<<2)>>2]=1,ar[J+((i+1&31)<<2)>>2]=2,ar[J+((i+2&31)<<2)>>2]=3,ar[J+((i+3&31)<<2)>>2]=4,rA=P+-5|0,i=0<(0|_);A:do{if(X){if(i){K=0<(0|Y),q=A+5480|0,$=A+10368|0,AA=A+10372|0,eA=A+10376|0,L=A+10360|0,A=7<(0|rA),P=0;e:for(;;){r:do{if(K){if(x=(z=P+Q|0)<<uA,t=0|br(z,a),z=0|br(z,l),A)for(z=0==(0|tr[q>>0]),H=-1<(0|(j=x>>(t=0|ar[$>>2]))),n=-1<(0|(O=x>>t)),S=0;;){if(i=S+D<<lA,z)bA=79;else{if((0|(e=i>>t))<=-1){bA=88;break e}if((0|(r=0|ar[AA>>2]))<=(0|e)){bA=88;break e}if(!n){bA=91;break e}if((0|O)>=(0|ar[eA>>2])){bA=91;break e}cA=(0|ar[L>>2])+(3*((0|br(r,O))+e|0)|0)|0,1024&(cr[cA>>0]|cr[cA+1>>0]<<8)||(bA=79)}if(79==(0|bA)){if(((bA=0)|(i>>=t))<=-1){bA=95;break e}if((0|i)>=(0|ar[AA>>2])){bA=95;break e}if(!H){bA=98;break e}if((0|j)>=(0|ar[eA>>2])){bA=98;break e}}if((0|Y)<=(0|(S=S+1|0)))break r}else n=0;do{if(i=(j=n+D|0)<<lA,O=0|ar[$>>2],0|tr[q>>0]){if(r=x>>O,(0|(e=i>>O))<=-1){bA=88;break e}if((0|(S=0|ar[AA>>2]))<=(0|e)){bA=88;break e}if((0|r)<=-1){bA=91;break e}if((0|r)>=(0|ar[eA>>2])){bA=91;break e}cA=(0|ar[L>>2])+(3*((0|br(S,r))+e|0)|0)|0,1024&(cr[cA>>0]|cr[cA+1>>0]<<8)||(bA=93)}else bA=93;do{if(93==(0|bA)){if(r=i>>O,i=x>>O,((bA=0)|r)<=-1){bA=95;break e}if((0|(e=0|ar[AA>>2]))<=(0|r)){bA=95;break e}if((0|i)<=-1){bA=98;break e}if((0|i)>=(0|ar[eA>>2])){bA=98;break e}if(cA=(0|ar[L>>2])+(3*((0|br(e,i))+r|0)|0)|0,2048&(cr[cA>>0]|cr[cA+1>>0]<<8))break;if(i=0|cr[o+(j+t)>>0],(0|(e=0|ar[J+(i>>>rA<<2)>>2]))<=0)break;cA=(0|tr[e+-1+(fA+(24*iA|0)+9+(f<<2))>>0])+i|0,tr[c+(j+z)>>0]=(0|cA)<0?0:255&((0|cA)<(0|M)?cA:T)}}while(0);n=n+1|0}while((0|n)<(0|Y))}}while(0);if((0|_)<=(0|(P=P+1|0)))break A}88==(0|bA)?sr(48482,48519,118,48539):91==(0|bA)?sr(48543,48519,119,48539):95==(0|bA)?sr(48482,48519,118,48539):98==(0|bA)&&sr(48543,48519,119,48539)}}else if(i&&(L=7<(0|rA),0<(0|Y))){e=0;do{if(r=0|br(S=e+Q|0,a),S=0|br(S,l),!L)for(i=0;n=0|cr[o+((O=i+D|0)+r)>>0],0<(0|(t=0|ar[J+(n>>>rA<<2)>>2]))&&(bA=(0|tr[t+-1+(fA+(24*iA|0)+9+(f<<2))>>0])+n|0,tr[c+(O+S)>>0]=(0|bA)<0?0:255&((0|bA)<(0|M)?bA:T)),(0|(i=i+1|0))<(0|Y););e=e+1|0}while((0|e)<(0|_))}}while(0);ur=U}else ur=U}function _a(A,e){A|=0;var r=0;switch(0|(e|=0)){case 0:e=7796,r=4;break;case 1:e=7824,r=4;break;case 2:e=7768,r=4;break;default:e=0}return 4==(0|r)&&(e=0|ar[e+(A<<2)>>2]),0|e}function Ya(){var A=0,e=0,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;t=1;do{for(f=0|ar[7824+(t<<2)>>2],o=1<<t,e=A=0;;){for(n=255&A,r=0,i=e;tr[f+(i<<1)>>0]=r,tr[f+(i<<1)+1>>0]=n,(0|(r=r+1|0))!=(0|o);)i=i+1|0;if((0|(A=A+1|0))==(0|o))break;e=e+o|0}for(f=0|ar[7768+(t<<2)>>2],e=A=0;;){for(n=255&A,r=0,i=e;tr[f+(i<<1)>>0]=n,(0|(r=(tr[f+(i<<1)+1>>0]=r)+1|0))!=(0|o);)i=i+1|0;if((0|(A=A+1|0))==(0|o))break;e=e+o|0}f=0|ar[7796+(t<<2)>>2],n=o<<t,A=e=0;do{if(-1<(0|e))for(i=0,r=e;(0|r)<(0|o)&(0|i)<(0|o)&&(tr[f+(A<<1)>>0]=i,tr[f+(A<<1)+1>>0]=r,A=A+1|0),e=i+1|0,0<(0|r);)i=e,r=r+-1|0;else e=0}while((0|A)<(0|n));t=t+1|0}while(6!=(0|t));a=2;do{c=1<<a,l=(1<<(s=a+-2|0)<<s)-1|0,u=7768+(s<<2)|0,b=7796+(s<<2)|0,s=7824+(s<<2)|0,o=0;do{d=0|ar[7852+(24*o|0)+(a<<2)>>2],n=(h=2==(0|o))?66707:0,t=0;do{switch(k=t<<a,0|o){case 0:i=0|ar[b>>2],r=0;do{for(A=16,e=l;A=(f=0==(0|A))?15:A+-1|0,(((0|cr[i+((e=(f<<31>>31)+e|0)<<1)>>0])<<2)+(0|cr[63979+(A<<1)>>0])|0)!=(0|r)||(((0|cr[i+(e<<1)+1>>0])<<2)+(0|cr[63979+(A<<1)+1>>0])|0)!=(0|t););tr[d+((f=r+k|0)<<1)>>0]=e,tr[d+(f<<1)+1>>0]=A,r=r+1|0}while((0|r)<(0|c));break;case 1:i=0|ar[s>>2],r=0;do{for(A=16,e=l;A=(f=0==(0|A))?15:A+-1|0,(((0|cr[i+((e=(f<<31>>31)+e|0)<<1)>>0])<<2)+(0|cr[61251+(A<<1)>>0])|0)!=(0|r)||(((0|cr[i+(e<<1)+1>>0])<<2)+(0|cr[61251+(A<<1)+1>>0])|0)!=(0|t););tr[d+((f=r+k|0)<<1)>>0]=e,tr[d+(f<<1)+1>>0]=A,r=r+1|0}while((0|r)<(0|c));break;default:i=0;do{for(f=i+k|0,e=h?0|ar[u>>2]:0,A=16,r=l;A=(w=0==(0|A))?15:A+-1|0,(((0|cr[e+((r=(w<<31>>31)+r|0)<<1)>>0])<<2)+(0|cr[n+(A<<1)>>0])|0)!=(0|i)||(((0|cr[e+(r<<1)+1>>0])<<2)+(0|cr[n+(A<<1)+1>>0])|0)!=(0|t););tr[d+(f<<1)>>0]=r,tr[d+(f<<1)+1>>0]=A,i=i+1|0}while((0|i)<(0|c))}t=t+1|0}while((0|t)<(0|c));o=o+1|0}while(3!=(0|o));a=a+1|0}while(6!=(0|a))}function Qa(A,e){e|=0;var r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0;if(ur=(V=ur)+208|0,H=V+24|0,G=V+8|0,t=(C=V)+40|0,w=V+192|0,132!=(0|ar[(A|=0)>>2]))return ur=V,(H=0)|H;if(!(0|tr[512+(0|ar[e+10332>>2])>>0]))return ur=V,(H=0)|H;if(!(0|tr[e+100>>0]))return ur=V,(H=0)|H;r=0==(0|ar[e+1240>>2])?1:3,i=e+32|0,f=e+24|0,n=e+36|0,o=e+28|0,a=e+40|0,c=e+44|0,l=A+8|0,u=e+5760|0,b=e+5768|0,s=1+w|0,d=2+w|0,k=3+w|0,h=4+w|0,v=5+w|0,m=6+w|0,g=7+w|0,Z=8+w|0,p=9+w|0,y=10+w|0,B=11+w|0,E=12+w|0,X=13+w|0,W=14+w|0,I=15+w|0,j=0;A:for(;;){switch(U=0|ar[((R=0==(0|j))?f:i)>>2],O=0|ar[(R?o:n)>>2],S=0|ar[e+4+(j<<2)>>2],T=0|ar[(R?a:c)>>2],0|ar[l>>2]){case 0:F=0|ar[(R?u:b)>>2],oc(t);e:do{if(0<(0|O)){if(D=U<<1,J=(0|U)<0?-1:D,(0|F)<=8)for(F=0;;)if(ac(t,S+(0|br(F,T))|0,U),(0|O)<=(0|(F=F+1|0))){F=0;break e}if(0<(0|U))F=Q=0;else for(F=R=0;;)if(ac(t,N=F||(F=0|wu(J)),D),(0|O)<=(0|(R=R+1|0)))break e;do{for(N=F||(F=0|wu(J)),_=0|br(Q,T),Y=F,R=0;x=S+(R+_<<1)|0,tr[N+(M=R<<1)>>0]=or[x>>1],tr[Y+(1|M)>>0]=(0|lr[x>>1])>>>8,(0|(R=R+1|0))!=(0|U);)N=Y;ac(t,Y,D),Q=Q+1|0}while((0|Q)<(0|O))}else F=0}while(0);if(lc(w,t),0|F&&mu(F),(0|tr[w>>0])!=(0|tr[A+12+(j<<4)>>0])){z=22;break A}if((0|tr[s>>0])!=(0|tr[A+12+(j<<4)+1>>0])){z=22;break A}if((0|tr[d>>0])!=(0|tr[A+12+(j<<4)+2>>0])){z=22;break A}if((0|tr[k>>0])!=(0|tr[A+12+(j<<4)+3>>0])){z=22;break A}if((0|tr[h>>0])!=(0|tr[A+12+(j<<4)+4>>0])){z=22;break A}if((0|tr[v>>0])!=(0|tr[A+12+(j<<4)+5>>0])){z=22;break A}if((0|tr[m>>0])!=(0|tr[A+12+(j<<4)+6>>0])){z=22;break A}if((0|tr[g>>0])!=(0|tr[A+12+(j<<4)+7>>0])){z=22;break A}if((0|tr[Z>>0])!=(0|tr[A+12+(j<<4)+8>>0])){z=22;break A}if((0|tr[p>>0])!=(0|tr[A+12+(j<<4)+9>>0])){z=22;break A}if((0|tr[y>>0])!=(0|tr[A+12+(j<<4)+10>>0])){z=22;break A}if((0|tr[B>>0])!=(0|tr[A+12+(j<<4)+11>>0])){z=22;break A}if((0|tr[E>>0])!=(0|tr[A+12+(j<<4)+12>>0])){z=22;break A}if((0|tr[X>>0])!=(0|tr[A+12+(j<<4)+13>>0])){z=22;break A}if((0|tr[W>>0])!=(0|tr[A+12+(j<<4)+14>>0])){z=22;break A}if((0|tr[I>>0])==(0|tr[A+12+(j<<4)+15>>0]))break;z=22;break A;case 1:e:do{if(0<(0|O)){if(J=U<<1,M=(0|U)<0?-1:J,F=0<(0|U),(0|ar[(R?u:b)>>2])<=8){if(!F){F=7439,z=39;break}for(R=0,F=7439;;){for(_=S+(0|br(R,T))|0,N=0;z=65535&F,x=cr[_+N>>0]^z>>>8,F=((x^=x>>>4)|z<<8)^x<<5^x<<12,(0|(N=N+1|0))!=(0|U););if((0|(R=R+1|0))==(0|O)){z=39;break e}}}if(F){F=7439,R=D=0;do{for(_=R||(R=0|wu(M)),Y=0|br(D,T),Q=R,N=0;;){if(P=S+(N+Y<<1)|0,tr[_+(x=N<<1)>>0]=or[P>>1],tr[Q+(1|x)>>0]=(0|lr[P>>1])>>>8,(0|(N=N+1|0))==(0|U)){N=0;break}_=Q}for(;x=65535&F,P=cr[Q+N>>0]^x>>>8,F=((P^=P>>>4)|x<<8)^P<<5^P<<12,(0|(N=N+1|0))<(0|J););D=D+1|0}while((0|D)!=(0|O))}else{for(R=F=0;R=R||0|wu(M),(0|(F=F+1|0))!=(0|O););F=7439}F&=65535,R&&mu(R)}else F=7439,z=39}while(0);if(39==(0|z)&&(z=0,F&=65535),(0|F)==(0|(R=0|lr[A+60+(j<<1)>>1])))break;z=43;break A;case 2:if(F=0<(0|U)&0<(0|O),(0|ar[(R?u:b)>>2])<9)if(F){F=R=0;do{for(_=R>>>8^R,Y=0|br(R,T),N=0;F=(255&(_^N^N>>>8)^cr[S+(N+Y)>>0])+F|0,(0|(N=N+1|0))!=(0|U););R=R+1|0}while((0|R)!=(0|O))}else F=0;else if(F){F=N=0;do{for(_=N>>>8^N,Y=0|br(N,T),R=0;F=(P=255&(_^R^R>>>8))+F+(P^cr[S+(R+Y)>>0])|0,(0|(R=R+1|0))!=(0|U););N=N+1|0}while((0|N)!=(0|O))}else F=0;if((0|F)==(0|(R=0|ar[A+68+(j<<2)>>2])))break;z=54;break A}if((0|r)<=(0|(j=j+1|0))){F=0,z=71;break}}return 22==(0|z)?(P=0|ar[2669],ar[C>>2]=ar[e+92>>2],Ii(P,39084,C),ur=V,0|(P=5)):43==(0|z)?(P=0|ar[2669],x=0|ar[e+92>>2],ar[G>>2]=R,ar[4+G>>2]=F,ar[8+G>>2]=x,Ii(P,39127,G),ur=V,0|(P=5)):54==(0|z)?(P=0|ar[2669],x=0|ar[e+92>>2],ar[H>>2]=R,ar[H+4>>2]=F,ar[H+8>>2]=x,Ii(P,39127,H),ur=V,0|(P=5)):71==(0|z)?(ur=V,0|F):0}function Da(A){var e,r,i,f=0,n=0,t=0,o=0,a=0;if(e=(o=0|ar[(A|=0)+18596>>2])+5932|0,n=0|ar[(r=A+18600|0)>>2],!(0|tr[n+12>>0]))return 3<=(f=0|ar[n+796>>2])>>>0&&sr(39211,39242,1508,39251),ht(A+18580|0,f,0|ar[n+792>>2]),tr[(A=A+18588|0)>>0]=0,tr[A+1>>0]=0,tr[A+2>>0]=0,(tr[A+3>>0]=0)|(A=1);if(t=0|ar[n+16>>2],f=0|lr[(0|ar[o+10340>>2])+(24*(0|ar[(0|ar[o+10284>>2])+((0|ar[(0|ar[o+10272>>2])+(t<<2)>>2])-1<<2)>>2])|0)+2>>1],n=0|ar[o+48>>2],f>>>0>=(0|ar[o+52>>2])-n>>2>>>0)return(A=0)|A;if(i=0|ar[n+(f<<2)>>2],0|Fa(e,(0|t)%(0|(o=0|ar[o+5820>>2]))|0,(0|t)/(0|o)|0))return f=0|ar[r>>2],3<=(n=0|ar[f+796>>2])>>>0&&sr(39211,39242,1508,39251),ht(A+18580|0,n,0|ar[f+792>>2]),tr[(A=A+18588|0)>>0]=0,tr[A+1>>0]=0,tr[A+2>>0]=0,(tr[A+3>>0]=0)|(A=1);if(t=0|ar[A+18604>>2],n=0|ar[A+18608>>2],o=0|ar[t+10632>>2],!(1<(t=(0|ar[t+10636>>2])-o>>2)>>>0))return(A=0)|A;for(f=1;(0|ar[o+(f<<2)>>2])!=(0|n);)if(t>>>0<=(f=f+1|0)>>>0){f=0,a=16;break}return 16==(0|a)?0|f:(f=0|ar[o+(f+-1<<2)>>2])?(Mn(f+44|0,0|ar[f+124>>2]),0|tr[1340+i>>0]?(gt(A+18580|0,a=1332+i|0),vt(a),0|(A=1)):(A=0)|A):(A=0)|A}function Ja(A,e,r){e|=0,r|=0;var i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0;m=0|ar[(C=(A|=0)+18596|0)>>2],h=0|ar[m+5820>>2],v=0|ar[(w=A+12|0)>>2],k=m+5965|0;do{if(!r&&0<(0|v)&0!=(0|tr[k>>0])&&0==(0|ar[A+8>>2])){if(r=v+-1|0,1<(0|h)){if(I=0|ar[(v=A+18604|0)>>2],r>>>0<(0|ar[I+10680>>2])-(0|ar[I+10676>>2])>>3>>>0){ba(m,0|ar[A+18612>>2],1,r,1),gt(A+18580|0,(0|ar[10676+(0|ar[v>>2])>>2])+((0|ar[w>>2])-1<<3)|0),vt((0|ar[10676+(0|ar[v>>2])>>2])+((0|ar[w>>2])-1<<3)|0);break}return 0|(C=2)}if(ba(m,0|ar[A+18612>>2],0,r,1),r=0|ar[A+18600>>2],(v=0|ar[r+796>>2])>>>0<3){ht(A+18580|0,v,0|ar[r+792>>2]),tr[(I=A+18588|0)>>0]=0,tr[I+1>>0]=0,tr[I+2>>0]=0,tr[I+3>>0]=0;break}sr(39211,39242,1508,39251)}}while(0);for(f=A+8|0,n=h-1|0,t=A+18612|0,o=A+18580|0,a=A+18584|0,c=m+5828|0,l=A+18604|0,I=A+18556|0,u=m+5935|0,b=A+18600|0,s=A+4|0,d=m+5966|0,i=m+10296|0,X=0|ar[w>>2],p=0|ar[f>>2],W=0|ar[C>>2];;){if((v=(0|br(X,h))+p|0)>>>0>=(0|ar[W+10276>>2])-(0|ar[W+10272>>2])>>2>>>0){r=2,v=35;break}if((0|p)>=(0|ar[W+5820>>2])){r=2,v=35;break}if((0|X)>=(0|ar[W+5828>>2])){r=2,v=35;break}if((0|p)<(0|n)&0<(0|X)&e&&ba(W,0|ar[t>>2],p+1|0,X+-1|0,1),!(0|ar[a>>2])){r=2,v=35;break}if(Ma(A),1==(0|p)&0!=(0|tr[k>>0])&&(0|X)<((0|ar[c>>2])-1|0)){if(W=0|ar[l>>2],r=0|ar[W+10676>>2],(0|ar[W+10680>>2])-r>>3>>>0<=X>>>0){r=2,v=35;break}gt(r+(X<<3)|0,o),mt((0|ar[10676+(0|ar[l>>2])>>2])+(X<<3)|0)}if((B=0!=(0|(y=0|at(I))))&&0|tr[u>>0]&&(gt(1332+(0|ar[b>>2])|0,o),mt(1332+(0|ar[b>>2])|0),tr[1340+(0|ar[b>>2])>>0]=1),Tn((0|ar[10524+(0|ar[C>>2])>>2])+(80*v|0)|0,1),E=0|ar[w>>2],Z=(g=0|ar[s>>2])+1|0,ar[s>>2]=Z,W=0|ar[C>>2],r=0|ar[W+5836>>2],v=0|ar[W+5820>>2],(0|Z)<(0|r)?r=(m=0)|ar[(0|ar[W+10284>>2])+(Z<<2)>>2]:m=1,X=(0|r)/(0|v)|0,p=(0|r)%(0|v)|0,ar[A>>2]=r,ar[f>>2]=p,ar[w>>2]=X,0==(0|y)&m){v=27;break}if(B){r=0,v=35;break}if((r=0|tr[d>>0]?(r=0|ar[i>>2],(0|ar[r+(Z<<2)>>2])!=(0|ar[r+(g<<2)>>2])):0)|(0|E)!=(0|X)&0!=(0|tr[k>>0])){v=32;break}}return 27==(0|v)?(er(4+(0|ar[A+18592>>2])|0,1004,0),tr[10516+(0|ar[C>>2])>>0]=3,0|(C=2)):32==(0|v)?0|at(I)?(tt(I),0|(C=1)):(er(4+(0|ar[A+18592>>2])|0,1017,0),tr[10516+(0|ar[C>>2])>>0]=3,0|(C=2)):35==(0|v)?0|r:0}function Ma(A){var e,r,i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0;n=0|ar[(A|=0)+18600>>2],b=0|ar[A+18596>>2],a=(0|(c=0|ar[A>>2]))%(0|(s=0|ar[b+5820>>2]))|0,s=(0|c)/(0|s)|0,r=a<<(e=0|ar[(c=b+5804|0)>>2]),i=s<<e,f=0|ar[b+10352>>2],l=(0|br(f,s))+a|0,t=0|ar[b+10340>>2],or[t+(24*l|0)>>1]=ar[800+n>>2],l=65535&ar[n>>2],o=r>>(u=0|ar[b+10348>>2]),u=i>>u,-1<(0|o)&(0|o)<(0|f)||sr(48482,48519,128,48539),(0|u)<=-1&&sr(48543,48519,129,48539),(0|u)>=(0|ar[b+10356>>2])&&sr(48543,48519,129,48539),b=t+(24*((0|br(f,u))+o|0)|0)+2|0,or[b>>1]=l,0!=(0|tr[325+n>>0])||0!=(0|tr[326+n>>0])?(function(A,e,r,i){e|=0,r|=0,i|=0;var f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0;ur=(n=ur)+32|0,i=n,a=0|ar[18600+(A|=0)>>2],f=0|ar[A+18596>>2],o=(t=i)+17|0;for(;tr[t>>0]=0,t=t+1|0,(0|t)<(0|o););t=0<(0|e)&&(C=0|br(0|ar[5820+f>>2],r),I=0|ar[10308+f>>2],(0|ar[A>>2])>(0|ar[a+800>>2])&&(0|ar[I+(C+e<<2)>>2])==(0|ar[I+(e+-1+C<<2)>>2]))?255&(0|ot(A+18556|0,0|ar[A+18580>>2])):0;o=0<(0|r)&(I=t<<24>>24==0)&&(E=0|ar[5820+f>>2],W=(0|br(E,r))+e|0,X=0|ar[10308+f>>2],C=X+((0|br(E,r+-1|0))+e<<2)|0,((0|ar[A>>2])-E|0)>=(0|ar[a+800>>2])&&(0|ar[X+(W<<2)>>2])==(0|ar[C>>2]))?255&(0|ot(A+18556|0,0|ar[A+18580>>2])):0;if(C=o<<24>>24==0,!((o|t)<<24>>24)){E=0==(0|ar[5776+f>>2])?1:3,X=a+325|0,W=A+18556|0,m=A+18580|0,g=5760+f|0,Z=5768+f|0,p=10087+f|0,y=10088+f|0,B=i+1|0,v=a+326|0,t=o=w=0;do{if((b=0==(0|w))&0!=(0|tr[X>>0])||0<(0|w)&0!=(0|tr[v>>0])){do{if(b)o=0|ot(W,1+(0|ar[m>>2])|0)?(o=0==(0|ct(W)))?1:2:0,a=o,o&=255;else{if(1!=(0|w)){a=(255&o)>>>(w<<1)&3;break}A=0|ot(W,1+(0|ar[m>>2])|0)?(A=0==(0|ct(W)))?1:2:0,o=255&((a=A)<<4|A<<2|255&o)}}while(0);if(A=255&a){a=0|ar[(u=b?g:Z)>>2],a=255&(0|lt(W,(1<<((0|a)<10?a:10)+-5)-1|0)),tr[(s=i+5+(w<<2)|0)>>0]=a,c=0|ar[u>>2],c=255&(0|lt(W,(1<<((0|c)<10?c:10)+-5)-1|0)),tr[(d=i+5+(w<<2)+1|0)>>0]=c,l=0|ar[u>>2],l=255&(0|lt(W,(1<<((0|l)<10?l:10)+-5)-1|0)),tr[(k=i+5+(w<<2)+2|0)>>0]=l,u=0|ar[u>>2],u=255&(0|lt(W,(1<<((0|u)<10?u:10)+-5)-1|0)),tr[(h=i+5+(w<<2)+3|0)>>0]=u;do{if(1==(0|A))A=a<<24>>24?(A=0!=(0|ct(W)))?-1:1:0,c=c<<24>>24?(c=0!=(0|ct(W)))?-1:1:0,l=l<<24>>24?(l=0!=(0|ct(W)))?-1:1:0,a=u<<24>>24?(a=0!=(0|ct(W)))?-1:1:0,u=255&(0|ut(W,5)),tr[i+2+w>>0]=u,b?u=p:G=30;else{if(b){u=p,a=l=-(c=A=1),t=255&(0|ut(W,2));break}G=(1==(0|w)?(G=255&(0|ut(W,2)),l=a=-1,A=c=1,t=255&(255&t|G<<2|G<<4)):(l=a=-1,A=c=1),30)}}while(0);30==(0|G)&&(G=0,u=y),b=0|cr[u>>0],u=255&(0|br(tr[s>>0]<<b,A)),tr[s>>0]=u,s=255&(0|br(tr[d>>0]<<b,c)),tr[d>>0]=s,d=255&(0|br(tr[k>>0]<<b,l)),tr[k>>0]=d,k=255&(0|br(tr[h>>0]<<b,a)),tr[h>>0]=k}}w=w+1|0}while((0|w)<(0|E));for(tr[i>>0]=o,tr[B>>0]=t,t=(0|br(0|ar[10352+f>>2],r))+e|0,t=(0|ar[10340+f>>2])+(24*t|0)+4|0,o=t+17|0;tr[t>>0]=0|tr[i>>0],i=i+1|0,(0|(t=t+1|0))<(0|o););}if(!I)for(i=0|br(0|ar[10352+f>>2],r),o=0|ar[10340+f>>2],t=o+(24*(i+e|0)|0)+4|0,i=o+(24*(e+-1+i|0)|0)+4|0,o=t+17|0;tr[t>>0]=0|tr[i>>0],i=i+1|0,(0|(t=t+1|0))<(0|o););if(C)return ur=n;t=0|ar[10352+f>>2],i=(0|br(t,r+-1|0))+e|0,o=0|ar[10340+f>>2],t=o+(24*((0|br(t,r))+e|0)|0)+4|0,i=o+(24*i|0)+4|0,o=t+17|0;for(;tr[t>>0]=0|tr[i>>0],t=t+1|0,i=i+1|0,(0|t)<(0|o););ur=n}(A,a,s,0),Ta(A,r,i,s=0|ar[c>>2],0)):Ta(A,r,i,s=e,0)}function Ta(A,e,r,i,f){var n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;for(t=(A|=0)+18596|0,o=A+18600|0,a=A+18516|0,c=A+18508|0,m=A+18512|0,s=A+18556|0,n=A+18580|0,B=e|=0,y=r|=0,Z=i|=0,p=f|=0;;){if(g=0|ar[t>>2],((e=1<<Z)+B|0)<=(0|(r=0|ar[(b=g+1248|0)>>2]))&&(e+y|0)<=(0|(d=0|ar[g+1252>>2]))&&(0|ar[g+5800>>2])<(0|Z)){if(e=-1<((i=B+-1|0)|y|0)&(0|B)<=(0|r)&(0|y)<(0|d)&&(h=0|ar[g+5804>>2],k=(u=0|br(y>>h,0|ar[g+5820>>2]))+(B>>h)|0,h=u+(i>>h)|0,u=0|ar[g+10340>>2],(0|or[u+(24*k|0)>>1])==(0|or[u+(24*h|0)>>1]))?(e=0|ar[g+10308>>2],(0|ar[e+(k<<2)>>2])==(0|ar[e+(h<<2)>>2])&1):0,l=(0|r)<=(0|B)|((u=y+-1|0)|B|0)<0|(0|d)<(0|y)||(f=0|ar[g+5804>>2],l=0|ar[g+5820>>2],v=B>>f,w=(0|br(y>>f,l))+v|0,v=(0|br(u>>f,l))+v|0,l=0|ar[g+10340>>2],(0|or[l+(24*w|0)>>1])!=(0|or[l+(24*v|0)>>1]))?0:(l=0|ar[g+10308>>2],(0|ar[l+(w<<2)>>2])==(0|ar[l+(v<<2)>>2])&1),e){if(e=i>>(r=0|ar[g+10368>>2]),r=y>>r,(0|e)<=-1){e=14;break}if((0|(i=0|ar[g+10372>>2]))<=(0|e)){e=14;break}if((0|r)<=-1){e=17;break}if((0|r)>=(0|ar[g+10376>>2])){e=17;break}f=(0|ar[g+10360>>2])+(3*((0|br(i,r))+e|0)|0)|0,f=((65535&(cr[f>>0]|cr[f+1>>0]<<8))>>>6&3|0)>(0|p)?3:2}else f=2;if(l){if(i=B>>(r=0|ar[g+10368>>2]),r=u>>r,(0|i)<=-1){e=22;break}if((0|(e=0|ar[g+10372>>2]))<=(0|i)){e=22;break}if((0|r)<=-1){e=25;break}if((0|r)>=(0|ar[g+10376>>2])){e=25;break}e=(0|ar[g+10360>>2])+(3*((0|br(e,r))+i|0)|0)|0,e=((65535&(cr[e>>0]|cr[e+1>>0]<<8))>>>6&3|0)>(0|p)&1}else e=0;e=0|ot(s,(0|ar[n>>2])+(e+f)|0)}else e=(0|ar[g+5800>>2])<(0|Z)&1;if(0|tr[g+5946>>0]&&(0|ar[g+10092>>2])<=(0|Z)&&(ar[c>>2]=0,ar[m>>2]=0),0|tr[752+(0|ar[o>>2])>>0]&&(0|ar[g+10096>>2])<=(0|Z)&&(ar[a>>2]=0),!e){e=42;break}if(i=(f=1<<(r=Z+-1|0))+B|0,f=f+y|0,Ta(A,B,y,r,l=p+1|0),(0|i)<(0|ar[b>>2])&&Ta(A,i,y,r,l),(0|f)<(0|ar[(e=g+1252|0)>>2])&&Ta(A,B,f,r,l),(0|i)>=(0|ar[b>>2])){e=48;break}if(!((0|f)<(0|ar[e>>2]))){e=48;break}B=i,y=f,Z=r,p=l}if(14==(0|e))sr(48482,48519,118,48539);else if(17==(0|e))sr(48543,48519,119,48539);else if(22==(0|e))sr(48482,48519,118,48539);else if(25==(0|e))sr(48543,48519,119,48539);else{if(42==(0|e)){if(b=B>>(m=0|ar[g+10368>>2]),r=y>>m,s=(e=1<<(m=Z-m|0))+r|0,31!=(0|m)){l=e+b|0,u=g+10372|0,i=g+10360|0,f=(65535&p)<<6&192,e=r;do{for(r=b;g=(0|br(0|ar[u>>2],e))+r|0,g=(0|ar[i>>2])+(3*g|0)|0,m=-193&(cr[g>>0]|cr[g+1>>0]<<8)|f,tr[g>>0]=m,tr[g+1>>0]=m>>8,(0|(r=r+1|0))<(0|l););e=e+1|0}while((0|e)<(0|s))}return void function(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0;if(ur=(c=ur)+80|0,n=(D=c)+56|0,t=c+40|0,o=c+24|0,a=0|ar[(C=18596+(A|=0)|0)>>2],v=0|ar[(E=A+18600|0)>>2],function(A,e,r,i,f){e|=0,r|=0,i|=0;var n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(n=10368+(A|=0)|0,(f|=0)&&(c=0|ar[n>>2],b=e>>c,l=r>>c,u=(t=1<<(c=i-c|0))+l|0,31!=(0|c))){o=t+b|0,a=A+10372|0,c=A+10360|0,t=l;do{for(f=b;l=(0|br(0|ar[a>>2],t))+f|0,l=(0|ar[c>>2])+(3*l|0)|0,s=-8&(cr[l>>0]|cr[l+1>>0]<<8),tr[l>>0]=s,tr[l+1>>0]=s>>8,(0|(f=f+1|0))<(0|o););t=t+1|0}while((0|t)<(0|u))}t=0|ar[n>>2],o=e>>t,t=r>>t,(0|o)<=-1&&sr(48482,48519,128,48539);f=0|ar[A+10372>>2],(0|f)<=(0|o)&&sr(48482,48519,128,48539);(0|t)<=-1&&sr(48543,48519,129,48539);{if((0|t)<(0|ar[A+10376>>2]))return s=(0|ar[A+10360>>2])+(3*((0|br(f,t))+o|0)|0)|0,i=-8&(cr[s>>0]|cr[s+1>>0]<<8)|7&i,tr[s>>0]=i,tr[s+1>>0]=i>>8;sr(48543,48519,129,48539)}}(a,e,r,i,1),J=0|ar[10448+a>>2],h=e>>J,u=r>>J,w=(l=1<<(J=i-J|0))+u|0,31!=(0|J)){b=l+h|0,d=10452+a|0,k=10440+a|0,l=u;do{for(u=h;J=(0|br(0|ar[d>>2],l))+u|0,((tr[(0|ar[k>>2])+J>>0]=0)|(u=u+1|0))<(0|b););l=l+1|0}while((0|l)<(0|w))}J=1<<i,zn(A,e,r,e,r),0|tr[5964+a>>0]?(Q=0|ot(A+18556|0,161+(0|ar[A+18580>>2])|0),0|(tr[A+32>>0]=Q)&&function(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0,b=0;if(l=0|ar[10368+(A|=0)>>2],t=e>>l,u=r>>l,n=(i=1<<(l=i-l|0))+u|0,31!=(0|l)){a=i+t|0,c=A+10372|0,l=A+10360|0,o=(1&f)<<11&65535,i=u;do{for(f=t;u=(0|br(0|ar[c>>2],i))+f|0,u=(0|ar[l>>2])+(3*u|0)|0,b=-2049&(cr[u>>0]|cr[u+1>>0]<<8)|o,tr[u>>0]=b,tr[u+1>>0]=b>>8,(0|(f=f+1|0))<(0|a););i=i+1|0}while((0|i)<(0|n))}i=0|ar[A+10348>>2],o=e>>i,i=r>>i,(0|o)<=-1&&sr(48482,48519,128,48539);f=0|ar[A+10352>>2],(0|f)<=(0|o)&&sr(48482,48519,128,48539);(0|i)<=-1&&sr(48543,48519,129,48539);{if((0|i)<(0|ar[A+10356>>2]))return b=(0|ar[A+10340>>2])+(24*((0|br(f,i))+o|0)|0)+22|0,tr[b>>0]=1;sr(48543,48519,129,48539)}}(a,e,r,i,1)):tr[A+32>>0]=0;w=v+20|0;do{if(2!=(0|ar[w>>2])){h=0|ar[C>>2],l=0<=((u=e+-1|0)|r|0)&&(0|ar[h+1248>>2])>=(0|e)&&(0|ar[h+1252>>2])>(0|r)&&(g=0|ar[h+5804>>2],Q=0|br(r>>g,0|ar[h+5820>>2]),m=Q+(e>>g)|0,g=Q+(u>>g)|0,Q=0|ar[h+10340>>2],(0|or[Q+(24*m|0)>>1])==(0|or[Q+(24*g|0)>>1]))?(l=0|ar[h+10308>>2],(0|ar[l+(m<<2)>>2])==(0|ar[l+(g<<2)>>2])&1):0,d=0<=((k=r+-1|0)|e|0)&&(0|ar[h+1248>>2])>(0|e)&&(0|ar[h+1252>>2])>=(0|r)&&(Y=0|ar[h+5804>>2],Q=0|ar[h+5820>>2],p=e>>Y,Z=(0|br(r>>Y,Q))+p|0,p=(0|br(k>>Y,Q))+p|0,Q=0|ar[h+10340>>2],(0|or[Q+(24*Z|0)>>1])==(0|or[Q+(24*p|0)>>1]))?(d=0|ar[h+10308>>2],(0|ar[d+(Z<<2)>>2])==(0|ar[d+(p<<2)>>2])&1):0;do{if(l){if(Q=0|ar[h+10368>>2],l=u>>Q,u=r>>Q,(0|l)<=-1&&sr(48482,48519,118,48539),(0|(b=0|ar[h+10372>>2]))<=(0|l)&&sr(48482,48519,118,48539),(0|u)<=-1&&sr(48543,48519,119,48539),(0|u)<(0|ar[h+10376>>2])){y=(0|ar[h+10360>>2])+(3*((0|br(b,u))+l|0)|0)|0,y=512==(768&(cr[y>>0]|cr[y+1>>0]<<8))?6:5;break}sr(48543,48519,119,48539)}else y=5}while(0);do{if(d){if(l=0|ar[h+10368>>2],b=e>>l,l=k>>l,(0|b)<=-1&&sr(48482,48519,118,48539),(0|(u=0|ar[h+10372>>2]))<=(0|b)&&sr(48482,48519,118,48539),(0|l)<=-1&&sr(48543,48519,119,48539),(0|l)<(0|ar[h+10376>>2])){B=(0|ar[h+10360>>2])+(3*((0|br(u,l))+b|0)|0)|0,B=512==(768&(cr[B>>0]|cr[B+1>>0]<<8))&1;break}sr(48543,48519,119,48539)}else B=0}while(0);if(!((255&(0|ot(u=A+18556|0,(0|ar[(l=A+18580|0)>>2])+(B+y)|0)))<<24>>24)){if(2==(0|ar[w>>2])){Q=0;break}Q=0==(0|ot(u,149+(0|ar[l>>2])|0))&1;break}A:do{if(2<=(0|ar[804+(0|ar[E>>2])>>2])&&0!=(0|ot(u,148+(0|ar[l>>2])|0)))if(1<((0|ar[804+(0|ar[E>>2])>>2])-1|0)){l=1;do{if(!(0|ct(u)))break A;l=l+1|0}while((0|l)<((0|ar[804+(0|ar[E>>2])>>2])-1|0))}else l=1;else l=0}while(0);if(tr[(b=A+26|0)>>0]=15&tr[b>>0]|(255&l)<<5&255|16,b=0|ar[(l=10368+a|0)>>2],u=e>>b,b=r>>b,(0|u)<=-1&&sr(48482,48519,128,48539),(0|(s=0|ar[(h=10372+a|0)>>2]))<=(0|u)&&sr(48482,48519,128,48539),(0|b)<=-1&&sr(48543,48519,129,48539),(0|b)>=(0|ar[10376+a>>2])&&sr(48543,48519,129,48539),D=(0|ar[(k=10360+a|0)>>2])+(3*((0|br(s,b))+u|0)|0)|0,d=-57&(cr[D>>0]|cr[D+1>>0]<<8),tr[D>>0]=d,tr[D+1>>0]=d>>8,D=0|ar[l>>2],d=e>>D,u=r>>D,s=(l=1<<(D=i-D|0))+u|0,31!=(0|D)){b=l+d|0,l=u;do{for(u=d;D=(0|br(0|ar[h>>2],l))+u|0,D=(0|ar[k>>2])+(3*D|0)|0,i=-769&(cr[D>>0]|cr[D+1>>0]<<8)|512,tr[D>>0]=i,tr[D+1>>0]=i>>8,(0|(u=u+1|0))<(0|b););l=l+1|0}while((0|l)<(0|s))}return mc(0|ar[A+18592>>2],0|ar[E>>2],0|ar[C>>2],A+16|0,e,r,0,0,J,J,J,0),ur=c}Q=0}while(0);if(Y=0|ar[(m=10368+a|0)>>2],w=e>>Y,u=r>>Y,v=(l=1<<(Y=i-Y|0))+u|0,31!=(0|Y)){b=l+w|0,d=10372+a|0,k=10360+a|0,h=(65535&Q)<<8&65535,l=u;do{for(u=w;Y=(0|br(0|ar[d>>2],l))+u|0,Y=(0|ar[k>>2])+(3*Y|0)|0,_=-769&(cr[Y>>0]|cr[Y+1>>0]<<8)|h,tr[Y>>0]=_,tr[Y+1>>0]=_>>8,(0|(u=u+1|0))<(0|b););l=l+1|0}while((0|l)<(0|v))}if((Y=0!=(0|Q))||(0|ar[5800+a>>2])==(0|i)){u=0|ar[C>>2],h=0==(0|Q),l=0|ot(b=A+18556|0,8+(0|ar[(d=A+18580|0)>>2])|0);do{if(h)s=0|l?0:3;else if(l)s=0;else{if(k=0|ot(b,9+(0|ar[d>>2])|0),(0|ar[u+5800>>2])>=(0|i)){if(0|k){s=1;break}if(3==(0|i)){s=2;break}s=3-(0|ot(b,10+(0|ar[d>>2])|0))|0;break}if(!(0|tr[u+5466>>0])){s=0|k?1:2;break}if(0|ot(b,11+(0|ar[d>>2])|0)){s=0|k?1:2;break}l=0|ct(b),0!=(0|k)&(u=0!=(0|l))?s=5:(b=0==(0|k))|u?l|k?b&u?s=7:sr(55739,39242,1760,39275):s=6:s=4}}while(0);_=h&3==(0|s)&1}else s=_=0;u=0|ar[m>>2],l=e>>u,u=r>>u,(0|l)<=-1&&sr(48482,48519,128,48539);b=0|ar[10372+a>>2],(0|b)<=(0|l)&&sr(48482,48519,128,48539);(0|u)<=-1&&sr(48543,48519,129,48539);(0|u)>=(0|ar[10376+a>>2])&&sr(48543,48519,129,48539);R=(0|ar[10360+a>>2])+(3*((0|br(b,u))+l|0)|0)|0,N=-57&(cr[R>>0]|cr[R+1>>0]<<8)|(65535&s)<<3&56,tr[R>>0]=N,tr[R+1>>0]=N>>8,R=0==(0|Q),N=0==(0|s);A:do{if(R){if(N&&0|tr[5468+a>>0]&&(0|ar[5884+a>>2])<=(0|i)&&(0|ar[5888+a>>2])>=(0|i)&&0|at(G=A+18556|0)){if(Ua(a,e,r,i,1),l=0|ar[(Z=A+18560|0)>>2],ar[D>>2]=l,ar[D+4>>2]=(0|ar[A+18564>>2])-l,ar[(l=D+8|0)>>2]=0,ar[l+4>>2]=0,ar[D+16>>2]=0,l=0|ar[C>>2],b=0|ar[l+5760>>2],h=0|tr[l+5469>>0],k=0|ar[l+40>>2],l=0|ar[l+4>>2],u=(0|br(k,r))+e|0,8<(0|b)){if(d=l+(u<<1)|0,s=b-h|0,31!=(0|i)){u=0;do{for(b=0|br(u,k),l=0;i=(0|At(D,h))<<s&65535,or[d+(l+b<<1)>>1]=i,(0|(l=l+1|0))!=(0|J););u=u+1|0}while((0|u)!=(0|J))}}else if(d=l+u|0,s=b-h|0,31!=(0|i)){u=0;do{for(b=0|br(u,k),l=0;i=(0|At(D,h))<<s&255,tr[d+(l+b)>>0]=i,(0|(l=l+1|0))!=(0|J););u=u+1|0}while((0|u)!=(0|J))}u=0|ar[C>>2];do{if(0|ar[u+5776>>2])if(w=0|ar[u+5768>>2],k=0|ar[u+5780>>2],h=(0|J)/(0|k)|0,b=0|ar[u+5784>>2],v=(0|J)/(0|b)|0,l=0|tr[u+5470>>0],g=l<<24>>24,m=0|ar[u+44>>2],s=0|ar[u+8>>2],d=(0|br(m,(0|r)/(0|b)|0))+((0|e)/(0|k)|0)|0,8<(0|w)){if(s=s+(d<<1)|0,d=w-g|0,0<(0|h)&0<(0|v)){u=0;do{for(b=0|br(u,m),l=0;i=(0|At(D,g))<<d&65535,or[s+(l+b<<1)>>1]=i,(0|(l=l+1|0))!=(0|h););u=u+1|0}while((0|u)!=(0|v));u=0|ar[C>>2],m=0|ar[u+44>>2],w=0|ar[u+5768>>2],s=0|ar[u+5780>>2],b=0|ar[u+5784>>2],l=0|tr[u+5470>>0]}else s=k;if(v=(0|J)/(0|s)|0,h=(0|J)/(0|b)|0,k=l<<24>>24,d=(0|ar[u+12>>2])+((0|br((0|r)/(0|b)|0,m))+((0|e)/(0|s)|0)<<1)|0,b=w-k|0,!(0<(0|v)&0<(0|h)))break;u=0;do{for(s=0|br(u,m),l=0;r=(0|At(D,k))<<b&65535,or[d+(l+s<<1)>>1]=r,(0|(l=l+1|0))!=(0|v););u=u+1|0}while((0|u)!=(0|h))}else{if(s=s+d|0,d=w-g|0,0<(0|h)&0<(0|v)){u=0;do{for(b=0|br(u,m),l=0;i=(0|At(D,g))<<d&255,tr[s+(l+b)>>0]=i,(0|(l=l+1|0))!=(0|h););u=u+1|0}while((0|u)!=(0|v));u=0|ar[C>>2],m=0|ar[u+44>>2],w=0|ar[u+5768>>2],s=0|ar[u+5780>>2],b=0|ar[u+5784>>2],l=0|tr[u+5470>>0]}else s=k;if(v=(0|J)/(0|s)|0,h=(0|J)/(0|b)|0,k=l<<24>>24,d=(0|ar[u+12>>2])+((0|br((0|r)/(0|b)|0,m))+((0|e)/(0|s)|0))|0,b=w-k|0,!(0<(0|v)&0<(0|h)))break;u=0;do{for(s=0|br(u,m),l=0;r=(0|At(D,k))<<b&255,tr[d+(l+s)>>0]=r,(0|(l=l+1|0))!=(0|v););u=u+1|0}while((0|u)!=(0|h))}}while(0);return rt(D),ar[Z>>2]=ar[D>>2],tt(G),ur=c}if(G=(V=3==(0|s))?(0|J)/2|0:J,V=(V<<31>>31)+i|0,!(C=31==(0|i))){s=A+18556|0,d=A+18580|0,u=l=0;do{for(b=0;E=0|ot(s,12+(0|ar[d>>2])|0),l=(f=l)+1|0,ar[D+(f<<2)>>2]=E,(0|(b=b+G|0))<(0|J););u=u+G|0}while((0|u)<(0|J))}if(u=0<=((l=e+-1|0)|r|0)&&(0|ar[1248+a>>2])>=(0|e)&&(0|ar[1252+a>>2])>(0|r)&&(W=0|ar[5804+a>>2],f=0|br(r>>W,0|ar[5820+a>>2]),X=f+(e>>W)|0,W=f+(l>>W)|0,f=0|ar[10340+a>>2],(0|or[f+(24*X|0)>>1])==(0|or[f+(24*W|0)>>1]))?(u=0|ar[10308+a>>2],(0|ar[u+(X<<2)>>2])==(0|ar[u+(W<<2)>>2])&1):0,l=0<=((l=r+-1|0)|e|0)&&(0|ar[1248+a>>2])>(0|e)&&(0|ar[1252+a>>2])>=(0|r)&&(X=0|ar[5804+a>>2],W=0|ar[5820+a>>2],F=e>>X,I=(0|br(r>>X,W))+F|0,F=(0|br(l>>X,W))+F|0,W=0|ar[10340+a>>2],(0|or[W+(24*I|0)>>1])==(0|or[W+(24*F|0)>>1]))?(l=0|ar[10308+a>>2],(0|ar[l+(I<<2)>>2])==(0|ar[l+(F<<2)>>2])&1):0,!C){I=A+18556|0,W=0!=(0|u),v=0!=(0|l),m=5872+a|0,g=5876+a|0,Z=10408+a|0,p=10412+a|0,y=10400+a|0,B=4+o|0,E=8+o|0,l=h=0;do{f=h+r|0,X=v|0<(0|h),w=0;do{if(s=0|ar[D+(l<<2)>>2],b=s?(u=n,0|lt(I,2)):(u=t,0|ut(I,5)),ar[u+(l<<2)>>2]=b,F=w+e|0,k=0|ar[m>>2],k=(0|br(f>>k,0|ar[g>>2]))+(F>>k)|0,Ct(o,F,f,k,W|0<(0|w),X,a),u=1==(0|s)?0|ar[o+(ar[n+(l<<2)>>2]<<2)>>2]:(u=0|ar[o>>2],(0|(b=0|ar[B>>2]))<(0|u)?(ar[o>>2]=b,ar[B>>2]=u,s=b):(s=u,u=b),(0|(b=0|ar[E>>2]))<(0|s)?(ar[o>>2]=b,ar[E>>2]=s,d=s):(d=b,b=s),(0|d)<(0|u)?(ar[B>>2]=d,ar[E>>2]=u,s=d):(s=u,u=d),F=0|ar[t+(l<<2)>>2],((0|u)<=(0|(F=((0|s)<=(0|(F=((0|b)<=(0|F)&1)+F|0))&1)+F|0))&1)+F|0),F=V-(0|ar[Z>>2])|0,d=1<<F,31!=(0|F)){s=255&u,u=0;do{for(b=0;F=b+k+(0|br(0|ar[p>>2],u))|0,tr[(0|ar[y>>2])+F>>0]=s,(0|(b=b+1|0))<(0|d););u=u+1|0}while((0|u)<(0|d))}l=l+1|0,w=w+G|0}while((0|w)<(0|J));h=h+G|0}while((0|h)<(0|J))}d=5776+a|0;e:do{switch(0|ar[d>>2]){case 3:if(!C){h=A+18556|0,w=A+18580|0,v=10408+a|0,m=10412+a|0,g=10416+a|0,Z=10400+a|0,k=0;r:for(;;){p=k+r|0,d=0;do{if(y=d+e|0,s=0|ot(h,13+(0|ar[w>>2])|0)?0|ut(h,2):4,u=0|ar[v>>2],l=y>>u,u=p>>u,(0|l)<=-1){l=174;break r}if((0|(b=0|ar[m>>2]))<=(0|l)){l=174;break r}if((0|u)<=-1){l=175;break r}if((0|u)>=(0|ar[g>>2])){l=175;break r}l=(0|ar[Z>>2])+((0|br(b,u))+l)|0,l=0|cr[l>>0],(u=4==(0|s))||(D=0|ar[7948+(s<<2)>>2],l=(0|D)==(0|l)?34:D),Sa(a,y,p,V,l,u),d=d+G|0}while((0|d)<(0|J));if((0|J)<=(0|(k=k+G|0)))break e}174==(0|l)?sr(48482,48519,118,48539):175==(0|l)&&sr(48543,48519,119,48539)}break;case 0:break;default:s=0|ot(l=A+18556|0,13+(0|ar[A+18580>>2])|0)?0|ut(l,2):4,u=0|ar[10408+a>>2],l=e>>u,u=r>>u,(0|l)<=-1&&sr(48482,48519,118,48539),(0|(b=0|ar[10412+a>>2]))<=(0|l)&&sr(48482,48519,118,48539),(0|u)<=-1&&sr(48543,48519,119,48539),(0|u)>=(0|ar[10416+a>>2])&&sr(48543,48519,119,48539),l=(0|ar[10400+a>>2])+((0|br(b,u))+l)|0,l=0|cr[l>>0],(u=4==(0|s))||(J=0|ar[7948+(s<<2)>>2],l=(0|J)==(0|l)?34:J),2==(0|ar[d>>2])&&(l=0|cr[39292+l>>0]),Sa(a,e,r,i,l,u)}}while(0)}else{if(N){Oa(A,e,r,0,0,J,J,f,J,0);break}switch(0|s){case 1:Oa(A,e,r,0,0,J,D=(0|J)/2|0,f,J,0),Oa(A,e,r,0,D,J,D,f,J,1);break A;case 2:Oa(A,e,r,0,0,D=(0|J)/2|0,J,f,J,0),Oa(A,e,r,D,0,D,J,f,J,1);break A;case 4:Oa(A,e,r,0,0,J,D=(0|J)/4|0,f,J,0),Oa(A,e,r,0,D,J,(3<<i|0)/4|0,f,J,1);break A;case 5:Oa(A,e,r,0,0,J,D=(3<<i|0)/4|0,f,J,0),Oa(A,e,r,0,D,J,(0|J)/4|0,f,J,1);break A;case 6:Oa(A,e,r,0,0,D=(0|J)/4|0,J,f,J,0),Oa(A,e,r,D,0,(3<<i|0)/4|0,J,f,J,1);break A;case 7:Oa(A,e,r,0,0,D=(3<<i|0)/4|0,J,f,J,0),Oa(A,e,r,D,0,(0|J)/4|0,J,f,J,1);break A;case 3:Oa(A,e,r,0,0,D=(0|J)/2|0,D,f,J,0),Oa(A,e,r,D,0,D,D,f,J,1),Oa(A,e,r,0,D,D,D,f,J,2),Oa(A,e,r,D,D,D,D,f,J,3);break A;default:sr(44456,39242,4511,39327)}}}while(0);if(Y&&!(N&0!=(16&tr[A+26>>0]))&&0==(0|ot(A+18556|0,153+(0|ar[A+18580>>2])|0)))return ur=c;l=R?(0|ar[1396+a>>2])+_|0:0|ar[1392+a>>2];J=0!=(0|ar[5776+a>>2])&1,function A(e,r,i,f,n,t,o,a,c,l,u,b,s,d,k){e|=0;r|=0;i|=0;f|=0;n|=0;t|=0;o|=0;a|=0;c|=0;l|=0;u|=0;b|=0;s|=0;d|=0;k|=0;var h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0;X=e+18596|0;w=0|ar[X>>2];h=0|ar[w+10368>>2];v=r>>h;(0|v)<=-1&&sr(48482,48519,118,48539);W=1==(0|b);I=e+18556|0;C=e+18580|0;G=0!=(0|b);E=i;y=f;p=n;B=a;Z=l;g=w;m=v;f=i>>h;for(;;){if((0|(l=0|ar[g+10372>>2]))<=(0|m)){V=4;break}if((0|f)<=-1){V=7;break}if((0|(w=0|ar[g+10376>>2]))<=(0|f)){V=7;break}if(v=0|ar[g+10360>>2],i=v+(3*((0|br(l,f))+m|0)|0)|0,(65535&(i=(65535&(cr[i>>0]|cr[i+1>>0]<<8))>>>8&3)|0)!=(0|s)){V=9;break}if((n=(0|ar[g+5868>>2])<(0|B))||((0|u)<=(0|c)?1:(0|ar[g+5864>>2])>=(0|B))|G&0==(0|c)){if(f=E>>h,!(-1<(0|(a=r>>h))&(0|a)<(0|l))){V=16;break}if(!(-1<(0|f)&(0|f)<(0|w))){V=18;break}l=v+(3*((0|br(l,f))+a|0)|0)|0,l=1&(W&0==(0|c)|n|0!=(56&(cr[l>>0]|cr[l+1>>0]<<8))&(i<<16>>16==1?0==(ar[g+1392>>2]|c|0):0))}else{if(3<=(f=5-B|0)>>>0){V=13;break}l=0|ot(I,(0|ar[C>>2])+(f+20)|0)}if(w=0!=(0|l)){if(n=0|ar[g+10448>>2],f=r>>n,n=E>>n,(0|f)<=-1){V=23;break}if((0|(h=0|ar[g+10452>>2]))<=(0|f)){V=23;break}if((0|n)<=-1){V=26;break}if((0|n)>=(0|ar[g+10456>>2])){V=26;break}m=(0|ar[g+10440>>2])+((0|br(h,n))+f)|0,tr[m>>0]=0|cr[m>>0]|1<<c}if(3==(0|(g=0|ar[(a=g+5776|0)>>2]))|2<(0|B)&0!=(0|g)?(d<<24>>24?(f=c+16|0,n=0|ot(I,(0|ar[C>>2])+f|0),2==(0|ar[a>>2])&&3==(0|B)|0==(0|l)&&(n=(0|ot(I,(0|ar[C>>2])+f|0))<<1|n)):n=-1,k<<24>>24?(h=c+16|0,f=0|ot(I,(0|ar[C>>2])+h|0),2==(0|ar[a>>2])&&3==(0|B)|0==(0|l)&&(f=(0|ot(I,(0|ar[C>>2])+h|0))<<1|f)):f=-1,(0|n)<0?V=38:l=n):(f=-1,V=38),38==(0|V)){if((n=2==((V=0)|B))&0==(0|c)){V=39;break}l=n&0<(0|c)?255&d:0}if(h=(0|f)<0?2==(0|B)&0<(0|c)?255&k:0:f,!w){V=43;break}if(n=(a=1<<(f=B+-1|0))+r|0,a=a+E|0,A(e,r,E,r,E,t,o,f,c=c+1|0,0,u,b,s,d=255&l,k=255&h),A(e,n,E,r,E,t,o,f,c,1,u,b,s,d,k),A(e,r,a,r,E,t,o,f,c,2,u,b,s,d,k),g=0|ar[X>>2],h=0|ar[g+10368>>2],(0|(m=n>>h))<=-1){V=4;break}p=E,y=r,r=n,B=f,Z=3,f=(E=a)>>h}switch(0|V){case 4:sr(48482,48519,118,48539);break;case 7:sr(48543,48519,119,48539);break;case 9:sr(39344,39242,3827,39367);break;case 13:sr(39387,39242,1820,39416);break;case 16:sr(48482,48519,118,48539);break;case 18:sr(48543,48519,119,48539);break;case 23:sr(48482,48519,128,48539);break;case 26:sr(48543,48519,129,48539);break;case 39:sr(39444,39242,3894,39367);break;case 43:return i<<16>>16==0|0!=(l|c|h|0)?(V=0|ot(I,(0|ar[C>>2])+(0==(0|c)?15:14)|0),void za(e,r,E,y,p,t,o,B,0,Z,V,l,h)):void za(e,r,E,y,p,t,o,B,0,Z,V=1,l,h)}}(A,e,r,e,r,e,r,i,0,0,l,_,Q,J,J),ur=c}(A,B,y,Z,p)}if(48==(0|e))return}}function Ua(A,e,r,i,f){r|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0,b=0;if(t=(e|=0)>>(l=0|ar[(A|=0)+10368>>2]),u=r>>l,n=(i=1<<(l=i-l|0))+u|0,31!=(0|l)){a=i+t|0,c=A+10372|0,l=A+10360|0,o=(1&f)<<10&65535,i=u;do{for(f=t;u=(0|br(0|ar[c>>2],i))+f|0,u=(0|ar[l>>2])+(3*u|0)|0,b=-1025&(cr[u>>0]|cr[u+1>>0]<<8)|o,tr[u>>0]=b,tr[u+1>>0]=b>>8,(0|(f=f+1|0))<(0|a););i=i+1|0}while((0|i)<(0|n))}if(o=e>>(i=0|ar[A+10348>>2]),i=r>>i,(0|o)<=-1&&sr(48482,48519,128,48539),(0|(f=0|ar[A+10352>>2]))<=(0|o)&&sr(48482,48519,128,48539),(0|i)<=-1&&sr(48543,48519,129,48539),(0|i)<(0|ar[A+10356>>2]))return b=(0|ar[A+10340>>2])+(24*((0|br(f,i))+o|0)|0)+22|0,void(tr[b>>0]=1);sr(48543,48519,129,48539)}function Sa(A,e,r,i,f,n){e|=0,r|=0,f|=0;var t,o,a,c,l=0,u=0;if(c=255&((n|=0)?128|f:f),o=1<<(u=(i|=0)-(0|ar[(A|=0)+10408>>2])|0),l=0|ar[A+5872>>2],r=(0|br(r>>l,0|ar[(a=A+5876|0)>>2]))+(e>>l)|0,31!=(0|u)){t=A+5880|0,l=A+10432|0,u=A+10424|0,i=A+10420|0,n=0;A:for(;;){f=0;do{if((0|f)>=(0|ar[a>>2])){f=10;break A}if((0|n)>=(0|ar[t>>2])){f=11;break A}if((0|(e=r+f+(0|br(0|ar[l>>2],n))|0))>=(0|ar[u>>2])){f=12;break A}tr[(0|ar[i>>2])+e>>0]=c,f=f+1|0}while((0|f)<(0|o));if((0|o)<=(0|(n=n+1|0))){f=9;break}}9!=(0|f)&&(10==(0|f)?sr(39542,48519,659,39565):11==(0|f)?sr(39584,48519,660,39565):12==(0|f)&&sr(39608,48519,663,39565))}}function Oa(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b,s=0,d=0,k=0,h=0,w=0,v=0;if(l=0|ar[(w=(A|=0)+18600|0)>>2],k=0|ot(h=A+18556|0,147+(0|ar[(u=A+18580|0)>>2])|0),b=A+16|0,tr[(v=A+26|0)>>0]=(255&k)<<4&16|-17&tr[v>>0],k){A:do{if(2<=(0|ar[804+(0|ar[w>>2])>>2])&&0!=(0|ot(h,148+(0|ar[u>>2])|0)))if(1<((0|ar[804+(0|ar[w>>2])>>2])-1|0)){s=1;do{if(!(0|ct(h)))break A;s=s+1|0}while((0|s)<((0|ar[804+(0|ar[w>>2])>>2])-1|0))}else s=1;else s=0}while(0);o=31&tr[v>>0],s=(255&s)<<5&255}else{do{if(0|ar[20+l>>2])k=1;else{if(s=0|ar[u>>2],12!=(t+n|0)&&0|ot(h,s+156+o|0)){k=3;break}k=1+(0|ot(h,s+160|0))|0}}while(0);if(tr[v>>0]=-4&tr[v>>0]|3&k,2!=(0|k)){s=(0|ar[328+l>>2])-1|0;A:do{if(0!=(0|s)&&0!=(0|ot(h,154+(0|ar[u>>2])|0)))for(o=0;;){if((0|(d=o+1|0))==(0|s))break A;if(!(o=o?0|ct(h):0|ot(h,155+(0|ar[u>>2])|0))){s=d;break}o=d}else s=0}while(0);if(tr[b>>0]=s,xa(A,0,0,0),d=255&(0|ot(h,152+(0|ar[u>>2])|0)),tr[v>>0]=d<<2&4|-5&tr[v>>0],1==(0|k))return void mc(h=0|ar[(h=A+18592|0)>>2],w=0|ar[w>>2],v=0|ar[(v=A+18596|0)>>2],b,e,r,i,f,a,n,t,c)}d=(0|ar[332+l>>2])-1|0;A:do{if(0!=(0|d)&&0!=(0|ot(h,154+(0|ar[u>>2])|0)))for(o=0;;){if((0|(s=o+1|0))==(0|d)){s=d;break A}if(!(o=o?0|ct(h):0|ot(h,155+(0|ar[u>>2])|0)))break;o=s}else s=0}while(0);tr[A+17>>0]=s,3==(0|k)&0!=(0|tr[370+l>>0])?(or[A+22>>1]=0,or[A+24>>1]=0):xa(A,0,0,1),s=255&(0|ot(h,152+(0|ar[u>>2])|0)),o=-9&tr[v>>0],s=s<<3&8}tr[v>>0]=o|s,mc(h=0|ar[(h=A+18592|0)>>2],w=0|ar[w>>2],v=0|ar[(v=A+18596|0)>>2],b,e,r,i,f,a,n,t,c)}function za(A,e,r,i,f,n,t,o,a,c,l,u,b){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,b|=0;var s,d,k,h,w,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0;-1==(0|(u|=0))&&sr(39481,39242,3547,39494),-1==(0|b)&&sr(39514,39242,3548,39494),-1==(0|l)&&sr(39527,39242,3549,39494),g=0|ar[(w=A+18596|0)>>2],X=2<(0|(X=((1^(d=3==(0|(k=0|ar[g+5776>>2]))))<<31>>31)+o|0))?X:2,Z=b|u,tr[(v=A+33|0)>>0]=0,tr[v+1>>0]=0,tr[v+2>>0]=0,a=e>>(v=(tr[v+3>>0]=0)|ar[g+10368>>2]),v=r>>v,(0|a)<=-1&&sr(48482,48519,118,48539),(0|(m=0|ar[g+10372>>2]))<=(0|a)&&sr(48482,48519,118,48539),(0|v)<=-1&&sr(48543,48519,119,48539),(0|v)>=(0|ar[g+10376>>2])&&sr(48543,48519,119,48539),E=(0|ar[g+10360>>2])+(3*((0|br(m,v))+a|0)|0)|0,h=65535&(E=(65535&(cr[E>>0]|cr[E+1>>0]<<8))>>>8&3),s=0!=(0|l),m=0!=(0|Z);do{if(Z|l|0){if(0!=(0|tr[g+5946>>0])&&0==(0|ar[(p=A+18508|0)>>2])){v=A+18556|0,a=A+18580|0;do{if(0|ot(v,139+(0|ar[a>>2])|0)){if(0|ot(v,140+(0|ar[a>>2])|0))if(0|ot(v,140+(0|ar[a>>2])|0))if(0|ot(v,140+(0|ar[a>>2])|0))if(0|ot(v,140+(0|ar[a>>2])|0)){if(!(a=5+(0|bt(v,0))|0)){a=v=0;break}}else a=4;else a=3;else a=2;else a=1;v=0|ct(v)}else a=v=0}while(0);ar[p>>2]=1,g=0|br(1-(v<<1)|0,a),ar[A+18512>>2]=g,g=1}else g=0;if(m&0!=(0|tr[752+(0|ar[A+18600>>2])>>0])&&0==(0|tr[A+32>>0])&&0==(0|ar[(y=A+18516|0)>>2])?(p=0|ot(v=A+18556|0,23+(0|ar[(a=A+18580|0)>>2])|0),m=0|ar[w>>2],a=p?(a=1<(0|cr[m+10074>>0])?0|ot(v,24+(0|ar[a>>2])|0):0,ar[y>>2]=1,ar[A+18520>>2]=tr[m+10075+a>>0],0|tr[m+10081+a>>0]):(ar[y>>2]=1,ar[A+18520>>2]=0),ar[A+18524>>2]=a):B=33,33==(0|B)&&!g)break;zn(A,e,r,n,t)}}while(0);if(m=1<<o,p=1<<X,B=0|ar[w>>2],y=0|ar[B+5780>>2],B=0|ar[B+5784>>2],ar[(l=A+28|0)>>2]=0,s&&ja(A,e,r,o,0),Ha(A,e,r,n,t,m,0,h,s),!(2<(0|o)|d))return 3!=(0|c)?0:((a=0!=(1&u|0))&&ja(A,i,f,o,1),0|ar[5776+(0|ar[w>>2])>>2]&&Ha(A,(0|i)/(0|y)|0,(0|f)/(0|B)|0,(0|n)/(0|y)|0,(0|t)/(0|B)|0,m,1,h,a),(a=0!=(2&u|0))&&ja(A,i,m+f|0,o,1),(v=2==(0|k))&&Ha(A,(0|i)/(0|y)|0,((0|f)/(0|B)|0)+m|0,(0|n)/(0|y)|0,(0|t)/(0|B)|0,m,1,h,a),(a=0!=(1&b|0))&&ja(A,i,f,o,2),0|ar[5776+(0|ar[w>>2])>>2]&&Ha(A,(0|i)/(0|y)|0,(0|f)/(0|B)|0,(0|n)/(0|y)|0,(0|t)/(0|B)|0,m,2,h,a),(a=0!=(2&b|0))&&ja(A,i,p+f|0,o,2),v&&Ha(A,(0|i)/(0|y)|0,((0|f)/(0|B)|0)+m|0,(0|n)/(0|y)|0,(0|t)/(0|B)|0,m,2,h,a),0);g=0|ar[w>>2];A:do{if(s&0!=(0|tr[g+10071>>0])){do{if(E<<16>>16!=1){if(a=e>>(v=0|ar[g+10428>>2]),v=r>>v,(0|a)<=-1&&sr(48482,48519,118,48539),(0|(m=0|ar[g+10432>>2]))<=(0|a)&&sr(48482,48519,118,48539),(0|v)<=-1&&sr(48543,48519,119,48539),(0|v)<(0|ar[g+10436>>2])){if(o=(0|ar[g+10420>>2])+((0|br(m,v))+a)|0,(0|tr[o>>0])<0)break;v=a=0;break A}sr(48543,48519,119,48539)}}while(0);for(m=A+18556|0,g=A+18580|0,v=a=0;v=(1&(o=0!=(0|ot(m,(0|ar[g>>2])+(a+162)|0))))+v|0,(0|(a=a+1|0))<4&o;);v=(a=v?1-((0|ot(m,170+(0|ar[g>>2])|0))<<1)<<v+-1:0,1)}else v=a=0}while(0);if(ar[l>>2]=a,(a=0!=(1&u|0))&&ja(A,e,r,X,1),0|ar[5776+(0|ar[w>>2])>>2]&&Ha(A,(0|e)/(0|y)|0,(0|r)/(0|B)|0,(0|n)/(0|y)|0,(0|t)/(0|B)|0,p,1,h,a),(Z=2==(0|k))&&((a=0!=(2&u|0))&&ja(A,e,(B<<X)+r|0,X,1),Ha(A,(0|e)/(0|y)|0,((0|r)/(0|B)|0)+p|0,(0|n)/(0|y)|0,((0|t)/(0|B)|0)+p|0,p,1,h,a)),v){for(m=A+18556|0,g=A+18580|0,v=a=0;v=(1&(u=0!=(0|ot(m,(0|ar[g>>2])+(a+166)|0))))+v|0,(0|(a=a+1|0))<4&u;);a=v?1-((0|ot(m,171+(0|ar[g>>2])|0))<<1)<<v+-1:0}else a=0;return ar[l>>2]=a,(a=0!=(1&b|0))&&ja(A,e,r,X,2),0|ar[5776+(0|ar[w>>2])>>2]&&Ha(A,(0|e)/(0|y)|0,(0|r)/(0|B)|0,(0|n)/(0|y)|0,(0|t)/(0|B)|0,p,2,h,a),Z&&((a=0!=(2&b|0))&&ja(A,e,(B<<X)+r|0,X,2),Ha(A,(0|e)/(0|y)|0,((0|r)/(0|B)|0)+p|0,(0|n)/(0|y)|0,((0|t)/(0|B)|0)+p|0,p,2,h,a)),0}function ja(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0,fA=0,nA=0,tA=0,oA=0,aA=0,cA=0,lA=0,uA=0,bA=0;if(ur=(J=ur)+160|0,iA=J+144|0,_=J+80|0,Q=(Y=J)+64|0,D=J+48|0,N=J+32|0,rA=(fA=0|ar[(A|=0)+18596>>2])+764|0,z=e>>(j=0|ar[fA+10368>>2]),j=r>>j,(0|z)<=-1&&sr(48482,48519,118,48539),(0|(H=0|ar[fA+10372>>2]))<=(0|z)&&sr(48482,48519,118,48539),(0|j)<=-1&&sr(48543,48519,119,48539),(0|j)>=(0|ar[fA+10376>>2])&&sr(48543,48519,119,48539),AA=(0|ar[fA+10360>>2])+(3*((0|br(H,j))+z|0)|0)|0,AA=(65535&(cr[AA>>0]|cr[AA+1>>0]<<8))>>>8&3,(R=0==(0|f))&&(K=e>>(uA=0|ar[fA+10448>>2]),L=r>>uA,q=(x=1<<(uA=i-uA|0))+L|0,31!=(0|uA))){H=x+K|0,x=fA+10452|0,P=fA+10440|0,z=L;do{for(j=K;uA=(0|br(0|ar[x>>2],z))+j|0,uA=(0|ar[P>>2])+uA|0,tr[uA>>0]=-128|tr[uA>>0],(0|(j=j+1|0))<(0|H););z=z+1|0}while((0|z)<(0|q))}z=0!=(0|tr[fA+5945>>0])&&0==(0|tr[A+32>>0])&&(0|ar[fA+10100>>2])>=(0|i)?255&(0|ot(A+18556|0,(0|ar[A+18580>>2])+(0|f?142:141)|0)):0,tr[(uA=A+33+f|0)>>0]=z,tr[(F=A+36|0)>>0]=0;do{if(AA<<16>>16==1&&0!=(0|tr[fA+5751>>0])){if(0==(0|tr[uA>>0])&&0==(0|tr[A+32>>0])){bA=23;break}H=0!=(0|f)&1,lA=255&(0|ot(j=A+18556|0,143+(0|ar[(z=A+18580|0)>>2])+H|0)),(tr[F>>0]=lA)<<24>>24&&(lA=255&(0|ot(j,145+(0|ar[z>>2])+H|0)),tr[A+37>>0]=lA)}else bA=23}while(0);if(23==(0|bA)&&(tr[F>>0]=0),z=R?2:0,0==(0|tr[uA>>0])&&0==(0|tr[A+32>>0])||(z|=1),x=25+(0|ar[(V=A+18580|0)>>2])|0,$=(cA=i<<1)+-1|0,lA=i+-2|0,L=R?i+1>>2:lA,K=R?(3*lA|0)+(i+-1>>2)|0:15,1<(0|cA)){for(q=A+18556|0,j=$,H=0;j=(cA=0==(0|ot(q,x+((H>>L)+K)|0)))?H:j,(0|(H=H+1|0))<(0|$)&(1^cA););for(P=43+(0|ar[V>>2])|0,x=$,H=0;x=(cA=0==(0|ot(q,P+((H>>L)+K)|0)))?H:x,(0|(H=H+1|0))<(0|$)&(1^cA););}else j=x=$;if(H=(j>>1)-1|0,3<(0|j)&&(j=(0|ut(A+18556|0,H))+((1&j|2)<<H)|0),H=(x>>1)-1|0,L=3<(0|x)?(0|ut(A+18556|0,H))+((1&x|2)<<H)|0:x,cA=AA<<16>>16==0){do{if(R){if(H=e>>(x=0|ar[fA+10408>>2]),x=r>>x,(0|H)<=-1&&sr(48482,48519,118,48539),(0|(P=0|ar[fA+10412>>2]))<=(0|H)&&sr(48482,48519,118,48539),(0|x)<=-1&&sr(48543,48519,119,48539),(0|x)<(0|ar[fA+10416>>2])){eA=(0|ar[fA+10400>>2])+((0|br(P,x))+H)|0,eA=0|tr[eA>>0];break}sr(48543,48519,119,48539)}else{if(H=e>>(x=0|ar[fA+10428>>2]),x=r>>x,(0|H)<=-1&&sr(48482,48519,118,48539),(0|(P=0|ar[fA+10432>>2]))<=(0|H)&&sr(48482,48519,118,48539),(0|x)<=-1&&sr(48543,48519,119,48539),(0|x)<(0|ar[fA+10436>>2])){eA=(0|ar[fA+10420>>2])+((0|br(P,x))+H)|0,eA=63&tr[eA>>0];break}sr(48543,48519,119,48539)}}while(0);H=(aA=2==(0|(x=0|function(A,e,r,i){e|=0,r|=0,i|=0;var f=0;switch(0|(A|=0)){case 2:break;case 3:f=2;break;default:return 0}return 2==(0|f)&&0|r&&3!=(0|ar[i+5012>>2])?0:0|((e+-6|0)>>>0<9?2:(e+-22|0)>>>0<9&1)}(i,255&eA,f,rA))))?j:L,j=aA?L:j}else x=0,H=L;G=0|_a(lA,x),aA=0|_a(2,x),M=iA,T=j,U=H,S=x,O=i,M|=0,T|=0,U|=0,O=(0|ar[7852+(24*(S|=0)|0)+((O|=0)<<2)>>2])+((U<<O)+T<<1)|0,O=cr[O>>0]|cr[O+1>>0]<<8,tr[M>>0]=O,tr[M+1>>0]=O>>8,C=0|tr[iA+1>>0],E=0|cr[iA>>0],vb(0|_,0,1<<lA<<lA|0),W=A+18556|(or[(X=A+14404+(f<<1)|0)>>1]=0),I=0!=(0|f)&1,u=0!=(0|x)&1,b=(255&C)-1|0,s=fA+5749|0,d=A+32|0,k=R?42:43,h=C<<24>>24!=0,w=0<(0|f),v=fA+10408|0,m=fA+10412|0,g=fA+10416|0,Z=fA+10400|0,p=fA+5750|0,y=fA+5936|0,B=fA+5755|0,o=A+18588+z|0,a=fA+10428|0,c=fA+10432|0,l=fA+10436|0,n=fA+10420|0,t=1<(255&C),z=1,oA=E,j=AA=0;A:for(;;){K=0|tr[G+(oA<<1)>>0],q=0|tr[G+(oA<<1)+1>>0],(0|oA)<(0|E)&0!=(0|oA)?(tA=1&(tA=0|cr[_+((x=(H=255&q)<<lA)+(P=255&K))>>0])|tA>>>1,0|ot(W,(0|ar[V>>2])+((R?tA:tA+2|0)+61)|0)?(L=1,bA=59):(x=1,H=0)):0==(0|oA)|(0|oA)==(0|E)?(L=0,H=x=255&q,x<<=lA,P=255&K,bA=59):H=x=0,59==(0|bA)&&(x=_+(P+-1+x)|(bA=0),K<<24>>24&&(tr[x>>0]=1|tr[x>>0]),H=_+((H+-1<<lA)+P)|0,H=(x=(q<<24>>24&&(tr[H>>0]=2|tr[H>>0]),L),1));do{if(H){if(tA=($=255&K)<<2,nA=(q&=255)<<2,q=0|ar[57308+(lA<<6)+(I<<5)+(u<<4)+(cr[_+((q<<lA)+$)>>0]<<2)>>2],($=(0|oA)==(0|E))?(or[Y>>1]=1,tr[N>>0]=1,tr[Q>>0]=C,t?(K=b,H=x,x=1,bA=67):(H=x,x=1)):(K=15,H=x,x=0,bA=67),67==(0|bA))for(;;){P=((bA=0)|cr[aA+(K<<1)>>0])+tA|0,L=(0|cr[aA+(K<<1)+1>>0])+nA|0;do{if(0|tr[s>>0]){if(0|tr[d>>0]){P=k;break}0|tr[uA>>0]?P=k:bA=70}else bA=70}while(0);if(70==(0|bA)&&(P=(bA=0)|cr[q+(P+(L<<i))>>0]),0|ot(W,(0|ar[V>>2])+(P+65)|0)&&(or[Y+(x<<1)>>1]=1,tr[N+x>>0]=1,tr[Q+x>>0]=K,x=x+1|(H=0)),!(1<(0|K)))break;K=K+-1|0,bA=67}do{if(h|1^$){if(0|H){or[Y+(x<<1)>>1]=1,fA=x+(tr[N+x>>0]=1)|(tr[Q+x>>0]=0);break}do{if(0|tr[s>>0]){if(0|tr[d>>0]){H=k;break}0|tr[uA>>0]?H=k:bA=78}else bA=78}while(0);if(78==(0|bA)&&(H=(bA=0)|cr[q+((nA<<i)+tA)>>0]),!(0|ot(W,(0|ar[V>>2])+(H+65)|0))){fA=x;break}or[Y+(x<<1)>>1]=1,fA=x+(tr[N+x>>0]=1)|(tr[Q+x>>0]=0)}else fA=x}while(0);if(fA){q=0==(0|z)|(w|0==(0|oA)?0:2),L=(0|fA)<8?fA:8,$=0<(0|fA);do{if($){if(K=q<<2,w)for(P=0,x=-1,z=1,H=AA;j=P?0<(0|j)?1==(0|H)?0:j+1|0:j:1,z=(H=0|ot(W,(0|ar[V>>2])+(((0|j)<3?j:3)+K+125)|0))?(or[(z=Y+(P<<1)|0)>>1]=1+(0|or[z>>1])<<16>>16,x=-1==(0|x)?P:x,0):((z+-1|(tr[N+P>>0]=0))>>>0<2&1)+z|0,(0|(P=P+1|0))<(0|L););else for(P=0,x=-1,z=1,H=AA;j=P?0<(0|j)?1==(0|H)?0:j+1|0:j:1,z=(H=0|ot(W,(0|ar[V>>2])+(((0|j)<3?j:3)+K+109)|0))?(or[(z=Y+(P<<1)|0)>>1]=1+(0|or[z>>1])<<16>>16,x=-1==(0|x)?P:x,0):((z+-1|(tr[N+P>>0]=0))>>>0<2&1)+z|0,(0|(P=P+1|0))<(0|L););if(-1==(0|x))break;iA=0|ot(W,(0|ar[V>>2])+((w?4|q:q)+133)|0),or[(rA=Y+(x<<1)|0)>>1]=(0|lr[rA>>1])+iA,tr[N+x>>0]=iA}else z=1,H=AA}while(0);if(R){if(x=e>>(P=0|ar[v>>2]),P=r>>P,(0|x)<=-1){bA=102;break A}if((0|(L=0|ar[m>>2]))<=(0|x)){bA=102;break A}if((0|P)<=-1){bA=105;break A}if((0|P)>=(0|ar[g>>2])){bA=105;break A}x=(0|ar[Z>>2])+((0|br(L,P))+x)|0,x=0|tr[x>>0]}else{if(x=e>>(P=0|ar[a>>2]),P=r>>P,(0|x)<=-1){bA=109;break A}if((0|(L=0|ar[c>>2]))<=(0|x)){bA=109;break A}if((0|P)<=-1){bA=112;break A}if((0|P)>=(0|ar[l>>2])){bA=112;break A}x=(0|ar[n>>2])+((0|br(L,P))+x)|0,x=63&tr[x>>0]}e:do{if(0|tr[d>>0])P=0;else{do{if(cA){if(!(0|tr[p>>0]))break;if((16|x)<<24>>24==26&0!=(0|tr[uA>>0])){P=0;break e}}}while(0);if(0|tr[F>>0]){P=0;break}P=3<((0|tr[Q>>0])-(0|tr[Q+(fA+-1)>>0])|0)&1}}while(0);if(iA=fA+-1|0,1<(0|fA))for(x=0;rA=255&(0|ct(W)),tr[D+x>>0]=rA,(0|(x=x+1|0))!=(0|iA););if(x=(rA=0!=(0|P))&0!=(0|tr[y>>0])?0:255&(0|ct(W)),tr[D+iA>>0]=x,x=0|tr[B>>0]?(0|cr[o>>0])>>>2&255:0,!$)break;$=1,P=eA=0;do{AA=0|or[Y+(eA<<1)>>1];do{if(0|tr[N+eA>>0]){for(K=-1;;){if(L=K+1|0,q=0|ct(W),63<(0|K)){q=0;break}if(!q){bA=130;break}K=L}if(130==(0|bA)&&(((bA=0)|L)<4?K=0|ut(W,x):(K=0|ut(W,(L=K+-2|0)+x|0),L=2+(1<<L)|0),q=(L<<x)+K|0),K=0==(0|tr[B>>0]),L=x+1|0,x=(3<<x|0)<(q+AA|0)?!K||(0|L)<4?L:4:x,K|1^$){$=0;break}if((3<<(K=(255&(L=0|tr[o>>0]))>>>2&255)|0)<=(0|q)){tr[o>>0]=L+1<<24>>24,$=0;break}if(L<<24>>24==0|(1<<K|0)<=(q<<1|0)){$=0;break}tr[o>>0]=L+-1<<24>>24,$=0}else q=0}while(0);K=q+AA|0,L=65535&(q=0==(0|tr[D+eA>>0])?K:0-(65535&K)|0);do{if(rA&0!=(0|tr[y>>0])){if((0|eA)!=(0|iA)|0==(1&(P=K+P|0)|0))break;L=0-q&65535}}while(0);AA=0|tr[Q+eA>>0],q=(0|cr[aA+(AA<<1)>>0])+tA|0,AA=(0|cr[aA+(AA<<1)+1>>0])+nA|0,or[A+2116+(f<<11)+(or[X>>1]<<1)>>1]=L,or[A+8260+(f<<11)+(or[X>>1]<<1)>>1]=q+(AA<<i),or[X>>1]=1+(0|or[X>>1])<<16>>16,eA=eA+1|0}while((0|eA)!=(0|fA))}else H=AA}else H=AA}while(0);if(!(0<(0|oA))){bA=54;break}oA=oA+-1|0,AA=H}return 54==(0|bA)?ur=J:102==(0|bA)?sr(48482,48519,118,48539):105==(0|bA)?sr(48543,48519,119,48539):109==(0|bA)?sr(48482,48519,118,48539):112==(0|bA)&&sr(48543,48519,119,48539),0}function Ha(A,e,r,i,f,n,t,o,a){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0;var c,l,u,b=0,s=0,d=0;if(c=0|ar[(l=(A|=0)+18596|0)>>2],u=0==(0|o)){do{if(t){if(o=0|br(0|ar[5780+c>>2],e),s=0|br(0|ar[5784+c>>2],r),o>>=b=0|ar[10428+c>>2],b=s>>b,(0|o)<=-1&&sr(48482,48519,118,48539),(0|(s=0|ar[10432+c>>2]))<=(0|o)&&sr(48482,48519,118,48539),(0|b)<=-1&&sr(48543,48519,119,48539),(0|b)<(0|ar[10436+c>>2])){d=(0|ar[10420+c>>2])+((0|br(s,b))+o)|0,d=63&tr[d>>0];break}sr(48543,48519,119,48539)}else{if(o=e>>(b=0|ar[10408+c>>2]),b=r>>b,(0|o)<=-1&&sr(48482,48519,118,48539),(0|(s=0|ar[10412+c>>2]))<=(0|o)&&sr(48482,48519,118,48539),(0|b)<=-1&&sr(48543,48519,119,48539),(0|b)<(0|ar[10416+c>>2])){d=(0|ar[10400+c>>2])+((0|br(s,b))+o)|0,d=0|tr[d>>0];break}sr(48543,48519,119,48539)}}while(0);Gt(c,e,r,b=34<(255&d)?1:255&d,n,t);do{if(0|tr[5750+(0|ar[l>>2])>>0]){if(0==(0|tr[A+32>>0])&&0==(0|tr[A+33+t>>0])){o=0;break}o=26==(16|b)}else o=0}while(0);o=26==(0|b)&o?2:1&o}else o=0|tr[A+36>>0]?0|tr[A+37>>0]?2:1:0;a?jn(A,e,r,i,f,n,t,0!=(0|tr[A+33+t>>0]),u,o):t&&0|ar[A+28>>2]&&jn(A,e,r,i,f,n,t,(or[A+14404+(t<<1)>>1]=0)!=(0|tr[A+33+t>>0]),u,0)}function xa(A,e,r,i){e|=0,r|=0,i|=0;var f,n,t=0,o=0,a=0,c=0,l=0,u=0;ur=(n=ur)+16|0,l=n,t=0|ot(c=(A|=0)+18556|0,150+(0|ar[(r=A+18580|0)>>2])|0),e=0|ot(c,150+(0|ar[r>>2])|0),o=(t=0==(0|t))?0:0|ot(c,151+(0|ar[r>>2])|0),a=(f=0==(0|e))?0:0|ot(c,151+(0|ar[r>>2])|0),t?(r=l,e=0,u=11):(t=o?0|bt(c,1):-1,o=0|ct(c),e=t+2|0,ar[l>>2]=e,o?(r=l,e=-2-t|0,u=11):o=e),11==(0|u)&&(o=ar[r>>2]=e);do{if(!f){if(t=a?0|bt(c,1):-1,u=0|ct(c),e=t+2|0,ar[(r=l+4|0)>>2]=e,u){e=-2-t|0;break}return u=e,c=65535&o,or[(l=A+18+(i<<2)|0)>>1]=c,u&=65535,or[(i=A+18+(i<<2)+2|0)>>1]=u,void(ur=n)}r=l+4|0,e=0}while(0);u=ar[r>>2]=e,c=65535&o,or[(l=A+18+(i<<2)|0)>>1]=c,u&=65535,or[(i=A+18+(i<<2)+2|0)>>1]=u,ur=n}function Pa(A,e,r){A|=0;var i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;if(l=0|tr[(r|=0)+93784+(4400*(0|ar[(e|=0)+8>>2])|0)+2>>0],d=0|it(A),7<(tr[(a=e+380|0)>>0]=d)>>>0)return(w=0)|w;d=r+11096+(5168*l|0)+476|0;do{if(0|ar[d>>2]){if(c=0|ft(A),7<(c=(0|cr[a>>0])+c|0)>>>0)return(w=0)|w;tr[(s=e+381|0)>>0]=c;break}s=e+381|0}while(0);n=e+332|0,t=e+328|0,o=r+11096+(5168*l|0)+5164|0,i=r+11096+(5168*l|0)+5160|0,f=e+20|0,b=0;A:for(;;){if(c=0==(0|b))w=10;else if(1==(0|b)){if(0|ar[f>>2]){c=1,w=27;break}w=10}if(10==(0|w)&&(h=(w=0)<(0|(k=0|ar[(c?t:n)>>2])))){for(c=0;u=255&(0|At(A,1)),tr[e+382+(b<<4)+c>>0]=u,(0|(c=c+1|0))!=(0|k););if(0!=(0|ar[d>>2])&h)for(c=0;u=255&(0|At(A,1)),tr[e+414+(b<<4)+c>>0]=u,(0|(c=c+1|0))!=(0|k););if(h){u=0;do{if(0|tr[e+382+(b<<4)+u>>0]){if(255<((c=0|ft(A))+128|0)>>>0){c=0,w=27;break A}if(or[e+446+(b<<5)+(u<<1)>>1]=(1<<cr[a>>0])+c,c=0|ft(A),!((0-(l=0|ar[i>>2])|0)<=(0|c)&(0|c)<(0|l))){c=0,w=27;break A}c&=255}else or[e+446+(b<<5)+(u<<1)>>1]=1<<cr[a>>0],c=0;if(tr[e+510+(b<<4)+u>>0]=c,0|tr[e+414+(b<<4)+u>>0]){if(255<((c=0|ft(A))+128|0)>>>0){c=0,w=27;break A}if(or[(l=e+542+(b<<6)+(u<<2)|0)>>1]=(1<<cr[s>>0])+c,c=0|ft(A),r=0|ar[o>>2],!((0|c)>=(0|br(r,-4))&(0|c)<(r<<2|0))){c=0,w=27;break A}if(c=r+c-((l=0|br(0|or[l>>1],r))>>cr[s>>0])|0,l=0-r|0,tr[e+670+(b<<5)+(u<<1)>>0]=(0|c)<(0|l)?l:(0|c)<(0|r)?c:r+255|0,255<((c=0|ft(A))+128|0)>>>0){c=0,w=27;break A}if(or[(l=e+542+(b<<6)+(u<<2)+2|0)>>1]=(1<<cr[s>>0])+c,c=0|ft(A),r=0|ar[o>>2],!((0|c)>=(0|br(r,-4))&(0|c)<(r<<2|0))){c=0,w=27;break A}c=255&((0|(c=r+c-((l=0|br(0|or[l>>1],r))>>cr[s>>0])|0))<(0|(l=0-r|0))?l:(0|c)<(0|r)?c:r+255|0)}else c=1<<cr[s>>0]&65535,or[e+542+(b<<6)+(u<<2)>>1]=c,tr[e+670+(b<<5)+(u<<1)>>0]=0,or[e+542+(b<<6)+(u<<2)+2>>1]=c,c=0;tr[e+670+(b<<5)+(u<<1)+1>>0]=c,u=u+1|0}while((0|u)<(0|k))}}if(2<=(0|(b=b+1|0))){c=1,w=27;break}}return 27==(0|w)?0|c:0}function La(A){var e=0,r=0,i=0;for(ar[(A|=0)>>2]=0,tr[A+4>>0]=0,tr[A+5>>0]=0,ar[A+8>>2]=0,e=A+16|(tr[A+12>>0]=0),ar[A+28>>2]=0,tr[A+32>>0]=0,ar[e>>2]=0,ar[e+4>>2]=0,gc(A+34|(or[e+8>>1]=0)),ar[A+136>>2]=0,ar[A+140>>2]=0,e=ar[A+144>>2]=0;tr[A+148+e>>0]=0,ar[A+164+(e<<2)>>2]=0,tr[A+228+e>>0]=0,16!=((tr[A+244+e>>0]=0)|(e=e+1|(ar[A+260+(e<<2)>>2]=0))););for(e=A+324|0,ar[A+376>>2]=0,tr[A+380>>0]=0,i=(r=e)+48|(tr[A+381>>0]=0);(0|(r=r+4|(ar[r>>2]=0)))<(0|i););for(e=tr[e+48>>0]=0;tr[A+382+e>>0]=0,tr[A+414+e>>0]=0,or[A+446+(e<<1)>>1]=0,tr[A+510+e>>0]=0,or[A+542+(e<<2)+2>>1]=0,or[A+542+(e<<2)>>1]=0,16!=((tr[A+670+(e<<1)+1>>0]=0)|(e=e+1|(tr[A+670+(e<<1)>>0]=0))););for(e=0;tr[A+398+e>>0]=0,tr[A+430+e>>0]=0,or[A+478+(e<<1)>>1]=0,tr[A+526+e>>0]=0,or[A+606+(e<<2)+2>>1]=0,or[A+606+(e<<2)>>1]=0,16!=((tr[A+702+(e<<1)+1>>0]=0)|(e=e+1|(tr[A+702+(e<<1)>>0]=0))););for(r=A+736|0,ar[A+756>>2]=0,ar[A+760>>2]=0,tr[A+764>>0]=0,ar[A+768>>2]=0,ar[A+772>>2]=0,ar[r>>2]=0,ar[r+4>>2]=0,ar[r+8>>2]=0,ar[r+12>>2]=0,or[r+16>>1]=0,r=(tr[r+18>>0]=0)|ar[A+776>>2],(0|(e=0|ar[(i=A+780|0)>>2]))!=(0|r)&&(ar[i>>2]=e+(~((e+-4-r|0)>>>2)<<2)),ar[(e=A+788|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,gc(A+812|(ar[e+20>>2]=0)),e=ar[A+912>>2]=0;ar[A+916+(e<<6)>>2]=0,ar[A+1044+(e<<6)>>2]=0,ar[A+1172+(e<<6)>>2]=0,tr[A+1300+(e<<4)>>0]=0,ar[A+916+(e<<6)+4>>2]=0,ar[A+1044+(e<<6)+4>>2]=0,ar[A+1172+(e<<6)+4>>2]=0,tr[A+1300+(e<<4)+1>>0]=0,ar[A+916+(e<<6)+8>>2]=0,ar[A+1044+(e<<6)+8>>2]=0,ar[A+1172+(e<<6)+8>>2]=0,tr[A+1300+(e<<4)+2>>0]=0,ar[A+916+(e<<6)+12>>2]=0,ar[A+1044+(e<<6)+12>>2]=0,ar[A+1172+(e<<6)+12>>2]=0,tr[A+1300+(e<<4)+3>>0]=0,ar[A+916+(e<<6)+16>>2]=0,ar[A+1044+(e<<6)+16>>2]=0,ar[A+1172+(e<<6)+16>>2]=0,tr[A+1300+(e<<4)+4>>0]=0,ar[A+916+(e<<6)+20>>2]=0,ar[A+1044+(e<<6)+20>>2]=0,ar[A+1172+(e<<6)+20>>2]=0,tr[A+1300+(e<<4)+5>>0]=0,ar[A+916+(e<<6)+24>>2]=0,ar[A+1044+(e<<6)+24>>2]=0,ar[A+1172+(e<<6)+24>>2]=0,tr[A+1300+(e<<4)+6>>0]=0,ar[A+916+(e<<6)+28>>2]=0,ar[A+1044+(e<<6)+28>>2]=0,ar[A+1172+(e<<6)+28>>2]=0,tr[A+1300+(e<<4)+7>>0]=0,ar[A+916+(e<<6)+32>>2]=0,ar[A+1044+(e<<6)+32>>2]=0,ar[A+1172+(e<<6)+32>>2]=0,tr[A+1300+(e<<4)+8>>0]=0,ar[A+916+(e<<6)+36>>2]=0,ar[A+1044+(e<<6)+36>>2]=0,ar[A+1172+(e<<6)+36>>2]=0,tr[A+1300+(e<<4)+9>>0]=0,ar[A+916+(e<<6)+40>>2]=0,ar[A+1044+(e<<6)+40>>2]=0,ar[A+1172+(e<<6)+40>>2]=0,tr[A+1300+(e<<4)+10>>0]=0,ar[A+916+(e<<6)+44>>2]=0,ar[A+1044+(e<<6)+44>>2]=0,ar[A+1172+(e<<6)+44>>2]=0,tr[A+1300+(e<<4)+11>>0]=0,ar[A+916+(e<<6)+48>>2]=0,ar[A+1044+(e<<6)+48>>2]=0,ar[A+1172+(e<<6)+48>>2]=0,tr[A+1300+(e<<4)+12>>0]=0,ar[A+916+(e<<6)+52>>2]=0,ar[A+1044+(e<<6)+52>>2]=0,ar[A+1172+(e<<6)+52>>2]=0,tr[A+1300+(e<<4)+13>>0]=0,ar[A+916+(e<<6)+56>>2]=0,ar[A+1044+(e<<6)+56>>2]=0,ar[A+1172+(e<<6)+56>>2]=0,tr[A+1300+(e<<4)+14>>0]=0,ar[A+916+(e<<6)+60>>2]=0,ar[A+1044+(e<<6)+60>>2]=0,2!=((ar[A+1172+(e<<6)+60>>2]=0)|(e=e+1|(tr[A+1300+(e<<4)+15>>0]=0))););e=0|ar[A+1344>>2],(0|(i=0|ar[(r=A+1348|0)>>2]))!=(0|e)&&(ar[r>>2]=i+(~((i+-4-e|0)>>>2)<<2)),tr[(A=A+1340|0)>>0]=0}function Ka(){var A=0,e=0,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0;if(!(A=0|yc(11296)))return(g=0)|g;vb(0|A,-1,11296),ar[14327]=A,ar[14328]=A,ar[14329]=A,ar[14330]=A,ar[14331]=A,ar[14332]=A,ar[14333]=A,b=(ar[14334]=A)+16|0,ar[14335]=b,ar[14336]=b,ar[14337]=b,ar[14338]=b,ar[14339]=b,ar[14340]=b,ar[14341]=b,ar[14342]=b,ar[14343]=A+32,ar[14344]=A+96,ar[14345]=A+160,ar[14346]=A+224,ar[14347]=A+288,ar[14348]=A+352,ar[14349]=A+416,ar[14350]=A+480,ar[14351]=A+544,ar[14352]=A+608,ar[14353]=A+672,ar[14354]=A+736,ar[14355]=A+800,ar[14356]=A+864,ar[14357]=A+928,ar[14358]=A+992,b=A+1056|0,ar[14359]=b,ar[14363]=b,b=A+1312|0,ar[14360]=b,ar[14364]=b,b=A+1568|0,ar[14361]=b,ar[14365]=b,b=A+1824|0,ar[14362]=b,ar[14366]=b,b=A+2080|0,ar[14367]=b,ar[14371]=b,b=A+2336|0,ar[14368]=b,ar[14372]=b,b=A+2592|0,ar[14369]=b,ar[14373]=b,b=A+2848|0,ar[14370]=b,ar[14374]=b,b=A+3104|0,ar[14375]=b,ar[14379]=b,b=A+4128|0,ar[14376]=b,ar[14380]=b,b=A+5152|0,ar[14377]=b,ar[14381]=b,b=A+6176|0,ar[14378]=b,ar[14382]=b,b=A+7200|0,ar[14383]=b,ar[14387]=b,b=A+8224|0,ar[14384]=b,ar[14388]=b,b=A+9248|0,ar[14385]=b,ar[14389]=b,b=A+10272|0,ar[14386]=b,ar[14390]=b,b=2;A:for(;;){d=1==(0|(h=(s=1<<b)>>2)),k=b+-2|0,h=2==(0|h),u=0;do{w=0==(0|u),l=0;do{v=0==(0|l)?9:15,c=0;do{m=57308+(k<<6)+(u<<5)+(l<<4)+(c<<2)|0,a=0;do{if(i=a<<2,g=a<<b,f=0-a|0,n=a>>2,o=0==(0|(t=3&a))?2:1==(0|t)&1,d){e=0;do{if(A=0|cr[41489+(e+i)>>0],A=w?A:A+27|0,r=(0|ar[m>>2])+(e+g)|0,!((o=0|tr[r>>0])<<24>>24==-1|(255&o|0)==(0|A))){e=28;break A}tr[r>>0]=A,e=e+1|0}while((0|e)<(0|s))}else{r=0;do{do{if((0|r)!=(0|f)){switch(e=r>>2,A=3&r,0|c){case 0:A=2<(A=A+t|0)>>>0?0:0|A?1:2;break;case 1:A=o;break;case 2:A=0==(0|A)?2:1==(0|A)&1;break;default:A=2}if(w){if(A=0<(e+n|0)?A+3|0:A,h){A=A+v|0;break}A=A+21|0;break}if(h){A=A+9|0;break}A=A+12|0;break}A=0}while(0);if(A=w?A:A+27|0,e=(0|ar[m>>2])+(r+g)|0,!((i=0|tr[e>>0])<<24>>24==-1|(255&i|0)==(0|A))){e=28;break A}tr[e>>0]=A,r=r+1|0}while((0|r)<(0|s))}a=a+1|0}while((0|a)<(0|s));c=c+1|0}while((0|c)<4);l=l+1|0}while((0|l)<2);u=u+1|0}while((0|u)<2);if(6<=(0|(b=b+1|0))){A=1,e=30;break}}if(28==(0|e))sr(41505,39242,2100,41581);else if(30==(0|e))return 0|A;return 0}function qa(){Bc(0|ar[14327]),ar[14327]=0}function $a(A){var e,r=0;for(ar[(A|=0)+4720>>2]=0,ar[A+4724>>2]=0,function(A){var e,r=0,i=0;for(tr[(A|=0)>>0]=0,or[(r=A+2|0)>>1]=0,or[r+2>>1]=0,or[r+4>>1]=0,tr[r+6>>0]=0,ar[A+12>>2]=5,tr[A+16>>0]=0,tr[A+17>>0]=0,tr[A+18>>0]=2,tr[A+19>>0]=2,tr[A+20>>0]=2,ar[A+48>>2]=0,ar[A+52>>2]=0,r=A+60|(tr[A+56>>0]=0),e=(i=A+21|0)+24|0;(0|(i=i+1|(tr[i>>0]=0)))<(0|e););ar[r>>2]=1,tr[A+64>>0]=0,tr[A+65>>0]=0,tr[A+66>>0]=0,tr[A+67>>0]=1,tr[A+68>>0]=0,or[A+70>>1]=0,tr[A+72>>0]=2,tr[A+73>>0]=1,tr[A+74>>0]=15,tr[A+75>>0]=15}(A+4904|(ar[A+4728>>2]=0)),e=(r=A+4984|0)+9|0;(0|(r=r+1|(tr[r>>0]=0)))<(0|e););tr[A>>0]=0}function Ac(A){var e,r;(r=0|ar[(A|=0)+4720>>2])&&((0|(e=0|ar[(A=A+4724|0)>>2]))!=(0|r)&&(ar[A>>2]=e+(100*~(((e-100-r|0)>>>0)/100|0)|0)),vu(r))}function ec(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0;ur=(t=ur)+6240|0,n=(f=t)+96|0,l=0;A:for(;;){k=(d=3==(0|l))?2:6,w=3!=(0|l),b=(h=0==(0|l))?16:64,s=1<(0|l),u=0;do{c=n+(u<<10)|0,o=d&1==(0|u);do{if(!((255&(0|At(A,1)))<<24>>24)){if(-99999==(0|(e=0|it(A)))|(0|u)<(0|e)){a=31;break A}if(ar[(i=f+(24*l|0)+(u<<2)|0)>>2]=16,0|e){if(!(w|1==(0|e))){a=13;break A}hb(0|c,n+((o=u-e|0)<<10)|0,0|b),o=0|ar[f+(24*l|0)+(o<<2)>>2],ar[i>>2]=o,a=21;break}if(h){for(i=41646,o=(e=c)+16|0;tr[e>>0]=0|tr[i>>0],i=i+1|0,(0|(e=e+1|0))<(0|o););a=22;break}if((0|u)<3&(1^o)){for(i=41662,o=(e=c)+64|0;tr[e>>0]=0|tr[i>>0],i=i+1|0,(0|(e=e+1|0))<(0|o););o=16,a=21;break}for(i=41726,o=(e=c)+64|0;tr[e>>0]=0|tr[i>>0],i=i+1|0,(0|(e=e+1|0))<(0|o););o=16,a=21;break}if(s){if(254<((e=0|ft(A))+7|0)>>>0){a=31;break A}o=e+8|0,e=ar[f+(24*l|0)+(u<<2)>>2]=o}else e=8,o=16;for(a=0;;){if(255<((i=0|ft(A))+128|0)>>>0){a=31;break A}if(e=(e+256+i|0)%256|0,tr[n+(u<<10)+a>>0]=e,(0|b)<=(0|(a=a+1|0))){a=21;break}}}while(0);e:do{if(21==(0|a))switch((a=0)|l){case 0:a=22;break e;case 1:for(i=0|_a(3,0),e=0;tr[((0|cr[i+(e<<1)+1>>0])<<3)+(0|cr[i+(e<<1)>>0])+(r+96+(u<<6))>>0]=0|tr[n+(u<<10)+e>>0],64!=(0|(e=e+1|0)););break;case 2:for(i=0|_a(3,0),e=0;c=i+(e<<1)|0,v=i+(e<<1)+1|0,m=0|tr[n+(u<<10)+e>>0],tr[((0|cr[v>>0])<<5)+((0|cr[c>>0])<<1)+(r+480+(u<<8))>>0]=m,tr[((0|cr[c>>0])<<1|1)+((0|cr[v>>0])<<5)+(r+480+(u<<8))>>0]=m,tr[((0|cr[v>>0])<<5|16)+((0|cr[c>>0])<<1)+(r+480+(u<<8))>>0]=m,tr[((0|cr[v>>0])<<5|16)+((0|cr[c>>0])<<1|1)+(r+480+(u<<8))>>0]=m,64!=(0|(e=e+1|0)););tr[r+480+(u<<8)>>0]=o;break e;case 3:fc(m=r+2016+(u<<10)|0,c,3),tr[m>>0]=o;break e;default:break e}}while(0);if(22==(0|a))for(i=0|_a(2,0),e=0;tr[((0|cr[i+(e<<1)+1>>0])<<2)+(0|cr[i+(e<<1)>>0])+(r+(u<<4))>>0]=0|tr[n+(u<<10)+e>>0],16!=(0|(e=e+1|0)););u=u+1|0}while((0|u)<(0|k));if(4<=(0|(l=l+1|0))){e=0,a=32;break}}if(13==(0|a))sr(41810,41639,873,41847);else{if(31==(0|a))return ur=t,0|(m=8);if(32==(0|a))return ur=t,0|e}return 0}function rc(A){A|=0;var e=0,r=0,i=0,f=0,n=0,t=0,o=0;for(r=0|_a(2,0),e=0;tr[A+(((0|cr[r+(e<<1)+1>>0])<<2)+(0|cr[r+(e<<1)>>0]))>>0]=0|tr[41646+e>>0],16!=(0|(e=e+1|0)););for(r=0|_a(2,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<2)+(0|cr[r+(e<<1)>>0])+(A+16)>>0]=0|tr[41646+e>>0],16!=(0|(e=e+1|0)););for(r=0|_a(2,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<2)+(0|cr[r+(e<<1)>>0])+(A+32)>>0]=0|tr[41646+e>>0],16!=(0|(e=e+1|0)););for(r=0|_a(2,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<2)+(0|cr[r+(e<<1)>>0])+(A+48)>>0]=0|tr[41646+e>>0],16!=(0|(e=e+1|0)););for(r=0|_a(2,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<2)+(0|cr[r+(e<<1)>>0])+(A+64)>>0]=0|tr[41646+e>>0],16!=(0|(e=e+1|0)););for(r=0|_a(2,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<2)+(0|cr[r+(e<<1)>>0])+(A+80)>>0]=0|tr[41646+e>>0],16!=(0|(e=e+1|0)););for(r=0|_a(3,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<3)+(0|cr[r+(e<<1)>>0])+(A+96)>>0]=0|tr[41662+e>>0],64!=(0|(e=e+1|0)););for(r=0|_a(3,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<3)+(0|cr[r+(e<<1)>>0])+(A+288)>>0]=0|tr[41726+e>>0],64!=(0|(e=e+1|0)););for(r=0|_a(3,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<3)+(0|cr[r+(e<<1)>>0])+(A+160)>>0]=0|tr[41662+e>>0],64!=(0|(e=e+1|0)););for(r=0|_a(3,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<3)+(0|cr[r+(e<<1)>>0])+(A+352)>>0]=0|tr[41726+e>>0],64!=(0|(e=e+1|0)););for(r=0|_a(3,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<3)+(0|cr[r+(e<<1)>>0])+(A+224)>>0]=0|tr[41662+e>>0],64!=(0|(e=e+1|0)););for(r=0|_a(3,0),e=0;tr[((0|cr[r+(e<<1)+1>>0])<<3)+(0|cr[r+(e<<1)>>0])+(A+416)>>0]=0|tr[41726+e>>0],64!=(0|(e=e+1|0)););f=0;do{for(r=0|_a(3,0),e=0;i=r+(e<<1)|0,t=41662+e|0,tr[((0|cr[(n=r+(e<<1)+1|0)>>0])<<5)+((0|cr[i>>0])<<1)+(A+480+(f<<8))>>0]=0|tr[t>>0],tr[((0|cr[i>>0])<<1|1)+((0|cr[n>>0])<<5)+(A+480+(f<<8))>>0]=0|tr[t>>0],tr[((0|cr[n>>0])<<5|16)+((0|cr[i>>0])<<1)+(A+480+(f<<8))>>0]=0|tr[t>>0],tr[((0|cr[n>>0])<<5|16)+((0|cr[i>>0])<<1|1)+(A+480+(f<<8))>>0]=0|tr[t>>0],64!=(0|(e=e+1|0)););for(r=f+3|0,i=0|_a(3,0),e=0;t=i+(e<<1)|0,o=41726+e|0,tr[((0|cr[(n=i+(e<<1)+1|0)>>0])<<5)+((0|cr[t>>0])<<1)+(A+480+(r<<8))>>0]=0|tr[o>>0],tr[((0|cr[t>>0])<<1|1)+((0|cr[n>>0])<<5)+(A+480+(r<<8))>>0]=0|tr[o>>0],tr[((0|cr[n>>0])<<5|16)+((0|cr[t>>0])<<1)+(A+480+(r<<8))>>0]=0|tr[o>>0],tr[((0|cr[n>>0])<<5|16)+((0|cr[t>>0])<<1|1)+(A+480+(r<<8))>>0]=0|tr[o>>0],64!=(0|(e=e+1|0)););f=f+1|0}while(3!=(0|f));fc(A+2016|0,41662,3),fc(A+3040|0,41726,3)}function ic(A,e,r){return A|=0,e|=0,e=255&(0|At(r|=0,1)),tr[A>>0]=e,e=255&(0|At(r,1)),tr[A+1>>0]=e,e=255&(0|At(r,1)),tr[A+2>>0]=e,e=255&(0|At(r,1)),tr[A+3>>0]=e,e=255&(0|At(r,1)),tr[A+4>>0]=e,e=255&(0|At(r,1)),tr[A+5>>0]=e,e=255&(0|At(r,1)),tr[A+6>>0]=e,e=255&(0|At(r,1)),tr[A+7>>0]=e,r=255&(0|At(r,1)),tr[A+8>>0]=r,0}function fc(A,e,r){A|=0,e|=0;var i=0,f=0,n=0,t=0,o=0;switch(0|(r|=0)){case 0:for(i=0|_a(2,0),r=0;tr[A+(((0|cr[i+(r<<1)+1>>0])<<2)+(0|cr[i+(r<<1)>>0]))>>0]=0|tr[e+r>>0],16!=(0|(r=r+1|0)););return;case 1:for(i=0|_a(3,0),r=0;tr[A+(((0|cr[i+(r<<1)+1>>0])<<3)+(0|cr[i+(r<<1)>>0]))>>0]=0|tr[e+r>>0],64!=(0|(r=r+1|0)););return;case 2:for(i=0|_a(3,0),r=0;o=i+(r<<1)+1|0,n=e+r|0,tr[A+(((0|cr[(t=i+(r<<1)|0)>>0])<<1)+((0|cr[o>>0])<<5))>>0]=0|tr[n>>0],tr[A+(((0|cr[t>>0])<<1|1)+((0|cr[o>>0])<<5))>>0]=0|tr[n>>0],tr[A+(((0|cr[t>>0])<<1)+((0|cr[o>>0])<<5|16))>>0]=0|tr[n>>0],tr[A+(((0|cr[t>>0])<<1|1)+((0|cr[o>>0])<<5|16))>>0]=0|tr[n>>0],64!=(0|(r=r+1|0)););return;case 3:f=0|_a(3,0),i=0;do{for(n=f+(i<<1)|0,t=f+(i<<1)+1|0,o=e+i|0,r=0;tr[A+(((0|cr[n>>0])<<2)+(((0|cr[t>>0])<<2)+r<<5))>>0]=0|tr[o>>0],tr[A+(((0|cr[n>>0])<<2|1)+(((0|cr[t>>0])<<2)+r<<5))>>0]=0|tr[o>>0],tr[A+(((0|cr[n>>0])<<2|2)+(((0|cr[t>>0])<<2)+r<<5))>>0]=0|tr[o>>0],tr[A+(((0|cr[n>>0])<<2|3)+(((0|cr[t>>0])<<2)+r<<5))>>0]=0|tr[o>>0],4!=(0|(r=r+1|0)););i=i+1|0}while(64!=(0|i));return;default:sr(44456,41639,810,41790)}}function nc(A,e,r,i,f){A|=0,e|=0,i|=0;var n,t=0,o=0,a=0,c=0,l=0;if(ur=(n=ur)+144|0,c=n,4==(0|(r|=0))|1==(0|(f|=0)))ur=n;else{switch(f=(0|(l=(0|f)<26?26-f|0:f+-26|0))<(0|(f=(0|f)<10?10-f|0:f+-10|0))?l:f,0|r){case 8:t=7;break;case 16:t=1;break;case 32:t=0;break;default:sr(55739,48289,518,48361)}if((0|f)<=(0|t))ur=n;else{if(f=32==(0|r)&(0==(0|i)&0!=(0|tr[A+5665>>0]))&&(o=0|cr[e>>0],(0|((0|(l=(0|cr[e+64>>0])+o-(cr[e+32>>0]<<1)|0))<0?0-l|0:l))<(0|(a=1<<(0|ar[A+1276>>2])-5)))?(0|((0|(f=(0|cr[e+-64>>0])+o-(cr[e+-32>>0]<<1)|0))<0?0-f|0:f))<(0|a):0,i=c+64|0,a=0|br(r,-2),tr[i+a>>0]=0|tr[e+a>>0],tr[i+(a=r<<1)>>0]=0|tr[e+a>>0],f)for(t=0|tr[e>>0],tr[i>>0]=t,t&=255,A=(0|cr[e+-64>>0])-t|0,o=(0|cr[e+64>>0])-t|0,f=1;l=((32+(0|br(A,f))|0)>>>6)+t&255,tr[i+(0-f)>>0]=l,l=((32+(0|br(o,f))|0)>>>6)+t&255,tr[i+f>>0]=l,64!=(0|(f=f+1|0)););else if((0|(f=1-a|0))<(0|a))for(f=0|tr[e+(t=f)>>0];c=f,f=0|tr[e+(t=(l=t)+1|0)>>0],tr[i+l>>0]=(2+(255&f)+((255&c)<<1)+(0|cr[e+(l+-1)>>0])|0)>>>2,(0|t)!=(0|a););hb(e+(l=0-a|0)|0,i+l|0,r<<2|1),ur=n}}}function tc(A,e,r,i,f){A|=0,e|=0,i|=0;var n,t=0,o=0,a=0,c=0,l=0;if(ur=(n=ur)+272|0,c=n,4==(0|(r|=0))|1==(0|(f|=0)))ur=n;else{switch(f=(0|(l=(0|f)<26?26-f|0:f+-26|0))<(0|(f=(0|f)<10?10-f|0:f+-10|0))?l:f,0|r){case 8:t=7;break;case 16:t=1;break;case 32:t=0;break;default:sr(55739,48289,518,48361)}if((0|f)<=(0|t))ur=n;else{if(f=32==(0|r)&(0==(0|i)&0!=(0|tr[A+5665>>0]))&&(o=0|lr[e>>1],(0|((0|(l=(0|lr[e+128>>1])+o-(lr[e+64>>1]<<1)|0))<0?0-l|0:l))<(0|(a=1<<(0|ar[A+1276>>2])-5)))?(0|((0|(f=(0|lr[e+-128>>1])+o-(lr[e+-64>>1]<<1)|0))<0?0-f|0:f))<(0|a):0,i=c+128|0,a=0|br(r,-2),or[i+(a<<1)>>1]=0|or[e+(a<<1)>>1],or[i+((a=r<<1)<<1)>>1]=0|or[e+(a<<1)>>1],f)for(t=0|or[e>>1],or[i>>1]=t,t&=65535,A=(0|lr[e+-128>>1])-t|0,o=(0|lr[e+128>>1])-t|0,f=1;l=((32+(0|br(A,f))|0)>>>6)+t&65535,or[i+(0-f<<1)>>1]=l,l=((32+(0|br(o,f))|0)>>>6)+t&65535,or[i+(f<<1)>>1]=l,64!=(0|(f=f+1|0)););else if((0|(f=1-a|0))<(0|a))for(f=0|or[e+((t=f)<<1)>>1];c=f,f=0|or[e+((t=(l=t)+1|0)<<1)>>1],or[i+(l<<1)>>1]=(2+(65535&f)+((65535&c)<<1)+(0|lr[e+(l+-1<<1)>>1])|0)>>>2,(0|t)!=(0|a););hb(e+((l=0-a|0)<<1)|0,i+(l<<1)|0,r<<3|2),ur=n}}}function oc(A){ar[(A|=0)+8>>2]=1732584193,ar[A+12>>2]=-271733879,ar[A+16>>2]=-1732584194,ar[A+20>>2]=271733878,ar[A>>2]=0,ar[A+4>>2]=0}function ac(A,e,r){e|=0,r|=0;var i,f,n=0,t=0;f=(t=0|ar[(A|=0)>>2])+r&536870911,ar[A>>2]=f,n=0|ar[(i=A+4|0)>>2],f>>>0<t>>>0&&(n=n+1|0,ar[i>>2]=n),ar[i>>2]=n+(r>>>29),n=63&t;do{if(n){if(t=64-n|0,n=A+24+n|0,t>>>0<=r>>>0){hb(0|n,0|e,0|t),cc(A,A+24|0,64),e=e+t|0,r=r-t|0;break}return void hb(0|n,0|e,0|r)}}while(0);63<r>>>0&&(e=0|cc(A,e,-64&r),r&=63),hb(A+24|0,0|e,0|r)}function cc(A,e,r){e|=0,r|=0;var i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0;for(g=(A|=0)+12|0,Z=A+16|0,p=A+20|0,f=A+88|0,n=A+92|0,t=A+96|0,o=A+100|0,a=A+104|0,c=A+108|0,l=A+112|0,u=A+116|0,b=A+120|0,s=A+124|0,d=A+128|0,k=A+132|0,h=A+136|0,w=A+140|0,v=A+144|0,i=A+148|0,A=0|ar[(m=A+8|0)>>2],y=0|ar[g>>2],B=0|ar[p>>2],E=0|ar[Z>>2];X=(0|cr[e+1>>0])<<8|0|cr[e>>0]|(0|cr[e+2>>0])<<16|(0|cr[e+3>>0])<<24,X=((X=A+-680876936+(y&(B^E)^B)+(ar[f>>2]=X)|0)<<7|X>>>25)+y|0,W=(0|cr[e+5>>0])<<8|0|cr[e+4>>0]|(0|cr[e+6>>0])<<16|(0|cr[e+7>>0])<<24,W=((W=B+-389564586+(ar[n>>2]=W)+(X&(y^E)^E)|0)<<12|W>>>20)+X|0,I=(0|cr[e+9>>0])<<8|0|cr[e+8>>0]|(0|cr[e+10>>0])<<16|(0|cr[e+11>>0])<<24,I=((I=E+606105819+(ar[t>>2]=I)+(W&(X^y)^y)|0)<<17|I>>>15)+W|0,j=(0|cr[e+13>>0])<<8|0|cr[e+12>>0]|(0|cr[e+14>>0])<<16|(0|cr[e+15>>0])<<24,j=((j=y+-1044525330+(ar[o>>2]=j)+(I&(W^X)^X)|0)<<22|j>>>10)+I|0,Y=(0|cr[e+17>>0])<<8|0|cr[e+16>>0]|(0|cr[e+18>>0])<<16|(0|cr[e+19>>0])<<24,Y=((Y=X+-176418897+(ar[a>>2]=Y)+(j&(I^W)^W)|0)<<7|Y>>>25)+j|0,X=(0|cr[e+21>>0])<<8|0|cr[e+20>>0]|(0|cr[e+22>>0])<<16|(0|cr[e+23>>0])<<24,X=((X=W+1200080426+(ar[c>>2]=X)+(Y&(j^I)^I)|0)<<12|X>>>20)+Y|0,W=(0|cr[e+25>>0])<<8|0|cr[e+24>>0]|(0|cr[e+26>>0])<<16|(0|cr[e+27>>0])<<24,W=((W=I+-1473231341+(ar[l>>2]=W)+(X&(Y^j)^j)|0)<<17|W>>>15)+X|0,I=(0|cr[e+29>>0])<<8|0|cr[e+28>>0]|(0|cr[e+30>>0])<<16|(0|cr[e+31>>0])<<24,I=((I=j+-45705983+(ar[u>>2]=I)+(W&(X^Y)^Y)|0)<<22|I>>>10)+W|0,j=(0|cr[e+33>>0])<<8|0|cr[e+32>>0]|(0|cr[e+34>>0])<<16|(0|cr[e+35>>0])<<24,j=((j=Y+1770035416+(ar[b>>2]=j)+(I&(W^X)^X)|0)<<7|j>>>25)+I|0,Y=(0|cr[e+37>>0])<<8|0|cr[e+36>>0]|(0|cr[e+38>>0])<<16|(0|cr[e+39>>0])<<24,X=((X=(ar[s>>2]=Y)+-1958414417+X+(j&(I^W)^W)|0)<<12|X>>>20)+j|0,Y=(0|cr[e+41>>0])<<8|0|cr[e+40>>0]|(0|cr[e+42>>0])<<16|(0|cr[e+43>>0])<<24,W=((W=(ar[d>>2]=Y)+-42063+W+(X&(j^I)^I)|0)<<17|W>>>15)+X|0,Y=(0|cr[e+45>>0])<<8|0|cr[e+44>>0]|(0|cr[e+46>>0])<<16|(0|cr[e+47>>0])<<24,I=((I=(ar[k>>2]=Y)+-1990404162+I+(W&(X^j)^j)|0)<<22|I>>>10)+W|0,Y=(0|cr[e+49>>0])<<8|0|cr[e+48>>0]|(0|cr[e+50>>0])<<16|(0|cr[e+51>>0])<<24,j=((j=(ar[h>>2]=Y)+1804603682+j+(I&(W^X)^X)|0)<<7|j>>>25)+I|0,Y=(0|cr[e+53>>0])<<8|0|cr[e+52>>0]|(0|cr[e+54>>0])<<16|(0|cr[e+55>>0])<<24,X=((X=(ar[w>>2]=Y)+-40341101+X+(j&(I^W)^W)|0)<<12|X>>>20)+j|0,Y=(0|cr[e+57>>0])<<8|0|cr[e+56>>0]|(0|cr[e+58>>0])<<16|(0|cr[e+59>>0])<<24,W=((W=(ar[v>>2]=Y)+-1502002290+W+(X&(j^I)^I)|0)<<17|W>>>15)+X|0,Y=(0|cr[e+61>>0])<<8|0|cr[e+60>>0]|(0|cr[e+62>>0])<<16|(0|cr[e+63>>0])<<24,I=((I=(ar[i>>2]=Y)+1236535329+I+(W&(X^j)^j)|0)<<22|I>>>10)+W|0,j=((j=(D=0|ar[n>>2])+-165796510+j+((I^W)&X^W)|0)<<5|j>>>27)+I|0,X=((X=(_=0|ar[l>>2])+-1069501632+X+((j^I)&W^I)|0)<<9|X>>>23)+j|0,W=((W=(F=0|ar[k>>2])+643717713+W+((X^j)&I^j)|0)<<14|W>>>18)+X|0,I=((I=(z=0|ar[f>>2])+-373897302+I+((W^X)&j^X)|0)<<20|I>>>12)+W|0,j=((j=(U=0|ar[c>>2])+-701558691+j+((I^W)&X^W)|0)<<5|j>>>27)+I|0,W=((W=Y+-660478335+W+(((X=((X=(J=0|ar[d>>2])+38016083+X+((j^I)&W^I)|0)<<9|X>>>23)+j|0)^j)&I^j)|0)<<14|W>>>18)+X|0,I=((I=(R=0|ar[a>>2])+-405537848+I+((W^X)&j^X)|0)<<20|I>>>12)+W|0,j=((j=(G=0|ar[s>>2])+568446438+j+((I^W)&X^W)|0)<<5|j>>>27)+I|0,X=((X=(S=0|ar[v>>2])+-1019803690+X+((j^I)&W^I)|0)<<9|X>>>23)+j|0,W=((W=(M=0|ar[o>>2])+-187363961+W+((X^j)&I^j)|0)<<14|W>>>18)+X|0,I=((I=(Q=0|ar[b>>2])+1163531501+I+((W^X)&j^X)|0)<<20|I>>>12)+W|0,j=((j=(N=0|ar[w>>2])+-1444681467+j+((I^W)&X^W)|0)<<5|j>>>27)+I|0,X=((X=(V=0|ar[t>>2])+-51403784+X+((j^I)&W^I)|0)<<9|X>>>23)+j|0,C=(W=((W=(O=0|ar[u>>2])+1735328473+W+((X^j)&I^j)|0)<<14|W>>>18)+X|0)^X,A=(C=((C=R+-145523070+(C=((C=Q+1873313359+(C=((C=(T=0|ar[h>>2])+1700485571+(C=((C=z+-198630844+(C=((C=G+-640364487+(C=((C=N+681279174+(C=((C=D+-1530992060+(C=((C=U+-378558+j+(C^(I=((I=T+-1926607734+I+(C&j^X)|0)<<20|I>>>12)+W|0))|0)<<4|C>>>28)+I|0)+((W=((W=F+1839030562+W+(C^I^(X=((X=Q+-2022574463+X+(I^W^C)|0)<<11|X>>>21)+C|0))|0)<<16|W>>>16)+X|0)^X^(I=((I=S+-35309556+I+(X^C^W)|0)<<23|I>>>9)+W|0))|0)<<4|C>>>28)+I|0)+((W=((W=O+-155497632+W+(C^I^(X=((X=R+1272893353+X+(I^W^C)|0)<<11|X>>>21)+C|0))|0)<<16|W>>>16)+X|0)^X^(I=((I=J+-1094730640+I+(X^C^W)|0)<<23|I>>>9)+W|0))|0)<<4|C>>>28)+I|0)+((W=((W=M+-722521979+W+(C^I^(X=((X=z+-358537222+X+(I^W^C)|0)<<11|X>>>21)+C|0))|0)<<16|W>>>16)+X|0)^X^(I=((I=_+76029189+I+(X^C^W)|0)<<23|I>>>9)+W|0))|0)<<4|C>>>28)+I|0)+(((I=((I=V+-995338651+I+((X=((X=T+-421815835+X+(I^W^C)|0)<<11|X>>>21)+C|0)^C^(W=((W=Y+530742520+W+(C^I^X)|0)<<16|W>>>16)+X|0))|0)<<23|I>>>9)+W|0)|~X)^W)|0)<<6|C>>>26)+I|0)+(((I=((I=U+-57434055+I+(((W=((W=S+-1416354905+W+(((X=((X=O+1126891415+X+((C|~W)^I)|0)<<10|X>>>22)+C|0)|~I)^C)|0)<<15|W>>>17)+X|0)|~C)^X)|0)<<21|I>>>11)+W|0)|~X)^W)|0)<<6|C>>>26)+I|0)+(((I=((I=D+-2054922799+I+(((W=((W=J+-1051523+W+(((X=((X=M+-1894986606+X+((C|~W)^I)|0)<<10|X>>>22)+C|0)|~I)^C)|0)<<15|W>>>17)+X|0)|~C)^X)|0)<<21|I>>>11)+W|0)|~X)^W)|0)<<6|C>>>26)+I|0)+(((I=((I=N+1309151649+I+(((W=((W=_+-1560198380+W+(((X=((X=Y+-30611744+X+((C|~W)^I)|0)<<10|X>>>22)+C|0)|~I)^C)|0)<<15|W>>>17)+X|0)|~C)^X)|0)<<21|I>>>11)+W|0)|~X)^W)|0)<<6|C>>>26)+I|0)+A|0,y=(W=((W=V+718787259+W+(((X=((X=F+-1120210379+X+((C|~W)^I)|0)<<10|X>>>22)+C|0)|~I)^C)|0)<<15|W>>>17)+X|0)+y+((I=G+-343485551+I+((W|~C)^X)|0)<<21|I>>>11)|0,E=W+E|0,B=X+B|0,e=e+64|0,0!=(0|(r=r+-64|0)););return ar[m>>2]=A,ar[g>>2]=y,ar[Z>>2]=E,ar[p>>2]=B,0|e}function lc(A,e){A|=0;var r=0,i=0,f=0;r=(i=63&ar[(e|=0)>>2])+1|0,tr[e+24+i>>0]=-128,f=e+24|0,(i^=63)>>>0<8?(vb(e+24+r|0,0,0|i),cc(e,f,64),i=56,r=0):i=i+-8|0,vb(e+24+r|0,0,0|i),r=(i=0|ar[e>>2])<<3,ar[e>>2]=r,tr[e+80>>0]=r,tr[e+81>>0]=i>>>5,tr[e+82>>0]=i>>>13,tr[e+83>>0]=i>>>21,i=0|ar[e+4>>2],tr[e+84>>0]=i,tr[e+85>>0]=i>>>8,tr[e+86>>0]=i>>>16,tr[e+87>>0]=i>>>24,cc(e,f,64),f=e+8|0,tr[A>>0]=ar[f>>2],tr[A+1>>0]=(0|ar[f>>2])>>>8,tr[A+2>>0]=(0|ar[f>>2])>>>16,tr[A+3>>0]=(0|ar[f>>2])>>>24,f=e+12|0,tr[A+4>>0]=ar[f>>2],tr[A+5>>0]=(0|ar[f>>2])>>>8,tr[A+6>>0]=(0|ar[f>>2])>>>16,tr[A+7>>0]=(0|ar[f>>2])>>>24,f=e+16|0,tr[A+8>>0]=ar[f>>2],tr[A+9>>0]=(0|ar[f>>2])>>>8,tr[A+10>>0]=(0|ar[f>>2])>>>16,tr[A+11>>0]=(0|ar[f>>2])>>>24,f=e+20|0,tr[A+12>>0]=ar[f>>2],tr[A+13>>0]=(0|ar[f>>2])>>>8,tr[A+14>>0]=(0|ar[f>>2])>>>16,tr[A+15>>0]=(0|ar[f>>2])>>>24,vb(0|e,0,152)}function uc(A,e,r,i,f,n,t,o,a,c,l,u,b){A|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0;var s,d,k,h,w,v,m,g,Z,p=0,y=0,B=0,E=0,X=0,W=0,I=0;if(ur=(Z=ur)+20448|0,d=(W=Z)+9088|0,k=3&(r|=0),h=3&(i|=0),g=(r>>2)+(f|=0)|0,m=(i>>2)+(n|=0)|0,y=14-(0|ar[(e|=0)+4996>>2])|0,v=0|ar[e+484>>2],w=0|ar[e+488>>2],3&(i|r)){if(y=0|ar[9768+(k<<2)>>2],n=0|ar[9784+(k<<2)>>2],s=0|ar[9768+(h<<2)>>2],f=0|ar[9784+(h<<2)>>2],p=0-y|0,-1<(m-s|g-y|0)&&(g+l+n|0)<(0|v)&&(m+u+f|0)<(0|w))f=a+((0|br(m,n=c))+g<<1)|0;else{if((0|(e=0-s|0))<(0|(i=f+u|0))&&(E=v-1|0,X=w-1|0,(0|p)<(0|(B=n+l|0))))do{for(n=0|br((0|(n=e+m|0))<0?0:(0|n)<(0|w)?n:X,c),r=(80*(e+s|0)|0)+y|0,f=p;I=f+g|0,or[d+(r+f<<1)>>1]=0|or[a+(((0|I)<0?0:(0|I)<(0|v)?I:E)+n<<1)>>1],(0|(f=f+1|0))!=(0|B););e=e+1|0}while((0|e)!=(0|i));f=d+(((n=80)*s|0)+y<<1)|0}(0|b)<9?cs[31&ar[A+220+(k<<4)+(h<<2)>>2]](t,o,f,n,l,u,W):ls[31&ar[A+300+(k<<4)+(h<<2)>>2]](t,o,f,n,l,u,W,b),ur=Z}else{if(!((m|g|0)<0|(0|v)<(g+l|0)|(0|w)<(m+u|0)))return f=a+((0|br(m,c))+g<<1)|0,(0|b)<9?cs[31&ar[A+220>>2]](t,o,f,c,l,u,W):ls[31&ar[A+300>>2]](t,o,f,c,l,u,W,b),void(ur=Z);if((0|u)<=0)return void(ur=Z);if(e=v-1|0,r=w-1|0,!(0<(0|l)))return void(ur=Z);f=0;do{for(i=0|br((0|(i=f+m|0))<0?0:(0|i)<(0|w)?i:r,c),p=0|br(f,o),n=0;W=n+g|0,or[t+(n+p<<1)>>1]=(0|lr[a+(((0|W)<0?0:(0|W)<(0|v)?W:e)+i<<1)>>1])<<y,(0|(n=n+1|0))!=(0|l););f=f+1|0}while((0|f)!=(0|u));ur=Z}}function bc(A,e,r,i,f,n,t,o,a,c,l,u,b){A|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0;var s,d,k,h,w,v,m,g,Z,p=0,y=0,B=0,E=0,X=0,W=0,I=0;if(ur=(Z=ur)+14768|0,d=(W=Z)+9088|0,k=3&(r|=0),h=3&(i|=0),g=(r>>2)+(f|=0)|0,m=(i>>2)+(n|=0)|0,y=14-(0|ar[(e|=0)+4996>>2])|0,v=0|ar[e+484>>2],w=0|ar[e+488>>2],3&(i|r)){if(y=0|ar[9768+(k<<2)>>2],n=0|ar[9784+(k<<2)>>2],s=0|ar[9768+(h<<2)>>2],f=0|ar[9784+(h<<2)>>2],p=0-y|0,-1<(m-s|g-y|0)&&(g+l+n|0)<(0|v)&&(m+u+f|0)<(0|w))f=a+((0|br(m,n=c))+g)|0;else{if((0|(e=0-s|0))<(0|(i=f+u|0))&&(E=v-1|0,X=w-1|0,(0|p)<(0|(B=n+l|0))))do{for(n=0|br((0|(n=e+m|0))<0?0:(0|n)<(0|w)?n:X,c),r=(80*(e+s|0)|0)+y|0,f=p;I=f+g|0,tr[d+(r+f)>>0]=0|tr[a+(((0|I)<0?0:(0|I)<(0|v)?I:E)+n)>>0],(0|(f=f+1|0))!=(0|B););e=e+1|0}while((0|e)!=(0|i));f=d+(((n=80)*s|0)+y)|0}(0|b)<9?cs[31&ar[A+220+(k<<4)+(h<<2)>>2]](t,o,f,n,l,u,W):ls[31&ar[A+300+(k<<4)+(h<<2)>>2]](t,o,f,n,l,u,W,b),ur=Z}else{if(!((m|g|0)<0|(0|v)<(g+l|0)|(0|w)<(m+u|0)))return f=a+((0|br(m,c))+g)|0,(0|b)<9?cs[31&ar[A+220>>2]](t,o,f,c,l,u,W):ls[31&ar[A+300>>2]](t,o,f,c,l,u,W,b),void(ur=Z);if((0|u)<=0)return void(ur=Z);if(e=v-1|0,r=w-1|0,!(0<(0|l)))return void(ur=Z);f=0;do{for(i=0|br((0|(i=f+m|0))<0?0:(0|i)<(0|w)?i:r,c),p=0|br(f,o),n=0;W=n+g|0,or[t+(n+p<<1)>>1]=(0|cr[a+(((0|W)<0?0:(0|W)<(0|v)?W:e)+i)>>0])<<y,(0|(n=n+1|0))!=(0|l););f=f+1|0}while((0|f)!=(0|u));ur=Z}}function sc(A,e,r,i,f,n,t,o,a,c,l,u,b){A|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0;var s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;if(m=ur=(v=ur)+31&-32,ur=ur+19808|0,m=(k=m)+9088|0,y=14-(0|ar[(e|=0)+5004>>2])|0,E=0|ar[e+5016>>2],w=(0|ar[e+484>>2])/(0|E)|0,B=0|ar[e+5020>>2],h=(0|ar[e+488>>2])/(0|B)|0,s=7&(r=0|br(2/(0|E)|0,r)),d=7&(i=0|br(2/(0|B)|0,i)),E=((0|f)/(0|E)|0)+(r>>3)|0,B=((0|n)/(0|B)|0)+(i>>3)|0,7&(i|r)){if(0<(0|E)&&(E+l|0)<=(w-2|0)&0<(0|B)&&(B+u|0)<=(h-2|0))f=a+((0|br(B,c))+E<<1)|0,e=c;else{if(-1<(0|(i=u+2|0))&&(Z=w-1|0,p=h-1|0,-1<(0|(g=l+2|0)))){r=-1;do{for(f=0|br((0|(f=r+B|0))<0?0:(0|f)<(0|h)?f:p,c),n=80+(80*r|0)|0,e=-1;y=e+E|0,or[m+(n+(e=e+1|0)<<1)>>1]=0|or[a+(((0|y)<0?0:(0|y)<(0|w)?y:Z)+f<<1)>>1],(0|e)!=(0|g););r=r+1|0}while((0|r)!=(0|i))}f=m+162|0,e=80}r=0!=(0|s),i=0!=(0|d);do{if(r&i){if((0|b)<9){bs[7&ar[A+216>>2]](t,o,f,e,l,u,s,d,k,b);break}bs[7&ar[A+296>>2]](t,o,f,e,l,u,s,d,k,b);break}if(r){if((0|b)<9){bs[7&ar[A+208>>2]](t,o,f,e,l,u,s,d,k,b);break}bs[7&ar[A+288>>2]](t,o,f,e,l,u,s,d,k,b);break}if(i||sr(55739,48428,268,48472),(0|b)<9){bs[7&ar[A+212>>2]](t,o,f,e,l,u,0,d,k,b);break}bs[7&ar[A+292>>2]](t,o,f,e,l,u,0,d,k,b);break}while(0);ur=v}else{if(-1<(0|E)&&!((0|B)<0|(0|w)<(E+l|0)|(0|h)<(B+u|0)))return e=a+((0|br(B,c))+E<<1)|0,(0|b)<9?us[3&ar[A+204>>2]](t,o,e,c,l,u,0,0,0):bs[7&ar[A+284>>2]](t,o,e,c,l,u,0,0,0,b),void(ur=v);if((0|u)<=0)return void(ur=v);if(i=w-1|0,f=h-1|0,!(0<(0|l)))return void(ur=v);r=0;do{for(n=0|br((0|(n=r+B|0))<0?0:(0|n)<(0|h)?n:f,c),m=0|br(r,o),e=0;b=e+E|0,or[t+(e+m<<1)>>1]=(0|lr[a+(((0|b)<0?0:(0|b)<(0|w)?b:i)+n<<1)>>1])<<y,(0|(e=e+1|0))!=(0|l););r=r+1|0}while((0|r)!=(0|u));ur=v}}function dc(A,e,r,i,f,n,t,o,a,c,l,u,b){A|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0;var s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;if(m=ur=(v=ur)+31&-32,ur=ur+14448|0,m=(k=m)+9088|0,y=14-(0|ar[(e|=0)+5004>>2])|0,E=0|ar[e+5016>>2],w=(0|ar[e+484>>2])/(0|E)|0,B=0|ar[e+5020>>2],h=(0|ar[e+488>>2])/(0|B)|0,s=7&(r=0|br(2/(0|E)|0,r)),d=7&(i=0|br(2/(0|B)|0,i)),E=((0|f)/(0|E)|0)+(r>>3)|0,B=((0|n)/(0|B)|0)+(i>>3)|0,7&(i|r)){if(0<(0|E)&&(E+l|0)<=(w-2|0)&0<(0|B)&&(B+u|0)<=(h-2|0))f=a+((0|br(B,c))+E)|0,e=c;else{if(-1<(0|(i=u+2|0))&&(Z=w-1|0,p=h-1|0,-1<(0|(g=l+2|0)))){r=-1;do{for(f=0|br((0|(f=r+B|0))<0?0:(0|f)<(0|h)?f:p,c),n=80+(80*r|0)|0,e=-1;y=e+E|0,tr[m+(n+(e=e+1|0))>>0]=0|tr[a+(((0|y)<0?0:(0|y)<(0|w)?y:Z)+f)>>0],(0|e)!=(0|g););r=r+1|0}while((0|r)!=(0|i))}f=m+81|0,e=80}r=0!=(0|s),i=0!=(0|d);do{if(r&i){if((0|b)<9){bs[7&ar[A+216>>2]](t,o,f,e,l,u,s,d,k,b);break}bs[7&ar[A+296>>2]](t,o,f,e,l,u,s,d,k,b);break}if(r){if((0|b)<9){bs[7&ar[A+208>>2]](t,o,f,e,l,u,s,d,k,b);break}bs[7&ar[A+288>>2]](t,o,f,e,l,u,s,d,k,b);break}if(i||sr(55739,48428,268,48472),(0|b)<9){bs[7&ar[A+212>>2]](t,o,f,e,l,u,0,d,k,b);break}bs[7&ar[A+292>>2]](t,o,f,e,l,u,0,d,k,b);break}while(0);ur=v}else{if(-1<(0|E)&&!((0|B)<0|(0|w)<(E+l|0)|(0|h)<(B+u|0)))return e=a+((0|br(B,c))+E)|0,(0|b)<9?us[3&ar[A+204>>2]](t,o,e,c,l,u,0,0,0):bs[7&ar[A+284>>2]](t,o,e,c,l,u,0,0,0,b),void(ur=v);if((0|u)<=0)return void(ur=v);if(i=w-1|0,f=h-1|0,!(0<(0|l)))return void(ur=v);r=0;do{for(n=0|br((0|(n=r+B|0))<0?0:(0|n)<(0|h)?n:f,c),m=0|br(r,o),e=0;b=e+E|0,or[t+(e+m<<1)>>1]=(0|cr[a+(((0|b)<0?0:(0|b)<(0|w)?b:i)+n)>>0])<<y,(0|(e=e+1|0))!=(0|l););r=r+1|0}while((0|r)!=(0|u));ur=v}}function kc(A,e,r,i,f,n,t,o,a,c,l,u){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0;var b,s=0,d=0,k=0,h=0,w=0;if(0|Hb[31&ar[12+(0|ar[(A|=0)>>2])>>2]](A,n)||sr(48581,48428,1074,48604),b=0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,n),(0|ar[24+b>>2])>(0|t)&&(0|ar[28+b>>2])>(0|o)){if(i=t>>(f=0|ar[10368+b>>2]),f=o>>f,(0|i)<=-1&&sr(48482,48519,118,48539),(0|(n=0|ar[10372+b>>2]))<=(0|i)&&sr(48482,48519,118,48539),(0|f)<=-1&&sr(48543,48519,119,48539),(0|f)>=(0|ar[10376+b>>2])&&sr(48543,48519,119,48539),w=(0|ar[10360+b>>2])+(3*((0|br(n,f))+i|0)|0)|0,!(768&(cr[w>>0]|cr[w+1>>0]<<8)))return or[l>>1]=0,or[l+2>>1]=0,void(tr[u>>0]=0);if(1==(0|tr[10516+b>>0]))return or[l>>1]=0,or[l+2>>1]=0,void(tr[u>>0]=0);if(i=t>>(f=0|ar[10388+b>>2]),f=o>>f,(0|i)<=-1&&sr(48482,48519,118,48539),(0|(n=0|ar[10392+b>>2]))<=(0|i)&&sr(48482,48519,118,48539),(0|f)<=-1&&sr(48543,48519,119,48539),(0|f)>=(0|ar[10396+b>>2])&&sr(48543,48519,119,48539),w=0|ar[10380+b>>2],h=(0|br(n,f))+i|0,0|tr[w+(12*h|0)>>0])if(0|tr[w+(12*h|0)+1>>0]){if(s=0|ar[e+92>>2],0<(0|ar[(n=r+332|0)>>2]))for(f=0;i=92+(0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[r+980+(f<<2)>>2]))|0,(i=(0|ar[i>>2])<=(0|s))&(0|(f=f+1|0))<(0|ar[n>>2]););else i=1;if(i&0<(0|ar[(n=r+328|0)>>2]))for(f=0;i=92+(0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[r+916+(f<<2)>>2]))|0,(i=(0|ar[i>>2])<=(0|s))&(0|(f=f+1|0))<(0|ar[n>>2]););d=i?c:0|tr[r+372>>0]}else d=0;else d=1;return(k=lr[(k=w+(12*h|0)+4+(d<<2)|0)>>1]|lr[k+2>>1]<<16,s=0|tr[w+(12*h|0)+2+d>>0],n=t>>(i=0|ar[10348+b>>2]),i=o>>i,(0|n)<=-1&&sr(48482,48519,118,48539),(0|(f=0|ar[10352+b>>2]))<=(0|n)&&sr(48482,48519,118,48539),(0|i)<=-1&&sr(48543,48519,119,48539),(0|i)>=(0|ar[10356+b>>2])&&sr(48543,48519,119,48539),i=(0|ar[10340+b>>2])+(24*((0|br(f,i))+n|0)|0)+2|0,i=0|ar[(0|ar[48+b>>2])+(lr[i>>1]<<2)>>2],(0|tr[(n=r+1300+(c<<4)+a|0)>>0])!=(0|tr[i+1300+(d<<4)+s>>0]))?(tr[u>>0]=0,or[l>>1]=0,void(or[l+2>>1]=0)):(tr[u>>0]=1,i=(0|ar[92+b>>2])-(0|ar[i+1044+(d<<6)+(s<<2)>>2])|0,f=(0|ar[e+92>>2])-(0|ar[r+1044+(c<<6)+(a<<2)>>2])|0,0!=(0|tr[n>>0])|(0|i)==(0|f)?(or[l>>1]=k,void(or[l+2>>1]=k>>>16)):(i=(0|i)<-128?-128:(0|i)<127?i:127)?(e=32+(0|br((16384+(((0|i)<0?0-i|0:i)>>1)|0)/(0|i)|0,(0|f)<-128?-128:(0|f)<127?f:127))>>6,A=0|br(e=(0|e)<-4096?-4096:(0|e)<4095?e:4095,k<<16>>16),A=0|br(((c=(0|A)<0)?0-A|0:A)+127>>8,c?-1:0!=(0|A)&1),or[l>>1]=(0|A)<-32768?-32768:65535&((0|A)<32767?A:32767),e=0|br(e,k>>16),e=0|br(((A=(0|e)<0)?0-e|0:e)+127>>8,A?-1:0!=(0|e)&1),void(or[l+2>>1]=(0|e)<-32768?-32768:65535&((0|e)<32767?e:32767))):(or[l>>1]=k,or[l+2>>1]=k>>>16,er(A+4|0,1008,0),void(tr[e+10516>>0]=3)))}er(A+4|0,1026,0),tr[u>>0]=0}function hc(A,e,r,i,f,n,t,o,a,c,l){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0;var u,b,s,d=0;if(!(0|tr[(r|=0)+324>>0]))return or[c>>1]=0,or[c+2>>1]=0,void(tr[l>>0]=0);if(s=0|ar[e+5804>>2],d=0|ar[r+20>>2]?0:0==(0|tr[r+372>>0])&1,d=0|ar[r+916+(d<<6)+(ar[r+376>>2]<<2)>>2],!(0|Hb[31&ar[12+(0|ar[A>>2])>>2]](A,d)))return or[c>>1]=0,or[c+2>>1]=0,void er(A+4|(tr[l>>0]=0),1012,0);if(b=n+i|0,(f>>s|0)==((u=t+f|0)>>s|0)&&(0|b)<(0|ar[e+1248>>2])&&(0|u)<(0|ar[e+1252>>2])){if(kc(A,e,r,0,0,d,-16&b,-16&u,o,a,c,l),0|tr[l>>0])return}else or[c>>1]=0,or[c+2>>1]=0,tr[l>>0]=0;kc(A,e,r,0,0,d,(n>>1)+i&-16,(t>>1)+f&-16,o,a,c,l)}function wc(A,e,r,i,f,n,t,o,a,c,l,u,b){A|=0,e|=0,n|=0,t|=0,a|=0,c|=0,l|=0,u|=0,b|=0;var s,d,k,h,w,v,m=0,g=0,Z=0;if(g=ur=(v=ur)+31&-32,ur=ur+16|0,w=g+8|0,g=(m=g)+12|0,t=0|function(A,e,r,i,f,n,t,o,a,c,l,u){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0;var b,s,d,k,h,w,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;w=0|ar[(A|=0)+10060>>2],t=e>>(m=0|ar[A+10368>>2]),m=r>>m,(0|t)<=-1&&sr(48482,48519,118,48539),(0|(g=0|ar[A+10372>>2]))<=(0|t)&&sr(48482,48519,118,48539),(0|m)<=-1&&sr(48543,48519,119,48539),(0|m)>=(0|ar[A+10376>>2])&&sr(48543,48519,119,48539),Z=(0|ar[A+10360>>2])+(3*((0|br(g,m))+t|0)|0)|0,Z=(65535&(cr[Z>>0]|cr[Z+1>>0]<<8))>>>3,t=(d=a+n|0)-1|0,(h=(0|(s=f>>w))==((k=f+-1|0)>>w|0))&&(n>>w|0)==(t>>w|0)?v=I=0:E=9;A:do{if(9==(0|E)){if(1==(0|c))switch(7&Z){case 2:case 6:case 7:v=I=0;break A}if(0|ka(A,e,r,i,f,n,o,a,c,k,t)){if(t>>=X=0|ar[A+10388>>2],(0|(g=k>>X))<=-1&&sr(48482,48519,118,48539),(0|(m=0|ar[A+10392>>2]))<=(0|g)&&sr(48482,48519,118,48539),(0|t)<=-1&&sr(48543,48519,119,48539),(0|t)<(0|ar[A+10396>>2])){I=(0|ar[A+10380>>2])+(12*((0|br(m,t))+g|0)|0)|0,or[l>>1]=0|or[I>>1],or[l+2>>1]=0|or[I+2>>1],or[l+4>>1]=0|or[I+4>>1],or[l+6>>1]=0|or[I+6>>1],or[l+8>>1]=0|or[I+8>>1],or[l+10>>1]=0|or[I+10>>1],v=I=1;break}sr(48543,48519,119,48539)}else v=I=0}}while(0);if((0|u)<=(0|v))return 0|(l=v);X=n+-1|0,(0|s)==((t=(b=o+f|0)-1|0)>>w|0)&&(n>>w|0)==(X>>w|0)?B=p=0:E=22;A:do{if(22==(0|E)){if(1==(0|c))switch(7&Z){case 1:case 4:case 5:B=p=0;break A}if(0|ka(A,e,r,i,f,n,o,a,c,t,X)){t>>=m=0|ar[A+10388>>2],m=X>>m,(0|t)<=-1&&sr(48482,48519,118,48539),(0|(g=0|ar[A+10392>>2]))<=(0|t)&&sr(48482,48519,118,48539),(0|m)<=-1&&sr(48543,48519,119,48539),(0|m)>=(0|ar[A+10396>>2])&&sr(48543,48519,119,48539),t=(Z=0|ar[A+10380>>2])+(12*(g=(0|br(g,m))+t|0)|0)|0;do{if(I&&(p=0|tr[l>>0])<<24>>24==(0|tr[t>>0])){if(p<<24>>24){if((0|or[l+4>>1])!=(0|or[Z+(12*g|0)+4>>1]))break;if((0|or[l+6>>1])!=(0|or[Z+(12*g|0)+6>>1]))break;if((0|tr[l+2>>0])!=(0|tr[Z+(12*g|0)+2>>0]))break}if((m=0|tr[l+1>>0])<<24>>24==(0|tr[Z+(12*g|0)+1>>0])){if(!(m<<24>>24)){p=1,B=0;break A}if((0|or[l+8>>1])!=(0|or[Z+(12*g|0)+8>>1]))break;if((0|or[l+10>>1])!=(0|or[Z+(12*g|0)+10>>1]))break;if((0|tr[l+3>>0])==(0|tr[Z+(12*g|0)+3>>0])){p=1,B=0;break A}}}}while(0);or[(p=l+(12*v|0)|0)>>1]=0|or[t>>1],or[p+2>>1]=0|or[t+2>>1],or[p+4>>1]=0|or[t+4>>1],or[p+6>>1]=0|or[t+6>>1],or[p+8>>1]=0|or[t+8>>1],or[p+10>>1]=0|or[t+10>>1],v=(B=v)+(p=1)|0}else B=p=0}}while(0);if((0|u)<=(0|v))return 0|(l=v);(0|s)==(b>>w|0)&&(n>>w|0)==(X>>w|0)||(E=47);A:do{if(47==(0|E)&&0|ka(A,e,r,i,f,n,o,a,c,b,X)){t=b>>(m=0|ar[A+10388>>2]),m=X>>m,(0|t)<=-1&&sr(48482,48519,118,48539),(0|(g=0|ar[A+10392>>2]))<=(0|t)&&sr(48482,48519,118,48539),(0|m)<=-1&&sr(48543,48519,119,48539),(0|m)>=(0|ar[A+10396>>2])&&sr(48543,48519,119,48539),t=(Z=0|ar[A+10380>>2])+(12*(g=(0|br(g,m))+t|0)|0)|0;do{if(p&&(y=0|tr[l+(12*B|0)>>0])<<24>>24==(0|tr[t>>0])){if(y<<24>>24){if((0|or[l+(12*B|0)+4>>1])!=(0|or[Z+(12*g|0)+4>>1]))break;if((0|or[l+(12*B|0)+6>>1])!=(0|or[Z+(12*g|0)+6>>1]))break;if((0|tr[l+(12*B|0)+2>>0])!=(0|tr[Z+(12*g|0)+2>>0]))break}if((m=0|tr[l+(12*B|0)+1>>0])<<24>>24==(0|tr[Z+(12*g|0)+1>>0])){if(!(m<<24>>24))break A;if((0|or[l+(12*B|0)+8>>1])!=(0|or[Z+(12*g|0)+8>>1]))break;if((0|or[l+(12*B|0)+10>>1])!=(0|or[Z+(12*g|0)+10>>1]))break;if((0|tr[l+(12*B|0)+3>>0])==(0|tr[Z+(12*g|0)+3>>0]))break A}}}while(0);or[(y=l+(12*v|0)|0)>>1]=0|or[t>>1],or[y+2>>1]=0|or[t+2>>1],or[y+4>>1]=0|or[t+4>>1],or[y+6>>1]=0|or[t+6>>1],or[y+8>>1]=0|or[t+8>>1],or[y+10>>1]=0|or[t+10>>1],v=v+1|0}}while(0);if((0|u)<=(0|v))return 0|(l=v);h&&(n>>w|0)==(d>>w|0)||(E=70);A:do{if(70==(0|E)&&0|ka(A,e,r,i,f,n,o,a,c,k,d)){g=k>>(t=0|ar[A+10388>>2]),t=d>>t,(0|g)<=-1&&sr(48482,48519,118,48539),(0|(m=0|ar[A+10392>>2]))<=(0|g)&&sr(48482,48519,118,48539),(0|t)<=-1&&sr(48543,48519,119,48539),(0|t)>=(0|ar[A+10396>>2])&&sr(48543,48519,119,48539),t=(Z=0|ar[A+10380>>2])+(12*(g=(0|br(m,t))+g|0)|0)|0;do{if(I&&(W=0|tr[l>>0])<<24>>24==(0|tr[t>>0])){if(W<<24>>24){if((0|or[l+4>>1])!=(0|or[Z+(12*g|0)+4>>1]))break;if((0|or[l+6>>1])!=(0|or[Z+(12*g|0)+6>>1]))break;if((0|tr[l+2>>0])!=(0|tr[Z+(12*g|0)+2>>0]))break}if((m=0|tr[l+1>>0])<<24>>24!=(0|tr[Z+(12*g|0)+1>>0]))break;if(!(m<<24>>24))break A;if((0|or[l+8>>1])!=(0|or[Z+(12*g|0)+8>>1]))break;if((0|or[l+10>>1])!=(0|or[Z+(12*g|0)+10>>1]))break;if((0|tr[l+3>>0])==(0|tr[Z+(12*g|0)+3>>0]))break A}}while(0);or[(W=l+(12*v|0)|0)>>1]=0|or[t>>1],or[W+2>>1]=0|or[t+2>>1],or[W+4>>1]=0|or[t+4>>1],or[W+6>>1]=0|or[t+6>>1],or[W+8>>1]=0|or[t+8>>1],or[W+10>>1]=0|or[t+10>>1],v=v+1|0}}while(0);if((0|u)<=(0|v)|4==(0|v))return 0|(l=v);if(h&&(n>>w|0)==(X>>w|0))return 0|(l=v);if(!(0|ka(A,e,r,i,f,n,o,a,c,k,X)))return 0|(l=v);g=k>>(t=0|ar[A+10388>>2]),t=X>>t,(0|g)<=-1&&sr(48482,48519,118,48539),(0|(m=0|ar[A+10392>>2]))<=(0|g)&&sr(48482,48519,118,48539),(0|t)<=-1&&sr(48543,48519,119,48539),(0|t)>=(0|ar[A+10396>>2])&&sr(48543,48519,119,48539),t=(Z=0|ar[A+10380>>2])+(12*(g=(0|br(m,t))+g|0)|0)|0;do{if(p){if((m=0|tr[l+(12*B|0)>>0])<<24>>24!=(0|tr[t>>0]))break;if(m<<24>>24){if((0|or[l+(12*B|0)+4>>1])!=(0|or[Z+(12*g|0)+4>>1]))break;if((0|or[l+(12*B|0)+6>>1])!=(0|or[Z+(12*g|0)+6>>1]))break;if((0|tr[l+(12*B|0)+2>>0])!=(0|tr[Z+(12*g|0)+2>>0]))break}if((m=0|tr[l+(12*B|0)+1>>0])<<24>>24!=(0|tr[Z+(12*g|0)+1>>0]))break;if(!(m<<24>>24))return 0|(l=v);if((0|or[l+(12*B|0)+8>>1])!=(0|or[Z+(12*g|0)+8>>1]))break;if((0|or[l+(12*B|0)+10>>1])!=(0|or[Z+(12*g|0)+10>>1]))break;if((0|tr[l+(12*B|0)+3>>0])!=(0|tr[Z+(12*g|0)+3>>0]))break;return 0|v}}while(0);do{if(I){if((m=0|tr[l>>0])<<24>>24!=(0|tr[t>>0]))break;if(m<<24>>24){if((0|or[l+4>>1])!=(0|or[Z+(12*g|0)+4>>1]))break;if((0|or[l+6>>1])!=(0|or[Z+(12*g|0)+6>>1]))break;if((0|tr[l+2>>0])!=(0|tr[Z+(12*g|0)+2>>0]))break}if((m=0|tr[l+1>>0])<<24>>24!=(0|tr[Z+(12*g|0)+1>>0]))break;if(!(m<<24>>24))return 0|(l=v);if((0|or[l+8>>1])!=(0|or[Z+(12*g|0)+8>>1]))break;if((0|or[l+10>>1])!=(0|or[Z+(12*g|0)+10>>1]))break;if((0|tr[l+3>>0])!=(0|tr[Z+(12*g|0)+3>>0]))break;return 0|v}}while(0);return or[(l=l+(12*v|0)|0)>>1]=0|or[t>>1],or[l+2>>1]=0|or[t+2>>1],or[l+4>>1]=0|or[t+4>>1],or[l+6>>1]=0|or[t+6>>1],or[l+8>>1]=0|or[t+8>>1],or[l+10>>1]=0|or[t+10>>1],0|(l=v+1|0)}(r|=0,i|=0,f|=0,o|=0,n=(Z=8==(0|o)?2<(0|ar[r+10060>>2]):0)?i:n,s=Z?f:t,0,d=Z?o:a,k=Z?o:c,Z?0:l,b,h=u+1|0),(0|u)<(0|(ar[w>>2]=t))?i=e+20|0:(hc(A,r,e,n,s,d,k,0,0,m,g),c=0|tr[g>>0],(tr[(a=g+1|0)>>0]=0)|ar[(i=e+20|0)>>2]?a=0:(hc(A,r,e,n,s,d,k,0,1,m+4|0,a),c|=a=0|tr[a>>0]),c<<24>>24&&(ar[w>>2]=t+1,Z=b+(12*t|0)+4|0,r=0|ar[m>>2],or[Z>>1]=r,or[Z+2>>1]=r>>>16,Z=b+(12*t|0)+8|0,m=0|ar[m+4>>2],or[Z>>1]=m,or[Z+2>>1]=m>>>16,tr[b+(12*t|0)>>0]=0|tr[g>>0],tr[b+(12*t|0)+1>>0]=a,tr[b+(12*t|0)+2>>0]=0,tr[b+(12*t|0)+3>>0]=0)),(c=0|ar[i>>2])||(function(A,e,r,i,f){A|=0,e|=0,r|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;if(1<(0|(n=0|ar[(i|=0)>>2]))&(0|n)<(0|f)){for(t=0|br(n-1|0,n),u=0;;){if(!((0|(b=0|ar[9800+(u<<2)>>2]))<(0|n)&(0|(s=0|ar[9848+(u<<2)>>2]))<(0|n))){o=4;break}if(d=0|tr[(o=r+(12*b|0)|0)>>0]?0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[e+916+(tr[r+(12*b|0)+2>>0]<<2)>>2]):0,k=0|tr[(a=r+(12*s|0)+1|0)>>0]?0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[e+980+(tr[r+(12*s|0)+3>>0]<<2)>>2]):0,!(0!=(0|d)|(l=(c=0|tr[o>>0])<<24>>24==0))){o=18;break}if(!(0!=(0|k)|(a=(o=0|tr[a>>0])<<24>>24==0))){o=18;break}do{if(!(l|a)){if((0|ar[d+92>>2])==(0|ar[k+92>>2])&&(0|or[r+(12*b|0)+4>>1])==(0|or[r+(12*s|0)+8>>1])&&(0|or[r+(12*b|0)+6>>1])==(0|or[r+(12*s|0)+10>>1]))break;k=0|ar[i>>2],tr[r+(12*k|0)+2>>0]=0|tr[r+(12*b|0)+2>>0],tr[r+(12*k|0)+3>>0]=0|tr[r+(12*s|0)+3>>0],tr[r+(12*k|0)>>0]=c,tr[r+(12*k|0)+1>>0]=o,d=r+(12*k|0)+4|0,b=lr[(b=r+(12*b|0)+4|0)>>1]|lr[b+2>>1]<<16,or[d>>1]=b,or[d+2>>1]=b>>>16,k=r+(12*k|0)+8|0,d=lr[(d=r+(12*s|0)+8|0)>>1]|lr[d+2>>1]<<16,or[k>>1]=d,or[k+2>>1]=d>>>16,ar[i>>2]=1+(0|ar[i>>2])}}while(0);if((0|(u=u+1|0))==(0|t)){o=18;break}if((0|ar[i>>2])==(0|f)){o=18;break}}if(4==(0|o))sr(55739,48428,1360,48637);else if(18==(0|o));}}(A,e,b,w,h),c=0|ar[i>>2]),t=0|ar[(a=e+328|0)>>2],1!=(0|c)&&(t=0|ar[((0|t)<(0|ar[(Z=e+332|0)>>2])?a:Z)>>2]),(0|u)<(0|(a=0|ar[w>>2])))ur=v;else{for(l=0;n=1==(0|c),Z=(0|l)<(0|t)?255&l:0,tr[b+(12*a|0)+2>>0]=Z,tr[b+(12*a|0)+3>>0]=n?-1:Z,tr[b+(12*a|0)>>0]=1,tr[b+(12*a|0)+1>>0]=1&(1^n),or[(Z=n=b+(12*a|0)+4|0)>>1]=0,or[Z+2>>1]=0,or[(n=n+4|0)>>1]=0,n=a+1|(or[n+2>>1]=0),!((0|u)<=(0|a));)l=l+1|0,c=0|ar[i>>2],a=n;ar[w>>2]=n,ur=v}}function vc(A,e,r,i,f,n,t,o,a,c,l,u,b,s){s|=0;var d,k=0,h=0,w=0,v=0,m=0;if(m=ur=(d=ur)+31&-32,ur=ur+32|0,v=m+16|0,function(A,e,r,i,f,n,t,o,a,c,l,u,b,s,d){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0,d|=0;var k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0;if(P=ur=(V=ur)+31&-32,ur=ur+48|0,v=P+32|0,m=P+24|0,g=P+44|0,I=P+12|0,P=(C=P)+40|0,Z=(t|=0)+-1|(tr[(G=(s|=0)+1|0)>>0]=0),ar[v>>2]=Z,x=c+o|0,ar[m>>2]=x,ar[4+v>>2]=Z,L=x+-1|0,ar[4+m>>2]=L,tr[s>>0]=0,or[d>>1]=0,R=1&(x=(or[(S=d+2|0)>>1]=0)|ka(e,i,f,n,t,o,a,c,b,Z,x)),tr[g>>0]=R,L=0|ka(e,i,f,n,t,o,a,c,b,Z,L),tr[1+g>>0]=1&L,x|=L,L=r+916+(l<<6)+(u<<2)|0,F=0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[L>>2])){p=0|ar[F+92>>2],M=e+10368|0,k=e+10372|0,h=e+10376|0,w=e+10360|0,y=1-l|0,B=e+10388|0,E=e+10392|0,X=e+10396|0,W=e+10380|0,D=-1,J=0,F=R;A:for(;;){do{if(F<<24>>24!=0&&0==(0|tr[s>>0])){if(F=0|ar[v+(J<<2)>>2],Y=0|ar[m+(J<<2)>>2],R=F>>(N=0|ar[M>>2]),N=Y>>N,(0|R)<=-1){F=8;break A}if((0|(_=0|ar[k>>2]))<=(0|R)){F=8;break A}if((0|N)<=-1){F=11;break A}if((0|N)>=(0|ar[h>>2])){F=11;break A}if(H=(0|ar[w>>2])+(3*((0|br(_,N))+R|0)|0)|0,768&(cr[H>>0]|cr[H+1>>0]<<8)){if(N=F>>(H=0|ar[B>>2]),F=Y>>H,(0|N)<=-1){F=15;break A}if((0|(R=0|ar[E>>2]))<=(0|N)){F=15;break A}if((0|F)<=-1){F=18;break A}if((0|F)>=(0|ar[X>>2])){F=18;break A}if(Q=0|ar[W>>2],_=(0|br(R,F))+N|0,F=0|tr[(Y=Q+(12*_|0)+l|0)>>0]?0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[r+916+(l<<6)+(tr[Q+(12*_|0)+2+l>>0]<<2)>>2]):0,R=0|tr[(N=Q+(12*_|0)+y|0)>>0]?0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[r+916+(y<<6)+(tr[Q+(12*_|0)+2+y>>0]<<2)>>2]):0,0!=(0|F)&0!=(0|tr[Y>>0])&&(0|ar[F+92>>2])==(0|p)){tr[s>>0]=1,R=lr[(R=Q+(12*_|0)+4+(l<<2)|0)>>1]|lr[R+2>>1]<<16,or[d>>1]=R,or[d+2>>1]=R>>>16,R=0|tr[Q+(12*_|0)+2+l>>0];break}R=0!=(0|R)&0!=(0|tr[N>>0])&&(0|ar[R+92>>2])==(0|p)?(tr[s>>0]=1,R=lr[(R=Q+(12*_|0)+4+(y<<2)|0)>>1]|lr[R+2>>1]<<16,or[d>>1]=R,or[d+2>>1]=R>>>16,0|tr[Q+(12*_|0)+2+y>>0]):D}else R=D}else R=D}while(0);if(2<=(0|(F=J+1|0))){F=3;break}D=R,F=0|tr[g+(J=F)>>0]}if(3==(0|F)){O=r+1300+(l<<4)+u|0,z=e+92|0,j=A+4|0,H=e+10516|0,D=0,_=R;A:for(;;){if(0|tr[s>>0]){F=62;break}do{if(0|tr[g+D>>0]){if(F=0|ar[v+(D<<2)>>2],Q=0|ar[m+(D<<2)>>2],R=F>>(N=0|ar[M>>2]),N=Q>>N,(0|R)<=-1){F=35;break A}if((0|(Y=0|ar[k>>2]))<=(0|R)){F=35;break A}if((0|N)<=-1){F=38;break A}if((0|N)>=(0|ar[h>>2])){F=38;break A}if(u=(0|ar[w>>2])+(3*((0|br(Y,N))+R|0)|0)|0,768&(cr[u>>0]|cr[u+1>>0]<<8)){if(N=F>>(u=0|ar[B>>2]),F=Q>>u,(0|N)<=-1){F=42;break A}if((0|(R=0|ar[E>>2]))<=(0|N)){F=42;break A}if((0|F)<=-1){F=45;break A}if((0|F)>=(0|ar[X>>2])){F=45;break A}if(Y=0|ar[W>>2],F=(0|br(R,F))+N|0,1==(0|tr[Y+(12*F|0)+l>>0])&&(T=Y+(12*F|0)+2+l|0,(0|tr[O>>0])==(0|tr[(0|tr[T>>0])+(r+1300+(l<<4))>>0]))){tr[s>>0]=1,R=lr[(R=Y+(12*F|0)+4+(l<<2)|0)>>1]|lr[R+2>>1]<<16,or[d>>1]=R,or[d+2>>1]=R>>>16,R=l,_=0|tr[T>>0];break}1==(0|tr[Y+(12*F|0)+y>>0])&&(U=Y+(12*F|0)+2+y|0,(0|tr[O>>0])==(0|tr[(0|tr[U>>0])+(r+1300+(y<<4))>>0]))?(tr[s>>0]=1,R=lr[(R=Y+(12*F|0)+4+(y<<2)|0)>>1]|lr[R+2>>1]<<16,or[d>>1]=R,or[d+2>>1]=R>>>16,R=y,_=0|tr[U>>0]):R=-1}else R=-1}else R=-1}while(0);do{if(1==(0|tr[s>>0])){if((0|_)<0){F=61;break A}if((0|R)<=-1){F=55;break A}if(F=0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[r+916+(R<<6)+(_<<2)>>2]),Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[L>>2]),!((tr[O>>0]|tr[r+1300+(R<<4)+_>>0])<<24>>24)){if(N=(R=0|ar[z>>2])-(0|ar[F+92>>2])|0,F=R-p|0,R=lr[d>>1]|lr[d+2>>1]<<16,N=(0|N)<-128?-128:(0|N)<127?N:127){u=32+(0|br((16384+(((0|N)<0?0-N|0:N)>>1)|0)/(0|N)|0,(0|F)<-128?-128:(0|F)<127?F:127))>>6,J=0|br(u=(0|u)<-4096?-4096:(0|u)<4095?u:4095,R<<16>>16),J=0|br(((Q=(0|J)<0)?0-J|0:J)+127>>8,Q?-1:0!=(0|J)&1),or[d>>1]=(0|J)<-32768?-32768:65535&((0|J)<32767?J:32767),u=0|br(u,R>>16),u=0|br(((J=(0|u)<0)?0-u|0:u)+127>>8,J?-1:0!=(0|u)&1),or[S>>1]=(0|u)<-32768?-32768:65535&((0|u)<32767?u:32767);break}er(j,1008,0),tr[H>>0]=3;break}}}while(0);if(2<=(0|(D=D+1|0))){F=62;break}}if(35==(0|F))sr(48482,48519,118,48539);else if(38==(0|F))sr(48543,48519,119,48539);else if(42==(0|F))sr(48482,48519,118,48539);else if(45==(0|F))sr(48543,48519,119,48539);else if(55==(0|F))sr(48685,48428,1698,48699);else{if(61==(0|F))return tr[G>>0]=0,tr[s>>0]=0,ur=V;if(62==(0|F)){F=a+t|0,ar[I>>2]=F,R=o+-1|0,ar[C>>2]=R,ar[4+I>>2]=F+-1,ar[C+4>>2]=R,ar[8+I>>2]=Z,ar[C+8>>2]=R,tr[G>>0]=0,or[(u=d+4|0)>>1]=0,Y=-1,J=or[(M=d+6|0)>>1]=0;A:for(;;){S=0|ka(e,i,f,n,t,o,a,c,b,F,R),tr[P+J>>0]=1&S;do{if(S&&0==(0|tr[G>>0])){if(N=F>>(S=0|ar[B>>2]),F=R>>S,(0|N)<=-1){F=68;break A}if((0|(R=0|ar[E>>2]))<=(0|N)){F=68;break A}if((0|F)<=-1){F=71;break A}if((0|F)>=(0|ar[X>>2])){F=71;break A}if(D=0|ar[W>>2],N=(0|br(R,F))+N|0,R=0|tr[(_=D+(12*N|0)+l|0)>>0]?0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[r+916+(l<<6)+(tr[D+(12*N|0)+2+l>>0]<<2)>>2]):0,F=0|tr[(Q=D+(12*N|0)+y|0)>>0]?0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[r+916+(y<<6)+(tr[D+(12*N|0)+2+y>>0]<<2)>>2]):0,0!=(0|R)&0!=(0|tr[_>>0])&&(0|ar[R+92>>2])==(0|p)){tr[G>>0]=1,Y=lr[(Y=D+(12*N|0)+4+(l<<2)|0)>>1]|lr[Y+2>>1]<<16,or[u>>1]=Y,or[u+2>>1]=Y>>>16,Y=0|tr[D+(12*N|0)+2+l>>0];break}0!=(0|F)&0!=(0|tr[Q>>0])&&(0|ar[F+92>>2])==(0|p)&&(tr[G>>0]=1,Y=lr[(Y=D+(12*N|0)+4+(y<<2)|0)>>1]|lr[Y+2>>1]<<16,or[u>>1]=Y,or[u+2>>1]=Y>>>16,Y=0|tr[D+(12*N|0)+2+y>>0])}}while(0);if(3<=(0|(R=J+1|0))){F=63;break}F=0|ar[I+((J=R)<<2)>>2],R=0|ar[C+(R<<2)>>2]}if(63==(0|F)){A:do{if(!x){0|tr[G>>0]&&(tr[s>>0]=1,x=lr[u>>1]|lr[u+2>>1]<<16,or[d>>1]=x,or[d+2>>1]=x>>>16),D=e+10332|(tr[G>>0]=0),Q=0;e:for(;;){do{if(0|tr[P+Q>>0]){if(R=0|ar[B>>2],F=ar[I+(Q<<2)>>2]>>R,R=ar[C+(Q<<2)>>2]>>R,(0|F)<=-1){F=90;break e}if((0|(N=0|ar[E>>2]))<=(0|F)){F=90;break e}if((0|R)<=-1){F=93;break e}if((0|R)>=(0|ar[X>>2])){F=93;break e}if(_=0|ar[W>>2],F=(0|br(N,R))+F|0,1==(0|tr[_+(12*F|0)+l>>0])&&(K=_+(12*F|0)+2+l|0,(0|tr[O>>0])==(0|tr[(0|tr[K>>0])+(r+1300+(l<<4))>>0]))){tr[G>>0]=1,N=lr[(N=_+(12*F|0)+4+(l<<2)|0)>>1]|lr[N+2>>1]<<16,or[u>>1]=N,or[u+2>>1]=N>>>16,N=l,Y=0|tr[K>>0];break}1==(0|tr[_+(12*F|0)+y>>0])&&(q=_+(12*F|0)+2+y|0,(0|tr[O>>0])==(0|tr[(0|tr[q>>0])+(r+1300+(y<<4))>>0]))?(tr[G>>0]=1,N=lr[(N=_+(12*F|0)+4+(y<<2)|0)>>1]|lr[N+2>>1]<<16,or[u>>1]=N,or[u+2>>1]=N>>>16,N=y,Y=0|tr[q>>0]):N=-1}else N=-1}while(0);do{if(1==(0|tr[G>>0])){if((0|Y)<0){F=110;break e}if((0|N)<=-1){F=103;break e}if(0==(0|(F=0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[r+916+(N<<6)+(Y<<2)>>2])))|0==(0|(R=0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[L>>2])))){er(4+(0|ar[D>>2])|0,1012,0),tr[H>>0]=3;break}if((0|(F=0|ar[F+92>>2]))!=(0|ar[R+92>>2])&&(tr[r+1300+(N<<4)+Y>>0]|tr[O>>0])<<24>>24==0){if(N=(R=0|ar[z>>2])-F|0,F=R-p|0,R=lr[u>>1]|lr[u+2>>1]<<16,N=(0|N)<-128?-128:(0|N)<127?N:127){x=32+(0|br((16384+(((0|N)<0?0-N|0:N)>>1)|0)/(0|N)|0,(0|F)<-128?-128:(0|F)<127?F:127))>>6,c=0|br(x=(0|x)<-4096?-4096:(0|x)<4095?x:4095,R<<16>>16),c=0|br(((a=(0|c)<0)?0-c|0:c)+127>>8,a?-1:0!=(0|c)&1),or[u>>1]=(0|c)<-32768?-32768:65535&((0|c)<32767?c:32767),x=0|br(x,R>>16),x=0|br(((c=(0|x)<0)?0-x|0:x)+127>>8,c?-1:0!=(0|x)&1),or[M>>1]=(0|x)<-32768?-32768:65535&((0|x)<32767?x:32767);break}er(j,1008,0),tr[H>>0]=3;break}}}while(0);if(3<=(0|(Q=Q+1|0)))break A;if(0|tr[G>>0])break A}if(90==(0|F))sr(48482,48519,118,48539);else if(93==(0|F))sr(48543,48519,119,48539);else if(103==(0|F))sr(48685,48428,1839,48699);else if(110==(0|F)){tr[G>>0]=0,tr[s>>0]=0;break}}}while(0);return ur=V}68==(0|F)?sr(48482,48519,118,48539):71==(0|F)&&sr(48543,48519,119,48539)}}}else 8==(0|F)?sr(48482,48519,118,48539):11==(0|F)?sr(48543,48519,119,48539):15==(0|F)?sr(48482,48519,118,48539):18==(0|F)&&sr(48543,48519,119,48539)}else ur=V}(A|=0,r|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0,h=m+18|0,w=m+8|0),0|tr[h>>0]){do{if(0|tr[h+1>>0]){if((0|or[w>>1])==(0|or[w+4>>1])&&(0|or[w+2>>1])==(0|or[w+6>>1])){k=6;break}tr[v>>0]=0}else k=6}while(0);6==(0|k)&&hc(A,r,e,t,o,a,c,u,l,m,v),A=0|ar[w>>2],or[s>>1]=A,or[s+2>>1]=A>>>16,e=A=1}else hc(A,r,e,t,o,a,c,u,l,m,v),e=A=0;do{if(0|tr[h+1>>0]){if(e&&(0|or[w>>1])==(0|or[w+4>>1])&&(0|or[w+2>>1])==(0|or[w+6>>1]))break;h=s+(A<<2)|0,w=0|ar[w+4>>2],or[h>>1]=w,or[h+2>>1]=w>>>16,A=A+1|0}}while(0);if(0|tr[v>>0]&&(v=s+(A<<2)|0,m=0|ar[m>>2],or[v>>1]=m,or[v+2>>1]=m>>>16,A=A+1|0),(0|A)<2)return vb(s+(A<<2)|0,0,8-(A<<2)|0),void(ur=d);2!=(0|A)?sr(48737,48428,1943,48753):ur=d}function mc(A,e,r,i,f,n,t,o,a,c,l,u){var b,s;s=ur=(b=ur)+31&-32,ur=ur+16|0,function(A,e,r,i,f,n,t,o,a,c,l,u,b){A|=0,e|=0,i|=0,a|=0,c|=0,l|=0,u|=0,b|=0;var s,d,k,h,w,v=0,m=0,g=0;switch(d=ur=(w=ur)+31&-32,ur=ur+80|0,h=8+d|0,k=(t|=0)+(f|=0)|0,s=(o|=0)+(n|=0)|0,t=f>>(o=0|ar[(r|=0)+10368>>2]),o=n>>o,(0|t)<=-1&&sr(48482,48519,118,48539),(0|(v=0|ar[r+10372>>2]))<=(0|t)&&sr(48482,48519,118,48539),(0|o)<=-1&&sr(48543,48519,119,48539),(0|o)>=(0|ar[r+10376>>2])&&sr(48543,48519,119,48539),v=(0|ar[r+10360>>2])+(3*((0|br(v,o))+t|0)|0)|0,(65535&(cr[v>>0]|cr[v+1>>0]<<8))>>>8&3){case 2:t=0|tr[i+10>>0],g=11;break;case 1:16&(t=0|tr[(o=i+10|0)>>0])?g=11:t=o;break;default:t=i+10|0}if(11==(0|g))return wc(A,e,r,f,n,k,s,a,c,l,u,g=(255&t)>>>5&255,h),g=h+(12*g|0)|0,or[b>>1]=0|or[g>>1],or[b+2>>1]=0|or[g+2>>1],or[b+4>>1]=0|or[g+4>>1],or[b+6>>1]=0|or[g+6>>1],or[b+8>>1]=0|or[g+8>>1],or[b+10>>1]=0|or[g+10>>1],0|tr[b>>0]&&12==(l+c|0)&0!=(0|tr[(m=b+1|0)>>0])&&(tr[b+3>>0]=-1,tr[m>>0]=0),ur=w;switch(3&tr[t>>0]){case 1:case 3:v=0|tr[i>>0],tr[b+2>>0]=v,tr[b>>0]=1,g=0|lr[i+4>>1],m=0|lr[i+2>>1],vc(A,e,r,f,n,a,k,s,c,l,0,v<<24>>24,u,h),v=h+(((0|cr[t>>0])>>>2&1)<<2)|0,v=lr[v>>1]|lr[v+2>>1]<<16,ar[d>>2]=v,g=(0|lr[2+d>>1])+g|0,or[b+4>>1]=v+m,or[b+6>>1]=g;break;default:tr[b+2>>0]=-1,tr[b>>0]=0}((3&tr[t>>0])-2&255)<2?(v=0|tr[i+1>>0],tr[b+3>>0]=v,tr[b+1>>0]=1,g=0|lr[i+8>>1],m=0|lr[i+6>>1],vc(A,e,r,f,n,a,k,s,c,l,1,v<<24>>24,u,h),c=h+(((0|cr[t>>0])>>>3&1)<<2)|0,c=lr[c>>1]|lr[c+2>>1]<<16,ar[4+d>>2]=c,g=(0|lr[6+d>>1])+g|0,or[b+8>>1]=c+m,or[b+10>>1]=g):(tr[b+3>>0]=-1,tr[b+1>>0]=0),ur=w}(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,s),function(A,e,r,i,f,n,t,o,a,c,l){A|=0,e|=0,o|=0,a|=0,c|=0,l|=0;var u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0;ur=(B=ur)+49168|0,w=B+32768|0,Y=(y=B)+49152|0,N=(n|=0)+(i|=0)|0,V=(t|=0)+(f|=0)|0,F=(r|=0)+764|0,v=0|ar[r+5780>>2],m=0|ar[r+5784>>2],k=0|ar[r+40>>2],J=(0|br(k,V))+N|0,J=(0|ar[r+4>>2])+(J<<cr[r+16>>0])|0,g=0|ar[r+44>>2],M=(0|br(g,(0|V)/(0|m)|0))+((0|N)/(0|v)|0)|0,Z=(0|ar[r+8>>2])+(M<<cr[r+17>>0])|0,M=(0|ar[r+12>>2])+(M<<cr[r+18>>0])|0,f=255&(u=0|tr[l>>0]),ar[Y>>2]=f,i=255&(D=0|tr[l+1>>0]),ar[(n=Y+4|0)>>2]=i,h=0|ar[(R=r+5760|0)>>2],p=0|ar[(_=r+5768|0)>>2],d=u<<24>>24==0,D<<24>>24==0|0!=(0|tr[(b=r+5961|0)>>0])|d||(0|or[l+4>>1])!=(0|or[l+8>>1])||(0|or[l+6>>1])!=(0|or[l+10>>1])||(0|ar[e+916+(tr[l+2>>0]<<2)>>2])!=(0|ar[e+980+(tr[l+3>>0]<<2)>>2])||(i=ar[n>>2]=0),s=r+10516|0,D=A+4|0,G=0,n=f;A:for(;;){do{if(0|n){if(15<(n=0|tr[l+2+G>>0])<<24>>24){Q=9;break A}if(C=0|Hb[31&ar[8+(0|ar[A>>2])>>2]](A,0|ar[e+916+(G<<6)+(n<<24>>24<<2)>>2]),!(0|ar[C+96>>2])){tr[s>>0]=3,er(D,1012,0);break}if(n=0|or[(W=l+4+(G<<2)|0)>>1],f=0|or[(I=l+4+(G<<2)+2|0)>>1],t=w+(G<<13)|0,E=0|ar[C+4>>2],X=0|ar[C+40>>2],(8<(0|ar[R>>2])?uc:bc)(A,F,n,f,N,V,t,o,E,X,a,c,h),n=0|or[W>>1],f=0|or[I>>1],t=y+(G<<13)|0,E=0|ar[C+8>>2],8<(0|ar[R>>2])){T=(0|a)/(0|v)|0,X=(0|c)/(0|m)|0,sc(A,F,n,f,N,V,t,o,E,0|ar[(U=C+44|0)>>2],T,X,p),sc(A,F,0|or[W>>1],0|or[I>>1],N,V,y+16384+(G<<13)|0,o,0|ar[C+12>>2],0|ar[U>>2],T,X,p);break}T=(0|a)/(0|v)|0,U=(0|c)/(0|m)|0,dc(A,F,n,f,N,V,t,o,E,0|ar[(X=C+44|0)>>2],T,U,p),dc(A,F,0|or[W>>1],0|or[I>>1],N,V,y+16384+(G<<13)|0,o,0|ar[C+12>>2],0|ar[X>>2],T,U,p);break}}while(0);if(2<=(0|(n=G+1|0)))break;n=0|ar[Y+((G=n)<<2)>>2]}if(9==(0|Q))return tr[s>>0]=3,er(D,1012,0),ur=B;switch(f=2<(0|(f=14-(0|ar[R>>2])|0))?f:2,V=0|cr[r+5920>>0],W=2<(0|(W=14-(0|ar[_>>2])|0))?W:2,Y=0|cr[r+5921>>0],0|ar[e+20>>2]){case 1:return i=u<<24>>24==1&0==(0|i),0|tr[b>>0]?i?(U=0|tr[l+2>>0],t=(0|cr[e+380>>0])+f|0,I=(0|cr[e+381>>0])+W|0,n=0|or[e+446+(U<<1)>>1],i=tr[e+510+U>>0]<<V,E=0|or[e+542+(U<<2)>>1],X=tr[e+670+(U<<1)>>0]<<Y,W=0|or[e+542+(U<<2)+2>>1],f=tr[e+670+(U<<1)+1>>0]<<Y,(0|h)<9?us[3&ar[A+180>>2]](J,k,w,o,a,c,n,i,t):bs[7&ar[A+196>>2]](J,k,w,o,a,c,n,i,t,h),n=(0|a)/(0|v)|0,i=(0|c)/(0|m)|0,(0|p)<9?(us[3&ar[(U=A+180|0)>>2]](Z,g,y,o,n,i,E,X,I),us[3&ar[U>>2]](M,g,y+16384|0,o,n,i,W,f,I)):(bs[7&ar[(U=A+196|0)>>2]](Z,g,y,o,n,i,E,X,I,p),bs[7&ar[U>>2]](M,g,y+16384|0,o,n,i,W,f,I,p))):(er(D,1011,0),tr[s>>0]=3):i?((0|h)<9?as[15&ar[A+176>>2]](J,k,w,o,a,c):cs[31&ar[A+192>>2]](J,k,w,o,a,c,h),n=(0|a)/(0|v)|0,i=(0|c)/(0|m)|0,(0|p)<9?(as[15&ar[(U=A+176|0)>>2]](Z,g,y,o,n,i),as[15&ar[U>>2]](M,g,y+16384|0,o,n,i)):(cs[31&ar[(U=A+192|0)>>2]](Z,g,y,o,n,i,p),cs[31&ar[U>>2]](M,g,y+16384|0,o,n,i,p))):(er(D,1011,0),tr[s>>0]=3),ur=B;case 0:return(n=u<<24>>24==1)&(i=1==(0|i))?0|tr[r+5962>>0]?(F=0|tr[l+2>>0],i=0|tr[l+3>>0],X=(0|cr[e+380>>0])+f|0,_=(0|cr[e+381>>0])+W|0,f=0|or[e+446+(F<<1)>>1],t=tr[e+510+F>>0]<<V,E=0|or[e+478+(i<<1)>>1],n=tr[e+526+i>>0]<<V,I=0|or[e+542+(F<<2)>>1],C=tr[e+670+(F<<1)>>0]<<Y,G=0|or[e+542+(F<<2)+2>>1],V=tr[e+670+(F<<1)+1>>0]<<Y,F=0|or[e+606+(i<<2)>>1],R=tr[e+702+(i<<1)>>0]<<Y,N=0|or[e+606+(i<<2)+2>>1],W=tr[e+702+(i<<1)+1>>0]<<Y,i=8192+w|0,(0|h)<9?ss[1&ar[A+184>>2]](J,k,w,i,o,a,c,f,t,E,n,X):ds[1&ar[A+200>>2]](J,k,w,i,o,a,c,f,t,E,n,X,h),f=y+8192|0,t=y+16384|0,E=y+24576|0,n=(0|a)/(0|v)|0,i=(0|c)/(0|m)|0,(0|p)<9?(ss[1&ar[(U=A+184|0)>>2]](Z,g,y,f,o,n,i,I,C,F,R,_),ss[1&ar[U>>2]](M,g,t,E,o,n,i,G,V,N,W,_)):(ds[1&ar[(U=A+200|0)>>2]](Z,g,y,f,o,n,i,I,C,F,R,_,p),ds[1&ar[U>>2]](M,g,t,E,o,n,i,G,V,N,W,_,p))):(i=8192+w|0,X=A+172|0,(0|h)<9?cs[31&ar[X>>2]](J,k,w,i,o,a,c):ls[31&ar[A+188>>2]](J,k,w,i,o,a,c,h),f=y+8192|0,t=y+16384|0,E=y+24576|0,n=(0|a)/(0|v)|0,i=(0|c)/(0|m)|0,(0|p)<9?(cs[31&ar[X>>2]](Z,g,y,f,o,n,i),cs[31&ar[X>>2]](M,g,t,E,o,n,i)):(ls[31&ar[(U=A+188|0)>>2]](Z,g,y,f,o,n,i,p),ls[31&ar[U>>2]](M,g,t,E,o,n,i,p))):n|i?(G=1&d,0|tr[r+5962>>0]?(t=0|tr[l+2+G>>0],E=(0|cr[e+380>>0])+f|0,C=(0|cr[e+381>>0])+W|0,f=0|or[e+446+(G<<5)+(t<<1)>>1],n=tr[e+510+(G<<4)+t>>0]<<V,X=0|or[e+542+(G<<6)+(t<<2)>>1],W=tr[e+670+(G<<5)+(t<<1)>>0]<<Y,I=0|or[e+542+(G<<6)+(t<<2)+2>>1],t=tr[e+670+(G<<5)+(t<<1)+1>>0]<<Y,i=w+(G<<13)|0,(0|h)<9?us[3&ar[A+180>>2]](J,k,i,o,a,c,f,n,E):bs[7&ar[A+196>>2]](J,k,i,o,a,c,f,n,E,h),f=y+(G<<13)|0,n=(0|a)/(0|v)|0,i=(0|c)/(0|m)|0,(0|p)<9?(us[3&ar[(U=A+180|0)>>2]](Z,g,f,o,n,i,X,W,C),us[3&ar[U>>2]](M,g,y+16384+(G<<13)|0,o,n,i,I,t,C)):(bs[7&ar[(U=A+196|0)>>2]](Z,g,f,o,n,i,X,W,C,p),bs[7&ar[U>>2]](M,g,y+16384+(G<<13)|0,o,n,i,I,t,C,p))):(i=w+(G<<13)|0,(0|h)<9?as[15&ar[A+176>>2]](J,k,i,o,a,c):cs[31&ar[A+192>>2]](J,k,i,o,a,c,h),f=y+(G<<13)|0,n=(0|a)/(0|v)|0,i=(0|c)/(0|m)|0,(0|p)<9?(as[15&ar[(U=A+176|0)>>2]](Z,g,f,o,n,i),as[15&ar[U>>2]](M,g,y+16384+(G<<13)|0,o,n,i)):(cs[31&ar[(U=A+192|0)>>2]](Z,g,f,o,n,i,p),cs[31&ar[U>>2]](M,g,y+16384+(G<<13)|0,o,n,i,p)))):(er(D,1011,0),tr[s>>0]=3),ur=B;default:sr(48395,48428,489,48438)}}(A,e,r,f,n,t,o,a,c,l,s),function(A,e,r,i,f,n){var t,o,a,c,l;if(n|=0,l=(e|=0)>>2,c=(r|=0)>>2,a=(i|=0)>>2,o=(f|=0)>>2,t=0|ar[(A|=0)+10392>>2],!((0|o)<=0)&&(i=A+10380|0,0<(0|a))){e=0;do{for(f=(0|br(e+c|0,t))+l|0,r=0;A=(0|ar[i>>2])+(12*(f+r|0)|0)|0,or[A>>1]=0|or[n>>1],or[A+2>>1]=0|or[n+2>>1],or[A+4>>1]=0|or[n+4>>1],or[A+6>>1]=0|or[n+6>>1],or[A+8>>1]=0|or[n+8>>1],or[A+10>>1]=0|or[n+10>>1],(0|(r=r+1|0))!=(0|a););e=e+1|0}while((0|e)!=(0|o))}}(r,t+f|0,o+n|0,c,l,s),ur=b}function gc(A){var e;for(e=(A|=0)+100|0;(0|(A=A+2|(or[A>>1]=0)))<(0|e););}function Zc(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,n|=0,t|=0;var o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;if(o=ur,0!=(0|(f|=0))&&(255&(0|At(r,1)))<<24>>24!=0){do{if(t){if(-99999!=(0|(t=0|it(r)))&(0|t)<(0|f)){t=t+1|0;break}return ur=o,(i=0)|i}t=1}while(0);if((0|(X=f-t|0))<=-1&&sr(48788,48796,129,48806),l=0|At(r,1),-99999==(0|(t=0|it(r))))return ur=o,(i=0)|i;for(u=t+1|0,a=~t,y=0|cr[(0|ar[n>>2])+(100*X|0)+98>>0],ur=(E=ur=(B=ur)+(15+(0|+(c=y+1|0))&-16)|0)+(15+(0|+c)&-16)|0,t=0;p=255&(0|At(r,1)),f=(tr[B+t>>0]=p)<<24>>24?1:255&(0|At(r,1)),tr[E+t>>0]=f,(0|(t=t+1|0))!=(0|c););g=0|l?a:u,t=0|ar[n>>2],Z=255&(u=0|tr[t+(100*X|0)+96>>0]),p=255&(w=0|tr[t+(100*X|0)+97>>0]),w=w<<24>>24==0;A:do{if(w)d=0;else{X>>>0<(((0|ar[(l=n+4|0)>>2])-t|0)/100|0)>>>0?(b=p,k=0,s=t):sr(48834,48796,174,48806);e:for(;;){for(t=b;;){if(a=t+-1|0,17<=(0|t)){I=18;break e}if((0|(f=(0|or[s+(100*X|0)+32+(a<<1)>>1])+g|0))<0&&0|tr[E+(h=a+Z|0)>>0])break;if(!(1<(0|t))){d=k;break A}t=a}if(15<(0|k)){v=0,I=74;break}if(c=k+1|0,or[i+(k<<1)>>1]=f,tr[i+64+k>>0]=0|tr[B+h>>0],(0|t)<=1){d=c;break A}if(t=0|ar[n>>2],!(X>>>0<(((0|ar[l>>2])-t|0)/100|0)>>>0)){I=17;break}b=a,k=c,s=t}if(17==(0|I))sr(48834,48796,174,48806);else if(18==(0|I))sr(48866,48796,175,48806);else if(74==(0|I))return ur=o,0|v}}while(0);do{if((0|g)<0&&0!=(0|tr[E+y>>0])){if(15<(0|d))return ur=o,(i=0)|i;or[i+(d<<1)>>1]=g,tr[i+64+d>>0]=0|tr[B+y>>0],t=d+1|0;break}t=d}while(0);c=u<<24>>24==0;A:do{if(c)tr[(u=i+96|0)>>0]=t,t=0;else{for(a=0;;){if((0|(f=(0|or[(0|ar[n>>2])+(100*X|0)+(a<<1)>>1])+g|0))<0&&0!=(0|tr[E+a>>0])){if(15<(0|t)){v=0,I=74;break}or[i+(t<<1)>>1]=f,tr[i+64+t>>0]=0|tr[B+a>>0],m=t+1|0}else m=t;if((0|Z)<=(0|(a=a+1|0)))break;t=m}if(74==(0|I))return ur=o,0|v;if(tr[(u=i+96|0)>>0]=m,!c){for(f=Z,t=0;;){for(c=0|ar[n>>2],a=f;!(0<(0|(l=(0|or[c+(100*X|0)+((f=a+-1|0)<<1)>>1])+g|0))&&0|tr[E+f>>0]);){if(!(1<(0|a)))break A;a=f}if(15<(0|t)){v=0;break}if(c=t+1|0,or[i+32+(t<<1)>>1]=l,tr[i+80+t>>0]=0|tr[B+f>>0],!(1<(0|a))){t=c;break A}t=c}return ur=o,0|v}t=0}}while(0);do{if(0<(0|g)&&0!=(0|tr[E+y>>0])){if(15<(0|t))return ur=o,(i=0)|i;or[i+32+(t<<1)>>1]=g,tr[i+80+t>>0]=0|tr[B+y>>0],t=t+1|0;break}}while(0);A:do{if(!w){for(a=0;;){if(0<(0|(f=(0|or[(0|ar[n>>2])+(100*X|0)+32+(a<<1)>>1])+g|0))&&0!=(0|tr[E+(W=a+Z|0)>>0])){if(15<(0|t)){v=0;break}or[i+32+(t<<1)>>1]=f,tr[i+80+t>>0]=0|tr[B+W>>0],t=t+1|0}if((0|p)<=(0|(a=a+1|0)))break A}return ur=o,0|v}}while(0);tr[i+97>>0]=t}else I=54;A:do{if(54==(0|I)){if(l=0|it(r),((b=0|it(r))+l|0)>(0|ar[e+528+((0|tr[e+2>>0])-1<<2)>>2]))return or[(i=i+96|0)>>1]=0,er(A,1018,or[i+2>>1]=0),ur=o,(i=0)|i;if(16<(0|l)|16<(0|b))return er(A,1018,0),ur=o,(i=0)|i;tr[(u=i+96|0)>>0]=l,tr[i+97>>0]=b;e:do{if(0<(0|l)){for(f=t=0;;){if(-99999==(0|(a=0|it(r)))){v=0;break}if(e=255&(0|At(r,1)),or[(c=i+(t<<1)|0)>>1]=f+65535-a,tr[i+64+t>>0]=e,(0|l)<=(0|(t=t+1|0)))break e;f=0|or[c>>1]}return ur=o,0|v}}while(0);if(0<(0|b)){for(f=t=0;;){if(-99999==(0|(a=0|it(r)))){v=0;break}if(e=255&(0|At(r,1)),or[(c=i+32+(t<<1)|0)>>1]=f+1+a,tr[i+80+t>>0]=e,(0|b)<=(0|(t=t+1|0)))break A;f=0|or[c>>1]}return ur=o,0|v}}}while(0);if((l=(tr[(b=i+99|0)>>0]=0)|tr[u>>0])<<24>>24)for(c=255&l,f=a=0;t=f+1<<24>>24,0|tr[i+64+a>>0]?tr[b>>0]=t:t=f,(0|(a=a+1|0))!=(0|c);)f=t;else t=0;if(c=255&(r=0|tr[i+97>>0]),r<<24>>24)for(a=0;f=t+1<<24>>24,0|tr[i+80+a>>0]&&(t=tr[b>>0]=f),(0|(a=a+1|0))!=(0|c););return tr[i+98>>0]=c+(255&l),ur=o,0|(i=1)}function pc(A,e,r){A|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0,b=0;if(t=16+(i=ur=(o=ur)+31&-32)|0,n=8+i|0,ur=(f=ur=ur+32|0)+(15+((a=(e|=0)<<1)+2|0)&-16)|0,(tr[f+(a|=1)>>0]=0)<(0|a)&&vb(0|f,46,0|a),tr[f+e>>0]=124,(a=0|tr[A+96>>0])<<24>>24)for(b=0-e|0,a&=255;u=0|or[A+((a=(c=a)+-1|0)<<1)>>1],l=0|tr[A+64+a>>0]?88:111,(0|u)<(0|b)?(ar[i>>2]=u,ar[4+i>>2]=255&l,Pn(r,48895,i)):tr[f+(u+e)>>0]=l,1<(0|c););if(!((a=0|tr[A+97>>0])<<24>>24))return ar[n>>2]=f,Pn(r,48902,n),void(ur=o);for(a&=255;u=0|or[A+32+((a=(c=a)+-1|0)<<1)>>1],l=0|tr[A+80+a>>0]?88:111,(0|e)<(0|u)?(ar[t>>2]=u,ar[4+t>>2]=255&l,Pn(r,48895,t)):tr[f+(u+e)>>0]=l,1<(0|c););ar[n>>2]=f,Pn(r,48902,n),ur=o}function yc(A){A|=0;var e,r=0,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;s=ur=(e=ur)+31&-32,ur=ur+16|0;do{if(A>>>0<245){if(A=(l=A>>>0<11?16:A+11&-8)>>>3,3&(i=(b=0|ar[14392])>>>A)|0)return f=0|ar[(i=(A=57608+((r=(1&i^1)+A|0)<<1<<2)|0)+8|0)>>2],(0|A)==(0|(t=0|ar[(n=f+8|0)>>2]))?ar[14392]=b&~(1<<r):(ar[t+12>>2]=A,ar[i>>2]=t),Z=r<<3,ar[f+4>>2]=3|Z,ar[(Z=f+Z+4|0)>>2]=1|ar[Z>>2],ur=e,0|(Z=n);if((u=0|ar[14394])>>>0<l>>>0){if(0|i)return r=((r=i<<A&((r=2<<A)|0-r))&0-r)-1|0,n=0|ar[(A=(r=57608+((f=((i=(r>>>=o=r>>>12&16)>>>5&8)|o|(n=(r>>>=i)>>>2&4)|(A=(r>>>=n)>>>1&2)|(f=(r>>>=A)>>>1&1))+(r>>>f)|0)<<1<<2)|0)+8|0)>>2],(0|r)==(0|(i=0|ar[(o=n+8|0)>>2]))?(A=b&~(1<<f),ar[14392]=A):(ar[i+12>>2]=r,ar[A>>2]=i,A=b),t=(f<<3)-l|0,ar[n+4>>2]=3|l,ar[(f=n+l|0)+4>>2]=1|t,ar[f+t>>2]=t,0|u&&(n=0|ar[14397],i=57608+((r=u>>>3)<<1<<2)|0,A&(r=1<<r)?r=0|ar[(A=i+8|0)>>2]:(ar[14392]=A|r,A=(r=i)+8|0),ar[A>>2]=n,ar[r+12>>2]=n,ar[n+8>>2]=r,ar[n+12>>2]=i),ar[14394]=t,ar[14397]=f,ur=e,0|(Z=o);if(a=0|ar[14393]){if(i=(a&0-a)-1|0,A=0|ar[57872+(((t=(i>>>=o=i>>>12&16)>>>5&8)|o|(c=(i>>>=t)>>>2&4)|(f=(i>>>=c)>>>1&2)|(A=(i>>>=f)>>>1&1))+(i>>>A)<<2)>>2],i=(-8&ar[A+4>>2])-l|0,f=0|ar[A+16+((0==(0|ar[A+16>>2])&1)<<2)>>2]){for(;i=(c=(o=(-8&ar[f+4>>2])-l|0)>>>0<i>>>0)?o:i,A=c?f:A,0!=(0|(f=0|ar[f+16+((0==(0|ar[f+16>>2])&1)<<2)>>2])););c=A,t=i}else c=A,t=i;if(c>>>0<(o=c+l|0)>>>0){n=0|ar[c+24>>2],r=0|ar[c+12>>2];do{if((0|r)==(0|c)){if(!(r=0|ar[(A=c+20|0)>>2])&&!(r=0|ar[(A=c+16|0)>>2])){i=0;break}for(;;)if(0|(f=0|ar[(i=r+20|0)>>2]))r=f,A=i;else{if(!(f=0|ar[(i=r+16|0)>>2]))break;r=f,A=i}ar[A>>2]=0,i=r}else i=0|ar[c+8>>2],ar[i+12>>2]=r,ar[r+8>>2]=i,i=r}while(0);do{if(0|n){if(r=0|ar[c+28>>2],(0|c)==(0|ar[(A=57872+(r<<2)|0)>>2])){if(!(ar[A>>2]=i)){ar[14393]=a&~(1<<r);break}}else if(!(ar[n+16+(((0|ar[n+16>>2])!=(0|c)&1)<<2)>>2]=i))break;ar[i+24>>2]=n,0|(r=0|ar[c+16>>2])&&(ar[i+16>>2]=r,ar[r+24>>2]=i),0|(r=0|ar[c+20>>2])&&(ar[i+20>>2]=r,ar[r+24>>2]=i)}}while(0);return t>>>0<16?(Z=t+l|0,ar[c+4>>2]=3|Z,ar[(Z=c+Z+4|0)>>2]=1|ar[Z>>2]):(ar[c+4>>2]=3|l,ar[o+4>>2]=1|t,ar[o+t>>2]=t,0|u&&(f=0|ar[14397],i=57608+((r=u>>>3)<<1<<2)|0,b&(r=1<<r)?r=0|ar[(A=i+8|0)>>2]:(ar[14392]=b|r,A=(r=i)+8|0),ar[A>>2]=f,ar[r+12>>2]=f,ar[f+8>>2]=r,ar[f+12>>2]=i),ar[14394]=t,ar[14397]=o),ur=e,0|(Z=c+8|0)}b=l}else b=l}else b=l}else if(A>>>0<=4294967231)if(l=-8&(A=A+11|0),c=0|ar[14393]){f=0-l|0,a=(A>>>=8)?16777215<l>>>0?31:l>>>((a=14-((u=((g=A<<(b=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|b|(a=((g<<=u)+245760|0)>>>16&2))+(g<<a>>>15)|0)+7|0)&1|a<<1:0,i=0|ar[57872+(a<<2)>>2];A:do{if(i)for(o=l<<(31==((A=0)|a)?0:25-(a>>>1)|0),t=0;;){if((n=(-8&ar[i+4>>2])-l|0)>>>0<f>>>0){if(!n){f=0,n=A=i,g=61;break A}A=i,f=n}if(t=0==(0|(n=0|ar[i+20>>2]))|(0|n)==(0|(i=0|ar[i+16+(o>>>31<<2)>>2]))?t:n,n=0==(0|i)){i=t,g=57;break}o<<=1&(1^n)}else A=i=0,g=57}while(0);if(57==(0|g)){if(0==(0|i)&0==(0|A)){if(!(A=c&((A=2<<a)|0-A))){b=l;break}b=(A&0-A)-1|0,i=(A=0)|ar[57872+(((t=(b>>>=o=b>>>12&16)>>>5&8)|o|(a=(b>>>=t)>>>2&4)|(u=(b>>>=a)>>>1&2)|(i=(b>>>=u)>>>1&1))+(b>>>i)<<2)>>2]}i?(n=i,g=61):(a=A,o=f)}if(61==(0|g))for(;;){if(g=0,i=(b=(i=(-8&ar[n+4>>2])-l|0)>>>0<f>>>0)?i:f,A=b?n:A,!(n=0|ar[n+16+((0==(0|ar[n+16>>2])&1)<<2)>>2])){a=A,o=i;break}f=i,g=61}if(0!=(0|a)&&o>>>0<((0|ar[14394])-l|0)>>>0){if((t=a+l|0)>>>0<=a>>>0)return ur=e,(Z=0)|Z;n=0|ar[a+24>>2],r=0|ar[a+12>>2];do{if((0|r)==(0|a)){if(!(r=0|ar[(A=a+20|0)>>2])&&!(r=0|ar[(A=a+16|0)>>2])){r=0;break}for(;;)if(0|(f=0|ar[(i=r+20|0)>>2]))r=f,A=i;else{if(!(f=0|ar[(i=r+16|0)>>2]))break;r=f,A=i}ar[A>>2]=0}else Z=0|ar[a+8>>2],ar[Z+12>>2]=r,ar[r+8>>2]=Z}while(0);do{if(n){if(A=0|ar[a+28>>2],(0|a)==(0|ar[(i=57872+(A<<2)|0)>>2])){if(!(ar[i>>2]=r)){f=c&~(1<<A),ar[14393]=f;break}}else if(!(ar[n+16+(((0|ar[n+16>>2])!=(0|a)&1)<<2)>>2]=r)){f=c;break}ar[r+24>>2]=n,0|(A=0|ar[a+16>>2])&&(ar[r+16>>2]=A,ar[A+24>>2]=r),f=((A=0|ar[a+20>>2])&&(ar[r+20>>2]=A,ar[A+24>>2]=r),c)}else f=c}while(0);do{if(16<=o>>>0){if(ar[a+4>>2]=3|l,ar[t+4>>2]=1|o,r=(ar[t+o>>2]=o)>>>3,o>>>0<256){i=57608+(r<<1<<2)|0,(A=0|ar[14392])&(r=1<<r)?r=0|ar[(A=i+8|0)>>2]:(ar[14392]=A|r,A=(r=i)+8|0),ar[A>>2]=t,ar[r+12>>2]=t,ar[t+8>>2]=r,ar[t+12>>2]=i;break}if(i=57872+((r=(r=o>>>8)?16777215<o>>>0?31:o>>>((r=14-((m=((Z=r<<(g=(r+1048320|0)>>>16&8))+520192|0)>>>16&4)|g|(r=((Z<<=m)+245760|0)>>>16&2))+(Z<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,ar[t+28>>2]=r,ar[(A=t+16|0)+4>>2]=0,ar[A>>2]=0,!(f&(A=1<<r))){ar[14393]=f|A,ar[i>>2]=t,ar[t+24>>2]=i,ar[t+12>>2]=t,ar[t+8>>2]=t;break}for(A=o<<(31==(0|r)?0:25-(r>>>1)|0),i=0|ar[i>>2];;){if((-8&ar[i+4>>2]|0)==(0|o)){g=97;break}if(!(r=0|ar[(f=i+16+(A>>>31<<2)|0)>>2])){g=96;break}A<<=1,i=r}if(96==(0|g)){ar[f>>2]=t,ar[t+24>>2]=i,ar[t+12>>2]=t,ar[t+8>>2]=t;break}if(97==(0|g)){Z=0|ar[(g=i+8|0)>>2],ar[Z+12>>2]=t,ar[g>>2]=t,ar[t+8>>2]=Z,ar[t+12>>2]=i,ar[t+24>>2]=0;break}}else Z=o+l|0,ar[a+4>>2]=3|Z,ar[(Z=a+Z+4|0)>>2]=1|ar[Z>>2]}while(0);return ur=e,0|(Z=a+8|0)}b=l}else b=l;else b=-1}while(0);if(b>>>0<=(i=0|ar[14394])>>>0)return r=i-b|0,A=0|ar[14397],15<r>>>0?(Z=A+b|0,ar[14397]=Z,ar[14394]=r,ar[Z+4>>2]=1|r,ar[Z+r>>2]=r,ar[A+4>>2]=3|b):(ar[14394]=0,ar[14397]=0,ar[A+4>>2]=3|i,ar[(Z=A+i+4|0)>>2]=1|ar[Z>>2]),ur=e,0|(Z=A+8|0);if(b>>>0<(o=0|ar[14395])>>>0)return m=o-b|0,ar[14395]=m,g=(Z=0|ar[14398])+b|0,ar[14398]=g,ar[g+4>>2]=1|m,ar[Z+4>>2]=3|b,ur=e,0|(Z=Z+8|0);if(a=b+48|0,(l=(t=(A=0|ar[14510]?0|ar[14512]:(ar[14512]=4096,ar[14511]=4096,ar[14513]=-1,ar[14514]=-1,ar[14515]=0,ar[14503]=0,A=-16&s^1431655768,ar[s>>2]=A,ar[14510]=A,4096))+(c=b+47|0)|0)&(n=0-A|0))>>>0<=b>>>0)return ur=e,(Z=0)|Z;if(0|(A=0|ar[14502])&&(s=(u=0|ar[14500])+l|0)>>>0<=u>>>0|A>>>0<s>>>0)return ur=e,(Z=0)|Z;A:do{if(4&ar[14503])r=0,g=133;else{i=0|ar[14398];e:do{if(i){for(f=58016;!((A=0|ar[f>>2])>>>0<=i>>>0&&(A+(0|ar[(h=f+4|0)>>2])|0)>>>0>i>>>0);){if(!(A=0|ar[f+8>>2])){g=118;break e}f=A}if((r=t-o&n)>>>0<2147483647)if((0|(A=0|yb(0|r)))==((0|ar[f>>2])+(0|ar[h>>2])|0)){if(-1!=(0|A)){o=r,t=A,g=135;break A}}else f=A,g=126;else r=0}else g=118}while(0);do{if(118==(0|g))if(-1!=(0|(i=0|yb(0)))&&(r=i,k=(r=(0==((k=(d=0|ar[14511])+-1|0)&r|0)?0:(k+r&0-d)-r|0)+l|0)+(d=0|ar[14500])|0,b>>>0<r>>>0&r>>>0<2147483647)){if(0|(h=0|ar[14502])&&k>>>0<=d>>>0|h>>>0<k>>>0){r=0;break}if((0|(A=0|yb(0|r)))==(0|i)){o=r,t=i,g=135;break A}f=A,g=126}else r=0}while(0);do{if(126==(0|g)){if(i=0-r|0,!(r>>>0<a>>>0&r>>>0<2147483647&-1!=(0|f))){if(-1==(0|f)){r=0;break}o=r,t=f,g=135;break A}if(2147483647<=(A=c-r+(A=0|ar[14512])&0-A)>>>0){o=r,t=f,g=135;break A}if(-1==(0|yb(0|A))){yb(0|i),r=0;break}o=A+r|0,t=f,g=135;break A}}while(0);ar[14503]=4|ar[14503],g=133}}while(0);if(133==(0|g)&&l>>>0<2147483647&&!(-1==(0|(m=0|yb(0|l)))|1^(v=(b+40|0)>>>0<(w=(h=0|yb(0))-m|0)>>>0)|m>>>0<h>>>0&-1!=(0|m)&-1!=(0|h)^1)&&(o=v?w:r,t=m,g=135),135==(0|g)){r=(0|ar[14500])+o|0,(ar[14500]=r)>>>0>(0|ar[14501])>>>0&&(ar[14501]=r),c=0|ar[14398];do{if(c){for(r=58016;;){if((0|t)==((A=0|ar[r>>2])+(f=0|ar[(i=r+4|0)>>2])|0)){g=145;break}if(!(n=0|ar[r+8>>2]))break;r=n}if(145==(0|g)&&0==(8&ar[r+12>>2]|0)&&c>>>0<t>>>0&A>>>0<=c>>>0){ar[i>>2]=f+o,g=c+(Z=0==(7&(Z=c+8|0)|0)?0:0-Z&7)|0,Z=(0|ar[14395])+(o-Z)|0,ar[14398]=g,ar[14395]=Z,ar[g+4>>2]=1|Z,ar[g+Z+4>>2]=40,ar[14399]=ar[14514];break}for(t>>>0<(0|ar[14396])>>>0&&(ar[14396]=t),i=t+o|0,r=58016;;){if((0|ar[r>>2])==(0|i)){g=153;break}if(!(A=0|ar[r+8>>2]))break;r=A}if(153==(0|g)&&0==(8&ar[r+12>>2]|0)){ar[r>>2]=t,ar[(u=r+4|0)>>2]=(0|ar[u>>2])+o,l=(u=t+(0==(7&(u=t+8|0)|0)?0:0-u&7)|0)+b|0,a=(r=i+(0==(7&(r=i+8|0)|0)?0:0-r&7)|0)-u-b|0,ar[u+4>>2]=3|b;do{if((0|r)!=(0|c)){if((0|r)==(0|ar[14397])){Z=(0|ar[14394])+a|0,ar[14394]=Z,ar[14397]=l,ar[l+4>>2]=1|Z,ar[l+Z>>2]=Z;break}if(1==(3&(A=0|ar[r+4>>2])|0)){o=-8&A,f=A>>>3;A:do{if(A>>>0<256){if(A=0|ar[r+8>>2],(0|(i=0|ar[r+12>>2]))==(0|A)){ar[14392]=ar[14392]&~(1<<f);break}ar[A+12>>2]=i,ar[i+8>>2]=A;break}t=0|ar[r+24>>2],A=0|ar[r+12>>2];do{if((0|A)==(0|r)){if(!(A=0|ar[(i=(f=r+16|0)+4|0)>>2])){if(!(A=0|ar[f>>2])){A=0;break}i=f}for(;;)if(0|(n=0|ar[(f=A+20|0)>>2]))A=n,i=f;else{if(!(n=0|ar[(f=A+16|0)>>2]))break;A=n,i=f}ar[i>>2]=0}else Z=0|ar[r+8>>2],ar[Z+12>>2]=A,ar[A+8>>2]=Z}while(0);if(!t)break;f=57872+((i=0|ar[r+28>>2])<<2)|0;do{if((0|r)==(0|ar[f>>2])){if(0|(ar[f>>2]=A))break;ar[14393]=ar[14393]&~(1<<i);break A}if(!(ar[t+16+(((0|ar[t+16>>2])!=(0|r)&1)<<2)>>2]=A))break A}while(0);if(ar[A+24>>2]=t,0|(f=0|ar[(i=r+16|0)>>2])&&(ar[A+16>>2]=f,ar[f+24>>2]=A),!(i=0|ar[i+4>>2]))break;ar[A+20>>2]=i,ar[i+24>>2]=A}while(0);r=r+o|0,n=o+a|0}else n=a;if(ar[(r=r+4|0)>>2]=-2&ar[r>>2],ar[l+4>>2]=1|n,r=(ar[l+n>>2]=n)>>>3,n>>>0<256){i=57608+(r<<1<<2)|0,(A=0|ar[14392])&(r=1<<r)?r=0|ar[(A=i+8|0)>>2]:(ar[14392]=A|r,A=(r=i)+8|0),ar[A>>2]=l,ar[r+12>>2]=l,ar[l+8>>2]=r,ar[l+12>>2]=i;break}r=n>>>8;do{if(r){if(16777215<n>>>0){r=31;break}r=n>>>((r=14-((m=((Z=r<<(g=(r+1048320|0)>>>16&8))+520192|0)>>>16&4)|g|(r=((Z<<=m)+245760|0)>>>16&2))+(Z<<r>>>15)|0)+7|0)&1|r<<1}else r=0}while(0);if(f=57872+(r<<2)|0,ar[l+28>>2]=r,ar[(A=l+16|0)+4>>2]=0,!((A=(ar[A>>2]=0)|ar[14393])&(i=1<<r))){ar[14393]=A|i,ar[f>>2]=l,ar[l+24>>2]=f,ar[l+12>>2]=l,ar[l+8>>2]=l;break}for(A=n<<(31==(0|r)?0:25-(r>>>1)|0),i=0|ar[f>>2];;){if((-8&ar[i+4>>2]|0)==(0|n)){g=194;break}if(!(r=0|ar[(f=i+16+(A>>>31<<2)|0)>>2])){g=193;break}A<<=1,i=r}if(193==(0|g)){ar[f>>2]=l,ar[l+24>>2]=i,ar[l+12>>2]=l,ar[l+8>>2]=l;break}if(194==(0|g)){Z=0|ar[(g=i+8|0)>>2],ar[Z+12>>2]=l,ar[g>>2]=l,ar[l+8>>2]=Z,ar[l+12>>2]=i,ar[l+24>>2]=0;break}}else Z=(0|ar[14395])+a|0,ar[14395]=Z,ar[14398]=l,ar[l+4>>2]=1|Z}while(0);return ur=e,0|(Z=u+8|0)}for(r=58016;!((A=0|ar[r>>2])>>>0<=c>>>0&&c>>>0<(Z=A+(0|ar[r+4>>2])|0)>>>0);)r=0|ar[r+8>>2];for(r=(A=(A=(n=Z+-47|0)+(0==(7&(A=n+8|0)|0)?0:0-A&7)|0)>>>0<(n=c+16|0)>>>0?c:A)+8|0,g=t+(i=0==(7&(i=t+8|0)|0)?0:0-i&7)|0,i=o+-40-i|0,ar[14398]=g,ar[14395]=i,ar[g+4>>2]=1|i,ar[g+i+4>>2]=40,ar[14399]=ar[14514],ar[(i=A+4|0)>>2]=27,ar[r>>2]=ar[14504],ar[r+4>>2]=ar[14505],ar[r+8>>2]=ar[14506],ar[r+12>>2]=ar[14507],ar[14504]=t,ar[14505]=o,ar[14507]=0,ar[14506]=r,r=A+24|0;ar[(r=(g=r)+4|0)>>2]=7,(g+8|0)>>>0<Z>>>0;);if((0|A)!=(0|c)){if(t=A-c|0,ar[i>>2]=-2&ar[i>>2],ar[c+4>>2]=1|t,r=(ar[A>>2]=t)>>>3,t>>>0<256){i=57608+(r<<1<<2)|0,(A=0|ar[14392])&(r=1<<r)?r=0|ar[(A=i+8|0)>>2]:(ar[14392]=A|r,A=(r=i)+8|0),ar[A>>2]=c,ar[r+12>>2]=c,ar[c+8>>2]=r,ar[c+12>>2]=i;break}if(f=57872+((i=(r=t>>>8)?16777215<t>>>0?31:t>>>((i=14-((m=((Z=r<<(g=(r+1048320|0)>>>16&8))+520192|0)>>>16&4)|g|(i=((Z<<=m)+245760|0)>>>16&2))+(Z<<i>>>15)|0)+7|0)&1|i<<1:0)<<2)|0,ar[c+28>>2]=i,ar[c+20>>2]=0,!((r=(ar[n>>2]=0)|ar[14393])&(A=1<<i))){ar[14393]=r|A,ar[f>>2]=c,ar[c+24>>2]=f,ar[c+12>>2]=c,ar[c+8>>2]=c;break}for(A=t<<(31==(0|i)?0:25-(i>>>1)|0),i=0|ar[f>>2];;){if((-8&ar[i+4>>2]|0)==(0|t)){g=216;break}if(!(r=0|ar[(f=i+16+(A>>>31<<2)|0)>>2])){g=215;break}A<<=1,i=r}if(215==(0|g)){ar[f>>2]=c,ar[c+24>>2]=i,ar[c+12>>2]=c,ar[c+8>>2]=c;break}if(216==(0|g)){Z=0|ar[(g=i+8|0)>>2],ar[Z+12>>2]=c,ar[g>>2]=c,ar[c+8>>2]=Z,ar[c+12>>2]=i,ar[c+24>>2]=0;break}}}else{for(0==(0|(Z=0|ar[14396]))|t>>>0<Z>>>0&&(ar[14396]=t),ar[14504]=t,ar[14505]=o,ar[14507]=0,ar[14401]=ar[14510],ar[14400]=-1,r=0;ar[(Z=57608+(r<<1<<2)|0)+12>>2]=Z,ar[Z+8>>2]=Z,32!=(0|(r=r+1|0)););g=t+(Z=0==(7&(Z=t+8|0)|0)?0:0-Z&7)|0,Z=o+-40-Z|0,ar[14398]=g,ar[14395]=Z,ar[g+4>>2]=1|Z,ar[g+Z+4>>2]=40,ar[14399]=ar[14514]}}while(0);if(b>>>0<(r=0|ar[14395])>>>0)return m=r-b|0,ar[14395]=m,g=(Z=0|ar[14398])+b|0,ar[14398]=g,ar[g+4>>2]=1|m,ar[Z+4>>2]=3|b,ur=e,0|(Z=Z+8|0)}return ar[(Z=10364)>>2]=12,ur=e,(Z=0)|Z}function Bc(A){var e=0,r=0,i=0,f=0,n=0,t=0,o=0,a=0;if(A|=0){r=A+-8|0,f=0|ar[14396],a=r+(e=-8&(A=0|ar[A+-4>>2]))|0;do{if(1&A)t=o=r;else{if(i=0|ar[r>>2],!(3&A))return;if(n=i+e|0,(t=r+(0-i)|0)>>>0<f>>>0)return;if((0|t)==(0|ar[14397])){if(3==(3&(e=0|ar[(A=a+4|0)>>2])|0))return ar[14394]=n,ar[A>>2]=-2&e,ar[t+4>>2]=1|n,void(ar[t+n>>2]=n);o=t,e=n;break}if(r=i>>>3,i>>>0<256){if(A=0|ar[t+8>>2],(0|(e=0|ar[t+12>>2]))==(0|A)){ar[14392]=ar[14392]&~(1<<r),o=t,e=n;break}ar[A+12>>2]=e,ar[e+8>>2]=A,o=t,e=n;break}f=0|ar[t+24>>2],A=0|ar[t+12>>2];do{if((0|A)==(0|t)){if(!(A=0|ar[(e=(r=t+16|0)+4|0)>>2])){if(!(A=0|ar[r>>2])){A=0;break}e=r}for(;;)if(0|(i=0|ar[(r=A+20|0)>>2]))A=i,e=r;else{if(!(i=0|ar[(r=A+16|0)>>2]))break;A=i,e=r}ar[e>>2]=0}else o=0|ar[t+8>>2],ar[o+12>>2]=A,ar[A+8>>2]=o}while(0);if(f){if(e=0|ar[t+28>>2],(0|t)==(0|ar[(r=57872+(e<<2)|0)>>2])){if(!(ar[r>>2]=A)){ar[14393]=ar[14393]&~(1<<e),o=t,e=n;break}}else if(!(ar[f+16+(((0|ar[f+16>>2])!=(0|t)&1)<<2)>>2]=A)){o=t,e=n;break}ar[A+24>>2]=f,0|(r=0|ar[(e=t+16|0)>>2])&&(ar[A+16>>2]=r,ar[r+24>>2]=A),e=(o=((e=0|ar[e+4>>2])&&(ar[A+20>>2]=e,ar[e+24>>2]=A),t),n)}else o=t,e=n}}while(0);if(!(a>>>0<=t>>>0)&&1&(i=0|ar[(A=a+4|0)>>2])){if(2&i)ar[A>>2]=-2&i,ar[o+4>>2]=1|e,f=ar[t+e>>2]=e;else{if(A=0|ar[14397],(0|a)==(0|ar[14398])){if(a=(0|ar[14395])+e|0,ar[14395]=a,ar[14398]=o,ar[o+4>>2]=1|a,(0|o)!=(0|A))return;return ar[14397]=0,void(ar[14394]=0)}if((0|a)==(0|A))return a=(0|ar[14394])+e|0,ar[14394]=a,ar[14397]=t,ar[o+4>>2]=1|a,void(ar[t+a>>2]=a);f=(-8&i)+e|0,r=i>>>3;do{if(i>>>0<256){if(e=0|ar[a+8>>2],(0|(A=0|ar[a+12>>2]))==(0|e)){ar[14392]=ar[14392]&~(1<<r);break}ar[e+12>>2]=A,ar[A+8>>2]=e;break}n=0|ar[a+24>>2],A=0|ar[a+12>>2];do{if((0|A)==(0|a)){if(!(A=0|ar[(e=(r=a+16|0)+4|0)>>2])){if(!(A=0|ar[r>>2])){r=0;break}e=r}for(;;)if(0|(i=0|ar[(r=A+20|0)>>2]))A=i,e=r;else{if(!(i=0|ar[(r=A+16|0)>>2]))break;A=i,e=r}ar[e>>2]=0,r=A}else r=0|ar[a+8>>2],ar[r+12>>2]=A,ar[A+8>>2]=r,r=A}while(0);if(0|n){if(A=0|ar[a+28>>2],(0|a)==(0|ar[(e=57872+(A<<2)|0)>>2])){if(!(ar[e>>2]=r)){ar[14393]=ar[14393]&~(1<<A);break}}else if(!(ar[n+16+(((0|ar[n+16>>2])!=(0|a)&1)<<2)>>2]=r))break;ar[r+24>>2]=n,0|(e=0|ar[(A=a+16|0)>>2])&&(ar[r+16>>2]=e,ar[e+24>>2]=r),0|(A=0|ar[A+4>>2])&&(ar[r+20>>2]=A,ar[A+24>>2]=r)}}while(0);if(ar[o+4>>2]=1|f,ar[t+f>>2]=f,(0|o)==(0|ar[14397]))return void(ar[14394]=f)}if(A=f>>>3,f>>>0<256)return r=57608+(A<<1<<2)|0,(e=0|ar[14392])&(A=1<<A)?A=0|ar[(e=r+8|0)>>2]:(ar[14392]=e|A,e=(A=r)+8|0),ar[e>>2]=o,ar[A+12>>2]=o,ar[o+8>>2]=A,void(ar[o+12>>2]=r);i=57872+((A=(A=f>>>8)?16777215<f>>>0?31:f>>>((A=14-((n=((a=A<<(t=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|t|(A=((a<<=n)+245760|0)>>>16&2))+(a<<A>>>15)|0)+7|0)&1|A<<1:0)<<2)|0,ar[o+28>>2]=A,ar[o+20>>2]=0,e=(ar[o+16>>2]=0)|ar[14393],r=1<<A;do{if(e&r){for(e=f<<(31==(0|A)?0:25-(A>>>1)|0),r=0|ar[i>>2];;){if((-8&ar[r+4>>2]|0)==(0|f)){A=73;break}if(!(A=0|ar[(i=r+16+(e>>>31<<2)|0)>>2])){A=72;break}e<<=1,r=A}if(72==(0|A)){ar[i>>2]=o,ar[o+24>>2]=r,ar[o+12>>2]=o,ar[o+8>>2]=o;break}if(73==(0|A)){a=0|ar[(t=r+8|0)>>2],ar[a+12>>2]=o,ar[t>>2]=o,ar[o+8>>2]=a,ar[o+12>>2]=r,ar[o+24>>2]=0;break}}else ar[14393]=e|r,ar[i>>2]=o,ar[o+24>>2]=i,ar[o+12>>2]=o,ar[o+8>>2]=o}while(0);if(a=(0|ar[14400])-1|0,!(ar[14400]=a)){for(A=58024;A=0|ar[A>>2];)A=A+8|0;ar[14400]=-1}}}}function Ec(A,e){e|=0;var r=0,i=0;return(A|=0)?4294967231<e>>>0?(ar[(e=10364)>>2]=12,(e=0)|e):0|(r=0|function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;if(l=0|ar[(u=4+(A|=0)|0)>>2],r=A+(f=-8&l)|0,!(3&l))return!(e>>>0<256)&&(e+4|0)>>>0<=f>>>0&&(f-e|0)>>>0<=ar[14512]<<1>>>0?0|A:(A=0)|A;if(e>>>0<=f>>>0)return(f=f-e|0)>>>0<=15||(c=A+e|0,ar[u>>2]=1&l|e|2,ar[c+4>>2]=3|f,ar[(u=c+f+4|0)>>2]=1|ar[u>>2],Xc(c,f)),0|A;if((0|r)==(0|ar[14398]))return c=(0|ar[14395])+f|0,f=c-e|0,n=A+e|0,c>>>0<=e>>>0?(A=0)|A:(ar[u>>2]=1&l|e|2,ar[n+4>>2]=1|f,ar[14398]=n,ar[14395]=f,0|A);if((0|r)==(0|ar[14397]))return(t=(0|ar[14394])+f|0)>>>0<e>>>0?(A=0)|A:(n=1&l,15<(f=t-e|0)>>>0?(c=(l=A+e|0)+f|0,ar[u>>2]=n|e|2,ar[l+4>>2]=1|f,ar[c>>2]=f,ar[(n=c+4|0)>>2]=-2&ar[n>>2],n=l):(ar[u>>2]=n|t|2,ar[(n=A+t+4|0)>>2]=1|ar[n>>2],f=n=0),ar[14394]=f,ar[14397]=n,0|A);if(2&(n=0|ar[4+r>>2])|0)return(A=0)|A;if((i=(-8&n)+f|0)>>>0<e>>>0)return(A=0)|A;c=i-e|0,t=n>>>3;do{if(n>>>0<256){if(n=0|ar[8+r>>2],(0|(f=0|ar[12+r>>2]))==(0|n)){ar[14392]=ar[14392]&~(1<<t);break}ar[n+12>>2]=f,ar[f+8>>2]=n;break}a=0|ar[24+r>>2],f=0|ar[12+r>>2];do{if((0|f)==(0|r)){if(f=0|ar[(n=(t=16+r|0)+4|0)>>2])o=n;else{if(!(f=0|ar[t>>2])){t=0;break}o=t}for(;;)if(0|(n=0|ar[(t=f+20|0)>>2]))f=n,o=t;else{if(!(t=0|ar[(n=f+16|0)>>2]))break;f=t,o=n}ar[o>>2]=0,t=f}else t=0|ar[8+r>>2],ar[t+12>>2]=f,ar[f+8>>2]=t,t=f}while(0);if(0|a){if(f=0|ar[28+r>>2],(0|r)==(0|ar[(n=57872+(f<<2)|0)>>2])){if(!(ar[n>>2]=t)){ar[14393]=ar[14393]&~(1<<f);break}}else if(!(ar[a+16+(((0|ar[a+16>>2])!=(0|r)&1)<<2)>>2]=t))break;ar[t+24>>2]=a,0|(n=0|ar[(f=16+r|0)>>2])&&(ar[t+16>>2]=n,ar[n+24>>2]=t),0|(f=0|ar[f+4>>2])&&(ar[t+20>>2]=f,ar[f+24>>2]=t)}}while(0);return f=1&l,c>>>0<16?(ar[u>>2]=i|f|2,ar[(u=A+i+4|0)>>2]=1|ar[u>>2]):(l=A+e|0,ar[u>>2]=f|e|2,ar[l+4>>2]=3|c,ar[(u=l+c+4|0)>>2]=1|ar[u>>2],Xc(l,c)),0|A}(A+-8|0,e>>>0<11?16:e+11&-8))?0|(e=r+8|0):(r=0|yc(e))?(hb(0|r,0|A,0|((i=(-8&(i=0|ar[A+-4>>2]))-(0==(3&i|0)?8:4)|0)>>>0<e>>>0?i:e)),Bc(A),0|(e=r)):(e=0)|e:0|(e=0|yc(e))}function Xc(A,e){var r=0,i=0,f=0,n=0,t=0,o=0,a=0;a=(A|=0)+(e|=0)|0,r=0|ar[A+4>>2];do{if(1&r)o=A,r=e;else{if(i=0|ar[A>>2],!(3&r))return;if(t=i+e|0,(0|(n=A+(0-i)|0))==(0|ar[14397])){if(3==(3&(r=0|ar[(A=a+4|0)>>2])|0))return ar[14394]=t,ar[A>>2]=-2&r,ar[n+4>>2]=1|t,void(ar[n+t>>2]=t);o=n,r=t;break}if(e=i>>>3,i>>>0<256){if(A=0|ar[n+8>>2],(0|(r=0|ar[n+12>>2]))==(0|A)){ar[14392]=ar[14392]&~(1<<e),o=n,r=t;break}ar[A+12>>2]=r,ar[r+8>>2]=A,o=n,r=t;break}f=0|ar[n+24>>2],A=0|ar[n+12>>2];do{if((0|A)==(0|n)){if(!(A=0|ar[(r=(e=n+16|0)+4|0)>>2])){if(!(A=0|ar[e>>2])){A=0;break}r=e}for(;;)if(0|(i=0|ar[(e=A+20|0)>>2]))A=i,r=e;else{if(!(i=0|ar[(e=A+16|0)>>2]))break;A=i,r=e}ar[r>>2]=0}else o=0|ar[n+8>>2],ar[o+12>>2]=A,ar[A+8>>2]=o}while(0);if(f){if(r=0|ar[n+28>>2],(0|n)==(0|ar[(e=57872+(r<<2)|0)>>2])){if(!(ar[e>>2]=A)){ar[14393]=ar[14393]&~(1<<r),o=n,r=t;break}}else if(!(ar[f+16+(((0|ar[f+16>>2])!=(0|n)&1)<<2)>>2]=A)){o=n,r=t;break}ar[A+24>>2]=f,0|(e=0|ar[(r=n+16|0)>>2])&&(ar[A+16>>2]=e,ar[e+24>>2]=A),r=(o=((r=0|ar[r+4>>2])&&(ar[A+20>>2]=r,ar[r+24>>2]=A),n),t)}else o=n,r=t}}while(0);if(2&(i=0|ar[(A=a+4|0)>>2]))ar[A>>2]=-2&i,ar[o+4>>2]=1|r,ar[o+r>>2]=r;else{if(A=0|ar[14397],(0|a)==(0|ar[14398]))return a=(0|ar[14395])+r|0,ar[14395]=a,ar[14398]=o,ar[o+4>>2]=1|a,(0|o)==(0|A)&&(ar[14397]=0,void(ar[14394]=0));if((0|a)==(0|A))return a=(0|ar[14394])+r|0,ar[14394]=a,ar[14397]=o,ar[o+4>>2]=1|a,void(ar[o+a>>2]=a);n=(-8&i)+r|0,e=i>>>3;do{if(i>>>0<256){if(r=0|ar[a+8>>2],(0|(A=0|ar[a+12>>2]))==(0|r)){ar[14392]=ar[14392]&~(1<<e);break}ar[r+12>>2]=A,ar[A+8>>2]=r;break}f=0|ar[a+24>>2],A=0|ar[a+12>>2];do{if((0|A)==(0|a)){if(!(A=0|ar[(r=(e=a+16|0)+4|0)>>2])){if(!(A=0|ar[e>>2])){e=0;break}r=e}for(;;)if(0|(i=0|ar[(e=A+20|0)>>2]))A=i,r=e;else{if(!(i=0|ar[(e=A+16|0)>>2]))break;A=i,r=e}ar[r>>2]=0,e=A}else e=0|ar[a+8>>2],ar[e+12>>2]=A,ar[A+8>>2]=e,e=A}while(0);if(0|f){if(A=0|ar[a+28>>2],(0|a)==(0|ar[(r=57872+(A<<2)|0)>>2])){if(!(ar[r>>2]=e)){ar[14393]=ar[14393]&~(1<<A);break}}else if(!(ar[f+16+(((0|ar[f+16>>2])!=(0|a)&1)<<2)>>2]=e))break;ar[e+24>>2]=f,0|(r=0|ar[(A=a+16|0)>>2])&&(ar[e+16>>2]=r,ar[r+24>>2]=e),0|(A=0|ar[A+4>>2])&&(ar[e+20>>2]=A,ar[A+24>>2]=e)}}while(0);if(ar[o+4>>2]=1|n,ar[o+n>>2]=n,(0|o)==(0|ar[14397]))return void(ar[14394]=n);r=n}if(A=r>>>3,r>>>0<256)return e=57608+(A<<1<<2)|0,(r=0|ar[14392])&(A=1<<A)?A=0|ar[(r=e+8|0)>>2]:(ar[14392]=r|A,r=(A=e)+8|0),ar[r>>2]=o,ar[A+12>>2]=o,ar[o+8>>2]=A,void(ar[o+12>>2]=e);if(f=57872+((A=(A=r>>>8)?16777215<r>>>0?31:r>>>((A=14-((n=((a=A<<(t=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|t|(A=((a<<=n)+245760|0)>>>16&2))+(a<<A>>>15)|0)+7|0)&1|A<<1:0)<<2)|0,ar[o+28>>2]=A,ar[o+20>>2]=0,!((e=(ar[o+16>>2]=0)|ar[14393])&(i=1<<A)))return ar[14393]=e|i,ar[f>>2]=o,ar[o+24>>2]=f,ar[o+12>>2]=o,void(ar[o+8>>2]=o);for(e=r<<(31==(0|A)?0:25-(A>>>1)|0),i=0|ar[f>>2];;){if((-8&ar[i+4>>2]|0)==(0|r)){A=69;break}if(!(A=0|ar[(f=i+16+(e>>>31<<2)|0)>>2])){A=68;break}e<<=1,i=A}return 68==(0|A)?(ar[f>>2]=o,ar[o+24>>2]=i,ar[o+12>>2]=o,void(ar[o+8>>2]=o)):69==(0|A)&&(a=0|ar[(t=i+8|0)>>2],ar[a+12>>2]=o,ar[t>>2]=o,ar[o+8>>2]=a,ar[o+12>>2]=i,void(ar[o+24>>2]=0))}function Wc(A,e){return e|=0,(A|=0)>>>0<9?0|(e=0|yc(e)):0|(e=0|function(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0;if((A=16<(A|=0)>>>0?A:16)+-1&A)for(i=16;;){if(!(i>>>0<A>>>0)){A=i;break}i<<=1}if((-64-A|0)>>>0<=e>>>0)return ar[(t=10364)>>2]=12,(t=0)|t;if(!(i=0|yc(12+(n=e>>>0<11?16:e+11&-8)+A|0)))return(t=0)|t;r=i+-8|0;do{if(i&A+-1){if(e=(f=15<((f=(i+A+-1&0-A)-8|0)-(e=r)|0)>>>0?f:f+A|0)-e|0,o=0|ar[(A=i+-4|0)>>2],i=(-8&o)-e|0,3&o){ar[(o=f+4|0)>>2]=i|1&ar[o>>2]|2,ar[(i=f+i+4|0)>>2]=1|ar[i>>2],ar[A>>2]=e|1&ar[A>>2]|2,ar[o>>2]=1|ar[o>>2],Xc(r,e),e=A=f;break}ar[f>>2]=(0|ar[r>>2])+e,ar[f+4>>2]=i,e=A=f;break}e=A=r}while(0);3&(i=0|ar[(A=A+4|0)>>2])|0&&(t=-8&i)>>>0>(n+16|0)>>>0&&(o=t-n|0,t=e+n|0,ar[A>>2]=n|1&i|2,ar[t+4>>2]=3|o,ar[(n=t+o+4|0)>>2]=1|ar[n>>2],Xc(t,o));return 0|(o=e+8|0)}(A,e))}function Ic(A){return 4294963200<(A|=0)>>>0&&(ar[10364>>2]=0-A,A=-1),0|A}function Cc(){return 10364}function Gc(A,e,r){e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0;c=ur=(o=ur)+31&-32,ur=ur+48|0,t=c+16|0,c=(l=c)+32|0,a=0|ar[(f=(A|=0)+28|0)>>2],ar[c>>2]=a,a=(0|ar[(n=A+20|0)>>2])-a|0,ar[c+4>>2]=a,ar[c+8>>2]=e,a=a+(ar[c+12>>2]=r)|0,i=A+60|0,ar[l>>2]=ar[i>>2],ar[l+4>>2]=c,ar[l+8>>2]=2,l=0|Ic(0|_(146,0|l));A:do{if((0|a)!=(0|l)){for(e=2;!((0|l)<0);)if(a=a-l|0,e=((b=(s=0|ar[c+4>>2])>>>0<l>>>0)<<31>>31)+e|0,s=l-(b?s:0)|0,ar[(c=b?c+8|0:c)>>2]=(0|ar[c>>2])+s,ar[(b=c+4|0)>>2]=(0|ar[b>>2])-s,ar[t>>2]=ar[i>>2],ar[4+t>>2]=c,ar[8+t>>2]=e,(0|a)==(0|(l=0|Ic(0|_(146,0|t))))){u=3;break A}ar[A+16>>2]=0,ar[f>>2]=0,ar[n>>2]=0,ar[A>>2]=32|ar[A>>2],r=2==(0|e)?0:r-(0|ar[c+4>>2])|0}else u=3}while(0);return 3==(0|u)&&(s=0|ar[A+44>>2],ar[A+16>>2]=s+(0|ar[A+48>>2]),ar[f>>2]=s,ar[n>>2]=s),ur=o,0|r}function Vc(A){var e,r=0,i=0;e=A|=0;A:do{if(3&e)for(r=e;;){if(!(0|tr[A>>0])){A=r;break A}if(!(3&(r=A=A+1|0))){i=4;break}}else i=4}while(0);if(4==(0|i)){for(;!((-2139062144&(r=0|ar[A>>2])^-2139062144)&r+-16843009);)A=A+4|0;if((255&r)<<24>>24)for(;0!=(0|tr[(A=A+1|0)>>0]););}return A-e|0}function Fc(A,e){e|=0;var r=0,i=0;if(r=0|tr[(A|=0)>>0],i=0|tr[e>>0],r<<24>>24==0||r<<24>>24!=i<<24>>24)A=i;else{for(;e=e+1|0,r=0|tr[(A=A+1|0)>>0],i=0|tr[e>>0],r<<24>>24!=0&&r<<24>>24==i<<24>>24;);A=i}return(255&r)-(255&A)|0}function Rc(A,e,r){A|=0;var i=0,f=0,n=0,t=0;n=255&(e|=0),i=0!=(0|(r|=0));A:do{if(i&0!=(3&A|0))for(f=255&e;;){if((0|tr[A>>0])==f<<24>>24){t=6;break A}if(!((i=0!=(0|(r=r+-1|0)))&0!=(3&(A=A+1|0)|0))){t=5;break}}else t=5}while(0);5==(0|t)&&(i?t=6:r=0);A:do{if(6==(0|t)&&(f=255&e,(0|tr[A>>0])!=f<<24>>24)){i=0|br(n,16843009);e:do{if(3<r>>>0){for(;!((-2139062144&(n=ar[A>>2]^i)^-2139062144)&n+-16843009|0);)if(A=A+4|0,(r=r+-4|0)>>>0<=3){t=11;break e}}else t=11}while(0);if(11==(0|t)&&!r){r=0;break}for(;;){if((0|tr[A>>0])==f<<24>>24)break A;if(A=A+1|0,!(r=r+-1|0)){r=0;break}}}}while(0);return 0|(0|r?A:0)}function Nc(A,e){A|=0;var r=0,i=0,f=0;i=255&(e|=0);A:do{if(i){if(3&A){r=255&e;do{if((f=0|tr[A>>0])<<24>>24==0||f<<24>>24==r<<24>>24)break A;A=A+1|0}while(0!=(3&A|0))}i=0|br(i,16843009),r=0|ar[A>>2];e:do{if(!((-2139062144&r^-2139062144)&r+-16843009))do{if((-2139062144&(f=r^i)^-2139062144)&f+-16843009|0)break e;r=0|ar[(A=A+4|0)>>2]}while(!((-2139062144&r^-2139062144)&r+-16843009|0))}while(0);for(r=255&e;(f=0|tr[A>>0])<<24>>24!=0&&f<<24>>24!=r<<24>>24;)A=A+1|0}else A=A+(0|Vc(A))|0}while(0);return 0|A}function _c(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n;return n=ur=(f=ur)+31&-32,ur=ur+16|0,ar[n>>2]=i,i=0|Yc(A,e,r,n),ur=f,0|i}function Yc(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t=0,o=0,a=0,c=0,l=0;for(l=ur=(n=ur)+31&-32,ur=ur+128|0,t=l+124|0,a=10804,f=(o=l)+124|0;ar[o>>2]=ar[a>>2],a=a+4|0,(0|(o=o+4|0))<(0|f););return 2147483646<(e+-1|0)>>>0?e?(ar[(e=10364)>>2]=75,e=-1):(A=t,e=1,c=4):c=4,4==(0|c)&&(c=(c=-2-A|0)>>>0<e>>>0?c:e,ar[l+48>>2]=c,ar[(t=l+20|0)>>2]=A,e=(ar[l+44>>2]=A)+c|0,ar[(A=l+16|0)>>2]=e,ar[l+28>>2]=e,e=0|Qc(l,r,i),c&&(l=0|ar[t>>2],tr[l+(((0|l)==(0|ar[A>>2]))<<31>>31)>>0]=0)),ur=n,0|e}function Qc(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;for(k=ur=(t=ur)+31&-32,ur=ur+224|0,i=k+120|0,f=k+80|0,k=(n=k)+136|0,a=(o=f)+40|0;(0|(o=o+4|(ar[o>>2]=0)))<(0|a););return ar[i>>2]=ar[r>>2],r=(0|Dc(0,e,i,n,f))<0?-1:(d=-1<(0|ar[A+76>>2])?0|Jc():0,s=32&(r=0|ar[A>>2]),(0|tr[A+74>>0])<1&&(ar[A>>2]=-33&r),0|ar[(o=A+48|0)>>2]?r=0|Dc(A,e,i,n,f):(c=0|ar[(a=A+44|0)>>2],ar[a>>2]=k,ar[(l=A+28|0)>>2]=k,ar[(u=A+20|0)>>2]=k,ar[o>>2]=80,ar[(b=A+16|0)>>2]=k+80,r=0|Dc(A,e,i,n,f),c&&(xb[63&ar[A+36>>2]](A,0,0),r=0==(0|ar[u>>2])?-1:r,ar[a>>2]=c,ar[o>>2]=0,ar[b>>2]=0,ar[l>>2]=0,ar[u>>2]=0)),o=0|ar[A>>2],ar[A>>2]=o|s,0|d&&Mc(),0==(32&o|0)?r:-1),ur=t,0|r}function Dc(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0;W=ur=(b=ur)+31&-32,ur=ur+64|0,c=W+16|0,X=(l=W)+24|0,u=W+8|0,W=W+20|0,ar[c>>2]=e,n=0!=(0|A),o=t=X+40|0,X=X+39|0,a=4+u|0,v=s=d=0;A:for(;;){do{if(-1<(0|s)){if((2147483647-s|0)<(0|d)){ar[(s=10364)>>2]=75,s=-1;break}s=d+s|0;break}}while(0);if(!((d=0|tr[e>>0])<<24>>24)){E=87;break}k=e;e:for(;;){switch(d<<24>>24){case 37:d=k,E=9;break e;case 0:d=k;break e}B=k+1|0,ar[c>>2]=B,d=0|tr[B>>0],k=B}e:do{if(9==(0|E))for(;;){if(37!=((E=0)|tr[k+1>>0]))break e;if(d=d+1|0,k=k+2|0,ar[c>>2]=k,37!=(0|tr[k>>0]))break;E=9}}while(0);if(d=d-e|0,n&&Tc(A,e,d),0|d)e=k;else{(d=(0|tr[(h=k+1|0)>>0])-48|0)>>>0<10?(y=(B=36==(0|tr[k+2>>0]))?d:-1,v=B?1:v,h=B?k+3|0:h):y=-1,ar[c>>2]=h,k=((d=0|tr[h>>0])<<24>>24)-32|0;e:do{if(k>>>0<32)for(w=0,m=d;;){if(!(75913&(d=1<<k))){d=m;break e}if(w|=d,h=h+1|0,ar[c>>2]=h,32<=(k=((d=0|tr[h>>0])<<24>>24)-32|0)>>>0)break;m=d}else w=0}while(0);if(d<<24>>24==42){if((d=(0|tr[(k=h+1|0)>>0])-48|0)>>>0<10&&36==(0|tr[h+2>>0]))ar[f+(d<<2)>>2]=10,d=0|ar[i+((0|tr[k>>0])-48<<3)>>2],v=1,h=h+3|0;else{if(0|v){s=-1;break}h=(v=n?(v=3+(0|ar[r>>2])&-4,d=0|ar[v>>2],ar[r>>2]=v+4,0):d=0,k)}ar[c>>2]=h,d=(B=(0|d)<0)?0-d|0:d,w=B?8192|w:w}else{if((0|(d=0|Uc(c)))<0){s=-1;break}h=0|ar[c>>2]}do{if(46==(0|tr[h>>0])){if(42!=(0|tr[h+1>>0])){ar[c>>2]=h+1,k=0|Uc(c),h=0|ar[c>>2];break}if((k=(0|tr[(m=h+2|0)>>0])-48|0)>>>0<10&&36==(0|tr[h+3>>0])){ar[f+(k<<2)>>2]=10,k=0|ar[i+((0|tr[m>>0])-48<<3)>>2],h=h+4|0,ar[c>>2]=h;break}if(0|v){s=-1;break A}n?(B=3+(0|ar[r>>2])&-4,k=0|ar[B>>2],ar[r>>2]=B+4):k=0,h=ar[c>>2]=m}else k=-1}while(0);for(p=0;;){if(57<((0|tr[h>>0])-65|0)>>>0){s=-1;break A}if(B=h+1|0,ar[c>>2]=B,!(((g=255&(m=0|tr[(0|tr[h>>0])-65+(50202+(58*p|0))>>0]))+-1|0)>>>0<8))break;p=g,h=B}if(!(m<<24>>24)){s=-1;break}Z=-1<(0|y);do{if(m<<24>>24==19){if(Z){s=-1;break A}E=49}else{if(Z){ar[f+(y<<2)>>2]=g,y=0|ar[(Z=i+(y<<3)|0)+4>>2],ar[(E=l)>>2]=ar[Z>>2],ar[E+4>>2]=y,E=49;break}if(!n){s=0;break A}Sc(l,g,r)}}while(0);if(49!=(0|E)||(E=0,n)){h=0!=(0|p)&3==(15&(h=0|tr[h>>0])|0)?-33&h:h,Z=-65537&w,y=0==(8192&w|0)?w:Z;e:do{switch(0|h){case 110:switch((255&p)<<24>>24){case 0:case 1:ar[ar[l>>2]>>2]=s,d=0,e=B;continue A;case 2:d=0|ar[l>>2],ar[d>>2]=s,ar[d+4>>2]=((0|s)<0)<<31>>31,d=0,e=B;continue A;case 3:or[ar[l>>2]>>1]=s,d=0,e=B;continue A;case 4:tr[ar[l>>2]>>0]=s,d=0,e=B;continue A;case 6:ar[ar[l>>2]>>2]=s,d=0,e=B;continue A;case 7:d=0|ar[l>>2],ar[d>>2]=s,ar[d+4>>2]=((0|s)<0)<<31>>31,d=0,e=B;continue A;default:d=0,e=B;continue A}case 112:h=120,k=8<k>>>0?k:8,e=8|y,E=61;break;case 88:case 120:e=y,E=61;break;case 111:m=50666,k=(w=0)==(8&y|0)|(0|(Z=o-(g=0|zc(e=0|ar[(h=l)>>2],h=0|ar[h+4>>2],t))|0))<(0|k)?k:Z+1|0,Z=y,E=67;break;case 105:case 100:if(e=0|ar[(h=l)>>2],(0|(h=0|ar[h+4>>2]))<0){e=0|ob(0,0,0|e,0|h),h=D,ar[(w=l)>>2]=e,ar[w+4>>2]=h,w=1,m=50666,E=66;break e}w=0!=(2049&y|0)&1,m=0==(2048&y|0)?0==(1&y|0)?50666:50668:50667,E=66;break e;case 117:m=50666,e=(w=0)|ar[(h=l)>>2],h=0|ar[h+4>>2],E=66;break;case 99:tr[X>>0]=ar[l>>2],e=X,w=0,m=50666,g=t,h=1,k=Z;break;case 109:h=0|Hc(0|ar[(h=10364)>>2]),E=71;break;case 115:h=0|(h=0|ar[l>>2])?h:50676,E=71;break;case 67:ar[u>>2]=ar[l>>2],ar[a>>2]=0,g=-1,h=ar[l>>2]=u,E=75;break;case 83:e=0|ar[l>>2],E=k?(g=k,h=e,75):(xc(A,32,d,0,y),e=0,84);break;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:d=0|Lc(A,+Q[l>>3],d,k,y,h),e=B;continue A;default:w=0,m=50666,g=t,h=k,k=y}}while(0);e:do{if(61==(0|E))g=0|Oc(p=0|ar[(y=l)>>2],y=0|ar[y+4>>2],t,32&h),w=(m=0==(8&e|0)|0==(0|p)&0==(0|y))?0:2,m=m?50666:50666+(h>>4)|0,Z=e,e=p,h=y,E=67;else if(66==(0|E))g=0|jc(e,h,t),Z=y,E=67;else if(71==(0|E))w=E=0,m=50666,g=(p=0==(0|(y=0|Rc(e=h,0,k))))?h+k|0:y,h=p?k:y-h|0,k=Z;else if(75==(0|E)){for(m=h,k=e=E=0;(w=0|ar[m>>2])&&!((0|(k=0|Pc(W,w)))<0|(g-e|0)>>>0<k>>>0)&&(e=k+e|0)>>>0<g>>>0;)m=m+4|0;if((0|k)<0){s=-1;break A}if(xc(A,32,d,e,y),e)for(w=0;;){if(!(k=0|ar[h>>2])){E=84;break e}if((0|e)<(0|(w=(k=0|Pc(W,k))+w|0))){E=84;break e}if(Tc(A,W,k),e>>>0<=w>>>0){E=84;break}h=h+4|0}else e=0,E=84}}while(0);if(67==(0|E))y=(E=0)!=(0|k)|(h=0!=(0|e)|0!=(0|h)),h=o-g+(1&(1^h))|0,e=y?g:t,g=t,h=!y||(0|h)<(0|k)?k:h,k=-1<(0|k)?-65537&Z:Z;else if(84==(0|E)){E=0,xc(A,32,d,e,8192^y),d=(0|e)<(0|d)?d:e,e=B;continue}xc(A,32,d=(0|d)<(0|(y=(Z=(0|h)<(0|(p=g-e|0))?p:h)+w|0))?y:d,y,k),Tc(A,m,w),xc(A,48,d,y,65536^k),xc(A,48,Z,p,0),Tc(A,e,p),xc(A,32,d,y,8192^k),e=B}else d=0,e=B}}A:do{if(87==(0|E)&&!A)if(v){for(s=1;e=0|ar[f+(s<<2)>>2];)if(Sc(i+(s<<3)|0,e,r),10<=(0|(s=s+1|0))){s=1;break A}for(;;){if(0|ar[f+(s<<2)>>2]){s=-1;break A}if(10<=(0|(s=s+1|0))){s=1;break}}}else s=0}while(0);return ur=b,0|s}function Jc(){return 0}function Mc(){0}function Tc(A,e,r){e|=0,r|=0,32&ar[(A|=0)>>2]||el(e,r,A)}function Uc(A){var e=0,r=0,i=0;if(r=0|ar[(A|=0)>>2],(i=(0|tr[r>>0])-48|0)>>>0<10)for(e=0;e=i+(10*e|0)|0,r=r+1|0,ar[A>>2]=r,(i=(0|tr[r>>0])-48|0)>>>0<10;);else e=0;return 0|e}function Sc(A,e,r){A|=0,e|=0,r|=0;var i=0,f=0,n=0;A:do{if(e>>>0<=20){switch(0|e){case 9:i=3+(0|ar[r>>2])&-4,e=0|ar[i>>2],ar[r>>2]=i+4,ar[A>>2]=e;break A;case 10:i=3+(0|ar[r>>2])&-4,e=0|ar[i>>2],ar[r>>2]=i+4,ar[(i=A)>>2]=e,ar[i+4>>2]=((0|e)<0)<<31>>31;break A;case 11:i=3+(0|ar[r>>2])&-4,e=0|ar[i>>2],ar[r>>2]=i+4,ar[(i=A)>>2]=e,ar[i+4>>2]=0;break A;case 12:i=7+(0|ar[r>>2])&-8,f=0|ar[(e=i)>>2],e=0|ar[e+4>>2],ar[r>>2]=i+8,ar[(i=A)>>2]=f,ar[i+4>>2]=e;break A;case 13:f=3+(0|ar[r>>2])&-4,i=0|ar[f>>2],ar[r>>2]=f+4,i=(65535&i)<<16>>16,ar[(f=A)>>2]=i,ar[f+4>>2]=((0|i)<0)<<31>>31;break A;case 14:f=3+(0|ar[r>>2])&-4,i=0|ar[f>>2],ar[r>>2]=f+4,ar[(f=A)>>2]=65535&i,ar[f+4>>2]=0;break A;case 15:f=3+(0|ar[r>>2])&-4,i=0|ar[f>>2],ar[r>>2]=f+4,i=(255&i)<<24>>24,ar[(f=A)>>2]=i,ar[f+4>>2]=((0|i)<0)<<31>>31;break A;case 16:f=3+(0|ar[r>>2])&-4,i=0|ar[f>>2],ar[r>>2]=f+4,ar[(f=A)>>2]=255&i,ar[f+4>>2]=0;break A;case 17:case 18:f=7+(0|ar[r>>2])&-8,n=+Q[f>>3],ar[r>>2]=f+8,Q[A>>3]=n;break A;default:break A}}}while(0)}function Oc(A,e,r,i){if(r|=0,i|=0,!(0==(0|(A|=0))&0==(0|(e|=0))))for(;tr[(r=r+-1|0)>>0]=0|cr[50714+(15&A)>>0]|i,!(0==(0|(A=0|sb(0|A,0|e,4)))&0==(0|(e=D))););return 0|r}function zc(A,e,r){if(r|=0,!(0==(0|(A|=0))&0==(0|(e|=0))))for(;tr[(r=r+-1|0)>>0]=7&A|48,!(0==(0|(A=0|sb(0|A,0|e,3)))&0==(0|(e=D))););return 0|r}function jc(A,e,r){r|=0;var i=0;if(0<(e|=0)>>>0|0==(0|e)&4294967295<(A|=0)>>>0){for(;i=0|ub(0|A,0|e,10,0),tr[(r=r+-1|0)>>0]=255&i|48,A=0|lb(0|(i=A),0|e,10,0),9<e>>>0|9==(0|e)&4294967295<i>>>0;)e=D;e=A}else e=A;if(e)for(;tr[(r=r+-1|0)>>0]=(e>>>0)%10|48,!(e>>>0<10);)e=(e>>>0)/10|0;return 0|r}function Hc(A){return 0|function(A,e){A|=0,e|=0;var r=0,i=0;i=0;for(;;){if((0|cr[50732+i>>0])==(0|A)){A=2;break}if(87==(0|(r=i+1|0))){r=50820,i=87,A=5;break}i=r}2==(0|A)&&(i?(r=50820,A=5):r=50820);if(5==(0|A))for(;;){for(;r=(A=r)+1|0,0!=(0|tr[A>>0]););if(!(i=i+-1|0))break;A=5}return 0|function(A,e){return 0|function(A,e){A|=0,e=(e|=0)?0|function(A,e,r){e|=0,r|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;i=1794895138+(0|ar[(A|=0)>>2])|0,t=0|Al(0|ar[A+8>>2],i),f=0|Al(0|ar[A+12>>2],i),n=0|Al(0|ar[A+16>>2],i);A:do{if(t>>>0<e>>>2>>>0&&(b=e-(t<<2)|0,f>>>0<b>>>0&n>>>0<b>>>0)&&0==(3&(n|f)|0)){for(b=f>>>2,u=n>>>2,l=0;;){if(f=0|Al(0|ar[A+((n=(o=(c=l+(a=t>>>1)|0)<<1)+b|0)<<2)>>2],i),!((n=0|Al(0|ar[A+(n+1<<2)>>2],i))>>>0<e>>>0&f>>>0<(e-n|0)>>>0)){f=0;break A}if(0|tr[A+(n+f)>>0]){f=0;break A}if(!(f=0|Fc(r,A+n|0)))break;if(f=(0|f)<0,1==(0|t)){f=0;break A}l=f?l:c,t=f?a:t-a|0}n=0|Al(0|ar[A+((f=o+u|0)<<2)>>2],i),f=(f=0|Al(0|ar[A+(f+1<<2)>>2],i))>>>0<e>>>0&n>>>0<(e-f|0)>>>0&&0==(0|tr[A+(f+n)>>0])?A+f|0:0}else f=0}while(0);return 0|f}(0|ar[e>>2],0|ar[e+4>>2],A):0;return 0|(0|e?e:A)}(A|=0,e|=0)}(r,0|ar[e+20>>2])}(A|=0,0|ar[2622])}function xc(A,e,r,i,f){A|=0,e|=0;var n,t;if(n=ur=(t=ur)+31&-32,ur=ur+256|0,(0|(i|=0))<(0|(r|=0))&0==(73728&(f|=0)|0)){if(vb(0|n,0|e,0|((f=r-i|0)>>>0<256?f:256)),255<f>>>0){for(e=r-i|0;Tc(A,n,256),255<(f=f+-256|0)>>>0;);f=255&e}Tc(A,n,f)}ur=t}function Pc(A,e){return e|=0,0|(A=(A|=0)?0|$c(A,e):0)}function Lc(A,e,r,i,f,n){A|=0,e=+e,r|=0,i|=0,f|=0,n|=0;var t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;l=ur=(t=ur)+31&-32,ur=ur+560|0,c=l+8|0,W=I=(w=l)+524|0,X=(l=l+512|0)+12|(ar[w>>2]=0),Kc(e),y=(0|D)<0?(e=-e,B=1,50683):(B=0!=(2049&f|0)&1,0==(2048&f|0)?0==(1&f|0)?50684:50689:50686),Kc(e),E=2146435072&D;do{if(E>>>0<2146435072|2146435072==(0|E)&!1){if((o=0!=(d=2*qc(e,w)))&&(ar[w>>2]=(0|ar[w>>2])-1),97==(0|(m=32|n))){s=0==(0|(k=32&n))?y:y+9|0,b=2|B,o=12-i|0;do{if(!(11<i>>>0|0==(0|o))){for(e=8;e*=16,0!=(0|(o=o+-1|0)););if(45==(0|tr[s>>0])){e=-(e+(-d-e));break}e=d+e-e;break}e=d}while(0);for((0|(o=0|jc(o=(0|(a=0|ar[w>>2]))<0?0-a|0:a,((0|o)<0)<<31>>31,X)))==(0|X)&&(tr[(o=l+11|0)>>0]=48),tr[o+-1>>0]=43+(a>>31&2),tr[(u=o+-2|0)>>0]=n+15,l=(0|i)<1,c=0==(8&f|0),o=I;E=~~e,a=o+1|0,tr[o>>0]=cr[50714+E>>0]|k,e=16*(e-(0|E)),o=1!=(a-W|0)||c&l&0==e?a:(tr[a>>0]=46,o+2|0),0!=e;);E=o-W|0,xc(A,32,r,o=(W=X-u|0)+b+(X=0!=(0|i)&(E+-2|0)<(0|i)?i+2|0:E)|0,f),Tc(A,s,b),xc(A,48,r,o,65536^f),Tc(A,I,E),xc(A,48,X-E|0,0,0),Tc(A,u,W),xc(A,32,r,o,8192^f);break}for(a=(0|i)<0?6:i,o?(o=(0|ar[w>>2])-28|0,ar[w>>2]=o,e=268435456*d):(e=d,o=0|ar[w>>2]),c=E=(0|o)<0?c:c+288|0;Z=~~e>>>0,ar[c>>2]=Z,c=c+4|0,0!=(e=1e9*(e-(Z>>>0))););if(0<(0|o))for(l=E,b=c;;){if(u=(0|o)<29?o:29,l>>>0<=(o=b+-4|0)>>>0){for(c=0;v=0|ub(0|(g=0|tb(0|(g=0|db(0|ar[o>>2],0,0|u)),0|D,0|c,0)),0|(Z=D),1e9,0),ar[o>>2]=v,c=0|lb(0|g,0|Z,1e9,0),l>>>0<=(o=o+-4|0)>>>0;);c&&(ar[(l=l+-4|0)>>2]=c)}for(c=b;!(c>>>0<=l>>>0||0|ar[(o=c+-4|0)>>2]);)c=o;if(o=(0|ar[w>>2])-u|0,!(0<(0|(ar[w>>2]=o))))break;b=c}else l=E;if((0|o)<0){i=1+((a+25|0)/9|0)|0,h=102==(0|m);do{if(k=(0|(k=0-o|0))<9?k:9,l>>>0<c>>>0){for(u=(1<<k)-1|0,b=1e9>>>k,s=0,o=l;Z=0|ar[o>>2],ar[o>>2]=(Z>>>k)+s,s=0|br(Z&u,b),(o=o+4|0)>>>0<c>>>0;);o=0==(0|ar[l>>2])?l+4|0:l,o=s?(ar[c>>2]=s,l=o,c+4|0):(l=o,c)}else l=0==(0|ar[l>>2])?l+4|0:l,o=c;c=(0|i)<(o-(c=h?E:l)>>2|0)?c+(i<<2)|0:o,o=(0|ar[w>>2])+k|0,ar[w>>2]=o}while((0|o)<0);o=l,i=c}else o=l,i=c;if(Z=E,o>>>0<i>>>0){if(c=9*(Z-o>>2)|0,10<=(u=0|ar[o>>2])>>>0)for(l=10;c=c+1|0,(l=10*l|0)>>>0<=u>>>0;);}else c=0;if((0|(l=a-(102!=(0|m)?c:0)+(((v=0!=(0|a))&(h=103==(0|m)))<<31>>31)|0))<((9*(i-Z>>2)|0)-9|0)){if(k=E+4+(((0|(l=l+9216|0))/9|0)-1024<<2)|0,(0|(l=1+((0|l)%9|0)|0))<9)for(u=10;u=10*u|0,9!=(0|(l=l+1|0)););else u=10;if((l=(k+4|0)==(0|i))&0==(0|(s=((b=0|ar[k>>2])>>>0)%(u>>>0)|0)))l=k;else if(d=0==(1&((b>>>0)/(u>>>0)|0)|0)?9007199254740992:9007199254740994,e=s>>>0<(g=(0|u)/2|0)>>>0?.5:l&(0|s)==(0|g)?1:1.5,B&&(e=(g=45==(0|tr[y>>0]))?-e:e,d=g?-d:d),l=b-s|0,ar[k>>2]=l,d+e!=d){if(g=l+u|0,999999999<(ar[k>>2]=g)>>>0)for(c=k;(l=c+-4|0)>>>(ar[c>>2]=0)<o>>>0&&(ar[(o=o+-4|0)>>2]=0),g=1+(0|ar[l>>2])|0,999999999<(ar[l>>2]=g)>>>0;)c=l;else l=k;if(c=9*(Z-o>>2)|0,10<=(b=0|ar[o>>2])>>>0)for(u=10;c=c+1|0,(u=10*u|0)>>>0<=b>>>0;);}else l=k;l=(l=l+4|0)>>>0<i>>>0?l:i,g=o}else l=i,g=o;for(m=l;;){if(m>>>0<=g>>>0){w=0;break}if(0|ar[(o=m+-4|0)>>2]){w=1;break}m=o}i=0-c|0;do{if(h){if(a=(0|c)<(0|(o=(1&(1^v))+a|0))&-5<(0|c)?(u=n+-1|0,o+-1-c|0):(u=n+-2|0,o+-1|0),!(o=8&f)){if(w&&0!=(0|(p=0|ar[m+-4>>2])))if((p>>>0)%10|0)l=0;else for(l=0,o=10;l=l+1|0,!((p>>>0)%((o=10*o|0)>>>0)|0););else l=9;if(o=(9*(m-Z>>2)|0)-9|0,102==(32|u)){a=(0|a)<(0|(k=0<(0|(k=o-l|0))?k:0))?a:k,k=0;break}a=(0|a)<(0|(k=0<(0|(k=o+c-l|0))?k:0))?a:k,k=0;break}k=o}else u=n,k=8&f}while(0);if(b=0!=(0|(h=a|k))&1,s=102==(32|u))o=(v=0)<(0|c)?c:0;else{if(((l=X)-(o=0|jc(o=(0|c)<0?i:c,((0|o)<0)<<31>>31,X))|0)<2)for(;tr[(o=o+-1|0)>>0]=48,(l-o|0)<2;);tr[o+-1>>0]=43+(c>>31&2),tr[(o=o+-2|0)>>0]=u,o=l-(v=o)|0}if(xc(A,32,r,o=B+1+a+b+o|0,f),Tc(A,y,B),xc(A,48,r,o,65536^f),s){b=k=I+9|0,s=I+8|0,l=u=E>>>0<g>>>0?E:g;do{if(c=0|jc(0|ar[l>>2],0,k),(0|l)==(0|u))(0|c)==(0|k)&&(tr[s>>0]=48,c=s);else if(I>>>0<c>>>0)for(vb(0|I,48,c-W|0);I>>>0<(c=c+-1|0)>>>0;);Tc(A,c,b-c|0),l=l+4|0}while(l>>>0<=E>>>0);if(0|h&&Tc(A,50730,1),l>>>0<m>>>0&0<(0|a))for(;;){if(I>>>0<(c=0|jc(0|ar[l>>2],0,k))>>>0)for(vb(0|I,48,c-W|0);I>>>0<(c=c+-1|0)>>>0;);if(Tc(A,c,(0|a)<9?a:9),c=a+-9|0,!((l=l+4|0)>>>0<m>>>0&9<(0|a))){a=c;break}a=c}xc(A,48,a+9|0,9,0)}else{if(h=w?m:g+4|0,-1<(0|a)){k=0==(0|k),i=w=I+9|0,b=0-W|0,s=I+8|0,u=g;do{(0|(c=0|jc(0|ar[u>>2],0,w)))==(0|w)&&(tr[s>>0]=48,c=s);do{if((0|u)==(0|g)){if(l=c+1|0,Tc(A,c,1),k&(0|a)<1){c=l;break}Tc(A,50730,1),c=l}else{if(c>>>0<=I>>>0)break;for(vb(0|I,48,c+b|0);I>>>0<(c=c+-1|0)>>>0;);}}while(0);Tc(A,c,(0|(W=i-c|0))<(0|a)?W:a),a=a-W|0,u=u+4|0}while(u>>>0<h>>>0&-1<(0|a))}xc(A,48,a+18|0,18,0),Tc(A,v,X-v|0)}xc(A,32,r,o,8192^f)}else I=0!=(32&n|0),xc(A,32,r,o=B+3|0,-65537&f),Tc(A,y,B),Tc(A,e!=e|!1?I?52899:50710:I?50702:50706,3),xc(A,32,r,o,8192^f)}while(0);return ur=t,0|((0|o)<(0|r)?r:o)}function Kc(A){A=+A;var e;return Q[d>>3]=A,e=0|ar[d>>2],D=0|ar[d+4>>2],0|e}function qc(A,e){return+ +function A(e,r){e=+e;r|=0;var i=0,f=0,n=0;Q[d>>3]=e;i=0|ar[d>>2];f=0|ar[d+4>>2];n=0|sb(0|i,0|f,52);switch(2047&n){case 0:i=0!=e?(e=+A(0x10000000000000000*e,r),(0|ar[r>>2])-64|0):0,ar[r>>2]=i;break;case 2047:break;default:ar[r>>2]=(2047&n)-1022,ar[d>>2]=i,ar[d+4>>2]=-2146435073&f|1071644672,e=+Q[d>>3]}return+e}(A=+A,e|=0)}function $c(A,e){A|=0,e|=0;do{if(A){if(e>>>0<128){tr[A>>0]=e,A=1;break}if(!(0|ar[ar[10488>>2]>>2])){if(57216==(-128&e|0)){tr[A>>0]=e,A=1;break}ar[(A=10364)>>2]=84,A=-1;break}if(e>>>0<2048){tr[A>>0]=e>>>6|192,tr[A+1>>0]=63&e|128,A=2;break}if(e>>>0<55296|57344==(-8192&e|0)){tr[A>>0]=e>>>12|224,tr[A+1>>0]=e>>>6&63|128,tr[A+2>>0]=63&e|128,A=3;break}if((e+-65536|0)>>>0<1048576){tr[A>>0]=e>>>18|240,tr[A+1>>0]=e>>>12&63|128,tr[A+2>>0]=e>>>6&63|128,tr[A+3>>0]=63&e|128,A=4;break}ar[(A=10364)>>2]=84,A=-1;break}A=1}while(0);return 0|A}function Al(A,e){var r;return r=0|kb(0|(A|=0)),0|(0==(0|(e|=0))?A:r)}function el(A,e,r){A|=0,e|=0;var i=0,f=0,n=0,t=0,o=0;(f=0|ar[(i=(r|=0)+16|0)>>2])?n=5:0|rl(r)?i=0:(f=0|ar[i>>2],n=5);A:do{if(5==(0|n)){if((f-(i=t=0|ar[(o=r+20|0)>>2])|0)>>>0<e>>>0){i=0|xb[63&ar[r+36>>2]](r,A,e);break}e:do{if(-1<(0|tr[r+75>>0])){for(t=e;;){if(!t){n=0,f=A;break e}if(10==(0|tr[A+(f=t+-1|0)>>0]))break;t=f}if((i=0|xb[63&ar[r+36>>2]](r,A,t))>>>0<t>>>0)break A;f=A+(n=t)|0,e=e-t|0,i=0|ar[o>>2]}else n=0,f=A}while(0);hb(0|i,0|f,0|e),ar[o>>2]=(0|ar[o>>2])+e,i=n+e|0}}while(0);return 0|i}function rl(A){var e=0,r=0;return r=0|tr[(e=(A|=0)+74|0)>>0],tr[e>>0]=r+255|r,0|(A=8&(e=0|ar[A>>2])?(ar[A>>2]=32|e,-1):(ar[A+8>>2]=0,r=(ar[A+4>>2]=0)|ar[A+44>>2],ar[A+28>>2]=r,ar[A+20>>2]=r,ar[A+16>>2]=r+(0|ar[A+48>>2]),0))}function il(A,e,r){var i,f,n;return 0|(0|(i=A|=0,f=e|=0,n=r|=0,0|(n=0|fl(i|=0,f|=0,n|=0,-1,-1))))}function fl(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a;return t=ur=(a=ur)+31&-32,ur=ur+128|0,ar[t>>2]=0,ar[(o=4+t|0)>>2]=A,ar[44+t>>2]=A,ar[(n=8+t|0)>>2]=(0|A)<0?-1:A+2147483647|0,ar[76+t>>2]=-1,nl(t,0),r=0|wi(t,r,1,i,f),0|e&&(ar[e>>2]=A+((0|ar[o>>2])+(0|ar[108+t>>2])-(0|ar[n>>2]))),ur=a,0|r}function nl(A,e){e|=0;var r,i,f;ar[(A|=0)+104>>2]=e,f=(r=0|ar[A+8>>2])-(i=0|ar[A+4>>2])|0,ar[A+108>>2]=f,ar[A+100>>2]=0!=(0|e)&(0|e)<(0|f)?i+e|0:r}function tl(A){switch(0|(A|=0)){case 15:case 13:case 11:return 0|(A=1);case 14:case 12:case 10:case 3:case 2:case 1:case 0:case 99:return(A=0)|A;default:sr(55739,25597,495,25802)}return 0}function ol(A,e,r,i){A|=0,e|=0,i|=0;var f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0;if(!(r|=0))return t=0|ar[e>>2],(f=0|ar[e+4>>2])||(A=0|X(4),ar[A>>2]=17536,I(0|A,3920,421)),(n=0|function(A){var e,r=0,i=0;r=0|ar[(e=4+(A|=0)|0)>>2];for(;;){if(-1==(0|r)){A=0;break}if((0|(i=0|ar[e>>2]))==(0|r)&&(ar[e>>2]=r+1),(0|i)==(0|r))break;r=i}return 0|A}(f))||(A=0|X(4),ar[A>>2]=17536,I(0|A,3920,421)),ar[i>>2]=t,f=0|ar[(e=i+4|0)>>2],ar[e>>2]=n,0|f&&du(f),Z=0|ar[(g=56592)+4>>2],ar[(e=A)>>2]=ar[g>>2],ar[e+4>>2]=Z,void yu(A+8|0,56600);switch(f=0|ar[e+24>>2],n=0|ar[e+28>>2],g=90==(0|r),Z=270==(0|r),0|r){case 90:case 270:l=n;break;default:l=f,f=n}o=0|hu(80),ar[o+4>>2]=0,ar[o+8>>2]=0,ar[o>>2]=6208,ar[(n=o+12|0)>>2]=0,ar[n+4>>2]=0,ar[n+8>>2]=0,ar[n+12>>2]=0,ar[n+16>>2]=0,ar[o+32>>2]=32215,ar[o+36>>2]=0,ar[o+40>>2]=0,ar[o+44>>2]=99,ar[o+48>>2]=99,c=o+52|0,ar[(a=o+72|0)>>2]=0,ar[o+76>>2]=0,ar[c>>2]=0,ar[c+4>>2]=0,ar[c+8>>2]=0,ar[c+12>>2]=0,ar[o+68>>2]=a,a=n,m=(c=o)+16|0,bu(o),su(o),t=0|ar[m>>2],ar[n>>2]=a,ar[m>>2]=c,0|t&&ku(t),du(o),ar[i>>2]=a,t=0|ar[(m=i+4|0)>>2],ar[m>>2]=c,t?(du(t),n=0|ar[(m=i)>>2]):m=i,v=0|ar[e+32>>2],w=0|ar[e+36>>2],ar[n+24>>2]=l,ar[n+28>>2]=f,ar[n+32>>2]=v,ar[n+36>>2]=w,f=0|ar[e+56>>2],w=e+60|0;A:do{if((0|f)!=(0|w))for(v=180==(0|r),h=f;;){switch(c=0|ar[h+16>>2],f=0|ar[(o=h+24|0)>>2],n=0|ar[(a=h+28|0)>>2],0|r){case 90:case 270:t=f,f=n;break;default:t=n}if(l=h+20|0,Bo(0|ar[m>>2],c,f,t,0|cr[l>>0]),k=0|ar[o>>2],b=0|ar[a>>2],s=0|ar[h+48>>2],d=0|ar[h+40>>2],o=60+(0|ar[m>>2])|0,n=0|ar[o>>2]){f=o;e:for(;;){for(t=n;!((0|ar[t+16>>2])>=(0|c));){if(!(n=0|ar[t+4>>2]))break e;t=n}if(!(n=0|ar[t>>2])){f=t;break}f=t}i=(0|f)!=(0|o)&&(0|ar[f+16>>2])<=(0|c)?(u=0|ar[f+40>>2],0|ar[f+48>>2]):u=0}else i=u=0;f=0<(0|b);e:do{if(8==(0|tr[l>>0])){if(Z){if(!f)break;if(t=b+-1|0,!(0<(0|k)))break;for(n=0;;){for(o=0|br(t-n|0,s),f=0;l=u+((0|br(f,i))+n)|0,tr[l>>0]=0|tr[d+(f+o)>>0],(0|(f=f+1|0))!=(0|k););if((0|(n=n+1|0))==(0|b))break e}}if(v){if(!f)break;if(t=b+-1|0,o=k+-1|0,!(0<(0|k)))break;n=0;do{for(a=o+(0|br(t-n|0,s))|0,c=0|br(n,i),f=0;tr[u+(f+c)>>0]=0|tr[d+(a-f)>>0],(0|(f=f+1|0))!=(0|k););n=n+1|0}while((0|n)!=(0|b))}else{if(!(g&f))break;if(t=k+-1|0,!(0<(0|k)))break;n=0;do{for(o=t+(0|br(n,s))|0,f=0;l=u+((0|br(f,i))+n)|0,tr[l>>0]=0|tr[d+(o-f)>>0],(0|(f=f+1|0))!=(0|k););n=n+1|0}while((0|n)!=(0|b))}}else{if(Z){if(!f)break;if(t=b+-1|0,!(0<(0|k)))break;for(n=0;;){for(o=0|br(t-n|0,s),a=n<<1,f=0;c=(f<<1)+o|0,l=(0|br(f,i))+a|0,tr[u+l>>0]=0|tr[d+c>>0],tr[u+(l+1)>>0]=0|tr[d+(c+1)>>0],(0|(f=f+1|0))!=(0|k););if((0|(n=n+1|0))==(0|b))break e}}if(v){if(!f)break;if(t=b+-1|0,o=k+-1|0,!(0<(0|k)))break;n=0;do{for(a=0|br(t-n|0,s),c=0|br(n,i),f=0;p=(o-f<<1)+a|0,tr[u+(l=(f<<1)+c|0)>>0]=0|tr[d+p>>0],tr[u+(l+1)>>0]=0|tr[d+(p+1)>>0],(0|(f=f+1|0))!=(0|k););n=n+1|0}while((0|n)!=(0|b))}else{if(!(g&f))break;if(t=k+-1|0,!(0<(0|k)))break;f=0;do{for(o=0|br(f,s),a=f<<1,n=0;l=(t-n<<1)+o|0,p=(0|br(n,i))+a|0,tr[u+p>>0]=0|tr[d+l>>0],tr[u+(p+1)>>0]=0|tr[d+(l+1)>>0],(0|(n=n+1|0))!=(0|k););f=f+1|0}while((0|f)!=(0|b))}}}while(0);if(f=0|ar[h+4>>2])for(;n=0|ar[f>>2];)f=n;else if(f=0|ar[(n=h+8|0)>>2],(0|ar[f>>2])!=(0|h))for(;p=0|ar[n>>2],f=0|ar[(n=p+8|0)>>2],(0|ar[f>>2])!=(0|p););if((0|f)==(0|w))break A;h=f}}while(0);f=0|ar[m>>2],n=0|ar[e+40>>2],(o=0==(0|(t=0|ar[e+44>>2])))||(bu(t),bu(t)),ar[f+40>>2]=n,f=0|ar[(p=f+44|0)>>2],ar[p>>2]=t,0|f&&du(f),o||du(t),f=0|ar[m>>2],n=0|ar[e+48>>2],(o=0==(0|(t=0|ar[e+52>>2])))||(bu(t),bu(t)),ar[f+48>>2]=n,f=0|ar[(p=f+52|0)>>2],ar[p>>2]=t,0|f&&du(f),o||du(t),e=0|ar[(Z=56592)+4>>2],ar[(p=A)>>2]=ar[Z>>2],ar[p+4>>2]=e,yu(A+8|0,56600)}function al(A,e,r){A|=0,r|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0;ur=(f=ur)+16|0,w=f,n=0|ar[(e|=0)+56>>2],i=e+60|0;A:do{if((0|n)!=(0|i)){for(;8==(0|tr[n+20>>0]);){if(c=0|ar[n+24>>2],l=0|ar[n+28>>2],b=0|ar[n+48>>2],s=0|ar[n+40>>2],r){if(0<(0|l)&&(k=(0|c)/2|0,h=c+-1|0,1<(0|c))){t=0;do{for(a=h+(o=0|br(t,b))|0,e=0;u=s+(a-e)|0,c=0|tr[(v=s+(e+o)|0)>>0],tr[v>>0]=0|tr[u>>0],tr[u>>0]=c,(0|(e=e+1|0))<(0|k););t=t+1|0}while((0|t)!=(0|l))}}else if(u=(0|l)/2|0,1<(0|l)&&(d=l+-1|0,0<(0|c))){e=0;do{for(o=0|br(e,b),a=0|br(d-e|0,b),t=0;v=s+(t+a)|0,l=0|tr[(m=s+(t+o)|0)>>0],tr[m>>0]=0|tr[v>>0],tr[v>>0]=l,(0|(t=t+1|0))!=(0|c););e=e+1|0}while((0|e)<(0|u))}if(e=0|ar[n+4>>2])for(;n=0|ar[e>>2];)e=n;else if(e=0|ar[(t=n+8|0)>>2],(0|ar[e>>2])!=(0|n))for(n=t;m=0|ar[n>>2],e=0|ar[(n=m+8|0)>>2],(0|ar[e>>2])!=(0|m););if((0|e)==(0|i))break A;n=e}for(e=0|hu(64),ar[w>>2]=e,ar[w+8>>2]=-2147483584,t=25898,o=(n=e)+(ar[w+4>>2]=54)|0;tr[n>>0]=0|tr[t>>0],t=t+1|0,(0|(n=n+1|0))<(0|o););return(oo(A,4,tr[e+54>>0]=0,w),0<=(0|tr[w+11>>0]))?void(ur=f):(vu(0|ar[w>>2]),void(ur=f))}}while(0);v=0|ar[(w=56592)+4>>2],ar[(m=A)>>2]=ar[w>>2],ar[m+4>>2]=v,yu(A+8|0,56600),ur=f}function cl(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0;var o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0;if(l=0|hu(80),ar[l+4>>2]=0,ar[l+8>>2]=0,ar[l>>2]=6208,ar[(o=l+12|0)>>2]=0,ar[o+4>>2]=0,ar[o+8>>2]=0,ar[o+12>>2]=0,ar[o+16>>2]=0,ar[l+32>>2]=32215,ar[l+36>>2]=0,ar[l+40>>2]=0,ar[l+44>>2]=99,ar[l+48>>2]=99,u=l+52|0,ar[(c=l+72|0)>>2]=0,ar[l+76>>2]=0,ar[u>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u+12>>2]=0,ar[l+68>>2]=c,c=o,p=(u=l)+16|0,bu(l),su(l),a=0|ar[p>>2],ar[o>>2]=c,ar[p>>2]=u,0|a&&ku(a),du(l),ar[t>>2]=c,a=0|ar[(p=t+4|0)>>2],ar[p>>2]=u,a?(du(a),o=0|ar[(p=t)>>2]):p=t,Z=0|ar[e+32>>2],m=0|ar[e+36>>2],ar[o+24>>2]=1-r+i,ar[o+28>>2]=1-f+n,ar[o+32>>2]=Z,ar[o+36>>2]=m,(0|(o=0|ar[e+56>>2]))!=(0|(m=e+60|0)))for(g=e+24|0,Z=e+28|0,v=o;;){if(u=0|ar[v+16>>2],h=0|ar[v+24>>2],t=0|ar[v+28>>2],b=(0|(b=0|br(h,r)))/(0|(s=0|ar[g>>2]))|0,s=(0|br(h,i))/(0|s)|0,h=(0|(h=0|br(t,f)))/(0|(w=0|ar[Z>>2]))|0,w=(0|br(t,n))/(0|w)|0,s=s-b+1|0,t=v+20|0,Bo(0|ar[p>>2],u,s,1-h+w|0,0|cr[t>>0]),d=0|ar[v+48>>2],k=0|ar[v+40>>2],l=60+(0|ar[p>>2])|0,a=0|ar[l>>2]){o=l;A:for(;;){for(c=a;!((0|ar[c+16>>2])>=(0|u));){if(!(a=0|ar[c+4>>2]))break A;c=a}if(!(a=0|ar[c>>2])){o=c;break}o=c}l=(0|o)!=(0|l)&&(0|ar[o+16>>2])<=(0|u)?(u=0|ar[o+40>>2],0|ar[o+48>>2]):u=0}else l=u=0;if(o=(0|w)<(0|h),8==(0|tr[t>>0])){if(!o)for(o=h;hb(u+(0|br(o-h|0,l))|0,k+((0|br(o,d))+b)|0,0|s),(0|o)<(0|w);)o=o+1|0}else if(!o)for(c=b<<1,a=s<<1,o=h;hb(u+(0|br(o-h|0,l))|0,k+((0|br(o,d))+c)|0,0|a),(0|o)<(0|w);)o=o+1|0;if(o=0|ar[v+4>>2])for(;a=0|ar[o>>2];)o=a;else if(o=0|ar[(a=v+8|0)>>2],(0|ar[o>>2])!=(0|v))for(;v=0|ar[a>>2],o=0|ar[(a=v+8|0)>>2],(0|ar[o>>2])!=(0|v););if((0|o)==(0|m))break;v=o}if(o=0|ar[p>>2],a=0|ar[e+40>>2],(l=0==(0|(c=0|ar[e+44>>2])))||(bu(c),bu(c)),ar[o+40>>2]=a,o=0|ar[(n=o+44|0)>>2],ar[n>>2]=c,0|o&&du(o),l||du(c),o=0|ar[p>>2],a=0|ar[e+48>>2],(l=0==(0|(c=0|ar[e+52>>2])))||(bu(c),bu(c)),ar[o+48>>2]=a,o=0|ar[(e=o+52|0)>>2],ar[e>>2]=c,0|o&&du(o),l)return i=0|ar[(i=n=56592)>>2],n=0|ar[(n=n+4|0)>>2],ar[(f=e=A)>>2]=i,ar[(e=e+4|0)>>2]=n,void yu(A=A+8|0,56600);du(c),i=0|ar[(i=n=56592)>>2],n=0|ar[(n=n+4|0)>>2],ar[(f=e=A)>>2]=i,ar[(e=e+4|0)>>2]=n,yu(A=A+8|0,56600)}function ll(A,e,r,i,f,n){A|=0;var t,o,a,c,l,u,b=0,s=0,d=0,k=0;ur=(u=ur)+32|0,s=u+12|0,k=u,l=(e|=0)+60|0,c=(65535&(i|=0))>>>8&255,a=(65535&(r|=0))>>>8&255,o=(65535&(f|=0))>>>8&255,t=(65535&(n|=0))>>>8&255,n=6228;A:for(;;){if(e=0|ar[l>>2],b=0|ar[n>>2],e){r=l,i=e;e:for(;;){for(e=i;!((0|ar[e+16>>2])>=(0|b));)if(!(e=0|ar[e+4>>2])){e=r;break e}if(!(i=0|ar[e>>2]))break;r=e}if((0|e)!=(0|l)&&(0|b)>=(0|ar[e+16>>2])){if(8!=(0|tr[e+20>>0])){d=13;break}switch(r=0|ar[e+28>>2],f=0|ar[e+48>>2],i=0|ar[e+40>>2],0|b){case 3:e=a;break;case 4:e=c;break;case 5:e=o;break;case 6:e=t;break;default:d=19;break A}vb(0|i,0|e,0|br(f,r))}else d=9}else d=9;if(9==(0|d)&&6!=((d=0)|b)){d=10;break}if(6244==(0|(n=n+4|0))){d=22;break}}if(10==(0|d))return ar[s>>2]=0,ar[s+4>>2]=0,ar[s+8>>2]=0,oo(A,5,2002,s),0<=(0|tr[s+11>>0])||vu(0|ar[s>>2]),void(ur=u);if(13==(0|d)){for(e=0|hu(64),ar[k>>2]=e,ar[k+8>>2]=-2147483584,r=25953,f=(i=e)+(ar[k+4>>2]=52)|0;tr[i>>0]=0|tr[r>>0],r=r+1|0,(0|(i=i+1|0))<(0|f););return(oo(A,4,tr[e+52>>0]=0,k),0<=(0|tr[k+11>>0]))?void(ur=u):(vu(0|ar[k>>2]),void(ur=u))}if(19==(0|d))sr(55739,25597,756,26006);else if(22==(0|d))return d=0|ar[(s=56592)+4>>2],ar[(k=A)>>2]=ar[s>>2],ar[k+4>>2]=d,yu(A+8|0,56600),void(ur=u)}function ul(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;if(ur=(a=ur)+48|0,W=a+12|0,Io(o=(I=a)+24|0,0|ar[(r|=0)>>2]),k=60+(0|ar[r>>2])|0,s=0==(0|(u=0|ar[k>>2])))d=8;else{c=k,b=u;A:for(;;){for(l=b;!(6<=(0|ar[l+16>>2]));)if(!(l=0|ar[l+4>>2]))break A;if(!(b=0|ar[l>>2])){c=l;break}c=l}(0|c)!=(0|k)&&(0|ar[c+16>>2])<=6||(d=8)}if(8==(0|d)&&(c=k),t=(0|c)==(0|k),s)X=0;else{c=k;A:for(;;){for(l=u;!(6<=(0|ar[l+16>>2]));)if(!(l=0|ar[l+4>>2]))break A;if(!(u=0|ar[l>>2])){c=l;break}c=l}X=(0|c)!=(0|k)&&(0|ar[c+16>>2])<=6?0|ar[c+40>>2]:0}c=0|ar[o>>2],n=4+o|0;A:do{if((0|c)!=(0|n)){E=e+60|0,y=(B=(0|i)<0)?0-i|0:0,B=B?0:i,p=(0|f)<0?0-f|0:0,Z=c;e:for(;;){v=0|ar[Z+16>>2],h=0|ar[E>>2];r:do{if(0|h){c=E,u=h;i:for(;;){for(l=u;!((0|ar[l+16>>2])>=(0|v));)if(!(l=0|ar[l+4>>2]))break i;if(!(u=0|ar[l>>2])){c=l;break}c=l}if((0|c)!=(0|E)&&(0|ar[c+16>>2])<=(0|v)){if(k=60+(0|ar[r>>2])|0,b=0==(0|(s=0|ar[k>>2])))g=m=0;else{c=k,u=s;i:for(;;){for(l=u;!((0|ar[l+16>>2])>=(0|v));)if(!(l=0|ar[l+4>>2]))break i;if(!(u=0|ar[l>>2])){c=l;break}c=l}g=(0|c)!=(0|k)&&(0|ar[c+16>>2])<=(0|v)?(m=0|ar[c+40>>2],0|ar[c+48>>2]):m=0}c=E,u=h;i:for(;;){for(l=u;!((0|ar[l+16>>2])>=(0|v));)if(!(l=0|ar[l+4>>2]))break i;if(!(u=0|ar[l>>2])){c=l;break}c=l}if(e=(0|c)!=(0|E)&&(0|ar[c+16>>2])<=(0|v)?(w=0|ar[c+48>>2],0|ar[c+40>>2]):w=0,b){d=59;break e}c=k,u=s;i:for(;;){for(l=u;!((0|ar[l+16>>2])>=(0|v));)if(!(l=0|ar[l+4>>2]))break i;if(!(u=0|ar[l>>2])){c=l;break}c=l}if(d=(0|c)!=(0|k)&&(0|ar[c+16>>2])<=(0|v)?0|ar[c+24>>2]:-1,b)s=-1;else{c=k,u=s;i:for(;;){for(l=u;!((0|ar[l+16>>2])>=(0|v));)if(!(l=0|ar[l+4>>2]))break i;if(!(u=0|ar[l>>2])){c=l;break}c=l}s=(0|c)!=(0|k)&&(0|ar[c+16>>2])<=(0|v)?0|ar[c+28>>2]:-1}if((0|d)<=-1){d=59;break e}if(!(-1<(0|s))){d=61;break e}c=E,u=h;i:for(;;){for(l=u;!((0|ar[l+16>>2])>=(0|v));)if(!(l=0|ar[l+4>>2]))break i;if(!(u=0|ar[l>>2])){c=l;break}c=l}b=(0|c)!=(0|E)&&(0|ar[c+16>>2])<=(0|v)?0|ar[c+24>>2]:-1,c=E,u=h;i:for(;;){for(l=u;!((0|ar[l+16>>2])>=(0|v));)if(!(l=0|ar[l+4>>2]))break i;if(!(u=0|ar[l>>2])){c=l;break}c=l}if(c=(0|c)!=(0|E)&&(0|ar[c+16>>2])<=(0|v)?0|ar[c+28>>2]:-1,(0|b)<=-1){d=78;break e}if((0|c)<=-1){d=80;break e}if(((s=(0|c)<(s+f|0)?c-f|0:s)|(d=(0|b)<(d+i|0)?b-i|0:d)|0)<0){d=82;break e}if(!((0|y)<(0|d)&(0|p)<(0|s))){d=90;break e}if(l=e+B|0,u=m+y|0,b=d-y|0,t){for(c=p;;)if(hb(l+(0|br(c+f|0,w))|0,u+(0|br(c,g))|0,0|b),(0|s)<=(0|(c=c+1|0)))break r}else l=p;do{for(u=(0|br(l+f|0,w))+B|0,b=(0|br(l,g))+y|0,c=y;v=e+(u+c)|0,k=0|cr[X+(h=b+c|0)>>0],h=0|br(k,0|cr[m+h>>0]),h=255&((((0|br(0|cr[v>>0],255^k))+h|0)>>>0)/255|0),tr[v>>0]=h,(0|(c=c+1|0))<(0|d););l=l+1|0}while((0|l)<(0|s))}}}while(0);if(c=0|ar[Z+4>>2])for(;l=0|ar[c>>2];)c=l;else if(c=0|ar[(l=Z+8|0)>>2],(0|ar[c>>2])!=(0|Z))for(;Z=0|ar[l>>2],c=0|ar[(l=Z+8|0)>>2],(0|ar[c>>2])!=(0|Z););if((0|c)==(0|n))break A;Z=c}if(59==(0|d))sr(26021,25597,795,26031);else if(61==(0|d))sr(26039,25597,796,26031);else if(78==(0|d))sr(26049,25597,800,26031);else if(80==(0|d))sr(26060,25597,801,26031);else{if(82==(0|d)){for(ar[W>>2]=0,ar[W+4>>2]=0,c=(ar[W+8>>2]=0)|hu(64),ar[W>>2]=c,ar[W+8>>2]=-2147483584,u=26071,b=(l=c)+(ar[W+4>>2]=54)|0;tr[l>>0]=0|tr[u>>0],u=u+1|0,(0|(l=l+1|0))<(0|b););return(tr[c+54>>0]=0,oo(A,2,122,W),0<=(0|tr[W+11>>0]))?(Co(o,A=0|ar[n>>2]),void(ur=a)):(vu(0|ar[W>>2]),Co(o,A=0|ar[n>>2]),void(ur=a))}if(90==(0|d)){for(ar[I>>2]=0,ar[I+4>>2]=0,c=(ar[I+8>>2]=0)|hu(64),ar[I>>2]=c,ar[I+8>>2]=-2147483584,u=26126,b=(l=c)+(ar[I+4>>2]=50)|0;tr[l>>0]=0|tr[u>>0],u=u+1|0,(0|(l=l+1|0))<(0|b););return(tr[c+50>>0]=0,oo(A,2,122,I),0<=(0|tr[I+11>>0]))?(Co(o,A=0|ar[n>>2]),void(ur=a)):(vu(0|ar[I>>2]),Co(o,A=0|ar[n>>2]),void(ur=a))}}}}while(0);W=0|ar[(f=56592)+4>>2],ar[(I=A)>>2]=ar[f>>2],ar[I+4>>2]=W,yu(A+8|0,56600),Co(o,A=0|ar[n>>2]),ur=a}function bl(A,e,r){e|=0,r|=0;var i,f;ur=(i=ur)+16|0,f=i,A=0|ar[(A|=0)>>2],e=0|tA(0|e),ar[f>>2]=ar[r>>2],r=0|cA(4144,0|f),aA(0|A,0|e,0|r),iA(0|r),iA(0|e),ur=i}function sl(A,e){e|=0;var r,i,f,n=0,t=0;if(ar[(A|=0)>>2]=0,ar[(f=A+4|0)>>2]=0,(r=(n=((ar[A+8>>2]=0)|ar[(i=e+4|0)>>2])-(0|ar[e>>2])|0)>>3)&&(536870911<r>>>0&&zl(),t=0|hu(n),ar[f>>2]=t,ar[A>>2]=t,ar[A+8>>2]=t+(r<<3),(0|(n=0|ar[e>>2]))!=(0|(e=0|ar[i>>2]))))for(;ar[t>>2]=ar[n>>2],A=0|ar[n+4>>2],0|(ar[t+4>>2]=A)&&bu(A),n=n+8|0,t=8+(0|ar[f>>2])|0,ar[f>>2]=t,(0|n)!=(0|e););}function dl(A,e,r){e|=0,r|=0;var i,f;ur=(i=ur)+16|0,f=i,A=0|ar[(A|=0)>>2],ar[f>>2]=ar[e>>2],e=0|cA(4144,0|f),ar[f>>2]=ar[r>>2],r=0|cA(4152,0|f),aA(0|A,0|e,0|r),iA(0|r),iA(0|e),ur=i}function kl(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;f=0|ar[(u=(A|=0)+4|0)>>2],c=n=0|ar[A>>2],536870911<(t=1+(r=f-n>>3)|0)>>>0&&zl(),o=(l=(0|ar[(i=A+8|0)>>2])-n|0)>>2,o=l>>3>>>0<268435455?o>>>0<t>>>0?t:o:536870911;do{if(o){if(!(536870911<o>>>0)){a=0|hu(o<<3);break}Zu(u=0|X(8),44519),ar[u>>2]=17660,I(0|u,4016,428)}else a=0}while(0);if(l=a+(o<<3)|0,ar[(t=n=a+(r<<3)|0)>>2]=ar[e>>2],o=0|ar[e+4>>2],o=(ar[a+(r<<3)+4>>2]=o)?(bu(o),f=0|ar[u>>2],0|ar[A>>2]):c,a=n+8|0,(0|f)!=(0|o)){for(;f=(c=f)+-8|0,ar[n+-8>>2]=ar[f>>2],c=c+-4|0,ar[n+-4>>2]=ar[c>>2],ar[f>>2]=0,t=n=t+-8|(ar[c>>2]=0),(0|f)!=(0|o););o=0|ar[A>>2],f=0|ar[u>>2]}if(ar[A>>2]=t,ar[u>>2]=a,ar[i>>2]=l,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-4>>2],f=f+-8|0,0|n&&du(n),(0|f)!=(0|t););o&&vu(o)}function hl(A){var e;(A|=0)&&(0|(e=0|ar[A+4>>2])&&du(e),vu(A))}function wl(A,e){var r=0,i=0,f=0,n=0,t=0,o=0,a=0;if((e|=0)>>>0<=(f=0|ar[(o=(A|=0)+8|0)>>2])-(r=0|ar[(a=A+4|0)>>2])>>3>>>0)for(;ar[(o=r)>>2]=0,r=8+((ar[o+4>>2]=0)|ar[a>>2])|0,ar[a>>2]=r,0!=(0|(e=e+-1|0)););else{536870911<(r=(n=r-(i=0|ar[A>>2])>>3)+e|0)>>>0&&zl(),t=(f=f-i|0)>>2,r=f>>3>>>0<268435455?t>>>0<r>>>0?r:t:536870911;do{if(r){if(!(536870911<r>>>0)){i=0|hu(r<<3);break}Zu(a=0|X(8),44519),ar[a>>2]=17660,I(0|a,4016,428)}else i=0}while(0);for(t=i+(n<<3)|0,n=i+(r<<3)|0,f=r=t;ar[(i=r)>>2]=0,f=r=f+8|(ar[i+4>>2]=0),0!=(0|(e=e+-1|0)););e=0|ar[A>>2],r=t+(0-((i=(0|ar[a>>2])-e|0)>>3)<<3)|0,0<(0|i)&&hb(0|r,0|e,0|i),ar[A>>2]=r,ar[a>>2]=f,ar[o>>2]=n,e&&vu(e)}}function vl(A,e){A|=0,(e|=0)&&(vl(A,0|ar[e>>2]),vl(A,0|ar[e+4>>2]),0|(A=0|ar[e+24>>2])&&du(A),vu(e))}function ml(A,e){return A|=0,(e|=0)&&(ml(A,0|ar[e>>2]),ml(A,0|ar[e+4>>2]),void vu(e))}function gl(A){var e,r,i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(f=ur)+16|0,e=f,(0|(n=0|ar[(r=(A|=0)+28|0)>>2]))!=(0|(i=A+32|0)))for(s=b=e+4|0,u=n;;){if(a=0|ar[u+20>>2],(l=0==(0|(c=0|ar[u+24>>2])))||bu(c),sl(e,a+48|0),o=0|ar[e>>2],(0|(n=0|ar[b>>2]))==(0|o))n=o;else{for(;t=n+-8|0,ar[b>>2]=t,(0|(n=(n=0|ar[n+-4>>2])?(du(n),0|ar[b>>2]):t))!=(0|o););n=0|ar[e>>2]}if(0|n){if((0|o)!=(0|n)){for(;t=o+-8|0,ar[b>>2]=t,(o=0|ar[o+-4>>2])&&(du(o),t=0|ar[b>>2]),(0|t)!=(0|n);)o=t;n=0|ar[e>>2]}vu(n)}if(n=(ar[a+68>>2]=0)|ar[(o=a+72|0)>>2],(ar[o>>2]=0)|n&&du(n),n=(ar[a+84>>2]=0)|ar[(o=a+88|0)>>2],(ar[o>>2]=0)|n&&du(n),sl(e,a+172|0),o=0|ar[e>>2],(0|(n=0|ar[s>>2]))==(0|o))n=o;else{for(;t=n+-8|0,ar[s>>2]=t,(0|(n=(n=0|ar[n+-4>>2])?(du(n),0|ar[s>>2]):t))!=(0|o););n=0|ar[e>>2]}if(0|n){if((0|o)!=(0|n)){for(;t=o+-8|0,ar[s>>2]=t,(o=0|ar[o+-4>>2])&&(du(o),t=0|ar[s>>2]),(0|t)!=(0|n);)o=t;n=0|ar[e>>2]}vu(n)}if(l||du(c),n=0|ar[u+4>>2])for(;t=0|ar[n>>2];)n=t;else if(n=0|ar[(t=u+8|0)>>2],(0|ar[n>>2])!=(0|u))for(;u=0|ar[t>>2],n=0|ar[(t=u+8|0)>>2],(0|ar[n>>2])!=(0|u););if((0|n)==(0|i))break;u=n}if(0|(n=0|ar[A+64>>2])&&du(n),0|(n=0|ar[A+56>>2])&&du(n),0|(n=0|ar[(a=A+40|0)>>2])){if((0|(t=0|ar[(c=A+44|0)>>2]))!=(0|n)){for(;o=t+-8|0,ar[c>>2]=o,(0|(t=(t=0|ar[t+-4>>2])?(du(t),0|ar[c>>2]):o))!=(0|n););n=0|ar[a>>2]}vu(n)}vl(r,0|ar[i>>2]),ml(A+16|0,0|ar[A+20>>2]),ur=(0<=(0|tr[A+11>>0])||vu(0|ar[A>>2]),f)}function Zl(A,e){A|=0;var r=0,i=0,f=0,n=0,t=0;if(r=0|ar[(e|=0)>>2]){n=(r=0|qu(r,416,400,0))?(0|(f=i=0|ar[e+4>>2])&&bu(i),r?(ar[A+204>>2]=r,r=0|ar[(n=A+208|0)>>2],ar[n>>2]=f,r&&du(r),0):f):0,r=0|ar[e>>2];do{if(0|r&&0|(t=0|qu(r,416,440,0))){if(i=t,0|(f=r=0|ar[e+4>>2])&&bu(r),t){if(ar[A+196>>2]=i,r=0|ar[(t=A+200|0)>>2],ar[t>>2]=f,!r)break;du(r);break}if(!r)break;du(r);break}}while(0);n&&du(n)}}function pl(A,e){A|=0,e|=0;var r,i,f,n,t,o,a=0,c=0,l=0,u=0;if(ur=(o=ur)+32|0,ar[(n=(i=o)+8|0)>>2]=0,ar[(t=4+n|0)>>2]=0,((ar[8+n>>2]=0)|(a=0|ar[(f=A+40|0)>>2]))!=(0|(r=0|ar[A+44>>2]))){l=i+4|0,u=8+n|0;do{c=0|ar[a>>2],ar[i>>2]=c,A=0|ar[a+4>>2],A=(ar[l>>2]=A)?(bu(A),c=0|ar[i>>2]):c;do{if((0|A)!=(0|ar[e>>2])){if((0|(A=0|ar[t>>2]))==(0|ar[u>>2])){kl(n,i);break}ar[A>>2]=c,c=0|ar[l>>2],(ar[A+4>>2]=c)&&(bu(c),A=0|ar[t>>2]),ar[t>>2]=A+8}}while(0);0|(A=0|ar[l>>2])&&du(A),a=a+8|0}while((0|a)!=(0|r))}if((0|f)!=(0|n)&&function(A,e,r){var i=0,f=0,n=0,t=0,o=0,a=0,c=0;if(o=(r|=0)-(e|=0)>>3,i=0|ar[(a=8+(A|=0)|0)>>2],n=0|ar[A>>2],o>>>0>i-(f=n)>>3>>>0){if(n){if((0|(i=0|ar[(t=A+4|0)>>2]))==(0|f))i=n;else{for(n=i;i=n+-8|0,ar[t>>2]=i,(n=0|ar[n+-4>>2])&&(du(n),i=0|ar[t>>2]),(0|i)!=(0|f);)n=i;i=0|ar[A>>2]}vu(i),ar[a>>2]=0,ar[t>>2]=0,ar[A>>2]=0,i=0}if(536870911<o>>>0&&zl(),f=i>>2,536870911<(f=i>>3>>>0<268435455?f>>>0<o>>>0?o:f:536870911)>>>0&&zl(),i=0|hu(f<<3),ar[(n=A+4|0)>>2]=i,ar[A>>2]=i,ar[a>>2]=i+(f<<3),(0|e)==(0|r))return;for(;ar[i>>2]=ar[e>>2],f=0|ar[e+4>>2],0|(ar[i+4>>2]=f)&&bu(f),e=e+8|0,i=8+(0|ar[n>>2])|0,ar[n>>2]=i,(0|e)!=(0|r););return}if(i=(0|ar[(a=A+4|0)>>2])-n>>3,A=i>>>0<o>>>0,i=e+(i<<3)|0,(0|(o=A?i:r))==(0|e))e=f;else{for(;n=0|ar[e>>2],0|(t=0|ar[e+4>>2])&&bu(t),ar[f>>2]=n,n=0|ar[(c=f+4|0)>>2],ar[c>>2]=t,0|n&&du(n),f=f+8|0,(0|(e=e+8|0))!=(0|o););e=f}if(!A){if((0|(i=0|ar[a>>2]))==(0|e))return;for(;f=i+-8|0,ar[a>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[a>>2]):f))!=(0|e););return}if((0|o)==(0|r))return;f=0|ar[a>>2];for(;ar[f>>2]=ar[i>>2],e=0|ar[i+4>>2],0|(ar[f+4>>2]=e)&&bu(e),i=i+8|0,f=8+(0|ar[a>>2])|0,ar[a>>2]=f,(0|i)!=(0|r););}(f,0|ar[n>>2],0|ar[t>>2]),A=0|ar[n>>2]){if((0|(a=0|ar[t>>2]))!=(0|A)){for(;c=a+-8|0,ar[t>>2]=c,(0|(a=(a=0|ar[a+-4>>2])?(du(a),0|ar[t>>2]):c))!=(0|A););A=0|ar[n>>2]}vu(A),ur=o}else ur=o}function yl(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;t=0|ar[(b=(A|=0)+4|0)>>2],r=o=0|ar[A>>2],536870911<(f=(l=t-o>>3)+1|0)>>>0&&zl(),a=(u=(0|ar[(i=A+8|0)>>2])-o|0)>>2,a=u>>3>>>0<268435455?a>>>0<f>>>0?f:a:536870911;do{if(a){if(!(536870911<a>>>0)){c=0|hu(a<<3);break}Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)}else c=0}while(0);if(u=c+(a<<3)|0,ar[(f=n=c+(l<<3)|0)>>2]=ar[e>>2],a=e+4|0,ar[c+(l<<3)+4>>2]=ar[a>>2],ar[e>>2]=0,a=n+8|(ar[a>>2]=0),(0|t)!=(0|r)){for(;t=(l=t)+-8|0,ar[n+-8>>2]=ar[t>>2],l=l+-4|0,ar[n+-4>>2]=ar[l>>2],ar[t>>2]=0,f=n=f+-8|(ar[l>>2]=0),(0|t)!=(0|r););o=0|ar[A>>2]}if(ar[A>>2]=f,f=0|ar[b>>2],ar[b>>2]=a,ar[i>>2]=u,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-4>>2],f=f+-8|0,0|n&&du(n),(0|f)!=(0|t););o&&vu(o)}function Bl(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;t=0|ar[(b=(A|=0)+4|0)>>2],r=o=0|ar[A>>2],536870911<(f=(l=t-o>>3)+1|0)>>>0&&zl(),a=(u=(0|ar[(i=A+8|0)>>2])-o|0)>>2,a=u>>3>>>0<268435455?a>>>0<f>>>0?f:a:536870911;do{if(a){if(!(536870911<a>>>0)){c=0|hu(a<<3);break}Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)}else c=0}while(0);if(u=c+(a<<3)|0,ar[(f=n=c+(l<<3)|0)>>2]=ar[e>>2],a=e+4|0,ar[c+(l<<3)+4>>2]=ar[a>>2],ar[e>>2]=0,a=n+8|(ar[a>>2]=0),(0|t)!=(0|r)){for(;t=(l=t)+-8|0,ar[n+-8>>2]=ar[t>>2],l=l+-4|0,ar[n+-4>>2]=ar[l>>2],ar[t>>2]=0,f=n=f+-8|(ar[l>>2]=0),(0|t)!=(0|r););o=0|ar[A>>2]}if(ar[A>>2]=f,f=0|ar[b>>2],ar[b>>2]=a,ar[i>>2]=u,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-4>>2],f=f+-8|0,0|n&&du(n),(0|f)!=(0|t););o&&vu(o)}function El(A){var e=0,r=0,i=0,f=0,n=0;if(0|(e=0|ar[(A|=0)+208>>2])&&du(e),0|(e=0|ar[A+200>>2])&&du(e),0|(e=0|ar[(n=A+184|0)>>2])){if((0|(r=0|ar[(f=A+188|0)>>2]))!=(0|e)){for(;i=r+-8|0,ar[f>>2]=i,(0|(r=(r=0|ar[r+-4>>2])?(du(r),0|ar[f>>2]):i))!=(0|e););e=0|ar[n>>2]}vu(e)}if(0|(e=0|ar[(f=A+172|0)>>2])){if((0|(r=0|ar[(n=A+176|0)>>2]))!=(0|e)){for(;i=r+-8|0,ar[n>>2]=i,(0|(r=(r=0|ar[r+-4>>2])?(du(r),0|ar[n>>2]):i))!=(0|e););e=0|ar[f>>2]}vu(e)}if((0|tr[(e=A+160|0)+11>>0])<0&&vu(0|ar[e>>2]),0|(e=0|ar[A+88>>2])&&du(e),0|(e=0|ar[A+72>>2])&&du(e),0|(e=0|ar[(f=A+48|0)>>2])){if((0|(r=0|ar[(n=A+52|0)>>2]))!=(0|e)){for(;i=r+-8|0,ar[n>>2]=i,(0|(r=(r=0|ar[r+-4>>2])?(du(r),0|ar[n>>2]):i))!=(0|e););e=0|ar[f>>2]}vu(e)}0<=(0|tr[A+11>>0])||vu(0|ar[A>>2])}function Xl(A,e,r,i,f,n){A|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0;ur=(k=ur)+272|0,s=k+96|0,B=k+236|0,U=k+72|0,S=k+48|0,t=k+24|0,I=k+224|0,C=(o=k)+200|0,F=k+212|0,G=k+188|0,W=k+176|0,V=k+168|0,R=k+152|0,y=k+140|0,a=k+128|0,b=k+116|0,ho(d=k+248|0,0|ar[(N=(e|=0)+60|0)>>2],r),(Z=0|ar[(c=e+32|0)>>2])?(v=c,g=Z):sr(31354,30203,1047,31362);A:for(;;){for(m=g;!((0|ar[m+16>>2])>>>0>=r>>>0);)if(!(m=0|ar[m+4>>2]))break A;if(!(g=0|ar[m>>2])){v=m;break}v=m}(0|v)==(0|c)&&sr(31354,30203,1047,31362),(0|ar[v+16>>2])>>>0>r>>>0?sr(31354,30203,1047,31362):(w=c,p=Z);A:for(;;){for(v=p;!((0|ar[v+16>>2])>>>0>=r>>>0);)if(!(v=0|ar[v+4>>2]))break A;if(!(p=0|ar[v>>2])){w=v;break}w=v}(0|w)!=(0|c)&&(0|ar[w+16>>2])>>>0<=r>>>0||(w=c),v=0|ar[w+20>>2],0|(u=0|ar[w+24>>2])&&bu(u),(E=v)||sr(31354,30203,1047,31362),h=s,ar[(h|=0)>>2]=0,ar[h+4>>2]=0,ar[h+8>>2]=0,ar[h+12>>2]=0,v=(ar[h+16>>2]=0)|tr[(l=11+d|0)>>0],w=0|ar[(m=4+d|0)>>2],M=4==(0|(v<<24>>24<0?w:255&v))?0|Yu(d,0,-1,30298,4)?(v=0|tr[l>>0],w=0|ar[m>>2],22):25:22;A:do{if(22==(0|M)){if(4==(0|(v<<24>>24<0?w:255&v))){if(!(0|Yu(d,0,-1,30318,4))){M=25;break}v=0|tr[l>>0],w=0|ar[m>>2]}do{if(4==(0|(v<<24>>24<0?w:255&v))){if(0|Yu(d,0,-1,30303,4)){v=0|tr[l>>0],w=0|ar[m>>2];break}if(ar[U>>2]=0,ar[(g=U+4|0)>>2]=0,mo(S,(ar[U+8>>2]=0)|ar[N>>2],r,U),w=0|ar[(m=S)+4>>2],ar[(v=s)>>2]=ar[m>>2],ar[v+4>>2]=w,w=S+8|0,(0|tr[(m=(v=8+s|0)+11|0)>>0])<0?(tr[ar[v>>2]>>0]=0,ar[12+s>>2]=0):(tr[v>>0]=0,tr[m>>0]=0),Cu(v,0),ar[v>>2]=ar[w>>2],ar[v+4>>2]=ar[w+4>>2],ar[v+8>>2]=ar[w+8>>2],0|ar[s>>2]){S=0|ar[(i=s)+4>>2],ar[(w=A)>>2]=ar[i>>2],ar[w+4>>2]=S,ar[(w=A+8|0)>>2]=ar[v>>2],ar[w+4>>2]=ar[v+4>>2],ar[w+8>>2]=ar[v+8>>2],ar[v>>2]=0,ar[v+4>>2]=0,(ar[v+8>>2]=0)|(w=0|ar[U>>2])&&((0|ar[g>>2])!=(0|w)&&(ar[g>>2]=w),vu(w));break A}if(Wl(S,e,r,i,U),J=0|ar[(D=S)+4>>2],ar[(w=s)>>2]=ar[D>>2],ar[w+4>>2]=J,w=S+8|0,(0|tr[m>>0])<0?(tr[ar[v>>2]>>0]=0,ar[12+s>>2]=0):(tr[v>>0]=0,tr[m>>0]=0),Cu(v,0),ar[v>>2]=ar[w>>2],ar[v+4>>2]=ar[w+4>>2],ar[v+8>>2]=ar[w+8>>2],0|ar[s>>2]){S=0|ar[(i=s)+4>>2],ar[(w=A)>>2]=ar[i>>2],ar[w+4>>2]=S,ar[(w=A+8|0)>>2]=ar[v>>2],ar[w+4>>2]=ar[v+4>>2],ar[w+8>>2]=ar[v+8>>2],ar[v>>2]=0,ar[v+4>>2]=0,(ar[v+8>>2]=0)|(w=0|ar[U>>2])&&((0|ar[g>>2])!=(0|w)&&(ar[g>>2]=w),vu(w));break A}0|(w=0|ar[U>>2])&&((0|ar[g>>2])!=(0|w)&&(ar[g>>2]=w),vu(w)),M=178;break A}}while(0);do{if(4==(0|(v<<24>>24<0?w:255&v))){if(0|Yu(d,0,-1,30308,4)){v=0|tr[l>>0],w=0|ar[m>>2];break}if(Il(U,e,r,i),v=0|ar[(m=U)+4>>2],ar[(w=s)>>2]=ar[m>>2],ar[w+4>>2]=v,v=U+8|0,(0|tr[(m=(w=8+s|0)+11|0)>>0])<0?(tr[ar[w>>2]>>0]=0,ar[12+s>>2]=0):(tr[w>>0]=0,tr[m>>0]=0),Cu(w,0),ar[w>>2]=ar[v>>2],ar[w+4>>2]=ar[v+4>>2],ar[w+8>>2]=ar[v+8>>2],!(0|ar[s>>2])){M=178;break A}U=0|ar[(i=s)+4>>2],ar[(S=A)>>2]=ar[i>>2],ar[S+4>>2]=U,ar[(A=A+8|0)>>2]=ar[w>>2],ar[A+4>>2]=ar[w+4>>2],ar[A+8>>2]=ar[w+8>>2],ar[w>>2]=0,ar[w+4>>2]=0,ar[w+8>>2]=0;break A}}while(0);if(4==(0|(v<<24>>24<0?w:255&v))&&0==(0|Yu(d,0,-1,30313,4))){if(ar[U>>2]=0,ar[(g=U+4|0)>>2]=0,mo(S,(ar[U+8>>2]=0)|ar[N>>2],r,U),w=0|ar[(m=S)+4>>2],ar[(v=s)>>2]=ar[m>>2],ar[v+4>>2]=w,w=S+8|0,(0|tr[(m=(v=8+s|0)+11|0)>>0])<0?(tr[ar[v>>2]>>0]=0,ar[12+s>>2]=0):(tr[v>>0]=0,tr[m>>0]=0),Cu(v,0),ar[v>>2]=ar[w>>2],ar[v+4>>2]=ar[w+4>>2],ar[v+8>>2]=ar[w+8>>2],0|ar[s>>2]){S=0|ar[(i=s)+4>>2],ar[(w=A)>>2]=ar[i>>2],ar[w+4>>2]=S,ar[(w=A+8|0)>>2]=ar[v>>2],ar[w+4>>2]=ar[v+4>>2],ar[w+8>>2]=ar[v+8>>2],ar[v>>2]=0,ar[v+4>>2]=0,(ar[v+8>>2]=0)|(w=0|ar[U>>2])&&((0|ar[g>>2])!=(0|w)&&(ar[g>>2]=w),vu(w));break}if(Cl(S,e,r,i,U),J=0|ar[(D=S)+4>>2],ar[(w=s)>>2]=ar[D>>2],ar[w+4>>2]=J,w=S+8|0,(0|tr[m>>0])<0?(tr[ar[v>>2]>>0]=0,ar[12+s>>2]=0):(tr[v>>0]=0,tr[m>>0]=0),Cu(v,0),ar[v>>2]=ar[w>>2],ar[v+4>>2]=ar[w+4>>2],ar[v+8>>2]=ar[w+8>>2],0|ar[s>>2]){S=0|ar[(i=s)+4>>2],ar[(w=A)>>2]=ar[i>>2],ar[w+4>>2]=S,ar[(w=A+8|0)>>2]=ar[v>>2],ar[w+4>>2]=ar[v+4>>2],ar[w+8>>2]=ar[v+8>>2],ar[v>>2]=0,ar[v+4>>2]=0,(ar[v+8>>2]=0)|(w=0|ar[U>>2])&&((0|ar[g>>2])!=(0|w)&&(ar[g>>2]=w),vu(w));break}0|(w=0|ar[U>>2])&&((0|ar[g>>2])!=(0|w)&&(ar[g>>2]=w),vu(w)),M=178;break}ar[y>>2]=0,ar[y+4>>2]=0,ar[y+8>>2]=0,oo(A,4,3001,y),(0|tr[y+11>>0])<0&&vu(0|ar[y>>2])}}while(0);do{if(25==(0|M)){if(v=0|tr[l>>0],w=0|ar[m>>2],4==(0|(v<<24>>24<0?w:255&v))?0|Yu(d,0,-1,30298,4)?(v=0|tr[l>>0],w=0|ar[m>>2],M=28):p=1:M=28,28==(0|M)&&(p=4==(0|(v<<24>>24<0?w:255&v))&&(p=0==(0|Yu(d,0,-1,30318,4)))?4:0),m=(w=0|Rl(p))?0|jb[127&ar[w+16>>2]](p):0,(0|(v=0|ar[e+16>>2]))==(0|(y=e+20|0)))g=w;else{do{if(D=0|ar[v+16>>2],w=(J=(0|m)<(0|(g=0|jb[127&ar[D+16>>2]](p))))?D:w,m=J?g:m,g=0|ar[v+4>>2])for(v=g;g=0|ar[v>>2];)v=g;else if(Z=0|ar[(g=v+8|0)>>2],(0|ar[Z>>2])==(0|v))v=Z;else for(;J=0|ar[g>>2],v=0|ar[(g=J+8|0)>>2],(0|ar[v>>2])!=(0|J););}while((0|v)!=(0|y));g=w}if(!g){if(ar[B>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,oo(A,4,3e3,B),0<=(0|tr[B+11>>0]))break;vu(0|ar[B>>2]);break}if(ar[U>>2]=0,ar[(X=U+4|0)>>2]=0,mo(S,(ar[U+8>>2]=0)|ar[N>>2],r,U),v=0|ar[(m=S)+4>>2],ar[(w=s)>>2]=ar[m>>2],ar[w+4>>2]=v,v=S+8|0,(0|tr[(m=(w=8+s|0)+11|0)>>0])<0?(tr[ar[w>>2]>>0]=0,ar[12+s>>2]=0):(tr[w>>0]=0,tr[m>>0]=0),Cu(w,0),ar[w>>2]=ar[v>>2],ar[w+4>>2]=ar[v+4>>2],ar[w+8>>2]=ar[v+8>>2],0|ar[s>>2])D=0|ar[(Q=s)+4>>2],ar[(J=A)>>2]=ar[Q>>2],ar[J+4>>2]=D,ar[(J=A+8|0)>>2]=ar[w>>2],ar[J+4>>2]=ar[w+4>>2],ar[J+8>>2]=ar[w+8>>2],ar[w>>2]=0,ar[w+4>>2]=0,ar[w+8>>2]=0,w=1;else{fs[63&ar[g+20>>2]](t,S),Z=0|ar[t>>2];do{if(Z)m=0|ar[4+t>>2],v=0|ar[8+t>>2],ar[I>>2]=0,ar[I+4>>2]=0,4294967279<(g=(ar[I+8>>2]=0)|Vc(v))>>>0&&pu(),g>>>0<11?(tr[I+11>>0]=g)?(w=I,M=53):w=I:(w=0|hu(M=g+16&-16),ar[I>>2]=w,ar[I+8>>2]=-2147483648|M,ar[I+4>>2]=g,M=53),53==(0|M)&&hb(0|w,0|v,0|g),tr[w+g>>0]=0,oo(A,Z,m,I),w=((0|tr[I+11>>0])<0&&vu(0|ar[I>>2]),1);else{if(J=0|ar[U>>2],ts[31&ar[g+28>>2]](o,0|ar[S>>2],J,(0|ar[X>>2])-J|0),ar[t>>2]=ar[o>>2],ar[4+t>>2]=ar[o+4>>2],ar[8+t>>2]=ar[o+8>>2],0|ar[t>>2]){if(is[511&ar[g+24>>2]](0|ar[S>>2]),m=0|ar[t>>2],g=0|ar[4+t>>2],v=0|ar[8+t>>2],ar[C>>2]=0,ar[C+4>>2]=0,4294967279<(Z=(ar[C+8>>2]=0)|Vc(v))>>>0&&pu(),Z>>>0<11?(tr[C+11>>0]=Z)?(w=C,M=62):w=C:(w=0|hu(M=Z+16&-16),ar[C>>2]=w,ar[C+8>>2]=-2147483648|M,ar[C+4>>2]=Z,M=62),62==(0|M)&&hb(0|w,0|v,0|Z),tr[w+Z>>0]=0,oo(A,m,g,C),0<=(0|tr[C+11>>0])){w=1;break}vu(0|ar[C>>2]),w=1;break}ar[o>>2]=0,ns[127&ar[g+32>>2]](F,0|ar[S>>2],o),ar[t>>2]=ar[F>>2],ar[4+t>>2]=ar[F+4>>2],ar[8+t>>2]=ar[F+8>>2];do{if(0|ar[t>>2]){if(is[511&ar[g+24>>2]](0|ar[S>>2]),m=0|ar[t>>2],g=0|ar[4+t>>2],v=0|ar[8+t>>2],ar[G>>2]=0,ar[G+4>>2]=0,4294967279<(Z=(ar[G+8>>2]=0)|Vc(v))>>>0&&pu(),Z>>>0<11?(tr[G+11>>0]=Z)?(w=G,M=71):w=G:(w=0|hu(M=Z+16&-16),ar[G>>2]=w,ar[G+8>>2]=-2147483648|M,ar[G+4>>2]=Z,M=71),71==(0|M)&&hb(0|w,0|v,0|Z),tr[w+Z>>0]=0,oo(A,m,g,G),0<=(0|tr[G+11>>0])){w=1;break}vu(0|ar[G>>2]),w=1}else{if(!(w=0|ar[o>>2])){if(is[511&ar[g+24>>2]](0|ar[S>>2]),ar[W>>2]=0,ar[W+4>>2]=0,oo(A,7,ar[W+8>>2]=0,W),0<=(0|tr[W+11>>0])){w=1;break}vu(0|ar[W>>2]),w=1;break}p=0|ar[w>>2],J=0|ar[(D=w+4|0)>>2],ar[w>>2]=0,ar[D>>2]=0,ar[i>>2]=p,w=0|ar[(p=i+4|0)>>2],ar[p>>2]=J,0|w&&du(w),hl(0|ar[o>>2]),is[511&ar[g+24>>2]](0|ar[S>>2]),w=0|ar[E+196>>2],(B=0==(0|(y=0|ar[E+200>>2])))||bu(y);do{if(0|w){if(v=0|ar[i>>2],B||(bu(y),bu(y)),ar[v+40>>2]=w,w=0|ar[(J=v+44|0)>>2],ar[J>>2]=y,0|w&&du(w),B)break;du(y)}}while(0);v=0|ar[E+204>>2],(Z=0==(0|(g=0|ar[E+208>>2])))||bu(g);do{if(0|v){if(w=0|ar[i>>2],Z||(bu(g),bu(g)),ar[w+48>>2]=v,w=0|ar[(J=w+52|0)>>2],ar[J>>2]=g,0|w&&du(w),Z)break;du(g)}}while(0);J=0|ar[i>>2],D=0|ar[J+32>>2],v=2==(0|(w=0==(0|(w=99==(0|f)?D:f))?1:w))?0:3;do{if((0|w)==(0|D)&&(0|v)==(0|ar[J+36>>2]))w=0;else{ar[V>>2]=0,me(F,i,w,v,V,ar[(m=V+4|0)>>2]=0),w=0|ar[F>>2],J=0|ar[(v=F+4|0)>>2],ar[F>>2]=0,ar[v>>2]=0,ar[i>>2]=w,w=0|ar[p>>2],ar[p>>2]=J;do{if(0|w){if(du(w),!(w=0|ar[v>>2]))break;du(w)}}while(0);if(0|(w=0|ar[m>>2])&&du(w),0|ar[i>>2]){w=0;break}if(ar[R>>2]=0,ar[R+4>>2]=0,ar[R+8>>2]=0,oo(A,4,3003,R),0<=(0|tr[R+11>>0])){w=1;break}vu(0|ar[R>>2]),w=1}}while(0);if(Z||du(g),B)break;du(y)}}while(0)}}while(0)}0|(v=0|ar[U>>2])&&((0|ar[X>>2])!=(0|v)&&(ar[X>>2]=v),vu(v)),w||(M=178)}}while(0);do{if(178==(0|M)){if(0==(0|n)||0==(0|tr[n+1>>0])){ar[U>>2]=0,ar[(J=U+4|0)>>2]=0,w=(ar[U+8>>2]=0)|ar[N>>2],v=0|ar[w+44>>2],(D=0==(0|(Q=0|ar[w+48>>2])))||(bu(Q),w=0|ar[N>>2]),ar[S>>2]=ar[w+52>>2],Y=S+4|0,w=0|ar[w+56>>2],0|(ar[Y>>2]=w)&&bu(w),Ht(t,v,r,S,U),w=0|ar[(_=t)+4>>2],ar[(N=s)>>2]=ar[_>>2],ar[N+4>>2]=w,w=8+t|0,(0|tr[(_=(N=8+s|0)+11|0)>>0])<0?(tr[ar[N>>2]>>0]=0,ar[12+s>>2]=0):(tr[N>>0]=0,tr[_>>0]=0),Cu(N,0),ar[N>>2]=ar[w>>2],ar[N+4>>2]=ar[w+4>>2],ar[N+8>>2]=ar[w+8>>2],w=0|ar[U>>2],X=0|ar[J>>2];A:do{if((0|w)!=(0|X)){W=11+a|0,G=12+s|0,f=i+4|0,V=A+8|0,F=8+t|0,R=I=4+t|0,n=C=o+8|0;e:for(;;){v=0|ar[(Z=w+4|0)>>2];r:do{if(v){if(m=0|qu(v,128,808,0)){(v=0|ar[w+8>>2])?bu(v):v=0,ar[t>>2]=0,ol(o,(ar[R>>2]=0)|ar[i>>2],0|ar[m+56>>2],t),B=0|ar[(y=o)+4>>2],ar[(E=s)>>2]=ar[y>>2],ar[E+4>>2]=B,(0|tr[_>>0])<0?(tr[ar[N>>2]>>0]=0,ar[G>>2]=0):(tr[N>>0]=0,tr[_>>0]=0),Cu(N,0),ar[N>>2]=ar[n>>2],ar[N+4>>2]=ar[n+4>>2],ar[N+8>>2]=ar[n+8>>2];do{if(0|ar[s>>2])E=0|ar[(B=s)+4>>2],ar[(m=A)>>2]=ar[B>>2],ar[m+4>>2]=E,ar[V>>2]=ar[N>>2],ar[V+4>>2]=ar[N+4>>2],ar[V+8>>2]=ar[N+8>>2],ar[N>>2]=0,ar[N+4>>2]=0,ar[N+8>>2]=0,m=1;else{if(m=0|ar[t>>2],0|(g=0|ar[R>>2])&&bu(g),ar[i>>2]=m,m=0|ar[f>>2],ar[f>>2]=g,!m){m=0;break}du(m),m=0}}while(0);if(0|(g=0|ar[R>>2])&&du(g),m){m=1;break}E=v}else E=0;if(v=0|ar[Z>>2]){m=0|qu(v,128,776,0);do{if(m){if((v=0|ar[w+8>>2])?bu(v):v=0,al(t,0|ar[i>>2],1==(0|tr[m+56>>0])),B=0|ar[(y=t)+4>>2],ar[(M=s)>>2]=ar[y>>2],ar[M+4>>2]=B,(0|tr[_>>0])<0?(tr[ar[N>>2]>>0]=0,ar[G>>2]=0):(tr[N>>0]=0,tr[_>>0]=0),Cu(N,0),ar[N>>2]=ar[F>>2],ar[N+4>>2]=ar[F+4>>2],ar[N+8>>2]=ar[F+8>>2],!(0|ar[s>>2])){B=v;break}g=0|ar[(M=s)+4>>2],ar[(m=A)>>2]=ar[M>>2],ar[m+4>>2]=g,ar[V>>2]=ar[N>>2],ar[V+4>>2]=ar[N+4>>2],ar[V+8>>2]=ar[N+8>>2],ar[N>>2]=0,ar[N+4>>2]=0,ar[N+8>>2]=0,m=1,g=v,v=E,M=241;break r}B=0}while(0);if(!(v=0|ar[Z>>2])){Z=0,g=B,v=E,M=238;break}if(!(m=0|qu(v,128,744,0))){Z=0,g=B,v=E,M=238;break}if((v=0|ar[w+8>>2])?bu(v):v=0,y=0|ar[i>>2],g=0|ar[y+24>>2],y=0|ar[y+28>>2],(0|g)<=-1){M=220;break e}if((0|y)<=-1){M=222;break e}if(p=0|Kt(m,g),M=0|qt(m,g),Z=0|$t(m,y),(0|(g=(0|M)<(0|g)?M:g+-1|0))<(0|(p=0<(0|p)?p:0))|(0|(m=(0|(m=0|Ao(m,y)))<(0|y)?m:y+-1|0))<(0|(Z=0<(0|Z)?Z:0))){if(ar[a>>2]=0,ar[4+a>>2]=0,ar[8+a>>2]=0,oo(A,2,120,a),0<=(0|tr[W>>0])){m=1,Z=v,g=B,v=E,M=239;break}vu(0|ar[a>>2]),m=1,Z=v,g=B,v=E,M=239;break}ar[t>>2]=0,cl(o,(ar[I>>2]=0)|ar[i>>2],p,g,Z,m,t),y=0|ar[(p=o)+4>>2],ar[(M=s)>>2]=ar[p>>2],ar[M+4>>2]=y,(0|tr[_>>0])<0?(tr[ar[N>>2]>>0]=0,ar[G>>2]=0):(tr[N>>0]=0,tr[_>>0]=0),Cu(N,0),ar[N>>2]=ar[C>>2],ar[N+4>>2]=ar[C+4>>2],ar[N+8>>2]=ar[C+8>>2];do{if(0|ar[s>>2])M=0|ar[(y=s)+4>>2],ar[(m=A)>>2]=ar[y>>2],ar[m+4>>2]=M,ar[V>>2]=ar[N>>2],ar[V+4>>2]=ar[N+4>>2],ar[V+8>>2]=ar[N+8>>2],ar[N>>2]=0,ar[N+4>>2]=0,ar[N+8>>2]=0,m=1;else{if(m=0|ar[t>>2],0|(g=0|ar[I>>2])&&bu(g),ar[i>>2]=m,m=0|ar[f>>2],ar[f>>2]=g,!m){m=0;break}du(m),m=0}}while(0);0|(g=0|ar[I>>2])&&du(g),M=m?(m=1,Z=v,g=B,v=E,239):(Z=v,g=B,v=E,238)}else g=Z=0,v=E,M=238}else v=g=Z=0,M=238}while(0);if(238==(0|M)&&(m=0,M=239),239==(0|M)&&(M=(Z&&du(Z),241)),241==(0|M)&&(M=0,g&&du(g)),0|v&&du(v),w=w+12|0,0|m){T=m;break A}if((0|w)==(0|X)){T=2;break A}}220==(0|M)?sr(31382,30203,1221,31362):222==(0|M)&&sr(31397,30203,1222,31362)}else T=2}while(0);if(0|(w=0|ar[Y>>2])&&du(w),D||du(Q),0|(w=0|ar[U>>2])){if((0|(v=0|ar[J>>2]))!=(0|w)){for(;m=v+-12|0,ar[J>>2]=m,(0|(v=(v=0|ar[v+-4>>2])?(du(v),0|ar[J>>2]):m))!=(0|w););w=0|ar[U>>2]}vu(w)}if(2!=(2|T))break}if(0|(m=0|ar[c>>2])){w=c,g=m;A:for(;;){for(v=g;!((0|ar[v+16>>2])>>>0>=r>>>0);)if(!(v=0|ar[v+4>>2]))break A;if(!(g=0|ar[v>>2])){w=v;break}w=v}if((0|w)!=(0|c)&&(0|ar[w+16>>2])>>>0<=r>>>0){w=c;A:for(;;){for(v=m;!((0|ar[v+16>>2])>>>0>=r>>>0);)if(!(v=0|ar[v+4>>2]))break A;if(!(m=0|ar[v>>2])){w=v;break}w=v}if((0|w)!=(0|c)&&(0|ar[w+16>>2])>>>0<=r>>>0||(w=c),v=0|ar[w+20>>2],(y=0==(0|(p=0|ar[w+24>>2])))||bu(p),w=0|ar[v+68>>2],(Z=0==(0|(g=0|ar[v+72>>2])))||bu(g),w){ar[U>>2]=0,Xl(S,e,(ar[(m=U+4|0)>>2]=0)|ar[w+20>>2],U,99,0);A:do{if(0|ar[S>>2])w=0|ar[(i=S)+4>>2],ar[(U=A)>>2]=ar[i>>2],ar[U+4>>2]=w,w=S+8|0,ar[(U=A+8|0)>>2]=ar[w>>2],ar[U+4>>2]=ar[w+4>>2],ar[U+8>>2]=ar[w+8>>2],ar[w>>2]=0,ar[w+4>>2]=0,ar[w+8>>2]=0,w=1;else{switch(0|ar[32+(0|ar[U>>2])>>2]){case 2:case 0:w=0;break;case 1:w=3;break;default:if(ar[b>>2]=0,ar[4+b>>2]=0,ar[8+b>>2]=0,oo(A,2,3003,b),0<=(0|tr[11+b>>0])){w=1;break A}vu(0|ar[b>>2]),w=1;break A}_o(0|ar[i>>2],U,w,6),w=0}}while(0);(0|tr[(v=S+8|0)+11>>0])<0&&vu(0|ar[v>>2]),0|(v=0|ar[m>>2])&&du(v),w||(M=289)}else M=289;if(289==(0|M)&&(w=0),Z||du(g),y||du(p),0|w)break}}U=0|ar[(i=56592)+4>>2],ar[(S=A)>>2]=ar[i>>2],ar[S+4>>2]=U,yu(A+8|0,56600)}}while(0);(0|tr[(w=8+s|0)+11>>0])<0&&vu(0|ar[w>>2]),0|u&&du(u),ur=(0<=(0|tr[l>>0])||vu(0|ar[d>>2]),k)}function Wl(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0;if(ur=(a=ur)+480|0,J=a+24|0,s=(o=a)+460|0,c=a+436|0,Z=a+280|0,k=a+424|0,v=a+264|0,t=a+256|0,p=a+96|0,y=a+240|0,B=a+80|0,E=a+68|0,Q=a+56|0,n=a+48|0,ar[(g=a+448|0)>>2]=0,ar[g+4>>2]=0,ar[g+8>>2]=0,function(A,e,r){A|=0,e|=0;var i,f=0,n=0,t=0,o=0;if(ur=(i=ur)+32|0,t=i+12|0,o=i,n=0|ar[(r|=0)>>2],(r=(0|ar[r+4>>2])-n|0)>>>0<8){for(r=0|hu(32),ar[t>>2]=r,ar[t+8>>2]=-2147483616,n=30033,e=(f=r)+(ar[t+4>>2]=25)|0;tr[f>>0]=0|tr[n>>0],n=n+1|0,(0|(f=f+1|0))<(0|e););return(tr[r+25>>0]=0,oo(A,2,118,t),0<=(0|tr[t+11>>0]))?ur=i:(vu(0|ar[t>>2]),ur=i)}t=0==(1&tr[n+1>>0]),or[e>>1]=1+(0|cr[n+2>>0]),or[e+2>>1]=1+(0|cr[n+3>>0]);do{if(!t){if(12<=r>>>0){ar[e+4>>2]=cr[n+5>>0]<<16|cr[n+4>>0]<<24|cr[n+6>>0]<<8|cr[n+7>>0],r=11,f=cr[n+9>>0]<<16|cr[n+8>>0]<<24|cr[n+10>>0]<<8;break}for(r=0|hu(32),ar[o>>2]=r,ar[o+8>>2]=-2147483616,n=30059,e=(f=r)+(ar[o+4>>2]=26)|0;tr[f>>0]=0|tr[n>>0],n=n+1|0,(0|(f=f+1|0))<(0|e););return(tr[r+26>>0]=0,oo(A,2,118,o),0<=(0|tr[o+11>>0]))?ur=i:(vu(0|ar[o>>2]),ur=i)}ar[e+4>>2]=cr[n+4>>0]<<8|cr[n+5>>0],r=7,f=cr[n+6>>0]<<8}while(0);ar[e+8>>2]=cr[n+r>>0]|f,t=0|ar[(e=56592)+4>>2],ar[(o=A)>>2]=ar[e>>2],ar[o+4>>2]=t,yu(A+8|0,56600),ur=i}(o,g,f),0|ar[o>>2])U=0|ar[(M=o)+4>>2],ar[(T=A)>>2]=ar[M>>2],ar[T+4>>2]=U,U=o+8|0,ar[(T=A+8|0)>>2]=ar[U>>2],ar[T+4>>2]=ar[U+4>>2],ar[T+8>>2]=ar[U+8>>2],ar[U>>2]=0,ar[U+4>>2]=0,ar[U+8>>2]=0;else{if(T=0|ar[(w=e+60|0)>>2],f=0|ar[T+76>>2],(U=0==(0|(T=0|ar[T+80>>2])))||bu(T),f){fo(c,f,r,1684630887),f=0|ar[(M=c+4|0)>>2],u=l=0|ar[c>>2],h=f,257<=(65535&(G=0|or[g>>1]))&&sr(31678,30203,133,31692),257<=(65535&(s=0|or[g+2>>1]))&&sr(31701,30203,139,31718),d=0|br(Y=65535&s,_=65535&G);A:do{if((f-l>>2|0)==(0|d)){e:do{if((0|u)!=(0|h)){d=0|ar[e+28>>2],k=e+32|0;r:do{if((0|d)==(0|k))s=0|ar[u>>2];else for(b=u;;){for(s=0|ar[b>>2],u=d;(0|ar[u+16>>2])!=(0|s);){if(f=0|ar[u+4>>2])for(;l=0|ar[f>>2];)f=l;else if(f=0|ar[(l=u+8|0)>>2],(0|ar[f>>2])!=(0|u))for(;N=0|ar[l>>2],f=0|ar[(l=N+8|0)>>2],(0|ar[f>>2])!=(0|N););if((0|f)==(0|k))break r;u=f}if((0|(b=b+4|0))==(0|h))break e}}while(0);l=Z+64|0,ar[(b=Z+8|0)>>2]=4524,u=Z+12|0,ar[Z>>2]=188,ar[l>>2]=208,Jf(Z+64|(ar[Z+4>>2]=0),u),ar[Z+136>>2]=0,ar[Z+140>>2]=-1,ar[Z>>2]=4504,ar[l>>2]=4544,ar[b>>2]=4524,Sf(u),ar[u>>2]=4340,ar[(b=Z+44|0)>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,ar[b+12>>2]=0,ar[Z+60>>2]=24,ar[J>>2]=0,ar[J+4>>2]=0,ar[J+8>>2]=0,Xe(u,J),(0|tr[J+11>>0])<0&&vu(0|ar[J>>2]),We(0|Lf(0|We(f=Z+8|0,31789,14),s),31804,23),Ie(v,u),oo(A,2,119,v),(0|tr[v+11>>0])<0&&vu(0|ar[v>>2]),ar[Z>>2]=4504,ar[l>>2]=4544,ar[f>>2]=4524,ar[u>>2]=4340,(0|tr[b+11>>0])<0&&vu(0|ar[b>>2]),kf(u),bf(l);break A}}while(0);f=0|ar[w>>2],ar[Z>>2]=ar[f+52>>2],N=Z+4|0,l=0|ar[f+56>>2],(ar[N>>2]=l)&&(bu(l),f=0|ar[w>>2]),l=0|ar[f+44>>2],(R=0==(0|(F=0|ar[f+48>>2])))||bu(F),Lt(t,l,r,Z,1885960297),V=0!=(0|(f=0|ar[t>>2]))&&0!=(0|(m=0|qu(f,128,352,0)))?(f=0|ar[4+t>>2])?(bu(f),d=m,f):(d=m,0):d=0,h=0|ar[g+4>>2],k=0|ar[g+8>>2],(0|ar[c>>2])==(0|ar[M>>2])&&sr(31828,30203,1359,31854),s=e+72|0;e:do{if(h>>>0<(0|ar[s>>2])>>>0&&k>>>0<(0|ar[e+76>>2])>>>0){u=0|hu(80),ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u>>2]=6208,ar[(f=u+12|0)>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f+12>>2]=0,ar[f+16>>2]=0,ar[u+32>>2]=30025,ar[u+36>>2]=0,ar[u+40>>2]=0,ar[u+44>>2]=99,ar[u+48>>2]=99,s=u+52|0,ar[(b=u+72|0)>>2]=0,ar[u+76>>2]=0,ar[s>>2]=0,ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s+12>>2]=0,ar[u+68>>2]=b,b=f,C=(s=u)+16|0,bu(u),su(u),l=0|ar[C>>2],ar[f>>2]=b,ar[C>>2]=s,0|l&&ku(l),du(u),ar[i>>2]=b,l=0|ar[(C=i+4|0)>>2],ar[C>>2]=s,l?(du(l),f=0|ar[(b=i)>>2]):b=i,yo(f,h,k,1,3),u=0!=(0|d);do{if(u){if(f=0|ar[d+56>>2],1<=((0|ar[d+60>>2])-f|0)){l=0|cr[f>>0];break}for(ar[B>>2]=0,ar[B+4>>2]=0,f=(ar[B+8>>2]=0)|hu(48),ar[B>>2]=f,ar[B+8>>2]=-2147483600,u=31877,b=(l=f)+(ar[B+4>>2]=37)|0;tr[l>>0]=0|tr[u>>0],u=u+1|0,(0|(l=l+1|0))<(0|b););if(tr[f+37>>0]=0,oo(A,2,130,B),0<=(0|tr[B+11>>0]))break e;vu(0|ar[B>>2]);break e}l=8}while(0);Bo(0|ar[b>>2],3,h,k,l);do{if(u){if(f=I=0|ar[d+56>>2],3!=((0|ar[d+60>>2])-I|0))break;if((0|cr[f+1>>0])==(0|l)&&(0|cr[f+2>>0])==(0|l))break;for(ar[E>>2]=0,ar[E+4>>2]=0,f=(ar[E+8>>2]=0)|hu(64),ar[E>>2]=f,ar[E+8>>2]=-2147483584,u=31915,b=(l=f)+(ar[E+4>>2]=51)|0;tr[l>>0]=0|tr[u>>0],u=u+1|0,(0|(l=l+1|0))<(0|b););if(tr[f+51>>0]=0,oo(A,2,130,E),0<=(0|tr[E+11>>0]))break e;vu(0|ar[E>>2]);break e}}while(0);Bo(0|ar[b>>2],4,h,k,l),Bo(0|ar[b>>2],5,h,k,l),Z=e+32|0,p=4+n|0,B=(y=J+8|0)+11|0,E=A+8|0,X=Q+8|0,W=Q+4|0,I=Q+11|0;r:do{if(G<<16>>16){g=f=m=0;i:for(;;){for(v=w=r=0;!((0|Y)<=(0|r));){if(d=0|ar[(0|ar[c>>2])+(f<<2)>>2],!(u=0|ar[Z>>2]))break i;l=Z;f:for(;;){for(b=u;!((0|ar[b+16>>2])>>>0>=d>>>0);){if(!(u=0|ar[b+4>>2]))break f;b=u}if(!(u=0|ar[b>>2])){l=b;break}l=b}if((0|l)==(0|Z))break i;if(d>>>0<(0|ar[l+16>>2])>>>0)break i;u=0|ar[l+20>>2],(h=0==(0|(k=0|ar[l+24>>2])))||bu(k),s=0|ar[u+24>>2],b=0|ar[u+28>>2],ar[n>>2]=ar[i>>2],l=0|ar[C>>2],(ar[p>>2]=l)?(bu(l),Gl(J,e,d,n,v,g),du(l)):Gl(J,e,d,n,v,g);do{if(0|ar[J>>2])u=0|ar[(l=J)+4>>2],ar[(b=A)>>2]=ar[l>>2],ar[b+4>>2]=u,ar[E>>2]=ar[y>>2],ar[E+4>>2]=ar[y+4>>2],ar[E+8>>2]=ar[y+8>>2],ar[y>>2]=0,ar[y+4>>2]=0,ar[y+8>>2]=0,b=w,u=v,l=1;else{if(l=s+v|0,f=f+1|0,0<=(0|tr[B>>0])){u=l,l=0;break}vu(0|ar[y>>2]),u=l,l=0}}while(0);if(h||du(k),l)break e;r=r+1|0,w=b,v=u}if((0|_)<=(0|(m=m+1|0)))break r;g=w+g|0}for(ar[Q>>2]=0,ar[Q+4>>2]=0,f=(ar[Q+8>>2]=0)|hu(48),ar[Q>>2]=f,ar[X>>2]=-2147483600,u=31967,b=(l=f)+(ar[W>>2]=32)|0;tr[l>>0]=0|tr[u>>0],u=u+1|0,(0|(l=l+1|0))<(0|b););if(tr[f+32>>0]=0,oo(A,2,119,Q),0<=(0|tr[I>>0]))break e;vu(0|ar[Q>>2]);break e}}while(0);J=0|ar[(Q=56592)+4>>2],ar[A>>2]=ar[Q>>2],ar[A+4>>2]=J,yu(E,56600)}else D=51}while(0);51==(0|D)&&(l=p+64|0,ar[(b=p+8|0)>>2]=4524,u=p+12|0,ar[p>>2]=188,ar[l>>2]=208,Jf(p+64|(ar[p+4>>2]=0),u),ar[p+136>>2]=0,ar[p+140>>2]=-1,ar[p>>2]=4504,ar[l>>2]=4544,ar[b>>2]=4524,Sf(u),ar[u>>2]=4340,ar[(b=p+44|0)>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,ar[b+12>>2]=0,ar[p+60>>2]=24,ar[J>>2]=0,ar[J+4>>2]=0,ar[J+8>>2]=0,Xe(u,J),(0|tr[J+11>>0])<0&&vu(0|ar[J>>2]),J=0|We(0|Lf(0|We(0|Lf(0|We(f=p+8|0,30366,11),h),30170,1),k),30378,32),J=0|We(0|Lf(J,0|ar[s>>2]),30170,1),We(0|Lf(J,0|ar[e+76>>2]),30086,1),Ie(y,u),oo(A,6,1e3,y),(0|tr[y+11>>0])<0&&vu(0|ar[y>>2]),ar[p>>2]=4504,ar[l>>2]=4544,ar[f>>2]=4524,ar[u>>2]=4340,(0|tr[b+11>>0])<0&&vu(0|ar[b>>2]),kf(u),bf(l)),0|V&&du(V),0|(f=0|ar[4+t>>2])&&du(f),R||du(F),0|(f=0|ar[N>>2])&&du(f)}else l=Z+64|0,ar[(b=Z+8|0)>>2]=4524,u=Z+12|0,ar[Z>>2]=188,ar[l>>2]=208,Jf(Z+64|(ar[Z+4>>2]=0),u),ar[Z+136>>2]=0,ar[Z+140>>2]=-1,ar[Z>>2]=4504,ar[l>>2]=4544,ar[b>>2]=4524,Sf(u),ar[u>>2]=4340,ar[(b=Z+44|0)>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,ar[b+12>>2]=0,ar[Z+60>>2]=24,ar[J>>2]=0,ar[J+4>>2]=0,ar[J+8>>2]=0,Xe(u,J),(0|tr[J+11>>0])<0&&vu(0|ar[J>>2]),J=0|We(0|Pf(0|We(0|xf(0|We(0|xf(0|We(f=Z+8|0,31730,17),G),30170,1),s),31748,1),d),31750,17),We(0|Lf(J,(0|ar[M>>2])-(0|ar[c>>2])>>2),31768,20),Ie(k,u),oo(A,2,119,k),(0|tr[k+11>>0])<0&&vu(0|ar[k>>2]),ar[Z>>2]=4504,ar[l>>2]=4544,ar[f>>2]=4524,ar[u>>2]=4340,(0|tr[b+11>>0])<0&&vu(0|ar[b>>2]),kf(u),bf(l)}while(0);0|(c=0|ar[c>>2])&&((0|(f=0|ar[M>>2]))!=(0|c)&&(ar[M>>2]=f+(~((f+-4-c|0)>>>2)<<2)),vu(c))}else{for(ar[s>>2]=0,ar[s+4>>2]=0,c=(ar[s+8>>2]=0)|hu(64),ar[s>>2]=c,ar[s+8>>2]=-2147483584,u=31629,b=(l=c)+(ar[s+4>>2]=48)|0;tr[l>>0]=0|tr[u>>0],u=u+1|0,(0|(l=l+1|0))<(0|b););tr[c+48>>0]=0,oo(A,2,113,s),(0|tr[s+11>>0])<0&&vu(0|ar[s>>2])}U||du(T)}ur=(0<=(0|tr[(c=o+8|0)+11>>0])||vu(0|ar[c>>2]),a)}function Il(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t,o,a=0,c=0,l=0,u=0;if(ur=(o=ur)+64|0,c=o+32|0,n=o+44|0,l=o+20|0,f=o,u=0|ar[(e|=0)+60>>2],a=0|ar[u+76>>2],(t=0==(0|(u=0|ar[u+80>>2])))||bu(u),a){if(fo(n,a,r,1684630887),c=4+n|0,a=0|ar[n>>2],4!=((0|ar[c>>2])-a|0)){for(ar[l>>2]=0,ar[l+4>>2]=0,a=(ar[l+8>>2]=0)|hu(48),ar[l>>2]=a,ar[l+8>>2]=-2147483600,e=31581,i=(r=a)+(ar[l+4>>2]=47)|0;tr[r>>0]=0|tr[e>>0],e=e+1|0,(0|(r=r+1|0))<(0|i););tr[a+47>>0]=0,oo(A,2,119,l),(0|tr[l+11>>0])<0&&vu(0|ar[l>>2])}else Xl(f,e,0|ar[a>>2],i,1,0),i=0|ar[(e=f)+4>>2],ar[(l=A)>>2]=ar[e>>2],ar[l+4>>2]=i,l=f+8|0,ar[(A=A+8|0)>>2]=ar[l>>2],ar[A+4>>2]=ar[l+4>>2],ar[A+8>>2]=ar[l+8>>2];0|(a=0|ar[n>>2])&&((0|(r=0|ar[c>>2]))!=(0|a)&&(ar[c>>2]=r+(~((r+-4-a|0)>>>2)<<2)),vu(a))}else{for(ar[c>>2]=0,ar[c+4>>2]=0,a=(ar[c+8>>2]=0)|hu(64),ar[c>>2]=a,ar[c+8>>2]=-2147483584,e=31532,i=(r=a)+(ar[c+4>>2]=48)|0;tr[r>>0]=0|tr[e>>0],e=e+1|0,(0|(r=r+1|0))<(0|i););tr[a+48>>0]=0,oo(A,2,113,c),(0|tr[c+11>>0])<0&&vu(0|ar[c>>2])}ur=(t||du(u),o)}function Cl(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0;if(ur=(l=ur)+288|0,X=l+168|0,s=l+264|0,a=l+276|0,w=l+232|0,o=l+144|0,d=l+220|0,k=(W=l)+208|0,n=l+200|0,t=l+188|0,V=0|ar[(e|=0)+60>>2],u=0|ar[V+76>>2],(c=0==(0|(V=0|ar[V+80>>2])))||bu(V),u){fo(a,u,r,1684630887),ar[(I=w+20|0)>>2]=0,ar[(C=w+24|0)>>2]=0,function(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;for(ur=(n=ur)+208|0,u=n+192|0,t=(f=n)+32|0,b=n+48|0,s=n+20|0,o=0|hu(32),ar[t>>2]=o,ar[t+8>>2]=-2147483616,c=30088,l=(a=o)+(ar[t+4>>2]=29)|0;tr[a>>0]=0|tr[c>>0],c=c+1|0,(0|(a=a+1|0))<(0|l););tr[o+29>>0]=0,oo(f,2,118,t),(0|tr[t+11>>0])<0&&vu(0|ar[t>>2]),l=0|ar[i>>2],o=(0|ar[i+4>>2])-l|0;do{if(o>>>0<10)w=0|ar[(i=f)+4>>2],ar[(r=A)>>2]=ar[i>>2],ar[r+4>>2]=w,r=A+8|0,A=f+8|0,ar[r>>2]=ar[A>>2],ar[r+4>>2]=ar[A+4>>2],ar[r+8>>2]=ar[A+8>>2],ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0;else{if(w=0|tr[l>>0],tr[e>>0]=w,t=0|tr[l+1>>0],tr[e+1>>0]=t,w<<24>>24){o=b+64|0,ar[(c=b+8|0)>>2]=4524,a=b+12|0,ar[b>>2]=188,ar[o>>2]=208,Jf(b+64|(ar[b+4>>2]=0),a),ar[b+136>>2]=0,ar[b+140>>2]=-1,ar[b>>2]=4504,ar[o>>2]=4544,ar[c>>2]=4524,Sf(a),ar[a>>2]=4340,ar[(c=b+44|0)>>2]=0,ar[c+4>>2]=0,ar[c+8>>2]=0,ar[c+12>>2]=0,ar[b+60>>2]=24,ar[u>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,Xe(a,u),(0|tr[u+11>>0])<0&&vu(0|ar[u>>2]),r=0|We(t=b+8|0,30118,27),We(0|Pf(r,0|cr[e>>0]),30146,23),Ie(s,a),oo(A,4,3002,s),(0|tr[s+11>>0])<0&&vu(0|ar[s>>2]),ar[b>>2]=4504,ar[o>>2]=4544,ar[t>>2]=4524,ar[a>>2]=4340,(0|tr[c+11>>0])<0&&vu(0|ar[c>>2]),kf(a),bf(o);break}if(((10+((u=(b=t<<1&2)+2<<24>>24)<<1&255)&255)+(0|br(r<<1,w=255&u))|0)>>>0>o>>>0){w=0|ar[(i=f)+4>>2],ar[(r=A)>>2]=ar[i>>2],ar[r+4>>2]=w,r=A+8|0,A=f+8|0,ar[r>>2]=ar[A>>2],ar[r+4>>2]=ar[A+4>>2],ar[r+8>>2]=ar[A+8>>2],ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0;break}for(or[e+2>>1]=cr[l+3>>0]|cr[l+2>>0]<<8,or[e+4>>1]=cr[l+5>>0]|cr[l+4>>0]<<8,or[e+6>>1]=cr[l+7>>0]|cr[l+6>>0]<<8,or[e+8>>1]=cr[l+9>>0]|cr[l+8>>0]<<8,a=255&b,t=0,o=w,c=10;o=o+-1|0,t=cr[l+c>>0]|t<<8,o;)c=c+1|0;for(k=12|a,ar[e+12>>2]=t,o=k+a|0,c=0,t=w,a=k;t=t+-1|0,c=cr[l+a>>0]|c<<8,t;)a=a+1|0;if(l=o+2|0,ar[e+16>>2]=c,k=e+20|0,r>>>0<=(o=(c=0|ar[(t=e+24|0)>>2])-(a=0|ar[k>>2])>>3)>>>0?(r>>>0<o>>>0&&(0|c)!=(0|(d=a+(r<<3)|0))&&(ar[t>>2]=c+(~((c+-8-d|0)>>>3)<<3)),0|r&&(h=25)):(wl(k,r-o|0),h=25),25==(0|h))for(d=~(e=128<<(u<<3&255)-8),s=4+(b<<1&255)&255,b=0|ar[i>>2],u=0;;){for(a=0,t=w,o=l;t=t+-1|0,a=cr[b+o>>0]|a<<8,t;)o=o+1|0;for(c=0|ar[k>>2],ar[c+(u<<3)>>2]=(a&d)-(0==(a&e|0)?0:e),a=(o=w)+l|(t=0);o=o+-1|0,t=cr[b+a>>0]|t<<8,o;)a=a+1|0;if(ar[c+(u<<3)+4>>2]=(t&d)-(0==(t&e|0)?0:e),(0|(u=u+1|0))==(0|r))break;l=s+l|0}w=0|ar[(i=56592)+4>>2],ar[(r=A)>>2]=ar[i>>2],ar[r+4>>2]=w,yu(A+8|0,56600)}}while(0);ur=(0<=(0|tr[(t=f+8|0)+11>>0])||vu(0|ar[t>>2]),n)}(o,w,((ar[w+28>>2]=0)|ar[(G=4+a|0)>>2])-(0|ar[a>>2])>>2,f);A:do{if(0|ar[o>>2])W=0|ar[(e=o)+4>>2],ar[(F=A)>>2]=ar[e>>2],ar[F+4>>2]=W,F=8+o|0,ar[(A=A+8|0)>>2]=ar[F>>2],ar[A+4>>2]=ar[F+4>>2],ar[A+8>>2]=ar[F+8>>2],ar[F>>2]=0,ar[F+4>>2]=0,ar[F+8>>2]=0;else{if(y=w+20|0,((0|ar[G>>2])-(0|ar[a>>2])>>2|0)!=((0|ar[C>>2])-(0|ar[y>>2])>>3|0)){for(ar[d>>2]=0,ar[d+4>>2]=0,u=(ar[d+8>>2]=0)|hu(80),ar[d>>2]=u,ar[d+8>>2]=-2147483568,f=31462,b=(r=u)+(ar[d+4>>2]=69)|0;tr[r>>0]=0|tr[f>>0],f=f+1|0,(0|(r=r+1|0))<(0|b););if(tr[u+69>>0]=0,oo(A,2,121,d),0<=(0|tr[d+11>>0]))break;vu(0|ar[d>>2]);break}if(d=0|ar[w+12>>2],h=0|ar[w+16>>2],d>>>0<(0|ar[(s=e+72|0)>>2])>>>0&&h>>>0<(0|ar[e+76>>2])>>>0){if(f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(u=f+12|0)>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u+12>>2]=0,ar[u+16>>2]=0,ar[f+32>>2]=30025,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,s=f+52|0,ar[(b=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[s>>2]=0,ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s+12>>2]=0,ar[f+68>>2]=b,b=u,p=(s=f)+16|0,bu(f),su(f),r=0|ar[p>>2],ar[u>>2]=b,ar[p>>2]=s,0|r&&ku(r),du(f),ar[i>>2]=b,r=0|ar[(p=i+4|0)>>2],ar[p>>2]=s,r?(du(r),u=0|ar[(p=i)>>2]):p=i,yo(u,d,h,1,3),Bo(0|ar[p>>2],3,d,h,8),Bo(0|ar[p>>2],4,d,h,8),Bo(0|ar[p>>2],5,d,h,8),ll(X,0|ar[p>>2],0|or[w+2>>1],0|or[w+4>>1],0|or[w+6>>1],0|or[w+8>>1]),u=0|ar[(Z=X)+4>>2],ar[(g=o)>>2]=ar[Z>>2],ar[g+4>>2]=u,u=X+8|0,(0|tr[(Z=(g=8+o|0)+11|0)>>0])<0?(tr[ar[g>>2]>>0]=0,ar[12+o>>2]=0):(tr[g>>0]=0,tr[Z>>0]=0),Cu(g,0),ar[g>>2]=ar[u>>2],ar[g+4>>2]=ar[u+4>>2],ar[g+8>>2]=ar[u+8>>2],0|ar[o>>2]){e=0|ar[(X=o)+4>>2],ar[(W=A)>>2]=ar[X>>2],ar[W+4>>2]=e,ar[(A=A+8|0)>>2]=ar[g>>2],ar[A+4>>2]=ar[g+4>>2],ar[A+8>>2]=ar[g+8>>2],ar[g>>2]=0,ar[g+4>>2]=0,ar[g+8>>2]=0;break}u=0|ar[a>>2];e:do{if((0|ar[G>>2])==(0|u))E=(B=A)+8|0;else{b=X+4|0,d=12+o|0,k=4+n|0,i=W+4|0,h=11+t|0,w=s=W+8|0,v=A+8|0,m=4+o|0,f=0;r:for(;;){ar[X>>2]=0,Xl(W,e,(ar[b>>2]=0)|ar[u+(f<<2)>>2],X,1,0),u=0|ar[(F=W)+4>>2],ar[(r=o)>>2]=ar[F>>2],ar[r+4>>2]=u,(0|tr[Z>>0])<0?(tr[ar[g>>2]>>0]=0,ar[d>>2]=0):(tr[g>>0]=0,tr[Z>>0]=0),Cu(g,0),ar[g>>2]=ar[s>>2],ar[g+4>>2]=ar[s+4>>2],ar[g+8>>2]=ar[s+8>>2];i:do{if((0|ar[o>>2])==(0|ar[14148])){ar[n>>2]=0,me(W,X,1,3,n,ar[k>>2]=0),u=0|ar[W>>2],F=0|ar[i>>2],ar[W>>2]=0,ar[i>>2]=0,ar[X>>2]=u,u=0|ar[b>>2],ar[b>>2]=F;do{if(0|u){if(du(u),!(u=0|ar[i>>2]))break;du(u)}}while(0);if(0|(u=0|ar[k>>2])&&du(u),!(0|ar[X>>2])){if(ar[t>>2]=0,ar[4+t>>2]=0,ar[8+t>>2]=0,oo(A,4,3003,t),0<=(0|tr[h>>0])){u=1;break}vu(0|ar[t>>2]),u=1;break}if(u=F=0|ar[y>>2],(0|ar[C>>2])-F>>3>>>0<=f>>>0)break r;ul(W,0|ar[p>>2],X,0|ar[u+(f<<3)>>2],0|ar[u+(f<<3)+4>>2]),r=0|ar[(u=W)+4>>2],ar[(F=o)>>2]=ar[u>>2],ar[F+4>>2]=r,(0|tr[Z>>0])<0?(tr[ar[g>>2]>>0]=0,ar[d>>2]=0):(tr[g>>0]=0,tr[Z>>0]=0),Cu(g,0),ar[g>>2]=ar[w>>2],ar[g+4>>2]=ar[w+4>>2],ar[g+8>>2]=ar[w+8>>2];f:do{switch(0|ar[o>>2]){case 0:u=0;break i;case 2:if(122!=(0|ar[m>>2]))break f;F=0|ar[(r=56592)+4>>2],ar[(u=o)>>2]=ar[r>>2],ar[u+4>>2]=F,Eu(g,56600),u=0;break i}}while(0);F=0|ar[(r=o)+4>>2],ar[(u=A)>>2]=ar[r>>2],ar[u+4>>2]=F,ar[v>>2]=ar[g>>2],ar[v+4>>2]=ar[g+4>>2],ar[v+8>>2]=ar[g+8>>2],ar[g>>2]=0,ar[g+4>>2]=0,ar[g+8>>2]=0,u=1}else F=0|ar[(r=o)+4>>2],ar[(u=A)>>2]=ar[r>>2],ar[u+4>>2]=F,ar[v>>2]=ar[g>>2],ar[v+4>>2]=ar[g+4>>2],ar[v+8>>2]=ar[g+8>>2],ar[g>>2]=0,ar[g+4>>2]=0,ar[g+8>>2]=0,u=1}while(0);if(0|(r=0|ar[b>>2])&&du(r),f=f+1|0,0|u)break A;if(u=0|ar[a>>2],f>>>0>=(0|ar[G>>2])-u>>2>>>0){B=A,E=v;break e}}sr(30172,30203,382,30219)}}while(0);A=0|ar[(W=o)+4>>2],ar[(F=B)>>2]=ar[W>>2],ar[F+4>>2]=A,ar[E>>2]=ar[g>>2],ar[E+4>>2]=ar[g+4>>2],ar[E+8>>2]=ar[g+8>>2],ar[g>>2]=0,ar[g+4>>2]=0,ar[g+8>>2]=0;break}r=W+64|0,ar[(b=W+8|0)>>2]=4524,f=W+12|0,ar[W>>2]=188,ar[r>>2]=208,Jf(W+64|(ar[W+4>>2]=0),f),ar[W+136>>2]=0,ar[W+140>>2]=-1,ar[W>>2]=4504,ar[r>>2]=4544,ar[b>>2]=4524,Sf(f),ar[f>>2]=4340,ar[(b=W+44|0)>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,ar[b+12>>2]=0,ar[W+60>>2]=24,ar[X>>2]=0,ar[X+4>>2]=0,ar[X+8>>2]=0,Xe(f,X),(0|tr[X+11>>0])<0&&vu(0|ar[X>>2]),F=0|We(0|Lf(0|We(0|Lf(0|We(u=W+8|0,30366,11),d),30170,1),h),30378,32),F=0|We(0|Lf(F,0|ar[s>>2]),30170,1),We(0|Lf(F,0|ar[e+76>>2]),30086,1),Ie(k,f),oo(A,6,1e3,k),(0|tr[k+11>>0])<0&&vu(0|ar[k>>2]),ar[W>>2]=4504,ar[r>>2]=4544,ar[u>>2]=4524,ar[f>>2]=4340,(0|tr[b+11>>0])<0&&vu(0|ar[b>>2]),kf(f),bf(r)}}while(0);(0|tr[(u=8+o|0)+11>>0])<0&&vu(0|ar[u>>2]),0|(u=0|ar[I>>2])&&((0|(r=0|ar[C>>2]))!=(0|u)&&(ar[C>>2]=r+(~((r+-8-u|0)>>>3)<<3)),vu(u)),0|(u=0|ar[a>>2])&&((0|(r=0|ar[G>>2]))!=(0|u)&&(ar[G>>2]=r+(~((r+-4-u|0)>>>2)<<2)),vu(u))}else{for(ar[s>>2]=0,ar[s+4>>2]=0,u=(ar[s+8>>2]=0)|hu(64),ar[s>>2]=u,ar[s+8>>2]=-2147483584,f=31413,b=(r=u)+(ar[s+4>>2]=48)|0;tr[r>>0]=0|tr[f>>0],f=f+1|0,(0|(r=r+1|0))<(0|b););tr[u+48>>0]=0,oo(A,2,113,s),(0|tr[s+11>>0])<0&&vu(0|ar[s>>2])}ur=(c||du(V),l)}function Gl(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;if(ur=(l=ur)+80|0,Z=(c=l)+52|0,k=l+36|0,t=l+48|0,o=l+32|0,h=l+20|0,ar[(g=l+64|0)>>2]=0,Xl(c,e,r,g,(ar[(a=g+4|0)>>2]=0)|ar[32+(0|ar[i>>2])>>2],0),(0|ar[c>>2])==(0|ar[14148])){e=0|ar[i>>2],s=0|ar[e+24>>2],d=0|ar[e+28>>2],r=0|ar[g>>2],u=0|ar[r+24>>2],r=0|ar[r+28>>2],(0|u)<=-1&&sr(32e3,30203,1540,32015),(0|r)<=-1&&sr(32043,30203,1541,32015),m=0|ar[e+36>>2],Io(Z,e),e=0|ar[g>>2];A:do{if((0|m)!=(0|ar[e+36>>2])){for(ar[k>>2]=0,ar[k+4>>2]=0,e=(ar[k+8>>2]=0)|hu(64),ar[k>>2]=e,ar[k+8>>2]=-2147483584,u=32059,b=(r=e)+(ar[k+4>>2]=58)|0;tr[r>>0]=0|tr[u>>0],u=u+1|0,(0|(r=r+1|0))<(0|b););tr[e+58>>0]=0,oo(A,2,127,k),(0|tr[k+11>>0])<0&&vu(0|ar[k>>2])}else{b=0|ar[Z>>2],m=Z+4|0;e:do{if((0|b)!=(0|m)){if(k=(0|(k=s-f|0))<(0|u)?k:u,w=0<(0|(v=(0|(v=d-n|0))<(0|r)?v:r)),!((0|f)<(0|s)&(0|n)<(0|d))){Fo(e,g=0|ar[b+16>>2],t),Fo(0|ar[i>>2],g,o),ar[h>>2]=0,ar[h+4>>2]=0,ar[h+8>>2]=0,oo(A,2,118,h),(0|tr[h+11>>0])<0&&vu(0|ar[h>>2]);break A}for(;;){if(u=0|Fo(e,s=0|ar[b+16>>2],t),e=0|Fo(0|ar[i>>2],s,o),s=0|br((255&(0|Go(0|ar[g>>2],3)))>>>3&255,k),r=0|Go(0|ar[g>>2],3),w)for(r=e+(0|br((255&r)>>>3&255,f))|0,e=0;hb(0|(h=r+(0|br(0|ar[o>>2],e+n|0))|0),u+(0|br(0|ar[t>>2],e))|0,0|s),(0|(e=e+1|0))<(0|v););if(e=0|ar[b+4>>2])for(;r=0|ar[e>>2];)e=r;else if(e=0|ar[(r=b+8|0)>>2],(0|ar[e>>2])!=(0|b))for(;h=0|ar[r>>2],e=0|ar[(r=h+8|0)>>2],(0|ar[e>>2])!=(0|h););if((0|e)==(0|m))break e;b=e,e=0|ar[g>>2]}}}while(0);n=0|ar[(f=56592)+4>>2],ar[(g=A)>>2]=ar[f>>2],ar[g+4>>2]=n,yu(A+8|0,56600)}}while(0);Co(Z,0|ar[Z+4>>2]),(0|tr[c+8+11>>0])<0&&vu(0|ar[c+8>>2])}else g=0|ar[(n=c)+4>>2],ar[(Z=A)>>2]=ar[n>>2],ar[Z+4>>2]=g,Z=c+8|0,ar[(A=A+8|0)>>2]=ar[Z>>2],ar[A+4>>2]=ar[Z+4>>2],ar[A+8>>2]=ar[Z+8>>2],ar[Z>>2]=0,ar[Z+4>>2]=0,ar[Z+8>>2]=0;ur=((e=0|ar[a>>2])&&du(e),l)}function Vl(A,e,r){A|=0,r|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0;if(ur=(f=ur)+80|0,i=f+76|0,b=f+72|0,d=(s=f)+64|0,YA(n=f+32|0,u=0|ar[(e|=0)>>2],(0|ar[(t=e+4|0)>>2])-u|0),(0|(u=0|QA(n,32)))<=(0|(n=((0|ar[n+24>>2])/-8|0)+((0|ar[n+4>>2])-(0|ar[n+8>>2]))|0)))return b=0|ar[(b=r=56592)>>2],r=0|ar[(r=r+4|0)>>2],ar[(s=d=A)>>2]=b,ar[(d=d+4|0)>>2]=r,yu(A=A+8|0,56600),void(ur=f);if(YA(s,(u=0|ar[e>>2])+n|0,(0|ar[t>>2])-(u+n)|0),QA(s,32),u=(0|QA(s,8))>>>1,function(A,e){e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if((0|(i=0|ar[(r=(A|=0)+24|0)>>2]))<(0|e)){i=64-i|0,n=A+8|0;A:do{if(7<(0|i)){t=A+16|0,f=0|ar[n>>2];do{if(!f)break A;c=0|ar[A>>2],ar[A>>2]=c+1,c=0|cr[c>>0],f=f+-1|0,ar[n>>2]=f,c=0|db(0|c,0,0|(i=i+-8|0)),a=ar[(l=t)+4>>2]|D,ar[(o=t)>>2]=ar[l>>2]|c,ar[o+4>>2]=a}while(7<(0|i))}}while(0);i=64-i|0,ar[r>>2]=i}c=0|db(0|ar[(c=l=A+16|0)>>2],0|ar[c+4>>2],0|e),ar[l>>2]=c,ar[l+4>>2]=D,ar[r>>2]=i-e}(s,8),((255&u)-39|0)>>>0<2&&(u=0|QA(s,8),QA(s,8),177==(255&u|0))){for(u=0|hu(80),ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u>>2]=6448,t=(n=e=u+16|0)+64|0;(0|(n=n+4|(ar[n>>2]=0)))<(0|t););ar[e>>2]=6476,l=e,tr[(c=u)+24>>0]=1,ar[(e=u+68|0)>>2]=0,ar[u+72>>2]=0,k=255&((ar[u+76>>2]=0)|QA(s,1)),tr[(n=u+25|0)>>0]=k,k=255&(0|QA(s,1)),tr[(t=u+26|0)>>0]=k,k=255&(0|QA(s,1)),tr[(o=u+27|0)>>0]=k,k=255&(0|QA(s,1)),tr[(a=u+28|0)>>0]=k,DA(s,i),ar[u+64>>2]=ar[i>>2],(0!=(0|tr[o>>0])||0|tr[a>>0])&&(DA(s,b),ar[e>>2]=ar[b>>2]),0|tr[n>>0]&&(h=+Fl(s),Q[u+32>>3]=h),0|tr[t>>0]&&(h=+Fl(s),Q[u+40>>3]=h),0|tr[o>>0]&&(h=+Fl(s),Q[u+48>>3]=h),0|tr[a>>0]&&(h=+Fl(s),Q[u+56>>3]=h),ar[d>>2]=l,ar[(t=d+4|0)>>2]=c,(0|(n=0|ar[(e=r+4|0)>>2]))==(0|ar[r+8>>2])?function(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;f=0|ar[(u=4+(A|=0)|0)>>2],n=0|ar[A>>2],536870911<(t=1+(r=f-(c=n)>>3)|0)>>>0&&zl();l=(0|ar[(i=A+8|0)>>2])-n|0,o=l>>2,o=l>>3>>>0<268435455?o>>>0<t>>>0?t:o:536870911;do{if(o){if(!(536870911<o>>>0)){a=0|hu(o<<3);break}Zu(u=0|X(8),44519),ar[u>>2]=17660,I(0|u,4016,428)}else a=0}while(0);l=a+(o<<3)|0,ar[(t=n=a+(r<<3)|0)>>2]=ar[e>>2],o=0|ar[e+4>>2],o=(ar[a+(r<<3)+4>>2]=o)?(bu(o),f=0|ar[u>>2],0|ar[A>>2]):c;if(a=n+8|0,(0|f)!=(0|o)){for(;f=(c=f)+-8|0,ar[n+-8>>2]=ar[f>>2],c=c+-4|0,ar[n+-4>>2]=ar[c>>2],ar[f>>2]=0,ar[c>>2]=0,t=n=t+-8|0,(0|f)!=(0|o););o=0|ar[A>>2],f=0|ar[u>>2]}if(ar[A>>2]=t,ar[u>>2]=a,ar[i>>2]=l,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-4>>2],f=f+-8|0,0|n&&du(n),(0|f)!=(0|t););if(!o)return;vu(o)}(r,d):(ar[n>>2]=l,bu(ar[n+4>>2]=u),ar[e>>2]=8+(0|ar[e>>2])),0|(e=0|ar[t>>2])&&du(e)}s=0|ar[(s=d=56592)>>2],d=0|ar[(d=d+4|0)>>2],ar[(r=k=A)>>2]=s,ar[(k=k+4|0)>>2]=d,yu(k=A+8|0,56600),ur=f}function Fl(A){var e,r,i,f=0,n=0,t=0;return e=0|QA(A|=0,1),r=0|QA(A,7),i=0|QA(A,5),A=0|QA(A,f=1+i|0),0<(0|r)?(t=+Af(1,r-31|0),n=-(t*=(0|A)/Af(1,f)+1),+(n=(f=0==(0|e))?t:n)):(t=-(n=(0|A)*Af(1,-31-i|0)),+(t=(f=0==(0|e))?n:t))}function Rl(A){A|=0;var e=0,r=0,i=0,f=0,n=0,t=0;if(57284==(0|(r=0|ar[14320])))return(A=0)|A;n=e=0;do{if(t=0|ar[r+16>>2],e=(f=(0|n)<(0|(i=0|jb[127&ar[t+16>>2]](A))))?t:e,n=f?i:n,i=0|ar[r+4>>2])for(r=i;i=0|ar[r>>2];)r=i;else if(f=0|ar[(i=r+8|0)>>2],(0|ar[f>>2])==(0|r))r=f;else for(;t=0|ar[i>>2],r=0|ar[(i=t+8|0)>>2],(0|ar[r>>2])!=(0|t););}while(57284!=(0|r));return 0|e}function Nl(A,e){e|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;o=0|ar[(b=(A|=0)+4|0)>>2],r=f=0|ar[A>>2],119304647<(n=(l=((t=o)-f|0)/36|0)+1|0)>>>0&&zl(),a=(u=((0|ar[(i=A+8|0)>>2])-f|0)/36|0)<<1,a=u>>>0<59652323?a>>>0<n>>>0?n:a:119304647;do{if(a){if(!(119304647<a>>>0)){c=0|hu(36*a|0);break}Zu(b=0|X(8),44519),ar[b>>2]=17660,I(0|b,4016,428)}else c=0}while(0);if(u=c+(36*a|0)|0,ar[(f=n=c+(36*l|0)|0)>>2]=ar[e>>2],ar[n+4>>2]=ar[e+4>>2],ar[n+8>>2]=ar[e+8>>2],ar[n+12>>2]=ar[e+12>>2],s=e+16|0,ar[c+(36*l|0)+16>>2]=ar[s>>2],a=e+20|0,ar[c+(36*l|0)+20>>2]=ar[a>>2],ar[s>>2]=0,a=c+(36*l|(ar[a>>2]=0))+24|0,l=e+24|0,ar[a>>2]=ar[l>>2],ar[a+4>>2]=ar[l+4>>2],ar[a+8>>2]=ar[l+8>>2],a=n+36|0,(0|t)!=(0|r)){for(;t=(l=t)+-36|0,ar[(e=n+-36|0)>>2]=ar[t>>2],ar[e+4>>2]=ar[t+4>>2],ar[e+8>>2]=ar[t+8>>2],ar[e+12>>2]=ar[t+12>>2],e=l+-20|0,ar[n+-20>>2]=ar[e>>2],s=l+-16|0,ar[n+-16>>2]=ar[s>>2],ar[e>>2]=0,l=l+-12|(ar[s>>2]=0),ar[(s=n+-12|0)>>2]=ar[l>>2],ar[s+4>>2]=ar[l+4>>2],ar[s+8>>2]=ar[l+8>>2],f=n=f+-36|0,(0|t)!=(0|r););o=0|ar[A>>2]}if(ar[A>>2]=f,f=0|ar[b>>2],ar[b>>2]=a,ar[i>>2]=u,(0|f)!=(0|(t=o)))for(;n=0|ar[f+-16>>2],f=f+-36|0,0|n&&du(n),(0|f)!=(0|t););o&&vu(o)}function _l(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0;var l,u,b;if(u=ur=(b=ur)+31&-32,ur=ur+16|0,l=12+u|0,A|=0){if(r=0|un(r,60968),e){for(fs[63&ar[44+(0|ar[r>>2])>>2]](l,r),A=0|ar[l>>2],tr[i>>0]=A,tr[i+1>>0]=A>>8,tr[i+2>>0]=A>>16,tr[i+3>>0]=A>>24,fs[63&ar[32+(0|ar[r>>2])>>2]](u,r),(0|tr[(A=a+8+3|0)>>0])<0?(i=0|ar[a>>2],ar[l>>2]=0,ln(i,l),ar[a+4>>2]=0):(ar[l>>2]=0,ln(a,l),tr[A>>0]=0),Mu(a,0),ar[a>>2]=ar[u>>2],ar[a+4>>2]=ar[4+u>>2],ar[a+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Qu(u)}else{for(fs[63&ar[40+(0|ar[r>>2])>>2]](l,r),A=0|ar[l>>2],tr[i>>0]=A,tr[i+1>>0]=A>>8,tr[i+2>>0]=A>>16,tr[i+3>>0]=A>>24,fs[63&ar[28+(0|ar[r>>2])>>2]](u,r),(0|tr[(A=a+8+3|0)>>0])<0?(i=0|ar[a>>2],ar[l>>2]=0,ln(i,l),ar[a+4>>2]=0):(ar[l>>2]=0,ln(a,l),tr[A>>0]=0),Mu(a,0),ar[a>>2]=ar[u>>2],ar[a+4>>2]=ar[4+u>>2],ar[a+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Qu(u)}for(A=0|jb[127&ar[12+(0|ar[r>>2])>>2]](r),ar[f>>2]=A,A=0|jb[127&ar[16+(0|ar[r>>2])>>2]](r),ar[n>>2]=A,fs[63&ar[20+(0|ar[r>>2])>>2]](u,r),A=((0|tr[(A=t+11|0)>>0])<0?(A=0|ar[t>>2],tr[l>>0]=0,Qf(A,l),ar[t+4>>2]=0):(tr[l>>0]=0,Qf(t,l),tr[A>>0]=0),t),Cu(t,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);for(Bu(u),fs[63&ar[24+(0|ar[r>>2])>>2]](u,r),(0|tr[(A=o+8+3|0)>>0])<0?(t=0|ar[o>>2],ar[l>>2]=0,ln(t,l),ar[o+4>>2]=0):(ar[l>>2]=0,ln(o,l),tr[A>>0]=0),Mu(o,0),ar[o>>2]=ar[u>>2],ar[o+4>>2]=ar[4+u>>2],ar[o+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Qu(u),A=0|jb[127&ar[36+(0|ar[r>>2])>>2]](r)}else{if(r=0|un(r,60960),e){for(fs[63&ar[44+(0|ar[r>>2])>>2]](l,r),A=0|ar[l>>2],tr[i>>0]=A,tr[i+1>>0]=A>>8,tr[i+2>>0]=A>>16,tr[i+3>>0]=A>>24,fs[63&ar[32+(0|ar[r>>2])>>2]](u,r),(0|tr[(A=a+8+3|0)>>0])<0?(i=0|ar[a>>2],ar[l>>2]=0,ln(i,l),ar[a+4>>2]=0):(ar[l>>2]=0,ln(a,l),tr[A>>0]=0),Mu(a,0),ar[a>>2]=ar[u>>2],ar[a+4>>2]=ar[4+u>>2],ar[a+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Qu(u)}else{for(fs[63&ar[40+(0|ar[r>>2])>>2]](l,r),A=0|ar[l>>2],tr[i>>0]=A,tr[i+1>>0]=A>>8,tr[i+2>>0]=A>>16,tr[i+3>>0]=A>>24,fs[63&ar[28+(0|ar[r>>2])>>2]](u,r),(0|tr[(A=a+8+3|0)>>0])<0?(i=0|ar[a>>2],ar[l>>2]=0,ln(i,l),ar[a+4>>2]=0):(ar[l>>2]=0,ln(a,l),tr[A>>0]=0),Mu(a,0),ar[a>>2]=ar[u>>2],ar[a+4>>2]=ar[4+u>>2],ar[a+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Qu(u)}for(A=0|jb[127&ar[12+(0|ar[r>>2])>>2]](r),ar[f>>2]=A,A=0|jb[127&ar[16+(0|ar[r>>2])>>2]](r),ar[n>>2]=A,fs[63&ar[20+(0|ar[r>>2])>>2]](u,r),A=((0|tr[(A=t+11|0)>>0])<0?(A=0|ar[t>>2],tr[l>>0]=0,Qf(A,l),ar[t+4>>2]=0):(tr[l>>0]=0,Qf(t,l),tr[A>>0]=0),t),Cu(t,0),ar[A>>2]=ar[u>>2],ar[A+4>>2]=ar[4+u>>2],ar[A+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);for(Bu(u),fs[63&ar[24+(0|ar[r>>2])>>2]](u,r),(0|tr[(A=o+8+3|0)>>0])<0?(t=0|ar[o>>2],ar[l>>2]=0,ln(t,l),ar[o+4>>2]=0):(ar[l>>2]=0,ln(o,l),tr[A>>0]=0),Mu(o,0),ar[o>>2]=ar[u>>2],ar[o+4>>2]=ar[4+u>>2],ar[o+8>>2]=ar[8+u>>2],A=0;3!=(0|A);)A=A+1|(ar[u+(A<<2)>>2]=0);Qu(u),A=0|jb[127&ar[36+(0|ar[r>>2])>>2]](r)}ar[c>>2]=A,ur=b}function Yl(A,e,r,i,f,n,t,o,a,c,l,u,b,s,d){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0,s|=0,d|=0;var k,h,w,v,m,g,Z,p,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0;for(ar[(r|=0)>>2]=A,k=s+8+3|0,p=s+4|0,h=b+8+3|0,w=b+4|0,v=0==(512&i|0),m=0<(0|d),g=u+11|0,Z=u+4|0,F=0;4!=(0|F);){A:do{switch(0|tr[a+F>>0]){case 0:ar[e>>2]=ar[r>>2];break;case 1:ar[e>>2]=ar[r>>2],G=0|Hb[31&ar[44+(0|ar[t>>2])>>2]](t,32),V=0|ar[r>>2],ar[r>>2]=V+4,ar[V>>2]=G;break;case 3:0|((y=(V=0|tr[k>>0])<<24>>24<0)?0|ar[p>>2]:255&V)&&(G=0|ar[(y?0|ar[s>>2]:s)>>2],V=0|ar[r>>2],ar[r>>2]=V+4,ar[V>>2]=G);break;case 2:if(!(v|0==(0|(W=(y=(W=0|tr[h>>0])<<24>>24<0)?0|ar[w>>2]:255&W)))){for(B=(X=y?0|ar[b>>2]:b)+(W<<2)|0,y=E=0|ar[r>>2];(0|X)!=(0|B);)ar[y>>2]=ar[X>>2],y=y+4|0,X=X+4|0;ar[r>>2]=E+(W<<2)}break;case 4:for(B=0|ar[r>>2],y=f=o?f+4|0:f;!(n>>>0<=y>>>0)&&0|xb[63&ar[12+(0|ar[t>>2])>>2]](t,2048,0|ar[y>>2]);)y=y+4|0;if(m){for(X=d;f>>>0<y>>>0&(E=0<(0|X));)C=0|ar[(V=y+-4|0)>>2],G=0|ar[r>>2],ar[r>>2]=G+4,ar[G>>2]=C,X=X+-1|0,y=V;for(I=E?0|Hb[31&ar[44+(0|ar[t>>2])>>2]](t,48):0,W=0|ar[r>>2];E=W+4|0,!((0|X)<=0);)ar[W>>2]=I,X=X+-1|0,W=E;ar[r>>2]=E,ar[W>>2]=c}if((0|y)==(0|f))G=0|Hb[31&ar[44+(0|ar[t>>2])>>2]](t,48),y=(V=0|ar[r>>2])+4|0,ar[r>>2]=y,ar[V>>2]=G;else{for(G=(V=0|tr[g>>0])<<24>>24<0,V&=255,I=E=(W=0|(G?0|ar[Z>>2]:V)?0|tr[(G?0|ar[u>>2]:u)>>0]:-1,0);(0|y)!=(0|f);)X=0|ar[r>>2],(0|I)==(0|W)&&(C=X+4|0,ar[r>>2]=C,ar[X>>2]=l,X=(I=(W=(E=E+1|0)>>>0<(G?0|ar[Z>>2]:V)>>>0?(W=0|tr[(G?0|ar[u>>2]:u)+E>>0])<<24>>24==127?-1:W<<24>>24:I,0),C)),R=0|ar[(C=y+-4|0)>>2],ar[r>>2]=X+4,ar[X>>2]=R,I=I+1|0,y=C;y=0|ar[r>>2]}if((0|B)!=(0|y))for(;;){if((y=y+-4|0)>>>0<=B>>>0)break A;R=0|ar[B>>2],ar[B>>2]=ar[y>>2],ar[y>>2]=R,B=B+4|0}}}while(0);F=F+1|0}if(1<(f=(y=(f=0|tr[k>>0])<<24>>24<0)?0|ar[p>>2]:255&f)>>>0){for(X=(y=y?0|ar[s>>2]:s)+4|0,E=(y=y+(f<<2)|0)-X|0,f=B=0|ar[r>>2];(0|X)!=(0|y);)ar[f>>2]=ar[X>>2],f=f+4|0,X=X+4|0;ar[r>>2]=B+(E>>>2<<2)}switch((176&i)<<24>>24){case 32:ar[e>>2]=ar[r>>2];break;case 16:break;default:ar[e>>2]=A}}function Ql(A){var e;ar[(A|=0)>>2]=16988,(0|(0|ar[(e=A+8|0)>>2]))!=(0|dn())&&of(0|ar[e>>2]),an()}function Dl(A){var e,r,i=0,f=0;for(ar[(A|=0)>>2]=17036,e=A+8|0,r=A+12|0,f=0;i=0|ar[e>>2],!(f>>>0>=(0|ar[r>>2])-i>>2>>>0);)0|(i=0|ar[i+(f<<2)>>2])&&lu(i),f=f+1|0;Bu(A+144|0),function(A){var e,r=0,i=0,f=0;e=0|ar[(A|=0)>>2];do{if(0|e){for(i=0|ar[(r=A+4|0)>>2];(0|i)!=(0|e);)f=i+-4|0,ar[r>>2]=f,i=f;if((A+16|0)==(0|e)){tr[A+128>>0]=0;break}vu(e);break}}while(0)}(e),an()}function Jl(A){var e;ar[(A|=0)>>2]=17056,0|(e=0|ar[A+8>>2])&&0|tr[A+12>>0]&&mu(e),an()}function Ml(){return 0|ar[3118]}function Tl(){return 0|ar[2733]}function Ul(){return 0|ar[2732]}function Sl(A){ar[(A|=0)>>2]=17108,Bu(A+12|0),an()}function Ol(A){ar[(A|=0)>>2]=17148,Bu(A+16|0),an()}function zl(){lA()}function jl(A,e){e|=0;var r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j,H,x,P,L,K,q,$,AA,eA,rA,iA,fA,nA,tA,oA,aA,cA,lA=0,uA=0,bA=0,sA=0;for(r=ur=(i=ur)+31&-32,ur=ur+16|0,ar[(A|=0)+4>>2]=e+-1,ar[A>>2]=17036,f=lA=A+8|0,n=28,n|=0,ar[(f|=0)>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,(tr[f+128>>0]=0)|n&&(function(A,e){var r=0;(0|Ll(A|=0))>>>0<(e|=0)>>>0&&zl();r=e>>>0<29&0==(0|tr[(r=A+128|0)>>0])?(tr[r>>0]=1,A+16|0):0|hu(e<<2);ar[A+4>>2]=r,ar[A>>2]=r,ar[A+8>>2]=r+(e<<2)}(f,n),Pl(f,n)),ar[(e=A+144|0)>>2]=0,ar[e+4>>2]=0,4294967279<(uA=(ar[e+8>>2]=0)|Yf(53684))>>>0&&pu(),uA>>>0<11?tr[e+11>>0]=uA:(bA=0|hu(sA=uA+16&-16),ar[e>>2]=bA,ar[A+152>>2]=-2147483648|sA,ar[A+148>>2]=uA,e=bA),wf(e,53684,uA),Qf(e+uA|(tr[r>>0]=0),r),e=0|ar[lA>>2],uA=0|ar[(lA=A+12|0)>>2];(0|uA)!=(0|e);)sA=uA+-4|0,uA=ar[lA>>2]=sA;ar[14199]=0,ar[14198]=14700,t=A,o=56792,Hl(t|=0,o|=0,0|hn(59216)),ar[14201]=0,ar[14200]=14732,a=A,c=56800,Hl(a|=0,c|=0,0|hn(59224)),function(A,e,r,i){e|=0,r|=0,i|=0,ar[4+(A|=0)>>2]=i+-1,ar[A>>2]=17056,ar[(i=A+8|0)>>2]=e,tr[A+12>>0]=1&r,e||(r=0|Ul(),ar[i>>2]=r)}(56808,0,0,1),l=A,u=56808,Hl(l|=0,u|=0,0|hn(59232)),ar[14207]=0,ar[14206]=17252,b=A,s=56824,Hl(b|=0,s|=0,0|hn(59264)),ar[14209]=0,ar[14208]=17320,d=A,k=56832,Hl(d|=0,k|=0,0|hn(61024)),function(A,e){e|=0,ar[4+(A|=0)>>2]=e+-1,ar[A>>2]=16988,e=0|dn(),ar[A+8>>2]=e}(56840,1),h=A,w=56840,Hl(h|=0,w|=0,0|hn(61032)),ar[14215]=0,ar[14214]=17368,v=A,m=56856,Hl(v|=0,m|=0,0|hn(61040)),ar[14217]=0,ar[14216]=17416,g=A,Z=56864,Hl(g|=0,Z|=0,0|hn(61048)),function(A,e){for(e|=0,ar[4+(A|=0)>>2]=e+-1,ar[A>>2]=17108,tr[A+8>>0]=46,tr[A+9>>0]=44,ar[(e=A+12|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,A=0;3!=(0|A);)ar[e+(A<<2)>>2]=0,A=A+1|0}(56872,1),p=A,y=56872,Hl(p|=0,y|=0,0|hn(59248)),function(A,e){for(e|=0,ar[4+(A|=0)>>2]=e+-1,ar[A>>2]=17148,ar[A+8>>2]=46,ar[A+12>>2]=44,ar[(e=A+16|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,A=0;3!=(0|A);)ar[e+(A<<2)>>2]=0,A=A+1|0}(56896,1),B=A,E=56896,Hl(B|=0,E|=0,0|hn(59272)),ar[14233]=0,ar[14232]=14764,X=A,W=56928,Hl(X|=0,W|=0,0|hn(59256)),ar[14235]=0,ar[14234]=14828,I=A,C=56936,Hl(I|=0,C|=0,0|hn(59280)),ar[14237]=0,ar[14236]=14892,G=A,V=56944,Hl(G|=0,V|=0,0|hn(59288)),ar[14239]=0,ar[14238]=14944,F=A,R=56952,Hl(F|=0,R|=0,0|hn(59296)),ar[14241]=0,ar[14240]=16492,N=A,_=56960,Hl(N|=0,_|=0,0|hn(60944)),ar[14243]=0,ar[14242]=16548,Y=A,Q=56968,Hl(Y|=0,Q|=0,0|hn(60952)),ar[14245]=0,ar[14244]=16604,D=A,J=56976,Hl(D|=0,J|=0,0|hn(60960)),ar[14247]=0,ar[14246]=16660,M=A,T=56984,Hl(M|=0,T|=0,0|hn(60968)),ar[14249]=0,ar[14248]=16716,U=A,S=56992,Hl(U|=0,S|=0,0|hn(60976)),ar[14251]=0,ar[14250]=16744,O=A,z=57e3,Hl(O|=0,z|=0,0|hn(60984)),ar[14253]=0,ar[14252]=16772,j=A,H=57008,Hl(j|=0,H|=0,0|hn(60992)),ar[14255]=0,ar[14254]=16800,x=A,P=57016,Hl(x|=0,P|=0,0|hn(61e3)),ar[14257]=0,ar[14256]=17232,function(A){ar[(A|=0)>>2]=17464}(57032),ar[14256]=14996,ar[14258]=15044,L=A,K=57024,Hl(L|=0,K|=0,0|hn(60108)),ar[14261]=0,ar[14260]=17232,function(A){ar[(A|=0)>>2]=17500}(57048),ar[14260]=15080,ar[14262]=15128,q=A,$=57040,Hl(q|=0,$|=0,0|hn(60920)),ar[14265]=0,ar[14264]=17232,AA=0|dn(),ar[14266]=AA,ar[14264]=16444,eA=A,rA=57056,Hl(eA|=0,rA|=0,0|hn(60928)),ar[14269]=0,ar[14268]=17232,iA=0|dn(),ar[14270]=iA,ar[14268]=16468,fA=A,nA=57072,Hl(fA|=0,nA|=0,0|hn(60936)),ar[14273]=0,ar[14272]=16828,tA=A,oA=57088,Hl(tA|=0,oA|=0,0|hn(61008)),ar[14275]=0,ar[14274]=16860,aA=A,cA=57096,Hl(aA|=0,cA|=0,0|hn(61016)),ur=i}function Hl(A,e,r){A|=0,r|=0;var i,f=0;au(e|=0),f=0|ar[(i=A+8|0)>>2],(0|ar[A+12>>2])-f>>2>>>0>r>>>0?A=i:(function(A,e){e|=0;var r,i,f=0,n=0;f=0|ar[(i=4+(A|=0)|0)>>2],n=0|ar[A>>2],r=f-n>>2;A:do{if(e>>>0<=r>>>0){if(e>>>0<r>>>0)for(A=n+(e<<2)|0;;){if((0|f)==(0|A))break A;n=f+-4|0,ar[i>>2]=n,f=n}}else xl(A,e-r|0)}while(0)}(i,r+1|0),f=0|ar[(A=i)>>2]),0|(f=0|ar[f+(r<<2)>>2])&&lu(f),ar[(0|ar[A>>2])+(r<<2)>>2]=e}function xl(A,e){e|=0;var r,i,f,n=0,t=0,o=0,a=0,c=0;r=ur=(f=ur)+31&-32,ur=ur+32|0,o=(A|=0)+8|0,n=0|ar[(i=A+4|0)>>2];do{if((0|ar[o>>2])-n>>2>>>0<e>>>0){if(n=(n-(0|ar[A>>2])>>2)+e|0,!((t=0|Ll())>>>0<n>>>0)){a=0|ar[A>>2],o=(c=(0|ar[o>>2])-a|0)>>1,Kl(r,c>>2>>>0<t>>>1>>>0?o>>>0<n>>>0?n:o:t,(0|ar[i>>2])-a>>2,A+16|0),ql(r,e),$l(A,r),Au(r);break}zl()}else Pl(A,e)}while(0);ur=f}function Pl(A,e){var r;for(r=(A|=0)+4|0,A=e|=0,e=0|ar[r>>2];e=4+((ar[e>>2]=0)|ar[r>>2])|0,ar[r>>2]=e,0!=(0|(A=A+-1|0)););}function Ll(){return 1073741823}function Kl(A,e,r,i){e|=0,r|=0,i|=0;var f=0;ar[(A|=0)+12>>2]=0,ar[A+16>>2]=i;do{if(e){if(e>>>0<29&0==(0|tr[(f=i+112|0)>>0])){tr[f>>0]=1;break}i=0|hu(e<<2);break}i=0}while(0);r=(ar[A>>2]=i)+(r<<2)|0,ar[A+8>>2]=r,ar[A+4>>2]=r,ar[A+12>>2]=i+(e<<2)}function ql(A,e){var r;for(r=(A|=0)+8|0,A=e|=0,e=0|ar[r>>2];e=4+((ar[e>>2]=0)|ar[r>>2])|0,ar[r>>2]=e,0!=(0|(A=A+-1|0)););}function $l(A,e){e|=0;var r=0,i=0,f=0,n=0,t=0;i=0|ar[(A|=0)>>2],n=e+4|0,f=(0|ar[(t=A+4|0)>>2])-i|0,r=(0|ar[n>>2])+(0-(f>>2)<<2)|0,ar[n>>2]=r,0<(0|f)?(hb(0|r,0|i,0|f),r=0|ar[(i=n)>>2]):i=n,n=0|ar[A>>2],ar[A>>2]=r,ar[i>>2]=n,n=e+8|0,f=0|ar[t>>2],ar[t>>2]=ar[n>>2],ar[n>>2]=f,t=e+12|0,A=0|ar[(n=A+8|0)>>2],ar[n>>2]=ar[t>>2],ar[t>>2]=A,ar[e>>2]=ar[i>>2]}function Au(A){var e=0,r=0,i=0,f=0;for(e=0|ar[(A|=0)+4>>2],i=0|ar[(r=A+8|0)>>2];(0|i)!=(0|e);)f=i+-4|0,i=ar[r>>2]=f;r=0|ar[A>>2];do{if(0|r){if((0|(e=0|ar[A+16>>2]))==(0|r)){tr[e+112>>0]=0;break}vu(r);break}}while(0)}function eu(){return 0==(0|tr[57104])&&0|ib(57104)&&(jl(57112,1),ar[15264]=57112,ar[15265]=61056),0|ar[15265]}function ru(A,e){A|=0,e=0|ar[(e|=0)>>2],au(ar[A>>2]=e)}function iu(){return 0==(0|tr[57272])&&0|ib(57272)&&(ru(61064,0|eu()),ar[15267]=61064),0|ar[15267]}function fu(A){A|=0;var e=0;e=0|iu(),e=0|ar[e>>2],au(ar[A>>2]=e)}function nu(A,e,r){return A|=0,e|=0,0|(A=(r|=0)?0|function(A,e,r){A|=0,e|=0,r|=0;var i=0,f=0;A:do{if(r){for(;(i=0|tr[A>>0])<<24>>24==(f=0|tr[e>>0])<<24>>24;){if(!(r=r+-1|0)){A=0;break A}A=A+1|0,e=e+1|0}A=(255&i)-(255&f)|0}else A=0}while(0);return 0|A}(A,e,r):0)}function tu(){0}function ou(A){0}function au(A){cu((A|=0)+4|0)}function cu(A){ar[(A|=0)>>2]=1+(0|ar[A>>2])}function lu(A){return 0|(A=-1==(0|uu((A|=0)+4|0))?(is[511&ar[8+(0|ar[A>>2])>>2]](A),1):0)}function uu(A){var e;return e=0|ar[(A|=0)>>2],ar[A>>2]=e-1,e-1|0}function bu(A){au(A|=0)}function su(A){cu((A|=0)+8|0)}function du(A){0|lu(A|=0)&&ku(A)}function ku(A){var e;0!=(0|ar[(e=(A|=0)+8|0)>>2])&&-1!=(0|uu(e))||is[511&ar[16+(0|ar[A>>2])>>2]](A)}function hu(A){var e;for(e=0==(0|(A|=0))?1:A;!(0|(A=0|yc(e)));){if(!(A=0|fb())){A=0;break}rs[7&A]()}return 0|A}function wu(A){return 0|hu(A|=0)}function vu(A){Bc(A|=0)}function mu(A){vu(A|=0)}function gu(){lA()}function Zu(A,e){e|=0,ar[(A|=0)>>2]=17640,function(A,e){A|=0;var r,i,f=0;f=0|hu(13+(r=0|Vc(e|=0))|0),ar[f>>2]=r,ar[f+4>>2]=r,hb((ar[f+8>>2]=0)|(f=0|(i=f,12+(i|=0)|0)),0|e,1+r|0),ar[A>>2]=f}(A+4|0,e)}function pu(){lA()}function yu(A,e){e|=0;var r,i,f=0,n=0,t=0;r=ur=(i=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,((ar[A+8>>2]=0)|tr[e+11>>0])<0?(f=0|ar[e>>2],4294967279<(e=0|ar[e+4>>2])>>>0&&pu(),e>>>0<11?tr[A+11>>0]=e:(n=0|hu(t=e+16&-16),ar[A>>2]=n,ar[A+8>>2]=-2147483648|t,ar[A+4>>2]=e,A=n),wf(A,f,e),Qf(A+e|(tr[r>>0]=0),r)):(ar[A>>2]=ar[e>>2],ar[A+4>>2]=ar[e+4>>2],ar[A+8>>2]=ar[e+8>>2]),ur=i}function Bu(A){(0|tr[(A|=0)+11>>0])<0&&vu(0|ar[A>>2])}function Eu(A,e){var r=0,i=0;return(0|(A|=0))!=(0|(e|=0))&&Xu(A,(i=(r=0|tr[e+11>>0])<<24>>24<0)?0|ar[e>>2]:e,i?0|ar[e+4>>2]:255&r),0|A}function Xu(A,e,r){e|=0,r|=0;var i,f,n,t,o=0,a=0;f=ur=(t=ur)+31&-32,ur=ur+16|0,a=(i=(o=0|tr[(n=(A|=0)+11|0)>>0])<<24>>24<0)?(2147483647&ar[A+8>>2])-1|0:10;do{if(r>>>0<=a>>>0){if(Wu(o=i?0|ar[A>>2]:A,e,r),Qf(o+r|(tr[f>>0]=0),f),(0|tr[n>>0])<0){ar[A+4>>2]=r;break}tr[n>>0]=r;break}i?o=0|ar[A+4>>2]:o&=255,Iu(A,a,r-a|0,o,0,o,r,e)}while(0);return ur=t,0|A}function Wu(A,e,r){return A|=0,e|=0,0|(r|=0)&&wb(0|A,0|e,0|r),0|A}function Iu(A,e,r,i,f,n,t,o){A|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var a,c,l=0,u=0,b=0;a=ur=(c=ur)+31&-32,ur=ur+16|0,(-18-(e|=0)|0)>>>0<(r|=0)>>>0&&pu(),b=(0|tr[A+11>>0])<0?0|ar[A>>2]:A,u=0|hu(l=e>>>0<2147483623?(l=(l=r+e|0)>>>0<(u=e<<1)>>>0?u:l)>>>0<11?11:l+16&-16:-17),0|f&&wf(u,b,f),0|t&&wf(u+f|0,o,t),0|(i=(r=i-n|0)-f|0)&&wf(u+f+t|0,b+f+n|0,i),10!=(0|e)&&vu(b),ar[A>>2]=u,ar[A+8>>2]=-2147483648|l,t=r+t|0,Qf(u+(ar[A+4>>2]=t)|(tr[a>>0]=0),a),ur=c}function Cu(A,e){A|=0;var r,i=0,f=0,n=0,t=0,o=0;4294967279<(e|=0)>>>0&&pu(),i=(n=(f=0|tr[(r=A+11|0)>>0])<<24>>24<0)?(o=0|ar[A+4>>2],(2147483647&ar[A+8>>2])-1|0):(o=255&f,10),t=(e=(t=e>>>0<o>>>0?o:e)>>>0<11)?10:(t+16&-16)-1|0;do{if((0|t)!=(0|i)){do{if(!e){if(e=0|hu(t+1|0),n){n=1,i=0|ar[A>>2],f=13;break}wf(e,A,1+(255&f)|0),f=14;break}e=0|ar[A>>2],f=n?(n=0,i=e,e=A,13):(wf(A,e,1+(255&f)|0),vu(e),15)}while(0);if(13==(0|f)&&(wf(e,i,1+(0|ar[A+4>>2])|0),vu(i),f=n?14:15),14==(0|f)){ar[A+8>>2]=t+1|-2147483648,ar[A+4>>2]=o,ar[A>>2]=e;break}if(15==(0|f)){tr[r>>0]=o;break}}}while(0)}function Gu(A,e){return 0|Xu(A|=0,e|=0,0|Yf(e))}function Vu(A,e,r){e|=0,r|=0;var i,f,n,t=0,o=0;i=ur=(n=ur)+31&-32,ur=ur+16|0,(o=(t=0|tr[(f=(A|=0)+11|0)>>0])<<24>>24<0)?t=0|ar[A+4>>2]:t&=255;do{if(e>>>0<=t>>>0){if(o){o=(0|ar[A>>2])+e|0,tr[i>>0]=0,Qf(o,i),ar[A+4>>2]=e;break}Qf(A+e|(tr[i>>0]=0),i),tr[f>>0]=e;break}Fu(A,e-t|0,r)}while(0);ur=n}function Fu(A,e,r){A|=0,r|=0;var i,f,n=0,t=0,o=0,a=0,c=0;return i=ur=(f=ur)+31&-32,ur=ur+16|0,0|(e|=0)&&(t=(n=0|tr[(c=A+11|0)>>0])<<24>>24<0?(o=0|ar[A+4>>2],(2147483647&ar[A+8>>2])-1|0):(o=255&n,10),a=o+e|0,(t-o|0)>>>0<e>>>0&&(Ru(A,t,a-t|0,o,o,0,0),n=0|tr[c>>0]),oi((n=n<<24>>24<0?0|ar[A>>2]:A)+o|0,e,r),(0|tr[c>>0])<0?ar[A+4>>2]=a:tr[c>>0]=a,Qf(n+a|(tr[i>>0]=0),i)),ur=f,0|A}function Ru(A,e,r,i,f,n,t){A|=0,i|=0,f|=0,n|=0,t|=0;var o=0,a=0,c=0;(-17-(e|=0)|0)>>>0<(r|=0)>>>0&&pu(),c=(0|tr[A+11>>0])<0?0|ar[A>>2]:A,a=0|hu(o=e>>>0<2147483623?(o=(o=r+e|0)>>>0<(a=e<<1)>>>0?a:o)>>>0<11?11:o+16&-16:-17),0|f&&wf(a,c,f),0|(r=i-n-f|0)&&wf(a+f+t|0,c+f+n|0,r),10!=(0|e)&&vu(c),ar[A>>2]=a,ar[A+8>>2]=-2147483648|o}function Nu(A,e,r){e|=0,r|=0;var i,f,n,t,o,a=0,c=0;return n=ur=(o=ur)+31&-32,ur=ur+16|0,a=(f=(a=0|tr[(t=(A|=0)+11|0)>>0])<<24>>24<0)?(c=0|ar[A+4>>2],(2147483647&ar[A+8>>2])-1|0):(c=255&a,10),i=c+r|0,r>>>0<=(a-c|0)>>>0?0|r&&(wf((a=f?0|ar[A>>2]:A)+c|0,e,r),(0|tr[t>>0])<0?ar[A+4>>2]=i:tr[t>>0]=i,Qf(a+i|(tr[n>>0]=0),n)):Iu(A,a,i-a|0,c,c,0,r,e),ur=o,0|A}function _u(A,e){A|=0,e|=0;var r,i,f=0,n=0,t=0,o=0;o=ur=(i=ur)+31&-32,ur=ur+16|0,o=(r=o)+1|0,tr[r>>0]=e,e=(f=(e=0|tr[(n=A+11|0)>>0])<<24>>24<0)?(t=0|ar[A+4>>2],(2147483647&ar[A+8>>2])-1|0):(t=255&e,10),7==(0|(f=(0|t)==(0|e)?(Ru(A,e,1,e,e,0,0),e=e+1|0,(0|tr[n>>0])<0?8:7):(e=t+1|0,f?8:7)))?(tr[n>>0]=e,e=A):8==(0|f)&&(n=0|ar[A>>2],ar[A+4>>2]=e,e=n),Qf(A=e+t|0,r),Qf(A+1|(tr[o>>0]=0),o),ur=i}function Yu(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n,t=0;return(n=(t=0|tr[(A|=0)+11>>0])<<24>>24<0)?t=0|ar[A+4>>2]:t&=255,-1==(0|f)|t>>>0<e>>>0&&lA(),r=(t=t-e|0)>>>0<r>>>0?t:r,n&&(A=0|ar[A>>2]),(A=0|nu(A+e|0,i,(t=f>>>0<r>>>0)?f:r))?0|A:0|(r>>>0<f>>>0?-1:1&t)}function Qu(A){(0|tr[(A|=0)+8+3>>0])<0&&vu(0|ar[A>>2])}function Du(A,e,r){return A|=0,e|=0,(r|=0)&&function(A,e,r){var i=0;if((r|=0)>>>0<=(A|=0)-(e|=0)>>2>>>0){if(0|r)for(i=A;r=r+-1|0,ar[i>>2]=ar[e>>2],r;)e=e+4|0,i=i+4|0}else for(;ar[A+((r=r+-1|0)<<2)>>2]=ar[e+(r<<2)>>2],0!=(0|r););}(A,e,r),0|A}function Ju(A,e,r,i,f,n,t,o){A|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var a,c,l,u=0,b=0,s=0;c=ur=(l=ur)+31&-32,ur=ur+16|0,(1073741806-(e|=0)|0)>>>0<(r|=0)>>>0&&pu(),s=(0|tr[3+(a=A+8|0)>>0])<0?0|ar[A>>2]:A,e>>>0<536870887?1073741823<(r=(r=(r=r+e|0)>>>0<(u=e<<1)>>>0?u:r)>>>0<2?2:r+4&-4)>>>0?lA():b=r:b=1073741807,u=0|hu(b<<2),0|f&&Zf(u,s,f),0|t&&Zf(u+(f<<2)|0,o,t),0|(i=(r=i-n|0)-f|0)&&Zf(u+(f<<2)+(t<<2)|0,s+(f<<2)+(n<<2)|0,i),1!=(0|e)&&vu(s),ar[A>>2]=u,ar[a>>2]=-2147483648|b,t=r+t|0,ln(u+((ar[A+4>>2]=t)<<2)|(ar[c>>2]=0),c),ur=l}function Mu(A,e){A|=0;var r,i,f=0,n=0,t=0,o=0,a=0;1073741807<(e|=0)>>>0&&pu(),f=(t=(n=0|tr[(r=3+(i=A+8|0)|0)>>0])<<24>>24<0)?(a=0|ar[A+4>>2],(2147483647&ar[i>>2])-1|0):(a=255&n,1),o=(e=(o=e>>>0<a>>>0?a:e)>>>0<2)?1:(o+4&-4)-1|0;do{if((0|o)!=(0|f)){do{if(!e){if(1073741823<(e=o+1|0)>>>0&&lA(),e=0|hu(e<<2),t){t=1,f=0|ar[A>>2],n=15;break}Zf(e,A,1+(255&n)|0),n=16;break}e=0|ar[A>>2],n=t?(t=0,f=e,e=A,15):(Zf(A,e,1+(255&n)|0),vu(e),17)}while(0);if(15==(0|n)&&(Zf(e,f,1+(0|ar[A+4>>2])|0),vu(f),n=t?16:17),16==(0|n)){ar[i>>2]=o+1|-2147483648,ar[A+4>>2]=a,ar[A>>2]=e;break}if(17==(0|n)){tr[r>>0]=a;break}}}while(0)}function Tu(A,e){return 0|function(A,e,r){e|=0,r|=0;var i,f,n,t,o,a=0,c=0;n=ur=(o=ur)+31&-32,ur=ur+16|0,c=(f=(i=0|tr[(t=(a=(A|=0)+8|0)+3|0)>>0])<<24>>24<0)?(2147483647&ar[a>>2])-1|0:1;do{if(r>>>0<=c>>>0){if(Du(a=f?0|ar[A>>2]:A,e,r),ln(a+(r<<2)|(ar[n>>2]=0),n),(0|tr[t>>0])<0){ar[A+4>>2]=r;break}tr[t>>0]=r;break}Ju(A,c,r-c|0,a=f?0|ar[A+4>>2]:255&i,0,a,r,e)}while(0);return ur=o,0|A}(A|=0,e|=0,0|Mr(e))}function Uu(A,e,r,i,f,n,t){A|=0,i|=0,f|=0,n|=0,t|=0;var o,a=0,c=0,l=0;(1073741807-(e|=0)|0)>>>0<(r|=0)>>>0&&pu(),l=(0|tr[3+(o=A+8|0)>>0])<0?0|ar[A>>2]:A,e>>>0<536870887?1073741823<(r=(r=(r=r+e|0)>>>0<(a=e<<1)>>>0?a:r)>>>0<2?2:r+4&-4)>>>0?lA():c=r:c=1073741807,a=0|hu(c<<2),0|f&&Zf(a,l,f),0|(r=i-n-f|0)&&Zf(a+(f<<2)+(t<<2)|0,l+(f<<2)+(n<<2)|0,r),1!=(0|e)&&vu(l),ar[A>>2]=a,ar[o>>2]=-2147483648|c}function Su(A,e,r){e|=0,r|=0;var i,f,n,t,o=0,a=0,c=0;return f=ur=(t=ur)+31&-32,ur=ur+16|0,o=(i=(o=0|tr[(n=(a=(A|=0)+8|0)+3|0)>>0])<<24>>24<0)?(c=0|ar[A+4>>2],(2147483647&ar[a>>2])-1|0):(c=255&o,1),a=c+r|0,r>>>0<=(o-c|0)>>>0?0|r&&(Zf((o=i?0|ar[A>>2]:A)+(c<<2)|0,e,r),(0|tr[n>>0])<0?ar[A+4>>2]=a:tr[n>>0]=a,ln(o+(a<<2)|(ar[f>>2]=0),f)):Ju(A,o,a-o|0,c,c,0,r,e),ur=t,0|A}function Ou(A,e){A|=0,e|=0;var r,i,f,n=0,t=0,o=0,a=0;a=ur=(f=ur)+31&-32,ur=ur+16|0,a=(i=a)+4|0,ar[i>>2]=e,e=(r=(e=0|tr[(t=(n=A+8|0)+3|0)>>0])<<24>>24<0)?(o=0|ar[A+4>>2],(2147483647&ar[n>>2])-1|0):(o=255&e,1),7==(0|(n=(0|o)==(0|e)?(Uu(A,e,1,e,e,0,0),e=e+1|0,(0|tr[t>>0])<0?8:7):(e=o+1|0,r?8:7)))?(tr[t>>0]=e,e=A):8==(0|n)&&(t=0|ar[A>>2],ar[A+4>>2]=e,e=t),ln(A=e+(o<<2)|0,i),ln(A+4|(ar[a>>2]=0),a),ur=f}function zu(){var A,e=0;return e=ur=(A=ur)+31&-32,ur=ur+16|0,0|yA(61148,5)?(ju(56158,e),0):(e=0|wA(0|ar[15288]),ur=A,0|e)}function ju(A,e){A|=0,e|=0;var r;r=ur=ur+31&-32,ur=ur+16|0,ar[r>>2]=e,Qc(e=0|ar[2669],A,r),function(A,e){var r,i=0,f=0,n=0,t=0,o=0,a=0;i=r=255&(A|=0),0<=(0|ar[(e|=0)+76>>2])&&0!=(0|Jc())?((0|i)!=(0|tr[e+75>>0])&&(o=0|ar[(t=e+20|0)>>2])>>>0<(0|ar[e+16>>2])>>>0?(ar[t>>2]=o+1,tr[o>>0]=r):i=0|Si(e,A),Mc()):a=3;do{if(3==(0|a)){if((0|i)!=(0|tr[e+75>>0])&&(n=0|ar[(f=e+20|0)>>2])>>>0<(0|ar[e+16>>2])>>>0){ar[f>>2]=n+1,tr[n>>0]=r;break}i=0|Si(e,A)}}while(0)}(10,e),lA()}function Hu(A){0}function xu(A,e){return(0|(A|=0))==(0|(e|=0))|0}function Pu(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t;f=0|ar[(A=(e|=0)+16|0)>>2],n=e+36|0,t=e+24|0;do{if(f){if((0|f)!=(0|r)){ar[n>>2]=1+(0|ar[n>>2]),ar[t>>2]=2,tr[e+54>>0]=1;break}2==(0|ar[t>>2])&&(ar[t>>2]=i)}else ar[A>>2]=r,ar[t>>2]=i,ar[n>>2]=1}while(0)}function Lu(A,e,r,i){r|=0,i|=0;var f=0;(0|ar[(e|=0)+4>>2])==(0|r)&&1!=(0|ar[(f=e+28|0)>>2])&&(ar[f>>2]=i)}function Ku(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0,a=0;tr[(e|=0)+53>>0]=1;do{if((0|ar[e+4>>2])==(0|i)){if(tr[e+52>>0]=1,o=e+54|0,a=e+48|0,t=e+24|0,A=e+36|0,!(n=0|ar[(i=e+16|0)>>2])){if(ar[i>>2]=r,ar[t>>2]=f,!((ar[A>>2]=1)==(0|ar[a>>2])&1==(0|f)))break;tr[o>>0]=1;break}if((0|n)!=(0|r)){ar[A>>2]=1+(0|ar[A>>2]),tr[o>>0]=1;break}2==(0|(A=0|ar[t>>2]))&&(A=ar[t>>2]=f),1==(0|ar[a>>2])&1==(0|A)&&(tr[o>>0]=1)}}while(0)}function qu(A,e,r,i){e|=0,r|=0,i|=0;var f,n,t,o,a,c,l,u=0,b=0;for(a=ur=(l=ur)+31&-32,ur=ur+64|0,b=0|ar[(A|=0)>>2],c=A+(0|ar[b+-8>>2])|0,b=0|ar[b+-4>>2],ar[a>>2]=r,ar[4+a>>2]=A,ar[8+a>>2]=e,ar[12+a>>2]=i,e=20+a|0,i=24+a|0,f=28+a|0,n=32+a|0,t=40+a|0,o=(u=A=16+a|0)+36|0;(0|(u=u+4|(ar[u>>2]=0)))<(0|o););or[A+36>>1]=0,tr[A+38>>0]=0;A:do{if(0|xu(b,r))ar[48+a>>2]=1,as[15&ar[20+(0|ar[b>>2])>>2]](b,a,c,c,1,0),A=1==(0|ar[i>>2])?c:0;else{switch(os[63&ar[24+(0|ar[b>>2])>>2]](b,a,c,1,0),0|ar[36+a>>2]){case 0:A=1==(0|ar[t>>2])&1==(0|ar[f>>2])&1==(0|ar[n>>2])?0|ar[e>>2]:0;break A;case 1:break;default:A=0;break A}if(1!=(0|ar[i>>2])&&!(0==(0|ar[t>>2])&1==(0|ar[f>>2])&1==(0|ar[n>>2]))){A=0;break}A=0|ar[A>>2]}}while(0);return ur=l,0|A}function $u(A){var e,r,i;ar[(A|=0)>>2]=17640,e=A+4|0,(i=r=0)|(e|=0,1)&&(r=0|function(A){return(A|=0)+-12|0}(0|ar[e>>2]),e=0|ar[(i=r+8|0)>>2],ar[i>>2]=e+-1,(e+-1|0)<0)&&vu(r)}function Ab(A,e,r,i){e|=0,r|=0,i|=0;var f,n=0;n=(f=0|ar[(A|=0)+4>>2])>>8,1&f&&(n=0|ar[(0|ar[r>>2])+n>>2]),A=0|ar[A>>2],ts[31&ar[28+(0|ar[A>>2])>>2]](A,e,r+n|0,2&f|0?i:2)}function eb(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o=0;o=(t=0|ar[(A|=0)+4>>2])>>8,1&t&&(o=0|ar[(0|ar[i>>2])+o>>2]),A=0|ar[A>>2],as[15&ar[20+(0|ar[A>>2])>>2]](A,e,r,i+o|0,2&t|0?f:2,n)}function rb(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0;var n,t=0;t=(n=0|ar[(A|=0)+4>>2])>>8,1&n&&(t=0|ar[(0|ar[r>>2])+t>>2]),A=0|ar[A>>2],os[63&ar[24+(0|ar[A>>2])>>2]](A,e,r+t|0,2&n|0?i:2,f)}function ib(A){return 0|(A=1==(0|tr[(A|=0)>>0])?0:tr[A>>0]=1)}function fb(){var A;return A=0|ar[15289],0|(ar[15289]=A)}function nb(A,e,r,i){e|=0,i|=0;var f,n,t,o,a,c,l,u;return r=0|(t=f=A|=0,o=n=r|=0,t=((a=(u=0)|br(u=65535&(o|=0),l=65535&(t|=0)))>>>16)+(0|br(u,c=t>>>16))|0,o=0|br(u=o>>>16,l),0|(D=(t>>>16)+(0|br(u,c))+(((65535&t)+o|0)>>>16)|0,t+o<<16|65535&a|0)),A=D,0|(D=(0|br(e,n))+(0|br(i,f))+A|0&A,0|r)}function tb(A,e,r,i){return 0|(D=(e|=0)+(i|=0)+((r=(A|=0)+(r|=0)>>>0)>>>0<A>>>0|0)>>>0,0|r)}function ob(A,e,r,i){return 0|(D=i=(e|=0)-(i|=0)-((A|=0)>>>0<(r|=0)>>>0|0)>>>0,A-r>>>0|0)}function ab(A){var e=0;return(0|(e=0|tr[s+(255&(A|=0))>>0]))<8?0|e:(0|(e=0|tr[s+(A>>8&255)>>0]))<8?e+8|0:(0|(e=0|tr[s+(A>>16&255)>>0]))<8?e+16|0:24+(0|tr[s+(A>>>24)>>0])|0}function cb(A,e,r,i,f){f|=0;var n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0;if(l=A|=0,t=r|=0,o=b=i|=0,!(c=a=e|=0))return n=0!=(0|f),o?(n&&(ar[f>>2]=0|A,ar[f+4>>2]=0&e),(f=b=0)|(D=b,f)):(n&&(ar[f>>2]=(l>>>0)%(t>>>0),ar[f+4>>2]=0),(b=0)|(D=b,f=(l>>>0)/(t>>>0)>>>0));n=0==(0|o);do{if(t){if(!n){if((n=(0|g(0|o))-(0|g(0|c))|0)>>>0<=31){A=l>>>((t=u=n+1|0)>>>0)&(e=n-31>>31)|c<<(o=31-n|0),e&=c>>>(u>>>0),n=0,o=l<<o;break}return f?(ar[f>>2]=0|A,ar[f+4>>2]=a|0&e,(f=b=0)|(D=b,f)):(f=b=0)|(D=b,f)}if((n=t-1|0)&t|0){A=(u=32-(o=33+(0|g(0|t))-(0|g(0|c))|0)|0)-1>>31&c>>>((s=o-32|0)>>>0)|(c<<u|l>>>((t=o)>>>0))&(e=s>>31),e&=c>>>(o>>>0),n=l<<(d=64-o|0)&(a=u>>31),o=(c<<d|l>>>(s>>>0))&a|l<<u&o-33>>31;break}return 0|f&&(ar[f>>2]=n&l,ar[f+4>>2]=0),1==(0|t)?0|(D=s=a|0&e,d=0|A):(d=0|ab(0|t),0|(D=s=c>>>(d>>>0)|0,d=c<<32-d|l>>>(d>>>0)|0))}if(n)return 0|f&&(ar[f>>2]=(c>>>0)%(t>>>0),ar[f+4>>2]=0),(s=0)|(D=s,d=(c>>>0)/(t>>>0)>>>0);if(!l)return 0|f&&(ar[f>>2]=0,ar[f+4>>2]=(c>>>0)%(o>>>0)),(s=0)|(D=s,d=(c>>>0)/(o>>>0)>>>0);if(!((n=o-1|0)&o))return 0|f&&(ar[f>>2]=0|A,ar[f+4>>2]=n&c|0&e),d=c>>>(((s=0)|ab(0|o))>>>0),0|(D=s,d);if((n=(0|g(0|o))-(0|g(0|c))|0)>>>0<=30){A=c<<(o=31-n|0)|l>>>((t=e=n+1|0)>>>0),e=c>>>(e>>>0),n=0,o=l<<o;break}return f&&(ar[f>>2]=0|A,ar[f+4>>2]=a|0&e),(d=s=0)|(D=s,d)}while(0);if(t){for(c=0|tb(0|(u=0|r),0|(l=b|0&i),-1,-1),r=D,a=o,o=0;a=n>>>31|(i=a)<<1,n=o|n<<1,ob(0|c,0|r,0|(i=A<<1|i>>>31|0),0|(b=A>>>31|e<<1|0)),o=1&(s=(d=D)>>31|((0|d)<0?-1:0)<<1),A=0|ob(0|i,0|b,s&u|0,(((0|d)<0?-1:0)>>31|((0|d)<0?-1:0)<<1)&l|0),e=D,0!=(0|(t=t-1|0)););c=a,a=0}else c=o,o=a=0;return(t=0)|f&&(ar[f>>2]=A,ar[f+4>>2]=e),0|(D=s=(0|n)>>>31|(c|t)<<1|0&(t<<1|n>>>31)|a,d=-2&(n<<1|0)|o)}function lb(A,e,r,i){return 0|cb(A|=0,e|=0,r|=0,i|=0,0)}function ub(A,e,r,i){var f,n;return ur=(n=ur)+16|0,cb(A|=0,e|=0,r|=0,i|=0,f=0|n),ur=n,0|(D=0|ar[4+f>>2],0|ar[f>>2])}function bb(A,e,r){return A|=0,e|=0,(0|(r|=0))<32?(D=e>>r,A>>>r|(e&(1<<r)-1)<<32-r):(D=(0|e)<0?-1:0,e>>r-32|0)}function sb(A,e,r){return A|=0,e|=0,(0|(r|=0))<32?(D=e>>>r,A>>>r|(e&(1<<r)-1)<<32-r):e>>>r-32|(D=0)}function db(A,e,r){return A|=0,e|=0,(0|(r|=0))<32?(D=e<<r|(A&(1<<r)-1<<32-r)>>>32-r,A<<r):(D=A<<r-32,0)}function kb(A){return(255&(A|=0))<<24|(A>>8&255)<<16|(A>>16&255)<<8|A>>>24|0}function hb(A,e,r){A|=0,e|=0;var i,f,n=0;if(8192<=(0|(r|=0)))return 0|uA(0|A,0|e,0|r);if(f=0|A,i=A+r|0,(3&A)==(3&e)){for(;3&A;){if(!r)return 0|f;tr[A>>0]=0|tr[e>>0],A=A+1|0,e=e+1|0,r=r-1|0}for(n=(r=-4&i|0)-64|0;(0|A)<=(0|n);)ar[A>>2]=ar[e>>2],ar[A+4>>2]=ar[e+4>>2],ar[A+8>>2]=ar[e+8>>2],ar[A+12>>2]=ar[e+12>>2],ar[A+16>>2]=ar[e+16>>2],ar[A+20>>2]=ar[e+20>>2],ar[A+24>>2]=ar[e+24>>2],ar[A+28>>2]=ar[e+28>>2],ar[A+32>>2]=ar[e+32>>2],ar[A+36>>2]=ar[e+36>>2],ar[A+40>>2]=ar[e+40>>2],ar[A+44>>2]=ar[e+44>>2],ar[A+48>>2]=ar[e+48>>2],ar[A+52>>2]=ar[e+52>>2],ar[A+56>>2]=ar[e+56>>2],ar[A+60>>2]=ar[e+60>>2],A=A+64|0,e=e+64|0;for(;(0|A)<(0|r);)ar[A>>2]=ar[e>>2],A=A+4|0,e=e+4|0}else for(r=i-4|0;(0|A)<(0|r);)tr[A>>0]=0|tr[e>>0],tr[A+1>>0]=0|tr[e+1>>0],tr[A+2>>0]=0|tr[e+2>>0],tr[A+3>>0]=0|tr[e+3>>0],A=A+4|0,e=e+4|0;for(;(0|A)<(0|i);)tr[A>>0]=0|tr[e>>0],A=A+1|0,e=e+1|0;return 0|f}function wb(A,e,r){var i=0;if((0|(e|=0))<(0|(A|=0))&(0|A)<(e+(r|=0)|0)){for(e=e+r|0,A=(i=A)+r|0;0<(0|r);)e=e-1|0,r=r-1|0,tr[(A=A-1|0)>>0]=0|tr[e>>0];A=i}else hb(A,e,r);return 0|A}function vb(A,e,r){e|=0;var i,f=0,n=0,t=0;if(i=(A|=0)+(r|=0)|0,e&=255,67<=(0|r)){for(;3&A;)tr[A>>0]=e,A=A+1|0;for(n=(f=-4&i|0)-64|0,t=e|e<<8|e<<16|e<<24;(0|A)<=(0|n);)ar[A>>2]=t,ar[A+4>>2]=t,ar[A+8>>2]=t,ar[A+12>>2]=t,ar[A+16>>2]=t,ar[A+20>>2]=t,ar[A+24>>2]=t,ar[A+28>>2]=t,ar[A+32>>2]=t,ar[A+36>>2]=t,ar[A+40>>2]=t,ar[A+44>>2]=t,ar[A+48>>2]=t,ar[A+52>>2]=t,ar[A+56>>2]=t,ar[A+60>>2]=t,A=A+64|0;for(;(0|A)<(0|f);)ar[A>>2]=t,A=A+4|0}for(;(0|A)<(0|i);)tr[A>>0]=e,A=A+1|0;return i-r|0}function mb(A){return 0}function gb(A){return 0}function Zb(A){return 0}function pb(A){return 0<=(A=+A)?+v(A+.5):+m(A-.5)}function yb(A){var e,r;return 0<(0|(r=(A|=0)+15&-16|0))&(0|(A=(e=0|ar[b>>2])+r|0))<(0|e)|(0|A)<0?(B(),F(12),-1):(0|(ar[b>>2]=A))>(0|y())&&0==(0|p())?(ar[b>>2]=e,F(12),-1):0|e}function Bb(){return Z(0),0}function Eb(A){return Z(1),0}function Xb(A,e){return Z(2),0}function Wb(A,e,r){return Z(3),0}function Ib(A,e,r,i,f){return Z(5),0}function Cb(A,e,r,i,f){return Z(6),0}function Gb(A,e,r,i,f,n){return Z(7),0}function Vb(A,e,r,i,f,n){return Z(8),0}function Fb(A,e,r,i,f,n,t){return Z(9),0}function Rb(A,e,r,i,f,n,t,o){return Z(10),0}function Nb(){Z(11)}function _b(A){Z(12)}function Yb(A,e){Z(13)}function Qb(A,e,r){Z(14)}function Db(A,e,r,i){Z(15)}function Jb(A,e,r,i,f){Z(16)}function Mb(A,e,r,i,f,n){Z(17)}function Tb(A,e,r,i,f,n,t){Z(18)}function Ub(A,e,r,i,f,n,t,o){Z(19)}function Sb(A,e,r,i,f,n,t,o,a){Z(20)}function Ob(A,e,r,i,f,n,t,o,a,c){Z(21)}var zb=[Bb,function(){var A,e,r=0,i=0,f=0;for(i=34509,f=(r=61161)+22|0;tr[r>>0]=0|tr[i>>0],i=i+1|0,(0|(r=r+1|0))<(0|f););if(80<=(10+(0|Vc(34542))|0)>>>0)return 61161;for(i=34531,f=(r=61161+(0|Vc(61161))|0)+11|0;tr[r>>0]=0|tr[i>>0],i=i+1|0,(0|(r=r+1|0))<(0|f););return A=61161,e=34542,e|=0,function(A,e){!function(A,e){A|=0;var r=0,i=0;r=e|=0;A:do{if(3&(r^A))i=8;else{if(3&r)do{if(r=0|tr[e>>0],!((tr[A>>0]=r)<<24>>24))break A;e=e+1|0,A=A+1|0}while(0!=(3&e|0));if(!((-2139062144&(r=0|ar[e>>2])^-2139062144)&r+-16843009))for(i=A;e=e+4|0,A=i+4|0,ar[i>>2]=r,!((-2139062144&(r=0|ar[e>>2])^-2139062144)&r+-16843009|0);)i=A;i=8}}while(0);if(8==(0|i)&&(i=0|tr[e>>0],(tr[A>>0]=i)<<24>>24))for(;A=A+1|0,i=0|tr[(e=e+1|0)>>0],(tr[A>>0]=i)<<24>>24!=0;);}(A|=0,e|=0)}((A|=0)+(0|Vc(A))|0,e),61161},function(){return 17432576},function(){var A,e,r,i,f,n;return A=0|hu(8),ar[A>>2]=0,r=(ar[(e=4+A|0)>>2]=0)|hu(92),ar[4+r>>2]=0,ar[8+r>>2]=0,ar[r>>2]=6336,f=i=12+r|0,ar[(f|=0)>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f+12>>2]=30025,ar[f+20>>2]=0,ar[f+24>>2]=0,ar[f+16>>2]=f+20,ar[f+32>>2]=0,ar[f+36>>2]=0,ar[f+28>>2]=f+32,ar[(n=f+40|0)>>2]=0,ar[4+n>>2]=0,ar[8+n>>2]=0,ar[12+n>>2]=0,ar[16+n>>2]=0,ar[20+n>>2]=0,ar[24+n>>2]=0,ar[f+68>>2]=4,ar[f+72>>2]=32768,ar[f+76>>2]=32768,function(A){A|=0;var e=0,r=0,i=0,f=0,n=0;if(n=0|hu(132),ar[n+4>>2]=0,ar[n+8>>2]=0,ar[n>>2]=6364,co(e=n+12|0),ar[(r=A+60|0)>>2]=e,i=0|ar[(f=A+64|0)>>2],ar[f>>2]=n,i&&(du(i),e=0|ar[r>>2]),function(A){var e,r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0;if(ur=(w=ur)+64|0,f=w+48|0,t=w+40|0,o=w+32|0,a=w+24|0,l=w+16|0,b=w+8|0,h=(d=w)+56|0,v=(ar[(A|=0)>>2]=0)|ar[(N=A+4|0)>>2],(ar[N>>2]=0)|v&&du(v),g=0|ar[(k=A+8|0)>>2],(0|(v=0|ar[(N=A+12|0)>>2]))!=(0|g))for(;m=v+-8|0,ar[N>>2]=m,(0|(v=(v=0|ar[v+-4>>2])?(du(v),0|ar[N>>2]):m))!=(0|g););R=0|hu(96),ar[R+4>>2]=0,ar[R+8>>2]=0,ar[R>>2]=4600,Mt(F=R+16|0),ar[R+60>>2]=0,ar[R+64>>2]=0,ar[R+68>>2]=0,ar[F>>2]=4436,ar[(V=R+72|0)>>2]=0,ar[V+4>>2]=0,ar[V+8>>2]=0,ar[V+12>>2]=0,ar[V+16>>2]=0,ar[R+36>>2]=1718909296,tr[R+52>>0]=0,ar[(V=A+20|0)>>2]=F,v=0|ar[(F=A+24|0)>>2],ar[F>>2]=R,0|v&&du(v),R=0|hu(104),ar[R+4>>2]=0,ar[R+8>>2]=0,ar[R>>2]=4656,Mt(g=R+16|0),ar[R+60>>2]=0,ar[R+64>>2]=0,ar[R+68>>2]=0,ar[g>>2]=4684,ar[R+72>>2]=0,ar[R+76>>2]=1885954932,ar[(m=R+80|0)>>2]=0,ar[m+4>>2]=0,ar[m+8>>2]=0,ar[m+12>>2]=0,ar[m+16>>2]=0,ar[m+20>>2]=0,ar[R+36>>2]=1751411826,tr[R+52>>0]=1,ar[(m=A+28|0)>>2]=g,v=0|ar[(g=A+32|0)>>2],ar[g>>2]=R,0|v&&du(v),G=0|hu(72),ar[G+4>>2]=0,ar[G+8>>2]=0,ar[G>>2]=4628,Mt(R=G+16|0),ar[G+60>>2]=0,ar[G+64>>2]=0,ar[G+68>>2]=0,ar[R>>2]=4468,ar[G+36>>2]=1835365473,tr[G+52>>0]=1,ar[(s=A+36|0)>>2]=R,v=0|ar[(R=A+40|0)>>2],ar[R>>2]=G,0|v&&du(v),G=0|hu(72),ar[G+4>>2]=0,ar[G+8>>2]=0,ar[G>>2]=5016,Mt(I=G+16|0),ar[G+60>>2]=0,ar[G+64>>2]=0,ar[G+68>>2]=0,ar[I>>2]=5044,ar[G+36>>2]=1768973167,tr[G+52>>0]=0,ar[(c=A+44|0)>>2]=I,v=0|ar[(I=A+48|0)>>2],ar[I>>2]=G,0|v&&du(v),C=0|hu(88),ar[C+4>>2]=0,ar[C+8>>2]=0,ar[C>>2]=5076,Mt(G=C+16|0),ar[C+60>>2]=0,ar[C+64>>2]=0,ar[C+68>>2]=0,ar[G>>2]=5104,ar[C+72>>2]=0,ar[C+76>>2]=0,ar[C+80>>2]=0,ar[C+36>>2]=1768975713,tr[C+52>>0]=1,ar[(u=A+52|0)>>2]=G,v=0|ar[(G=A+56|0)>>2],ar[G>>2]=C,0|v&&du(v),C=0|hu(104),ar[C+4>>2]=0,ar[C+8>>2]=0,ar[C>>2]=4776,Mt(E=C+16|0),ar[C+60>>2]=0,ar[C+64>>2]=0,ar[C+68>>2]=0,ar[E>>2]=4804,B=C+72|0,ar[C+96>>2]=0,ar[B>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,ar[B+12>>2]=0,ar[B+16>>2]=0,tr[B+20>>0]=0,ar[C+36>>2]=1768714083,tr[C+52>>0]=1,ar[(B=A+60|0)>>2]=E,v=0|ar[(E=A+64|0)>>2],ar[E>>2]=C,0|v&&du(v),C=0|hu(72),ar[C+4>>2]=0,ar[C+8>>2]=0,ar[C>>2]=4836,Mt(X=C+16|0),ar[C+60>>2]=0,ar[C+64>>2]=0,ar[C+68>>2]=0,ar[X>>2]=4864,ar[C+36>>2]=1768517222,tr[C+52>>0]=1,ar[(n=A+92|0)>>2]=X,v=0|ar[(X=A+96|0)>>2],ar[X>>2]=C,0|v&&du(v),y=0|hu(72),ar[y+4>>2]=0,ar[y+8>>2]=0,ar[y>>2]=4956,Mt(W=y+16|0),ar[y+60>>2]=0,ar[y+64>>2]=0,ar[y+68>>2]=0,ar[W>>2]=4984,ar[y+36>>2]=1768977008,tr[y+52>>0]=0,ar[(C=A+100|0)>>2]=W,v=0|ar[(W=A+104|0)>>2],ar[W>>2]=y,0|v&&du(v),p=0|hu(80),ar[p+4>>2]=0,ar[p+8>>2]=0,ar[p>>2]=4716,Mt(y=p+16|0),ar[p+60>>2]=0,ar[p+64>>2]=0,ar[p+68>>2]=0,ar[y>>2]=4744,ar[p+72>>2]=0,ar[p+36>>2]=1885959277,tr[p+52>>0]=1,ar[(i=A+84|0)>>2]=y,v=0|ar[(y=A+88|0)>>2],ar[y>>2]=p,0|v&&du(v),r=0|ar[s>>2],Z=0|ar[m>>2],ar[f>>2]=Z,p=4+f|0,m=0|ar[g>>2],(g=0==(0|(ar[p>>2]=m)))||bu(m),(0|(v=0|ar[(e=48+r|0)>>2]))==(0|ar[52+r>>2])?Ut(44+r|0,f):(ar[v>>2]=Z,ar[v+4>>2]=m,g||(bu(m),v=0|ar[e>>2]),ar[e>>2]=v+8),0|(v=0|ar[p>>2])&&du(v),m=0|ar[s>>2],ar[t>>2]=ar[i>>2],Z=4+t|0,v=0|ar[y>>2],0|(ar[Z>>2]=v)&&bu(v),(0|(v=0|ar[(g=m+48|0)>>2]))==(0|ar[m+52>>2])?Ut(m+44|0,t):(ar[v>>2]=ar[t>>2],m=0|ar[Z>>2],(ar[v+4>>2]=m)&&(bu(m),v=0|ar[g>>2]),ar[g>>2]=v+8),0|(v=0|ar[Z>>2])&&du(v),m=0|ar[s>>2],ar[o>>2]=ar[B>>2],Z=4+o|0,v=0|ar[E>>2],0|(ar[Z>>2]=v)&&bu(v),(0|(v=0|ar[(g=m+48|0)>>2]))==(0|ar[m+52>>2])?Ut(m+44|0,o):(ar[v>>2]=ar[o>>2],m=0|ar[Z>>2],(ar[v+4>>2]=m)&&(bu(m),v=0|ar[g>>2]),ar[g>>2]=v+8),0|(v=0|ar[Z>>2])&&du(v),m=0|ar[s>>2],ar[a>>2]=ar[n>>2],Z=4+a|0,v=0|ar[X>>2],0|(ar[Z>>2]=v)&&bu(v),(0|(v=0|ar[(g=m+48|0)>>2]))==(0|ar[m+52>>2])?Ut(m+44|0,a):(ar[v>>2]=ar[a>>2],m=0|ar[Z>>2],(ar[v+4>>2]=m)&&(bu(m),v=0|ar[g>>2]),ar[g>>2]=v+8),0|(v=0|ar[Z>>2])&&du(v),m=0|ar[s>>2],ar[l>>2]=ar[C>>2],Z=4+l|0,v=0|ar[W>>2],0|(ar[Z>>2]=v)&&bu(v),(0|(v=0|ar[(g=m+48|0)>>2]))==(0|ar[m+52>>2])?Ut(m+44|0,l):(ar[v>>2]=ar[l>>2],m=0|ar[Z>>2],(ar[v+4>>2]=m)&&(bu(m),v=0|ar[g>>2]),ar[g>>2]=v+8),0|(v=0|ar[Z>>2])&&du(v),m=0|ar[C>>2],ar[b>>2]=ar[c>>2],Z=4+b|0,v=0|ar[I>>2],0|(ar[Z>>2]=v)&&bu(v),(0|(v=0|ar[(g=m+48|0)>>2]))==(0|ar[m+52>>2])?Ut(m+44|0,b):(ar[v>>2]=ar[b>>2],m=0|ar[Z>>2],(ar[v+4>>2]=m)&&(bu(m),v=0|ar[g>>2]),ar[g>>2]=v+8),0|(v=0|ar[Z>>2])&&du(v),m=0|ar[C>>2],ar[d>>2]=ar[u>>2],Z=d+4|0,v=0|ar[G>>2],0|(ar[Z>>2]=v)&&bu(v),(0|(v=0|ar[(g=m+48|0)>>2]))==(0|ar[m+52>>2])?Ut(m+44|0,d):(ar[v>>2]=ar[d>>2],m=0|ar[Z>>2],(ar[v+4>>2]=m)&&(bu(m),v=0|ar[g>>2]),ar[g>>2]=v+8),0|(v=0|ar[Z>>2])&&du(v),uo(v=A+108|0,0|ar[(m=A+112|0)>>2]),ar[A+116>>2]=0,ar[v>>2]=m,ar[m>>2]=0,ar[h>>2]=ar[V>>2],m=4+h|0,v=0|ar[F>>2],0|(ar[m>>2]=v)&&bu(v),v=0|ar[N>>2],g=A+16|0;do{if(v>>>0<(0|ar[g>>2])>>>0)ar[v>>2]=ar[h>>2],ar[v+4>>2]=ar[m>>2],ar[h>>2]=0,ar[m>>2]=0,ar[N>>2]=v+8;else{if(ee(k,h),!(v=0|ar[m>>2]))break;du(v)}}while(0);if(ar[h>>2]=ar[s>>2],m=4+h|0,v=0|ar[R>>2],0|(ar[m>>2]=v)&&bu(v),(v=0|ar[N>>2])>>>0<(0|ar[g>>2])>>>0)return ar[v>>2]=ar[h>>2],ar[v+4>>2]=ar[m>>2],ar[h>>2]=0,ar[m>>2]=0,ar[N>>2]=v+8,ur=w;ee(k,h),(v=0|ar[m>>2])&&du(v),ur=w}(e),vl(f=A+28|0,0|ar[(i=A+32|0)>>2]),ar[A+36>>2]=0,ar[f>>2]=i,ar[i>>2]=0,i=0|ar[A+40>>2],(0|(e=0|ar[(f=A+44|0)>>2]))!=(0|i))for(;r=e+-8|0,ar[f>>2]=r,(0|(e=(e=0|ar[e+-4>>2])?(du(e),0|ar[f>>2]):r))!=(0|i););ar[A+52>>2]=0,e=0|ar[(n=A+56|0)>>2],ar[n>>2]=0,e&&du(e)}(f),ar[A>>2]=i,ar[e>>2]=r,0|A},function(){var A;return A=0|hu(12),ar[A>>2]=0,ar[4+A>>2]=0,(ar[8+A>>2]=0)|A},Bb,Bb,Bb],jb=[Eb,function(A){return D=0|ar[(A=(A|=0)+16|0)+4>>2],0|ar[A>>2]},function(A){return 0},function(A){return 0},function(A){var e=0,r=0,i=0;return(i=0|ar[(e=(A|=0)+44|0)>>2])>>>0<(r=0|ar[A+24>>2])>>>0&&(i=ar[e>>2]=r),8&ar[A+48>>2]?((r=0|ar[(e=A+16|0)>>2])>>>0<i>>>0&&(r=ar[e>>2]=i),r>>>0<=(e=0|ar[A+12>>2])>>>0?0|(A=-1):0|(A=0|cr[e>>0])):0|(A=-1)},function(A){var e=0;return 0|(A=-1==(0|(e=0|jb[127&ar[36+(0|ar[(A|=0)>>2])>>2]](A)))?-1:(A=0|ar[(e=A+12|0)>>2],ar[e>>2]=A+1,0|hf(0|tr[A>>0])))},function(A){return 1852009592},function(A){return 0|ar[(A|=0)+4>>2]},function(A){return 0|(1==(0|(A|=0))?100:0)},function(A){var e,r,i;return r=ur=(e=ur)+31&-32,ur=ur+16|0,A=0|(i=0|ar[(A|=0)+60>>2],0|(i|=0)),ar[r>>2]=A,A=0|Ic(0|J(6,0|r)),ur=e,0|A},function(A){return-1},function(A){return 0},function(A){return 0},function(A){return-1},function(A){var e=0;return 0|(A=-1==(0|(e=0|jb[127&ar[36+(0|ar[(A|=0)>>2])>>2]](A)))?-1:(A=0|ar[(e=A+12|0)>>2],ar[e>>2]=A+4,0|gf(0|ar[A>>2])))},function(A){var e,r,i,f,n,t,o,a,c=0,l=0;i=ur=(a=ur)+31&-32,ur=ur+16|0,f=(A|=0)+36|0,n=A+40|0,t=8+(r=8+i|0)|0,o=r,e=A+32|0;A:for(;;){if(A=0|ar[f>>2],A=0|Kb[31&ar[20+(0|ar[A>>2])>>2]](A,0|ar[n>>2],r,t,i),(0|Ui(r,1,l=(0|ar[i>>2])-o|0,0|ar[e>>2]))!=(0|l)){A=-1;break}switch(0|A){case 1:break;case 2:A=-1;break A;default:c=4;break A}}return 4==(0|c)&&(A=(0!=(0|Oi(0|ar[e>>2])))<<31>>31),ur=a,0|A},function(A){var e,r,i,f,n,t,o,a,c=0,l=0;i=ur=(a=ur)+31&-32,ur=ur+16|0,f=(A|=0)+36|0,n=A+40|0,t=8+(r=8+i|0)|0,o=r,e=A+32|0;A:for(;;){if(A=0|ar[f>>2],A=0|Kb[31&ar[20+(0|ar[A>>2])>>2]](A,0|ar[n>>2],r,t,i),(0|Ui(r,1,l=(0|ar[i>>2])-o|0,0|ar[e>>2]))!=(0|l)){A=-1;break}switch(0|A){case 1:break;case 2:A=-1;break A;default:c=4;break A}}return 4==(0|c)&&(A=(0!=(0|Oi(0|ar[e>>2])))<<31>>31),ur=a,0|A},function(A){return 0|fn(A|=0,0)},function(A){return 0|fn(A|=0,1)},function(A){return 0|tn(A|=0,0)},function(A){return 0|tn(A|=0,1)},function(A){return 2},function(A){return 0==(0|tr[56696])&&0|ib(56696)&&(function(){var A=0,e=0;if(0==(0|tr[56704])&&0|ib(56704)){e=59936;do{for(ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,A=0;3!=(0|A);)ar[e+(A<<2)>>2]=0,A=A+1|0;e=e+12|0}while(60104!=(0|e))}Gu(59936,54302),Gu(59948,54309),Gu(59960,54316),Gu(59972,54324),Gu(59984,54334),Gu(59996,54343),Gu(60008,54350),Gu(60020,54359),Gu(60032,54363),Gu(60044,54367),Gu(60056,54371),Gu(60068,54375),Gu(60080,54379),Gu(60092,54383)}(),ar[15026]=59936),0|ar[15026]},function(A){return 0==(0|tr[56680])&&0|ib(56680)&&(function(){var A=0,e=0;if(0==(0|tr[56688])&&0|ib(56688)){e=59644;do{for(ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,A=0;3!=(0|A);)ar[e+(A<<2)>>2]=0,A=A+1|0;e=e+12|0}while(59932!=(0|e))}Gu(59644,54172),Gu(59656,54180),Gu(59668,54189),Gu(59680,54195),Gu(59692,54201),Gu(59704,54205),Gu(59716,54210),Gu(59728,54215),Gu(59740,54222),Gu(59752,54232),Gu(59764,54240),Gu(59776,54249),Gu(59788,54258),Gu(59800,54262),Gu(59812,54266),Gu(59824,54270),Gu(59836,54201),Gu(59848,54274),Gu(59860,54278),Gu(59872,54282),Gu(59884,54286),Gu(59896,54290),Gu(59908,54294),Gu(59920,54298)}(),ar[14983]=59644),0|ar[14983]},function(A){return 0==(0|tr[56664])&&0|ib(56664)&&(function(){var A=0,e=0;if(0==(0|tr[56672])&&0|ib(56672)){e=59352;do{for(ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,A=0;3!=(0|A);)ar[e+(A<<2)>>2]=0,A=A+1|0;e=e+12|0}while(59640!=(0|e))}Gu(59352,54166),Gu(59364,54169)}(),ar[14910]=59352),0|ar[14910]},function(A){A|=0;var e,r,i=0,f=0;return e=ur=(r=ur)+31&-32,ur=ur+16|0,0==(0|tr[56656])&&0|ib(56656)&&(ar[14835]=0,ar[14836]=0,4294967279<(i=(ar[14837]=0)|Yf(54145))>>>0&&pu(),i>>>0<11?(tr[59351]=i,A=59340):(A=0|hu(f=i+16&-16),ar[14835]=A,ar[14837]=-2147483648|f,ar[14836]=i),wf(A,54145,i),Qf(A+i|(tr[e>>0]=0),e)),ur=r,59340},function(A){A|=0;var e,r,i=0,f=0;return e=ur=(r=ur)+31&-32,ur=ur+16|0,0==(0|tr[56648])&&0|ib(56648)&&(ar[14832]=0,ar[14833]=0,4294967279<(i=(ar[14834]=0)|Yf(54133))>>>0&&pu(),i>>>0<11?(tr[59339]=i,A=59328):(A=0|hu(f=i+16&-16),ar[14832]=A,ar[14834]=-2147483648|f,ar[14833]=i),wf(A,54133,i),Qf(A+i|(tr[e>>0]=0),e)),ur=r,59328},function(A){A|=0;var e,r,i=0,f=0;return e=ur=(r=ur)+31&-32,ur=ur+16|0,0==(0|tr[56640])&&0|ib(56640)&&(ar[14829]=0,ar[14830]=0,4294967279<(i=(ar[14831]=0)|Yf(54124))>>>0&&pu(),i>>>0<11?(tr[59327]=i,A=59316):(A=0|hu(f=i+16&-16),ar[14829]=A,ar[14831]=-2147483648|f,ar[14830]=i),wf(A,54124,i),Qf(A+i|(tr[e>>0]=0),e)),ur=r,59316},function(A){A|=0;var e,r,i=0,f=0;return e=ur=(r=ur)+31&-32,ur=ur+16|0,0==(0|tr[56632])&&0|ib(56632)&&(ar[14826]=0,ar[14827]=0,4294967279<(i=(ar[14828]=0)|Yf(54115))>>>0&&pu(),i>>>0<11?(tr[59315]=i,A=59304):(A=0|hu(f=i+16&-16),ar[14826]=A,ar[14828]=-2147483648|f,ar[14827]=i),wf(A,54115,i),Qf(A+i|(tr[e>>0]=0),e)),ur=r,59304},function(A){return 2},function(A){return 0==(0|tr[56776])&&0|ib(56776)&&(function(){var A=0,e=0;if(0==(0|tr[56784])&&0|ib(56784)){e=60748;do{for(ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,A=0;3!=(0|A);)ar[e+(A<<2)>>2]=0,A=A+1|0;e=e+12|0}while(60916!=(0|e))}Tu(60748,15904),Tu(60760,15932),Tu(60772,15960),Tu(60784,15992),Tu(60796,16032),Tu(60808,16068),Tu(60820,16096),Tu(60832,16132),Tu(60844,16148),Tu(60856,16164),Tu(60868,16180),Tu(60880,16196),Tu(60892,16212),Tu(60904,16228)}(),ar[15229]=60748),0|ar[15229]},function(A){return 0==(0|tr[56760])&&0|ib(56760)&&(function(){var A=0,e=0;if(0==(0|tr[56768])&&0|ib(56768)){e=60456;do{for(ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,A=0;3!=(0|A);)ar[e+(A<<2)>>2]=0,A=A+1|0;e=e+12|0}while(60744!=(0|e))}Tu(60456,15384),Tu(60468,15416),Tu(60480,15452),Tu(60492,15476),Tu(60504,15500),Tu(60516,15516),Tu(60528,15536),Tu(60540,15556),Tu(60552,15584),Tu(60564,15624),Tu(60576,15656),Tu(60588,15692),Tu(60600,15728),Tu(60612,15744),Tu(60624,15760),Tu(60636,15776),Tu(60648,15500),Tu(60660,15792),Tu(60672,15808),Tu(60684,15824),Tu(60696,15840),Tu(60708,15856),Tu(60720,15872),Tu(60732,15888)}(),ar[15186]=60456),0|ar[15186]},function(A){return 0==(0|tr[56744])&&0|ib(56744)&&(function(){var A=0,e=0;if(0==(0|tr[56752])&&0|ib(56752)){e=60164;do{for(ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,A=0;3!=(0|A);)ar[e+(A<<2)>>2]=0,A=A+1|0;e=e+12|0}while(60452!=(0|e))}Tu(60164,15360),Tu(60176,15372)}(),ar[15113]=60164),0|ar[15113]},function(A){A|=0;var e,r=0,i=0,f=0;if(A=ur=(e=ur)+31&-32,ur=ur+16|0,0==(0|tr[56736])&&0|ib(56736)){ar[15038]=0,ar[15039]=0,1073741807<(i=(ar[15040]=0)|Mr(15276))>>>0&&pu();do{if(2<=i>>>0){if(!(1073741823<(r=i+4&-4)>>>0)){f=0|hu(r<<2),ar[15038]=f,ar[15040]=-2147483648|r,ar[15039]=i;break}lA()}else tr[60163]=i,f=60152}while(0);Zf(f,15276,i),ln(f+(i<<2)|(ar[A>>2]=0),A)}return ur=e,60152},function(A){A|=0;var e,r=0,i=0,f=0;if(A=ur=(e=ur)+31&-32,ur=ur+16|0,0==(0|tr[56728])&&0|ib(56728)){ar[15035]=0,ar[15036]=0,1073741807<(i=(ar[15037]=0)|Mr(15228))>>>0&&pu();do{if(2<=i>>>0){if(!(1073741823<(r=i+4&-4)>>>0)){f=0|hu(r<<2),ar[15035]=f,ar[15037]=-2147483648|r,ar[15036]=i;break}lA()}else tr[60151]=i,f=60140}while(0);Zf(f,15228,i),ln(f+(i<<2)|(ar[A>>2]=0),A)}return ur=e,60140},function(A){A|=0;var e,r=0,i=0,f=0;if(A=ur=(e=ur)+31&-32,ur=ur+16|0,0==(0|tr[56720])&&0|ib(56720)){ar[15032]=0,ar[15033]=0,1073741807<(i=(ar[15034]=0)|Mr(15192))>>>0&&pu();do{if(2<=i>>>0){if(!(1073741823<(r=i+4&-4)>>>0)){f=0|hu(r<<2),ar[15032]=f,ar[15034]=-2147483648|r,ar[15033]=i;break}lA()}else tr[60139]=i,f=60128}while(0);Zf(f,15192,i),ln(f+(i<<2)|(ar[A>>2]=0),A)}return ur=e,60128},function(A){A|=0;var e,r=0,i=0,f=0;if(A=ur=(e=ur)+31&-32,ur=ur+16|0,0==(0|tr[56712])&&0|ib(56712)){ar[15029]=0,ar[15030]=0,1073741807<(i=(ar[15031]=0)|Mr(15156))>>>0&&pu();do{if(2<=i>>>0){if(!(1073741823<(r=i+4&-4)>>>0)){f=0|hu(r<<2),ar[15029]=f,ar[15031]=-2147483648|r,ar[15030]=i;break}lA()}else tr[60127]=i,f=60116}while(0);Zf(f,15156,i),ln(f+(i<<2)|(ar[A>>2]=0),A)}return ur=e,60116},function(A){return 127},function(A){return 127},function(A){return 0},function(A){return 127},function(A){return 127},function(A){return 0},function(A){return 2147483647},function(A){return 2147483647},function(A){return 0},function(A){return 2147483647},function(A){return 2147483647},function(A){return 0},function(A){return 0},function(A){return 0},function(A){return 4},function(A){var e,r=0;if(r=0|rf(0|ar[(A=(A|=0)+8|0)>>2]),e=0|function(A,e,r){A|=0,e|=0,r|=0;var i,f=0,n=0,t=0;f=ur=(i=ur)+31&-32,ur=ur+16|0;A:do{if(e){do{if(0|r){if(t=0==(0|A)?f:A,-1<(A=0|tr[e>>0])<<24>>24){ar[t>>2]=255&A,A=A<<24>>24!=0&1;break A}if(n=10488,A=0|tr[e>>0],!(0|ar[ar[n>>2]>>2])){ar[t>>2]=A<<24>>24&57343,A=1;break A}if((A=(255&A)-194|0)>>>0<=50){if(f=e+1|0,n=0|ar[9896+(A<<2)>>2],r>>>0<4&&n&-2147483648>>>((6*r|0)-6|0)|0)break;if(((r=(A=0|cr[f>>0])>>>3)+-16|r+(n>>26))>>>0<=7){if(0<=(0|(A=A+-128|n<<6))){ar[t>>2]=A,A=2;break A}if((f=(0|cr[e+2>>0])-128|0)>>>0<=63){if(0<=(0|(f|=A<<6))){ar[t>>2]=f,A=3;break A}if((A=(0|cr[e+3>>0])-128|0)>>>0<=63){ar[t>>2]=A|f<<6,A=4;break A}}}}}}while(0);ar[(A=10364)>>2]=84,A=-1}else A=0}while(0);return ur=i,0|A}(0,0,4),0|r&&rf(r),e)A=-1;else{if(A=0|ar[A>>2])return r=0|rf(A),A=0|yi(),0|r&&rf(r),1==(0|A)|0;A=1}return 0|A},function(A){return 0},function(A){var e=0;return(A=0|ar[(A|=0)+8>>2])?(e=0|rf(A),A=0|yi(),e&&rf(e)):A=1,0|A},function(A){return 0|tr[(A|=0)+8>>0]},function(A){return 0|tr[(A|=0)+9>>0]},function(A){return 0|ar[(A|=0)+8>>2]},function(A){return 0|ar[(A|=0)+12>>2]},function(A){return 1},function(A){return 1},function(A){return 1},function(A){return 0},function(A){return 0},function(A){return 4},function(A){return 55847},function(A){return 0|(e=(A|=0)+4|0,0|ar[(e|=0)>>2]);var e},function(A){var e,r,i,f,n=0;return ur=(r=ur)+16|0,f=r,is[511&(A|=0)](f),A=0|yc((n=(i=(n=0|tr[f+11>>0])<<24>>24<0)?0|ar[f+4>>2]:255&n)+4|0),ar[A>>2]=n,e=0|ar[f>>2],hb(A+4|0,0|(i?e:f),0|n),ur=(i&&vu(e),r),0|A},function(A){return 0|zb[7&(A|=0)]()},function(A){return 0|zb[7&(A|=0)]()},function(A){var e,r,i,f,n,t=0;if(ur=(n=ur)+16|0,sl(i=n,40+(0|ar[(A|=0)>>2])|0),f=(t=0|ar[(r=i+4|0)>>2])-(A=0|ar[i>>2])>>3,!(e=A))return ur=n,0|f;if((0|t)!=(0|e)){for(;A=t+-8|0,ar[r>>2]=A,(t=0|ar[t+-4>>2])&&(du(t),A=0|ar[r>>2]),(0|A)!=(0|e);)t=A;A=0|ar[i>>2]}return vu(A),ur=n,0|f},function(A){return 1272},function(A){return 1312},function(A){return 1352},Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb,Eb],Hb=[Xb,function(A,e){e|=0;var r,i=0,f=0,n=0;if((i=0|ar[(f=(A|=0)+44|0)>>2])>>>0<(n=0|ar[A+24>>2])>>>0&&(i=ar[f>>2]=n),f=0|ar[(r=A+12|0)>>2],(0|ar[A+8>>2])>>>0>=f>>>0)return 0|(e=-1);if(-1==(0|e))return ar[r>>2]=f+-1,ar[A+16>>2]=i,(e=0)|e;if(16&ar[A+48>>2])n=255&e,f=f+-1|0;else if((n=255&e)<<24>>24!=(0|tr[(f=f+-1|0)>>0]))return 0|(e=-1);return ar[r>>2]=f,ar[A+16>>2]=i,tr[f>>0]=n,0|e},function(A,e){var r,i,f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;if(ur=(o=ur)+16|0,i=o,-1==(0|(e|=0)))return ur=o,(w=0)|w;if(n=(A|=0)+8|0,t=(0|ar[(f=A+12|0)>>2])-(0|ar[n>>2])|0,(0|(d=0|ar[(w=A+24|0)>>2]))==(0|(a=0|ar[(r=A+28|0)>>2]))){if(!(16&ar[(s=A+48|0)>>2]))return ur=o,0|(w=-1);b=0|ar[(u=A+20|0)>>2],k=(0|ar[(h=A+44|0)>>2])-b|0,_u(l=A+32|0,0),Vu(l,c=(0|tr[(a=l+11|0)>>0])<0?(2147483647&ar[A+40>>2])-1|0:10,0),(a=0|tr[a>>0])<<24>>24<0?(c=0|ar[l>>2],a=0|ar[A+36>>2]):(c=l,a&=255),a=c+a|0,ar[u>>2]=c,ar[r>>2]=a,d=c+(d-b)|0,ar[w>>2]=d,c=c+k|0,ar[h>>2]=c,l=k=h,b=a}else s=A+48|0,c=0|ar[(l=k=c=A+44|0)>>2],b=a;return u=d+1|0,ar[i>>2]=u,c=0|ar[(u>>>0<c>>>0?l:i)>>2],ar[k>>2]=c,8&ar[s>>2]|0&&((0|tr[(a=A+32|0)+11>>0])<0&&(a=0|ar[a>>2]),ar[n>>2]=a,ar[f>>2]=a+t,ar[A+16>>2]=c),(0|d)==(0|b)?(w=0|Hb[31&ar[52+(0|ar[A>>2])>>2]](A,255&e),ur=o,0|w):(ar[w>>2]=u,tr[d>>0]=e,ur=o,0|(w=255&e))},function(A,e){return 0},function(A,e){e|=0;var r=0;return r=0|ar[(A|=0)+376156>>2],(0|ar[A+376160>>2])-r>>2>>>0<=e>>>0?(r=0)|r:0|(r=0|ar[r+(e<<2)>>2])},function(A,e){return(0|(e|=0))<=-1?(e=0)|e:0|(e=((0|ar[(A|=0)+376160>>2])-(0|ar[A+376156>>2])>>2|0)>(0|e))},function(A,e){return-1},function(A,e){return-1},function(A,e){return-1},function(A,e){return-1},function(A,e){A|=0,e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;f=ur=(n=ur)+31&-32,ur=ur+32|0,r=16+f|0,o=8+f|0,i=4+f|0;do{if(0|Uf(e,-1))t=15;else{if(s=0|pf(e),ar[o>>2]=s,s=A+32|0,0|tr[A+44>>0]){if(1==(0|Ui(o,4,1,0|ar[s>>2]))){t=15;break}A=-1;break}for(u=o+4|0,b=A+36|0,a=A+40|0,c=8+(ar[i>>2]=r)|0,l=r,A=o;;){if(t=0|ar[b>>2],o=1==(0|(t=0|es[15&ar[12+(0|ar[t>>2])>>2]](t,0|ar[a>>2],A,u,f,r,c,i))),(0|ar[f>>2])==(0|A)){t=14;break}if(3==(0|t)){if(1!=(0|Ui(A,1,1,0|ar[s>>2]))){t=14;break}}else{if(1!=(1|t)){t=14;break}if((0|Ui(r,1,t=(0|ar[i>>2])-l|0,0|ar[s>>2]))!=(0|t)){t=14;break}A=o?0|ar[f>>2]:A}if(!o){t=13;break}}if(13==(0|t)){t=15;break}if(14==(0|t)){A=-1;break}}}while(0);return 15==(0|t)&&(A=0|function(A){0|Uf(A|=0,-1)&&(A=0);return 0|A}(e)),ur=n,0|A},function(A,e){A|=0,e|=0;var r,i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;f=ur=(n=ur)+31&-32,ur=ur+32|0,r=16+f|0,o=8+f|0,i=4+f|0;do{if(0|Mf(e,-1))t=15;else{if(s=0|vf(e),tr[o>>0]=s,s=A+32|0,0|tr[A+44>>0]){if(1==(0|Ui(o,1,1,0|ar[s>>2]))){t=15;break}A=-1;break}for(u=o+1|0,b=A+36|0,a=A+40|0,c=8+(ar[i>>2]=r)|0,l=r,A=o;;){if(t=0|ar[b>>2],o=1==(0|(t=0|es[15&ar[12+(0|ar[t>>2])>>2]](t,0|ar[a>>2],A,u,f,r,c,i))),(0|ar[f>>2])==(0|A)){t=14;break}if(3==(0|t)){if(1!=(0|Ui(A,1,1,0|ar[s>>2]))){t=14;break}}else{if(1!=(1|t)){t=14;break}if((0|Ui(r,1,t=(0|ar[i>>2])-l|0,0|ar[s>>2]))!=(0|t)){t=14;break}A=o?0|ar[f>>2]:A}if(!o){t=13;break}}if(13==(0|t)){t=15;break}if(14==(0|t)){A=-1;break}}}while(0);return 15==(0|t)&&(A=0|function(A){0|Mf(A|=0,-1)&&(A=0);return 0|A}(e)),ur=n,0|A},function(A,e){var r,i,f,n,t,o=0,a=0,c=0,l=0;c=ur=(t=ur)+31&-32,ur=ur+32|0,r=c+16|0,i=c+8|0,a=c+4|0,l=0|Uf(e|=0,-1),o=0!=(0|tr[(n=(A|=0)+52|0)>>0]),f=A+48|0;do{if(l)o?o=e:(l=1&(1^(0|Uf(o=0|ar[f>>2],-1))),tr[n>>0]=l);else{if(o){switch(l=0|pf(0|ar[f>>2]),ar[a>>2]=l,l=0|ar[A+36>>2],0|es[15&ar[12+(0|ar[l>>2])>>2]](l,0|ar[A+40>>2],a,a+4|0,c,r,8+r|0,i)){case 1:case 2:c=10;break;case 3:tr[r>>0]=ar[f>>2],ar[i>>2]=1+r,c=7;break;default:c=7}A:do{if(7==(0|c))for(o=A+32|0;;){if((a=0|ar[i>>2])>>>0<=r>>>0){a=1,o=0;break A}if(l=a+-1|0,ar[i>>2]=l,-1==(0|uf(0|tr[l>>0],0|ar[o>>2]))){c=10;break}}}while(0);if(10==(0|c)&&(a=0,o=-1),!a)break}ar[f>>2]=e,tr[n>>0]=1,o=e}}while(0);return ur=t,0|o},function(A,e){var r,i,f,n,t,o=0,a=0,c=0,l=0;c=ur=(t=ur)+31&-32,ur=ur+32|0,r=c+16|0,i=c+4|0,a=c+8|0,l=0|Mf(e|=0,-1),o=0!=(0|tr[(n=(A|=0)+52|0)>>0]),f=A+48|0;do{if(l)o?o=e:(l=1&(1^(0|Mf(o=0|ar[f>>2],-1))),tr[n>>0]=l);else{if(o){switch(l=0|vf(0|ar[f>>2]),tr[a>>0]=l,l=0|ar[A+36>>2],0|es[15&ar[12+(0|ar[l>>2])>>2]](l,0|ar[A+40>>2],a,a+1|0,c,r,8+r|0,i)){case 1:case 2:c=10;break;case 3:tr[r>>0]=ar[f>>2],ar[i>>2]=1+r,c=7;break;default:c=7}A:do{if(7==(0|c))for(o=A+32|0;;){if((a=0|ar[i>>2])>>>0<=r>>>0){a=1,o=0;break A}if(l=a+-1|0,ar[i>>2]=l,-1==(0|uf(0|tr[l>>0],0|ar[o>>2]))){c=10;break}}}while(0);if(10==(0|c)&&(a=0,o=-1),!a)break}ar[f>>2]=e,tr[n>>0]=1,o=e}}while(0);return ur=t,0|o},function(A,e){return-1<(e|=0)<<24>>24&&(e=(0|Tl())+((255&e)<<2)|0,e=255&ar[e>>2]),0|e},function(A,e){return-1<(e|=0)<<24>>24&&(e=(0|Ml())+(e<<24>>24<<2)|0,e=255&ar[e>>2]),0|e},function(A,e){return 0|(e|=0)},function(A,e){return(e|=0)>>>0<128&&(e=(0|Tl())+(e<<2)|0,e=0|ar[e>>2]),0|e},function(A,e){return(e|=0)>>>0<128&&(e=(0|Ml())+(e<<2)|0,e=0|ar[e>>2]),0|e},function(A,e){return(e|=0)<<24>>24|0},function(A,e){return e|=0,0|jb[127&(A|=0)](e)},function(A,e){var r,i;return e|=0,ur=(r=ur)+16|0,i=r,fs[63&(A|=0)](i,e),fA(0|ar[i>>2]),e=0|ar[i>>2],iA(0|e),ur=r,0|e},function(A,e){return 0|ar[(e|=0)+(0|ar[(A|=0)>>2])>>2]},function(A,e){return 0|ar[(e|=0)+(0|ar[(A|=0)>>2])>>2]},Xb,Xb,Xb,Xb,Xb,Xb,Xb,Xb],xb=[Wb,function(A,e,r){var i;return e|=0,r|=0,0|((0|(i=0|ar[(A=(A|=0)+8|0)+4>>2]))<(0|r)|((0|i)==(0|r)?(0|ar[A>>2])>>>0<e>>>0:0)?2:0)},function(A,e,r){e|=0,r|=0;var i,f,n,t=0,o=0,a=0;return t=0|tb(0|(f=0|ar[(t=i=(A|=0)+16|0)>>2]),0|ar[t+4>>2],0|r,0),a=D,(0|(o=0|ar[4+(n=A+8|0)>>2]))<(0|a)|((0|a)==(0|o)?t>>>0>(0|ar[n>>2])>>>0:0)?(a=0)|a:(hb(0|e,(0|ar[A+4>>2])+f|0,0|r),o=0|tb(0|ar[(o=i)>>2],0|ar[o+4>>2],0|r,0),ar[(a=i)>>2]=o,ar[a+4>>2]=D,0|(a=1))},function(A,e,r){e|=0;var i,f=0;return(0|(r|=0))<0|((0|(f=0|ar[4+(i=(A|=0)+8|0)>>2]))<(0|r)|((0|f)==(0|r)?(0|ar[i>>2])>>>0<e>>>0:0))?(f=0)|f:(ar[(f=A+16|0)>>2]=e,ar[f+4>>2]=r,0|(f=1))},function(A,e,r){return 0|(A|=0)},function(A,e,r){e|=0,r|=0;var i,f,n=0,t=0,o=0,a=0;for(i=(A|=0)+12|0,f=A+16|0,o=0;!((0|r)<=(0|o));)if((n=0|ar[i>>2])>>>0<(t=0|ar[f>>2])>>>0)wf(e,n,t=(0|(a=r-o|0))<(0|(t=t-n|0))?a:t),ar[i>>2]=(0|ar[i>>2])+t,e=e+t|0,o=t+o|0;else{if(-1==(0|(n=0|jb[127&ar[40+(0|ar[A>>2])>>2]](A))))break;a=0|vf(n),tr[e>>0]=a,e=e+1|0,o=o+1|0}return 0|o},function(A,e,r){e|=0,r|=0;var i,f,n=0,t=0,o=0,a=0;for(i=(A|=0)+24|0,f=A+28|0,n=0;!((0|r)<=(0|n));)if((t=0|ar[i>>2])>>>0<(o=0|ar[f>>2])>>>0)wf(t,e,o=(0|(a=r-n|0))<(0|(o=o-t|0))?a:o),ar[i>>2]=(0|ar[i>>2])+o,e=e+o|0,n=o+n|0;else{if(o=0|ar[52+(0|ar[A>>2])>>2],a=0|hf(0|tr[e>>0]),-1==(0|Hb[31&o](A,a)))break;e=e+1|0,n=n+1|0}return 0|n},function(A,e,r){e|=0,r|=0;var i,f,n=0;return n=ur=(f=ur)+31&-32,ur=ur+32|0,i=n,ar[(A|=0)+36>>2]=10,0==(64&ar[A>>2]|0)&&(ar[i>>2]=ar[A+60>>2],ar[i+4>>2]=21523,ar[i+8>>2]=n+16,0|Y(54,0|i))&&(tr[A+75>>0]=-1),n=0|Gc(A,e,r),ur=f,0|n},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n=0;return n=ur=(i=ur)+31&-32,ur=ur+32|0,n=(f=n)+20|0,ar[f>>2]=ar[A+60>>2],ar[f+4>>2]=0,ar[f+8>>2]=e,ar[f+12>>2]=n,ar[f+16>>2]=r,A=(0|Ic(0|R(140,0|f)))<0?ar[n>>2]=-1:0|ar[n>>2],ur=i,0|A},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t=0,o=0,a=0,c=0;return c=ur=(f=ur)+31&-32,ur=ur+32|0,ar[(c=(t=c)+16|0)>>2]=e,o=c+4|0,n=0|ar[(i=A+48|0)>>2],ar[o>>2]=r-(0!=(0|n)&1),a=A+44|0,ar[c+8>>2]=ar[a>>2],ar[c+12>>2]=n,ar[t>>2]=ar[A+60>>2],ar[t+4>>2]=c,ar[t+8>>2]=2,1<=(0|(t=0|Ic(0|N(145,0|t))))?(c=0|ar[o>>2])>>>0<t>>>0&&(o=0|ar[a>>2],ar[(a=A+4|0)>>2]=o,ar[A+8>>2]=o+(t-c),t=(0|ar[i>>2]&&(ar[a>>2]=o+1,tr[e+(r+-1)>>0]=0|tr[o>>0]),r)):ar[A>>2]=ar[A>>2]|48&t^16,ur=f,0|t},Gc,function(A,e,r){var i,f;return e|=0,r|=0,hb(0|(f=0|ar[(i=(A|=0)+20|0)>>2]),0|e,0|(A=r>>>0<(A=(0|ar[A+16>>2])-f|0)>>>0?r:A)),ar[i>>2]=(0|ar[i>>2])+A,0|r},function(A,e,r){return 0|(A|=0)},function(A,e,r){e|=0,r|=0;var i,f,n=0,t=0,o=0,a=0;for(i=(A|=0)+12|0,f=A+16|0,o=0;!((0|r)<=(0|o));)if((n=0|ar[i>>2])>>>0<(t=0|ar[f>>2])>>>0)Zf(e,n,t=(0|(a=r-o|0))<(0|(t=t-n>>2))?a:t),ar[i>>2]=(0|ar[i>>2])+(t<<2),e=e+(t<<2)|0,o=t+o|0;else{if(-1==(0|(n=0|jb[127&ar[40+(0|ar[A>>2])>>2]](A))))break;a=0|pf(n),ar[e>>2]=a,e=e+4|0,o=o+1|0}return 0|o},function(A,e,r){e|=0,r|=0;var i,f,n=0,t=0,o=0,a=0;for(i=(A|=0)+24|0,f=A+28|0,n=0;!((0|r)<=(0|n));)if((t=0|ar[i>>2])>>>0<(o=0|ar[f>>2])>>>0)Zf(t,e,o=(0|(a=r-n|0))<(0|(o=o-t>>2))?a:o),ar[i>>2]=(0|ar[i>>2])+(o<<2),e=e+(o<<2)|0,n=o+n|0;else{if(o=0|ar[52+(0|ar[A>>2])>>2],a=0|gf(0|ar[e>>2]),-1==(0|Hb[31&o](A,a)))break;e=e+4|0,n=n+1|0}return 0|n},function(A,e,r){A|=0,e|=0,r|=0;var i=0,f=0,n=0;A:do{if(0|tr[A+44>>0])i=0|Ui(e,4,r,0|ar[A+32>>2]);else for(i=0;;){if((0|r)<=(0|i))break A;if(n=0|ar[52+(0|ar[A>>2])>>2],f=0|gf(0|ar[e>>2]),-1==(0|(f=0|Hb[31&n](A,f))))break A;i=i+1|0,e=e+4|0}}while(0);return 0|i},function(A,e,r){A|=0,e|=0,r|=0;var i=0,f=0,n=0;A:do{if(0|tr[A+44>>0])i=0|Ui(e,1,r,0|ar[A+32>>2]);else for(i=0;;){if((0|r)<=(0|i))break A;if(n=0|ar[52+(0|ar[A>>2])>>2],f=0|hf(0|tr[e>>0]),-1==(0|(f=0|Hb[31&n](A,f))))break A;i=i+1|0,e=e+1|0}}while(0);return 0|i},function(A,e,r){A|=0,e|=0,r|=0;var i=0,f=0;for(A=0;(0|e)!=(0|r);)A=((f=-268435456&(i=(0|tr[e>>0])+(A<<4)|0))>>>24|f)^i,e=e+1|0;return 0|A},function(A,e,r){A|=0,e|=0,r|=0;var i=0,f=0;for(A=0;(0|e)!=(0|r);)A=((f=-268435456&(i=(0|ar[e>>2])+(A<<4)|0))>>>24|f)^i,e=e+4|0;return 0|A},function(A,e,r){return r|=0,(r=0|cf((0|tr[(e|=0)+11>>0])<0&&ar[e>>2]))>>>(-1!=(0|r)&1)|0},function(A,e,r){return r|=0,(r=0|cf((0|tr[(e|=0)+11>>0])<0&&ar[e>>2]))>>>(-1!=(0|r)&1)|0},function(A,e,r){for(A|=0,e|=0,r|=0;(0|e)!=(0|r);)-1<(A=0|tr[e>>0])<<24>>24&&(A=0|Tl(),A=255&ar[A+(tr[e>>0]<<2)>>2]),tr[e>>0]=A,e=e+1|0;return 0|r},function(A,e,r){for(A|=0,e|=0,r|=0;(0|e)!=(0|r);)-1<(A=0|tr[e>>0])<<24>>24&&(A=0|Ml(),A=255&ar[A+(tr[e>>0]<<2)>>2]),tr[e>>0]=A,e=e+1|0;return 0|r},function(A,e,r){return r|=0,0|(-1<(e|=0)<<24>>24?e:r)},function(A,e,r){return A|=0,e|=0,0|(A=(r|=0)>>>0<128?(A=(0|Ul())+(r<<1)|0,(or[A>>1]&e)<<16>>16!=0):0)},function(A,e,r){for(A|=0,e|=0,r|=0;(0|e)!=(0|r);)(A=0|ar[e>>2])>>>0<128&&(A=0|Tl(),A=0|ar[A+(ar[e>>2]<<2)>>2]),ar[e>>2]=A,e=e+4|0;return 0|r},function(A,e,r){for(A|=0,e|=0,r|=0;(0|e)!=(0|r);)(A=0|ar[e>>2])>>>0<128&&(A=0|Ml(),A=0|ar[A+(ar[e>>2]<<2)>>2]),ar[e>>2]=A,e=e+4|0;return 0|r},function(A,e,r){return r|=0,0|((e|=0)>>>0<128?255&e:r)},function(A,e,r){r|=0;var i,f,n=0,t=0;if(i=ur=(f=ur)+31&-32,ur=ur+64|0,0|xu(A|=0,e|=0))e=1;else if(0!=(0|e)&&0!=(0|(t=0|qu(e,3960,3944,0)))){for(n=(e=4+i|0)+52|0;(0|(e=e+4|(ar[e>>2]=0)))<(0|n););ar[i>>2]=t,ar[8+i>>2]=A,ar[12+i>>2]=-1,ar[48+i>>2]=1,ts[31&ar[28+(0|ar[t>>2])>>2]](t,i,0|ar[r>>2],1),e=1==(0|ar[24+i>>2])?(ar[r>>2]=ar[16+i>>2],1):0}else e=0;return ur=f,0|e},function(A,e,r){return 0|xu(A|=0,e|=0)},function(A,e,r){A|=0,e|=0;var i,f,n=0,t=0,o=0,a=0;if(i=ur=(f=ur)+31&-32,ur=ur+64|0,ar[(r|=0)>>2]=ar[ar[r>>2]>>2],0|function(A,e){A=0|xu(A|=0,e|=0)?1:0|xu(e,4088);return 0|A}(A,e))A=1;else if(0!=(0|e)&&0!=(0|(n=0|qu(e,3960,4048,0)))&&0==(ar[n+8>>2]&~ar[A+8>>2]|0))if(e=n+12|0,0|xu(0|ar[(A=A+12|0)>>2],0|ar[e>>2])||0|xu(0|ar[A>>2],4080))A=1;else if(0!=(0|(A=0|ar[A>>2]))&&0!=(0|(o=0|qu(A,3960,3944,0)))&&0!=(0|(t=0|ar[e>>2]))&&0!=(0|(a=0|qu(t,3960,3944,0)))){for(e=(A=4+i|0)+52|0;(0|(A=A+4|(ar[A>>2]=0)))<(0|e););ar[i>>2]=a,ar[8+i>>2]=o,ar[12+i>>2]=-1,ar[48+i>>2]=1,ts[31&ar[28+(0|ar[a>>2])>>2]](a,i,0|ar[r>>2],1),A=1==(0|ar[24+i>>2])?(ar[r>>2]=ar[16+i>>2],1):0}else A=0;else A=0;return ur=f,0|A},function(A,e,r){return 0|xu(A|=0,e|=0)},function(A,e,r){A|=0,e|=0;var i,f,n,t,o,a=0;return ur=(o=ur)+32|0,n=o+12|0,t=o,i=(r|=0)+4|0,f=0|ar[r>>2],ar[t>>2]=0,ar[t+4>>2]=0,4294967279<f>>>(ar[t+8>>2]=0)&&pu(),f>>>0<11?(tr[t+11>>0]=f)?(r=t,a=6):r=t:(r=0|hu(a=16+f&-16),ar[t>>2]=r,ar[t+8>>2]=-2147483648|a,ar[t+4>>2]=f,a=6),6==(0|a)&&hb(0|r,0|i,0|f),tr[r+f>>0]=0,ns[127&A](n,e,t),r=0|hu(12),ar[r>>2]=ar[n>>2],ar[r+4>>2]=ar[4+n>>2],ar[r+8>>2]=ar[8+n>>2],ur=(0<=(0|tr[t+11>>0])||vu(0|ar[t>>2]),o),0|r},function(A,e,r){var i,f;return e|=0,r|=0,ur=(i=ur)+16|0,f=i,ns[127&(A|=0)](f,e,r),fA(0|ar[f>>2]),r=0|ar[f>>2],iA(0|r),ur=i,0|r},function(A,e,r){return 0|function(A,e,r){e|=0,r|=0;var i,f,n,t=0;return f=0|ar[(i=(A=A|0)+84|0)>>2],t=0|Rc(f,0,n=r+256|0),hb(0|e,0|f,0|(r=(t=0==(0|t)?n:t-f|0)>>>0<r>>>0?t:r)),ar[A+4>>2]=f+r,e=f+t|0,ar[A+8>>2]=e,ar[i>>2]=e,0|r}(A|=0,e|=0,r|=0)},Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb,Wb],Pb=[function(A,e,r,i){return Z(4),0},function(A,e,r,i){A|=0,r|=0,i|=0;var f,n,t,o=0,a=0,c=0;if(A=0|ar[(e|=0)+4>>2],a=(0|(i=0|ar[e+8>>2]))/(0|ar[r+5784>>2])|0,c=(c=A+-1+(e=0|ar[e+12>>2])|0)-((0|c)%(0|e)|0)|0,e=(A=((0|A)/(0|ar[r+5780>>2])|0)-1+e|0)-((0|A)%(0|e)|0)|0,9<=((A=0|ar[r+5760>>2])+-8|0)>>>0&&sr(36609,36663,115,36672),9<=((o=0|ar[r+5768>>2])+-8|0)>>>0&&sr(36695,36663,116,36672),n=0==(0|(f=0|Wc(16,0|br(0|br(c,i),(A+7|0)/8|0)))),t=f,0|ar[r+20>>2]){if(0==(0|(i=o=0|Wc(16,a=0|br(0|br(e,a),(o+7|0)/8|0))))|0==(0|(A=a=0|Wc(16,a)))|n)return n||Bc(f),0|o&&Bc(o),a&&Bc(a),(r=0)|r}else{if(n)return(r=0)|r;A=i=e=0}return ar[r+4>>2]=t,ar[r+10492>>2]=0,ar[r+40>>2]=c,ar[r+8>>2]=i,ar[r+10496>>2]=0,ar[r+12>>2]=A,ar[r+10500>>2]=0,ar[r+44>>2]=e,0|(r=1)},function(A,e,r,i){for(e|=0,r|=0,i|=0;(0|e)!=(0|r);)tr[i>>0]=0|tr[e>>0],i=i+1|0,e=e+1|0;return 0|r},function(A,e,r,i){for(A|=0,e|=0,r|=0,i|=0;(0|e)!=(0|r);)A=(0|ar[e>>2])>>>0<128?(A=0|Ul(),0|lr[A+(ar[e>>2]<<1)>>1]):0,or[i>>1]=A,i=i+2|0,e=e+4|0;return 0|r},function(A,e,r,i){for(A|=0,e|=0,r|=0,i|=0;;){if((0|r)==(0|i)){r=i;break}if((0|ar[r>>2])>>>0<128&&(A=0|Ul(),(or[A+(ar[r>>2]<<1)>>1]&e)<<16>>16))break;r=r+4|0}return 0|r},function(A,e,r,i){for(A|=0,e|=0,r|=0,i|=0;;){if((0|r)==(0|i)){r=i;break}if(128<=(0|ar[r>>2])>>>0)break;if(A=0|Ul(),!((or[A+(ar[r>>2]<<1)>>1]&e)<<16>>16))break;r=r+4|0}return 0|r},function(A,e,r,i){for(e|=0,r|=0,i|=0;(0|e)!=(0|r);)ar[i>>2]=tr[e>>0],i=i+4|0,e=e+1|0;return 0|r},function(A,e,r,i){var f,n;return e|=0,r|=0,i|=0,ur=(f=ur)+16|0,n=f,ts[31&(A|=0)](n,e,r,i),fA(0|ar[n>>2]),i=0|ar[n>>2],iA(0|i),ur=f,0|i}],Lb=[Ib,function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f=+f;var n,t,o,a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0;return m=ur=(d=ur)+31&-32,ur=ur+176|0,u=m+72|0,o=m+48|0,t=m+32|0,h=m+24|0,k=m+8|0,c=(n=m)+134|0,a=m+68|0,l=m+76|0,s=m+64|0,b=m+60|0,m=m+56|0,ar[(w=n)>>2]=37,w=(ar[w+4>>2]=0)|dr(n+1|0,79659,0|ar[r+4>>2]),ar[a>>2]=c,A=0|dn(),29<(0|(A=w?(ar[k>>2]=ar[r+8>>2],Q[k+8>>3]=f,0|fr(c,30,A,n,k)):(Q[h>>3]=f,0|fr(c,30,A,n,h))))?(A=0|dn(),k=w?(ar[t>>2]=ar[r+8>>2],Q[8+t>>3]=f,0|kr(a,A,n,t)):(Q[o>>3]=f,0|kr(a,A,n,o)),(A=0|ar[a>>2])?(v=k,y=p=A):gu()):(v=A,y=(p=0)|ar[a>>2]),h=0|nr(y,k=y+v|0,r),(0|y)!=(0|c)?(A=0|yc(v<<1))?Z=g=A:gu():(g=l,Z=0),Tf(u,r),hr(y,h,k,g,s,b,u),bn(u),ar[m>>2]=ar[e>>2],e=0|ar[s>>2],y=0|ar[b>>2],ar[u>>2]=ar[m>>2],y=0|PA(u,g,e,y,r,i),Bc(Z),Bc(p),ur=d,0|y},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f=+f;var n,t,o,a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0;return m=ur=(d=ur)+31&-32,ur=ur+176|0,u=m+72|0,o=m+48|0,t=m+32|0,h=m+24|0,k=m+8|0,c=(n=m)+134|0,a=m+68|0,l=m+76|0,s=m+64|0,b=m+60|0,m=m+56|0,ar[(w=n)>>2]=37,w=(ar[w+4>>2]=0)|dr(n+1|0,53897,0|ar[r+4>>2]),ar[a>>2]=c,A=0|dn(),29<(0|(A=w?(ar[k>>2]=ar[r+8>>2],Q[k+8>>3]=f,0|fr(c,30,A,n,k)):(Q[h>>3]=f,0|fr(c,30,A,n,h))))?(A=0|dn(),k=w?(ar[t>>2]=ar[r+8>>2],Q[8+t>>3]=f,0|kr(a,A,n,t)):(Q[o>>3]=f,0|kr(a,A,n,o)),(A=0|ar[a>>2])?(v=k,y=p=A):gu()):(v=A,y=(p=0)|ar[a>>2]),h=0|nr(y,k=y+v|0,r),(0|y)!=(0|c)?(A=0|yc(v<<1))?Z=g=A:gu():(g=l,Z=0),Tf(u,r),hr(y,h,k,g,s,b,u),bn(u),ar[m>>2]=ar[e>>2],e=0|ar[s>>2],y=0|ar[b>>2],ar[u>>2]=ar[m>>2],y=0|PA(u,g,e,y,r,i),Bc(Z),Bc(p),ur=d,0|y},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f=+f;var n,t,o,a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;m=ur=(d=ur)+31&-32,ur=ur+336|0,u=m+300|0,o=m+48|0,t=m+32|0,h=m+24|0,k=m+8|0,c=(n=m)+304|0,a=m+296|0,l=m+68|0,s=m+64|0,b=m+60|0,m=m+56|0,ar[(w=n)>>2]=37,w=(ar[w+4>>2]=0)|dr(n+1|0,79659,0|ar[r+4>>2]),ar[a>>2]=c,A=0|dn(),29<(0|(A=w?(ar[k>>2]=ar[r+8>>2],Q[k+8>>3]=f,0|fr(c,30,A,n,k)):(Q[h>>3]=f,0|fr(c,30,A,n,h))))?(A=0|dn(),k=w?(ar[t>>2]=ar[r+8>>2],Q[8+t>>3]=f,0|kr(a,A,n,t)):(Q[o>>3]=f,0|kr(a,A,n,o)),(A=0|ar[a>>2])?(v=k,Z=y=A):gu()):(v=A,Z=(y=0)|ar[a>>2]),h=0|nr(Z,k=Z+v|0,r);do{if((0|Z)!=(0|c)){if(A=0|yc(v<<3)){p=0,B=g=A;break}gu()}else g=l,p=1,B=0}while(0);return Tf(u,r),Zr(Z,h,k,g,s,b,u),bn(u),ar[m>>2]=ar[e>>2],Z=0|ar[s>>2],A=0|ar[b>>2],ar[u>>2]=ar[m>>2],A=0|mr(u,g,Z,A,r,i),ar[e>>2]=A,p||Bc(B),Bc(y),ur=d,0|A},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f=+f;var n,t,o,a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;m=ur=(d=ur)+31&-32,ur=ur+336|0,u=m+300|0,o=m+48|0,t=m+32|0,h=m+24|0,k=m+8|0,c=(n=m)+304|0,a=m+296|0,l=m+68|0,s=m+64|0,b=m+60|0,m=m+56|0,ar[(w=n)>>2]=37,w=(ar[w+4>>2]=0)|dr(n+1|0,53897,0|ar[r+4>>2]),ar[a>>2]=c,A=0|dn(),29<(0|(A=w?(ar[k>>2]=ar[r+8>>2],Q[k+8>>3]=f,0|fr(c,30,A,n,k)):(Q[h>>3]=f,0|fr(c,30,A,n,h))))?(A=0|dn(),k=w?(ar[t>>2]=ar[r+8>>2],Q[8+t>>3]=f,0|kr(a,A,n,t)):(Q[o>>3]=f,0|kr(a,A,n,o)),(A=0|ar[a>>2])?(v=k,Z=y=A):gu()):(v=A,Z=(y=0)|ar[a>>2]),h=0|nr(Z,k=Z+v|0,r);do{if((0|Z)!=(0|c)){if(A=0|yc(v<<3)){p=0,B=g=A;break}gu()}else g=l,p=1,B=0}while(0);return Tf(u,r),Zr(Z,h,k,g,s,b,u),bn(u),ar[m>>2]=ar[e>>2],Z=0|ar[s>>2],A=0|ar[b>>2],ar[u>>2]=ar[m>>2],A=0|mr(u,g,Z,A,r,i),ar[e>>2]=A,p||Bc(B),Bc(y),ur=d,0|A},Ib,Ib,Ib],Kb=[Cb,function(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n=0,t=0;for(A=e|=0;;){if((0|i)==(0|f)){t=7;break}if((0|A)==(0|r)){A=-1;break}if((e=0|tr[A>>0])<<24>>24<(n=0|tr[i>>0])<<24>>24){A=-1;break}if(n<<24>>24<e<<24>>24){A=1;break}i=i+1|0,A=A+1|0}return 7==(0|t)&&(A=(0|A)!=(0|r)&1),0|A},function(A,e,r,i,f){A|=0,r|=0,i|=0,f|=0;var n=0,t=0;for(A=e|=0;;){if((0|i)==(0|f)){t=7;break}if((0|A)==(0|r)){A=-1;break}if((0|(e=0|ar[A>>2]))<(0|(n=0|ar[i>>2]))){A=-1;break}if((0|n)<(0|e)){A=1;break}i=i+4|0,A=A+4|0}return 7==(0|t)&&(A=(0|A)!=(0|r)&1),0|A},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0;if(o=ur=(t=ur)+31&-32,ur=ur+16|0,n=o+4|0,1&ar[(r|=0)+4>>2]){for(Tf(n,r),A=0|un(n,59248),bn(n),r=0|ar[A>>2],f?fs[63&ar[r+24>>2]](n,A):fs[63&ar[r+28>>2]](n,A),(A=0|tr[(a=11+n|0)>>0])<<24>>24<0?(r=A,A=0|ar[n>>2],c=8):f=n;8==(0|c)&&(f=A,A=r),(0|f)!=(((c=A<<24>>24<0)?0|ar[n>>2]:n)+(c?0|ar[4+n>>2]:255&A)|0);)A=0|tr[f>>0],0|(r=0|ar[e>>2])&&0|Mf(A=(0|(o=0|ar[(i=r+24|0)>>2]))==(0|ar[r+28>>2])?(c=0|ar[52+(0|ar[r>>2])>>2],A=0|hf(A),0|Hb[31&c](r,A)):(ar[i>>2]=o+1,0|hf(tr[o>>0]=A)),-1)&&(ar[e>>2]=0),r=0|tr[a>>0],A=f+1|0,c=8;A=0|ar[e>>2],Bu(n)}else c=0|ar[24+(0|ar[A>>2])>>2],ar[o>>2]=ar[e>>2],ar[n>>2]=ar[o>>2],A=0|Kb[31&c](A,n,r,i,1&f);return ur=t,0|A},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u=0,b=0;return u=ur=(A=ur)+31&-32,ur=ur+64|0,b=(t=u)+52|0,c=u+39|0,n=u+16|0,a=u+12|0,o=u+4|0,u=u+8|0,tr[b>>0]=0|tr[53902],tr[b+1>>0]=0|tr[53903],tr[b+2>>0]=0|tr[53904],tr[b+3>>0]=0|tr[53905],tr[b+4>>0]=0|tr[53906],tr[b+5>>0]=0|tr[53907],wr(b+1|0,53908,1,0|ar[r+4>>2]),l=0|dn(),ar[t>>2]=f,b=0|nr(c,f=c+(0|fr(c,13,l,b,t))|0,r),Tf(t,r),vr(c,b,f,n,a,o,t),bn(t),ar[u>>2]=ar[e>>2],e=0|ar[a>>2],f=0|ar[o>>2],ar[t>>2]=ar[u>>2],f=0|PA(t,n,e,f,r,i),ur=A,0|f},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u=0,b=0;return u=ur=(A=ur)+31&-32,ur=ur+64|0,b=(t=u)+52|0,c=u+40|0,n=u+16|0,a=u+12|0,o=u+4|0,u=u+8|0,tr[b>>0]=0|tr[53902],tr[b+1>>0]=0|tr[53903],tr[b+2>>0]=0|tr[53904],tr[b+3>>0]=0|tr[53905],tr[b+4>>0]=0|tr[53906],tr[b+5>>0]=0|tr[53907],wr(b+1|0,53908,0,0|ar[r+4>>2]),l=0|dn(),ar[t>>2]=f,b=0|nr(c,f=c+(0|fr(c,12,l,b,t))|0,r),Tf(t,r),vr(c,b,f,n,a,o,t),bn(t),ar[u>>2]=ar[e>>2],e=0|ar[a>>2],f=0|ar[o>>2],ar[t>>2]=ar[u>>2],f=0|PA(t,n,e,f,r,i),ur=A,0|f},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0;return u=ur=(A=ur)+31&-32,ur=ur+80|0,l=(o=u)+68|0,n=u+48|0,t=u+8|0,u=u+4|0,tr[l>>0]=0|tr[53891],tr[l+1>>0]=0|tr[53892],tr[l+2>>0]=0|tr[53893],tr[l+3>>0]=0|tr[53894],tr[l+4>>0]=0|tr[53895],tr[l+5>>0]=0|tr[53896],c=0|dn(),ar[o>>2]=f,c=0|nr(n,l=n+(f=0|fr(n,20,c,l,o))|0,r),Tf(o,r),a=0|un(o,59232),bn(o),Pb[7&ar[32+(0|ar[a>>2])>>2]](a,n,l,t),f=t+f|0,ar[u>>2]=ar[e>>2],ar[o>>2]=ar[u>>2],f=0|PA(o,t,(0|c)==(0|l)?f:c-n+t|0,f,r,i),ur=A,0|f},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0;if(o=ur=(t=ur)+31&-32,ur=ur+16|0,n=o+4|0,1&ar[(r|=0)+4>>2]){for(Tf(n,r),A=0|un(n,59272),bn(n),r=0|ar[A>>2],f?fs[63&ar[r+24>>2]](n,A):fs[63&ar[r+28>>2]](n,A),A=0|tr[(a=8+n+3|0)>>0],r=0|ar[n>>2],c=4+n|0,f=A<<24>>24<0?r:n;(0|f)!=(((o=A<<24>>24<0)?r:n)+((o?0|ar[c>>2]:255&A)<<2)|0);)A=0|ar[f>>2],0|(r=0|ar[e>>2])&&0|Uf(A=(0|(o=0|ar[(i=r+24|0)>>2]))==(0|ar[r+28>>2])?(o=0|ar[52+(0|ar[r>>2])>>2],A=0|gf(A),0|Hb[31&o](r,A)):(ar[i>>2]=o+4,0|gf(ar[o>>2]=A)),-1)&&(ar[e>>2]=0),f=f+4|0,A=0|tr[a>>0],r=0|ar[n>>2];A=0|ar[e>>2],Qu(n)}else c=0|ar[24+(0|ar[A>>2])>>2],ar[o>>2]=ar[e>>2],ar[n>>2]=ar[o>>2],A=0|Kb[31&c](A,n,r,i,1&f);return ur=t,0|A},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u=0,b=0;return u=ur=(A=ur)+31&-32,ur=ur+128|0,b=(t=u)+122|0,c=u+108|0,n=u+16|0,a=u+12|0,o=u+4|0,u=u+8|0,tr[b>>0]=0|tr[53902],tr[b+1>>0]=0|tr[53903],tr[b+2>>0]=0|tr[53904],tr[b+3>>0]=0|tr[53905],tr[b+4>>0]=0|tr[53906],tr[b+5>>0]=0|tr[53907],wr(b+1|0,53908,1,0|ar[r+4>>2]),l=0|dn(),ar[t>>2]=f,b=0|nr(c,f=c+(0|fr(c,13,l,b,t))|0,r),Tf(t,r),pr(c,b,f,n,a,o,t),bn(t),ar[u>>2]=ar[e>>2],e=0|ar[a>>2],f=0|ar[o>>2],ar[t>>2]=ar[u>>2],f=0|mr(t,n,e,f,r,i),ur=A,0|f},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u=0,b=0;return u=ur=(A=ur)+31&-32,ur=ur+128|0,b=(t=u)+112|0,c=u+100|0,n=u+16|0,a=u+12|0,o=u+4|0,u=u+8|0,tr[b>>0]=0|tr[53902],tr[b+1>>0]=0|tr[53903],tr[b+2>>0]=0|tr[53904],tr[b+3>>0]=0|tr[53905],tr[b+4>>0]=0|tr[53906],tr[b+5>>0]=0|tr[53907],wr(b+1|0,53908,0,0|ar[r+4>>2]),l=0|dn(),ar[t>>2]=f,b=0|nr(c,f=c+(0|fr(c,12,l,b,t))|0,r),Tf(t,r),pr(c,b,f,n,a,o,t),bn(t),ar[u>>2]=ar[e>>2],e=0|ar[a>>2],f=0|ar[o>>2],ar[t>>2]=ar[u>>2],f=0|mr(t,n,e,f,r,i),ur=A,0|f},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0;return u=ur=(A=ur)+31&-32,ur=ur+192|0,l=(o=u)+176|0,n=u+156|0,t=u+4|0,u=u+152|0,tr[l>>0]=0|tr[53891],tr[l+1>>0]=0|tr[53892],tr[l+2>>0]=0|tr[53893],tr[l+3>>0]=0|tr[53894],tr[l+4>>0]=0|tr[53895],tr[l+5>>0]=0|tr[53896],c=0|dn(),ar[o>>2]=f,c=0|nr(n,l=n+(f=0|fr(n,20,c,l,o))|0,r),Tf(o,r),a=0|un(o,59264),bn(o),Pb[7&ar[48+(0|ar[a>>2])>>2]](a,n,l,t),f=t+(f<<2)|0,ar[u>>2]=ar[e>>2],ar[o>>2]=ar[u>>2],f=0|mr(o,t,(0|c)==(0|l)?f:t+(c-n<<2)|0,f,r,i),ur=A,0|f},function(A,e,r,i,f){return r|=0,ar[(f|=0)>>2]=r,3},function(A,e,r,i,f){return 0|function(A,e,r,i,f){r|=0,i|=0;var n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0;2<((n=e|=0)-(t=A|=0)|0)&0!=(4&(f|=0)|0)&&-17==(0|tr[A>>0])&&-69==(0|tr[A+1>>0])?A=-65==((s=0)|tr[A+2>>0])?A+3|0:A:s=0;A:for(;;){if(!(s>>>0<r>>>0&A>>>0<e>>>0)){0;break}l=0|tr[A>>0],b=255&l,o=A+1|0;do{if(-1<l<<24>>24){if(i>>>0<b>>>0){0;break A}A=o}else{if((255&l)<194){0;break A}if(a=A+2|0,f=n-(u=A)|0,(255&l)<224){if((0|f)<2){0;break A}if(128!=(192&(f=0|cr[o>>0])|0)){0;break A}if(i>>>0<(63&f|b<<6&1984)>>>0){0;break A}A=a;break}if(c=A+3|0,(255&l)<240){if((0|f)<3){0;break A}switch(a=0|tr[a>>0],o=0|cr[o>>0],f=224&o,l<<24>>24){case-32:if(160==(0|f))break;A=u;break A;case-19:if(128==(0|f))break;A=u;break A;default:if(128!=(192&o|0)){A=u;break A}}if(128!=(192&(f=255&a)|0)){0;break A}if(i>>>0<(o<<6&4032|b<<12&61440|63&f)>>>0){0;break A}A=c;break}if((0|f)<4|244<(255&l)){0;break A}switch(o=0|tr[o>>0],f=0|tr[a>>0],a=0|tr[c>>0],c=255&o,l<<24>>24){case-16:if(48<=(o+112&255)){A=u;break A}break;case-12:if(128==(240&c|0))break;A=u;break A;default:if(128!=(192&c|0)){A=u;break A}}if(128!=(192&(o=255&f)|0)){0;break A}if(128!=(192&(f=255&a)|0)){0;break A}if(i>>>0<(c<<12&258048|b<<18&1835008|o<<6&4032|63&f)>>>0){0;break A}A=A+4|0}}while(0);s=s+1|0}return A-t|0}(r|=0,i|=0,f|=0,1114111,0)},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0;var n,t=0;t=ur=(n=ur)+31&-32,ur=ur+16|0,ar[(f|=0)>>2]=r,r=0|rf(0|ar[A+8>>2]),A=0|$c(t,0),0|r&&rf(r);A:do{switch(0|A){case 0:case-1:A=2;break;default:if((A=A+-1|0)>>>0>(i-(0|ar[f>>2])|0)>>>0)A=1;else for(;;){if(!A){A=0;break A}e=0|tr[t>>0],i=0|ar[f>>2],ar[f>>2]=i+1,tr[i>>0]=e,t=t+1|0,A=A+-1|0}}}while(0);return ur=n,0|A},function(A,e,r,i,f){e|=0,r|=0,f|=0;var n,t,o,a,c,l=0,u=0,b=0;t=i|=0,n=(A|=0)+8|0,b=u=0;A:for(;!((0|r)==(0|i)|f>>>0<=u>>>0);){switch(l=0|rf(0|ar[n>>2]),A=0|(a=t-(o=r)|0,c=e,0|Gi(0,o|=0,a|=0,0|(c|=0)?c:58156)),0|l&&rf(l),0|A){case-2:case-1:break A;case 0:A=1}u=u+1|0,b=A+b|0,r=r+A|0}return 0|b},function(A,e,r,i,f){for(A|=0,e|=0,r|=0,i|=0,f|=0;(0|e)!=(0|r);)A=0|tr[e>>0],tr[f>>0]=-1<A<<24>>24?A:i,f=f+1|0,e=e+1|0;return 0|r},function(A,e,r,i,f){A|=0,i|=0;var n,t=0;for(n=((r|=0)-(e|=0)|0)>>>2,A=f|=0,f=e;(0|f)!=(0|r);)t=0|ar[f>>2],tr[A>>0]=t>>>0<128?255&t:i,A=A+1|0,f=f+4|0;return e+(n<<2)|0},function(A,e,r,i,f){return r|=0,ar[(f|=0)>>2]=r,3},function(A,e,r,i,f){return 0|((i=(i|=0)-(r|=0)|0)>>>0<(f|=0)>>>0?i:f)},function(A,e,r,i,f){return r|=0,ar[(f|=0)>>2]=r,3},function(A,e,r,i,f){return 0|function(A,e,r,i,f){r|=0,i|=0;var n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0;2<((n=e|=0)-(t=A|=0)|0)&0!=(4&(f|=0)|0)&&-17==(0|tr[A>>0])&&-69==(0|tr[A+1>>0])?A=-65==((d=0)|tr[A+2>>0])?A+3|0:A:d=0;A:for(;;){if(!(d>>>0<r>>>0&A>>>0<e>>>0)){0;break}if(l=0|tr[A>>0],i>>>0<(s=255&l)>>>0){0;break}a=A+1|0;do{if(l<<24>>24<=-1){if((255&l)<194){0;break A}if(c=A+2|0,f=n-(u=A)|0,(255&l)<224){if((0|f)<2){0;break A}if(128!=(192&(f=0|cr[a>>0])|0)){0;break A}if(i>>>0<(63&f|s<<6&1984)>>>0){0;break A}f=d,A=c;break}if(b=A+3|0,(255&l)<240){if((0|f)<3){0;break A}switch(o=0|tr[c>>0],a=0|cr[a>>0],f=224&a,l<<24>>24){case-32:if(160==(0|f))break;A=u;break A;case-19:if(128==(0|f))break;A=u;break A;default:if(128!=(192&a|0)){A=u;break A}}if(128!=(192&(f=255&o)|0)){0;break A}if(i>>>0<(a<<6&4032|s<<12&61440|63&f)>>>0){0;break A}f=d,A=b;break}if(245<=(255&l)){0;break A}if((r-d|0)>>>0<2|(0|f)<4){0;break A}switch(o=0|tr[a>>0],f=0|tr[c>>0],a=0|tr[b>>0],c=255&o,l<<24>>24){case-16:if(48<=(o+112&255)){A=u;break A}break;case-12:if(128==(240&c|0))break;A=u;break A;default:if(128!=(192&c|0)){A=u;break A}}if(128!=(192&(o=255&f)|0)){0;break A}if(128!=(192&(f=255&a)|0)){0;break A}if(i>>>0<(c<<12&258048|s<<18&1835008|o<<6&4032|63&f)>>>0){0;break A}f=d+1|0,A=A+4|0}else f=d,A=a}while(0);d=f+1|0}return A-t|0}(r|=0,i|=0,f|=0,1114111,0)},Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb],qb=[Gb,function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n=+n;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0;for(B=ur=(m=ur)+31&-32,ur=ur+384|0,c=B+8|0,A=(Z=B)+284|0,p=B+72|0,g=B+184|0,v=B+68|0,l=B+180|0,u=B+177|0,b=B+176|0,k=B+56|0,h=B+44|0,w=B+32|0,o=B+28|0,a=B+76|0,s=B+24|0,d=B+16|0,B=B+20|0,ar[p>>2]=A,Q[c>>3]=n,99<(A=0|_c(A,100,55168,c))>>>0?(A=0|dn(),Q[Z>>3]=n,A=0|kr(p,A,55168,Z),(g=0|ar[p>>2])||gu(),(Z=0|yc(A))?(W=A,C=E=Z,G=g):gu()):(E=g,W=A,G=C=0),Tf(v,i),t=0|un(v,59232),y=0|ar[p>>2],Pb[7&ar[32+(0|ar[t>>2])>>2]](t,y,y+W|0,E),y=W?45==(0|tr[ar[p>>2]>>0]):0,ar[k>>2]=0,ar[4+k>>2]=0,A=ar[8+k>>2]=0;3!=(0|A);)A=A+1|(ar[k+(A<<2)>>2]=0);for(ar[h>>2]=0,ar[4+h>>2]=0,A=ar[8+h>>2]=0;3!=(0|A);)A=A+1|(ar[h+(A<<2)>>2]=0);for(ar[w>>2]=0,ar[4+w>>2]=0,A=ar[8+w>>2]=0;3!=(0|A);)A=A+1|(ar[w+(A<<2)>>2]=0);return ki(r,y,v,l,u,b,k,h,w,o),100<(A=(Z=(0|(p=0|ar[o>>2]))<(0|W)?(g=0|tr[11+w>>0],Z=0|tr[11+h>>0],A=1,g=(g<<24>>24<0?0|ar[4+w>>2]:255&g)+(W-p<<1)|0,Z<<24>>24<0?0|ar[4+h>>2]:255&Z):(Z=0|tr[11+w>>0],A=2,g=(g=0|tr[11+h>>0])<<24>>24<0?0|ar[4+h>>2]:255&g,Z<<24>>24<0?0|ar[4+w>>2]:255&Z))+p+g+A|0)>>>0?(A=0|yc(A))?I=X=A:gu():(X=a,I=0),hi(X,s,d,0|ar[i+4>>2],E,E+W|0,t,y,l,0|tr[u>>0],0|tr[b>>0],k,h,w,p),ar[B>>2]=ar[e>>2],e=0|ar[s>>2],A=0|ar[d>>2],ar[c>>2]=ar[B>>2],A=0|PA(c,X,e,A,i,f),0|I&&Bc(I),Bu(w),Bu(h),Bu(k),bn(v),0|C&&Bc(C),0|G&&Bc(G),ur=m,0|A},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n=+n;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0;for(B=ur=(m=ur)+31&-32,ur=ur+1008|0,c=B+8|0,A=(Z=B)+896|0,p=B+888|0,g=B+488|0,v=B+480|0,l=B+892|0,u=B+476|0,b=B+472|0,k=B+460|0,h=B+448|0,w=B+436|0,o=B+432|0,a=B+32|0,s=B+24|0,d=B+16|0,B=B+20|0,ar[p>>2]=A,Q[c>>3]=n,99<(A=0|_c(A,100,55168,c))>>>0?(A=0|dn(),Q[Z>>3]=n,A=0|kr(p,A,55168,Z),(g=0|ar[p>>2])||gu(),(Z=0|yc(A<<2))?(W=A,C=E=Z,G=g):gu()):(E=g,W=A,G=C=0),Tf(v,i),t=0|un(v,59264),y=0|ar[p>>2],Pb[7&ar[48+(0|ar[t>>2])>>2]](t,y,y+W|0,E),y=W?45==(0|tr[ar[p>>2]>>0]):0,ar[k>>2]=0,ar[4+k>>2]=0,A=ar[8+k>>2]=0;3!=(0|A);)A=A+1|(ar[k+(A<<2)>>2]=0);for(ar[h>>2]=0,ar[4+h>>2]=0,A=ar[8+h>>2]=0;3!=(0|A);)A=A+1|(ar[h+(A<<2)>>2]=0);for(ar[w>>2]=0,ar[4+w>>2]=0,A=ar[8+w>>2]=0;3!=(0|A);)A=A+1|(ar[w+(A<<2)>>2]=0);return _l(r,y,v,l,u,b,k,h,w,o),100<(A=(Z=(0|(p=0|ar[o>>2]))<(0|W)?(g=0|tr[8+w+3>>0],Z=0|tr[8+h+3>>0],A=1,g=(g<<24>>24<0?0|ar[4+w>>2]:255&g)+(W-p<<1)|0,Z<<24>>24<0?0|ar[4+h>>2]:255&Z):(Z=0|tr[8+w+3>>0],A=2,g=(g=0|tr[8+h+3>>0])<<24>>24<0?0|ar[4+h>>2]:255&g,Z<<24>>24<0?0|ar[4+w>>2]:255&Z))+p+g+A|0)>>>0?(A=0|yc(A<<2))?I=X=A:gu():(X=a,I=0),Yl(X,s,d,0|ar[i+4>>2],E,E+(W<<2)|0,t,y,l,0|ar[u>>2],0|ar[b>>2],k,h,w,p),ar[B>>2]=ar[e>>2],e=0|ar[s>>2],A=0|ar[d>>2],ar[c>>2]=ar[B>>2],A=0|mr(c,X,e,A,i,f),0|I&&Bc(I),Qu(w),Qu(h),Bu(k),bn(v),0|C&&Bc(C),0|G&&Bc(G),ur=m,0|A},Gb],$b=[Vb,function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c=0,l=0,u=0,b=0;if(u=ur=(a=ur)+31&-32,ur=ur+48|0,c=u+40|0,b=u+16|0,t=u+8|0,o=u+12|0,l=u+4|0,1&ar[(i|=0)+4>>2])for(Tf(c,i),l=0|un(c,59232),bn(c),Tf(c,i),A=0|un(c,59248),bn(c),fs[63&ar[24+(0|ar[A>>2])>>2]](b,A),fs[63&ar[28+(0|ar[A>>2])>>2]](b+12|0,A),ar[u>>2]=ar[r>>2],A=b+24|0,ar[c>>2]=ar[u>>2],c=(0|Vn(e,c,b,A,l,f,1))==(0|b)&1,tr[n>>0]=c,c=0|ar[e>>2];Bu(A=A+-12|0),(0|A)!=(0|b););else{switch(ar[t>>2]=-1,u=0|ar[16+(0|ar[A>>2])>>2],ar[o>>2]=ar[e>>2],ar[l>>2]=ar[r>>2],ar[b>>2]=ar[o>>2],ar[c>>2]=ar[l>>2],b=0|$b[63&u](A,b,c,i,f,t),ar[e>>2]=b,0|ar[t>>2]){case 0:tr[n>>0]=0;break;case 1:tr[n>>0]=1;break;default:tr[n>>0]=1,ar[f>>2]=4}c=0|ar[e>>2]}return ur=a,0|c},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+224|0,c=y+198|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),Bn(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|sn(255&(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|hf(0|tr[i>>0])),s,A,l,y,0|tr[p>>0],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+1,hf(0|tr[i>>0]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|Gn(A,0|ar[l>>2],f,s),ar[n>>2]=B,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Mf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+224|0,c=y+198|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),Bn(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|sn(255&(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|hf(0|tr[i>>0])),s,A,l,y,0|tr[p>>0],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+1,hf(0|tr[i>>0]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|Cn(A,0|ar[l>>2],f,s),ar[n>>2]=B,ar[n+4>>2]=D,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Mf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+224|0,c=y+198|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),Bn(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|sn(255&(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|hf(0|tr[i>>0])),s,A,l,y,0|tr[p>>0],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+1,hf(0|tr[i>>0]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|In(A,0|ar[l>>2],f,s),or[n>>1]=B,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Mf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+224|0,c=y+198|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),Bn(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|sn(255&(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|hf(0|tr[i>>0])),s,A,l,y,0|tr[p>>0],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+1,hf(0|tr[i>>0]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|Wn(A,0|ar[l>>2],f,s),ar[n>>2]=B,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Mf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+224|0,c=y+198|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),Bn(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|sn(255&(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|hf(0|tr[i>>0])),s,A,l,y,0|tr[p>>0],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+1,hf(0|tr[i>>0]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|Xn(A,0|ar[l>>2],f,s),ar[n>>2]=B,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Mf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+224|0,c=y+198|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),Bn(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Mf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|sn(255&(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|hf(0|tr[i>>0])),s,A,l,y,0|tr[p>>0],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+1,hf(0|tr[i>>0]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|En(A,0|ar[l>>2],f,s),ar[n>>2]=B,ar[n+4>>2]=D,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Mf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;B=ur=(w=ur)+31&-32,ur=ur+240|0,c=B+200|0,l=B+199|0,E=B+198|0,h=B+184|0,k=B+172|0,u=B+168|0,b=B+8|0,s=B+4|0,X=(d=B)+197|0,B=B+196|0,wn(h,i|=0,c,l,E),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A,ar[s>>2]=b,ar[d>>2]=0,tr[X>>0]=1,tr[B>>0]=69,t=4+k|0,g=0|ar[e>>2],m=g;A:for(;;){Z=m?0|Mf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,g=y=0,1):(y=m,0):(g=y=0,1),m=0|ar[r>>2];do{if(m){if(0|Mf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,I=19;break}if(Z)break;break A}I=19}while(0);if(19==(0|I)){if(I=0,Z){m=0;break}m=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[u>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A+i),0|vn(255&(i=(0|(i=0|ar[(Z=y+12|0)>>2]))==(0|ar[(p=y+16|0)>>2])?0|jb[127&ar[36+(0|ar[y>>2])>>2]](y):0|hf(0|tr[i>>0])),X,B,A,u,0|tr[l>>0],0|tr[E>>0],h,b,s,d,c))break;(0|(i=0|ar[Z>>2]))!=(0|ar[p>>2])?(ar[Z>>2]=i+1,hf(0|tr[i>>0]),m=y):(jb[127&ar[40+(0|ar[y>>2])>>2]](y),m=y)}E=0|tr[11+h>>0],0!=(0|tr[X>>0])&&0!=(0|(E<<24>>24<0?0|ar[4+h>>2]:255&E))&&((W=0|ar[s>>2])-b|0)<160&&(X=0|ar[d>>2],ar[s>>2]=W+4,ar[W>>2]=X);v=+pn(A,0|ar[u>>2],f),gA[n>>2]=v,gn(h,b,0|ar[s>>2],f),i=y?(A=(0|(A=0|ar[y+12>>2]))==(0|ar[y+16>>2])?0|jb[127&ar[36+(0|ar[g>>2])>>2]](y):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(m){if(0|Mf(A=(0|(A=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,I=47;break}if(i)break;I=49;break}I=47}while(0);47==(0|I)&&i&&(I=49);49==(0|I)&&(ar[f>>2]=2|ar[f>>2]);return I=0|ar[e>>2],Bu(k),Bu(h),ur=w,0|I}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;B=ur=(w=ur)+31&-32,ur=ur+240|0,c=B+200|0,l=B+199|0,E=B+198|0,h=B+184|0,k=B+172|0,u=B+168|0,b=B+8|0,s=B+4|0,X=(d=B)+197|0,B=B+196|0,wn(h,i|=0,c,l,E),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A,ar[s>>2]=b,ar[d>>2]=0,tr[X>>0]=1,tr[B>>0]=69,t=4+k|0,g=0|ar[e>>2],m=g;A:for(;;){Z=m?0|Mf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,g=y=0,1):(y=m,0):(g=y=0,1),m=0|ar[r>>2];do{if(m){if(0|Mf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,I=19;break}if(Z)break;break A}I=19}while(0);if(19==(0|I)){if(I=0,Z){m=0;break}m=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[u>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A+i),0|vn(255&(i=(0|(i=0|ar[(Z=y+12|0)>>2]))==(0|ar[(p=y+16|0)>>2])?0|jb[127&ar[36+(0|ar[y>>2])>>2]](y):0|hf(0|tr[i>>0])),X,B,A,u,0|tr[l>>0],0|tr[E>>0],h,b,s,d,c))break;(0|(i=0|ar[Z>>2]))!=(0|ar[p>>2])?(ar[Z>>2]=i+1,hf(0|tr[i>>0]),m=y):(jb[127&ar[40+(0|ar[y>>2])>>2]](y),m=y)}E=0|tr[11+h>>0],0!=(0|tr[X>>0])&&0!=(0|(E<<24>>24<0?0|ar[4+h>>2]:255&E))&&((W=0|ar[s>>2])-b|0)<160&&(X=0|ar[d>>2],ar[s>>2]=W+4,ar[W>>2]=X);v=+Zn(A,0|ar[u>>2],f),Q[n>>3]=v,gn(h,b,0|ar[s>>2],f),i=y?(A=(0|(A=0|ar[y+12>>2]))==(0|ar[y+16>>2])?0|jb[127&ar[36+(0|ar[g>>2])>>2]](y):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(m){if(0|Mf(A=(0|(A=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,I=47;break}if(i)break;I=49;break}I=47}while(0);47==(0|I)&&i&&(I=49);49==(0|I)&&(ar[f>>2]=2|ar[f>>2]);return I=0|ar[e>>2],Bu(k),Bu(h),ur=w,0|I}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;B=ur=(w=ur)+31&-32,ur=ur+240|0,c=B+200|0,l=B+199|0,E=B+198|0,h=B+184|0,k=B+172|0,u=B+168|0,b=B+8|0,s=B+4|0,X=(d=B)+197|0,B=B+196|0,wn(h,i|=0,c,l,E),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A,ar[s>>2]=b,ar[d>>2]=0,tr[X>>0]=1,tr[B>>0]=69,t=4+k|0,g=0|ar[e>>2],m=g;A:for(;;){Z=m?0|Mf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[i>>0]),-1)?(ar[e>>2]=0,g=y=0,1):(y=m,0):(g=y=0,1),m=0|ar[r>>2];do{if(m){if(0|Mf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,I=19;break}if(Z)break;break A}I=19}while(0);if(19==(0|I)){if(I=0,Z){m=0;break}m=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[u>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A+i),0|vn(255&(i=(0|(i=0|ar[(Z=y+12|0)>>2]))==(0|ar[(p=y+16|0)>>2])?0|jb[127&ar[36+(0|ar[y>>2])>>2]](y):0|hf(0|tr[i>>0])),X,B,A,u,0|tr[l>>0],0|tr[E>>0],h,b,s,d,c))break;(0|(i=0|ar[Z>>2]))!=(0|ar[p>>2])?(ar[Z>>2]=i+1,hf(0|tr[i>>0]),m=y):(jb[127&ar[40+(0|ar[y>>2])>>2]](y),m=y)}E=0|tr[11+h>>0],0!=(0|tr[X>>0])&&0!=(0|(E<<24>>24<0?0|ar[4+h>>2]:255&E))&&((W=0|ar[s>>2])-b|0)<160&&(X=0|ar[d>>2],ar[s>>2]=W+4,ar[W>>2]=X);v=+mn(A,0|ar[u>>2],f),Q[n>>3]=v,gn(h,b,0|ar[s>>2],f),i=y?(A=(0|(A=0|ar[y+12>>2]))==(0|ar[y+16>>2])?0|jb[127&ar[36+(0|ar[g>>2])>>2]](y):0|hf(0|tr[A>>0]),0|Mf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(m){if(0|Mf(A=(0|(A=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,I=47;break}if(i)break;I=49;break}I=47}while(0);47==(0|I)&&i&&(I=49);49==(0|I)&&(ar[f>>2]=2|ar[f>>2]);return I=0|ar[e>>2],Bu(k),Bu(h),ur=w,0|I}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0;for(g=ur=(d=ur)+31&-32,ur=ur+240|0,Z=(u=g)+204|0,b=g+192|0,s=g+180|0,p=g+176|0,c=g+16|0,l=g+8|0,g=g+4|0,ar[b>>2]=0,ar[4+b>>2]=0,A=ar[8+b>>2]=0;3!=(0|A);)A=A+1|(ar[b+(A<<2)>>2]=0);for(Tf(s,i),A=0|un(s,59232),Pb[7&ar[32+(0|ar[A>>2])>>2]](A,53648,53674,Z),bn(s),ar[s>>2]=0,ar[4+s>>2]=0,A=ar[8+s>>2]=0;3!=(0|A);)A=A+1|(ar[s+(A<<2)>>2]=0);o=8+s|0,Vu(s,A=(0|tr[(a=11+s|0)>>0])<0?(2147483647&ar[o>>2])-1|0:10,0),A=(0|tr[a>>0])<0?0|ar[s>>2]:s,ar[p>>2]=A,ar[l>>2]=c,t=4+s|(ar[g>>2]=0),k=h=0|ar[e>>2];A:for(;;){w=k?0|Mf(i=(0|(i=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|hf(0|tr[i>>0]),-1)?(h=m=ar[e>>2]=0,1):(m=k,0):(h=m=0,1),k=0|ar[r>>2];do{if(k){if(0|Mf(i=(0|(i=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,y=22;break}if(w)break;break A}y=22}while(0);if(22==(0|y)){if(y=0,w){k=0;break}k=0}if(i=(i=0|tr[a>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[p>>2])==(A+i|0)&&(Vu(s,i<<1,0),Vu(s,A=(0|tr[a>>0])<0?(2147483647&ar[o>>2])-1|0:10,0),A=(0|tr[a>>0])<0?0|ar[s>>2]:s,ar[p>>2]=A+i),0|sn(255&(i=(0|(i=0|ar[(w=m+12|0)>>2]))==(0|ar[(v=m+16|0)>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|hf(0|tr[i>>0])),16,A,p,g,0,b,c,l,Z))break;(0|(i=0|ar[w>>2]))!=(0|ar[v>>2])?(ar[w>>2]=i+1,hf(0|tr[i>>0]),k=m):(jb[127&ar[40+(0|ar[m>>2])>>2]](m),k=m)}Vu(s,(0|ar[p>>2])-A|0,0),Z=(0|tr[a>>0])<0?0|ar[s>>2]:s,p=0|dn(),ar[u>>2]=n,1!=(0|kn(Z,p,53681,u))&&(ar[f>>2]=4),i=m?0|Mf(A=(0|(A=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[h>>2])>>2]](m):0|hf(0|tr[A>>0]),-1)?(ar[e>>2]=0,1):0:1;do{if(k){if(0|Mf(A=(0|(A=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,y=49;break}if(i)break;y=51;break}y=49}while(0);return 49==(0|y)&&i&&(y=51),51==(0|y)&&(ar[f>>2]=2|ar[f>>2]),y=0|ar[e>>2],Bu(s),Bu(b),ur=d,0|y},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c=0,l=0,u=0,b=0;if(u=ur=(a=ur)+31&-32,ur=ur+48|0,c=u+40|0,b=u+16|0,t=u+8|0,o=u+12|0,l=u+4|0,1&ar[(i|=0)+4>>2])for(Tf(c,i),l=0|un(c,59264),bn(c),Tf(c,i),A=0|un(c,59272),bn(c),fs[63&ar[24+(0|ar[A>>2])>>2]](b,A),fs[63&ar[28+(0|ar[A>>2])>>2]](b+12|0,A),ar[u>>2]=ar[r>>2],A=b+24|0,ar[c>>2]=ar[u>>2],c=(0|ir(e,c,b,A,l,f,1))==(0|b)&1,tr[n>>0]=c,c=0|ar[e>>2];Qu(A=A+-12|0),(0|A)!=(0|b););else{switch(ar[t>>2]=-1,u=0|ar[16+(0|ar[A>>2])>>2],ar[o>>2]=ar[e>>2],ar[l>>2]=ar[r>>2],ar[b>>2]=ar[o>>2],ar[c>>2]=ar[l>>2],b=0|$b[63&u](A,b,c,i,f,t),ar[e>>2]=b,0|ar[t>>2]){case 0:tr[n>>0]=0;break;case 1:tr[n>>0]=1;break;default:tr[n>>0]=1,ar[f>>2]=4}c=0|ar[e>>2]}return ur=a,0|c},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;for(y=ur=(h=ur)+31&-32,ur=ur+304|0,c=y+200|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),_n(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,A=ar[8+k>>2]=0;3!=(0|A);)A=A+1|(ar[k+(A<<2)>>2]=0);a=8+k|0,Vu(k,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,t=4+k|(ar[y>>2]=0),w=v=0|ar[e>>2];A:for(;;){m=w?0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)?(v=Z=ar[e>>2]=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),Vu(k,A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|Fn(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|gf(0|ar[i>>2]),s,A,l,y,0|ar[p>>2],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+4,gf(0|ar[i>>2]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y),B=0|Gn(A,0|ar[l>>2],f,s),ar[n>>2]=B,gn(d,u,0|ar[b>>2],f),i=Z?0|Uf(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|gf(0|ar[A>>2]),-1)?(ar[e>>2]=0,1):0:1;do{if(w){if(0|Uf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);return 47==(0|E)&&i&&(E=49),49==(0|E)&&(ar[f>>2]=2|ar[f>>2]),E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;for(y=ur=(h=ur)+31&-32,ur=ur+304|0,c=y+200|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),_n(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,A=ar[8+k>>2]=0;3!=(0|A);)A=A+1|(ar[k+(A<<2)>>2]=0);a=8+k|0,Vu(k,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,t=4+k|(ar[y>>2]=0),w=v=0|ar[e>>2];A:for(;;){m=w?0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)?(v=Z=ar[e>>2]=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),Vu(k,A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|Fn(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|gf(0|ar[i>>2]),s,A,l,y,0|ar[p>>2],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+4,gf(0|ar[i>>2]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y),B=0|Cn(A,0|ar[l>>2],f,s),ar[n>>2]=B,ar[n+4>>2]=D,gn(d,u,0|ar[b>>2],f),i=Z?0|Uf(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|gf(0|ar[A>>2]),-1)?(ar[e>>2]=0,1):0:1;do{if(w){if(0|Uf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);return 47==(0|E)&&i&&(E=49),49==(0|E)&&(ar[f>>2]=2|ar[f>>2]),E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;for(y=ur=(h=ur)+31&-32,ur=ur+304|0,c=y+200|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),_n(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,A=ar[8+k>>2]=0;3!=(0|A);)A=A+1|(ar[k+(A<<2)>>2]=0);a=8+k|0,Vu(k,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,t=4+k|(ar[y>>2]=0),w=v=0|ar[e>>2];A:for(;;){m=w?0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)?(v=Z=ar[e>>2]=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),Vu(k,A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|Fn(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|gf(0|ar[i>>2]),s,A,l,y,0|ar[p>>2],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+4,gf(0|ar[i>>2]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y),B=0|In(A,0|ar[l>>2],f,s),or[n>>1]=B,gn(d,u,0|ar[b>>2],f),i=Z?0|Uf(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|gf(0|ar[A>>2]),-1)?(ar[e>>2]=0,1):0:1;do{if(w){if(0|Uf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);return 47==(0|E)&&i&&(E=49),49==(0|E)&&(ar[f>>2]=2|ar[f>>2]),E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+304|0,c=y+200|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),_n(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|Fn(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|gf(0|ar[i>>2]),s,A,l,y,0|ar[p>>2],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+4,gf(0|ar[i>>2]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|Wn(A,0|ar[l>>2],f,s),ar[n>>2]=B,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|gf(0|ar[A>>2]),0|Uf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Uf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+304|0,c=y+200|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),_n(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|Fn(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|gf(0|ar[i>>2]),s,A,l,y,0|ar[p>>2],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+4,gf(0|ar[i>>2]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|Xn(A,0|ar[l>>2],f,s),ar[n>>2]=B,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|gf(0|ar[A>>2]),0|Uf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Uf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;y=ur=(h=ur)+31&-32,ur=ur+304|0,c=y+200|0,p=y+196|0,d=y+184|0,k=y+172|0,l=y+168|0,u=y+8|0,b=y+4|0,s=0|yn(i|=0),_n(d,i,c,p),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A,ar[b>>2]=u,ar[y>>2]=0,t=4+k|0,v=0|ar[e>>2],w=v;A:for(;;){m=w?0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)?(ar[e>>2]=0,v=Z=0,1):(Z=w,0):(v=Z=0,1),w=0|ar[r>>2];do{if(w){if(0|Uf(i=(0|(i=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,E=19;break}if(m)break;break A}E=19}while(0);if(19==(0|E)){if(E=0,m){w=0;break}w=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[l>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[l>>2]=A+i),0|Fn(i=(0|(i=0|ar[(m=Z+12|0)>>2]))==(0|ar[(g=Z+16|0)>>2])?0|jb[127&ar[36+(0|ar[Z>>2])>>2]](Z):0|gf(0|ar[i>>2]),s,A,l,y,0|ar[p>>2],d,u,b,c))break;(0|(i=0|ar[m>>2]))!=(0|ar[g>>2])?(ar[m>>2]=i+4,gf(0|ar[i>>2]),w=Z):(jb[127&ar[40+(0|ar[Z>>2])>>2]](Z),w=Z)}0|((p=0|tr[11+d>>0])<<24>>24<0?0|ar[4+d>>2]:255&p)&&((B=0|ar[b>>2])-u|0)<160&&(y=0|ar[y>>2],ar[b>>2]=B+4,ar[B>>2]=y);B=0|En(A,0|ar[l>>2],f,s),ar[n>>2]=B,ar[n+4>>2]=D,gn(d,u,0|ar[b>>2],f),i=Z?(A=(0|(A=0|ar[Z+12>>2]))==(0|ar[Z+16>>2])?0|jb[127&ar[36+(0|ar[v>>2])>>2]](Z):0|gf(0|ar[A>>2]),0|Uf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(w){if(0|Uf(A=(0|(A=0|ar[w+12>>2]))==(0|ar[w+16>>2])?0|jb[127&ar[36+(0|ar[w>>2])>>2]](w):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,E=47;break}if(i)break;E=49;break}E=47}while(0);47==(0|E)&&i&&(E=49);49==(0|E)&&(ar[f>>2]=2|ar[f>>2]);return E=0|ar[e>>2],Bu(k),Bu(d),ur=h,0|E}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;B=ur=(w=ur)+31&-32,ur=ur+352|0,c=B+208|0,l=B+200|0,E=B+196|0,h=B+184|0,k=B+172|0,u=B+168|0,b=B+8|0,s=B+4|0,X=(d=B)+337|0,B=B+336|0,Rn(h,i|=0,c,l,E),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A,ar[s>>2]=b,ar[d>>2]=0,tr[X>>0]=1,tr[B>>0]=69,t=4+k|0,g=0|ar[e>>2],m=g;A:for(;;){Z=m?0|Uf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[i>>2]),-1)?(ar[e>>2]=0,g=y=0,1):(y=m,0):(g=y=0,1),m=0|ar[r>>2];do{if(m){if(0|Uf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,I=19;break}if(Z)break;break A}I=19}while(0);if(19==(0|I)){if(I=0,Z){m=0;break}m=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[u>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A+i),0|Nn(i=(0|(i=0|ar[(Z=y+12|0)>>2]))==(0|ar[(p=y+16|0)>>2])?0|jb[127&ar[36+(0|ar[y>>2])>>2]](y):0|gf(0|ar[i>>2]),X,B,A,u,0|ar[l>>2],0|ar[E>>2],h,b,s,d,c))break;(0|(i=0|ar[Z>>2]))!=(0|ar[p>>2])?(ar[Z>>2]=i+4,gf(0|ar[i>>2]),m=y):(jb[127&ar[40+(0|ar[y>>2])>>2]](y),m=y)}E=0|tr[11+h>>0],0!=(0|tr[X>>0])&&0!=(0|(E<<24>>24<0?0|ar[4+h>>2]:255&E))&&((W=0|ar[s>>2])-b|0)<160&&(X=0|ar[d>>2],ar[s>>2]=W+4,ar[W>>2]=X);v=+pn(A,0|ar[u>>2],f),gA[n>>2]=v,gn(h,b,0|ar[s>>2],f),i=y?(A=(0|(A=0|ar[y+12>>2]))==(0|ar[y+16>>2])?0|jb[127&ar[36+(0|ar[g>>2])>>2]](y):0|gf(0|ar[A>>2]),0|Uf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(m){if(0|Uf(A=(0|(A=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,I=47;break}if(i)break;I=49;break}I=47}while(0);47==(0|I)&&i&&(I=49);49==(0|I)&&(ar[f>>2]=2|ar[f>>2]);return I=0|ar[e>>2],Bu(k),Bu(h),ur=w,0|I}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;B=ur=(w=ur)+31&-32,ur=ur+352|0,c=B+208|0,l=B+200|0,E=B+196|0,h=B+184|0,k=B+172|0,u=B+168|0,b=B+8|0,s=B+4|0,X=(d=B)+337|0,B=B+336|0,Rn(h,i|=0,c,l,E),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A,ar[s>>2]=b,ar[d>>2]=0,tr[X>>0]=1,tr[B>>0]=69,t=4+k|0,g=0|ar[e>>2],m=g;A:for(;;){Z=m?0|Uf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[i>>2]),-1)?(ar[e>>2]=0,g=y=0,1):(y=m,0):(g=y=0,1),m=0|ar[r>>2];do{if(m){if(0|Uf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,I=19;break}if(Z)break;break A}I=19}while(0);if(19==(0|I)){if(I=0,Z){m=0;break}m=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[u>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A+i),0|Nn(i=(0|(i=0|ar[(Z=y+12|0)>>2]))==(0|ar[(p=y+16|0)>>2])?0|jb[127&ar[36+(0|ar[y>>2])>>2]](y):0|gf(0|ar[i>>2]),X,B,A,u,0|ar[l>>2],0|ar[E>>2],h,b,s,d,c))break;(0|(i=0|ar[Z>>2]))!=(0|ar[p>>2])?(ar[Z>>2]=i+4,gf(0|ar[i>>2]),m=y):(jb[127&ar[40+(0|ar[y>>2])>>2]](y),m=y)}E=0|tr[11+h>>0],0!=(0|tr[X>>0])&&0!=(0|(E<<24>>24<0?0|ar[4+h>>2]:255&E))&&((W=0|ar[s>>2])-b|0)<160&&(X=0|ar[d>>2],ar[s>>2]=W+4,ar[W>>2]=X);v=+Zn(A,0|ar[u>>2],f),Q[n>>3]=v,gn(h,b,0|ar[s>>2],f),i=y?(A=(0|(A=0|ar[y+12>>2]))==(0|ar[y+16>>2])?0|jb[127&ar[36+(0|ar[g>>2])>>2]](y):0|gf(0|ar[A>>2]),0|Uf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(m){if(0|Uf(A=(0|(A=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,I=47;break}if(i)break;I=49;break}I=47}while(0);47==(0|I)&&i&&(I=49);49==(0|I)&&(ar[f>>2]=2|ar[f>>2]);return I=0|ar[e>>2],Bu(k),Bu(h),ur=w,0|I}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;B=ur=(w=ur)+31&-32,ur=ur+352|0,c=B+208|0,l=B+200|0,E=B+196|0,h=B+184|0,k=B+172|0,u=B+168|0,b=B+8|0,s=B+4|0,X=(d=B)+337|0,B=B+336|0,Rn(h,i|=0,c,l,E),ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,A=0;for(;3!=(0|A);)ar[k+(A<<2)>>2]=0,A=A+1|0;a=8+k|0,A=(0|tr[(o=11+k|0)>>0])<0?(2147483647&ar[a>>2])-1|0:10;Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A,ar[s>>2]=b,ar[d>>2]=0,tr[X>>0]=1,tr[B>>0]=69,t=4+k|0,g=0|ar[e>>2],m=g;A:for(;;){Z=m?0|Uf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[i>>2]),-1)?(ar[e>>2]=0,g=y=0,1):(y=m,0):(g=y=0,1),m=0|ar[r>>2];do{if(m){if(0|Uf(i=(0|(i=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,I=19;break}if(Z)break;break A}I=19}while(0);if(19==(0|I)){if(I=0,Z){m=0;break}m=0}if(i=(i=0|tr[o>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[u>>2])==(A+i|0)&&(Vu(k,i<<1,0),A=(0|tr[o>>0])<0?(2147483647&ar[a>>2])-1|0:10,Vu(k,A,0),A=(0|tr[o>>0])<0?0|ar[k>>2]:k,ar[u>>2]=A+i),0|Nn(i=(0|(i=0|ar[(Z=y+12|0)>>2]))==(0|ar[(p=y+16|0)>>2])?0|jb[127&ar[36+(0|ar[y>>2])>>2]](y):0|gf(0|ar[i>>2]),X,B,A,u,0|ar[l>>2],0|ar[E>>2],h,b,s,d,c))break;(0|(i=0|ar[Z>>2]))!=(0|ar[p>>2])?(ar[Z>>2]=i+4,gf(0|ar[i>>2]),m=y):(jb[127&ar[40+(0|ar[y>>2])>>2]](y),m=y)}E=0|tr[11+h>>0],0!=(0|tr[X>>0])&&0!=(0|(E<<24>>24<0?0|ar[4+h>>2]:255&E))&&((W=0|ar[s>>2])-b|0)<160&&(X=0|ar[d>>2],ar[s>>2]=W+4,ar[W>>2]=X);v=+mn(A,0|ar[u>>2],f),Q[n>>3]=v,gn(h,b,0|ar[s>>2],f),i=y?(A=(0|(A=0|ar[y+12>>2]))==(0|ar[y+16>>2])?0|jb[127&ar[36+(0|ar[g>>2])>>2]](y):0|gf(0|ar[A>>2]),0|Uf(A,-1)?(ar[e>>2]=0,1):0):1;do{if(m){if(0|Uf(A=(0|(A=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,I=47;break}if(i)break;I=49;break}I=47}while(0);47==(0|I)&&i&&(I=49);49==(0|I)&&(ar[f>>2]=2|ar[f>>2]);return I=0|ar[e>>2],Bu(k),Bu(h),ur=w,0|I}(A,a,o,i,f,n),ur=t,0|n},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0;for(g=ur=(d=ur)+31&-32,ur=ur+320|0,Z=(u=g)+208|0,b=g+192|0,s=g+180|0,p=g+176|0,c=g+16|0,l=g+8|0,g=g+4|0,ar[b>>2]=0,ar[4+b>>2]=0,A=ar[8+b>>2]=0;3!=(0|A);)A=A+1|(ar[b+(A<<2)>>2]=0);for(Tf(s,i),A=0|un(s,59264),Pb[7&ar[48+(0|ar[A>>2])>>2]](A,53648,53674,Z),bn(s),ar[s>>2]=0,ar[4+s>>2]=0,A=ar[8+s>>2]=0;3!=(0|A);)A=A+1|(ar[s+(A<<2)>>2]=0);o=8+s|0,Vu(s,A=(0|tr[(a=11+s|0)>>0])<0?(2147483647&ar[o>>2])-1|0:10,0),A=(0|tr[a>>0])<0?0|ar[s>>2]:s,ar[p>>2]=A,ar[l>>2]=c,t=4+s|(ar[g>>2]=0),k=h=0|ar[e>>2];A:for(;;){w=k?0|Uf(i=(0|(i=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|gf(0|ar[i>>2]),-1)?(h=m=ar[e>>2]=0,1):(m=k,0):(h=m=0,1),k=0|ar[r>>2];do{if(k){if(0|Uf(i=(0|(i=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,y=22;break}if(w)break;break A}y=22}while(0);if(22==(0|y)){if(y=0,w){k=0;break}k=0}if(i=(i=0|tr[a>>0])<<24>>24<0?0|ar[t>>2]:255&i,(0|ar[p>>2])==(A+i|0)&&(Vu(s,i<<1,0),Vu(s,A=(0|tr[a>>0])<0?(2147483647&ar[o>>2])-1|0:10,0),A=(0|tr[a>>0])<0?0|ar[s>>2]:s,ar[p>>2]=A+i),0|Fn(i=(0|(i=0|ar[(w=m+12|0)>>2]))==(0|ar[(v=m+16|0)>>2])?0|jb[127&ar[36+(0|ar[m>>2])>>2]](m):0|gf(0|ar[i>>2]),16,A,p,g,0,b,c,l,Z))break;(0|(i=0|ar[w>>2]))!=(0|ar[v>>2])?(ar[w>>2]=i+4,gf(0|ar[i>>2]),k=m):(jb[127&ar[40+(0|ar[m>>2])>>2]](m),k=m)}Vu(s,(0|ar[p>>2])-A|0,0),Z=(0|tr[a>>0])<0?0|ar[s>>2]:s,p=0|dn(),ar[u>>2]=n,1!=(0|kn(Z,p,53681,u))&&(ar[f>>2]=4),i=m?0|Uf(A=(0|(A=0|ar[m+12>>2]))==(0|ar[m+16>>2])?0|jb[127&ar[36+(0|ar[h>>2])>>2]](m):0|gf(0|ar[A>>2]),-1)?(ar[e>>2]=0,1):0:1;do{if(k){if(0|Uf(A=(0|(A=0|ar[k+12>>2]))==(0|ar[k+16>>2])?0|jb[127&ar[36+(0|ar[k>>2])>>2]](k):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,y=49;break}if(i)break;y=51;break}y=49}while(0);return 49==(0|y)&&i&&(y=51),51==(0|y)&&(ar[f>>2]=2|ar[f>>2]),y=0|ar[e>>2],Bu(s),Bu(b),ur=d,0|y},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s=0,d=0;return s=ur=(A=ur)+31&-32,ur=ur+96|0,o=s+8|0,l=(u=s)+71|0,t=s+28|0,c=s+24|0,a=s+16|0,s=s+20|0,ar[(d=u)>>2]=37,wr(u+1|(ar[d+4>>2]=0),53899,1,0|ar[r+4>>2]),d=0|dn(),ar[(b=o)>>2]=f,ar[4+b>>2]=n,n=0|nr(l,f=l+(0|fr(l,23,d,u,o))|0,r),Tf(o,r),vr(l,n,f,t,c,a,o),bn(o),ar[s>>2]=ar[e>>2],f=0|ar[c>>2],n=0|ar[a>>2],ar[o>>2]=ar[s>>2],n=0|PA(o,t,f,n,r,i),ur=A,0|n},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s=0,d=0;return s=ur=(A=ur)+31&-32,ur=ur+96|0,o=s+8|0,l=(u=s)+71|0,t=s+28|0,c=s+24|0,a=s+16|0,s=s+20|0,ar[(d=u)>>2]=37,wr(u+1|(ar[d+4>>2]=0),53899,0,0|ar[r+4>>2]),d=0|dn(),ar[(b=o)>>2]=f,ar[4+b>>2]=n,n=0|nr(l,f=l+(0|fr(l,23,d,u,o))|0,r),Tf(o,r),vr(l,n,f,t,c,a,o),bn(o),ar[s>>2]=ar[e>>2],f=0|ar[c>>2],n=0|ar[a>>2],ar[o>>2]=ar[s>>2],n=0|PA(o,t,f,n,r,i),ur=A,0|n},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s=0,d=0;return s=ur=(A=ur)+31&-32,ur=ur+224|0,o=s+8|0,l=(u=s)+200|0,t=s+28|0,c=s+24|0,a=s+16|0,s=s+20|0,ar[(d=u)>>2]=37,wr(u+1|(ar[d+4>>2]=0),53899,1,0|ar[r+4>>2]),d=0|dn(),ar[(b=o)>>2]=f,ar[4+b>>2]=n,n=0|nr(l,f=l+(0|fr(l,23,d,u,o))|0,r),Tf(o,r),pr(l,n,f,t,c,a,o),bn(o),ar[s>>2]=ar[e>>2],f=0|ar[c>>2],n=0|ar[a>>2],ar[o>>2]=ar[s>>2],n=0|mr(o,t,f,n,r,i),ur=A,0|n},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s=0,d=0;return s=ur=(A=ur)+31&-32,ur=ur+224|0,o=s+8|0,l=(u=s)+200|0,t=s+28|0,c=s+24|0,a=s+16|0,s=s+20|0,ar[(d=u)>>2]=37,wr(u+1|(ar[d+4>>2]=0),53899,0,0|ar[r+4>>2]),d=0|dn(),ar[(b=o)>>2]=f,ar[4+b>>2]=n,n=0|nr(l,f=l+(0|fr(l,23,d,u,o))|0,r),Tf(o,r),pr(l,n,f,t,c,a,o),bn(o),ar[s>>2]=ar[e>>2],f=0|ar[c>>2],n=0|ar[a>>2],ar[o>>2]=ar[s>>2],n=0|mr(o,t,f,n,r,i),ur=A,0|n},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|Er(A,a,o,i,f,n,54427,54435),ur=t,0|n},function(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b=0;return c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,l=4+c|0,b=0|jb[127&ar[20+(0|ar[(b=(A|=0)+8|0)>>2])>>2]](b),ar[l>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],r=(e=(u=(r=0|tr[b+11>>0])<<24>>24<0)?0|ar[b>>2]:b)+(u?0|ar[b+4>>2]:255&r)|0,ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|Er(A,a,o,i,f,n,e,r),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a;return A|=0,e|=0,r|=0,f|=0,n|=0,a=ur=(t=ur)+31&-32,ur=ur+16|0,Tf(o=4+a|0,i|=0),i=0|un(o,59232),bn(o),ar[a>>2]=ar[r>>2],ar[o>>2]=ar[a>>2],yr(A,n+24|0,e,o,f,i),ur=t,0|ar[e>>2]},function(A,e,r,i,f,n){var t,o,a;return A|=0,e|=0,r|=0,f|=0,n|=0,a=ur=(t=ur)+31&-32,ur=ur+16|0,Tf(o=4+a|0,i|=0),i=0|un(o,59232),bn(o),ar[a>>2]=ar[r>>2],ar[o>>2]=ar[a>>2],Br(A,n+16|0,e,o,f,i),ur=t,0|ar[e>>2]},function(A,e,r,i,f,n){var t,o,a;return A|=0,e|=0,r|=0,f|=0,n|=0,a=ur=(t=ur)+31&-32,ur=ur+16|0,Tf(o=4+a|0,i|=0),i=0|un(o,59232),bn(o),ar[a>>2]=ar[r>>2],ar[o>>2]=ar[a>>2],Yr(A,n+20|0,e,o,f,i),ur=t,0|ar[e>>2]},function(A,e,r,i,f,n){var t,o,a,c,l;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,ar[(l=4+c|0)>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|Sr(A,a,o,i,f,n,16404,16436),ur=t,0|n},function(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l,u,b=0;return c=ur=(t=ur)+31&-32,ur=ur+16|0,o=12+c|0,a=8+c|0,l=4+c|0,b=0|jb[127&ar[20+(0|ar[(b=(A|=0)+8|0)>>2])>>2]](b),ar[l>>2]=ar[e>>2],ar[c>>2]=ar[r>>2],r=(e=(u=(r=0|tr[b+8+3>>0])<<24>>24<0)?0|ar[b>>2]:b)+((u?0|ar[b+4>>2]:255&r)<<2)|0,ar[a>>2]=ar[l>>2],ar[o>>2]=ar[c>>2],n=0|Sr(A,a,o,i,f,n,e,r),ur=t,0|n},function(A,e,r,i,f,n){var t,o,a;return A|=0,e|=0,r|=0,f|=0,n|=0,a=ur=(t=ur)+31&-32,ur=ur+16|0,Tf(o=4+a|0,i|=0),i=0|un(o,59264),bn(o),ar[a>>2]=ar[r>>2],ar[o>>2]=ar[a>>2],Tr(A,n+24|0,e,o,f,i),ur=t,0|ar[e>>2]},function(A,e,r,i,f,n){var t,o,a;return A|=0,e|=0,r|=0,f|=0,n|=0,a=ur=(t=ur)+31&-32,ur=ur+16|0,Tf(o=4+a|0,i|=0),i=0|un(o,59264),bn(o),ar[a>>2]=ar[r>>2],ar[o>>2]=ar[a>>2],Ur(A,n+16|0,e,o,f,i),ur=t,0|ar[e>>2]},function(A,e,r,i,f,n){var t,o,a;return A|=0,e|=0,r|=0,f|=0,n|=0,a=ur=(t=ur)+31&-32,ur=ur+16|0,Tf(o=4+a|0,i|=0),i=0|un(o,59264),bn(o),ar[a>>2]=ar[r>>2],ar[o>>2]=ar[a>>2],Ai(A,n+20|0,e,o,f,i),ur=t,0|ar[e>>2]},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p=0,y=0,B=0,E=0,X=0,W=0;for(b=ur=(Z=ur)+31&-32,ur=ur+176|0,c=56+b|0,d=164+b|0,k=161+b|0,h=160+b|0,w=40+b|0,v=28+b|0,m=16+b|0,t=12+b|0,a=60+b|0,l=8+b|0,u=4+b|0,Tf(g=52+b|0,i|=0),s=0|un(g,59232),y=n+4|0,E=0|((A=(E=0|tr[(p=n+11|0)>>0])<<24>>24<0)?0|ar[y>>2]:255&E)?(E=0|tr[(A?0|ar[n>>2]:n)>>0])<<24>>24==(0|Hb[31&ar[28+(0|ar[s>>2])>>2]](s,45))<<24>>24:0,ar[w>>2]=0,ar[4+w>>2]=0,A=ar[8+w>>2]=0;3!=(0|A);)A=A+1|(ar[w+(A<<2)>>2]=0);for(ar[v>>2]=0,ar[4+v>>2]=0,A=ar[8+v>>2]=0;3!=(0|A);)A=A+1|(ar[v+(A<<2)>>2]=0);for(ar[m>>2]=0,ar[4+m>>2]=0,A=ar[8+m>>2]=0;3!=(0|A);)A=A+1|(ar[m+(A<<2)>>2]=0);return ki(r,E,g,d,k,h,w,v,m,t),B=(o=(B=0|tr[p>>0])<<24>>24<0)?0|ar[y>>2]:255&B,100<(A=(r=(0|(y=0|ar[t>>2]))<(0|B)?(p=0|tr[11+m>>0],r=0|tr[11+v>>0],A=1,p=(p<<24>>24<0?0|ar[4+m>>2]:255&p)+(B-y<<1)|0,r<<24>>24<0?0|ar[4+v>>2]:255&r):(r=0|tr[11+m>>0],A=2,p=(p=0|tr[11+v>>0])<<24>>24<0?0|ar[4+v>>2]:255&p,r<<24>>24<0?0|ar[4+m>>2]:255&r))+y+p+A|0)>>>0?(A=0|yc(A))?W=X=A:gu():(X=a,W=0),n=o?0|ar[n>>2]:n,hi(X,l,u,0|ar[i+4>>2],n,n+B|0,s,E,d,0|tr[k>>0],0|tr[h>>0],w,v,m,y),ar[b>>2]=ar[e>>2],n=0|ar[l>>2],A=0|ar[u>>2],ar[c>>2]=ar[b>>2],A=0|PA(c,X,n,A,i,f),0|W&&Bc(W),Bu(m),Bu(v),Bu(w),bn(g),ur=Z,0|A},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,f|=0,n|=0;var t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p=0,y=0,B=0,E=0,X=0,W=0;for(b=ur=(Z=ur)+31&-32,ur=ur+480|0,c=468+b|0,d=472+b|0,k=460+b|0,h=456+b|0,w=444+b|0,v=432+b|0,m=420+b|0,t=416+b|0,a=16+b|0,l=8+b|0,u=4+b|0,Tf(g=464+b|0,i|=0),s=0|un(g,59264),y=n+4|0,E=0|((A=(E=0|tr[(p=n+8+3|0)>>0])<<24>>24<0)?0|ar[y>>2]:255&E)?(0|(E=0|ar[(A?0|ar[n>>2]:n)>>2]))==(0|Hb[31&ar[44+(0|ar[s>>2])>>2]](s,45)):0,ar[w>>2]=0,ar[4+w>>2]=0,A=ar[8+w>>2]=0;3!=(0|A);)A=A+1|(ar[w+(A<<2)>>2]=0);for(ar[v>>2]=0,ar[4+v>>2]=0,A=ar[8+v>>2]=0;3!=(0|A);)A=A+1|(ar[v+(A<<2)>>2]=0);for(ar[m>>2]=0,ar[4+m>>2]=0,A=ar[8+m>>2]=0;3!=(0|A);)A=A+1|(ar[m+(A<<2)>>2]=0);return _l(r,E,g,d,k,h,w,v,m,t),B=(o=(B=0|tr[p>>0])<<24>>24<0)?0|ar[y>>2]:255&B,100<(A=(r=(0|(y=0|ar[t>>2]))<(0|B)?(p=0|tr[8+m+3>>0],r=0|tr[8+v+3>>0],A=1,p=(p<<24>>24<0?0|ar[4+m>>2]:255&p)+(B-y<<1)|0,r<<24>>24<0?0|ar[4+v>>2]:255&r):(r=0|tr[8+m+3>>0],A=2,p=(p=0|tr[8+v+3>>0])<<24>>24<0?0|ar[4+v>>2]:255&p,r<<24>>24<0?0|ar[4+m>>2]:255&r))+y+p+A|0)>>>0?(A=0|yc(A<<2))?W=X=A:gu():(X=a,W=0),n=o?0|ar[n>>2]:n,Yl(X,l,u,0|ar[i+4>>2],n,n+(B<<2)|0,s,E,d,0|ar[k>>2],0|ar[h>>2],w,v,m,y),ar[b>>2]=ar[e>>2],n=0|ar[l>>2],A=0|ar[u>>2],ar[c>>2]=ar[b>>2],A=0|mr(c,X,n,A,i,f),0|W&&Bc(W),Qu(m),Qu(v),Bu(w),bn(g),ur=Z,0|A},Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb,Vb],As=[Fb,function(A,e,r,i,f,n,t){var o;for(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,i=ur=(o=ur)+31&-32,ur=ur+112|0,r=i+4|0,ar[i>>2]=r+100,fi(A+8|0,r,i,f,n,t),t=0|ar[i>>2],n=r,r=0|ar[e>>2];(0|n)!=(0|t);)i=0|tr[n>>0],r=!r||(e=0|Mf(i=(0|(f=0|ar[(A=r+24|0)>>2]))==(0|ar[r+28>>2])?(e=0|ar[52+(0|ar[r>>2])>>2],i=0|hf(i),0|Hb[31&e](r,i)):(ar[A>>2]=f+1,0|hf(tr[f>>0]=i)),-1))?0:r,n=n+1|0;return ur=o,0|r},function(A,e,r,i,f,n,t){var o;for(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,i=ur=(o=ur)+31&-32,ur=ur+416|0,r=i+8|0,ar[i>>2]=r+400,function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c,l=0;l=ur=(t=ur)+31&-32,ur=ur+128|0,a=l+16|0,c=l+12|0,l=(o=l)+8|0,ar[c>>2]=100+a,fi(A,a,c,i,f,n),ar[(i=o)>>2]=0,ar[i+4>>2]=0,ar[l>>2]=a,i=0|function(A,e){return(e|=0)-(A|=0)>>2|0}(e,0|ar[r>>2]),A=0|rf(0|ar[A>>2]),i=0|Xi(e,l,i,o),0|A&&rf(A);{if(-1!=(0|i))return ar[r>>2]=e+(i<<2),ur=t;ti()}}(A+8|0,r,i,f,n,t),t=0|ar[i>>2],n=r,r=0|ar[e>>2];(0|n)!=(0|t);)i=0|ar[n>>2],r=!r||(e=0|Uf(i=(0|(f=0|ar[(A=r+24|0)>>2]))==(0|ar[r+28>>2])?(e=0|ar[52+(0|ar[r>>2])>>2],i=0|gf(i),0|Hb[31&e](r,i)):(ar[A>>2]=f+4,0|gf(ar[f>>2]=i)),-1))?0:r,n=n+4|0;return ur=o,0|r},function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0;var o,a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;if(m=ur=(s=ur)+31&-32,ur=ur+240|0,o=m+24|0,v=(c=m)+140|0,b=m+16|0,a=m+12|0,l=m+8|0,k=m+136|0,d=m+4|0,m=m+36|0,ar[b>>2]=v,ar[(u=4+b|0)>>2]=444,Tf(l,f),A=0|un(l,59232),tr[k>>0]=0,ar[d>>2]=ar[r>>2],w=0|ar[f+4>>2],ar[o>>2]=ar[d>>2],0|ai(e,o,i,l,w,n,k,A,b,a,v+100|0)){for(Pb[7&ar[32+(0|ar[A>>2])>>2]](A,54952,54962,o),98<(0|(A=(w=0|ar[a>>2])-(i=0|ar[b>>2])|0))?(A=0|yc(A+2|0))?g=h=A:gu():(h=m,g=0),A=0|tr[k>>0]?(tr[h>>0]=45,h+1|0):h,h=10+o|0,v=o,k=i,f=A,A=w;!(A>>>0<=k>>>0);){for(i=0|tr[k>>0],A=o;;){if((0|A)==(0|h)){A=h;break}if((0|tr[A>>0])==i<<24>>24)break;A=A+1|0}tr[f>>0]=0|tr[A-v+54952>>0],k=k+1|0,f=f+1|0,A=0|ar[a>>2]}tr[f>>0]=0,ar[c>>2]=t,1!=(0|ji(m,54963,c))&&ti(),0|g&&Bc(g)}A=0|ar[e>>2];do{if(A){if(0|Mf(A=(0|(i=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[i>>0]),-1)){ar[e>>2]=0,f=1;break}f=0==(0|ar[e>>2]);break}f=1}while(0);A=0|ar[r>>2];do{if(A){if(0|Mf(A=(0|(i=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[i>>0]),-1)){ar[r>>2]=0,Z=32;break}if(f)break;Z=34;break}Z=32}while(0);return 32==(0|Z)&&f&&(Z=34),34==(0|Z)&&(ar[n>>2]=2|ar[n>>2]),i=0|ar[e>>2],bn(l),A=0|ar[b>>2],(ar[b>>2]=0)|A&&is[511&ar[u>>2]](A),ur=s,0|i},function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0;var o,a,c,l,u,b,s,d=0,k=0,h=0,w=0;if(h=ur=(s=ur)+31&-32,ur=ur+144|0,d=h+24|0,A=h+32|0,b=h+16|0,a=h+8|0,k=(l=h)+28|0,h=h+4|0,ar[b>>2]=A,ar[(u=4+b|0)>>2]=444,Tf(l,f),o=0|un(l,59232),c=(tr[k>>0]=0)|ar[r>>2],ar[h>>2]=c,f=0|ar[f+4>>2],ar[d>>2]=ar[h>>2],h=c,0|ai(e,d,i,l,f,n,k,o,b,a,A+100|0)){for((0|tr[(A=t+11|0)>>0])<0?(i=0|ar[t>>2],tr[d>>0]=0,Qf(i,d),ar[t+4>>2]=0):(tr[d>>0]=0,Qf(t,d),tr[A>>0]=0),0|tr[k>>0]&&_u(t,0|Hb[31&ar[28+(0|ar[o>>2])>>2]](o,45)),k=0|Hb[31&ar[28+(0|ar[o>>2])>>2]](o,48),d=(f=0|ar[a>>2])+-1|0,A=0|ar[b>>2];!(d>>>0<=A>>>0)&&(0|tr[A>>0])==k<<24>>24;)A=A+1|0;!function(A,e,r){r|=0;var i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;c=ur=(n=ur)+31&-32,ur=ur+16|0,i=e|=0,s=c+12|0,o=0|tr[(b=11+(A|=0)|0)>>0],l=(t=o<<24>>24<0)?(u=0|ar[A+4>>2],(2147483647&ar[A+8>>2])-1|0):(u=255&o,10);f=r-i|0;do{if(0|f){if(t?(o=0|ar[A>>2],a=o,t=0|ar[A+4>>2]):(t=255&o,o=a=A),0|ci(e,o,a+t|0)){for(ar[c>>2]=0,ar[c+4>>2]=0,ar[c+8>>2]=0,4294967279<f>>>0&&pu(),f>>>0<11?(tr[c+11>>0]=f,o=c):(o=0|hu(b=16+f&-16),ar[c>>2]=o,ar[c+8>>2]=-2147483648|b,ar[c+4>>2]=f),t=o;(0|e)!=(0|r);)Qf(t,e),e=e+1|0,t=t+1|0;tr[s>>0]=0,Qf(o+f|0,s),s=0|tr[c+11>>0],Nu(A,(r=s<<24>>24<0)?0|ar[c>>2]:c,r?0|ar[c+4>>2]:255&s),Bu(c);break}for(c=u+f|0,(l-u|0)>>>0<f>>>0&&Ru(A,l,c-l|0,u,u,0,0),a=(0|tr[b>>0])<0?0|ar[A>>2]:A,o=r+(u-i)|0,t=a+u|0;(0|e)!=(0|r);)Qf(t,e),t=t+1|0,e=e+1|0;if(tr[s>>0]=0,Qf(a+o|0,s),(0|tr[b>>0])<0){ar[A+4>>2]=c;break}tr[b>>0]=c;break}}while(0);ur=n}(t,A,f)}A=0|ar[e>>2];do{if(A){if(0|Mf(A=(0|(f=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|hf(0|tr[f>>0]),-1)){ar[e>>2]=0,f=1;break}f=0==(0|ar[e>>2]);break}f=1}while(0);do{if(c){if(0|Mf(A=(0|(A=0|ar[h+12>>2]))==(0|ar[h+16>>2])?0|jb[127&ar[36+(0|ar[c>>2])>>2]](h):0|hf(0|tr[A>>0]),-1)){ar[r>>2]=0,w=25;break}if(f)break;w=27;break}w=25}while(0);return 25==(0|w)&&f&&(w=27),27==(0|w)&&(ar[n>>2]=2|ar[n>>2]),f=0|ar[e>>2],bn(l),A=0|ar[b>>2],(ar[b>>2]=0)|A&&is[511&ar[u>>2]](A),ur=s,0|f},function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0;var o,a,c,l,u,b,s,d,k=0,h=0,w=0,v=0,m=0,g=0,Z=0;if(m=ur=(s=ur)+31&-32,ur=ur+576|0,o=m+424|0,v=(c=m)+24|0,b=m+16|0,a=m+12|0,l=m+8|0,k=m+564|0,d=m+4|0,m=m+464|0,ar[b>>2]=v,ar[(u=4+b|0)>>2]=444,Tf(l,f),A=0|un(l,59264),tr[k>>0]=0,ar[d>>2]=ar[r>>2],w=0|ar[f+4>>2],ar[o>>2]=ar[d>>2],0|bi(e,o,i,l,w,n,k,A,b,a,v+400|0)){for(Pb[7&ar[48+(0|ar[A>>2])>>2]](A,55062,55072,o),392<(0|(A=(w=0|ar[a>>2])-(i=0|ar[b>>2])|0))?(A=0|yc(2+(A>>>2)|0))?g=h=A:gu():(h=m,g=0),A=0|tr[k>>0]?(tr[h>>0]=45,h+1|0):h,h=40+o|0,v=o,k=i,f=A,A=w;!(A>>>0<=k>>>0);){for(i=0|ar[k>>2],A=o;;){if((0|A)==(0|h)){A=h;break}if((0|ar[A>>2])==(0|i))break;A=A+4|0}tr[f>>0]=0|tr[55062+(A-v>>2)>>0],k=k+4|0,f=f+1|0,A=0|ar[a>>2]}tr[f>>0]=0,ar[c>>2]=t,1!=(0|ji(m,54963,c))&&ti(),0|g&&Bc(g)}A=0|ar[e>>2];do{if(A){if(0|Uf(A=(0|(i=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[i>>2]),-1)){ar[e>>2]=0,f=1;break}f=0==(0|ar[e>>2]);break}f=1}while(0);A=0|ar[r>>2];do{if(A){if(0|Uf(A=(0|(i=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[i>>2]),-1)){ar[r>>2]=0,Z=32;break}if(f)break;Z=34;break}Z=32}while(0);return 32==(0|Z)&&f&&(Z=34),34==(0|Z)&&(ar[n>>2]=2|ar[n>>2]),i=0|ar[e>>2],bn(l),A=0|ar[b>>2],(ar[b>>2]=0)|A&&is[511&ar[u>>2]](A),ur=s,0|i},function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0;var o,a,c,l,u,b,s,d=0,k=0,h=0,w=0;if(h=ur=(s=ur)+31&-32,ur=ur+432|0,d=h+424|0,A=h+24|0,b=h+16|0,a=h+8|0,k=(l=h)+428|0,h=h+4|0,ar[b>>2]=A,ar[(u=4+b|0)>>2]=444,Tf(l,f),o=0|un(l,59264),c=(tr[k>>0]=0)|ar[r>>2],ar[h>>2]=c,f=0|ar[f+4>>2],ar[d>>2]=ar[h>>2],h=c,0|bi(e,d,i,l,f,n,k,o,b,a,A+400|0)){for((0|tr[(A=t+8+3|0)>>0])<0?(i=0|ar[t>>2],ar[d>>2]=0,ln(i,d),ar[t+4>>2]=0):(ar[d>>2]=0,ln(t,d),tr[A>>0]=0),0|tr[k>>0]&&Ou(t,0|Hb[31&ar[44+(0|ar[o>>2])>>2]](o,45)),k=0|Hb[31&ar[44+(0|ar[o>>2])>>2]](o,48),d=(f=0|ar[a>>2])+-4|0,A=0|ar[b>>2];!(d>>>0<=A>>>0)&&(0|ar[A>>2])==(0|k);)A=A+4|0;!function(A,e,r){e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;n=ur=(o=ur)+31&-32,ur=ur+16|0,k=12+n|0,i=0|tr[(t=3+(a=8+(A|=0)|0)|0)>>0],u=(c=i<<24>>24<0)?(d=0|ar[A+4>>2],(2147483647&ar[a>>2])-1|0):(d=255&i,1);f=r-e>>2;do{if(0|f){if(c?(c=0|ar[A>>2],l=c,a=0|ar[A+4>>2]):(a=255&i,c=l=A),0|si(e,c,l+(a<<2)|0)){ar[n>>2]=0,ar[4+n>>2]=0,ar[8+n>>2]=0,1073741807<f>>>0&&pu();do{if(2<=f>>>0){if(!(1073741823<(a=4+f&-4)>>>0)){s=0|hu(a<<2),ar[n>>2]=s,ar[8+n>>2]=-2147483648|a,ar[4+n>>2]=f,b=e;break}lA()}else tr[8+n+3>>0]=f,b=e,s=n}while(0);for(;(0|b)!=(0|r);)ln(s,b),b=b+4|0,s=s+4|0;ar[k>>2]=0,ln(s,k),k=0|tr[8+n+3>>0],Su(A,(r=k<<24>>24<0)?0|ar[n>>2]:n,r?0|ar[4+n>>2]:255&k),Qu(n);break}for(c=d+f|0,(u-d|0)>>>0<f>>>0&&Uu(A,u,c-u|0,d,d,0,0),a=(a=(0|tr[t>>0])<0?0|ar[A>>2]:A)+(d<<2)|0;(0|e)!=(0|r);)ln(a,e),a=a+4|0,e=e+4|0;if(ar[k>>2]=0,ln(a,k),(0|tr[t>>0])<0){ar[A+4>>2]=c;break}tr[t>>0]=c;break}}while(0);ur=o}(t,A,f)}A=0|ar[e>>2];do{if(A){if(0|Uf(A=(0|(f=0|ar[A+12>>2]))==(0|ar[A+16>>2])?0|jb[127&ar[36+(0|ar[A>>2])>>2]](A):0|gf(0|ar[f>>2]),-1)){ar[e>>2]=0,f=1;break}f=0==(0|ar[e>>2]);break}f=1}while(0);do{if(c){if(0|Uf(A=(0|(A=0|ar[h+12>>2]))==(0|ar[h+16>>2])?0|jb[127&ar[36+(0|ar[c>>2])>>2]](h):0|gf(0|ar[A>>2]),-1)){ar[r>>2]=0,w=25;break}if(f)break;w=27;break}w=25}while(0);return 25==(0|w)&&f&&(w=27),27==(0|w)&&(ar[n>>2]=2|ar[n>>2]),f=0|ar[e>>2],bn(l),A=0|ar[b>>2],(ar[b>>2]=0)|A&&is[511&ar[u>>2]](A),ur=s,0|f},Fb],es=[Rb,function(A,e,r,i,f,n,t,o){A|=0,e|=0,r|=0,i|=0,n|=0,t|=0,o|=0;var a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j=0,H=0;switch(Q=ur=(z=ur)+31&-32,ur=ur+144|0,a=128+Q|0,o=112+Q|0,O=124+Q|0,j=120+Q|0,c=116+Q|0,l=108+Q|0,u=104+Q|0,b=100+Q|0,s=96+Q|0,d=92+Q|0,k=88+Q|0,h=84+Q|0,w=80+Q|0,v=76+Q|0,m=72+Q|0,g=68+Q|0,Z=64+Q|0,p=60+Q|0,y=56+Q|0,B=52+Q|0,E=48+Q|0,X=44+Q|0,W=40+Q|0,I=36+Q|0,C=32+Q|0,G=28+Q|0,V=24+Q|0,F=20+Q|0,R=16+Q|0,N=12+Q|0,_=8+Q|0,Y=4+Q|0,ar[(f|=0)>>2]=0,Tf(a,i),D=0|un(a,59232),bn(a),J=n+8|0,M=n+20|0,T=n+16|0,U=n+24|0,S=A+8|0,t<<24>>24|0){case 65:case 97:ar[O>>2]=ar[r>>2],ar[a>>2]=ar[O>>2],yr(A,U,e,a,f,D),H=26;break;case 104:case 66:case 98:ar[j>>2]=ar[r>>2],ar[a>>2]=ar[j>>2],Br(A,T,e,a,f,D),H=26;break;case 99:j=0|jb[127&ar[12+(0|ar[S>>2])>>2]](S),ar[c>>2]=ar[e>>2],ar[l>>2]=ar[r>>2],H=(t=(r=(H=0|tr[j+11>>0])<<24>>24<0)?0|ar[j>>2]:j)+(r?0|ar[j+4>>2]:255&H)|0,ar[o>>2]=ar[c>>2],ar[a>>2]=ar[l>>2],H=0|Er(A,o,a,i,f,n,t,H),ar[e>>2]=H,H=26;break;case 101:case 100:ar[u>>2]=ar[r>>2],ar[a>>2]=ar[u>>2],Xr(A,n+12|0,e,a,f,D),H=26;break;case 68:ar[b>>2]=ar[e>>2],ar[s>>2]=ar[r>>2],ar[o>>2]=ar[b>>2],ar[a>>2]=ar[s>>2],H=0|Er(A,o,a,i,f,n,54387,54395),ar[e>>2]=H,H=26;break;case 70:ar[d>>2]=ar[e>>2],ar[k>>2]=ar[r>>2],ar[o>>2]=ar[d>>2],ar[a>>2]=ar[k>>2],H=0|Er(A,o,a,i,f,n,54395,54403),ar[e>>2]=H,H=26;break;case 72:ar[h>>2]=ar[r>>2],ar[a>>2]=ar[h>>2],Wr(A,J,e,a,f,D),H=26;break;case 73:ar[w>>2]=ar[r>>2],ar[a>>2]=ar[w>>2],Ir(A,J,e,a,f,D),H=26;break;case 106:ar[v>>2]=ar[r>>2],ar[a>>2]=ar[v>>2],Cr(A,n+28|0,e,a,f,D),H=26;break;case 109:ar[m>>2]=ar[r>>2],ar[a>>2]=ar[m>>2],Gr(A,T,e,a,f,D),H=26;break;case 77:ar[g>>2]=ar[r>>2],ar[a>>2]=ar[g>>2],Vr(A,n+4|0,e,a,f,D),H=26;break;case 116:case 110:ar[Z>>2]=ar[r>>2],ar[a>>2]=ar[Z>>2],Fr(A,e,a,f,D),H=26;break;case 112:ar[p>>2]=ar[r>>2],ar[a>>2]=ar[p>>2],Rr(A,J,e,a,f,D),H=26;break;case 114:ar[y>>2]=ar[e>>2],ar[B>>2]=ar[r>>2],ar[o>>2]=ar[y>>2],ar[a>>2]=ar[B>>2],H=0|Er(A,o,a,i,f,n,54403,54414),ar[e>>2]=H,H=26;break;case 82:ar[E>>2]=ar[e>>2],ar[X>>2]=ar[r>>2],ar[o>>2]=ar[E>>2],ar[a>>2]=ar[X>>2],H=0|Er(A,o,a,i,f,n,54414,54419),ar[e>>2]=H,H=26;break;case 83:ar[W>>2]=ar[r>>2],ar[a>>2]=ar[W>>2],Nr(A,n,e,a,f,D),H=26;break;case 84:ar[I>>2]=ar[e>>2],ar[C>>2]=ar[r>>2],ar[o>>2]=ar[I>>2],ar[a>>2]=ar[C>>2],H=0|Er(A,o,a,i,f,n,54419,54427),ar[e>>2]=H,H=26;break;case 119:ar[G>>2]=ar[r>>2],ar[a>>2]=ar[G>>2],_r(A,U,e,a,f,D),H=26;break;case 120:t=0|ar[20+(0|ar[A>>2])>>2],ar[V>>2]=ar[e>>2],ar[F>>2]=ar[r>>2],ar[o>>2]=ar[V>>2],ar[a>>2]=ar[F>>2],o=0|$b[63&t](A,o,a,i,f,n);break;case 88:j=0|jb[127&ar[24+(0|ar[S>>2])>>2]](S),ar[R>>2]=ar[e>>2],ar[N>>2]=ar[r>>2],H=(t=(r=(H=0|tr[j+11>>0])<<24>>24<0)?0|ar[j>>2]:j)+(r?0|ar[j+4>>2]:255&H)|0,ar[o>>2]=ar[R>>2],ar[a>>2]=ar[N>>2],H=0|Er(A,o,a,i,f,n,t,H),ar[e>>2]=H,H=26;break;case 121:ar[_>>2]=ar[r>>2],ar[a>>2]=ar[_>>2],Yr(A,M,e,a,f,D),H=26;break;case 89:ar[Y>>2]=ar[r>>2],ar[a>>2]=ar[Y>>2],Qr(A,M,e,a,f,D),H=26;break;case 37:ar[Q>>2]=ar[r>>2],ar[a>>2]=ar[Q>>2],Dr(A,e,a,f,D),H=26;break;default:ar[f>>2]=4|ar[f>>2],H=26}return 26==(0|H)&&(o=0|ar[e>>2]),ur=z,0|o},function(A,e,r,i,f,n,t,o){A|=0,e|=0,r|=0,i|=0,n|=0,t|=0,o|=0;var a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G,V,F,R,N,_,Y,Q,D,J,M,T,U,S,O,z,j=0,H=0;switch(Q=ur=(z=ur)+31&-32,ur=ur+144|0,a=128+Q|0,o=112+Q|0,O=124+Q|0,j=120+Q|0,c=116+Q|0,l=108+Q|0,u=104+Q|0,b=100+Q|0,s=96+Q|0,d=92+Q|0,k=88+Q|0,h=84+Q|0,w=80+Q|0,v=76+Q|0,m=72+Q|0,g=68+Q|0,Z=64+Q|0,p=60+Q|0,y=56+Q|0,B=52+Q|0,E=48+Q|0,X=44+Q|0,W=40+Q|0,I=36+Q|0,C=32+Q|0,G=28+Q|0,V=24+Q|0,F=20+Q|0,R=16+Q|0,N=12+Q|0,_=8+Q|0,Y=4+Q|0,ar[(f|=0)>>2]=0,Tf(a,i),D=0|un(a,59264),bn(a),J=n+8|0,M=n+20|0,T=n+16|0,U=n+24|0,S=A+8|0,t<<24>>24|0){case 65:case 97:ar[O>>2]=ar[r>>2],ar[a>>2]=ar[O>>2],Tr(A,U,e,a,f,D),H=26;break;case 104:case 66:case 98:ar[j>>2]=ar[r>>2],ar[a>>2]=ar[j>>2],Ur(A,T,e,a,f,D),H=26;break;case 99:j=0|jb[127&ar[12+(0|ar[S>>2])>>2]](S),ar[c>>2]=ar[e>>2],ar[l>>2]=ar[r>>2],H=(t=(r=(H=0|tr[j+8+3>>0])<<24>>24<0)?0|ar[j>>2]:j)+((r?0|ar[j+4>>2]:255&H)<<2)|0,ar[o>>2]=ar[c>>2],ar[a>>2]=ar[l>>2],H=0|Sr(A,o,a,i,f,n,t,H),ar[e>>2]=H,H=26;break;case 101:case 100:ar[u>>2]=ar[r>>2],ar[a>>2]=ar[u>>2],Or(A,n+12|0,e,a,f,D),H=26;break;case 68:ar[b>>2]=ar[e>>2],ar[s>>2]=ar[r>>2],ar[o>>2]=ar[b>>2],ar[a>>2]=ar[s>>2],H=0|Sr(A,o,a,i,f,n,16244,16276),ar[e>>2]=H,H=26;break;case 70:ar[d>>2]=ar[e>>2],ar[k>>2]=ar[r>>2],ar[o>>2]=ar[d>>2],ar[a>>2]=ar[k>>2],H=0|Sr(A,o,a,i,f,n,16276,16308),ar[e>>2]=H,H=26;break;case 72:ar[h>>2]=ar[r>>2],ar[a>>2]=ar[h>>2],zr(A,J,e,a,f,D),H=26;break;case 73:ar[w>>2]=ar[r>>2],ar[a>>2]=ar[w>>2],jr(A,J,e,a,f,D),H=26;break;case 106:ar[v>>2]=ar[r>>2],ar[a>>2]=ar[v>>2],Hr(A,n+28|0,e,a,f,D),H=26;break;case 109:ar[m>>2]=ar[r>>2],ar[a>>2]=ar[m>>2],xr(A,T,e,a,f,D),H=26;break;case 77:ar[g>>2]=ar[r>>2],ar[a>>2]=ar[g>>2],Pr(A,n+4|0,e,a,f,D),H=26;break;case 116:case 110:ar[Z>>2]=ar[r>>2],ar[a>>2]=ar[Z>>2],Lr(A,e,a,f,D),H=26;break;case 112:ar[p>>2]=ar[r>>2],ar[a>>2]=ar[p>>2],Kr(A,J,e,a,f,D),H=26;break;case 114:ar[y>>2]=ar[e>>2],ar[B>>2]=ar[r>>2],ar[o>>2]=ar[y>>2],ar[a>>2]=ar[B>>2],H=0|Sr(A,o,a,i,f,n,16308,16352),ar[e>>2]=H,H=26;break;case 82:ar[E>>2]=ar[e>>2],ar[X>>2]=ar[r>>2],ar[o>>2]=ar[E>>2],ar[a>>2]=ar[X>>2],H=0|Sr(A,o,a,i,f,n,16352,16372),ar[e>>2]=H,H=26;break;case 83:ar[W>>2]=ar[r>>2],ar[a>>2]=ar[W>>2],qr(A,n,e,a,f,D),H=26;break;case 84:ar[I>>2]=ar[e>>2],ar[C>>2]=ar[r>>2],ar[o>>2]=ar[I>>2],ar[a>>2]=ar[C>>2],H=0|Sr(A,o,a,i,f,n,16372,16404),ar[e>>2]=H,H=26;break;case 119:ar[G>>2]=ar[r>>2],ar[a>>2]=ar[G>>2],$r(A,U,e,a,f,D),H=26;break;case 120:t=0|ar[20+(0|ar[A>>2])>>2],ar[V>>2]=ar[e>>2],ar[F>>2]=ar[r>>2],ar[o>>2]=ar[V>>2],ar[a>>2]=ar[F>>2],o=0|$b[63&t](A,o,a,i,f,n);break;case 88:j=0|jb[127&ar[24+(0|ar[S>>2])>>2]](S),ar[R>>2]=ar[e>>2],ar[N>>2]=ar[r>>2],H=(t=(r=(H=0|tr[j+8+3>>0])<<24>>24<0)?0|ar[j>>2]:j)+((r?0|ar[j+4>>2]:255&H)<<2)|0,ar[o>>2]=ar[R>>2],ar[a>>2]=ar[N>>2],H=0|Sr(A,o,a,i,f,n,t,H),ar[e>>2]=H,H=26;break;case 121:ar[_>>2]=ar[r>>2],ar[a>>2]=ar[_>>2],Ai(A,M,e,a,f,D),H=26;break;case 89:ar[Y>>2]=ar[r>>2],ar[a>>2]=ar[Y>>2],ei(A,M,e,a,f,D),H=26;break;case 37:ar[Q>>2]=ar[r>>2],ar[a>>2]=ar[Q>>2],ri(A,e,a,f,D),H=26;break;default:ar[f>>2]=4|ar[f>>2],H=26}return 26==(0|H)&&(o=0|ar[e>>2]),ur=z,0|o},function(A,e,r,i,f,n,t,o){var a;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,A=ur=(e=ur)+31&-32,ur=ur+16|0,t=0|function(A,e,r,i,f,n,t,o){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var a=0,c=0,l=0;ar[(r|=0)>>2]=A,ar[n>>2]=i,2&o?(f-i|0)<3?A=1:(ar[n>>2]=i+1,tr[i>>0]=-17,a=0|ar[n>>2],ar[n>>2]=a+1,tr[a>>0]=-69,a=0|ar[n>>2],ar[n>>2]=a+1,tr[a>>0]=-65,a=4):a=4;A:do{if(4==(0|a))for(A=0|ar[r>>2];;){if(e>>>0<=A>>>0){A=0;break A}if(l=0|ar[A>>2],t>>>0<l>>>0|55296==(-2048&l|0)){A=2;break A}do{if(128<=l>>>0){if(c=255&(63&l|128),l>>>0<2048){if(A=0|ar[n>>2],(f-A|0)<2){A=1;break A}ar[n>>2]=A+1,tr[A>>0]=l>>>6|192,l=0|ar[n>>2],ar[n>>2]=l+1,tr[l>>0]=c;break}if(A=0|ar[n>>2],i=f-A|0,o=A+1|0,a=255&(l>>>6&63|128),l>>>0<65536){if((0|i)<3){A=1;break A}ar[n>>2]=o,tr[A>>0]=l>>>12|224,l=0|ar[n>>2],ar[n>>2]=l+1,tr[l>>0]=a,l=0|ar[n>>2],ar[n>>2]=l+1,tr[l>>0]=c;break}if((0|i)<4){A=1;break A}ar[n>>2]=o,tr[A>>0]=l>>>18|240,o=0|ar[n>>2],ar[n>>2]=o+1,tr[o>>0]=l>>>12&63|128,l=0|ar[n>>2],ar[n>>2]=l+1,tr[l>>0]=a,l=0|ar[n>>2],ar[n>>2]=l+1,tr[l>>0]=c;break}if(A=0|ar[n>>2],(f-A|0)<1){A=1;break A}ar[n>>2]=A+1,tr[A>>0]=l}while(0);A=4+(0|ar[r>>2])|0,ar[r>>2]=A}}while(0);return 0|A}(ar[(a=A+4|0)>>2]=r,i,a,ar[A>>2]=n,t,A,1114111,0),ar[f>>2]=ar[a>>2],ar[o>>2]=ar[A>>2],ur=e,0|t},function(A,e,r,i,f,n,t,o){var a;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,A=ur=(e=ur)+31&-32,ur=ur+16|0,t=0|function(A,e,r,i,f,n,t,o){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var a,c=0,l=0,u=0,b=0,s=0;ar[(r|=0)>>2]=A,ar[n>>2]=i,a=e,4&o|0&&(c=0|ar[r>>2],2<(a-c|0))&&-17==(0|tr[c>>0])&&-69==(0|tr[c+1>>0])&&-65==(0|tr[c+2>>0])&&(ar[r>>2]=c+3);A:for(;;){if(l=0|ar[r>>2],e>>>0<=l>>>0){A=0;break}if(s=0|ar[n>>2],f>>>0<=s>>>0){A=1;break}u=0|tr[l>>0],b=255&u,A=l+1|0;do{if(-1<u<<24>>24){if(t>>>0<b>>>0){A=2;break A}ar[s>>2]=b}else{if((255&u)<194){A=2;break A}if(c=l+2|0,i=a-l|0,(255&u)<224){if((0|i)<2){A=1;break A}if(128!=(192&(A=0|cr[A>>0])|0)){A=2;break A}if(t>>>0<(A=63&A|b<<6&1984)>>>0){A=2;break A}ar[s>>2]=A,A=c;break}if(o=l+3|0,(255&u)<240){if((0|i)<3){A=1;break A}switch(i=0|tr[c>>0],c=0|cr[A>>0],A=224&c,u<<24>>24){case-32:if(160==(0|A))break;A=2;break A;case-19:if(128==(0|A))break;A=2;break A;default:if(128!=(192&c|0)){A=2;break A}}if(128!=(192&(A=255&i)|0)){A=2;break A}if(t>>>0<(A=c<<6&4032|b<<12&61440|63&A)>>>0){A=2;break A}ar[s>>2]=A,A=o;break}if(245<=(255&u)){A=2;break A}if((0|i)<4){A=1;break A}switch(i=0|tr[A>>0],A=0|tr[c>>0],c=0|tr[o>>0],o=255&i,u<<24>>24){case-16:if(48<=(i+112&255)){A=2;break A}break;case-12:if(128==(240&o|0))break;A=2;break A;default:if(128!=(192&o|0)){A=2;break A}}if(128!=(192&(i=255&A)|0)){A=2;break A}if(128!=(192&(A=255&c)|0)){A=2;break A}if(t>>>0<(A=o<<12&258048|b<<18&1835008|i<<6&4032|63&A)>>>0){A=2;break A}ar[s>>2]=A,A=l+4|0}}while(0);ar[r>>2]=A,ar[n>>2]=4+(0|ar[n>>2])}return 0|A}(ar[(a=A+4|0)>>2]=r,i,a,ar[A>>2]=n,t,A,1114111,0),ar[f>>2]=ar[a>>2],ar[o>>2]=ar[A>>2],ur=e,0|t},function(A,e,r,i,f,n,t,o){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var a,c,l,u,b=0,s=0,d=0,k=0;for(d=ur=(u=ur)+31&-32,ur=ur+16|0,d=(l=d)+8|0,b=r|=0;;){if((0|b)==(0|i)){b=i;break}if(!(0|ar[b>>2]))break;b=b+4|0}ar[o>>2]=n,ar[f>>2]=r,a=t,c=A+8|0;A:for(;;){if((0|n)==(0|t)|(0|r)==(0|i)){b=35;break}switch(s=0|ar[(k=e)+4>>2],ar[(A=l)>>2]=ar[k>>2],ar[A+4>>2]=s,A=0|rf(0|ar[c>>2]),s=0|Fi(n,f,b-r>>2,a-n|0,e),0|A&&rf(A),0|s){case-1:b=10;break A;case 0:r=1,b=32;break A}if(n=(0|ar[o>>2])+s|0,(0|(ar[o>>2]=n))==(0|t)){b=33;break}if((0|b)==(0|i))b=i,r=0|ar[f>>2];else{if(n=0|rf(0|ar[c>>2]),r=0|$c(d,0),0|n&&rf(n),-1==(0|r)){r=2,b=31;break}if(r>>>0>(a-(0|ar[o>>2])|0)>>>0){r=1,b=31;break}for(n=d;r;)s=0|tr[n>>0],k=0|ar[o>>2],ar[o>>2]=k+1,tr[k>>0]=s,n=n+1|0,r=r+-1|0;for(r=4+(0|ar[f>>2])|0,b=ar[f>>2]=r;;){if((0|b)==(0|i)){b=i;break}if(!(0|ar[b>>2]))break;b=b+4|0}n=0|ar[o>>2]}}if(10==(0|b)){for(ar[o>>2]=n;(0|r)!=(0|ar[f>>2])&&(k=0|ar[r>>2],b=0|rf(0|ar[c>>2]),n=0|$c(n,k),0|b&&rf(b),-1!=(0|n));)n=(0|ar[o>>2])+n|0,ar[o>>2]=n,r=r+4|0;ar[f>>2]=r,r=2,b=32}else 31==(0|b)?b=32:33==(0|b)&&(r=0|ar[f>>2],b=35);return 32!=(0|b)&&35==(0|b)&&(r=(0|r)!=(0|i)&1),ur=u,0|r},function(A,e,r,i,f,n,t,o){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var a,c,l,u,b=0,s=0,d=0;for(l=ur=(u=ur)+31&-32,ur=ur+16|0,b=r|=0;;){if((0|b)==(0|i)){b=i;break}if(!(0|tr[b>>0]))break;b=b+1|0}for(ar[o>>2]=n,ar[f>>2]=r,a=t,c=A+8|0,A=n;;){if((0|A)==(0|t)|(0|r)==(0|i)){A=32;break}if(n=0|ar[(s=e)+4>>2],ar[(d=l)>>2]=ar[s>>2],ar[d+4>>2]=n,d=b,n=0|rf(0|ar[c>>2]),s=0|Vi(A,f,d-r|0,a-A>>2,e),0|n&&rf(n),-1==(0|s)){b=A,A=10;break}if(A=(0|ar[o>>2])+(s<<2)|0,(0|(ar[o>>2]=A))==(0|t)){A=29;break}if(r=0|ar[f>>2],(0|b)==(0|i))b=i;else{if(b=0|rf(0|ar[c>>2]),r=0|Gi(A,r,1,e),0|b&&rf(b),0|r){r=2,A=28;break}for(ar[o>>2]=4+(0|ar[o>>2]),r=1+(0|ar[f>>2])|0,b=ar[f>>2]=r;;){if((0|b)==(0|i)){b=i;break}if(!(0|tr[b>>0]))break;b=b+1|0}A=0|ar[o>>2]}}do{if(10==(0|A)){A:for(;;){if(ar[o>>2]=b,(0|r)==(0|ar[f>>2])){A=18;break}switch(A=0|rf(0|ar[c>>2]),b=0|Gi(b,r,d-r|0,l),0|A&&rf(A),0|b){case-1:A=15;break A;case-2:A=16;break A;case 0:b=1}r=r+b|0,b=4+(0|ar[o>>2])|0,A=10}if(15==(0|A)){ar[f>>2]=r,r=2,A=28;break}if(16==(0|A)){ar[f>>2]=r,r=1,A=28;break}if(18==(0|A)){r=(0|(ar[f>>2]=r))!=(0|i)&1,A=28;break}}else 29==(0|A)&&(r=0|ar[f>>2],A=32)}while(0);return 28!=(0|A)&&32==(0|A)&&(r=(0|r)!=(0|i)&1),ur=u,0|r},function(A,e,r,i,f,n,t,o){return r|=0,n|=0,o|=0,ar[(f|=0)>>2]=r,ar[o>>2]=n,3},function(A,e,r,i,f,n,t,o){return r|=0,n|=0,o|=0,ar[(f|=0)>>2]=r,ar[o>>2]=n,3},function(A,e,r,i,f,n,t,o){var a;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,A=ur=(e=ur)+31&-32,ur=ur+16|0,t=0|function(A,e,r,i,f,n,t,o){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var a=0,c=0,l=0,u=0,b=0;ar[(r|=0)>>2]=A,ar[n>>2]=i,2&o?(f-i|0)<3?A=1:(ar[n>>2]=i+1,tr[i>>0]=-17,a=0|ar[n>>2],ar[n>>2]=a+1,tr[a>>0]=-69,a=0|ar[n>>2],ar[n>>2]=a+1,tr[a>>0]=-65,a=4):a=4;A:do{if(4==(0|a))for(b=e,A=0|ar[r>>2];;){if(e>>>0<=A>>>0){A=0;break A}if(i=0|or[A>>1],t>>>0<(u=65535&i)>>>0){A=2;break A}do{if((65535&i)<128){if(A=0|ar[n>>2],(f-A|0)<1){A=1;break A}ar[n>>2]=A+1,tr[A>>0]=i}else{if(l=255&(128|(c=63&u)),(65535&i)<2048){if(A=0|ar[n>>2],(f-A|0)<2){A=1;break A}ar[n>>2]=A+1,tr[A>>0]=u>>>6|192,u=0|ar[n>>2],ar[n>>2]=u+1,tr[u>>0]=l;break}if(o=255&(u>>>12|224),a=255&(u>>>6&63|128),(65535&i)<55296){if(A=0|ar[n>>2],(f-A|0)<3){A=1;break A}ar[n>>2]=A+1,tr[A>>0]=o,u=0|ar[n>>2],ar[n>>2]=u+1,tr[u>>0]=a,u=0|ar[n>>2],ar[n>>2]=u+1,tr[u>>0]=l;break}if(56320<=(65535&i)){if((65535&i)<57344){A=2;break A}if(A=0|ar[n>>2],(f-A|0)<3){A=1;break A}ar[n>>2]=A+1,tr[A>>0]=o,u=0|ar[n>>2],ar[n>>2]=u+1,tr[u>>0]=a,u=0|ar[n>>2],ar[n>>2]=u+1,tr[u>>0]=l;break}if((b-A|0)<4){A=1;break A}if(56320!=(64512&(i=0|lr[(A=A+2|0)>>1])|0)){A=2;break A}if((f-(0|ar[n>>2])|0)<4){A=1;break A}if(t>>>0<(65536+((o=960&u)<<10)|c<<10|1023&i)>>>0){A=2;break A}ar[r>>2]=A,c=1+(o>>>6)|0,l=0|ar[n>>2],ar[n>>2]=l+1,tr[l>>0]=c>>>2|240,l=0|ar[n>>2],ar[n>>2]=l+1,tr[l>>0]=u>>>2&15|c<<4&48|128,l=0|ar[n>>2],ar[n>>2]=l+1,tr[l>>0]=u<<4&48|i>>>6&15|128,u=0|ar[n>>2],ar[n>>2]=u+1,tr[u>>0]=63&i|128}}while(0);A=2+(0|ar[r>>2])|0,ar[r>>2]=A}}while(0);return 0|A}(ar[(a=A+4|0)>>2]=r,i,a,ar[A>>2]=n,t,A,1114111,0),ar[f>>2]=ar[a>>2],ar[o>>2]=ar[A>>2],ur=e,0|t},function(A,e,r,i,f,n,t,o){var a;return A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,A=ur=(e=ur)+31&-32,ur=ur+16|0,t=0|function(A,e,r,i,f,n,t,o){A|=0,e|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var a,c,l=0,u=0,b=0,s=0,d=0,k=0;ar[(r|=0)>>2]=A,ar[n>>2]=i,c=e,4&o|0&&(l=0|ar[r>>2],2<(c-l|0))&&-17==(0|tr[l>>0])&&-69==(0|tr[l+1>>0])&&-65==(0|tr[l+2>>0])&&(ar[r>>2]=l+3);a=f;A:for(;;){if(i=0|ar[r>>2],!(A=i>>>0<e>>>0)){k=40;break}if(d=0|ar[n>>2],f>>>0<=d>>>0){k=40;break}if(b=0|tr[i>>0],t>>>0<(s=255&b)>>>0){A=2;break}A=i+1|0;do{if(-1<b<<24>>24)or[d>>1]=255&b;else{if((255&b)<194){A=2;break A}if(l=c-i|0,o=i+2|0,(255&b)<224){if((0|l)<2){A=1;break A}if(128!=(192&(A=0|cr[A>>0])|0)){A=2;break A}if(t>>>0<(A=63&A|s<<6&1984)>>>0){A=2;break A}or[d>>1]=A,A=o;break}if(u=i+3|0,(255&b)<240){if((0|l)<3){A=1;break A}switch(i=0|tr[o>>0],l=0|cr[A>>0],A=224&l,b<<24>>24){case-32:if(160==(0|A))break;A=2;break A;case-19:if(128==(0|A))break;A=2;break A;default:if(128!=(192&l|0)){A=2;break A}}if(128!=(192&(A=255&i)|0)){A=2;break A}if(t>>>0<(65535&(A=l<<6&4032|s<<12|63&A))>>>0){A=2;break A}or[d>>1]=A,A=u;break}if(245<=(255&b)){A=2;break A}if((0|l)<4){A=1;break A}switch(l=0|tr[A>>0],A=0|tr[o>>0],i=0|tr[u>>0],u=255&l,b<<24>>24){case-16:if(48<=(l+112&255)){A=2;break A}break;case-12:if(128==(240&u|0))break;A=2;break A;default:if(128!=(192&u|0)){A=2;break A}}if(128!=(192&(o=255&A)|0)){A=2;break A}if(128!=(192&(A=255&i)|0)){A=2;break A}if((a-d|0)<4){A=1;break A}if(t>>>0<(u<<12&258048|(i=7&s)<<18|4032&(l=o<<6)|(A&=63))>>>0){A=2;break A}or[d>>1]=u<<2&60|o>>>4&3|16320+((u>>>4&3|i<<2)<<6)|55296,d=d+2|0,ar[n>>2]=d,or[d>>1]=A|960&l|56320,A=4+(0|ar[r>>2])|0}}while(0);ar[r>>2]=A,ar[n>>2]=2+(0|ar[n>>2])}40==(0|k)&&(A&=1);return 0|A}(ar[(a=A+4|0)>>2]=r,i,a,ar[A>>2]=n,t,A,1114111,0),ar[f>>2]=ar[a>>2],ar[o>>2]=ar[A>>2],ur=e,0|t},Rb,Rb,Rb,Rb,Rb],rs=[Nb,function(){!function(){var A=0;if(A=0|ar[14154],ar[14154]=A+1,1<(A+1|0))return A=0;if(Ya(),0|Ka())return A=0;ar[14154]=(0|ar[14154])-1,A=11}()},function(){!function(){var A=0;if(A=0|ar[14154],ar[14154]=A-1,(0|(A=A+-1|0))<0)return ar[14154]=1+(0|ar[14154]),A=12;if(0|A)return A=0;qa(),A=0}()},function(){W()},function(){var A,e,r,i=0,f=0,n=0,t=0,o=0;t=ur=ur+31&-32,ur=ur+48|0,r=t+32|0,A=t+24|0,o=t+16|0,t=(e=t)+36|0,0|(i=0|zu())&&0|(n=0|ar[i>>2])&&(1126902528==(-256&(f=0|ar[(i=n+48|0)>>2])|0)&1129074247==(0|(i=0|ar[i+4>>2]))||(ar[A>>2]=56019,ju(55969,A)),i=1126902529==(0|f)&1129074247==(0|i)?0|ar[n+44>>2]:n+80|0,ar[t>>2]=i,n=0|ar[n>>2],i=0|ar[n+4>>2],0|xb[63&ar[16+(0|ar[984])>>2]](3936,n,t)?(o=0|ar[t>>2],o=0|jb[127&ar[8+(0|ar[o>>2])>>2]](o),ar[e>>2]=56019,ar[e+4>>2]=i,ar[e+8>>2]=o,ju(55883,e)):(ar[o>>2]=56019,ar[o+4>>2]=i,ju(55928,o))),ju(56007,r)},function(){var A,e;e=ur=(A=ur)+31&-32,ur=ur+16|0,0|mA(61152,446)?ju(56207,e):ur=A},Nb,Nb],is=[_b,XA,function(A){var e;ar[(A|=0)>>2]=4232,(e=0|ar[A+24>>2])&&mu(e),vu(A)},function(A){var e;ar[(A|=0)>>2]=4264,(e=0|ar[A+24>>2])&&((0|ar[(A=A+28|0)>>2])!=(0|e)&&(ar[A>>2]=e),vu(e))},function(A){var e,r;ar[(A|=0)>>2]=4264,(e=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|e)&&(ar[r>>2]=e),vu(e)),vu(A)},function(A){var e,r,i;ar[(A|=0)>>2]=4304,ar[(e=A+56|0)>>2]=4324,ar[(r=A+4|0)>>2]=4340,(0|tr[11+(i=A+36|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),Gf(),bf(e)},function(A){var e,r,i;ar[(A|=0)>>2]=4304,ar[(e=A+56|0)>>2]=4324,ar[(r=A+4|0)>>2]=4340,(0|tr[11+(i=A+36|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),Gf(),bf(e),vu(A)},function(A){var e,r,i;A=(A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0,ar[A>>2]=4304,ar[(e=A+56|0)>>2]=4324,ar[(r=A+4|0)>>2]=4340,(0|tr[11+(i=A+36|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),Gf(),bf(e)},function(A){var e,r,i;A=(A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0,ar[A>>2]=4304,ar[(e=A+56|0)>>2]=4324,ar[(r=A+4|0)>>2]=4340,(0|tr[11+(i=A+36|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),Gf(),bf(e),vu(A)},function(A){var e;ar[(A|=0)>>2]=4340,(0|tr[11+(e=A+32|0)>>0])<0&&vu(0|ar[e>>2]),kf(A)},function(A){var e;ar[(A|=0)>>2]=4340,(0|tr[11+(e=A+32|0)>>0])<0&&vu(0|ar[e>>2]),kf(A),vu(A)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){tr[(A|=0)+37>>0]=0},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4436,0|(r=0|ar[A+64>>2])&&((0|(f=0|ar[(i=A+68|0)>>2]))!=(0|r)&&(ar[i>>2]=f+(~((f+-4-r|0)>>>2)<<2)),vu(r)),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4436,0|(r=0|ar[A+64>>2])&&((0|(f=0|ar[(i=A+68|0)>>2]))!=(0|r)&&(ar[i>>2]=f+(~((f+-4-r|0)>>>2)<<2)),vu(r)),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i;ar[(A|=0)>>2]=4504,ar[(e=A+64|0)>>2]=4544,ar[A+8>>2]=4524,ar[(r=A+12|0)>>2]=4340,(0|tr[11+(i=A+44|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),_f(),bf(e)},function(A){var e,r,i;ar[(A|=0)>>2]=4504,ar[(e=A+64|0)>>2]=4544,ar[A+8>>2]=4524,ar[(r=A+12|0)>>2]=4340,(0|tr[11+(i=A+44|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),_f(),bf(e),vu(A)},function(A){var e,r,i;ar[(A=(A|=0)+-8|0)>>2]=4504,ar[(e=A+64|0)>>2]=4544,ar[A+8>>2]=4524,ar[(r=A+12|0)>>2]=4340,(0|tr[11+(i=A+44|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),_f(),bf(e)},function(A){var e,r,i;ar[(A=(A|=0)+-8|0)>>2]=4504,ar[(e=A+64|0)>>2]=4544,ar[A+8>>2]=4524,ar[(r=A+12|0)>>2]=4340,(0|tr[11+(i=A+44|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),_f(),bf(e),vu(A)},function(A){var e,r,i;A=(A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0,ar[A>>2]=4504,ar[(e=A+64|0)>>2]=4544,ar[A+8>>2]=4524,ar[(r=A+12|0)>>2]=4340,(0|tr[11+(i=A+44|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),_f(),bf(e)},function(A){var e,r,i;A=(A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0,ar[A>>2]=4504,ar[(e=A+64|0)>>2]=4544,ar[A+8>>2]=4524,ar[(r=A+12|0)>>2]=4340,(0|tr[11+(i=A+44|0)>>0])<0&&vu(0|ar[i>>2]),kf(r),_f(),bf(e),vu(A)},yf,Bf,function(A){yf((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},function(A){Bf((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},Rf,Nf,function(A){Rf((A|=0)+-8|0)},function(A){Nf((A|=0)+-8|0)},function(A){Rf((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},function(A){Nf((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},If,Cf,function(A){If((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},function(A){Cf((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4600,ar[(r=A+16|0)>>2]=4436,0|(i=0|ar[A+80>>2])&&((0|(n=0|ar[(f=A+84|0)>>2]))!=(0|i)&&(ar[f>>2]=n+(~((n+-4-i|0)>>>2)<<2)),vu(i)),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4600,ar[(r=A+16|0)>>2]=4436,0|(i=0|ar[A+80>>2])&&((0|(n=0|ar[(f=A+84|0)>>2]))!=(0|i)&&(ar[f>>2]=n+(~((n+-4-i|0)>>>2)<<2)),vu(i)),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4628,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4628,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4656,ar[(r=A+16|0)>>2]=4684,(0|tr[(i=A+92|0)+11>>0])<0&&vu(0|ar[i>>2]),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4656,ar[(r=A+16|0)>>2]=4684,(0|tr[(i=A+92|0)+11>>0])<0&&vu(0|ar[i>>2]),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4684,(0|tr[(r=A+76|0)+11>>0])<0&&vu(0|ar[r>>2]),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4684,(0|tr[(r=A+76|0)+11>>0])<0&&vu(0|ar[r>>2]),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4716,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4716,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){tr[(A|=0)+37>>0]=65535<(0|ar[A+56>>2])>>>0&1},function(A){ar[(A|=0)>>2]=4776,Yt(A+16|0),tu()},function(A){ar[(A|=0)>>2]=4776,Yt(A+16|0),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},Yt,function(A){Yt(A|=0),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0,o=0;if(i=0|cr[(A|=0)+72>>0],i=!(65535<(n=0|ar[A+60>>2])-(f=0|ar[A+56>>2])>>5>>>0)||2<i>>>0?i:2,r=A+74|0,t=A+75|0,o=A+76|0,tr[(e=A+73|0)>>0]=0,tr[1+e>>0]=0,tr[2+e>>0]=0,((tr[3+e>>0]=0)|f)==(0|n))return n=i,tr[e>>0]=4,tr[r>>0]=4,tr[t>>0]=4,tr[o>>0]=0,t=255&n,void(tr[(o=A+37|0)>>0]=t);for(;i=!(65535<(0|ar[f>>2])>>>0)||2<(0|i)?i:2,i=0==(0|tr[f+4>>0])|1<(0|i)?i:1,(0|(f=f+32|0))!=(0|n););tr[e>>0]=4,tr[r>>0]=4,tr[t>>0]=4,tr[o>>0]=0,t=255&i,tr[(o=A+37|0)>>0]=t},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4836,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4836,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){tr[(A|=0)+37>>0]=65535<(0|ar[A+48>>2])-(0|ar[A+44>>2])>>3>>>0&1},function(A){ar[(A|=0)>>2]=4896,_t(A+16|0),tu()},function(A){ar[(A|=0)>>2]=4896,_t(A+16|0),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},_t,function(A){_t(A|=0),vu(A)},function(A){var e,r=0,i=0,f=0;if(r=(e=65535<(0|ar[(A|=0)+56>>2])>>>0)?3:0==(0|tr[A+124>>0])?0:2,0==(0|((f=0|tr[(i=A+64|0)+11>>0])<<24>>24<0?0|ar[A+68>>2]:255&f))&&(f=0==(0|Yu(i,0,-1,79659,0))))return i=r,i&=255,void(tr[(f=A+37|0)>>0]=i);i=r=e?3:2,i&=255,tr[(f=A+37|0)>>0]=i},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4956,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=4956,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5016,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5016,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){ar[(A|=0)>>2]=5076,Ft(A+16|0),tu()},function(A){ar[(A|=0)>>2]=5076,Ft(A+16|0),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},Ft,function(A){Ft(A|=0),vu(A)},function(A){var e=0,r=0,i=0,f=0,n=0,t=0;if((0|(r=0|ar[(A|=0)+56>>2]))==(0|(t=0|ar[A+60>>2])))return tr[(t=A+37|(n=f=0))>>0]=f,n&=1,void(ar[(t=A+40|0)>>2]=n);n=e=0;do{if(n=65535<(0|ar[r>>2])>>>0?1:n,(0|(i=0|ar[r+4>>2]))!=(0|(f=0|ar[r+8>>2])))for(;e|=127<(0|lr[i+2>>1]),(0|(i=i+4|0))!=(0|f););r=r+16|0}while((0|r)!=(0|t));f=255&n,n=e,tr[(t=A+37|0)>>0]=f,n&=1,ar[(t=A+40|0)>>2]=n},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5136,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5136,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},Vt,function(A){Vt(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5224,0|(r=0|ar[A+68>>2])&&((0|ar[(i=A+72|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),(0|tr[(r=A+56|0)+11>>0])<0&&vu(0|ar[r>>2]),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5224,0|(r=0|ar[A+68>>2])&&((0|ar[(i=A+72|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),(0|tr[(r=A+56|0)+11>>0])<0&&vu(0|ar[r>>2]),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5256,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5256,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5316,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5316,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5376,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5376,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){ar[(A|=0)>>2]=5436,be(A+16|0),tu()},function(A){ar[(A|=0)>>2]=5436,be(A+16|0),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},be,function(A){be(A|=0),vu(A)},function(A){var e=0,r=0,i=0,f=0,n=0,t=0;if((0|(r=0|ar[(A|=0)+56>>2]))!=(0|(n=0|ar[A+60>>2]))){for(e=0;;){if(65535<(0|ar[r+48>>2])>>>0){e=1,r=6;break}if((0|(i=0|ar[r+52>>2]))!=(0|(f=0|ar[r+56>>2])))for(;e=(t=65535<(0|ar[i>>2])>>>0)?1:e,!(t|(0|(i=i+4|0))==(0|f)););if((0|(r=r+64|0))==(0|n)){r=6;break}}6!=(0|r)||(tr[(t=A+37|0)>>0]=e)}else tr[(A=A+37|(n=0))>>0]=n},function(A){ar[(A|=0)>>2]=5496,ce(A+16|0),tu()},function(A){ar[(A|=0)>>2]=5496,ce(A+16|0),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},ce,function(A){ce(A|=0),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5556,ar[(r=A+16|0)>>2]=5584,0|(i=0|ar[A+84>>2])&&((0|ar[(f=A+88|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5556,ar[(r=A+16|0)>>2]=5584,0|(i=0|ar[A+84>>2])&&((0|ar[(f=A+88|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5584,0|(r=0|ar[A+68>>2])&&((0|ar[(i=A+72|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5584,0|(r=0|ar[A+68>>2])&&((0|ar[(i=A+72|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5616,ar[(r=A+16|0)>>2]=5644,0|(i=0|ar[A+88>>2])&&((0|ar[(f=A+92|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5616,ar[(r=A+16|0)>>2]=5644,0|(i=0|ar[A+88>>2])&&((0|ar[(f=A+92|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5644,0|(r=0|ar[A+72>>2])&&((0|ar[(i=A+76|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5644,0|(r=0|ar[A+72>>2])&&((0|ar[(i=A+76|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){ar[(A|=0)>>2]=5676,te(A+16|0),tu()},function(A){ar[(A|=0)>>2]=5676,te(A+16|0),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},te,function(A){te(A|=0),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5736,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5736,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5796,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5796,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5856,ar[(r=A+16|0)>>2]=5884,(0|tr[(i=A+72|0)+11>>0])<0&&vu(0|ar[i>>2]),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5856,ar[(r=A+16|0)>>2]=5884,(0|tr[(i=A+72|0)+11>>0])<0&&vu(0|ar[i>>2]),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5884,(0|tr[(r=A+56|0)+11>>0])<0&&vu(0|ar[r>>2]),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5884,(0|tr[(r=A+56|0)+11>>0])<0&&vu(0|ar[r>>2]),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5916,ar[(r=A+16|0)>>2]=5944,0|(i=0|ar[A+76>>2])&&du(i),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5916,ar[(r=A+16|0)>>2]=5944,0|(i=0|ar[A+76>>2])&&du(i),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5944,0|(r=0|ar[A+60>>2])&&du(r),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=5944,0|(r=0|ar[A+60>>2])&&du(r),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(f=i;i=f+-8|0,ar[n>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[n>>2]),(0|i)!=(0|r);)f=i;r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5976,ar[(r=A+16|0)>>2]=6004,0|(i=0|ar[A+72>>2])&&((0|ar[(f=A+76|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=5976,ar[(r=A+16|0)>>2]=6004,0|(i=0|ar[A+72>>2])&&((0|ar[(f=A+76|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),ar[r>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(;n=f+-8|0,ar[t>>2]=n,(0|(f=(f=0|ar[f+-4>>2])?(du(f),0|ar[t>>2]):n))!=(0|i););i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=6004,0|(r=0|ar[A+56>>2])&&((0|ar[(i=A+60|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(i=0|ar[A+24>>2])&&((0|ar[(r=A+28|0)>>2])!=(0|i)&&(ar[r>>2]=i),vu(i))},function(A){var e,r=0,i=0,f=0,n=0;if(ar[(A|=0)>>2]=6004,0|(r=0|ar[A+56>>2])&&((0|ar[(i=A+60|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),ar[A>>2]=4404,0|(r=0|ar[(e=A+44|0)>>2])){if((0|(i=0|ar[(n=A+48|0)>>2]))!=(0|r)){for(;f=i+-8|0,ar[n>>2]=f,(0|(i=(i=0|ar[i+-4>>2])?(du(i),0|ar[n>>2]):f))!=(0|r););r=0|ar[e>>2]}vu(r)}ar[A>>2]=4264,(r=0|ar[A+24>>2])&&((0|ar[(i=A+28|0)>>2])!=(0|r)&&(ar[i>>2]=r),vu(r)),vu(A)},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=6036,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}ar[r>>2]=4264,(i=0|ar[A+40>>2])&&((0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i)),tu()},function(A){var e,r,i=0,f=0,n=0,t=0;if(ar[(A|=0)>>2]=6036,ar[(r=A+16|0)>>2]=4404,0|(i=0|ar[(e=A+60|0)>>2])){if((0|(f=0|ar[(t=A+64|0)>>2]))!=(0|i)){for(n=f;f=n+-8|0,ar[t>>2]=f,(n=0|ar[n+-4>>2])&&(du(n),f=0|ar[t>>2]),(0|f)!=(0|i);)n=f;i=0|ar[e>>2]}vu(i)}if(ar[r>>2]=4264,!(i=0|ar[A+40>>2]))return tu(),void vu(A);(0|ar[(f=A+44|0)>>2])!=(0|i)&&(ar[f>>2]=i),vu(i),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){0},function(A){vu(A|=0)},function(A){var e,r;ar[(A|=0)>>2]=6120,ar[A+12>>2]=6148,(e=0|ar[A+20>>2])&&((0|ar[(r=A+24|0)>>2])!=(0|e)&&(ar[r>>2]=e),vu(e)),tu()},function(A){var e,r;if(ar[(A|=0)>>2]=6120,ar[A+12>>2]=6148,!(e=0|ar[A+20>>2]))return tu(),void vu(A);(0|ar[(r=A+24|0)>>2])!=(0|e)&&(ar[r>>2]=e),vu(e),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){var e;ar[(A|=0)>>2]=6148,(e=0|ar[A+8>>2])&&((0|ar[(A=A+12|0)>>2])!=(0|e)&&(ar[A>>2]=e),vu(e))},function(A){var e,r;ar[(A|=0)>>2]=6148,(e=0|ar[A+8>>2])&&((0|ar[(r=A+12|0)>>2])!=(0|e)&&(ar[r>>2]=e),vu(e)),vu(A)},function(A){ar[(A|=0)>>2]=6180,XA(A+16|0),tu()},function(A){ar[(A|=0)>>2]=6180,XA(A+16|0),tu(),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){ar[(A|=0)>>2]=6208,po(A+12|0),tu()},function(A){ar[(A|=0)>>2]=6208,po(A+12|0),tu(),vu(A)},function(A){po((A|=0)+12|0)},function(A){vu(A|=0)},function(A){ar[(A|=0)>>2]=6336,gl(A+12|0),tu()},function(A){ar[(A|=0)>>2]=6336,gl(A+12|0),tu(),vu(A)},function(A){gl((A|=0)+12|0)},function(A){vu(A|=0)},function(A){ar[(A|=0)>>2]=6364,lo(A+12|0),tu()},function(A){ar[(A|=0)>>2]=6364,lo(A+12|0),tu(),vu(A)},function(A){lo((A|=0)+12|0)},function(A){vu(A|=0)},function(A){ar[(A|=0)>>2]=6392,El(A+16|0),tu()},function(A){ar[(A|=0)>>2]=6392,El(A+16|0),tu(),vu(A)},function(A){El((A|=0)+16|0)},function(A){vu(A|=0)},function(A){var e=0,r=0;ar[(A|=0)>>2]=6420,0|(e=0|ar[A+40>>2])&&((0|ar[(r=A+44|0)>>2])!=(0|e)&&(ar[r>>2]=e),vu(e)),(0|tr[(e=A+28|0)+11>>0])<0&&vu(0|ar[e>>2]),0<=(0|tr[(e=A+16|0)+11>>0])||vu(0|ar[e>>2]),tu()},function(A){var e=0,r=0;if(ar[(A|=0)>>2]=6420,0|(e=0|ar[A+40>>2])&&((0|ar[(r=A+44|0)>>2])!=(0|e)&&(ar[r>>2]=e),vu(e)),(0|tr[(e=A+28|0)+11>>0])<0&&vu(0|ar[e>>2]),0<=(0|tr[(e=A+16|0)+11>>0]))return tu(),void vu(A);vu(0|ar[e>>2]),tu(),vu(A)},function(A){var e=0,r=0;0|(e=0|ar[(A|=0)+40>>2])&&((0|ar[(r=A+44|0)>>2])!=(0|e)&&(ar[r>>2]=e),vu(e)),(0|tr[(e=A+28|0)+11>>0])<0&&vu(0|ar[e>>2]),0<=(0|tr[(e=A+16|0)+11>>0])||vu(0|ar[e>>2])},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+16|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){0},function(A){vu(A|=0)},function(A){0},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){tu(A|=0)},function(A){tu(A|=0),vu(A)},function(A){is[511&ar[ar[(A=(A|=0)+12|0)>>2]>>2]](A)},function(A){vu(A|=0)},function(A){(function(A){(function(A){if((0|ar[375892+(A|=0)>>2])<=0)return;!function(A){var e,r,i,f=0;{if(gb(e=420+(A|=0)|0),tr[A>>0]=1,Zb(),mb(r=A+448|0),!(0<(0|ar[(i=A+156|0)>>2])))return ZA(0|e),sA(0|r);f=0}for(;vA(0|ar[A+28+(f<<2)>>2],0),f=f+1|0,(0|f)<(0|ar[i>>2]););ZA(0|e),sA(0|r)}(A+375396|0)})(A|=0),0|A&&is[511&ar[4+(0|ar[A>>2])>>2]](A);if(A=0|ar[14154],ar[14154]=A-1,(0|(A=A+-1|0))<0)return ar[14154]=1+(0|ar[14154]),A=12;if(0|A)return A=0;qa(),A=0})(0|ar[(A|=0)>>2]),A&&vu(A)},Me,function(A){Me(A|=0),vu(A)},function(A){0},function(A){vu(A|=0)},function(A){0},function(A){vu(A|=0)},function(A){var e,r,i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0;ar[(t=(A|=0)+4|0)>>2]=1,la(0|ar[(n=A+12|0)>>2],A),o=0|ar[n>>2],u=(w=0|ar[o+5820>>2])+-1|0,i=1<<(b=0|ar[o+5804>>2]),l=A+24|0,ba(o,A,u,0|ar[(f=A+8|0)>>2],0|ar[l>>2]),0<(0|(o=0|ar[f>>2]))&&(ba(0|ar[n>>2],A,u,o+-1|0,0|ar[l>>2]),o=0|ar[f>>2]),a=o+1|0,c=0|ar[n>>2],(0|a)<(0|ar[c+5828>>2])&&(ba(c,A,u,a,0|ar[l>>2]),o=0|ar[f>>2]),r=A+16|0,function(A,e,r,i){A|=0,r|=0,i|=0;var f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(c=(0|(c=0|ar[(e|=0)+28>>2]))<(0|i)?c:i,1&r|0&&sr(36765,36663,535,36780),1&c|0&&sr(36796,36663,536,36780),n=(7+(0|ar[A+5760>>2])|0)/8|0,s=(7+(0|ar[A+5768>>2])|0)/8|0,(0|(i=0|ar[(t=e+40|0)>>2]))!=(0|(f=0|ar[(o=A+40|0)>>2]))){if((0|r)<(0|c)&&(l=A+4|0,u=e+4|0,b=e+24|0,a=0|br(n,r),hb(0|(f=(0|ar[l>>2])+(0|br(a,f))|0),0|(a=(0|ar[u>>2])+(0|br(a,i))|0),0|br(0|ar[b>>2],n)),(0|(a=r+1|0))<(0|c)))for(i=a;a=0|br(i,n),hb(0|(f=(0|ar[l>>2])+(0|br(a,0|ar[o>>2]))|0),0|(a=(0|ar[u>>2])+(0|br(a,0|ar[t>>2]))|0),0|br(0|ar[b>>2],n)),(0|(i=i+1|0))<(0|c););}else hb(0|(b=(0|ar[A+4>>2])+(0|br(0|br(n,r),i))|0),(0|ar[e+4>>2])+(0|br(0|br(i,r),n))|0,0|br(0|br(n,c-r|0),i));if(i=(0|r)/(0|(a=0|ar[e+5784>>2]))|0,a=(0|c)/(0|a)|0,0|ar[e+20>>2]){if((0|(f=0|ar[(c=e+44|0)>>2]))==(0|(n=0|ar[(r=A+44|0)>>2])))return u=0|br(i,s),l=0|br(u,f),b=0|br(a-i|0,s),hb((0|ar[A+8>>2])+l|0,(0|ar[e+8>>2])+l|0,0|br(b,f)),s=0|ar[r>>2],u=0|br(u,s),hb((0|ar[A+12>>2])+u|0,(0|ar[e+12>>2])+u|0,0|br(b,s));if(!((0|a)<=(0|i)))for(l=A+8|0,u=e+8|0,b=e+32|0,o=A+12|0,t=e+12|0;e=0|br(i,s),hb(0|(n=(0|ar[l>>2])+(0|br(e,n))|0),0|(A=(0|ar[u>>2])+(0|br(e,f))|0),0|br(0|ar[b>>2],s)),hb(0|(A=(0|ar[o>>2])+(0|br(e,0|ar[r>>2]))|0),0|(e=(0|ar[t>>2])+(0|br(e,0|ar[c>>2]))|0),0|br(0|ar[b>>2],s)),(0|(i=i+1|0))!=(0|a);)n=0|ar[r>>2],f=0|ar[c>>2]}}(0|ar[(e=A+20|0)>>2],0|ar[r>>2],o<<b,o+1<<b),o=0|ar[n>>2];A:do{if(0<(0|ar[o+5820>>2])){h=0;do{if(b=0|ar[f>>2],a=(0|br(0|ar[o+10352>>2],b))+h|0,a=0|lr[(0|ar[o+10340>>2])+(24*a|0)+2>>1],c=0|ar[o+48>>2],a>>>0>=(0|ar[o+52>>2])-c>>2>>>0)break A;if(!(k=0|ar[c+(a<<2)>>2]))break A;do{if(0|tr[k+325>>0]){if(a=0|ar[r>>2],l=0|ar[a+4>>2],a=0|ar[a+40>>2],c=0|ar[e>>2],u=0|ar[c+4>>2],c=0|ar[c+40>>2],8<(0|ar[o+5760>>2])){Ra(o,h,b,k,0,i,i,l,a,u,c);break}Na(o,h,b,k,0,i,i,l,a,u,c);break}}while(0);do{if(0|tr[k+326>>0]){if(c=0|ar[n>>2],s=(0|i)/(0|ar[c+5780>>2])|0,d=(0|i)/(0|ar[c+5784>>2])|0,l=0|ar[f>>2],a=0|ar[r>>2],u=0|ar[a+8>>2],a=0|ar[a+44>>2],o=0|ar[e>>2],b=0|ar[o+8>>2],o=0|ar[o+44>>2],(8<(0|ar[c+5768>>2])?Ra:Na)(c,h,l,k,1,s,d,u,a,b,o),u=0|ar[n>>2],b=0|ar[f>>2],a=0|ar[r>>2],c=0|ar[a+12>>2],a=0|ar[a+44>>2],o=0|ar[e>>2],l=0|ar[o+12>>2],o=0|ar[o+44>>2],8<(0|ar[u+5768>>2])){Ra(u,h,b,k,2,s,d,c,a,l,o);break}Na(u,h,b,k,2,s,d,c,a,l,o);break}}while(0);h=h+1|0,o=0|ar[n>>2]}while((0|h)<(0|ar[o+5820>>2]))}}while(0);if(!(0<(0|w)))return w=o,ar[t>>2]=3,void ua(w,A);for(a=0;Tn((0|ar[o+10524>>2])+(80*((0|br(0|ar[f>>2],0|ar[o+5820>>2]))+a|0)|0)|0,4),a=a+1|0,o=0|ar[n>>2],(0|a)!=(0|w););ar[t>>2]=3,ua(o,A)},function(A){vu(A|=0)},function(A){var e,r,i,f=0,n=0,t=0,o=0;e=0|ar[(A|=0)+20>>2],r=0|ar[(n=18596+e|0)>>2],ar[(i=A+4|0)>>2]=1,la(r,A),n=0|ar[n>>2],t=0|ar[4+e>>2],f=0|ar[n+5836>>2],o=0|ar[n+5820>>2],(0|t)<(0|f)&&(f=0|ar[(0|ar[n+10284>>2])+(t<<2)>>2]),ar[e>>2]=f,ar[8+e>>2]=(0|f)%(0|o)|0,ar[12+e>>2]=(0|f)/(0|o)|0,f=A+8|0;do{if(0|tr[f>>0]){if(!(0|Da(e)))return ar[i>>2]=3,Un(44+(0|ar[18608+e>>2])|0,1),void ua(r,A)}else{if(n=0|ar[18600+e>>2],(t=0|ar[n+796>>2])>>>0<3){ht(18580+e|0,t,0|ar[n+792>>2]),tr[(o=18588+e|0)>>0]=0,tr[o+1>>0]=0,tr[o+2>>0]=0,tr[o+3>>0]=0;break}sr(39211,39242,1508,39251)}}while(0);tt(18556+e|0),Ja(e,0,0!=(0|tr[f>>0])),ar[i>>2]=3,Un(44+(0|ar[18608+e>>2])|0,1),ua(r,A)},function(A){vu(A|=0)},function(A){var e,r,i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0;if(f=0|ar[(A|=0)+16>>2],n=0|ar[(l=18596+f|0)>>2],r=0|ar[(i=5820+n|0)>>2],ar[(t=A+4|0)>>2]=1,la(n,A),l=0|ar[l>>2],c=0|ar[4+f>>2],a=0|ar[l+5836>>2],u=0|ar[l+5820>>2],(0|c)<(0|a)&&(a=0|ar[(0|ar[l+10284>>2])+(c<<2)>>2]),ar[f>>2]=a,ar[(c=8+f|0)>>2]=(0|a)%(0|u)|0,ar[(l=12+f|0)>>2]=(0|a)/(0|u)|0,e=(0|a)/(0|r)|0,0|tr[(a=A+8|0)>>0]&&!(0|Da(f))){if(0<(0|r))for(c=10524+n|0,a=0|br(e,r),o=0;Tn((0|ar[c>>2])+(80*(o+a|0)|0)|0,1),(0|(o=o+1|0))!=(0|r););return ar[t>>2]=3,Un(44+(0|ar[18608+f>>2])|0,1),void ua(n,A)}tt(18556+f|0),Ja(f,1,a=0|tr[a>>0]?0==(0|tr[12+(0|ar[18600+f>>2])>>0]):0);A:do{if((0|ar[l>>2])==(0|e)&&(b=0|ar[i>>2],o=0|ar[c>>2],(0|o)<(0|b)))for(u=5828+n|0,c=0|br(e,r),l=10524+n|0,a=b;;){if((0|o)<(0|a)&&(0|e)<(0|ar[u>>2])&&Tn((0|ar[l>>2])+(80*(o+c|0)|0)|0,1),(0|(o=o+1|0))==(0|b))break A;a=0|ar[i>>2]}}while(0);ar[t>>2]=3,Un(44+(0|ar[18608+f>>2])|0,1),ua(n,A)},function(A){vu(A|=0)},function(A){var e,r,i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0;ar[(a=(A|=0)+4|0)>>2]=1,la(0|ar[(t=A+8|0)>>2],A),e=0|ar[t>>2],i=0|ar[10472+e>>2],d=(0|ar[5812+e>>2])/4|0,c=0|ar[(n=A+12|0)>>2],r=0|br(c,d),d=0|br(l=c+1|0,d),d=(0|(s=0|ar[10476+e>>2]))<(0|d)?s:d,f=(k=0!=(0|tr[(s=A+16|0)>>0]))?2:3,u=(o=0|ar[5820+e>>2])-1|0,k?ba(e,A,u,(0|(k=(0|ar[5828+e>>2])-1|0))<(0|l)?k:l,1):(0<(0|c)?(ba(e,A,u,c+-1|0,2),l=0|ar[t>>2],c=0|ar[n>>2]):l=e,ba(l,A,u,c,2),c=1+(0|ar[n>>2])|0,l=0|ar[t>>2],(0|c)<(0|ar[l+5828>>2])&&ba(l,A,u,c,2)),c=0|ar[t>>2],l=0|ar[n>>2],0|tr[s>>0]?(k=0|Zt(c,l),c=0|ar[t>>2],u=0|br(0|ar[c+10352>>2],0|ar[n>>2]),tr[(0|ar[c+10340>>2])+(24*u|0)+21>>0]=1&k,k&&(l=0!=(0|tr[s>>0]),b=11)):(k=0|br(0|ar[c+10352>>2],l),0|tr[(0|ar[c+10340>>2])+(24*k|0)+21>>0]&&(l=0,b=11));do{if(11==(0|b)&&(pt(c,l,r,d,0,i),c=0|ar[t>>2],l=0!=(0|tr[s>>0]),(8<(0|ar[c+5760>>2])?yt:Bt)(c,l,r,d,0,i),l=0|ar[t>>2],0|ar[l+5776>>2])){if(c=0!=(0|tr[s>>0]),8<(0|ar[l+5768>>2])){Et(l,c,r,d,0,i);break}Xt(l,c,r,d,0,i);break}}while(0);if(c=0|ar[t>>2],!(0<(0|o)))return k=c,ar[a>>2]=3,void ua(k,A);for(l=0;Tn((0|ar[c+10524>>2])+(80*((0|br(0|ar[n>>2],0|ar[c+5820>>2]))+l|0)|0)|0,f),l=l+1|0,c=0|ar[t>>2],(0|l)!=(0|o););ar[a>>2]=3,ua(c,A)},sf,function(A){sf(A|=0),vu(A)},kf,function(A){kf(A|=0),vu(A)},mf,function(A){mf(A|=0),vu(A)},Xf,Wf,function(A){Xf((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},function(A){Wf((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},Vf,Ff,function(A){Vf((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},function(A){Ff((A|=0)+(0|ar[(0|ar[A>>2])-12>>2])|0)},An,function(A){An(A|=0),vu(A)},en,function(A){en(A|=0),vu(A)},rn,function(A){rn(A|=0),vu(A)},nn,function(A){nn(A|=0),vu(A)},on,function(A){on(A|=0),vu(A)},function(A){0|(A|=0)&&is[511&ar[4+(0|ar[A>>2])>>2]](A)},cn,function(A){cn(),vu(A|=0)},function(A){an()},function(A){an(),vu(A|=0)},function(A){an()},function(A){an(),vu(A|=0)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){ni((A|=0)+8|0),an()},function(A){ni((A|=0)+8|0),an(),vu(A)},function(A){ni((A|=0)+8|0),an()},function(A){ni((A|=0)+8|0),an(),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an(A|=0)},function(A){an(A|=0),vu(A)},function(A){an()},function(A){an(),vu(A|=0)},function(A){an()},function(A){an(),vu(A|=0)},an,function(A){an(),vu(A|=0)},function(A){an(),vu(A|=0)},Ql,function(A){Ql(A|=0),vu(A)},Dl,function(A){Dl(A|=0),vu(A)},Jl,function(A){Jl(A|=0),vu(A)},Sl,function(A){Sl(A|=0),vu(A)},Ol,function(A){Ol(A|=0),vu(A)},function(A){an(),vu(A|=0)},function(A){an(),vu(A|=0)},function(A){an(),vu(A|=0)},function(A){an(),vu(A|=0)},function(A){an(),vu(A|=0)},ou,function(A){ou(),vu(A|=0)},Hu,function(A){Hu(),vu(A|=0)},function(A){0},function(A){0},function(A){Hu(),vu(A|=0)},$u,function(A){$u(A|=0),vu(A)},function(A){$u(A|=0),vu(A)},function(A){Hu(),vu(A|=0)},function(A){Hu(),vu(A|=0)},function(A){Hu(),vu(A|=0)},function(A){Hu(),vu(A|=0)},function(A){ar[(A|=0)>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,tr[A+11>>0]=6,tr[A>>0]=0|tr[30018],tr[A+1>>0]=0|tr[30019],tr[A+2>>0]=0|tr[30020],tr[A+3>>0]=0|tr[30021],tr[A+4>>0]=0|tr[30022],tr[A+5>>0]=0|tr[30023],tr[A+6>>0]=0},function(A){var e;(A|=0)&&(0|(e=0|ar[A+4>>2])&&du(e),vu(A))},function(A){var e=0;(A|=0)&&(0|(e=0|ar[A+12>>2])&&du(e),0|(e=0|ar[A+4>>2])&&du(e),vu(A))},function(A){var e;(A|=0)&&(0|(e=0|ar[A+4>>2])&&du(e),vu(A))},function(A){var e=0;(A|=0)&&(0|(e=0|ar[A+12>>2])&&du(e),0|(e=0|ar[A+4>>2])&&du(e),vu(A))},function(A){var e;(A|=0)&&(0|(e=0|ar[A+4>>2])&&du(e),vu(A))},function(A){(A|=0)&&vu(A)},function(A){var e;A|=0,e=0|ar[14811],ar[14811]=1+e,ar[A+4>>2]=1+e},function(A){!function(A){var e,r,i;e=0|ar[4+(A|=0)>>2],i=0|ar[A+8>>2],r=(0|ar[A>>2])+(i>>1)|0,A=1&i?0|ar[(0|ar[r>>2])+e>>2]:e;is[511&A](r)}(0|ar[ar[(A|=0)>>2]>>2])},function(A){0},Bc,function(A){var e,r;r=ur=(e=ur)+31&-32,ur=ur+16|0,Bc(A|=0),0|BA(0|ar[15288],0)?ju(56257,r):ur=e},_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b,_b],fs=[Yb,function(A,e){},function(A,e){var r,i;A|=0,e|=0,r=0|hu(4),ar[r>>2]=0,ar[A>>2]=ar[1904],ar[A+4>>2]=ar[1905],ar[A+8>>2]=ar[1906],A=0|(i=(i=0)|ar[14154],ar[14154]=i+1,!((i+1|0)<=1)||(Ya(),0|Ka())?(function(A){var e=0,r=0,i=0,f=0,n=0,t=0,o=0,a=0;for(ar[84+(A|=0)>>2]=0,ar[A+168>>2]=0,ar[A>>2]=7720,function(A){ar[(A|=0)>>2]=1,ar[A+4>>2]=9,ar[A+8>>2]=1,ar[A+12>>2]=1,ar[A+16>>2]=1,ar[A+20>>2]=2,ar[A+24>>2]=1,ar[A+28>>2]=1,ar[A+32>>2]=2,ar[A+36>>2]=2,ar[A+40>>2]=2,ar[A+44>>2]=2,ar[A+48>>2]=3,ar[A+52>>2]=4,ar[A+56>>2]=5,ar[A+60>>2]=6,ar[A+64>>2]=7,ar[A+68>>2]=8,ar[A+72>>2]=9,ar[A+76>>2]=10,ar[A+80>>2]=11,ar[A+84>>2]=12,ar[A+88>>2]=13,ar[A+92>>2]=14,ar[A+96>>2]=15,ar[A+100>>2]=16,ar[A+104>>2]=17,ar[A+108>>2]=18,ar[A+112>>2]=3,ar[A+116>>2]=4,ar[A+120>>2]=4,ar[A+124>>2]=4,ar[A+128>>2]=2,ar[A+132>>2]=3,ar[A+136>>2]=4,ar[A+140>>2]=5,ar[A+144>>2]=6,ar[A+148>>2]=7,ar[A+152>>2]=8,ar[A+156>>2]=9,ar[A+160>>2]=10,ar[A+164>>2]=11,ar[A+168>>2]=12,ar[A+172>>2]=13,ar[A+176>>2]=14,ar[A+180>>2]=15,ar[A+184>>2]=16,ar[A+188>>2]=17,ar[A+204>>2]=81,ar[A+212>>2]=11,ar[A+208>>2]=12,ar[A+192>>2]=82,ar[A+200>>2]=83,ar[A+196>>2]=84,ar[A+216>>2]=85,ar[A+220>>2]=86,ar[A+224>>2]=87,ar[A+228>>2]=88,ar[A+232>>2]=89,ar[A+236>>2]=13,ar[A+240>>2]=14,ar[A+244>>2]=15,ar[A+248>>2]=16,ar[A+252>>2]=17,ar[A+256>>2]=18,ar[A+260>>2]=47,ar[A+284>>2]=44,ar[A+288>>2]=45,ar[A+296>>2]=46,ar[A+292>>2]=47,ar[A+300>>2]=48,ar[A+264>>2]=19,ar[A+268>>2]=20,ar[A+272>>2]=21,ar[A+276>>2]=22,ar[A+280>>2]=23,ar[A+304>>2]=90,ar[A+308>>2]=91,ar[A+312>>2]=92,ar[A+316>>2]=93,ar[A+320>>2]=94,ar[A+324>>2]=95,ar[A+328>>2]=96,ar[A+332>>2]=97,ar[A+336>>2]=98}(A+172|0),ar[A>>2]=7696,function(A){var e;for(tr[(A|=0)>>0]=0,tr[A+1>>0]=0,e=48+(A=A+4|0)|0;((ar[A>>2]=0)|(A=A+4|0))<(0|e););}(A+548|0),ar[A+1192>>2]=0,ar[A+1196>>2]=0,ar[A+1200>>2]=0,ar[(e=A+1228|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+1848>>2]=0,ar[A+1852>>2]=0,ar[A+1856>>2]=0,ar[(e=A+1884|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+2504>>2]=0,ar[A+2508>>2]=0,ar[A+2512>>2]=0,ar[(e=A+2540|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+3160>>2]=0,ar[A+3164>>2]=0,ar[A+3168>>2]=0,ar[(e=A+3196|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+3816>>2]=0,ar[A+3820>>2]=0,ar[A+3824>>2]=0,ar[(e=A+3852|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+4472>>2]=0,ar[A+4476>>2]=0,ar[A+4480>>2]=0,ar[(e=A+4508|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+5128>>2]=0,ar[A+5132>>2]=0,ar[A+5136>>2]=0,ar[(e=A+5164|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+5784>>2]=0,ar[A+5788>>2]=0,ar[A+5792>>2]=0,ar[(e=A+5820|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+6440>>2]=0,ar[A+6444>>2]=0,ar[A+6448>>2]=0,ar[(e=A+6476|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+7096>>2]=0,ar[A+7100>>2]=0,ar[A+7104>>2]=0,ar[(e=A+7132|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+7752>>2]=0,ar[A+7756>>2]=0,ar[A+7760>>2]=0,ar[(e=A+7788|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+8408>>2]=0,ar[A+8412>>2]=0,ar[A+8416>>2]=0,ar[(e=A+8444|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+9064>>2]=0,ar[A+9068>>2]=0,ar[A+9072>>2]=0,ar[(e=A+9100|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+9720>>2]=0,ar[A+9724>>2]=0,ar[A+9728>>2]=0,ar[(e=A+9756|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+10376>>2]=0,ar[A+10380>>2]=0,ar[A+10384>>2]=0,ar[(e=A+10412|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,ar[A+11032>>2]=0,ar[A+11036>>2]=0,ar[A+11040>>2]=0,ar[(e=A+11068|0)>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[e+16>>2]=0,ar[e+20>>2]=0,$a(A+11096|0),$a(A+16264|0),$a(A+21432|0),$a(A+26600|0),$a(A+31768|0),$a(A+36936|0),$a(A+42104|0),$a(A+47272|0),$a(A+52440|0),$a(A+57608|0),$a(A+62776|0),$a(A+67944|0),$a(A+73112|0),$a(A+78280|0),$a(A+83448|0),$a(A+88616|0),e=0;Ia(A+93784+(4400*e|0)|0),64!=(0|(e=e+1|0)););for(ar[(n=A+375400|0)>>2]=0,ar[n+4>>2]=0,ar[n+8>>2]=0,ar[n+12>>2]=0,ar[n+16>>2]=0,ar[n+20>>2]=0,function(A){var e,r=0;for(e=48+(r=8+(A|=0)|0)|0;((ar[r>>2]=0)|(r=r+4|0))<(0|e););ar[A>>2]=30,ar[A+4>>2]=30}(A+376148|0),ar[A+377216>>2]=0,ar[A+377220>>2]=0,ar[A+377224>>2]=0,tr[A+512>>0]=0,tr[A+513>>0]=1,tr[A+514>>0]=0,tr[A+532>>0]=0,tr[A+533>>0]=0,ar[(n=A+516|0)>>2]=-1,ar[n+4>>2]=-1,ar[n+8>>2]=-1,ar[n+12>>2]=-1,e=0|ar[4+(n=7736)>>2],ar[(t=A+536|0)>>2]=ar[n>>2],ar[t+4>>2]=e,ar[A+544>>2]=0,ar[A+375384>>2]=0,ar[A+375388>>2]=0,ar[A+375392>>2]=0,ar[A+375892>>2]=0,ar[(t=A+375896|0)>>2]=6,ar[A+375900>>2]=100,ar[A+375904>>2]=6,ar[A+375912>>2]=6,ar[A+375908>>2]=100,e=6;;){if((0|(i=(0|(n=100*e|0))/7|0))<=(0|(n=(n+100|0)/7|0)))for(f=n-i|0,r=i;a=0|ar[t>>2],e=(o=(0|a)<(0|e))?a:e,tr[A+375916+(r<<1)>>0]=e,tr[A+375916+(r<<1)+1>>0]=o?100:255&((100*(r-i|0)|0)/(0|f)|0),(0|r)<(0|n);)r=r+1|0;if(ar[A+376120+(e<<2)>>2]=n,!(0<(0|e)))break;e=e+-1|0}ar[(a=A+376204|0)>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,ar[a+12>>2]=0,ar[a+16>>2]=0,ar[a+20>>2]=0,tr[A+376208>>0]=1,ar[a>>2]=-1}(i=0|hu(377232)),0|i):(ar[14154]=(0|ar[14154])-1,(i=0)|i)),Ne(ar[r>>2]=A,7,1),Ne(A,8,1),ar[e>>2]=r},function(A,e){A|=0,e|=0;var r,i,f=0,n=0;if(ur=(i=ur)+112|0,r=(f=i)+4|0,ar[f>>2]=ar[e+8>>2],Bi(r,39045,f),ar[A>>2]=0,ar[A+4>>2]=0,4294967279<(e=(ar[A+8>>2]=0)|Vc(r))>>>0&&pu(),e>>>0<11){if(!(tr[A+11>>0]=e))return tr[(f=(f=A)+e|0)>>0]=0,void(ur=i)}else f=0|hu(n=e+16&-16),ar[A>>2]=f,ar[A+8>>2]=-2147483648|n,ar[A+4>>2]=e,A=f;hb(0|A,0|r,0|e),tr[(n=(n=A)+e|0)>>0]=0,ur=i},function(A,e){A|=0;var r,i,f=0,n=0;if(ur=(i=ur)+112|0,r=(f=i)+8|0,n=0|ar[(e|=0)+16>>2],ar[f>>2]=ar[e+12>>2],ar[f+4>>2]=n,Bi(r,39191,f),ar[A>>2]=0,ar[A+4>>2]=0,4294967279<(e=(ar[A+8>>2]=0)|Vc(r))>>>0&&pu(),e>>>0<11){if(!(tr[A+11>>0]=e))return tr[(n=(n=A)+e|0)>>0]=0,void(ur=i)}else n=0|hu(f=e+16&-16),ar[A>>2]=n,ar[A+8>>2]=-2147483648|f,ar[A+4>>2]=e,A=n;hb(0|A,0|r,0|e),tr[(n=(n=A)+e|0)>>0]=0,ur=i},function(A,e){A|=0,e|=0;var r,i,f=0,n=0;if(ur=(i=ur)+112|0,r=(f=i)+4|0,ar[f>>2]=ar[e+12>>2],Bi(r,39665,f),ar[A>>2]=0,ar[A+4>>2]=0,4294967279<(e=(ar[A+8>>2]=0)|Vc(r))>>>0&&pu(),e>>>0<11){if(!(tr[A+11>>0]=e))return tr[(f=(f=A)+e|0)>>0]=0,void(ur=i)}else f=0|hu(n=e+16&-16),ar[A>>2]=f,ar[A+8>>2]=-2147483648|n,ar[A+4>>2]=e,A=f;hb(0|A,0|r,0|e),tr[(n=(n=A)+e|0)>>0]=0,ur=i},function(A,e){A|=0,e|=0;var r,i,f=0,n=0;if(ur=(i=ur)+112|0,r=(f=i)+4|0,ar[f>>2]=ar[e+12>>2],Bi(r,48089,f),ar[A>>2]=0,ar[A+4>>2]=0,4294967279<(e=(ar[A+8>>2]=0)|Vc(r))>>>0&&pu(),e>>>0<11){if(!(tr[A+11>>0]=e))return tr[(f=(f=A)+e|0)>>0]=0,void(ur=i)}else f=0|hu(n=e+16&-16),ar[A>>2]=f,ar[A+8>>2]=-2147483648|n,ar[A+4>>2]=e,A=f;hb(0|A,0|r,0|e),tr[(n=(n=A)+e|0)>>0]=0,ur=i},function(A,e){},function(A,e){e|=0,jb[127&ar[24+(0|ar[(A|=0)>>2])>>2]](A),e=0|un(e,61032),ar[A+36>>2]=e,e=1&(0|jb[127&ar[28+(0|ar[e>>2])>>2]](e)),tr[A+44>>0]=e},function(A,e){e|=0,jb[127&ar[24+(0|ar[(A|=0)>>2])>>2]](A),e=0|un(e,61024),ar[A+36>>2]=e,e=1&(0|jb[127&ar[28+(0|ar[e>>2])>>2]](e)),tr[A+44>>0]=e},function(A,e){A|=0;var r=0,i=0;i=0|un(e|=0,61032),ar[(r=A+36|0)>>2]=i,i=0|jb[127&ar[24+(0|ar[i>>2])>>2]](i),ar[(e=A+44|0)>>2]=i,r=0|ar[r>>2],r=1&(0|jb[127&ar[28+(0|ar[r>>2])>>2]](r)),tr[A+53>>0]=r,8<(0|ar[e>>2])&&ti()},function(A,e){A|=0;var r=0,i=0;i=0|un(e|=0,61024),ar[(r=A+36|0)>>2]=i,i=0|jb[127&ar[24+(0|ar[i>>2])>>2]](i),ar[(e=A+44|0)>>2]=i,r=0|ar[r>>2],r=1&(0|jb[127&ar[28+(0|ar[r>>2])>>2]](r)),tr[A+53>>0]=r,8<(0|ar[e>>2])&&ti()},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){var r;e|=0,r=ur=(e=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,oi(A,tr[A+11>>0]=1,45),Qf(A+1|(tr[r>>0]=0),r),ur=e},function(A,e){tr[(A|=0)>>0]=2,tr[A+1>>0]=3,tr[A+2>>0]=0,tr[A+3>>0]=4},function(A,e){tr[(A|=0)>>0]=2,tr[A+1>>0]=3,tr[A+2>>0]=0,tr[A+3>>0]=4},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){var r;e|=0,r=ur=(e=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,oi(A,tr[A+11>>0]=1,45),Qf(A+1|(tr[r>>0]=0),r),ur=e},function(A,e){tr[(A|=0)>>0]=2,tr[A+1>>0]=3,tr[A+2>>0]=0,tr[A+3>>0]=4},function(A,e){tr[(A|=0)>>0]=2,tr[A+1>>0]=3,tr[A+2>>0]=0,tr[A+3>>0]=4},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){var r;e|=0,r=ur=(e=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,gr(A,tr[A+8+3>>0]=1,45),ln(A+4|(ar[r>>2]=0),r),ur=e},function(A,e){tr[(A|=0)>>0]=2,tr[A+1>>0]=3,tr[A+2>>0]=0,tr[A+3>>0]=4},function(A,e){tr[(A|=0)>>0]=2,tr[A+1>>0]=3,tr[A+2>>0]=0,tr[A+3>>0]=4},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){for(e|=0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0)},function(A,e){var r;e|=0,r=ur=(e=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,gr(A,tr[A+8+3>>0]=1,45),ln(A+4|(ar[r>>2]=0),r),ur=e},function(A,e){tr[(A|=0)>>0]=2,tr[A+1>>0]=3,tr[A+2>>0]=0,tr[A+3>>0]=4},function(A,e){tr[(A|=0)>>0]=2,tr[A+1>>0]=3,tr[A+2>>0]=0,tr[A+3>>0]=4},function(A,e){},function(A,e){},function(A,e){yu(A|=0,(e|=0)+12|0)},function(A,e){e|=0;var r,i,f,n=0;r=ur=(f=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,4294967279<(i=(ar[A+8>>2]=0)|Yf(55745))>>>0&&pu(),i>>>0<11?(tr[A+11>>0]=i,e=A):(e=0|hu(n=16+i&-16),ar[A>>2]=e,ar[A+8>>2]=-2147483648|n,ar[A+4>>2]=i),wf(e,55745,i),Qf(e+i|(tr[r>>0]=0),r),ur=f},function(A,e){e|=0;var r,i,f,n=0;r=ur=(f=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,4294967279<(i=(ar[A+8>>2]=0)|Yf(55739))>>>0&&pu(),i>>>0<11?(tr[A+11>>0]=i,e=A):(e=0|hu(n=16+i&-16),ar[A>>2]=e,ar[A+8>>2]=-2147483648|n,ar[A+4>>2]=i),wf(e,55739,i),Qf(e+i|(tr[r>>0]=0),r),ur=f},function(A,e){yu(A|=0,(e|=0)+16|0)},function(A,e){e|=0;var r,i,f,n=0;r=ur=(f=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,1073741807<(i=(ar[A+8>>2]=0)|Mr(17204))>>>0&&pu();do{if(2<=i>>>0){if(!(1073741823<(e=4+i&-4)>>>0)){n=0|hu(e<<2),ar[A>>2]=n,ar[A+8>>2]=-2147483648|e,ar[A+4>>2]=i;break}lA()}else tr[A+8+3>>0]=i,n=A}while(0);Zf(n,17204,i),ln(n+(i<<2)|(ar[r>>2]=0),r),ur=f},function(A,e){e|=0;var r,i,f,n=0;r=ur=(f=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,1073741807<(i=(ar[A+8>>2]=0)|Mr(17180))>>>0&&pu();do{if(2<=i>>>0){if(!(1073741823<(e=4+i&-4)>>>0)){n=0|hu(e<<2),ar[A>>2]=n,ar[A+8>>2]=-2147483648|e,ar[A+4>>2]=i;break}lA()}else tr[A+8+3>>0]=i,n=A}while(0);Zf(n,17180,i),ln(n+(i<<2)|(ar[r>>2]=0),r),ur=f},function(A,e){e|=0,is[511&(A|=0)](e)},function(A,e){A|=0,e|=0;var r,i=0,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0;if(ur=(r=ur)+16|0,u=(l=r)+12|0,i=0|nA(),ar[u>>2]=i,!e)return ar[A>>2]=i,ar[u>>2]=0,iA((u=0)|u),void(ur=r);if(sl(l,40+(0|ar[e>>2])|0),a=(o=(f=0|ar[(t=l+4|0)>>2])-(i=0|ar[l>>2])|0)>>3,0|(n=i)){if((0|f)!=(0|n)){for(;i=f+-8|0,ar[t>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[t>>2]),(0|i)!=(0|n);)f=i;i=0|ar[l>>2]}vu(i)}if((0|o)<8)return ar[A>>2]=ar[u>>2],ar[u>>2]=0,iA((u=0)|u),void(ur=r);if(!(c=0|yc(o>>>1)))return c=0|hu(12),ar[c>>2]=6,ar[c+4>>2]=1e3,ar[l>>2]=c,l=0|cA(1392,0|l),ar[A>>2]=l,u=0|ar[u>>2],iA(0|u),void(ur=r);if(sl(l,40+(0|ar[e>>2])|0),f=0|ar[(o=l+4|0)>>2],t=i=0|ar[l>>2],e=0<(0|(a=(0|(e=f-i>>3))<(0|a)?e:a)))for(n=0;ar[c+(n<<2)>>2]=ar[20+(0|ar[t+(n<<3)>>2])>>2],(0|(n=n+1|0))<(0|a););if(0|i){if((0|f)!=(0|t)){for(;i=f+-8|0,ar[o>>2]=i,(f=0|ar[f+-4>>2])&&(du(f),i=0|ar[o>>2]),(0|i)!=(0|t);)f=i;i=0|ar[l>>2]}vu(i)}if(!a)return Bc(c),ar[A>>2]=ar[u>>2],ar[u>>2]=0,iA((u=0)|u),void(ur=r);if(ar[l>>2]=0,e)for(i=0;dl(u,l,c+(i<<2)|0),i=1+(0|ar[l>>2])|0,(0|(ar[l>>2]=i))<(0|a););Bc(c),ar[A>>2]=ar[u>>2],ar[u>>2]=0,iA((u=0)|u),ur=r},function(A,e){e|=0,is[511&(A|=0)](e)},function(A,e){A|=0;var r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=0;if(r=(0|(e|=0))/2|0,!((0|e)<=1)){i=e+-1|0,f=0;do{for(t=0|br(f,e),o=i+(0|br(i-f|0,e))|0,n=0;a=A+(o-n<<1)|0,c=0|or[(l=A+(n+t<<1)|0)>>1],or[l>>1]=0|or[a>>1],or[a>>1]=c,(0|(n=n+1|0))!=(0|e););f=f+1|0}while((0|f)<(0|r))}},Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb,Yb],ns=[Qb,HA,LA,function(A,e,r){A|=0,e|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0;ur=(t=ur)+32|0,f=t,n=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),a=0|ar[e+44>>2],i=0|ar[e+48>>2];A:do{if((0|a)==(0|i))o=A+8|0,l=8;else for(c=(o=A+8|0)+11|0;;){if(u=0|ar[a>>2],ns[127&ar[12+(0|ar[u>>2])>>2]](A,u,r),0|ar[A>>2])break A;if((0|tr[c>>0])<0&&vu(0|ar[o>>2]),(0|(a=a+8|0))==(0|i)){l=8;break}}}while(0);8==(0|l)&&(l=0|ar[(c=56592)+4>>2],ar[(u=A)>>2]=ar[c>>2],ar[u+4>>2]=l,yu(o,56600)),KA(f,e,r,n),ur=(0<=(0|tr[(o=f+8|0)+11>>0])||vu(0|ar[o>>2]),t)},function(A,e,r){A|=0,r|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0;ur=(f=ur)+32|0,i=f+12|0,o=f,t=0|ar[(n=c=(e|=0)+8|0)>>2],n=0|ar[n+4>>2];do{if(0==(0|t)&0==(0|n))for(e=r;(ar[(b=e+16|0)>>2]=0)!=(0|(e=(ar[b+4>>2]=0)|ar[e+8>>2])););else if(0|CA(r,e=0|ob(0|t,0|n,0|ar[(a=e+16|0)>>2],0),n=D)){if(0<n>>>0|0==(0|n)&2147483647<e>>>0)return ar[o>>2]=0,ar[o+4>>2]=0,ar[o+8>>2]=0,oo(A,2,101,o),0<=(0|tr[o+11>>0])||vu(0|ar[o>>2]),void(ur=f);if(e=0|ar[r>>2],(t=0==(0|(n=0|ar[r+4>>2])))||bu(n),b=0|ar[(u=c)>>2],u=0|ar[u+4>>2],l=0|ar[a>>2],o=0|ar[e>>2],a=0|ar[o+20>>2],o=0|jb[127&ar[o+8>>2]](e),c=D,c=0|tb(0|(l=0|ob(0|b,0|u,0|l,0)),0|D,0|o,0|c),xb[63&a](e,c,D),t)break;du(n);break}}while(0);0|tr[r+24>>0]?(ar[i>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,oo(A,2,100,i),(0|tr[11+i>>0])<0&&vu(0|ar[i>>2])):(u=0|ar[(l=56592)+4>>2],ar[(b=A)>>2]=ar[l>>2],ar[b+4>>2]=u,yu(A+8|0,56600)),ur=f},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),HA(f,e,r),We(n,(s=(d=0|tr[(k=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,s?0|ar[4+f>>2]:255&d),(0|tr[k>>0])<0&&vu(0|ar[f>>2]),0<(0|ar[r>>2]))for(c=0;We(n,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(l=0|We(n,19206,13),k=0|ar[e+56>>2],ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,tr[(u=11+f|0)>>0]=4,tr[4+f>>0]=0,tr[f>>0]=k>>>24,tr[1+f>>0]=k>>>16,tr[2+f>>0]=k>>>8,tr[3+f>>0]=k,l=0|We(0|We(l,f,4),30086,1),0<(0|ar[r>>2]))for(c=0;We(l,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(l=0|We(l,19220,15),l=0|We(0|Lf(l,0|ar[e+60>>2]),30086,1),0<(0|ar[r>>2]))for(c=0;We(l,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(We(l,19236,19),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),(0|(c=0|ar[e+64>>2]))!=(0|(r=0|ar[e+68>>2])))for(e=11+f|0,b=4+f|0,s=1+f|0,d=2+f|0,k=3+f|0,u=1;l=0|ar[c>>2],u||(tr[f>>0]=44,We(n,f,1)),ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,tr[e>>0]=4,tr[b>>0]=0,tr[f>>0]=l>>>24,tr[s>>0]=l>>>16,tr[d>>0]=l>>>8,tr[k>>0]=l,We(n,f,4),(0|tr[e>>0])<0&&vu(0|ar[f>>2]),(0|(c=c+4|0))!=(0|r);)u=0;if(We(n,30086,1),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),Gf(),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),Gf(),bf(t),ur=a},function(A,e,r){A|=0,e|=0;var i,f,n=0,t=0,o=0;if(ur=(f=ur)+32|0,t=f,o=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),UA(r,0|ar[e+56>>2]),UA(r,0|ar[e+60>>2]),(0|(n=0|ar[e+64>>2]))!=(0|(i=0|ar[e+68>>2])))for(;UA(r,0|ar[n>>2]),(0|(n=n+4|0))!=(0|i););KA(t,e,r,o),(0|tr[(n=t+8|0)+11>>0])<0&&vu(0|ar[n>>2]),t=0|ar[(r=56592)+4>>2],ar[(o=A)>>2]=ar[r>>2],ar[o+4>>2]=t,yu(A+8|0,56600),ur=f},function(A,e,r){A|=0,e|=0;var i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(n=ur)+32|0,s=n+12|0,c=n,o=0|FA(r|=0),ar[e+56>>2]=o,o=0|FA(r),ar[e+60>>2]=o,t=0|ar[(o=e+8|0)>>2],!(0<(o=0|ar[o+4>>2])>>>0|0==(0|o)&((a=0|ar[e+16>>2])+8|0)>>>0<t>>>0)){for(t=0|hu(48),ar[c>>2]=t,ar[c+8>>2]=-2147483600,a=19167,e=(o=t)+(ar[c+4>>2]=38)|0;tr[o>>0]=0|tr[a>>0],a=a+1|0,(0|(o=o+1|0))<(0|e););return(tr[t+38>>0]=0,oo(A,2,101,c),0<=(0|tr[c+11>>0]))?void(ur=n):(vu(0|ar[c>>2]),void(ur=n))}l=0|sb(0|(l=0|ob(0|(l=0|tb(0|t,0|o,-8,-1)),0|D,0|a,0)),0|D,2),i=D,f=r+24|0;A:do{if(!(0==(0|l)&0==(0|i))){u=e+68|0,b=e+72|0,t=e+64|0,c=e=0;do{if(0|tr[f>>0])break A;o=0|FA(r),ar[s>>2]=o,(a=0|ar[u>>2])>>>0<(0|ar[b>>2])>>>0?(ar[a>>2]=o,ar[u>>2]=a+4):Ce(t,s),e=0|tb(0|e,0|c,1,0),c=D}while(c>>>0<i>>>0|(0|c)==(0|i)&e>>>0<l>>>0)}}while(0);0|tr[f>>0]?(ar[s>>2]=0,ar[s+4>>2]=0,ar[s+8>>2]=0,oo(A,2,100,s),(0|tr[s+11>>0])<0&&vu(0|ar[s>>2])):(r=0|ar[(b=56592)+4>>2],ar[(s=A)>>2]=ar[b>>2],ar[s+4>>2]=r,yu(A+8|0,56600)),ur=n},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(l=0|tr[(c=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[f>>2]),ne(f,e,r),We(n,(c=(l=0|tr[(u=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,c?0|ar[4+f>>2]:255&l),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),Gf(),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),Gf(),bf(t),ur=a},function(A,e,r){A|=0;var i,f=0;ur=(i=ur)+32|0,qA(f=i,e|=0,r|=0),(0|tr[(f=f+8|0)+11>>0])<0&&vu(0|ar[f>>2]),$A(A,e,r,-1),ur=i},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l=0,u=0,b=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(l=(u=0|tr[(b=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,l?0|ar[4+f>>2]:255&u),(0|tr[b>>0])<0&&vu(0|ar[f>>2]),0<(0|ar[r>>2]))for(l=0;We(n,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););if(u=0|We(n,23170,13),u=0|We(0|Lf(u,0|ar[e+56>>2]),30086,1),0<(0|ar[r>>2]))for(l=0;We(u,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););if(b=0|We(u,23184,14),l=0|ar[e+60>>2],ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,tr[(u=11+f|0)>>0]=4,tr[4+f>>0]=0,tr[f>>0]=l>>>24,tr[1+f>>0]=l>>>16,tr[2+f>>0]=l>>>8,tr[3+f>>0]=l,b=0|We(0|We(b,f,4),30086,1),0<(0|ar[r>>2]))for(l=0;We(b,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););if(c=0|We(b,23199,6),We(0|We(c,(b=(r=0|tr[(l=e+76|0)+11>>0])<<24>>24<0)?0|ar[l>>2]:l,b?0|ar[e+80>>2]:255&r),30086,1),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),bf(t),ur=a},function(A,e,r){A|=0,e|=0;var i,f=0,n=0;ur=(i=ur)+32|0,f=i,n=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),UA(r,0|ar[e+56>>2]),UA(r,0|ar[e+60>>2]),UA(r,0|ar[e+64>>2]),UA(r,0|ar[e+68>>2]),UA(r,0|ar[e+72>>2]),OA(r,e+76|0),KA(f,e,r,n),(0|tr[(e=f+8|0)+11>>0])<0&&vu(0|ar[e>>2]),f=0|ar[(r=56592)+4>>2],ar[(n=A)>>2]=ar[r>>2],ar[n+4>>2]=f,yu(A+8|0,56600),ur=i},function(A,e,r){A|=0;var i,f,n=0,t=0;if(ur=(f=ur)+32|0,t=f+20|0,qA(n=f,e|=0,r|=0),(0|tr[(n=n+8|0)+11>>0])<0&&vu(0|ar[n>>2]),n=0|FA(r),ar[e+56>>2]=n,n=0|FA(r),ar[e+60>>2]=n,n=0|FA(r),ar[e+64>>2]=n,n=0|FA(r),ar[e+68>>2]=n,n=0|FA(r),ar[e+72>>2]=n,RA(t,r),(0|tr[(i=(n=e+76|0)+11|0)>>0])<0?(tr[ar[n>>2]>>0]=0,ar[e+80>>2]=0):(tr[n>>0]=0,tr[i>>0]=0),Cu(n,0),ar[n>>2]=ar[t>>2],ar[n+4>>2]=ar[t+4>>2],ar[n+8>>2]=ar[t+8>>2],!(0|tr[r+24>>0]))return r=0|ar[(e=56592)+4>>2],ar[(t=A)>>2]=ar[e>>2],ar[t+4>>2]=r,yu(A+8|0,56600),void(ur=f);ar[t>>2]=0,ar[t+4>>2]=0,ar[t+8>>2]=0,oo(A,2,100,t),ur=(0<=(0|tr[t+11>>0])||vu(0|ar[t>>2]),f)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l=0,u=0;if(ur=(o=ur)+160|0,l=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[l>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,Xe(t,l),(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),LA(l,e,r),We(f,(u=(c=0|tr[(a=l+11|0)>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[l+4>>2]:255&c),(0|tr[a>>0])<0&&vu(0|ar[l>>2]),0<(0|ar[r>>2]))for(l=0;We(f,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););if(u=0|We(f,22462,9),We(0|Lf(u,0|ar[e+56>>2]),30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f,n=0,t=0;ur=(f=ur)+32|0,n=f,t=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),i=0|ar[e+56>>2];do{if(0|tr[e+37>>0])UA(r,i);else{if(i>>>0<65536){MA(r,65535&i);break}sr(23065,19104,891,19563)}}while(0);KA(n,e,r,t),(0|tr[(e=n+8|0)+11>>0])<0&&vu(0|ar[e>>2]),n=0|ar[(r=56592)+4>>2],ar[(t=A)>>2]=ar[r>>2],ar[t+4>>2]=n,yu(A+8|0,56600),ur=f},function(A,e,r){A|=0;var i,f=0,n=0;if(ur=(i=ur)+32|0,n=i+20|0,qA(f=i,e|=0,r|=0),(0|tr[(f=f+8|0)+11>>0])<0&&vu(0|ar[f>>2]),f=0|tr[e+37>>0]?0|FA(r):65535&(0|VA(r)),ar[e+56>>2]=f,!(0|tr[r+24>>0]))return r=0|ar[(e=56592)+4>>2],ar[(n=A)>>2]=ar[e>>2],ar[n+4>>2]=r,yu(A+8|0,56600),void(ur=i);ar[n>>2]=0,ar[n+4>>2]=0,ar[n+8>>2]=0,oo(A,2,100,n),ur=(0<=(0|tr[n+11>>0])||vu(0|ar[n>>2]),i)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0,b=0;if(ur=(o=ur)+160|0,a=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,Xe(t,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),LA(a,e,r),We(f,(u=(c=0|tr[(l=a+11|0)>>0])<<24>>24<0)?0|ar[a>>2]:a,u?0|ar[a+4>>2]:255&c),(0|tr[l>>0])<0&&vu(0|ar[a>>2]),(0|(a=0|ar[e+56>>2]))!=(0|(l=0|ar[e+60>>2]))){c=a;do{if(0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(e=0|We(f,22885,9),e=0|We(0|Lf(e,0|ar[c>>2]),30086,1),0<(0|ar[r>>2]))for(a=0;We(e,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(e=0|We(e,22895,23),e=0|We(0|Pf(e,0|cr[c+4>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(e,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(u=(e=0|We(e,22919,24))+(0|ar[(0|ar[e>>2])-12>>2])+4|0,ar[u>>2]=-75&ar[u>>2]|8,u=(e=0|xf(e,0|or[c+6>>1]))+(0|ar[(0|ar[e>>2])-12>>2])+4|0,ar[u>>2]=-75&ar[u>>2]|2,e=0|We(e,30086,1),0<(0|ar[r>>2]))for(a=0;We(e,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(e=0|We(e,22944,15),We(0|Kf(e,0|ar[(u=c+8|0)>>2],0|ar[u+4>>2]),30086,1),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(We(f,22960,11),(0|(a=0|ar[c+16>>2]))!=(0|(e=0|ar[c+20>>2])))for(;b=0|We(0|Kf(f,0|ar[(b=a+8|0)>>2],0|ar[b+4>>2]),19588,1),Kf(b,0|ar[(u=a+16|0)>>2],0|ar[u+4>>2]),0==(0|ar[(u=a)>>2])&0==(0|ar[u+4>>2])||Kf(u=0|We(f,22972,7),0|ar[(b=a)>>2],0|ar[b+4>>2]),We(f,20449,1),(0|(a=a+40|0))!=(0|e););We(f,30086,1),c=c+32|0}while((0|c)!=(0|l))}if(Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),bf(n),ur=o},function(A,e,r){A|=0,r|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0;if(ur=(f=ur)+32|0,p=f,(0|(o=0|ar[(k=(e|=0)+56|0)>>2]))!=(0|(u=0|ar[(h=e+60|0)>>2]))){n=0;do{if(1==(0|tr[o+4>>0])&&(0|(c=0|ar[o+16>>2]))!=(0|(l=0|ar[o+20>>2])))for(a=c;n=(0|ar[a+28>>2])+n-(0|ar[a+24>>2])|0,(0|(a=a+40|0))!=(0|l););o=o+32|0}while((0|o)!=(0|u));if(0|n&&(UA(r,n+8|0),UA(r,1768186228),(0|(t=0|ar[k>>2]))!=(0|(b=0|ar[h>>2]))))do{if(1==(0|tr[t+4>>0])&&(0|(s=0|ar[t+16>>2]))!=(0|(d=0|ar[t+20>>2])))for(n=s;zA(r,n+24|0),(0|(n=n+40|0))!=(0|d););t=t+32|0}while((0|t)!=(0|b))}if(Z=0|ar[(a=r+12|0)>>2],jA(r,0|tr[e+36>>0]?12:8),ar[e+68>>2]=ar[a>>2],n=(t=(255&(a=0|tr[e+37>>0]))<2)?4:6,(0|(o=0|ar[k>>2]))!=(0|(i=0|ar[h>>2]))){w=e+73|0,v=e+74|0,m=e+76|0,g=(d=t?2:4)+(k=a<<24>>24?2:0)+(h=0|cr[e+75>>0])+4|0,t=a;do{l=n+4+h+d+k|0,c=a=0|ar[o+16>>2],s=0|ar[o+20>>2];do{if((0|a)==(0|s))n=l;else{if(u=0|cr[w>>0],b=0|cr[v>>0],!(t<<24>>24)){n=g+n+(0|br(((s+-40-c|0)>>>0)/40|0,u+b|0))+u+b|0,t=0;break}for(c=0|cr[m>>0],n=l;n=u+(c+n)+b|0,(0|(a=a+40|0))!=(0|s););}}while(0);o=o+32|0}while((0|o)!=(0|i))}if(jA(r,n),KA(p,e,r,Z),0<=(0|tr[(n=p+8|0)+11>>0]))return Z=0|ar[(Z=r=56592)>>2],r=0|ar[(r=r+4|0)>>2],ar[(e=p=A)>>2]=Z,ar[(p=p+4|0)>>2]=r,yu(A=A+8|0,56600),void(ur=f);vu(0|ar[n>>2]),Z=0|ar[(Z=r=56592)>>2],r=0|ar[(r=r+4|0)>>2],ar[(e=p=A)>>2]=Z,ar[(p=p+4|0)>>2]=r,yu(A=A+8|0,56600),ur=f},function(A,e,r){A|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0;if(ur=(t=ur)+384|0,q=t+144|0,l=($=t)+340|0,f=t+184|0,n=t+328|0,qA(o=t+352|0,e|=0,r|=0),(0|tr[(o=o+8|0)+11>>0])<0&&vu(0|ar[o>>2]),a=0|VA(r),o=1<(255&(K=0|tr[(i=e+37|0)>>0]))?15&a:0,2e4<(0|(K=(255&K)<2?65535&(0|VA(r)):0|FA(r))))return e=$+64|0,ar[(c=$+8|0)>>2]=4524,a=$+12|0,ar[$>>2]=188,ar[e>>2]=208,Jf($+64|(ar[$+4>>2]=0),a),ar[$+136>>2]=0,ar[$+140>>2]=-1,ar[$>>2]=4504,ar[e>>2]=4544,ar[c>>2]=4524,Sf(a),ar[a>>2]=4340,ar[(c=$+44|0)>>2]=0,ar[c+4>>2]=0,ar[c+8>>2]=0,ar[c+12>>2]=0,ar[$+60>>2]=24,ar[q>>2]=0,ar[q+4>>2]=0,ar[q+8>>2]=0,Xe(a,q),(0|tr[q+11>>0])<0&&vu(0|ar[q>>2]),We(0|Pf(0|We(0|Pf(0|We(o=$+8|0,22754,18),K),22773,44),2e4),22818,7),Ie(l,a),oo(A,6,1e3,l),(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),ar[$>>2]=4504,ar[e>>2]=4544,ar[o>>2]=4524,ar[a>>2]=4340,(0|tr[c+11>>0])<0&&vu(0|ar[c>>2]),kf(a),bf(e),void(ur=t);A:do{if(0<(0|K)){W=$+4|0,I=$+6|0,C=$+8|0,x=(65535&a)>>>4&255,F=12+f|0,R=4+f|0,N=G=64+f|0,_=136+f|0,Y=140+f|0,D=60+f|0,J=q+11|0,M=V=8+f|0,T=11+n|0,U=(Q=44+f|0)+11|0,O=$+20|0,z=r+24|0,j=e+60|0,H=e+64|0,B=e+56|0,E=S=$+16|0,X=0!=(0|o),y=255&o,g=q+8|0,p=(65535&a)>>>12&255,Z=q+16|0,m=(65535&a)>>>8&255,k=$+24|0,w=q+28|0,v=h=q+24|0,d=0;e:for(;;){for(ar[$>>2]=0,e=(o=I)+22|(tr[W>>0]=0);(0|(o=o+2|(or[o>>1]=0)))<(0|e););switch(o=(0|cr[i>>0])<2?65535&(0|VA(r)):0|FA(r),ar[$>>2]=o,0|tr[i>>0]&&(s=15&(0|VA(r)),tr[W>>0]=s),s=0|VA(r),or[I>>1]=s,ar[(s=C)>>2]=0,ar[s+4>>2]=0,15&x){case 4:o=0|FA(r),e=0,L=26;break;case 8:o=0|FA(r),ar[(e=C)>>2]=0,ar[e+4>>2]=o,e=C,o=0|FA(r)|ar[e>>2],e=0|ar[e+4>>2],L=26}26==(0|L)&&(L=0,ar[(s=C)>>2]=o,ar[s+4>>2]=e),s=65535&(o=0|VA(r));do{if((65535&o)<=32){r:do{if(o<<16>>16)for(b=0;;){for(e=(o=q)+36|0;(0|(o=o+4|(ar[o>>2]=0)))<(0|e););i:do{if(X&1<(0|cr[i>>0]))switch(15&y){case 4:l=0|FA(r),ar[(u=q)>>2]=l,ar[u+4>>2]=0;break i;case 8:a=0|FA(r),ar[(c=q)>>2]=0,ar[c+4>>2]=a,c=0|FA(r),l=0|ar[(a=q)+4>>2],ar[(u=q)>>2]=ar[a>>2]|c,ar[u+4>>2]=l;break i;default:break i}}while(0);switch(ar[(u=g)>>2]=0,ar[u+4>>2]=0,15&p){case 4:o=0|FA(r),e=0,L=44;break;case 8:o=0|FA(r),ar[(e=g)>>2]=0,ar[e+4>>2]=o,e=g,o=0|FA(r)|ar[e>>2],e=0|ar[e+4>>2],L=44}switch(44==(0|L)&&(L=0,ar[(u=g)>>2]=o,ar[u+4>>2]=e),ar[(u=Z)>>2]=0,ar[u+4>>2]=0,15&m){case 4:o=0|FA(r),e=0,L=48;break;case 8:o=0|FA(r),ar[(e=Z)>>2]=0,ar[e+4>>2]=o,e=Z,o=0|FA(r)|ar[e>>2],e=0|ar[e+4>>2],L=48}if(48==(0|L)&&(L=0,ar[(u=Z)>>2]=o,ar[u+4>>2]=e),(0|(e=0|ar[O>>2]))==(0|ar[k>>2]))Qt(E,q),o=0|ar[h>>2];else{if(ar[e>>2]=ar[q>>2],ar[e+4>>2]=ar[q+4>>2],ar[e+8>>2]=ar[q+8>>2],ar[e+12>>2]=ar[q+12>>2],ar[e+16>>2]=ar[q+16>>2],ar[e+20>>2]=ar[q+20>>2],ar[(a=e+24|0)>>2]=0,ar[(u=e+28|0)>>2]=0,o=(ar[e+32>>2]=0)|ar[v>>2],c=(0|ar[w>>2])-o|0){if((0|c)<0){L=52;break e}l=0|hu(c),ar[u>>2]=l,ar[a>>2]=l,ar[e+32>>2]=l+c,o=0|ar[v>>2],0<(0|(e=(0|ar[w>>2])-o|0))&&(hb(0|l,0|o,0|e),ar[u>>2]=l+e)}ar[O>>2]=40+(0|ar[O>>2])}if(0|o&&((0|ar[w>>2])!=(0|o)&&(ar[w>>2]=o),vu(o)),(0|s)<=(0|(b=b+1|0)))break r}}while(0);if(!(0|tr[z>>0])){if((0|(o=0|ar[j>>2]))==(0|ar[H>>2])){Jt(B,$),l=0;break}ar[o>>2]=ar[$>>2],ar[o+4>>2]=ar[$+4>>2],ar[o+8>>2]=ar[$+8>>2],ar[o+12>>2]=ar[$+12>>2],Dt(o+16|0,E),ar[j>>2]=32+(0|ar[j>>2]),l=0;break}l=0}else ar[V>>2]=4524,ar[f>>2]=188,ar[G>>2]=208,ar[R>>2]=0,Jf(N,F),ar[_>>2]=0,ar[Y>>2]=-1,ar[f>>2]=4504,ar[G>>2]=4544,ar[V>>2]=4524,Sf(F),ar[F>>2]=4340,ar[Q>>2]=0,ar[Q+4>>2]=0,ar[Q+8>>2]=0,ar[Q+12>>2]=0,ar[D>>2]=24,ar[q>>2]=0,ar[q+4>>2]=0,ar[q+8>>2]=0,Xe(F,q),(0|tr[J>>0])<0&&vu(0|ar[q>>2]),We(0|Pf(0|We(0|Pf(0|We(M,22826,31),s),22858,26),32),18904,2),Ie(n,F),oo(A,6,1e3,n),(0|tr[T>>0])<0&&vu(0|ar[n>>2]),ar[f>>2]=4504,ar[G>>2]=4544,ar[M>>2]=4524,ar[F>>2]=4340,(0|tr[U>>0])<0&&vu(0|ar[Q>>2]),kf(F),bf(G),l=1}while(0);if(0|(o=0|ar[S>>2])){if((0|(e=0|ar[O>>2]))!=(0|o)){for(;a=e+-40|0,ar[O>>2]=a,(0|(e=(c=0|ar[e+-16>>2])?((0|ar[(e=e+-12|0)>>2])!=(0|c)&&(ar[e>>2]=c),vu(c),0|ar[O>>2]):a))!=(0|o););o=0|ar[S>>2]}vu(o)}if(d=d+1|0,0|l){L=80;break}if((0|K)<=(0|d)){P=z;break A}}if(52==(0|L))zl();else if(80==(0|L))return void(ur=t)}else P=r+24|0}while(0);0|tr[P>>0]?(ar[q>>2]=0,ar[q+4>>2]=0,ar[q+8>>2]=0,oo(A,2,100,q),(0|tr[q+11>>0])<0&&vu(0|ar[q>>2])):(q=0|ar[(K=56592)+4>>2],ar[($=A)>>2]=ar[K>>2],ar[$+4>>2]=q,yu(A+8|0,56600)),ur=t},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(l=0|tr[(c=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[f>>2]),ne(f,e,r),We(n,(c=(l=0|tr[(u=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,c?0|ar[4+f>>2]:255&l),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),bf(t),ur=a},function(A,e,r){A|=0,e|=0;var i,f,n,t=0,o=0,a=0,c=0,l=0,u=0;ur=(n=ur)+32|0,i=n,f=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),a=e+48|0,SA(r,0|tr[e+37>>0]?4:2,(0|ar[a>>2])-(0|ar[e+44>>2])>>3,0),o=0|ar[e+44>>2],a=0|ar[a>>2];A:do{if((0|o)==(0|a))t=A+8|0,l=8;else for(c=(t=A+8|0)+11|0;;){if(u=0|ar[o>>2],ns[127&ar[12+(0|ar[u>>2])>>2]](A,u,r),0|ar[A>>2])break A;if((0|tr[c>>0])<0&&vu(0|ar[t>>2]),(0|(o=o+8|0))==(0|a)){l=8;break}}}while(0);8==(0|l)&&(l=0|ar[(c=56592)+4>>2],ar[(u=A)>>2]=ar[c>>2],ar[u+4>>2]=l,yu(t,56600)),KA(i,e,r,f),ur=(0<=(0|tr[(t=i+8|0)+11>>0])||vu(0|ar[t>>2]),n)},function(A,e,r){A|=0;var i,f=0;return ur=(i=ur)+32|0,qA(f=i,e|=0,r|=0),(0|tr[(f=f+8|0)+11>>0])<0&&vu(0|ar[f>>2]),(f=0|tr[e+37>>0]?0|FA(r):65535&(0|VA(r)))?$A(A,e,r,-1):(e=0|ar[(f=56592)+4>>2],ar[(r=A)>>2]=ar[f>>2],ar[r+4>>2]=e,yu(A+8|0,56600)),void(ur=i)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0;if(ur=(o=ur)+160|0,a=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,Xe(t,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),LA(a,e,r),We(f,(u=(l=0|tr[(c=a+11|0)>>0])<<24>>24<0)?0|ar[a>>2]:a,u?0|ar[a+4>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[a>>2]),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(f,22462,9),c=0|We(0|Lf(c,0|ar[e+56>>2]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,22472,23),c=0|We(0|xf(c,0|or[e+60>>1]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(a=0|We(c,22496,11),c=0|We(0|We(a,(u=(c=0|tr[(l=e+64|0)+11>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[e+68>>2]:255&c),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(a=0|We(c,22508,11),c=0|We(0|We(a,(u=(c=0|tr[(l=e+76|0)+11>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[e+80>>2]:255&c),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(a=0|We(c,22520,14),c=0|We(0|We(a,(u=(c=0|tr[(l=e+88|0)+11>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[e+92>>2]:255&c),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(a=0|We(c,22535,18),c=0|We(0|We(a,(u=(c=0|tr[(l=e+100|0)+11>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[e+104>>2]:255&c),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(a=0|We(c,22554,15),c=0|We(0|We(a,(u=(c=0|tr[(l=e+112|0)+11>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[e+116>>2]:255&c),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(l=(u=0|We(c,22570,13))+(0|ar[(0|ar[u>>2])-12>>2])+4|0,ar[l>>2]=1|ar[l>>2],We(0|Hf(u,0!=(0|tr[e+124>>0])),30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0;ur=(i=ur)+32|0,c=i,l=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),(255&(f=0|tr[(n=e+37|0)>>0]))<2?(MA(r,65535&ar[e+56>>2]),MA(r,0|or[e+60>>1]),OA(r,e+76|0),OA(r,e+88|0),OA(r,e+100|0),1<(255&(f=0|tr[n>>0]))&&(t=3)):t=3;A:do{if(3==(0|t)){switch(f<<24>>24){case 2:MA(r,65535&ar[e+56>>2]);break;case 3:UA(r,0|ar[e+56>>2])}MA(r,0|or[e+60>>1]),(n=(f=0|tr[(o=(a=e+64|0)+11|0)>>0])<<24>>24<0)?f=0|ar[e+68>>2]:f&=255,f?(f=n?0|ar[a>>2]:a,UA(r,tr[f+1>>0]<<16|cr[f>>0]<<24|tr[f+2>>0]<<8|tr[f+3>>0])):UA(r,0),OA(r,e+76|0),n=0|tr[o>>0],f=0|ar[(t=e+68|0)>>2];do{if(4==(0|(n<<24>>24<0?f:255&n))){if(0|Yu(a,0,-1,22452,4)){n=0|tr[o>>0],f=0|ar[t>>2];break}OA(r,e+88|0),OA(r,e+100|0);break A}}while(0);4==(0|(n<<24>>24<0?f:255&n))&&0==(0|Yu(a,0,-1,22457,4))&&OA(r,e+112|0)}}while(0);if(KA(c,e,r,l),0<=(0|tr[(f=c+8|0)+11>>0]))return e=0|ar[(e=c=56592)>>2],c=0|ar[(c=c+4|0)>>2],ar[(r=l=A)>>2]=e,ar[(l=l+4|0)>>2]=c,yu(A=A+8|0,56600),void(ur=i);vu(0|ar[f>>2]),e=0|ar[(e=c=56592)>>2],c=0|ar[(c=c+4|0)>>2],ar[(r=l=A)>>2]=e,ar[(l=l+4|0)>>2]=c,yu(A=A+8|0,56600),ur=i},function(A,e,r){A|=0;var i,f=0,n=0,t=0,o=0,a=0;ur=(i=ur)+32|0,a=i+20|0,qA(f=i,e|=0,r|=0),(0|tr[(f=f+8|0)+11>>0])<0&&vu(0|ar[f>>2]),(255&(f=0|tr[(t=e+37|0)>>0]))<2?(f=65535&(0|VA(r)),ar[e+56>>2]=f,f=0|VA(r),or[e+60>>1]=f,RA(a,r),(0|tr[(n=(f=e+76|0)+11|0)>>0])<0?(tr[ar[f>>2]>>0]=0,ar[e+80>>2]=0):(tr[f>>0]=0,tr[n>>0]=0),Cu(f,0),ar[f>>2]=ar[a>>2],ar[f+4>>2]=ar[a+4>>2],ar[f+8>>2]=ar[a+8>>2],RA(a,r),(0|tr[(n=(f=e+88|0)+11|0)>>0])<0?(tr[ar[f>>2]>>0]=0,ar[e+92>>2]=0):(tr[f>>0]=0,tr[n>>0]=0),Cu(f,0),ar[f>>2]=ar[a>>2],ar[f+4>>2]=ar[a+4>>2],ar[f+8>>2]=ar[a+8>>2],RA(a,r),(0|tr[(n=(f=e+100|0)+11|0)>>0])<0?(tr[ar[f>>2]>>0]=0,ar[e+104>>2]=0):(tr[f>>0]=0,tr[n>>0]=0),Cu(f,0),ar[f>>2]=ar[a>>2],ar[f+4>>2]=ar[a+4>>2],ar[f+8>>2]=ar[a+8>>2],1<(255&(f=0|tr[t>>0]))&&(o=14)):o=14;A:do{if(14==(0|o)){if(tr[e+124>>0]=1&ar[e+40>>2],f=f<<24>>24==2?65535&(0|VA(r)):0|FA(r),ar[e+56>>2]=f,o=0|VA(r),or[e+60>>1]=o,0|(o=0|FA(r))&&(tr[a>>0]=0,tr[a+1>>0]=0,tr[a+2>>0]=0,tr[a+3>>0]=0,tr[a+4>>0]=0,f=(tr[a+5>>0]=0)|kb(0|o),(0|tr[(t=(n=e+64|0)+11|0)>>0])<0?(tr[ar[n>>2]>>0]=0,ar[e+68>>2]=0):(tr[n>>0]=0,tr[t>>0]=0),Cu(n,0),ar[e+64>>2]=f,tr[e+68>>0]=0,tr[(t=e+69|0)>>0]=0|tr[a>>0],tr[t+1>>0]=0|tr[a+1>>0],tr[t+2>>0]=0|tr[a+2>>0],tr[t+3>>0]=0|tr[a+3>>0],tr[t+4>>0]=0|tr[a+4>>0],tr[t+5>>0]=0|tr[a+5>>0],tr[e+75>>0]=4),RA(a,r),(0|tr[(n=(f=e+76|0)+11|0)>>0])<0?(tr[ar[f>>2]>>0]=0,ar[e+80>>2]=0):(tr[f>>0]=0,tr[n>>0]=0),Cu(f,0),ar[f>>2]=ar[a>>2],ar[f+4>>2]=ar[a+4>>2],ar[f+8>>2]=ar[a+8>>2],1970432288<=(0|o)){switch(0|o){case 1970432288:break;default:break A}RA(a,r),(0|tr[(n=(f=e+112|0)+11|0)>>0])<0?(tr[ar[f>>2]>>0]=0,ar[e+116>>2]=0):(tr[f>>0]=0,tr[n>>0]=0),Cu(f,0),ar[f>>2]=ar[a>>2],ar[f+4>>2]=ar[a+4>>2],ar[f+8>>2]=ar[a+8>>2];break}switch(0|o){case 1835625829:break;default:break A}RA(a,r),(0|tr[(n=(f=e+88|0)+11|0)>>0])<0?(tr[ar[f>>2]>>0]=0,ar[e+92>>2]=0):(tr[f>>0]=0,tr[n>>0]=0),Cu(f,0),ar[f>>2]=ar[a>>2],ar[f+4>>2]=ar[a+4>>2],ar[f+8>>2]=ar[a+8>>2],RA(a,r),(0|tr[(n=(f=e+100|0)+11|0)>>0])<0?(tr[ar[f>>2]>>0]=0,ar[e+104>>2]=0):(tr[f>>0]=0,tr[n>>0]=0),Cu(f,0),ar[f>>2]=ar[a>>2],ar[f+4>>2]=ar[a+4>>2],ar[f+8>>2]=ar[a+8>>2]}}while(0);if(!(0|tr[r+24>>0]))return r=0|ar[(e=56592)+4>>2],ar[(a=A)>>2]=ar[e>>2],ar[a+4>>2]=r,yu(A+8|0,56600),void(ur=i);ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,oo(A,2,100,a),ur=(0<=(0|tr[a+11>>0])||vu(0|ar[a>>2]),i)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(l=0|tr[(c=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[f>>2]),ne(f,e,r),We(n,(c=(l=0|tr[(u=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,c?0|ar[4+f>>2]:255&l),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),bf(t),ur=a},function(A,e,r){$A(A|=0,e|=0,r|=0,-1)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(l=0|tr[(c=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[f>>2]),ne(f,e,r),We(n,(c=(l=0|tr[(u=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,c?0|ar[4+f>>2]:255&l),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),bf(t),ur=a},function(A,e,r){$A(A|=0,e|=0,r|=0,-1)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0,b=0;if(ur=(o=ur)+160|0,a=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,Xe(t,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),LA(a,e,r),We(f,(c=(l=0|tr[(u=a+11|0)>>0])<<24>>24<0)?0|ar[a>>2]:a,c?0|ar[a+4>>2]:255&l),(0|tr[u>>0])<0&&vu(0|ar[a>>2]),(0|(a=0|ar[e+56>>2]))!=(0|(u=0|ar[e+60>>2]))){l=a,a=0|ar[r>>2];do{if(0<(0|a))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(a=0|We(f,22139,26),We(0|Lf(a,0|ar[l>>2]),30086,1),a=1+(0|ar[r>>2])|0,ar[r>>2]=a,(0|(e=0|ar[l+4>>2]))!=(0|(c=0|ar[l+8>>2])))do{if(0<(0|a))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););a=0|We(f,22166,16),b=(a=0|We(0|xf(a,0|or[e+2>>1]),22183,13))+(0|ar[(0|ar[a>>2])-12>>2])+4|0,ar[b>>2]=1|ar[b>>2],We(0|Hf(a,0!=(0|tr[e>>0])),18904,2),e=e+4|0,a=0|ar[r>>2]}while((0|e)!=(0|c));a=(0|a)<1?0:a+-1|0,ar[r>>2]=a,l=l+16|0}while((0|l)!=(0|u))}if(Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(i=ur)+32|0,b=i,s=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),f=e+56|0,UA(r,(0|ar[(c=e+60|0)>>2])-(0|ar[f>>2])>>4),(0|(f=0|ar[f>>2]))!=(0|(c=0|ar[c>>2]))){l=e+37|0,u=e+40|0;do{if(n=0|ar[f>>2],0|tr[l>>0]?UA(r,n):MA(r,65535&n),n=f+4|0,JA(r,((0|ar[(a=f+8|0)>>2])-(0|ar[n>>2])|0)>>>2&255),(0|(n=0|ar[n>>2]))!=(0|(a=0|ar[a>>2])))for(;t=0!=(0|tr[n>>0]),o=0|lr[n+2>>1],1&ar[u>>2]?MA(r,65535&(32767&o|(t?32768:0))):JA(r,255&(127&o|(t?128:0))),(0|(n=n+4|0))!=(0|a););f=f+16|0}while((0|f)!=(0|c))}if(KA(b,e,r,s),0<=(0|tr[(f=b+8|0)+11>>0]))return r=0|ar[(r=b=56592)>>2],b=0|ar[(b=b+4|0)>>2],ar[(u=s=A)>>2]=r,ar[(s=s+4|0)>>2]=b,yu(A=A+8|0,56600),void(ur=i);vu(0|ar[f>>2]),r=0|ar[(r=b=56592)>>2],b=0|ar[(b=b+4|0)>>2],ar[(u=s=A)>>2]=r,ar[(s=s+4|0)>>2]=b,yu(A=A+8|0,56600),ur=i},function(A,e,r){A|=0;var i,f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0;ur=(n=ur)+48|0,E=n+24|0,qA(t=(X=n)+4|0,e|=0,r|=0),(0|tr[(t=t+8|0)+11>>0])<0&&vu(0|ar[t>>2]),i=0|FA(r),f=r+24|0;A:do{if(0<(0|i)){for(h=r+16|0,v=E+8|0,g=e+37|0,Z=e+60|0,p=e+64|0,y=e+56|0,B=w=E+4|0,s=e+40|0,d=X+2|0,k=m=E+12|0,b=0;;){if(0|tr[f>>0])break A;if(0==(0|ar[(u=h)>>2])&0==(0|ar[u+4>>2]))break A;if(ar[w>>2]=0,ar[v>>2]=0,t=(ar[m>>2]=0)|tr[g>>0]?0|FA(r):65535&(0|VA(r)),ar[E>>2]=t,c=255&(u=0|IA(r)),u<<24>>24)for(a=0;1&ar[s>>2]?(t=(65535&(o=0|VA(r)))>>>15&255,e=32767):(t=(255&(o=0|IA(r)))>>>7,e=127,o&=255),tr[X>>0]=t,or[d>>1]=65535&o&e,(0|(t=0|ar[v>>2]))==(0|ar[k>>2])?Nt(B,X):(u=0|ar[X>>2],or[t>>1]=u,or[t+2>>1]=u>>>16,ar[v>>2]=4+(0|ar[v>>2])),(0|(a=a+1|0))<(0|c););if((0|(o=0|ar[Z>>2]))==(0|ar[p>>2]))Rt(y,E),t=0|ar[w>>2];else{if(ar[o>>2]=ar[E>>2],ar[(a=o+4|0)>>2]=0,ar[(u=o+8|0)>>2]=0,t=(ar[o+12>>2]=0)|ar[B>>2],c=(e=(0|ar[v>>2])-t|0)>>2){if(1073741823<c>>>0)break;l=0|hu(e),ar[u>>2]=l,ar[a>>2]=l,ar[o+12>>2]=l+(c<<2),t=0|ar[B>>2],0<(0|(e=(0|ar[v>>2])-t|0))&&(hb(0|l,0|t,0|e),ar[u>>2]=l+(e>>>2<<2))}ar[Z>>2]=16+(0|ar[Z>>2])}if(0|t&&((0|(e=0|ar[v>>2]))!=(0|t)&&(ar[v>>2]=e+(~((e+-4-t|0)>>>2)<<2)),vu(t)),(0|i)<=(0|(b=b+1|0)))break A}zl()}}while(0);if(!(0|tr[f>>0]))return E=0|ar[(r=56592)+4>>2],ar[(X=A)>>2]=ar[r>>2],ar[X+4>>2]=E,yu(A+8|0,56600),void(ur=n);ar[E>>2]=0,ar[E+4>>2]=0,ar[E+8>>2]=0,oo(A,2,100,E),ur=(0<=(0|tr[E+11>>0])||vu(0|ar[E>>2]),n)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(o=ur)+160|0,c=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[c>>2]=0,ar[c+4>>2]=0,ar[c+8>>2]=0,Xe(t,c),(0|tr[c+11>>0])<0&&vu(0|ar[c>>2]),LA(c,e,r),We(f,(u=(a=0|tr[(l=c+11|0)>>0])<<24>>24<0)?0|ar[c>>2]:c,u?0|ar[c+4>>2]:255&a),(0|tr[l>>0])<0&&vu(0|ar[c>>2]),0<(0|ar[r>>2]))for(c=0;We(f,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(l=0|We(f,22025,13),l=0|We(0|Lf(l,0|ar[e+56>>2]),30086,1),0<(0|ar[r>>2]))for(c=0;We(l,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(u=0|We(l,22039,14),We(0|Lf(u,0|ar[e+60>>2]),30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0;ur=(i=ur)+32|0,f=i,n=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),UA(r,0|ar[e+56>>2]),UA(r,0|ar[e+60>>2]),KA(f,e,r,n),(0|tr[(e=f+8|0)+11>>0])<0&&vu(0|ar[e>>2]),f=0|ar[(r=56592)+4>>2],ar[(n=A)>>2]=ar[r>>2],ar[n+4>>2]=f,yu(A+8|0,56600),ur=i},function(A,e,r){A|=0;var i,f=0,n=0;if(ur=(i=ur)+32|0,f=i+20|0,qA(n=i,e|=0,r|=0),(0|tr[(n=n+8|0)+11>>0])<0&&vu(0|ar[n>>2]),n=0|FA(r),ar[e+56>>2]=n,n=0|FA(r),ar[e+60>>2]=n,!(0|tr[r+24>>0]))return f=0|ar[(r=56592)+4>>2],ar[(n=A)>>2]=ar[r>>2],ar[n+4>>2]=f,yu(A+8|0,56600),void(ur=i);ar[f>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,oo(A,2,100,f),ur=(0<=(0|tr[f+11>>0])||vu(0|ar[f>>2]),i)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0;if(ur=(o=ur)+160|0,a=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,Xe(t,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),LA(a,e,r),We(f,(u=(l=0|tr[(c=a+11|0)>>0])<<24>>24<0)?0|ar[a>>2]:a,u?0|ar[a+4>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[a>>2]),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(a=0|We(f,21914,10),c=0|We(0|We(a,(u=(c=0|tr[(l=e+56|0)+11>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[e+60>>2]:255&c),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(We(c,21925,14),(0|(a=0|ar[e+68>>2]))!=(0|(c=0|ar[e+72>>2])))for(;u=0|tr[a>>0],l=f+(0|ar[(0|ar[f>>2])-12>>2])+4|0,ar[l>>2]=-75&ar[l>>2]|8,ar[f+(0|ar[(0|ar[f>>2])-12>>2])+12>>2]=2,ar[f+(0|ar[(0|ar[f>>2])-12>>2])+76>>2]=48,We(0|Pf(f,255&u),20449,1),(0|(a=a+1|0))!=(0|c););if(We(f,30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f,n=0,t=0,o=0;if(ur=(f=ur)+32|0,t=f,o=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),OA(r,e+56|0),(0|(n=0|ar[e+68>>2]))!=(0|(i=0|ar[e+72>>2])))for(;JA(r,0|tr[n>>0]),(0|(n=n+1|0))!=(0|i););KA(t,e,r,o),(0|tr[(n=t+8|0)+11>>0])<0&&vu(0|ar[n>>2]),t=0|ar[(r=56592)+4>>2],ar[(o=A)>>2]=ar[r>>2],ar[o+4>>2]=t,yu(A+8|0,56600),ur=f},function(A,e,r){A|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;ur=(f=ur)+32|0,k=f+20|0,qA(n=f,e|=0,r|=0),(0|tr[(n=n+8|0)+11>>0])<0&&vu(0|ar[n>>2]),RA(k,r),(0|tr[(t=(n=e+56|0)+11|0)>>0])<0?(tr[ar[n>>2]>>0]=0,ar[e+60>>2]=0):(tr[n>>0]=0,tr[t>>0]=0),Cu(n,0),ar[n>>2]=ar[k>>2],ar[n+4>>2]=ar[k+4>>2],ar[n+8>>2]=ar[k+8>>2],d=i=r+16|0;A:do{if(!(0==(0|ar[d>>2])&0==(0|ar[d+4>>2]))){for(s=e+68|0,d=e+72|0,u=e+76|0;;){if(a=0|IA(r),n=0|ar[d>>2],(t=b=0|ar[u>>2])>>>0<=n>>>0){if(l=b=0|ar[s>>2],(0|(n=(c=n-b|0)+1|0))<0)break;t=(o=t-b|0)<<1,o=(t=o>>>0<1073741823?t>>>0<n>>>0?n:t:2147483647)?0|hu(t):0,tr[(e=o+c|0)>>0]=a,n=e+(0-c)|0,0<(0|c)&&hb(0|n,0|l,0|c),ar[s>>2]=n,ar[d>>2]=e+1,ar[u>>2]=o+t,0|b&&vu(l)}else tr[n>>0]=a,ar[d>>2]=1+(0|ar[d>>2]);if(0==(0|ar[(b=i)>>2])&0==(0|ar[b+4>>2]))break A}zl()}}while(0);if(!(0|tr[r+24>>0]))return r=0|ar[(d=56592)+4>>2],ar[(k=A)>>2]=ar[d>>2],ar[k+4>>2]=r,yu(A+8|0,56600),void(ur=f);ar[k>>2]=0,ar[k+4>>2]=0,ar[k+8>>2]=0,oo(A,2,100,k),ur=(0<=(0|tr[k+11>>0])||vu(0|ar[k>>2]),f)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l=0,u=0;if(ur=(o=ur)+160|0,l=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[l>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,Xe(t,l),(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),LA(l,e,r),We(f,(u=(c=0|tr[(a=l+11|0)>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[l+4>>2]:255&c),(0|tr[a>>0])<0&&vu(0|ar[l>>2]),0<(0|ar[r>>2]))for(l=0;We(f,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););if(u=0|We(f,21802,10),We(0|Pf(u,0|ar[e+56>>2]),21813,15),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0;if(ur=(i=ur)+16|0,f=i,n=90*(3&(0|IA(r|=0)))|0,ar[e+56>>2]=n,!(0|tr[r+24>>0]))return f=0|ar[(r=56592)+4>>2],ar[(n=A)>>2]=ar[r>>2],ar[n+4>>2]=f,yu(A+8|0,56600),void(ur=i);ar[f>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,oo(A,2,100,f),ur=(0<=(0|tr[f+11>>0])||vu(0|ar[f>>2]),i)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l,u=0;if(ur=(o=ur)+160|0,u=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[u>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,Xe(t,u),(0|tr[u+11>>0])<0&&vu(0|ar[u>>2]),LA(u,e,r),We(f,(l=(c=0|tr[(a=u+11|0)>>0])<<24>>24<0)?0|ar[u>>2]:u,l?0|ar[u+4>>2]:255&c),(0|tr[a>>0])<0&&vu(0|ar[u>>2]),0<(0|ar[r>>2]))for(u=0;We(f,18862,2),(0|(u=u+1|0))<(0|ar[r>>2]););switch(We(f,21681,13),0|tr[e+56>>0]){case 0:We(f,21695,9);break;case 1:We(f,21705,11)}if(Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0;if(ur=(i=ur)+16|0,f=i,n=1&(0|IA(r|=0)),tr[e+56>>0]=n,!(0|tr[r+24>>0]))return f=0|ar[(r=56592)+4>>2],ar[(n=A)>>2]=ar[r>>2],ar[n+4>>2]=f,yu(A+8|0,56600),void(ur=i);ar[f>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,oo(A,2,100,f),ur=(0<=(0|tr[f+11>>0])||vu(0|ar[f>>2]),i)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l=0,u=0;if(ur=(o=ur)+160|0,l=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[l>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,Xe(t,l),(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),LA(l,e,r),We(f,(u=(c=0|tr[(a=l+11|0)>>0])<<24>>24<0)?0|ar[l>>2]:l,u?0|ar[l+4>>2]:255&c),(0|tr[a>>0])<0&&vu(0|ar[l>>2]),0<(0|ar[r>>2]))for(l=0;We(f,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););if(u=0|We(f,21560,16),u=0|We(0|Pf(u,0|ar[e+56>>2]),21577,1),u=0|We(0|Pf(u,0|ar[e+60>>2]),21579,3),u=0|We(0|Pf(u,0|ar[e+64>>2]),21577,1),We(0|Pf(u,0|ar[e+68>>2]),30086,1),0<(0|ar[r>>2]))for(l=0;We(f,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););if(u=0|We(f,21583,8),u=0|We(0|Pf(u,0|ar[e+72>>2]),21577,1),u=0|We(0|Pf(u,0|ar[e+76>>2]),21592,3),u=0|We(0|Pf(u,0|ar[e+80>>2]),21577,1),We(0|Pf(u,0|ar[e+84>>2]),30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0;ur=(i=ur)+32|0,f=i,n=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),UA(r,0|ar[e+56>>2]),UA(r,0|ar[e+60>>2]),UA(r,0|ar[e+64>>2]),UA(r,0|ar[e+68>>2]),UA(r,0|ar[e+72>>2]),UA(r,0|ar[e+76>>2]),UA(r,0|ar[e+80>>2]),UA(r,0|ar[e+84>>2]),KA(f,e,r,n),(0|tr[(e=f+8|0)+11>>0])<0&&vu(0|ar[e>>2]),f=0|ar[(r=56592)+4>>2],ar[(n=A)>>2]=ar[r>>2],ar[n+4>>2]=f,yu(A+8|0,56600),ur=i},function(A,e,r){A|=0,e|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0;if(ur=(i=ur)+32|0,b=i+12|0,s=i,l=0|FA(r|=0),u=0|FA(r),a=0|FA(r),c=0|FA(r),t=0|FA(r),o=0|FA(r),n=0|FA(r),f=0|FA(r),131072<(u+65536|0)>>>0)for(;l=(0|l)/2|0,131072<((u=(0|u)/2|0)+65536|0)>>>0;);if(131072<(l+65536|0)>>>0)for(;u=(0|u)/2|0,131072<((l=(0|l)/2|0)+65536|0)>>>0;);if(ar[(d=e+56|0)>>2]=l,ar[d+4>>2]=u,131072<(c+65536|0)>>>0)for(;a=(0|a)/2|0,131072<((c=(0|c)/2|0)+65536|0)>>>0;);if(131072<(a+65536|0)>>>0)for(;c=(0|c)/2|0,131072<((a=(0|a)/2|0)+65536|0)>>>0;);if(ar[(d=e+64|0)>>2]=a,ar[d+4>>2]=c,131072<(o+65536|0)>>>0)for(;t=(0|t)/2|0,131072<((o=(0|o)/2|0)+65536|0)>>>0;);if(131072<(t+65536|0)>>>0)for(;o=(0|o)/2|0,131072<((t=(0|t)/2|0)+65536|0)>>>0;);if(ar[(d=e+72|0)>>2]=t,ar[d+4>>2]=o,131072<(f+65536|0)>>>0)for(;n=(0|n)/2|0,131072<((f=(0|f)/2|0)+65536|0)>>>0;);if(131072<(n+65536|0)>>>0)for(;f=(0|f)/2|0,131072<((n=(0|n)/2|0)+65536|0)>>>0;);if(ar[(d=e+80|0)>>2]=n,0==(0|u)|0==(0|c)|0==(0|o)|0==(0|(ar[d+4>>2]=f)))return ar[s>>2]=0,ar[s+4>>2]=0,ar[s+8>>2]=0,oo(A,2,128,s),0<=(0|tr[s+11>>0])||vu(0|ar[s>>2]),void(ur=i);0|tr[r+24>>0]?(ar[b>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,oo(A,2,100,b),(0|tr[b+11>>0])<0&&vu(0|ar[b>>2])):(s=0|ar[(b=56592)+4>>2],ar[(d=A)>>2]=ar[b>>2],ar[d+4>>2]=s,yu(A+8|0,56600)),ur=i},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(b=0|tr[(s=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&b),(0|tr[s>>0])<0&&vu(0|ar[f>>2]),(0|(c=0|ar[e+56>>2]))!=(0|(u=0|ar[e+60>>2]))){b=11+f|0,s=4+f|0;do{if(0<(0|ar[r>>2]))for(e=0;We(n,18862,2),(0|(e=e+1|0))<(0|ar[r>>2]););if(d=0|We(n,21430,21),xA(f,c),l=0|We(0|We(0|We(d,(e=(l=0|tr[b>>0])<<24>>24<0)?0|ar[f>>2]:f,e?0|ar[s>>2]:255&l),21452,1),21454,10),We(0|Lf(l,0|ar[c+48>>2]),21465,9),(0|tr[b>>0])<0&&vu(0|ar[f>>2]),(0|(e=0|ar[c+52>>2]))!=(0|(l=0|ar[c+56>>2])))for(;We(0|Lf(n,0|ar[e>>2]),20449,1),(0|(e=e+4|0))!=(0|l););We(n,30086,1),c=c+64|0}while((0|c)!=(0|u))}if(Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),Gf(),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),Gf(),bf(t),ur=a},function(A,e,r){A|=0,e|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0;if(ur=(f=ur)+32|0,c=f,l=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),i=0==(0|tr[e+37>>0])?2:4,(0|(n=0|ar[e+56>>2]))!=(0|(a=0|ar[e+60>>2])))do{if(t=n+52|0,UA(r,10+(0|br(1+((0|ar[(o=n+56|0)>>2])-(0|ar[t>>2])>>2)|0,i))|0),UA(r,0|ar[n+20>>2]),SA(r,i,0|ar[n+48>>2],0),MA(r,((0|ar[o>>2])-(0|ar[t>>2])|0)>>>2&65535),(0|(t=0|ar[t>>2]))!=(0|(o=0|ar[o>>2])))for(;SA(r,i,0|ar[t>>2],0),(0|(t=t+4|0))!=(0|o););n=n+64|0}while((0|n)!=(0|a));if(KA(c,e,r,l),0<=(0|tr[(n=c+8|0)+11>>0]))return a=0|ar[(a=c=56592)>>2],c=0|ar[(c=c+4|0)>>2],ar[(r=l=A)>>2]=a,ar[(l=l+4|0)>>2]=c,yu(A=A+8|0,56600),void(ur=f);vu(0|ar[n>>2]),a=0|ar[(a=c=56592)>>2],c=0|ar[(c=c+4|0)>>2],ar[(r=l=A)>>2]=a,ar[(l=l+4|0)>>2]=c,yu(A=A+8|0,56600),ur=f},function(A,e,r){A|=0;var i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z=0,p=0,y=0,B=0,E=0,X=0;for(ur=(g=ur)+96|0,E=(B=g)+64|0,qA(Z=g+68|0,e|=0,r|=0),(0|tr[(Z=Z+8|0)+11>>0])<0&&vu(0|ar[Z>>2]),a=r+16|0,c=B+8|0,l=B+40|0,b=B+56|0,d=e+37|0,k=B+48|0,h=s=B+60|0,w=u=B+52|0,v=e+60|0,m=e+64|0,i=e+56|0,n=11+(f=A+8|0)|0,t=B+24|0,o=B+28|0;!(0==(0|ar[(y=a)>>2])&0==(0|ar[y+4>>2]));){if(ar[B>>2]=4264,ar[l>>2]=0,ar[c>>2]=0,ar[4+c>>2]=0,ar[8+c>>2]=0,ar[12+c>>2]=0,ar[16+c>>2]=0,ar[20+c>>2]=0,ar[24+c>>2]=0,or[28+c>>1]=0,ar[u>>2]=0,ar[b>>2]=0,ar[s>>2]=0,re(A,B,r),(0|ar[A>>2])==(0|ar[14148])){if(0|tr[d>>0]){if(y=0|FA(r),ar[k>>2]=y,e=65535&(y=0|VA(r)),y<<16>>16)for(Z=0;p=0|FA(r),ar[E>>2]=p,(y=0|ar[b>>2])>>>0<(0|ar[h>>2])>>>0?(ar[y>>2]=p,ar[b>>2]=y+4):Ce(w,E),Z=Z+1|0,(0!=(0|ar[(y=a)>>2])|0!=(0|ar[y+4>>2]))&(0|Z)<(0|e););}else if(y=65535&(0|VA(r)),ar[k>>2]=y,e=65535&(y=0|VA(r)),y<<16>>16)for(Z=0;p=65535&(0|VA(r)),ar[E>>2]=p,(y=0|ar[b>>2])>>>0<(0|ar[h>>2])>>>0?(ar[y>>2]=p,ar[b>>2]=y+4):Ce(w,E),Z=Z+1|0,(0!=(0|ar[(y=a)>>2])|0!=(0|ar[y+4>>2]))&(0|Z)<(0|e););(0|(Z=0|ar[v>>2]))==(0|ar[m>>2])?de(i,B):(se(Z,B),ar[v>>2]=64+(0|ar[v>>2])),p=((0|tr[n>>0])<0&&vu(0|ar[f>>2]),0)}else p=1;if(0|(Z=0|ar[u>>2])&&((0|(e=0|ar[b>>2]))!=(0|Z)&&(ar[b>>2]=e+(~((e+-4-Z|0)>>>2)<<2)),vu(Z)),ar[B>>2]=4264,0|(Z=0|ar[t>>2])&&((0|ar[o>>2])!=(0|Z)&&(ar[o>>2]=Z),vu(Z)),1==(0|p)){X=36;break}}ur=(36!=(0|X)&&(0|tr[r+24>>0]?(ar[B>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,oo(A,2,100,B),(0|tr[B+11>>0])<0&&vu(0|ar[B>>2])):(E=0|ar[(B=56592)+4>>2],ar[(X=A)>>2]=ar[B>>2],ar[X+4>>2]=E,yu(f,56600))),g)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0;if(ur=(o=ur)+160|0,l=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[l>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,Xe(t,l),(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),LA(l,e,r),We(f,(c=(u=0|tr[(b=l+11|0)>>0])<<24>>24<0)?0|ar[l>>2]:l,c?0|ar[l+4>>2]:255&u),(0|tr[b>>0])<0&&vu(0|ar[l>>2]),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(f,20916,23),c=0|We(0|Pf(c,0|cr[e+56>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20940,23),c=0|We(0|Pf(c,0|cr[e+57>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20964,19),c=0|We(0|Hf(c,0!=(0|tr[e+58>>0])),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(b=0|We(c,20984,21),We(0|Pf(b,0|cr[e+59>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););for(We(f,21006,37),c=e+60|0,a=0;Lf(f,(0|ar[c>>2])>>>(31-a|0)&1),7!=((0|a)%8|0)?3==((0|a)%4|0)&&(tr[l>>0]=46,We(f,l,1)):(tr[l>>0]=32,We(f,l,1)),(0|(a=a+1|0))<32;);if(We(f,30086,1),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););for(We(f,21044,36),a=0;Pf(f,0!=(ar[e+64+(a>>>5<<2)>>2]&1<<(31&a)|0)&1),7&(a=a+1|0)||(tr[l>>0]=32,We(f,l,1)),(0|a)<48;);if(We(f,30086,1),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(f,21081,19),c=0|We(0|Pf(c,0|cr[e+72>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21101,30),c=0|We(0|xf(c,0|or[e+74>>1]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21132,18),c=0|We(0|Pf(c,0|cr[e+76>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21151,15),c=0|We(0|Pf(c,0|cr[e+77>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21167,16),c=0|We(0|Pf(c,0|cr[e+78>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21184,18),c=0|We(0|Pf(c,0|cr[e+79>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21203,16),c=0|We(0|xf(c,0|or[e+80>>1]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21220,21),c=0|We(0|Pf(c,0|cr[e+82>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21242,21),c=0|We(0|Pf(c,0|cr[e+83>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21264,20),c=0|We(0|Pf(c,0|cr[e+84>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(a=0|We(c,21285,13),We(0|Pf(a,0|cr[e+88>>0]),30086,1),(0|(a=0|ar[e+92>>2]))!=(0|(b=0|ar[e+96>>2]))){u=a,a=0|ar[r>>2];do{if(0<(0|a))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(We(f,21299,8),e=0|ar[r>>2],ar[r>>2]=e+1,-1<(0|e))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(f,21308,20),c=0|We(0|Pf(c,0|cr[u>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,21329,15),We(0|Pf(c,0|cr[u+1>>0]),30086,1),c=0|ar[u+4>>2],e=0|ar[u+8>>2],a=0|ar[r>>2],(0|c)!=(0|e))do{if(0<(0|a))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if((0|(a=0|ar[c>>2]))!=(0|(l=0|ar[c+4>>2])))for(;s=0|tr[a>>0],ar[f+(0|ar[(0|ar[f>>2])-12>>2])+76>>2]=48,ar[f+(0|ar[(0|ar[f>>2])-12>>2])+12>>2]=2,d=f+(0|ar[(0|ar[f>>2])-12>>2])+4|0,ar[d>>2]=-75&ar[d>>2]|8,We(0|Pf(f,255&s),20449,1),(0|(a=a+1|0))!=(0|l););We(f,30086,1),a=f+(0|ar[(0|ar[f>>2])-12>>2])+4|0,ar[a>>2]=-75&ar[a>>2]|2,c=c+12|0,a=0|ar[r>>2]}while((0|c)!=(0|e));a=(0|a)<1?0:a+-1|0,ar[r>>2]=a,u=u+16|0}while((0|u)!=(0|b))}if(Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0;for(ur=(i=ur)+32|0,a=i,c=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),JA(r,0|tr[e+56>>0]),JA(r,tr[e+58>>0]<<5&255|tr[e+57>>0]<<6&255|31&tr[e+59>>0]),UA(r,0|ar[e+60>>2]),f=0;o=f<<3,JA(r,(0!=(ar[e+64+((f>>>2&134217727)<<2)>>2]&1<<(24&o|7)|0)|(0!=(ar[e+64+((f>>>2&134217727)<<2)>>2]&1<<(24&o|6)|0)|(0!=(ar[e+64+((f>>>2&134217727)<<2)>>2]&1<<(24&o|5)|0)|(0!=(ar[e+64+((f>>>2&134217727)<<2)>>2]&1<<(24&o|4)|0)|(0!=(ar[e+64+((f>>>2&134217727)<<2)>>2]&1<<(24&o|3)|0)|(0!=(ar[e+64+((f>>>2&134217727)<<2)>>2]&1<<(24&o|2)|0)|(0!=(ar[e+64+((f>>>2&134217727)<<2)>>2]&1<<(24&o|1)|0)&1)<<1)<<1)<<1&14)<<1&30)<<1&62)<<1&126)<<1&255),6!=(0|(f=f+1|0)););if(JA(r,0|tr[e+72>>0]),MA(r,-4096|or[e+74>>1]),JA(r,-4|tr[e+76>>0]),JA(r,-4|tr[e+77>>0]),JA(r,-8|tr[e+78>>0]),JA(r,-8|tr[e+79>>0]),MA(r,0|or[e+80>>1]),JA(r,255&(255&(tr[e+83>>0]<<3&56|tr[e+82>>0]<<6&255|tr[e+84>>0]<<2&4)|3+(0|cr[e+88>>0])&3)),f=e+92|0,JA(r,((0|ar[(o=e+96|0)>>2])-(0|ar[f>>2])|0)>>>4&255),(0|(f=0|ar[f>>2]))!=(0|(o=0|ar[o>>2])))do{if(JA(r,tr[f>>0]<<6&64|63&tr[f+1>>0]),n=f+4|0,MA(r,65535&(((0|ar[(t=f+8|0)>>2])-(0|ar[n>>2])|0)/12|0)),(0|(n=0|ar[n>>2]))!=(0|(t=0|ar[t>>2])))for(;MA(r,(0|ar[n+4>>2])-(0|ar[n>>2])&65535),zA(r,n),(0|(n=n+12|0))!=(0|t););f=f+16|0}while((0|f)!=(0|o));if(KA(a,e,r,c),0<=(0|tr[(f=a+8|0)+11>>0]))return e=0|ar[(e=a=56592)>>2],a=0|ar[(a=a+4|0)>>2],ar[(r=c=A)>>2]=e,ar[(c=c+4|0)>>2]=a,yu(A=A+8|0,56600),void(ur=i);vu(0|ar[f>>2]),e=0|ar[(e=a=56592)>>2],a=0|ar[(a=a+4|0)>>2],ar[(r=c=A)>>2]=e,ar[(c=c+4|0)>>2]=a,yu(A=A+8|0,56600),ur=i},function(A,e,r){A|=0,e|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;for(ur=(i=ur)+32|0,I=i+16|0,W=i,n=0|IA(r|=0),tr[e+56>>0]=n,f=255&(n=0|IA(r)),tr[e+57>>0]=(255&n)>>>6,tr[e+58>>0]=f>>>5&1,tr[e+59>>0]=31&f,f=0|FA(r),ar[e+60>>2]=f,n=(f=0)|IA(r);p=255&n,y=1<<(24&(B=f<<3)),Z=0|ar[(E=e+64+((f>>>2&134217727)<<2)|0)>>2],ar[E>>2]=128&p|0?Z|y:Z&~y,y=1<<(24&B|1),Z=0|ar[(E=e+64+((f>>>2&134217727)<<2)|0)>>2],ar[E>>2]=64&p|0?Z|y:Z&~y,y=1<<(24&B|2),Z=0|ar[(E=e+64+((f>>>2&134217727)<<2)|0)>>2],ar[E>>2]=32&p|0?Z|y:Z&~y,y=1<<(24&B|3),Z=0|ar[(E=e+64+((f>>>2&134217727)<<2)|0)>>2],ar[E>>2]=16&p|0?Z|y:Z&~y,y=1<<(24&B|4),Z=0|ar[(E=e+64+((f>>>2&134217727)<<2)|0)>>2],ar[E>>2]=8&p|0?Z|y:Z&~y,y=1<<(24&B|5),Z=0|ar[(E=e+64+((f>>>2&134217727)<<2)|0)>>2],ar[E>>2]=4&p|0?Z|y:Z&~y,y=1<<(24&B|6),Z=0|ar[(E=e+64+((f>>>2&134217727)<<2)|0)>>2],ar[E>>2]=2&p|0?Z|y:Z&~y,B=1<<(24&B|7),y=0|ar[(E=e+64+((f>>>2&134217727)<<2)|0)>>2],ar[E>>2]=1&p|0?y|B:y&~B,f=f+1|0,n=0|IA(r),6!=(0|f););tr[e+72>>0]=n,k=4095&(0|VA(r)),or[e+74>>1]=k,k=3&(0|IA(r)),tr[e+76>>0]=k,k=3&(0|IA(r)),tr[e+77>>0]=k,k=7&(0|IA(r))|8,tr[e+78>>0]=k,k=7&(0|IA(r))|8,tr[e+79>>0]=k,k=0|VA(r),or[e+80>>1]=k,E=255&(k=0|IA(r)),tr[e+82>>0]=(255&k)>>>6,tr[e+83>>0]=E>>>3&7,tr[e+84>>0]=E>>>2&1,tr[e+88>>0]=1+(3&E),k=255&(E=0|IA(r));A:do{if(E<<24>>24){h=r+24|0,v=I+8|0,g=I+1|0,Z=e+96|0,p=e+100|0,B=m=I+12|0,E=y=w=I+4|0,l=e+92|0,u=W+4|0,s=r+4|0,d=b=W+8|0,c=0;do{if(0|tr[h>>0])break A;o=0|IA(r),ar[w>>2]=0,ar[v>>2]=0,ar[m>>2]=0,o&=255,tr[I>>0]=o>>>6&1,tr[g>>0]=63&o,a=65535&(o=0|VA(r));e:do{if(o<<16>>16){o=0;do{if(0|tr[h>>0])break e;ar[W>>2]=0,ar[u>>2]=0,t=65535&(f=(ar[b>>2]=0)|VA(r));do{if(f<<16>>16){do{if(0|CA(r,65535&f,0)){if(t>>>0<=(f=(e=0|ar[u>>2])-(n=0|ar[W>>2])|0)>>>0?t>>>0<f>>>0&&(0|e)!=(0|(X=n+t|0))&&(ar[u>>2]=X):TA(W,t-f|0),f=0|ar[r>>2],n=0|ar[s>>2]){bu(n),xb[63&ar[16+(0|ar[f>>2])>>2]](f,0|ar[W>>2],t),du(n);break}xb[63&ar[16+(0|ar[f>>2])>>2]](f,0|ar[W>>2],t);break}}while(0);if((f=0|ar[v>>2])>>>0<(0|ar[B>>2])>>>0){ar[f>>2]=0,ar[(t=f+4|0)>>2]=0,ar[f+8>>2]=0,ar[f>>2]=ar[W>>2],ar[t>>2]=ar[u>>2],ar[f+8>>2]=ar[d>>2],ar[d>>2]=0,ar[u>>2]=0,ar[W>>2]=0,ar[v>>2]=12+(0|ar[v>>2]);break}ue(y,W);break}}while(0);0|(f=0|ar[W>>2])&&((0|ar[u>>2])!=(0|f)&&(ar[u>>2]=f),vu(f)),o=o+1|0}while((0|o)<(0|a))}}while(0);if((f=0|ar[Z>>2])>>>0>=(0|ar[p>>2])>>>0){if(le(l,I),0|(f=0|ar[E>>2])){if((0|(n=0|ar[v>>2]))!=(0|f)){for(;e=n+-12|0,ar[v>>2]=e,(0|(n=(t=0|ar[e>>2])?((0|ar[(n=n+-8|0)>>2])!=(0|t)&&(ar[n>>2]=t),vu(t),0|ar[v>>2]):e))!=(0|f););f=0|ar[E>>2]}vu(f)}}else or[f>>1]=0|or[I>>1],ar[(o=f+4|0)>>2]=0,ar[(a=f+8|0)>>2]=0,ar[f+12>>2]=0,ar[o>>2]=ar[y>>2],ar[a>>2]=ar[v>>2],ar[f+12>>2]=ar[B>>2],ar[B>>2]=0,ar[v>>2]=0,ar[y>>2]=0,ar[Z>>2]=16+(0|ar[Z>>2]);c=c+1|0}while((0|c)<(0|k))}}while(0);if(n=0|ar[(f=t=r+16|0)>>2],0<(0|(f=0|ar[f+4>>2]))|0==(0|f)&0<n>>>0&&((e=0|ar[r+8>>2])&&(_A(e,n,f),n=0|ar[(f=t)>>2],f=0|ar[f+4>>2]),X=0|ar[r>>2],W=0|ar[X>>2],E=0|ar[W+20>>2],W=0|tb(0|(W=0|jb[127&ar[W+8>>2]](X)),0|D,0|n,0|f),xb[63&E](X,W,D),ar[(W=t)>>2]=0,ar[W+4>>2]=0),!(0|tr[r+24>>0]))return r=0|ar[(W=56592)+4>>2],ar[(I=A)>>2]=ar[W>>2],ar[I+4>>2]=r,yu(A+8|0,56600),void(ur=i);ar[I>>2]=0,ar[I+4>>2]=0,ar[I+8>>2]=0,oo(A,2,100,I),ur=(0<=(0|tr[I+11>>0])||vu(0|ar[I>>2]),i)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0;if(ur=(o=ur)+160|0,a=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,Xe(t,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),LA(a,e,r),We(f,(u=(l=0|tr[(c=a+11|0)>>0])<<24>>24<0)?0|ar[a>>2]:a,u?0|ar[a+4>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[a>>2]),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(f,18907,9),c=0|We(0|Pf(c,0|cr[e+56>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20644,13),c=0|We(0|Pf(c,0|cr[e+57>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20658,17),c=0|We(0|Pf(c,0|cr[e+58>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20676,15),c=0|We(0|Pf(c,0|cr[e+60>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20692,12),c=0|We(0|Pf(c,0|cr[e+61>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20705,22),c=0|We(0|Pf(c,0|cr[e+63>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20728,22),c=0|We(0|Pf(c,0|cr[e+64>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,20751,24),c=0|We(0|Pf(c,0|cr[e+65>>0]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(We(c,20776,28),0|tr[e+66>>0]?We(0|Pf(f,1+(0|cr[e+67>>0])|0),30086,1):We(f,20805,12),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(We(f,20818,12),r=e+68|0,(0|ar[(c=e+72|0)>>2])!=(0|ar[r>>2]))for(a=0;l=(u=0|We(f,20449,1))+(0|ar[(0|ar[u>>2])-12>>2])+4|0,ar[l>>2]=-75&ar[l>>2]|8,ar[u+(0|ar[(0|ar[u>>2])-12>>2])+76>>2]=48,ar[u+(0|ar[(0|ar[u>>2])-12>>2])+12>>2]=2,Pf(u,0|cr[(0|ar[r>>2])+a>>0]),(a=a+1|0)>>>0<((0|ar[c>>2])-(0|ar[r>>2])|0)>>>0;);if(u=f+(0|ar[(0|ar[f>>2])-12>>2])+4|0,ar[u>>2]=-75&ar[u>>2]|2,We(f,30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0;if(ur=(i=ur)+32|0,f=i,n=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),JA(r,-128|tr[e+56>>0]),JA(r,31&tr[e+58>>0]|tr[e+57>>0]<<5&255),JA(r,255&((0|tr[e+60>>0]?64:0)|(0|tr[e+59>>0]?128:0)|(0|tr[e+61>>0]?32:0)|(0|tr[e+62>>0]?16:0)|(0|tr[e+63>>0]?8:0)|(0|tr[e+64>>0]?4:0)|3&tr[e+65>>0])),JA(r,0),KA(f,e,r,n),0<=(0|tr[(e=f+8|0)+11>>0]))return e=0|ar[(e=f=56592)>>2],f=0|ar[(f=f+4|0)>>2],ar[(r=n=A)>>2]=e,ar[(n=n+4|0)>>2]=f,yu(n=A+8|0,56600),void(ur=i);vu(0|ar[e>>2]),e=0|ar[(e=f=56592)>>2],f=0|ar[(f=f+4|0)>>2],ar[(r=n=A)>>2]=e,ar[(n=n+4|0)>>2]=f,yu(n=A+8|0,56600),ur=i},function(A,e,r){A|=0,e|=0;var i,f,n,t,o,a,c,l,u,b,s,d=0,k=0,h=0,w=0;if(ur=(o=ur)+16|0,w=o,k=127&(0|IA(r|=0)),tr[e+56>>0]=k,k=0|IA(r),tr[e+57>>0]=(255&k)>>>5,tr[e+58>>0]=31&k,d=255&(k=0|IA(r)),tr[e+59>>0]=(255&k)>>>7,tr[e+60>>0]=d>>>6&1,tr[e+61>>0]=d>>>5&1,tr[e+62>>0]=d>>>4&1,tr[e+63>>0]=d>>>3&1,tr[e+64>>0]=d>>>2&1,tr[e+65>>0]=3&d,k=(d=255&(0|IA(r)))>>>4&1,(tr[e+66>>0]=k)<<24>>24&&(tr[e+67>>0]=15&d),t=0|ar[(k=r+16|0)>>2],k=0|ar[k+4>>2],n=e+68|0,t>>>0<=(i=(f=0|ar[(e=e+72|0)>>2])-(d=0|ar[n>>2])|0)>>>0?t>>>0<i>>>0&&(0|f)!=(0|(h=d+t|0))&&(ar[e>>2]=h):(TA(n,t-i|0),d=0|ar[n>>2]),a=r,c=d,l=t,u=k,c|=0,a=0|CA(a|=0,l|=0,u|=0)?(u=0|ar[a>>2],(s=0==(0|(b=0|ar[a+4>>2])))||bu(b),(u=0|xb[63&ar[16+(0|ar[u>>2])>>2]](u,c,l))||GA(a),s||du(b),u):0,!(0|tr[r+24>>0]))return r=0|ar[(h=56592)+4>>2],ar[(w=A)>>2]=ar[h>>2],ar[w+4>>2]=r,yu(A+8|0,56600),void(ur=o);ar[w>>2]=0,ar[w+4>>2]=0,ar[w+8>>2]=0,oo(A,2,100,w),ur=(0<=(0|tr[w+11>>0])||vu(0|ar[w>>2]),o)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(o=ur)+160|0,c=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[c>>2]=0,ar[c+4>>2]=0,ar[c+8>>2]=0,Xe(t,c),(0|tr[c+11>>0])<0&&vu(0|ar[c>>2]),LA(c,e,r),We(f,(u=(l=0|tr[(a=c+11|0)>>0])<<24>>24<0)?0|ar[c>>2]:c,u?0|ar[c+4>>2]:255&l),(0|tr[a>>0])<0&&vu(0|ar[c>>2]),0<(0|ar[r>>2]))for(c=0;We(f,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(l=0|We(f,20536,22),We(0|Kf(l,u=0|ob(0|ar[(u=e+8|0)>>2],0|ar[u+4>>2],0|ar[e+16>>2],0),D),30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f=0,n=0;ur=(i=ur)+32|0,f=i,n=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),zA(r,e+72|0),KA(f,e,r,n),(0|tr[(e=f+8|0)+11>>0])<0&&vu(0|ar[e>>2]),f=0|ar[(r=56592)+4>>2],ar[(n=A)>>2]=ar[r>>2],ar[n+4>>2]=f,yu(A+8|0,56600),ur=i},function(A,e,r){A|=0,e|=0;var i,f,n=0,t=0,o=0;if(ur=(f=ur)+16|0,i=f,n=0|ar[(r|=0)>>2],(t=0|ar[r+4>>2])?(bu(t),o=0|jb[127&ar[8+(0|ar[n>>2])>>2]](n),ar[(n=e+56|0)>>2]=0,ar[n+4>>2]=0,ar[(n=e+64|0)>>2]=o,ar[n+4>>2]=D,du(t)):(n=0|jb[127&ar[8+(0|ar[n>>2])>>2]](n),ar[(t=e+56|0)>>2]=0,ar[t+4>>2]=0,ar[(t=e+64|0)>>2]=n,ar[t+4>>2]=D),!(0|tr[r+24>>0]))return t=0|ar[(n=56592)+4>>2],ar[(o=A)>>2]=ar[n>>2],ar[o+4>>2]=t,yu(A+8|0,56600),void(ur=f);ar[i>>2]=0,ar[i+4>>2]=0,ar[i+8>>2]=0,oo(A,2,100,i),ur=(0<=(0|tr[i+11>>0])||vu(0|ar[i>>2]),f)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(b=0|tr[(s=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&b),(0|tr[s>>0])<0&&vu(0|ar[f>>2]),(0|(c=0|ar[e+56>>2]))!=(0|(u=0|ar[e+60>>2]))){b=11+f|0,s=4+f|0;do{if(0<(0|ar[r>>2]))for(e=0;We(n,18862,2),(0|(e=e+1|0))<(0|ar[r>>2]););if(d=0|We(n,20408,12),xA(f,c),l=0|We(0|We(d,(e=(l=0|tr[b>>0])<<24>>24<0)?0|ar[f>>2]:f,e?0|ar[s>>2]:255&l),30086,1),0<(0|ar[r>>2]))for(e=0;We(l,18862,2),(0|(e=e+1|0))<(0|ar[r>>2]););if(l=0|We(l,20421,12),l=0|We(0|Lf(l,0|ar[c+48>>2]),30086,1),0<(0|ar[r>>2]))for(e=0;We(l,18862,2),(0|(e=e+1|0))<(0|ar[r>>2]););if(We(l,20434,14),(0|tr[b>>0])<0&&vu(0|ar[f>>2]),(0|(e=0|ar[c+52>>2]))!=(0|(l=0|ar[c+56>>2])))for(;We(0|Lf(n,0|ar[e>>2]),20449,1),(0|(e=e+4|0))!=(0|l););We(n,30086,1),c=c+64|0}while((0|c)!=(0|u))}if(Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),Gf(),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),Gf(),bf(t),ur=a},function(A,e,r){var i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p=0,y=0,B=0,E=0,X=0,W=0;for(ur=(Z=ur)+96|0,v=(r|=0)+16|0,m=8+(h=Z+24|0)|0,g=40+h|0,X=56+h|0,l=(w=Z)+8|0,u=11+(c=(A|=0)+8|0)|0,b=A+12|0,s=48+h|0,d=(e|=0)+60|0,k=e+64|0,i=e+56|0,f=a=60+h|0,n=E=52+h|0,t=24+h|0,o=28+h|0;!(0==(0|ar[(B=v)>>2])&0==(0|ar[B+4>>2]));){if(ar[h>>2]=4264,ar[g>>2]=0,ar[m>>2]=0,ar[4+m>>2]=0,ar[8+m>>2]=0,ar[12+m>>2]=0,ar[16+m>>2]=0,ar[20+m>>2]=0,ar[24+m>>2]=0,or[28+m>>1]=0,ar[E>>2]=0,ar[X>>2]=0,ar[a>>2]=0,re(A,h,r),(0|ar[A>>2])==(0|ar[14148]))if(qA(w,h,r),y=0|ar[(p=w)+4>>2],ar[(B=A)>>2]=ar[p>>2],ar[B+4>>2]=y,(0|tr[u>>0])<0?(tr[ar[c>>2]>>0]=0,ar[b>>2]=0):(tr[c>>0]=0,tr[u>>0]=0),Cu(c,0),ar[c>>2]=ar[l>>2],ar[4+c>>2]=ar[4+l>>2],ar[8+c>>2]=ar[8+l>>2],(0|ar[A>>2])==(0|ar[14148])){p=0|FA(r),ar[s>>2]=p,p=0|FA(r);A:do{if(0<(0|p)){e=0;do{if(0==(0|ar[(B=v)>>2])&0==(0|ar[B+4>>2]))break A;y=0|FA(r),ar[w>>2]=y,(B=0|ar[X>>2])>>>0<(0|ar[f>>2])>>>0?(ar[B>>2]=y,ar[X>>2]=B+4):Ce(n,w),e=e+1|0}while((0|e)<(0|p))}}while(0);(0|(e=0|ar[d>>2]))==(0|ar[k>>2])?ae(i,h):(oe(e,h),ar[d>>2]=64+(0|ar[d>>2])),y=((0|tr[u>>0])<0&&vu(0|ar[c>>2]),0)}else y=1;else y=1;if(0|(e=0|ar[E>>2])&&((0|(p=0|ar[X>>2]))!=(0|e)&&(ar[X>>2]=p+(~((p+-4-e|0)>>>2)<<2)),vu(e)),ar[h>>2]=4264,0|(e=0|ar[t>>2])&&((0|ar[o>>2])!=(0|e)&&(ar[o>>2]=e),vu(e)),1==(0|y)){W=33;break}}ur=(33!=(0|W)&&(0|tr[r+24>>0]?(ar[h>>2]=0,ar[4+h>>2]=0,ar[8+h>>2]=0,oo(A,2,100,h),(0|tr[11+h>>0])<0&&vu(0|ar[h>>2])):(X=0|ar[(E=56592)+4>>2],ar[(W=A)>>2]=ar[E>>2],ar[W+4>>2]=X,yu(c,56600))),Z)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(l=0|tr[(c=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[f>>2]),ne(f,e,r),We(n,(c=(l=0|tr[(u=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,c?0|ar[4+f>>2]:255&l),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),Gf(),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),Gf(),bf(t),ur=a},function(A,e,r){$A(A|=0,e|=0,r|=0,-1)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(l=0|tr[(c=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[f>>2]),ne(f,e,r),We(n,(c=(l=0|tr[(u=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,c?0|ar[4+f>>2]:255&l),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),Gf(),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),Gf(),bf(t),ur=a},function(A,e,r){A|=0;var i,f=0;ur=(i=ur)+32|0,qA(f=i,e|=0,r|=0),(0|tr[(f=f+8|0)+11>>0])<0&&vu(0|ar[f>>2]),$A(A,e,r,0|FA(r)),ur=i},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0;if(ur=(o=ur)+160|0,a=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,Xe(t,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),LA(a,e,r),We(f,(u=(l=0|tr[(c=a+11|0)>>0])<<24>>24<0)?0|ar[a>>2]:a,u?0|ar[a+4>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[a>>2]),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(r=0|We(f,20144,10),We(0|We(r,(l=(u=0|tr[(c=e+56|0)+11>>0])<<24>>24<0)?0|ar[c>>2]:c,l?0|ar[e+60>>2]:255&u),30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0;var i,f,n=0,t=0;if(ur=(f=ur)+32|0,t=f+20|0,qA(n=f,e|=0,r|=0),(0|tr[(n=n+8|0)+11>>0])<0&&vu(0|ar[n>>2]),RA(t,r),(0|tr[(i=(n=e+56|0)+11|0)>>0])<0?(tr[ar[n>>2]>>0]=0,ar[e+60>>2]=0):(tr[n>>0]=0,tr[i>>0]=0),Cu(n,0),ar[n>>2]=ar[t>>2],ar[n+4>>2]=ar[t+4>>2],ar[n+8>>2]=ar[t+8>>2],!(0|tr[r+24>>0]))return r=0|ar[(e=56592)+4>>2],ar[(t=A)>>2]=ar[e>>2],ar[t+4>>2]=r,yu(A+8|0,56600),void(ur=f);ar[t>>2]=0,ar[t+4>>2]=0,ar[t+8>>2]=0,oo(A,2,100,t),ur=(0<=(0|tr[t+11>>0])||vu(0|ar[t>>2]),f)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0;if(ur=(a=ur)+160|0,f=a+136|0,t=(n=a)+56|0,o=n+4|0,ar[n>>2]=292,ar[t>>2]=312,Jf(n+56|0,o),ar[n+128>>2]=0,ar[n+132>>2]=-1,ar[n>>2]=4304,ar[t>>2]=4324,Sf(o),ar[o>>2]=4340,ar[(i=n+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[n+52>>2]=16,ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,Xe(o,f),(0|tr[11+f>>0])<0&&vu(0|ar[f>>2]),LA(f,e,r),We(n,(u=(l=0|tr[(c=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,u?0|ar[4+f>>2]:255&l),(0|tr[c>>0])<0&&vu(0|ar[f>>2]),0<(0|ar[r>>2]))for(c=0;We(n,18862,2),(0|(c=c+1|0))<(0|ar[r>>2]););if(l=0|We(n,20027,13),e=0|ar[(c=e+56|0)>>2],e=0|jb[127&ar[8+(0|ar[e>>2])>>2]](e),ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,tr[(u=11+f|0)>>0]=4,tr[4+f>>0]=0,tr[f>>0]=e>>>24,tr[1+f>>0]=e>>>16,tr[2+f>>0]=e>>>8,tr[3+f>>0]=e,We(0|We(l,f,4),30086,1),(0|tr[u>>0])<0&&vu(0|ar[f>>2]),(c=0|ar[c>>2])?(ns[127&ar[12+(0|ar[c>>2])>>2]](f,c,r),We(n,(r=(l=0|tr[(u=11+f|0)>>0])<<24>>24<0)?0|ar[f>>2]:f,r?0|ar[4+f>>2]:255&l),(0|tr[u>>0])<0&&vu(0|ar[f>>2])):We(n,20041,17),Ie(A,o),ar[n>>2]=4304,ar[t>>2]=4324,ar[o>>2]=4340,0<=(0|tr[11+i>>0]))return kf(o),Gf(),bf(t),void(ur=a);vu(0|ar[i>>2]),kf(o),Gf(),bf(t),ur=a},function(A,e,r){A|=0,e|=0;var i,f,n=0,t=0,o=0,a=0;if(ur=(f=ur)+48|0,t=(a=f)+20|0,o=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),(n=0|ar[(i=e+56|0)>>2])||sr(20011,19104,1857,19563),UA(r,0|jb[127&ar[8+(0|ar[n>>2])>>2]](n)),n=0|ar[i>>2],ns[127&ar[16+(0|ar[n>>2])>>2]](a,n,r),0|ar[a>>2])return t=0|ar[(r=a)+4>>2],ar[(o=A)>>2]=ar[r>>2],ar[o+4>>2]=t,a=a+8|0,ar[(A=A+8|0)>>2]=ar[a>>2],ar[A+4>>2]=ar[a+4>>2],ar[A+8>>2]=ar[a+8>>2],ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,void(ur=f);KA(t,e,r,o),(0|tr[(e=t+8|0)+11>>0])<0&&vu(0|ar[e>>2]),t=0|ar[(r=56592)+4>>2],ar[(o=A)>>2]=ar[r>>2],ar[o+4>>2]=t,yu(A+8|0,56600),ur=(0<=(0|tr[a+8+11>>0])||vu(0|ar[a+8>>2]),f)},function(A,e,r){A|=0,e|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;ur=(f=ur)+64|0,b=f+40|0,l=f+36|0,o=f+24|0,i=f+16|0,n=f,t=0|FA(r|=0),ar[l>>2]=t;A:do{if(1886547814<=(0|t)){if((0|t)<1917403971)switch(0|t){case 1886547814:break;default:s=26;break A}else switch(0|t){case 1917403971:break;default:s=26;break A}if(0|NA(r,a=0|tb(0|(a=0|ob(0|ar[(a=e+8|0)>>2],0|ar[a+4>>2],0|ar[e+16>>2],0)),0|D,-4,-1),c=D))return ar[o>>2]=0,ar[o+4>>2]=0,ar[o+8>>2]=0,oo(A,2,100,o),0<=(0|tr[o+11>>0])||vu(0|ar[o>>2]),void(ur=f);if(ar[b>>2]=0,ar[(o=b+4|0)>>2]=0,(ar[b+8>>2]=0)|a)for((0|a)<0&&zl(),t=0|hu(a),ar[o>>2]=t,ar[b>>2]=t,ar[b+8>>2]=t+a,n=a;t=1+((tr[t>>0]=0)|ar[o>>2])|0,ar[o>>2]=t,0!=(0|(n=n+-1|0)););if(!(0==(0|a)&0==(0|c)))for(n=0;t=0|IA(r),tr[(0|ar[b>>2])+n>>0]=t,0<c>>>0|0==(0|c)&(n=n+1|0)>>>0<a>>>0;);fe(i,l,b),n=0|ar[i>>2],l=0|ar[(t=4+i|0)>>2],ar[i>>2]=0,ar[t>>2]=0,ar[e+56>>2]=n,n=0|ar[(e=e+60|0)>>2],ar[e>>2]=l,0|n&&(du(n),0|(u=0|ar[t>>2]))&&du(u),0|(n=0|ar[b>>2])&&((0|ar[o>>2])!=(0|n)&&(ar[o>>2]=n),vu(n))}else{switch(0|t){case 1852009592:break;default:s=26;break A}if(o=0|hu(24),ar[o+4>>2]=0,ar[o+8>>2]=0,ar[o>>2]=6064,ar[(t=o+12|0)>>2]=6092,or[o+16>>1]=2,or[o+18>>1]=2,or[o+20>>1]=6,tr[o+22>>0]=1,bu(o),ar[e+56>>2]=t,n=0|ar[(e=e+60|0)>>2],ar[e>>2]=o,0|n&&du(n),ie(A,t,r),0|ar[A>>2])return du(o),void(ur=f);(0|tr[(n=A+8|0)+11>>0])<0&&vu(0|ar[n>>2]),du(o)}}while(0);if(26==(0|s))return ar[n>>2]=0,ar[n+4>>2]=0,ar[n+8>>2]=0,oo(A,2,126,n),0<=(0|tr[n+11>>0])||vu(0|ar[n>>2]),void(ur=f);0|tr[r+24>>0]?(ar[b>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,oo(A,2,100,b),(0|tr[b+11>>0])<0&&vu(0|ar[b>>2])):(b=0|ar[(r=56592)+4>>2],ar[(s=A)>>2]=ar[r>>2],ar[s+4>>2]=b,yu(A+8|0,56600)),ur=f},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a,c,l=0,u=0;if(ur=(o=ur)+160|0,l=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[l>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,Xe(t,l),(0|tr[l+11>>0])<0&&vu(0|ar[l>>2]),LA(l,e,r),We(f,(c=(a=0|tr[(u=l+11|0)>>0])<<24>>24<0)?0|ar[l>>2]:l,c?0|ar[l+4>>2]:255&a),(0|tr[u>>0])<0&&vu(0|ar[l>>2]),0<(0|ar[r>>2]))for(l=0;We(f,18862,2),(0|(l=l+1|0))<(0|ar[r>>2]););if(We(f,19569,18),u=e+56|0,e=e+60|0,l=0|ar[u>>2],(0|ar[e>>2])!=(0|l))for(r=0;r&&(We(f,19588,1),l=0|ar[u>>2]),Pf(f,0|cr[l+r>>0]),r=r+1|0,l=0|ar[u>>2],r>>>0<((0|ar[e>>2])-l|0)>>>0;);if(We(f,30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0,e|=0;var i,f,n,t,o=0,a=0,c=0,l=0;if(ur=(t=ur)+32|0,c=t,l=0|ar[(r|=0)+12>>2],jA(r,0|tr[e+36>>0]?12:8),f=e+56|0,255<(i=(o=0|ar[(n=e+60|0)>>2])-(a=0|ar[f>>2])|0)>>>0&&sr(55739,19104,1919,19563),(0|a)==(0|o)&&sr(55739,19104,1919,19563),JA(r,255&i),o=0|ar[f>>2],(0|ar[n>>2])!=(0|o))for(a=0;JA(r,0|tr[o+a>>0]),a=a+1|0,o=0|ar[f>>2],a>>>0<((0|ar[n>>2])-o|0)>>>0;);KA(c,e,r,l),(0|tr[(o=c+8|0)+11>>0])<0&&vu(0|ar[o>>2]),c=0|ar[(r=56592)+4>>2],ar[(l=A)>>2]=ar[r>>2],ar[l+4>>2]=c,yu(A+8|0,56600),ur=t},function(A,e,r){A|=0;var i,f,n,t,o,a=0,c=0,l=0,u=0;if(ur=(o=ur)+48|0,u=o+32|0,qA(a=(c=o)+12|0,e|=0,r|=0),(0|tr[(a=a+8|0)+11>>0])<0&&vu(0|ar[a>>2]),0|NA(r,255&(f=0|IA(r)),0))return ar[c>>2]=0,ar[c+4>>2]=0,ar[c+8>>2]=0,oo(A,2,100,c),0<=(0|tr[c+11>>0])||vu(0|ar[c>>2]),void(ur=o);if(n=e+56|0,(t=255&f)>>>0<=(c=(i=0|ar[(a=e+60|0)>>2])-(e=0|ar[n>>2])|0)>>>0?t>>>0<c>>>0&&(0|i)!=(0|(l=e+t|0))&&(ar[a>>2]=l):TA(n,t-c|0),f<<24>>24)for(a=0;l=0|IA(r),tr[(0|ar[n>>2])+a>>0]=l,(0|(a=a+1|0))!=(0|t););0|tr[r+24>>0]?(ar[u>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,oo(A,2,100,u),(0|tr[u+11>>0])<0&&vu(0|ar[u>>2])):(r=0|ar[(l=56592)+4>>2],ar[(u=A)>>2]=ar[l>>2],ar[u+4>>2]=r,yu(A+8|0,56600)),ur=o},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0,c=0;if(ur=(o=ur)+160|0,a=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,Xe(t,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(f,19818,18),c=0|We(0|xf(c,0|or[e+4>>1]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,19837,26),c=0|We(0|xf(c,0|or[e+6>>1]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(c=0|We(c,19864,21),c=0|We(0|xf(c,0|or[e+8>>1]),30086,1),0<(0|ar[r>>2]))for(a=0;We(c,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(r=0|We(c,19886,17),We(0|Hf(r,0!=(0|tr[e+10>>0])),30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0,MA(r|=0,0|or[(e|=0)+4>>1]),MA(r,0|or[e+6>>1]),MA(r,0|or[e+8>>1]),JA(r,0|tr[e+10>>0]?-128:0),e=0|ar[14149],ar[(r=A)>>2]=ar[14148],ar[r+4>>2]=e,yu(A+8|0,56600)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n,t,o,a=0;if(ur=(o=ur)+160|0,a=o+136|0,n=(f=o)+56|0,t=f+4|0,ar[f>>2]=292,ar[n>>2]=312,Jf(f+56|0,t),ar[f+128>>2]=0,ar[f+132>>2]=-1,ar[f>>2]=4304,ar[n>>2]=4324,Sf(t),ar[t>>2]=4340,ar[(i=f+36|0)>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,ar[12+i>>2]=0,ar[f+52>>2]=16,ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,Xe(t,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),0<(0|ar[r>>2]))for(a=0;We(f,18862,2),(0|(a=a+1|0))<(0|ar[r>>2]););if(r=0|We(f,19675,14),We(0|Lf(r,(0|ar[e+12>>2])-(0|ar[e+8>>2])|0),30086,1),Ie(A,t),ar[f>>2]=4304,ar[n>>2]=4324,ar[t>>2]=4340,0<=(0|tr[11+i>>0]))return kf(t),Gf(),bf(n),void(ur=o);vu(0|ar[i>>2]),kf(t),Gf(),bf(n),ur=o},function(A,e,r){A|=0,zA(r|=0,(e|=0)+8|0),e=0|ar[14149],ar[(r=A)>>2]=ar[14148],ar[r+4>>2]=e,yu(A+8|0,56600)},function(A,e,r){e|=0,r|=0;var i,f,n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0;for(ur=(o=ur)+32|0,i=o+20|0,f=o+16|0,n=o+12|0,t=o,ar[(A|=0)>>2]=ar[1904],ar[A+4>>2]=ar[1905],ar[A+8>>2]=ar[1906],a=0|ar[e>>2],Wa(a=548+(a|=0)|0),Wa(a),tr[a>>0]=1,ar[r>>2]=0;;){if((ar[n>>2]=0)|Ee(0|ar[e>>2],n)){l=28;break}if(0|(m=0|Fe(0|ar[e>>2]))){for(0|(c=0|ar[r>>2])&&hl(c),l=0==(0|De(m)),Z=0|hu(80),ar[Z+4>>2]=0,ar[Z+8>>2]=0,ar[Z>>2]=6208,ar[(v=Z+12|0)>>2]=0,ar[v+4>>2]=0,ar[v+8>>2]=0,ar[v+12>>2]=0,ar[v+16>>2]=0,ar[Z+32>>2]=34395,ar[Z+36>>2]=0,ar[Z+40>>2]=0,ar[Z+44>>2]=99,ar[Z+48>>2]=99,w=Z+52|0,ar[(g=Z+72|0)>>2]=0,ar[Z+76>>2]=0,ar[w>>2]=0,ar[w+4>>2]=0,ar[w+8>>2]=0,ar[w+12>>2]=0,ar[Z+68>>2]=g,g=v,w=Z+16|0,bu(p=Z),su(Z),c=0|ar[w>>2],ar[v>>2]=g,ar[w>>2]=p,0|c&&ku(c),du(Z),yo(v,d=0|_e(m,0),s=0|Ye(m,0),l?2:0,w=0|De(m)),s=l?1:3,d=((w=0|Qe(m,0))+7|0)/8|0,b=0;;){if((0|Qe(m,b))!=(0|w)){l=10;break}if(k=0|Je(m,b,i),(0|(l=0|_e(m,b)))<1|(0|(h=0|Ye(m,b)))<1){l=12;break}if(!(0|Bo(v,c=0|ar[7628+(b<<2)>>2],l,h,w))){l=14;break}if(u=0|Fo(v,c,f),0<(0|h))for(l=0|br(l,d),c=0;hb(0|(y=u+(0|br(0|ar[f>>2],c))|0),k+(0|br(0|ar[i>>2],c))|0,0|l),(0|(c=c+1|0))!=(0|h););if((0|s)<=(0|(b=b+1|0))){l=20;break}}if(10==(0|l)?(l=0,ar[t>>2]=ar[1910],ar[t+4>>2]=ar[1911],ar[t+8>>2]=ar[1912]):12==(0|l)?(ar[t>>2]=ar[1913],ar[t+4>>2]=ar[1914],ar[t+8>>2]=ar[1915],l=18):14==(0|l)?(ar[t>>2]=ar[1916],ar[t+4>>2]=ar[1917],ar[t+8>>2]=ar[1918],l=18):20==(0|l)&&(c=(l=0)|hu(8),ar[c>>2]=0,ar[(y=c+4|0)>>2]=0,ar[r>>2]=c,bu(Z),ar[c>>2]=g,c=0|ar[y>>2],ar[y>>2]=p,0|c&&du(c),ar[t>>2]=ar[1904],ar[t+4>>2]=ar[1905],ar[t+8>>2]=ar[1906]),du(Z),ar[A>>2]=ar[t>>2],ar[A+4>>2]=ar[t+4>>2],ar[A+8>>2]=ar[t+8>>2],0|ar[A>>2]){l=28;break}c=0|hu(24),ar[c+4>>2]=0,ar[c+8>>2]=0,ar[c>>2]=6064,ar[(l=c+12|0)>>2]=6092,or[c+16>>1]=0,or[c+18>>1]=0,or[c+20>>1]=0,tr[c+22>>0]=1,jt(l),y=0|ar[ar[r>>2]>>2],bu(c),bu(c),ar[y+40>>2]=l,l=0|ar[(y=y+44|0)>>2],ar[y>>2]=c,0|l&&du(l),du(c),Re(0|ar[e>>2]),du(c)}if(!(0|ar[n>>2])){l=28;break}}28!=(0|l)||(ur=o)},function(A,e,r){A|=0,0|(A=0|ar[(e|=0)+4>>2])&&Bc(A),0|(A=0|ar[e+8>>2])&&Bc(A),(A=0|ar[e+12>>2])&&Bc(A)},function(A,e,r){var i,f,n,t;A|=0,e|=0,ur=(i=ur)+32|0,f=i,t=(n=0|tr[(r|=0)+11>>0])<<24>>24<0,function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0;ur=(a=ur)+32|0,o=a,u=0|hu(132),ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u>>2]=6364,co(c=u+12|0),ar[(n=e+60|0)>>2]=c,t=0|ar[(l=e+64|0)>>2],ar[l>>2]=u,t&&(du(t),c=0|ar[n>>2]);if(ko(o,c,r,i,f),0|ar[o>>2])return u=0|ar[(f=o)+4>>2],ar[(l=A)>>2]=ar[f>>2],ar[l+4>>2]=u,u=o+8|0,ar[(l=A+8|0)>>2]=ar[u>>2],ar[l+4>>2]=ar[u+4>>2],ar[l+8>>2]=ar[u+8>>2],ar[u>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,ur=a;if(function(A,e){A|=0;var r,i,f,n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I,C,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0,fA=0,nA=0,tA=0,oA=0,aA=0,cA=0,lA=0,uA=0,bA=0,sA=0,dA=0,kA=0,hA=0,wA=0,vA=0,mA=0,gA=0,ZA=0,pA=0,yA=0,BA=0,EA=0,XA=0,WA=0,IA=0,CA=0,GA=0,VA=0,FA=0,RA=0,NA=0,_A=0,YA=0,QA=0,DA=0,JA=0,MA=0,TA=0,UA=0,SA=0,OA=0,zA=0,jA=0,HA=0,xA=0,PA=0,LA=0,KA=0,qA=0,$A=0,Ae=0,ee=0,re=0,ie=0,fe=0,ne=0,te=0,oe=0,ae=0,ce=0,le=0,ue=0,be=0,se=0,de=0,ke=0,he=0,we=0,ve=0,me=0,ge=0,Ze=0,pe=0,ye=0,Be=0,Ee=0;if(ur=(C=ur)+656|0,y=C+640|0,I=C+616|0,q=C+628|0,ye=C+604|0,Be=C+144|0,lA=(Ee=C)+592|0,uA=C+584|0,r=C+572|0,i=C+560|0,f=C+548|0,n=C+536|0,t=C+384|0,p=C+392|0,o=C+372|0,a=C+348|0,c=C+360|0,l=C+328|0,u=C+316|0,b=C+304|0,s=C+292|0,d=C+280|0,k=C+268|0,h=C+256|0,w=C+248|0,de=C+240|0,v=C+232|0,m=C+216|0,Ze=C+208|0,pe=C+200|0,B=C+188|0,E=C+176|0,X=C+168|0,vl(ge=28+(e|=0)|0,0|ar[(W=e+32|0)>>2]),ar[(P=e+36|0)>>2]=0,ar[ge>>2]=W,ar[W>>2]=0,F=0|ar[(L=e+40|0)>>2],(0|(G=0|ar[(K=e+44|0)>>2]))!=(0|F))for(;V=G+-8|0,ar[K>>2]=V,G=(G=0|ar[G+-4>>2])?(du(G),0|ar[K>>2]):V,(0|G)!=(0|F););ar[(H=e+52|0)>>2]=0,G=0|ar[(x=e+56|0)>>2],ar[x>>2]=0,0|G&&du(G);if(function(A,e){e|=0;var r,i,f,n,t,o=0,a=0,c=0;if(ur=(t=ur)+16|0,f=t,ar[(A|=0)>>2]=0,ar[(n=A+4|0)>>2]=0,((ar[A+8>>2]=0)|(o=0|ar[e+108>>2]))!=(0|(r=e+112|0))){for(i=A+8|0,c=o,a=o=0;;){if(e=0|ar[56+(0|ar[c+20>>2])>>2],ar[f>>2]=e,o>>>0<a>>>0?(ar[o>>2]=e,ar[n>>2]=o+4):Ce(A,f),e=0|ar[c+4>>2])for(;o=0|ar[e>>2];)e=o;else if(e=0|ar[(o=c+8|0)>>2],(0|ar[e>>2])!=(0|c))for(;c=0|ar[o>>2],e=0|ar[(o=c+8|0)>>2],(0|ar[e>>2])!=(0|c););if((0|e)==(0|r))break;c=e,o=0|ar[n>>2],a=0|ar[i>>2]}ur=t}else ur=t}(I,0|ar[(g=e+60|0)>>2]),G=0|ar[I>>2],M=0|ar[(Z=4+I|0)>>2],(0|G)!=(0|M)){T=11+y|0,O=U=4+y|0,z=(S=e)+32|0,j=e+48|0;do{J=0|ar[G>>2],N=112+(0|ar[g>>2])|0,F=0|ar[N>>2];do{if(0|F){V=N;A:for(;;){for(R=F;!((0|ar[R+16>>2])>>>0>=J>>>0);){if(!(F=0|ar[R+4>>2]))break A;R=F}if(!(F=0|ar[R>>2])){V=R;break}V=R}if((0|V)!=(0|N)&&(0|ar[V+16>>2])>>>0<=J>>>0){if(F=0|ar[V+20>>2],V=0|ar[V+24>>2],D=V?(bu(V),V):0,!(Q=F)){if(!D)break;du(D);break}yu(y,Q+64|0),F=0|tr[T>>0],V=0|ar[U>>2],4==(0|(F<<24>>24<0?V:255&F))?0|Yu(y,0,-1,30298,4)?(F=0|tr[T>>0],V=0|ar[U>>2],me=23):V=1:me=23;do{if(23==(0|me)){if(4==((me=0)|(F<<24>>24<0?V:255&F))){if(!(0|Yu(y,0,-1,30303,4))){V=1;break}F=0|tr[T>>0],V=0|ar[U>>2]}if(4==(0|(F<<24>>24<0?V:255&F))){if(!(0|Yu(y,0,-1,30308,4))){V=1;break}F=0|tr[T>>0],V=0|ar[U>>2]}if(4==(0|(F<<24>>24<0?V:255&F))){if(!(0|Yu(y,0,-1,30313,4))){V=1;break}F=0|tr[T>>0],V=0|ar[U>>2]}V=4==(0|(F<<24>>24<0?V:255&F))?0==(0|Yu(y,0,-1,30318,4)):0}}while(0);if((0|tr[T>>0])<0&&vu(0|ar[y>>2]),V){for(Y=0|hu(232),ar[Y+4>>2]=0,ar[Y+8>>2]=0,ar[Y>>2]=6392,ar[(V=Y+16|0)>>2]=0,ar[V+4>>2]=0,ar[V+8>>2]=0,ar[Y+28>>2]=30025,ar[Y+32>>2]=S,ar[Y+36>>2]=J,ve=Y+60|0,rA=Y+80|0,iA=Y+96|0,F=Y+176|0,R=Y+112|0,ar[(we=Y+40|0)>>2]=0,ar[we+4>>2]=0,ar[we+8>>2]=0,ar[we+12>>2]=0,or[we+16>>1]=0,ar[ve>>2]=0,ar[ve+4>>2]=0,ar[ve+8>>2]=0,ar[ve+12>>2]=0,or[ve+16>>1]=0,ar[rA>>2]=0,ar[rA+4>>2]=0,ar[rA+8>>2]=0,tr[rA+12>>0]=0,ar[iA>>2]=0,ar[iA+4>>2]=0,ar[iA+8>>2]=0,tr[iA+12>>0]=0,rA=(iA=R)+60|0;((ar[iA>>2]=0)|(iA=iA+4|0))<(0|rA););for(tr[R+60>>0]=0,rA=(iA=F)+52|0;((ar[iA>>2]=0)|(iA=iA+4|0))<(0|rA););ar[y>>2]=V,ar[O>>2]=Y,N=V,bu(_=Y),V=0|ar[W>>2];do{if(V){for(R=z;;)if(F=0|ar[V+16>>2],J>>>0<F>>>0){if(!(F=0|ar[V>>2])){me=41;break}R=V,V=F}else{if(J>>>0<=F>>>0){me=45;break}if(!(F=0|ar[(R=V+4|0)>>2])){me=44;break}V=F}if(41==(0|me)){me=0,R=F=V;break}if(44==(0|me)){me=0,F=V;break}if(45==(0|me)){me=0,F=V;break}}else R=F=W}while(0);0|ar[R>>2]?du(Y):(V=0|hu(28),ar[V+16>>2]=J,ar[V+20>>2]=N,ar[V+24>>2]=_,ar[V>>2]=0,ar[V+4>>2]=0,ar[V+8>>2]=F,ar[R>>2]=V,(F=0|ar[ar[ge>>2]>>2])&&(ar[ge>>2]=F,V=0|ar[R>>2]),so(0|ar[z>>2],V),ar[P>>2]=1+(0|ar[P>>2]));do{if(!(0|tr[Q+124>>0])){do{if((0|J)==(0|ar[56+(0|ar[84+(0|ar[g>>2])>>2])>>2])){if(V=0|ar[y>>2],tr[V+40>>0]=1,0|(F=0|ar[O>>2])&&bu(F),ar[H>>2]=V,V=0|ar[x>>2],ar[x>>2]=F,!V)break;du(V)}}while(0);if((0|(V=0|ar[K>>2]))==(0|ar[j>>2])){kl(L,y);break}ar[V>>2]=ar[y>>2],F=0|ar[O>>2],(ar[V+4>>2]=F)&&(bu(F),V=0|ar[K>>2]),ar[K>>2]=V+8}}while(0);0|(V=0|ar[O>>2])&&du(V)}0|D&&du(D)}}}while(0);G=G+4|0}while((0|G)!=(0|M))}A:do{if(0|ar[H>>2]){if((0|(G=0|ar[ge>>2]))!=(0|W))for(M=ye+4|0,T=ye+8|0,U=uA+4|0,S=e+72|0,j=Ee+12|0,H=Ee+4|0,x=O=Ee+64|0,P=Ee+136|0,L=Ee+140|0,q=Ee+60|0,$=11+y|0,AA=z=Ee+8|0,eA=e+76|0,rA=lA+11|0,iA=(K=Ee+44|0)+11|0,nA=(fA=Be+8|0)+11|0,tA=A+8|0,J=G;;){if(Q=J+20|0,ar[ye>>2]=0,ar[M>>2]=0,ar[T>>2]=0,vo(Be,0|ar[g>>2],0|ar[J+16>>2],ye),0|ar[Be>>2])ve=0|ar[(we=Be)+4>>2],ar[(G=A)>>2]=ar[we>>2],ar[G+4>>2]=ve,ar[tA>>2]=ar[fA>>2],ar[tA+4>>2]=ar[fA+4>>2],ar[tA+8>>2]=ar[fA+8>>2],ar[fA>>2]=0,ar[fA+4>>2]=0,ar[fA+8>>2]=0,G=1;else{G=0|ar[ye>>2],D=0|ar[M>>2];e:do{if((0|G)==(0|D))G=6;else for(N=0;;){V=0|ar[(_=G+4|0)>>2];do{if(0!=(0|V)&&0!=(0|(oA=0|qu(V,128,872,0)))){if((V=0|ar[G+8>>2])?bu(V):V=0,F=0|ar[oA+56>>2],R=0|ar[oA+60>>2],F>>>0<=(0|ar[S>>2])>>>0&&R>>>0<=(0|ar[eA>>2])>>>0){Y=0|ar[Q>>2],ar[Y+24>>2]=F,ar[Y+28>>2]=R,ar[Y+32>>2]=F,ar[Y+36>>2]=R,Y=V,me=94;break}ar[z>>2]=4524,ar[Ee>>2]=188,ar[O>>2]=208,ar[H>>2]=0,Jf(x,j),ar[P>>2]=0,ar[L>>2]=-1,ar[Ee>>2]=4504,ar[O>>2]=4544,ar[z>>2]=4524,Sf(j),ar[j>>2]=4340,ar[K>>2]=0,ar[K+4>>2]=0,ar[K+8>>2]=0,ar[K+12>>2]=0,ar[q>>2]=24,ar[y>>2]=0,ar[4+y>>2]=0,ar[8+y>>2]=0,Xe(j,y),(0|tr[$>>0])<0&&vu(0|ar[y>>2]),ve=0|We(0|Lf(0|We(0|Lf(0|We(AA,30366,11),F),30170,1),R),30378,32),ve=0|We(0|Lf(ve,0|ar[S>>2]),30170,1),We(0|Lf(ve,0|ar[eA>>2]),30086,1),Ie(lA,j),oo(A,6,1e3,lA),(0|tr[rA>>0])<0&&vu(0|ar[lA>>2]),ar[Ee>>2]=4504,ar[O>>2]=4544,ar[AA>>2]=4524,ar[j>>2]=4340,(0|tr[iA>>0])<0&&vu(0|ar[K>>2]),kf(j),bf(O),R=1,F=N}else me=83}while(0);if(83==(0|me)&&(me=N?(Y=0,94):(Y=F=0,109)),94==(0|me))if(V=(me=0)|ar[_>>2]){F=(F=0|qu(V,128,744,0))?((V=0|ar[G+8>>2])?bu(V):V=0,me=0|ar[Q>>2],ve=0|eo(F),F=0|ro(F),ar[me+24>>2]=ve,ar[me+28>>2]=F,V):0,V=0|ar[_>>2];do{if(0|V&&0|(aA=0|qu(V,128,808,0))){switch((V=0|ar[G+8>>2])?bu(V):V=0,0|ar[aA+56>>2]){case 270:case 90:we=0|ar[Q>>2],me=we+28|0,ve=0|ar[(we=we+24|0)>>2],ar[we>>2]=ar[me>>2],ar[me>>2]=ve}if(!V)break;du(V)}}while(0);me=(F=(F&&du(F),1),109)}else R=0,F=1,V=Y;do{if(109==(0|me))if((me=0)!=(0|(V=0|ar[_>>2]))&&0!=(0|(cA=0|qu(V,128,384,0)))){if((V=0|ar[G+8>>2])?bu(V):V=0,R=0|ar[cA+56>>2],N=0|ar[cA+60>>2],Zl(R=((_=0==(0|N))?(ve=0|ar[Q>>2],ar[uA>>2]=R,ar[U>>2]=0):(bu(N),ve=0|ar[Q>>2],ar[uA>>2]=R,bu(ar[U>>2]=N)),ve),uA),0|(R=0|ar[U>>2])&&du(R),_||du(N),!V){R=0,V=Y;break}du(V),R=0,V=Y}else R=0,V=Y}while(0);if(0|V&&du(V),G=G+12|0,0|R){G=1;break e}if((0|G)==(0|D)){G=6;break}N=F}}while(0);G=6==(0|G)?0:G,(0|tr[nA>>0])<0&&vu(0|ar[fA>>2])}if(0|(V=0|ar[ye>>2])){if((0|(F=0|ar[M>>2]))!=(0|V)){for(;R=F+-12|0,ar[M>>2]=R,(0|(F=(F=0|ar[F+-4>>2])?(du(F),0|ar[M>>2]):R))!=(0|V););V=0|ar[ye>>2]}vu(V)}if(0|G)break A;if(G=0|ar[J+4>>2])for(;V=0|ar[G>>2];)G=V;else if(G=0|ar[(V=J+8|0)>>2],(0|ar[G>>2])!=(0|J))for(;ve=0|ar[V>>2],G=0|ar[(V=ve+8|0)>>2],(0|ar[G>>2])!=(0|ve););if((0|G)==(0|W))break;J=G}we=0|ar[g>>2],ke=0|ar[we+76>>2],we=0|ar[we+80>>2],(ve=0==(0|we))||bu(we),he=0!=(0|ke);e:do{if(he&&(bA=0|ar[ge>>2],(0|bA)!=(0|W))){S=ye+4|0,z=8+i|0,j=4+i|0,H=11+i|0,x=8+n|0,P=4+n|0,L=11+n|0,K=4+t|0,q=8+f|0,$=4+f|0,AA=11+f|0,fA=8+r|0,nA=4+r|0,tA=11+r|0,oA=Be+4|0,aA=Be+8|0,uA=12+p|0,dA=cA=64+p|0,kA=136+p|0,hA=140+p|0,vA=60+p|0,mA=11+y|0,ZA=11+o|0,pA=(wA=44+p|0)+11|0,yA=O=4+y|0,XA=8+u|0,WA=4+u|0,IA=11+u|0,CA=8+b|0,GA=4+b|0,VA=11+b|0,NA=8+s|0,_A=4+s|0,YA=11+s|0,QA=8+d|0,DA=4+d|0,JA=11+d|0,MA=RA=EA=sA=4+p|0,SA=8+c|0,zA=(OA=8+l|0)+11|0,jA=TA=gA=lA=8+p|0,HA=FA=BA=11+p|0,xA=8+k|0,PA=4+k|0,LA=11+k|0,KA=8+h|0,qA=4+h|0,$A=11+h|0,Ae=4+w|0,ee=de+4|0,fe=re=11+c|0,ne=ie=UA=4+c|0,te=11+l|0,oe=4+l|0,ae=8+a|0,ce=4+a|0,le=11+a|0,be=(ue=Ee+8|0)+11|0,se=A+8|0;r:for(;;){if(io(ye,ke,0|ar[20+(0|ar[(M=bA+20|0)>>2])>>2]),V=0|ar[ye>>2],T=0|ar[S>>2],(0|V)==(0|T))G=10;else{U=bA+24|0;i:for(;;){G=0|ar[V+20>>2];f:do{if((0|G)<1953000802){switch(0|G){case 1635088492:break;default:break f}if(ar[Be>>2]=0,ar[oA>>2]=0,ar[aA>>2]=0,vo(Ee,0|ar[g>>2],0|ar[20+(0|ar[M>>2])>>2],Be),0|ar[Ee>>2])iA=0|ar[(rA=Ee)+4>>2],ar[(G=A)>>2]=ar[rA>>2],ar[G+4>>2]=iA,ar[se>>2]=ar[ue>>2],ar[se+4>>2]=ar[ue+4>>2],ar[se+8>>2]=ar[ue+8>>2],ar[ue>>2]=0,ar[ue+4>>2]=0,ar[ue+8>>2]=0,G=1;else{G=0|ar[Be>>2],Q=0|ar[oA>>2];do{if((0|G)==(0|Q))F=0,me=197;else{for(F=Y=0;;){R=0|ar[G+4>>2];do{if(R){if(!(_=0|qu(R,128,840,0))){R=Y;break}R=_,(N=0|ar[G+8>>2])?bu(N):N=0;do{if(_){if(0|(_=N)&&bu(N),!F){F=_;break}du(F),F=_}else R=Y}while(0);if(!N)break;du(N)}else R=Y}while(0);if((0|(G=G+12|0))==(0|Q))break;Y=R}if(!(D=R)){me=197;break}Ge(y,V+52|0);n:do{if(4==((0|ar[yA>>2])-(0|ar[y>>2])|0)){yu(p,J=D+56|0),25==(0|((iA=0|tr[BA>>0])<<24>>24<0?0|ar[EA>>2]:255&iA))&&0==(0|Yu(p,0,-1,30621,25))?G=1:(yu(c,J),26==(0|((iA=0|tr[fe>>0])<<24>>24<0?0|ar[ne>>2]:255&iA))&&0==(0|Yu(c,0,-1,30647,26))?G=1:(yu(l,J),43==(0|((R=0|tr[te>>0])<<24>>24<0?0|ar[oe>>2]:255&R))?(G=0==(0|Yu(l,0,-1,30674,43)),R=0|tr[te>>0]):G=0,R<<24>>24<0&&vu(0|ar[l>>2])),(0|tr[fe>>0])<0&&vu(0|ar[c>>2])),(0|tr[BA>>0])<0&&vu(0|ar[p>>2]);t:do{if(G){R=0|ar[W>>2];do{if(0|R){_=0|ar[ar[y>>2]>>2],G=W;o:for(;;){for(N=R;!((0|ar[N+16>>2])>>>0>=_>>>0);){if(!(R=0|ar[N+4>>2]))break o;N=R}if(!(R=0|ar[N>>2])){G=N;break}G=N}if((0|G)==(0|W))break;if(_>>>0<(0|ar[G+16>>2])>>>0)break;_=0|ar[G+20>>2],Y=0|ar[G+24>>2],(Q=0==(0|Y))||bu(Y),G=0|ar[M>>2],R=G;do{if((0|G)==(0|_)){for(ar[b>>2]=0,ar[4+b>>2]=0,ar[8+b>>2]=0,G=0|hu(32),ar[b>>2]=G,ar[CA>>2]=-2147483616,ar[GA>>2]=30,eA=30754,rA=(iA=G)+30|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+30>>0]=0,oo(A,2,2e3,b),0<=(0|tr[VA>>0])){G=1;break}vu(0|ar[b>>2]),G=1}else{if((0|ar[G+24>>2])!=(0|ar[_+24>>2])){G=0;break}if((0|ar[G+28>>2])!=(0|ar[_+28>>2])){G=0;break}if(N=0|ar[ar[y>>2]>>2],tr[G+60>>0]=1,ar[G+64>>2]=N,tr[G+61>>0]=1,0|(N=0|ar[U>>2])&&bu(N),ar[_+68>>2]=R,G=0|ar[(iA=_+72|0)>>2],ar[iA>>2]=N,!G){G=0;break}du(G),G=0}}while(0);if(Q||du(Y),G){G=1;break n}break t}}while(0);for(ar[u>>2]=0,ar[4+u>>2]=0,ar[8+u>>2]=0,G=0|hu(48),ar[u>>2]=G,ar[XA>>2]=-2147483600,ar[WA>>2]=35,eA=30718,rA=(iA=G)+35|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+35>>0]=0,oo(A,2,2e3,u),0<=(0|tr[IA>>0])){G=1;break n}vu(0|ar[u>>2]),G=1;break n}}while(0);yu(p,J),26==(0|((iA=0|tr[FA>>0])<<24>>24<0?0|ar[RA>>2]:255&iA))&&0==(0|Yu(p,0,-1,30785,26))?G=1:(yu(c,J),43==(0|((R=0|tr[re>>0])<<24>>24<0?0|ar[ie>>2]:255&R))?(G=0==(0|Yu(c,0,-1,30812,43)),R=0|tr[re>>0]):G=0,R<<24>>24<0&&vu(0|ar[c>>2])),(0|tr[FA>>0])<0&&vu(0|ar[p>>2]);t:do{if(G){Y=0|ar[M>>2],G=0|ar[y>>2],N=0|ar[G>>2],tr[Y+76>>0]=1,ar[Y+80>>2]=N,N=0|ar[W>>2],Q=Y;do{if(0|N){_=0|ar[G>>2],G=W;o:for(;;){for(R=N;!((0|ar[R+16>>2])>>>0>=_>>>0);)if(!(R=0|ar[R+4>>2]))break o;if(!(N=0|ar[R>>2])){G=R;break}G=R}if((0|G)==(0|W))break;if(_>>>0<(0|ar[G+16>>2])>>>0)break;if(G=0|ar[G+20>>2],(0|Y)==(0|G)){for(ar[d>>2]=0,ar[4+d>>2]=0,ar[8+d>>2]=0,G=0|hu(32),ar[d>>2]=G,ar[QA>>2]=-2147483616,ar[DA>>2]=30,eA=30892,rA=(iA=G)+30|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+30>>0]=0,oo(A,2,2e3,d),0<=(0|tr[JA>>0])){G=1;break n}vu(0|ar[d>>2]),G=1;break n}if(0|(R=0|ar[U>>2])&&bu(R),ar[G+84>>2]=Q,G=0|ar[(iA=G+88|0)>>2],ar[iA>>2]=R,0|G&&du(G),ar[p>>2]=0,ar[MA>>2]=0,ar[TA>>2]=0,R=0|ar[D+68>>2],0|(G=(0|ar[D+72>>2])-R|0)){if((0|G)<0)break r;rA=0|hu(G),ar[MA>>2]=rA,ar[p>>2]=rA,iA=rA+G|0,ar[jA>>2]=iA,hb(0|rA,0|R,0|G),ar[MA>>2]=iA}if(ar[c>>2]=0,ar[UA>>2]=0,ar[SA>>2]=0,Vl(l,p,c),G=0|ar[c>>2],_=0|ar[UA>>2],(0|G)!=(0|_))do{R=0|ar[G>>2];do{if(0|R){if(!(N=0|qu(R,1472,1480,0)))break;for((R=0|ar[G+4>>2])?bu(R):R=0,iA=0|ar[M>>2],tr[iA+92>>0]=1,eA=N+8|0,rA=(iA=iA+96|0)+56|0;ar[iA>>2]=ar[eA>>2],eA=eA+4|0,(0|(iA=iA+4|0))<(0|rA););if(!R)break;du(R)}}while(0);G=G+8|0}while((0|G)!=(0|_));if((0|tr[zA>>0])<0&&vu(0|ar[OA>>2]),0|(G=0|ar[c>>2])){if((0|(R=0|ar[UA>>2]))!=(0|G)){for(;N=R+-8|0,ar[UA>>2]=N,(0|(R=(R=0|ar[R+-4>>2])?(du(R),0|ar[UA>>2]):N))!=(0|G););G=0|ar[c>>2]}vu(G)}0|(G=0|ar[p>>2])&&((0|ar[MA>>2])!=(0|G)&&(ar[MA>>2]=G),vu(G));break t}}while(0);for(ar[s>>2]=0,ar[4+s>>2]=0,ar[8+s>>2]=0,G=0|hu(48),ar[s>>2]=G,ar[NA>>2]=-2147483600,ar[_A>>2]=35,eA=30856,rA=(iA=G)+35|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+35>>0]=0,oo(A,2,2e3,s),0<=(0|tr[YA>>0])){G=1;break n}vu(0|ar[s>>2]),G=1;break n}}while(0);iA=0|ar[M>>2],rA=0|ar[ar[y>>2]>>2],yu(p,J),tr[iA+156>>0]=1,ar[iA+152>>2]=rA,Eu(iA+160|0,p),(0|tr[HA>>0])<0&&vu(0|ar[p>>2]),R=0|ar[W>>2];do{if(0|R){_=0|ar[ar[y>>2]>>2],G=W;t:for(;;){for(N=R;!((0|ar[N+16>>2])>>>0>=_>>>0);){if(!(R=0|ar[N+4>>2]))break t;N=R}if(!(R=0|ar[N>>2])){G=N;break}G=N}if((0|G)==(0|W))break;if(_>>>0<(0|ar[G+16>>2])>>>0)break;if(R=0|ar[M>>2],N=0|ar[G+20>>2],(0|R)==(0|N)){for(ar[h>>2]=0,ar[4+h>>2]=0,ar[8+h>>2]=0,G=0|hu(32),ar[h>>2]=G,ar[KA>>2]=-2147483616,ar[qA>>2]=28,eA=30957,rA=(iA=G)+28|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+28>>0]=0,oo(A,2,2e3,h),0<=(0|tr[$A>>0])){G=1;break n}vu(0|ar[h>>2]),G=1;break n}ar[w>>2]=R,G=0|ar[U>>2],0|(ar[Ae>>2]=G)&&bu(G),R=0|ar[(G=N+176|0)>>2];do{if(R>>>0<(0|ar[N+180>>2])>>>0)ar[R>>2]=ar[w>>2],ar[R+4>>2]=ar[Ae>>2],ar[w>>2]=0,ar[Ae>>2]=0,ar[G>>2]=R+8;else{if(yl(N+172|0,w),!(G=0|ar[Ae>>2]))break;du(G)}}while(0);if(ar[de>>2]=ar[M>>2],G=0|ar[U>>2],ar[ee>>2]=G){bu(G),pl(e,de),du(G),G=0;break n}pl(e,de),G=0;break n}}while(0);for(ar[k>>2]=0,ar[4+k>>2]=0,ar[8+k>>2]=0,G=0|hu(48),ar[k>>2]=G,ar[xA>>2]=-2147483600,ar[PA>>2]=33,eA=30923,rA=(iA=G)+33|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+33>>0]=0,oo(A,2,2e3,k),0<=(0|tr[LA>>0])){G=1;break}vu(0|ar[k>>2]),G=1}else{for(ar[a>>2]=0,ar[4+a>>2]=0,ar[8+a>>2]=0,G=0|hu(48),ar[a>>2]=G,ar[ae>>2]=-2147483600,ar[ce>>2]=35,eA=30585,rA=(iA=G)+35|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+35>>0]=0,oo(A,2,0,a),0<=(0|tr[le>>0])){G=1;break}vu(0|ar[a>>2]),G=1}}while(0);0|(R=0|ar[y>>2])&&((0|(N=0|ar[yA>>2]))!=(0|R)&&(ar[yA>>2]=N+(~((N+-4-R|0)>>>2)<<2)),vu(R))}}while(0);197==(0|me)&&(me=0,ar[lA>>2]=4524,ar[p>>2]=188,ar[cA>>2]=208,ar[sA>>2]=0,Jf(dA,uA),ar[kA>>2]=0,ar[hA>>2]=-1,ar[p>>2]=4504,ar[cA>>2]=4544,ar[lA>>2]=4524,Sf(uA),ar[uA>>2]=4340,ar[wA>>2]=0,ar[wA+4>>2]=0,ar[wA+8>>2]=0,ar[wA+12>>2]=0,ar[vA>>2]=24,ar[y>>2]=0,ar[4+y>>2]=0,ar[8+y>>2]=0,Xe(uA,y),(0|tr[mA>>0])<0&&vu(0|ar[y>>2]),Lf(iA=0|We(gA,30557,27),0|ar[20+(0|ar[M>>2])>>2]),Ie(o,uA),oo(A,2,123,o),(0|tr[ZA>>0])<0&&vu(0|ar[o>>2]),ar[p>>2]=4504,ar[cA>>2]=4544,ar[gA>>2]=4524,ar[uA>>2]=4340,(0|tr[pA>>0])<0&&vu(0|ar[wA>>2]),kf(uA),bf(cA),G=1),F&&du(F)}if((0|tr[be>>0])<0&&vu(0|ar[ue>>2]),0|(F=0|ar[Be>>2])){if((0|(R=0|ar[oA>>2]))!=(0|F)){for(;N=R+-12|0,ar[oA>>2]=N,(0|(R=(R=0|ar[R+-4>>2])?(du(R),0|ar[oA>>2]):N))!=(0|F););F=0|ar[Be>>2]}vu(F)}if(0|G)break i}else{switch(0|G){case 1953000802:break;default:break f}Ge(y,V+52|0),iA=0|ar[y>>2],G=iA;n:do{if(4==((0|ar[O>>2])-iA|0)){_=0|ar[M>>2],R=0|ar[G>>2],tr[_+41>>0]=1,ar[_+44>>2]=R,R=0|ar[W>>2],Y=_;do{if(0|R){N=0|ar[G>>2],G=W;t:for(;;){for(F=R;!((0|ar[F+16>>2])>>>0>=N>>>0);)if(!(F=0|ar[F+4>>2]))break t;if(!(R=0|ar[F>>2])){G=F;break}G=F}if((0|G)==(0|W))break;if(N>>>0<(0|ar[G+16>>2])>>>0)break;if(F=0|ar[G+20>>2],0|tr[F+41>>0]){for(ar[f>>2]=0,ar[4+f>>2]=0,ar[8+f>>2]=0,G=0|hu(48),ar[f>>2]=G,ar[q>>2]=-2147483600,ar[$>>2]=38,eA=30483,rA=(iA=G)+38|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+38>>0]=0,oo(A,2,2e3,f),0<=(0|tr[AA>>0])){G=1;break n}vu(0|ar[f>>2]),G=1;break n}if((0|_)==(0|F)){for(ar[n>>2]=0,ar[4+n>>2]=0,ar[8+n>>2]=0,G=0|hu(48),ar[n>>2]=G,ar[x>>2]=-2147483600,ar[P>>2]=34,eA=30522,rA=(iA=G)+34|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+34>>0]=0,oo(A,2,2e3,n),0<=(0|tr[L>>0])){G=1;break n}vu(0|ar[n>>2]),G=1;break n}if((0|(G=0|ar[(R=F+52|0)>>2]))==(0|ar[F+56>>2])?kl(F+48|0,M):(ar[G>>2]=Y,F=0|ar[U>>2],(ar[G+4>>2]=F)&&(bu(F),G=0|ar[R>>2]),ar[R>>2]=G+8),ar[t>>2]=ar[M>>2],G=0|ar[U>>2],ar[K>>2]=G){bu(G),pl(e,t),du(G),G=0;break n}pl(e,t),G=0;break n}}while(0);for(ar[i>>2]=0,ar[4+i>>2]=0,ar[8+i>>2]=0,G=0|hu(48),ar[i>>2]=G,ar[z>>2]=-2147483600,ar[j>>2]=41,eA=30441,rA=(iA=G)+41|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););tr[G+41>>0]=0,oo(A,2,2e3,i),G=((0|tr[H>>0])<0&&vu(0|ar[i>>2]),1)}else{for(ar[r>>2]=0,ar[4+r>>2]=0,ar[8+r>>2]=0,G=0|hu(32),ar[r>>2]=G,ar[fA>>2]=-2147483616,ar[nA>>2]=29,eA=30411,rA=(iA=G)+29|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););tr[G+29>>0]=0,oo(A,2,0,r),G=((0|tr[tA>>0])<0&&vu(0|ar[r>>2]),1)}}while(0);if(0|(F=0|ar[y>>2])&&((0|(R=0|ar[O>>2]))!=(0|F)&&(ar[O>>2]=R+(~((R+-4-F|0)>>>2)<<2)),vu(F)),0|G){G=1;break i}}}while(0);if((0|(V=V+64|0))==(0|T)){G=10;break}}V=0|ar[ye>>2]}if(Y=10==(0|G)?0:G,0|V){if((0|(G=0|ar[S>>2]))==(0|V))G=V;else{for(;F=G+-64|0,ar[S>>2]=F,0|(R=0|ar[G+-12>>2])&&((0|(_=0|ar[(N=G+-8|0)>>2]))!=(0|R)&&(ar[N>>2]=_+(~((_+-4-R|0)>>>2)<<2)),vu(R)),ar[F>>2]=4264,0|(F=0|ar[G+-40>>2])&&((0|ar[(G=G+-36|0)>>2])!=(0|F)&&(ar[G>>2]=F),vu(F)),(0|(G=0|ar[S>>2]))!=(0|V););G=0|ar[ye>>2]}vu(G)}switch(0|Y){case 8:me=362;break e;case 0:break;default:break e}if(G=0|ar[bA+4>>2])for(;V=0|ar[G>>2];)G=V;else if(G=0|ar[(V=bA+8|0)>>2],(0|ar[G>>2])!=(0|bA))for(;bA=0|ar[V>>2],G=0|ar[(V=bA+8|0)>>2],(0|ar[G>>2])!=(0|bA););if((0|G)==(0|W)){me=362;break e}bA=G}zl()}else me=362}while(0);e:do{if(362==(0|me)){G=0|ar[ge>>2];r:do{if((0|G)!=(0|W)){for(Q=11+y|0,J=D=4+y|0,M=4+v|0,T=8+m|0,U=4+m|0,S=11+m|0,Y=G;;){if(R=0|ar[20+(0|ar[(_=Y+20|0)>>2])>>2],N=112+(0|ar[g>>2])|0,G=0|ar[N>>2]){V=N;i:for(;;){for(F=G;!((0|ar[F+16>>2])>>>0>=R>>>0);){if(!(G=0|ar[F+4>>2]))break i;F=G}if(!(G=0|ar[F>>2])){V=F;break}V=F}N=(0|V)!=(0|N)&&(0|ar[V+16>>2])>>>0<=R>>>0?(G=0|ar[V+20>>2],(V=0|ar[V+24>>2])?(bu(V),V):0):G=0}else N=G=0;if(yu(y,G+64|0),4==(0|((G=0|tr[Q>>0])<<24>>24<0?0|ar[D>>2]:255&G))?(V=0==(0|Yu(y,0,-1,30298,4)),G=0|tr[Q>>0]):V=0,G<<24>>24<0&&vu(0|ar[y>>2]),V){G=0|ar[g>>2],ar[y>>2]=ar[G+52>>2],V=0|ar[G+56>>2],(ar[J>>2]=V)&&(bu(V),G=0|ar[g>>2]),V=0|ar[G+44>>2],F=0|ar[G+48>>2],(R=0==(0|F))||bu(F),Lt(v,V,0|ar[20+(0|ar[_>>2])>>2],y,1752589123),G=0==(0|ar[v>>2]),0|(V=0|ar[M>>2])&&du(V);do{if(G){for(ar[m>>2]=0,ar[4+m>>2]=0,ar[8+m>>2]=0,G=0|hu(48),ar[m>>2]=G,ar[T>>2]=-2147483600,ar[U>>2]=35,eA=30986,rA=(iA=G)+35|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[G+35>>0]=0,oo(A,2,106,m),0<=(0|tr[S>>0])){G=1;break}vu(0|ar[m>>2]),G=1}else G=0}while(0);R||du(F),0|(V=0|ar[J>>2])&&du(V),G||(me=392)}else me=392;if(392==(0|me)&&(G=me=0),0|N&&du(N),0|G)break e;G=0|ar[Y+4>>2];do{if(G)for(;V=0|ar[G>>2];)G=V;else{if(G=0|ar[(V=Y+8|0)>>2],(0|ar[G>>2])==(0|Y))break;for(;de=0|ar[V>>2],G=0|ar[(V=de+8|0)>>2],(0|ar[G>>2])!=(0|de););}}while(0);if((0|G)==(0|W))break;Y=G}if((0|(G=0|ar[ge>>2]))!=(0|W)){M=1^he,T=11+y|0,S=U=4+y|0,O=Ze+4|0,z=pe+4|0;do{if(D=G+20|0,_=0|ar[G+16>>2],N=112+(0|ar[g>>2])|0,0|(F=0|ar[N>>2])){V=N;i:for(;;){for(R=F;!((0|ar[R+16>>2])>>>0>=_>>>0);){if(!(F=0|ar[R+4>>2]))break i;R=F}if(!(F=0|ar[R>>2])){V=R;break}V=R}if((0|V)!=(0|N)&&(0|ar[V+16>>2])>>>0<=_>>>0){F=0|ar[V+20>>2],V=0|ar[V+24>>2],J=V?(bu(V),V):0,V=0==(0|F);do{if(V|M)V=V?19:18;else{if(yu(y,F+64|0),4==(0|((V=0|tr[T>>0])<<24>>24<0?0|ar[U>>2]:255&V))?(F=0==(0|Yu(y,0,-1,30303,4)),V=0|tr[T>>0]):F=0,V<<24>>24<0&&vu(0|ar[y>>2]),F){if(fo(y,ke,_,1684630887),(0|(F=0|ar[y>>2]))==(0|ar[S>>2]))V=19;else{N=0|ar[F>>2],F=0|ar[W>>2];do{if(F){V=W;i:for(;;){for(R=F;!((0|ar[R+16>>2])>>>0>=N>>>0);){if(!(F=0|ar[R+4>>2]))break i;R=F}if(!(F=0|ar[R>>2])){V=R;break}V=R}if((0|V)==(0|W)){V=19;break}if(N>>>0<(0|ar[V+16>>2])>>>0){V=19;break}_=0|ar[V+20>>2],Y=0|ar[V+24>>2],(Q=0==(0|Y))||bu(Y),R=0|ar[D>>2],V=0|ar[R+204>>2],R=0|ar[R+208>>2],(N=0==(0|R))||bu(R);do{if(!V){if(V=0|ar[(F=_)+204>>2],F=0|ar[F+208>>2]){bu(F),du(F),V=0!=(0|V);break}V=0!=(0|V);break}V=0}while(0);N||du(R);do{if(V){if(V=0|ar[D>>2],F=0|ar[(R=_)+204>>2],0|(R=0|ar[R+208>>2])&&bu(R),ar[Ze>>2]=F,ar[O>>2]=R,Zl(V,Ze),!(V=0|ar[O>>2]))break;du(V)}}while(0);R=0|ar[D>>2],V=0|ar[R+196>>2],R=0|ar[R+200>>2],(N=0==(0|R))||bu(R);do{if(!V){if(V=0|ar[(F=_)+196>>2],F=0|ar[F+200>>2]){bu(F),du(F),V=0!=(0|V);break}V=0!=(0|V);break}V=0}while(0);N||du(R);do{if(V){if(R=0|ar[D>>2],V=0|ar[(F=_)+196>>2],0|(F=0|ar[F+200>>2])&&bu(F),ar[pe>>2]=V,ar[z>>2]=F,Zl(R,pe),!(V=0|ar[z>>2]))break;du(V)}}while(0);if(Q){V=0;break}du(Y),V=0}else V=19}while(0);F=0|ar[y>>2]}if(0|F&&((0|(R=0|ar[S>>2]))!=(0|F)&&(ar[S>>2]=R+(~((R+-4-F|0)>>>2)<<2)),vu(F)),0|V)break}V=0}}while(0);switch(0|J&&du(J),0|V){case 19:case 0:break;default:break r}}}if(V=0|ar[G+4>>2])for(G=V;V=0|ar[G>>2];)G=V;else if(F=0|ar[(V=G+8|0)>>2],(0|ar[F>>2])==(0|G))G=F;else for(;ge=0|ar[V>>2],G=0|ar[(V=ge+8|0)>>2],(0|ar[G>>2])!=(0|ge););}while((0|G)!=(0|W))}}}while(0);if(V=0|ar[I>>2],T=0|ar[Z>>2],(0|V)==(0|T))G=A+8|0;else{U=Ee+4|0,S=4+p|0,O=8+E|0,z=4+E|0,j=11+E|0,H=4+X|0,x=8+B|0,P=4+B|0,L=11+B|0,q=(K=Be+8|0)+11|0,$=ye+11|0,AA=11+y|0,G=A+8|0;do{for(F=0|ar[V>>2],ho(y,0|ar[g>>2],F),wo(ye,0|ar[g>>2],F),M=0|hu(52),ar[M+4>>2]=0,ar[M+8>>2]=0,ar[M>>2]=6420,R=M+12|0,rA=(iA=M+16|0)+36|0;((ar[iA>>2]=0)|(iA=iA+4|0))<(0|rA););ar[(D=R)>>2]=F,Eu(M+16|0,y),Eu(M+28|0,ye),mo(Be,0|ar[g>>2],F,M+40|0);do{if(0|ar[Be>>2])pe=0|ar[(Ze=Be)+4>>2],ar[(F=A)>>2]=ar[Ze>>2],ar[F+4>>2]=pe,ar[G>>2]=ar[K>>2],ar[G+4>>2]=ar[K+4>>2],ar[G+8>>2]=ar[K+8>>2],ar[K>>2]=0,ar[K+4>>2]=0,ar[K+8>>2]=0,F=1;else{if(he){if(io(Ee,ke,F),R=0|ar[Ee>>2],Q=0|ar[U>>2],(0|R)==(0|Q))F=22;else{for(;;){if(1667527523==(0|ar[R+20>>2])){Ge(p,R+52|0),F=0|ar[p>>2];r:do{if(4==((0|ar[S>>2])-F|0)){Y=0|ar[F>>2],N=0|ar[W>>2];do{if(0|N){F=W;i:for(;;){for(_=N;!((0|ar[_+16>>2])>>>0>=Y>>>0);){if(!(N=0|ar[_+4>>2]))break i;_=N}if(!(N=0|ar[_>>2])){F=_;break}F=_}if((0|F)==(0|W))break;if(Y>>>0<(0|ar[F+16>>2])>>>0)break;if(F=0|ar[F+20>>2],ar[X>>2]=D,bu(ar[H>>2]=M),(_=0|ar[(N=F+188|0)>>2])>>>0<(0|ar[F+192>>2])>>>0){ar[_>>2]=ar[X>>2],ar[_+4>>2]=ar[H>>2],ar[X>>2]=0,ar[H>>2]=0,ar[N>>2]=_+8,F=0;break r}if(Bl(F+184|0,X),!(F=0|ar[H>>2])){F=0;break r}du(F),F=0;break r}}while(0);for(ar[E>>2]=0,ar[4+E>>2]=0,ar[8+E>>2]=0,F=0|hu(48),ar[E>>2]=F,ar[O>>2]=-2147483600,ar[z>>2]=39,eA=31063,rA=(iA=F)+39|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[F+39>>0]=0,oo(A,2,2e3,E),0<=(0|tr[j>>0])){F=1;break}vu(0|ar[E>>2]),F=1}else{for(ar[B>>2]=0,ar[4+B>>2]=0,ar[8+B>>2]=0,F=0|hu(48),ar[B>>2]=F,ar[x>>2]=-2147483600,ar[P>>2]=40,eA=31022,rA=(iA=F)+40|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););if(tr[F+40>>0]=0,oo(A,2,0,B),0<=(0|tr[L>>0])){F=1;break}vu(0|ar[B>>2]),F=1}}while(0);if(0|(N=0|ar[p>>2])&&((0|(_=0|ar[S>>2]))!=(0|N)&&(ar[S>>2]=_+(~((_+-4-N|0)>>>2)<<2)),vu(N)),0|F){F=1;break}}if((0|(R=R+64|0))==(0|Q)){F=22;break}}R=0|ar[Ee>>2]}if(J=22==(0|F),0|R){if((0|(N=0|ar[U>>2]))!=(0|R)){for(;_=N+-64|0,ar[U>>2]=_,0|(Y=0|ar[N+-12>>2])&&((0|(D=0|ar[(Q=N+-8|0)>>2]))!=(0|Y)&&(ar[Q>>2]=D+(~((D+-4-Y|0)>>>2)<<2)),vu(Y)),ar[_>>2]=4264,0|(_=0|ar[N+-40>>2])&&((0|ar[(N=N+-36|0)>>2])!=(0|_)&&(ar[N>>2]=_),vu(_)),(0|(N=0|ar[U>>2]))!=(0|R););R=0|ar[Ee>>2]}vu(R)}if(!J)break}F=0}}while(0);if((0|tr[q>>0])<0&&vu(0|ar[K>>2]),du(M),(0|tr[$>>0])<0&&vu(0|ar[ye>>2]),(0|tr[AA>>0])<0&&vu(0|ar[y>>2]),V=V+4|0,0|F)break e}while((0|V)!=(0|T))}Be=0|ar[(ye=56592)+4>>2],ar[(Ee=A)>>2]=ar[ye>>2],ar[Ee+4>>2]=Be,yu(G,56600)}}while(0);ve||du(we)}else{for(ar[q>>2]=0,ar[q+4>>2]=0,ar[q+8>>2]=0,G=0|hu(48),ar[q>>2]=G,ar[q+8>>2]=-2147483600,ar[q+4>>2]=42,eA=30323,rA=(iA=G)+42|0;tr[iA>>0]=0|tr[eA>>0],eA=eA+1|0,(0|(iA=iA+1|0))<(0|rA););tr[G+42>>0]=0,oo(A,2,2e3,q),(0|tr[q+11>>0])<0&&vu(0|ar[q>>2])}}while(0);if(!(A=0|ar[I>>2]))return ur=C;(0|(G=0|ar[Z>>2]))!=(0|A)&&(ar[Z>>2]=G+(~((G+-4-A|0)>>>2)<<2));vu(A),ur=C}(A,e),0<=(0|tr[o+8+11>>0]))return ur=a;vu(0|ar[o+8>>2]),ur=a}(f,0|ar[e>>2],t?0|ar[r>>2]:r,t?0|ar[r+4>>2]:255&n,1),ao(A,f,0|ar[e>>2]),ur=(0<=(0|tr[(A=f+8|0)+11>>0])||vu(0|ar[A>>2]),i)},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n=0,t=0,o=0;if(ur=(f=ur)+32|0,n=(i=f)+20|0,t=f+8|0,o=0|oA(),!e)return ar[A>>2]=o,iA((o=0)|o),void(ur=f);!function(A,e,r,i){A|=0,e|=0,r|=0;var f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0;if(ur=(o=ur)+64|0,t=o+44|0,a=o+32|0,f=o+12|0,b=o,!(i|=0))return ar[a>>2]=0,ar[a+4>>2]=0,ar[a+8>>2]=0,oo(t,5,2001,a),(0|tr[a+11>>0])<0&&vu(0|ar[a>>2]),ao(A,t,0|ar[e>>2]),(0|tr[(a=8+t|0)+11>>0])<0&&vu(0|ar[a>>2]),ur=o;sl(t,40+(0|ar[e>>2])|0),a=0|ar[t>>2],c=0|ar[(n=4+t|0)>>2];A:do{if((0|a)!=(0|c)){for(;l=0|ar[a>>2],(0|ar[l+20>>2])!=(0|r);)if((0|(a=a+8|0))==(0|c)){a=0,s=13;break A}u=l,c=0|ar[a+4>>2],0|(a=c)&&bu(c),l?(r=0|hu(16),ar[r>>2]=0,ar[r+4>>2]=0,ar[r+8>>2]=0,ar[r+12>>2]=0,ar[i>>2]=r,c?(bu(c),c=0|ar[(b=r+4|0)>>2],ar[r>>2]=u,ar[b>>2]=a,0|c&&du(c)):(ar[r>>2]=u,ar[r+4>>2]=a),c=0|ar[i>>2],r=0|ar[e>>2],0|(l=0|ar[e+4>>2])&&bu(l),ar[c+8>>2]=r,c=0|ar[(i=c+12|0)>>2],ar[i>>2]=l,0|c&&du(c),ao(A,56592,0|ar[e>>2])):s=13}else a=0,s=13}while(0);13==(0|s)&&(ar[b>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,oo(f,5,2e3,b),(0|tr[b+11>>0])<0&&vu(0|ar[b>>2]),ao(A,f,0|ar[e>>2]),(0|tr[(c=8+f|0)+11>>0])<0&&vu(0|ar[c>>2]));0|a&&du(a);if(0|(a=0|ar[t>>2])){if((0|(c=0|ar[n>>2]))!=(0|a)){for(;r=c+-8|0,ar[n>>2]=r,(0|(c=(c=0|ar[c+-4>>2])?(du(c),0|ar[n>>2]):r))!=(0|a););a=0|ar[t>>2]}vu(a)}ur=o}(t,e,r,n),t=0|ar[t>>2]?(n=0|hu(12),ar[n>>2]=ar[t>>2],ar[n+4>>2]=ar[t+4>>2],ar[n+8>>2]=ar[t+8>>2],ar[i>>2]=n,0|cA(1392,0|i)):(ar[i>>2]=ar[n>>2],0|cA(1320,0|i)),ar[A>>2]=t,iA(0|o),ur=f},function(A,e,r){r|=0,ar[(e|=0)+(0|ar[(A|=0)>>2])>>2]=r},function(A,e,r){r|=0,ar[(e|=0)+(0|ar[(A|=0)>>2])>>2]=r},function(A,e,r){sr(44456,35137,51,35153)},function(A,e,r){A|=0,e|=0;var i=0,f=0,n=0,t=0;if(0<(0|(r|=0))){f=0;do{for(n=0|br(f,r),i=0;ar[A+((t=i+n|0)<<2)>>2]=or[e+(t<<1)>>1],(0|(i=i+1|0))!=(0|r););f=f+1|0}while((0|f)!=(0|r))}},function(A,e,r){A|=0,e|=0;var i=0,f=0,n=0,t=0,o=0;if(0<(0|(r|=0))){f=0;do{for(t=0|br(f,r),n=i=0;i=(0|or[e+((o=n+t|0)<<1)>>1])+i|0,ar[A+(o<<2)>>2]=i,(0|(n=n+1|0))!=(0|r););f=f+1|0}while((0|f)!=(0|r))}},function(A,e,r){A|=0,e|=0;var i=0,f=0,n=0,t=0;if(0<(0|(r|=0))){f=0;do{for(n=i=0;t=(0|br(n,r))+f|0,i=(0|or[e+(t<<1)>>1])+i|0,ar[A+(t<<2)>>2]=i,(0|(n=n+1|0))!=(0|r););f=f+1|0}while((0|f)!=(0|r))}},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0;for(ur=(f=ur)+32|0,i=f,n=0;t=0|or[e+(n<<1)>>1],l=(74*(o=0|or[e+(n+4<<1)>>1])|0)+(29*t|0)+(84*(a=0|or[e+(n+8<<1)>>1])|0)+(55*(c=0|or[e+(n+12<<1)>>1])|0)+64>>7,or[i+(n<<1)>>1]=(0|l)<-32768?-32768:65535&((0|l)<32767?l:32767),l=(0|br(c,-84))+((0|br(a,-29))+((74*o|0)+(55*t|0)))+64>>7,or[i+8+(n<<1)>>1]=(0|l)<-32768?-32768:65535&((0|l)<32767?l:32767),l=(74*c|0)+((0|br(a,-74))+(74*t|0))+64>>7,or[i+16+(n<<1)>>1]=(0|l)<-32768?-32768:65535&((0|l)<32767?l:32767),t=(0|br(c,-29))+((55*a|0)+((0|br(o,-74))+(84*t|0)))+64>>7,or[i+24+(n<<1)>>1]=(0|t)<-32768?-32768:65535&((0|t)<32767?t:32767),4!=(0|(n=n+1|0)););for(n=0;l=0|br(n,r),c=0|or[i+(n<<3)>>1],u=(74*(a=0|or[i+(n<<3)+2>>1])|0)+(29*c|0)+(84*(o=0|or[i+(n<<3)+4>>1])|0)+(55*(t=0|or[i+(n<<3)+6>>1])|0)+2048>>12,u=(0|cr[(e=A+l|0)>>0])+((0|u)<-32768?-32768:(0|u)<32767?u:32767)|0,tr[e>>0]=(0|u)<0?0:255&((0|u)<255?u:255),e=(0|br(t,-84))+((0|br(o,-29))+((74*a|0)+(55*c|0)))+2048>>12,e=(0|cr[(u=A+(l+1)|0)>>0])+((0|e)<-32768?-32768:(0|e)<32767?e:32767)|0,tr[u>>0]=(0|e)<0?0:255&((0|e)<255?e:255),u=(74*t|0)+((0|br(o,-74))+(74*c|0))+2048>>12,u=(0|cr[(e=A+(l+2)|0)>>0])+((0|u)<-32768?-32768:(0|u)<32767?u:32767)|0,tr[e>>0]=(0|u)<0?0:255&((0|u)<255?u:255),c=(0|br(t,-29))+((55*o|0)+((0|br(a,-74))+(84*c|0)))+2048>>12,c=(0|cr[(l=A+(l+3)|0)>>0])+((0|c)<-32768?-32768:(0|c)<32767?c:32767)|0,tr[l>>0]=(0|c)<0?0:255&((0|c)<255?c:255),4!=(0|(n=n+1|0)););ur=f},function(A,e,r){Oo(A|=0,r|=0,4,e|=0,8)},function(A,e,r){Oo(A|=0,r|=0,8,e|=0,8)},function(A,e,r){Oo(A|=0,r|=0,16,e|=0,8)},function(A,e,r){Oo(A|=0,r|=0,32,e|=0,8)},function(A,e,r){A|=0,e|=0;var i,f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0;for(ur=(t=ur)+32|0,n=t,i=(r|=0)<<1,f=3*r|0,o=0;a=0|or[e+(o<<1)>>1],s=(55*(c=0|or[e+(o+r<<1)>>1])|0)+(29*a|0)+(74*(l=0|or[e+(i+o<<1)>>1])|0)+(84*(u=0|or[e+(f+o<<1)>>1])|0)+1>>1,or[n+(o<<1)>>1]=(0|s)<-32768?-32768:65535&((0|s)<32767?s:32767),b=(s=(0|br(u,-74))+(74*(c+a|0)|0)|0)>>1,or[n+(o+4<<1)>>1]=(0|s)<-65536?-32768:65535&((0|b)<32767?b:32767),b=(55*u|0)+((0|br(l,-74))+((0|br(c,-29))+(84*a|0)))+1>>1,or[n+(o+8<<1)>>1]=(0|b)<-32768?-32768:65535&((0|b)<32767?b:32767),a=(0|br(u,-29))+((74*l|0)+((0|br(c,-84))+(55*a|0)))+1>>1,or[n+(o+12<<1)>>1]=(0|a)<-32768?-32768:65535&((0|a)<32767?a:32767),4!=(0|(o=o+1|0)););for(o=0;b=0|or[n+((s=o<<2)<<1)>>1],u=0|or[n+((1|s)<<1)>>1],l=0|or[n+((2|s)<<1)>>1],c=0|or[n+((3|s)<<1)>>1],or[A+(s<<1)>>1]=((55*u|0)+(29*b|0)+(74*l|0)+(84*c|0)+128|0)>>>8,a=((0|br(c,-74))+(74*(u+b|0)|0)+128|0)>>>8&65535,or[A+((1|s)<<1)>>1]=a,a=((55*c|0)+((0|br(l,-74))+((0|br(u,-29))+(84*b|0)))+128|0)>>>8&65535,or[A+((2|s)<<1)>>1]=a,b=((0|br(c,-29))+((74*l|0)+((0|br(u,-84))+(55*b|0)))+128|0)>>>8&65535,or[A+((3|s)<<1)>>1]=b,4!=(0|(o=o+1|0)););ur=t},function(A,e,r){jo(A|=0,4,e|=0,r|=0)},function(A,e,r){jo(A|=0,8,e|=0,r|=0)},function(A,e,r){jo(A|=0,16,e|=0,r|=0)},function(A,e,r){jo(A|=0,32,e|=0,r|=0)},function(A,e,r){A|=0,r|=0;var i,f=0,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0;ur=(i=ur)+32|0,w=i,n=0|or[(e|=0)>>1],o=0|or[e+4>>1],c=0|or[e+2>>1],m=o+n<<16>>16,a=(f=0|or[e+6>>1])+c<<16>>16,or[w>>1]=a+m,or[(s=w+2|0)>>1]=m-a,o=n-o<<16>>16,f=c-f<<16>>16,or[(c=w+4|0)>>1]=f+o,or[(n=w+6|0)>>1]=o-f,f=0|or[e+(r<<1)>>1],o=0|or[e+(r+2<<1)>>1],a=0|or[e+(r+1<<1)>>1],t=o+f<<16>>16,g=(m=0|or[e+(r+3<<1)>>1])+a<<16>>16,or[(h=w+8|0)>>1]=g+t,or[(b=w+10|0)>>1]=t-g,o=f-o<<16>>16,m=a-m<<16>>16,or[(a=w+12|0)>>1]=m+o,or[(f=w+14|0)>>1]=o-m,o=0|or[e+((m=r<<1)<<1)>>1],g=0|or[e+(m+2<<1)>>1],t=0|or[e+((1|m)<<1)>>1],d=(l=(m=0|or[e+(m+3<<1)>>1])+t<<16>>16)+(v=g+o<<16>>16)|0,or[w+16>>1]=d,l=v-l|0,or[w+18>>1]=l,g=o-g<<16>>16,m=t-m<<16>>16,or[(t=w+20|0)>>1]=m+g,or[(o=w+22|0)>>1]=g-m,g=0|or[e+((m=3*r|0)<<1)>>1],v=0|or[e+(m+2<<1)>>1],r=0|or[e+(m+1<<1)>>1],k=(u=(m=0|or[e+(m+3<<1)>>1])+r<<16>>16)+(e=v+g<<16>>16)|0,or[w+24>>1]=k,u=e-u|0,or[w+26>>1]=u,e=(m=r-m<<16>>16)+(v=g-v<<16>>16)|0,or[w+28>>1]=e,or[(r=w+30|0)>>1]=v-m,m=(d=d<<16>>16)+(w=0|or[w>>1])<<16>>16,v=(k=k<<16>>16)+(h=0|or[h>>1])<<16>>16,or[A>>1]=v+m,or[A+8>>1]=m-v,d=w-d<<16>>16,k=h-k<<16>>16,or[A+16>>1]=k+d,or[A+24>>1]=d-k,k=(l=l<<16>>16)+(s=0|or[s>>1])<<16>>16,d=(u=u<<16>>16)+(b=0|or[b>>1])<<16>>16,or[A+2>>1]=d+k,or[A+10>>1]=k-d,l=s-l<<16>>16,u=b-u<<16>>16,or[A+18>>1]=u+l,or[A+26>>1]=l-u,c=0|or[c>>1],u=(t=0|or[t>>1])+c<<16>>16,l=(e=e<<16>>16)+(a=0|or[a>>1])<<16>>16,or[A+4>>1]=l+u,or[A+12>>1]=u-l,t=c-t<<16>>16,e=a-e<<16>>16,or[A+20>>1]=e+t,or[A+28>>1]=t-e,n=0|or[n>>1],e=0|or[o>>1],f=0|or[f>>1],o=e+n<<16>>16,t=(r=0|or[r>>1])+f<<16>>16,or[A+6>>1]=t+o,or[A+14>>1]=o-t,e=n-e<<16>>16,r=f-r<<16>>16,or[A+22>>1]=r+e,or[A+30>>1]=e-r,ur=i},function(A,e,r){A|=0,e|=0,r|=0;var i,f,n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0;for(ur=(f=ur)+128|0,i=f,n=0;o=0|br(n,r),w=0|or[e+(o<<1)>>1],l=0|or[e+(o+4<<1)>>1],k=0|or[e+(o+1<<1)>>1],c=0|or[e+(o+5<<1)>>1],t=0|or[e+(o+2<<1)>>1],a=0|or[e+(o+6<<1)>>1],h=0|or[e+(o+3<<1)>>1],d=l+w<<16>>16,u=a+t<<16>>16,s=c+k<<16>>16,b=(o=0|or[e+(o+7<<1)>>1])+h<<16>>16,l=w-l<<16>>16,a=t-a<<16>>16,c=k-c<<16>>16,o=h-o<<16>>16,h=u+d<<16>>16,k=b+s<<16>>16,or[i+((t=n<<3)<<1)>>1]=k+h,or[i+((1|t)<<1)>>1]=h-k,u=d-u<<16>>16,b=s-b<<16>>16,or[i+((2|t)<<1)>>1]=b+u,or[i+((3|t)<<1)>>1]=u-b,b=a+l<<16>>16,u=o+c<<16>>16,or[i+((4|t)<<1)>>1]=u+b,or[i+((5|t)<<1)>>1]=b-u,a=l-a<<16>>16,o=c-o<<16>>16,or[i+((6|t)<<1)>>1]=o+a,or[i+((7|t)<<1)>>1]=a-o,8!=(0|(n=n+1|0)););for(n=0;p=0|or[i+(n<<1)>>1],b=0|or[i+((a=n+32|0)<<1)>>1],m=0|or[i+((v=n+8|0)<<1)>>1],s=0|or[i+((u=n+40|0)<<1)>>1],Z=0|or[i+((t=n+16|0)<<1)>>1],k=0|or[i+((d=n+48|0)<<1)>>1],g=0|or[i+((c=n+24|0)<<1)>>1],e=b+p<<16>>16,o=k+Z<<16>>16,r=s+m<<16>>16,l=(h=0|or[i+((w=n+56|0)<<1)>>1])+g<<16>>16,b=p-b<<16>>16,k=Z-k<<16>>16,s=m-s<<16>>16,h=g-h<<16>>16,g=o+e<<16>>16,m=l+r<<16>>16,or[A+(n<<1)>>1]=m+g,or[A+(v<<1)>>1]=g-m,o=e-o<<16>>16,l=r-l<<16>>16,or[A+(t<<1)>>1]=l+o,or[A+(c<<1)>>1]=o-l,c=k+b<<16>>16,l=h+s<<16>>16,or[A+(a<<1)>>1]=l+c,or[A+(u<<1)>>1]=c-l,k=b-k<<16>>16,h=s-h<<16>>16,or[A+(d<<1)>>1]=h+k,or[A+(w<<1)>>1]=k-h,8!=(0|(n=n+1|0)););ur=f},function(A,e,r){Ho(A|=0,16,e|=0,r|=0)},function(A,e,r){Ho(A|=0,32,e|=0,r|=0)},Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb,Qb],ts=[Db,function(A,e,r,i){A|=0,i|=0,r=(r|=0)+8|0,as[15&ar[16+(0|ar[(e|=0)>>2])>>2]](A,e,0|ar[r>>2],0|ar[r+4>>2],0,i)},function(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f=0,n=0;A:do{if(0|i){for(f=0;;){if((i-f|0)>>>0<4){f=4;break}if(n=(0|cr[r+(f+1)>>0])<<16|(0|cr[r+f>>0])<<24|(0|cr[r+(f+2)>>0])<<8|0|cr[r+(f+3)>>0],(i-(f=f+4|0)|0)>>>0<n>>>0){f=7;break}if(Ve(0|ar[e>>2],r+f|0,n,0,0,0),i>>>0<=(f=n+f|0)>>>0)break A}if(4==(0|f))return ar[A>>2]=ar[1919],ar[A+4>>2]=ar[1920],void(ar[A+8>>2]=ar[1921]);if(7==(0|f))return ar[A>>2]=ar[1919],ar[A+4>>2]=ar[1920],void(ar[A+8>>2]=ar[1921])}}while(0);ar[A>>2]=ar[1904],ar[A+4>>2]=ar[1905],ar[A+8>>2]=ar[1906]},function(A,e,r,i){i|=0,ar[(i=A|=0)>>2]=0,ar[i+4>>2]=0,ar[(i=A+8|0)>>2]=-1,ar[i+4>>2]=-1},function(A,e,r,i){i|=0,ar[(i=A|=0)>>2]=0,ar[i+4>>2]=0,ar[(i=A+8|0)>>2]=-1,ar[i+4>>2]=-1},function(A,e,r,i){e|=0,r|=0,i|=0;var f,n,t,o=0;for(f=ur=(t=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,4294967279<(n=i-r|(ar[A+8>>2]=0))>>>0&&pu(),n>>>0<11?(tr[A+11>>0]=n,o=A):(o=0|hu(e=16+n&-16),ar[A>>2]=o,ar[A+8>>2]=-2147483648|e,ar[A+4>>2]=n),e=r,A=o;(0|e)!=(0|i);)Qf(A,e),e=e+1|0,A=A+1|0;Qf(o+n|(tr[f>>0]=0),f),ur=t},function(A,e,r,i){e|=0,r|=0,i|=0;var f,n,t,o=0,a=0;f=ur=(t=ur)+31&-32,ur=ur+16|0,ar[(A|=0)>>2]=0,ar[A+4>>2]=0,1073741807<(n=i-r>>2)>>>(ar[A+8>>2]=0)&&pu();do{if(2<=n>>>0){if(!(1073741823<(e=4+n&-4)>>>0)){a=0|hu(e<<2),ar[A>>2]=a,ar[A+8>>2]=-2147483648|e,ar[A+4>>2]=n,o=r;break}lA()}else tr[A+8+3>>0]=n,o=r,a=A}while(0);for(;(0|o)!=(0|i);)ln(a,o),o=o+4|0,a=a+4|0;ar[f>>2]=0,ln(a,f),ur=t},function(A,e,r,i){r|=0,i|=0,0|xu(A|=0,0|ar[(e|=0)+8>>2])&&Pu(0,e,r,i)},function(A,e,r,i){r|=0,i|=0,0|xu(A|=0,0|ar[(e|=0)+8>>2])?Pu(0,e,r,i):(A=0|ar[A+8>>2],ts[31&ar[28+(0|ar[A>>2])>>2]](A,e,r,i))},function(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f=0,n=0;A:do{if(0|xu(A,0|ar[e+8>>2]))Pu(0,e,r,i);else if(f=A+16+((n=0|ar[A+12>>2])<<3)|0,Ab(A+16|0,e,r,i),1<(0|n)){n=e+54|0,A=A+24|0;do{if(Ab(A,e,r,i),0|tr[n>>0])break A;A=A+8|0}while(A>>>0<f>>>0)}}while(0)},function(A,e,r,i){A|=0,e|=0,r|=0,i|=0;var f,n,t,o,a,c,l,u,b=0,s=0,d=0,k=0,h=0,w=0,v=0;if(ur=(u=ur)+64|0,l=(o=u)+56|0,c=u+52|0,s=u+40|0,a=u+36|0,v=u+24|0,n=u+20|0,f=u+16|0,t=u+12|0,b=0|oA(),ar[l>>2]=b,!e)return ar[A>>2]=b,ar[l>>2]=0,iA((v=0)|v),void(ur=u);if(!function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0;var t,o,a,c;ur=(c=ur)+32|0,ar[(t=(o=c)+24|0)>>2]=0,ar[(a=4+t|0)>>2]=0,function(A,e,r,i,f,n,t){A|=0,n|=0,t|=0;var o,a,c=0,l=0,u=0,b=0,s=0,d=0;ur=(a=ur)+48|0,b=(o=a)+40|0,u=a+32|0,d=a+20|0,Xl(o,e|=0,r|=0,i|=0,f|=0,0);do{if(0|ar[o>>2])i=0|ar[(s=o)+4>>2],ar[(d=A)>>2]=ar[s>>2],ar[d+4>>2]=i,i=o+8|0,ar[(d=A+8|0)>>2]=ar[i>>2],ar[d+4>>2]=ar[i+4>>2],ar[d+8>>2]=ar[i+8>>2],ar[i>>2]=0,ar[i+4>>2]=0,ar[i+8>>2]=0;else{if(99==(0|f)&&(f=0|ar[32+(0|ar[i>>2])>>2]),c=0|ar[i>>2],l=0|ar[c+36>>2],r=99==(0|n)?l:n,e=t&&0|tr[t+20>>0]?8:0,!((0|r)==(0|l)&&(0|f)==(0|ar[c+32>>2])||(ar[u>>2]=0,ar[(c=u+4|0)>>2]=0,me(b,i,f,r,u,e),e=0|ar[b>>2],u=0|ar[(r=b+4|0)>>2],ar[b>>2]=0,ar[r>>2]=0,ar[i>>2]=e,e=0|ar[(b=i+4|0)>>2],ar[b>>2]=u,0|e&&(du(e),0|(s=0|ar[r>>2]))&&du(s),0|(e=0|ar[c>>2])&&du(e),0|ar[i>>2]))){if(ar[d>>2]=0,ar[d+4>>2]=0,ar[d+8>>2]=0,oo(A,4,3003,d),0<=(0|tr[d+11>>0]))break;vu(0|ar[d>>2]);break}d=0|ar[(s=56592)+4>>2],ar[(i=A)>>2]=ar[s>>2],ar[i+4>>2]=d,yu(A+8|0,56600)}}while(0);if(0<=(0|tr[11+(e=o+8|0)>>0]))return ur=a;vu(0|ar[e>>2]),ur=a}(o,0|ar[e+8>>2],0|ar[20+(0|ar[e>>2])>>2],t,i,f,n),0|ar[o>>2]?ao(A,o,0|ar[e>>2]):(n=0|hu(8),ar[r>>2]=n,i=0|ar[t>>2],f=0|ar[a>>2],ar[t>>2]=0,ar[a>>2]=0,ar[n>>2]=i,ar[n+4>>2]=f,ao(A,56592,0|ar[e>>2]));(0|tr[11+(A=o+8|0)>>0])<0&&vu(0|ar[A>>2]);(A=0|ar[a>>2])&&du(A),ur=c}(s,e,c,r,i,0),0|ar[s>>2])v=0|hu(12),ar[v>>2]=ar[s>>2],ar[v+4>>2]=ar[s+4>>2],ar[v+8>>2]=ar[s+8>>2],ar[o>>2]=v,v=0|cA(1392,0|o),ar[A>>2]=v;else{if(ar[o>>2]=cr[40+(0|ar[e>>2])>>0],bl(l,29636,o),sl(o,48+(0|ar[e>>2])|0),s=(b=0|ar[(i=o+4|0)>>2])-(e=0|ar[o>>2])>>3,0|(r=e)){if((0|b)!=(0|r)){for(;e=b+-8|0,ar[i>>2]=e,(b=0|ar[b+-4>>2])&&(du(b),e=0|ar[i>>2]),(0|e)!=(0|r);)b=e;e=0|ar[o>>2]}vu(e)}switch(ar[a>>2]=s,bl(l,29647,a),b=0|ar[c>>2],e=0|Xo(0|ar[b>>2],0),ar[o>>2]=e,function(A,e,r){e|=0,r|=0;var i,f;ur=(i=ur)+16|0,f=i,A=0|ar[(A=A|0)>>2],e=0|tA(0|e),ar[f>>2]=ar[r>>2],r=0|cA(4144,0|f),aA(0|A,0|e,0|r),iA(0|r),iA(0|e),ur=i}(l,29658,o),e=0|Wo(0|ar[b>>2],0),ar[a>>2]=e,function(A,e,r){e|=0,r|=0;var i,f;ur=(i=ur)+16|0,f=i,A=0|ar[(A=A|0)>>2],e=0|tA(0|e),ar[f>>2]=ar[r>>2],r=0|cA(4144,0|f),aA(0|A,0|e,0|r),iA(0|r),iA(0|e),ur=i}(l,29664,a),ar[v>>2]=0,ar[v+4>>2]=0,ar[v+8>>2]=0,ar[n>>2]=ar[36+(0|ar[b>>2])>>2],function(A,e,r){e|=0,r|=0;var i,f;ur=(i=ur)+16|0,f=i,A=0|ar[(A=A|0)>>2],e=0|tA(0|e),ar[f>>2]=ar[r>>2],r=0|cA(1248,0|f),aA(0|A,0|e,0|r),iA(0|r),iA(0|e),ur=i}(l,29671,n),ar[n>>2]=ar[32+(0|ar[b>>2])>>2],function(A,e,r){e|=0,r|=0;var i,f;ur=(i=ur)+16|0,f=i,A=0|ar[(A=A|0)>>2],e=0|tA(0|e),ar[f>>2]=ar[r>>2],r=0|cA(1256,0|f),aA(0|A,0|e,0|r),iA(0|r),iA(0|e),ur=i}(l,29678,n),e=0|ar[b>>2],0|ar[e+32>>2]){case 0:if(r=e?0|Fo(e,0,n):ar[n>>2]=0,h=(e=0|ar[b>>2])?0|Fo(e,1,f):ar[f>>2]=0,e=(e=0|ar[b>>2])?0|Fo(e,2,t):ar[t>>2]=0,w=0|ar[o>>2],d=0|ar[a>>2],Vu(v,(0|br(~~(.5*(0|w)+.5)<<1,~~(.5*(0|d)+.5)))+(0|br(d,w))|0,0),w=(0|tr[v+11>>0])<0?0|ar[v>>2]:v,d=0|ar[o>>2],k=0|ar[a>>2],(0|d)!=(0|(s=0|ar[n>>2]))){if(0<(0|k))for(i=w,b=r,r=0;hb(0|i,0|b,0|s),(0|(r=r+1|0))!=(0|k);)i=i+d|0,b=b+s|0}else hb(0|w,0|r,0|br(k,d));if(d=0|ar[o>>2],k=0|ar[a>>2],b=w+(0|br(k,d))|0,k=~~(.5*(0|k)+.5),(0|(d=~~(.5*(0|d)+.5)))!=(0|(s=0|ar[f>>2]))){if(0<(0|k))for(i=b,b=h,r=0;hb(0|i,0|b,0|s),(0|(r=r+1|0))!=(0|k);)i=i+d|0,b=b+s|0}else hb(0|b,0|h,0|br(k,d));if(r=0|ar[o>>2],i=0|ar[a>>2],b=0|br(d=~~(.5*(0|i)+.5),s=~~(.5*(0|r)+.5)),r=w+(0|br(i,r))+b|0,(0|s)!=(0|(i=0|ar[t>>2]))){if(0<(0|d))for(b=0;hb(0|r,0|e,0|i),(0|(b=b+1|0))!=(0|d);)r=r+s|0,e=e+i|0}else hb(0|r,0|e,0|b);break;case 1:if(10!=(0|ar[e+36>>2])&&sr(29689,29758,140,26426),e=0|Fo(e,10,n),Vu(v,0|br(3*(0|ar[o>>2])|0,0|ar[a>>2]),0),r=(0|tr[v+11>>0])<0?0|ar[v>>2]:v,d=3*(0|ar[o>>2])|0,s=0|ar[a>>2],(0|d)!=(0|(i=0|ar[n>>2]))){if(0<(0|s))for(b=0;hb(0|r,0|e,0|i),(0|(b=b+1|0))!=(0|s);)r=r+d|0,e=e+i|0}else hb(0|r,0|e,0|br(s,d));break;case 2:if(0|ar[e+36>>2]&&sr(29778,29758,151,26426),e=0|Fo(e,0,n),Vu(v,0|br(0|ar[a>>2],0|ar[o>>2]),0),r=(0|tr[v+11>>0])<0?0|ar[v>>2]:v,d=0|ar[o>>2],s=0|ar[a>>2],(0|d)!=(0|(i=0|ar[n>>2]))){if(0<(0|s))for(b=0;hb(0|r,0|e,0|i),(0|(b=b+1|0))!=(0|s);)r=r+d|0,e=e+i|0}else hb(0|r,0|e,0|br(s,d))}!function(A,e,r){e|=0,r|=0;var i,f,n,t,o=0;ur=(i=ur)+16|0,f=i,A=0|ar[(A=A|0)>>2],e=0|tA(0|e),o=0|tr[r+11>>0],o=(t=o<<24>>24<0)?0|ar[r+4>>2]:255&o,n=0|yc(o+4|0),ar[n>>2]=o,hb(4+n|0,0|(t?0|ar[r>>2]:r),0|o),ar[f>>2]=n,r=0|cA(1408,0|f),aA(0|A,0|e,0|r),iA(0|r),iA(0|e),ur=i}(l,29840,v),0|(e=0|ar[c>>2])&&(0|(b=0|ar[e+4>>2])&&du(b),vu(e)),ar[A>>2]=ar[l>>2],((ar[l>>2]=0)|tr[v+11>>0])<0&&vu(0|ar[v>>2])}v=0|ar[l>>2],iA(0|v),ur=u},function(A,e,r,i){A|=0,e|=0,i|=0;var f,n,t=0,o=0,a=0,c=0,l=0,u=0,b=0;if(f=(r|=0)+5|0,n=1<<r,31!=(0|r)){a=0;do{for(c=a<<r,l=0|br(a,i),o=t=0;b=(o=(2048+(or[e+(t+c<<1)>>1]<<f)>>12)+o|0)+(0|cr[(u=A+(t+l)|0)>>0])|0,tr[u>>0]=(0|b)<0?0:255&((0|b)<255?b:255),(0|(t=t+1|0))<(0|n););a=a+1|0}while((0|a)<(0|n))}},function(A,e,r,i){A|=0,e|=0,i|=0;var f,n,t=0,o=0,a=0,c=0,l=0;if(f=(r|=0)+5|0,n=1<<r,31!=(0|r)){a=0;do{for(o=t=0;o=(2048+(or[e+((t<<r)+a<<1)>>1]<<f)>>12)+o|0,c=A+((0|br(t,i))+a)|0,l=o+(0|cr[c>>0])|0,tr[c>>0]=(0|l)<0?0:255&((0|l)<255?l:255),(0|(t=t+1|0))<(0|n););a=a+1|0}while((0|a)<(0|n))}},function(A,e,r,i){sr(44456,35137,68,35179)},function(A,e,r,i){A|=0,e|=0,r|=0;var f,n,t,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0;for(ur=(t=ur)+32|0,f=t,a=(n=20-(i|=0)|0)-1|0,o=0;c=0|or[e+(o<<1)>>1],s=(74*(l=0|or[e+(o+4<<1)>>1])|0)+(29*c|0)+(84*(u=0|or[e+(o+8<<1)>>1])|0)+(55*(b=0|or[e+(o+12<<1)>>1])|0)+64>>7,or[f+(o<<1)>>1]=(0|s)<-32768?-32768:65535&((0|s)<32767?s:32767),s=(0|br(b,-84))+((0|br(u,-29))+((74*l|0)+(55*c|0)))+64>>7,or[f+8+(o<<1)>>1]=(0|s)<-32768?-32768:65535&((0|s)<32767?s:32767),s=(74*b|0)+((0|br(u,-74))+(74*c|0))+64>>7,or[f+16+(o<<1)>>1]=(0|s)<-32768?-32768:65535&((0|s)<32767?s:32767),c=(0|br(b,-29))+((55*u|0)+((0|br(l,-74))+(84*c|0)))+64>>7,or[f+24+(o<<1)>>1]=(0|c)<-32768?-32768:65535&((0|c)<32767?c:32767),4!=(0|(o=o+1|0)););for(c=1<<a,a=(e=1<<i)+65535|0,o=0;s=0|br(o,r),b=0|or[f+(o<<3)>>1],k=(74*(u=0|or[f+(o<<3)+2>>1])|0)+(29*b|0)+(84*(l=0|or[f+(o<<3)+4>>1])|0)+(55*(i=0|or[f+(o<<3)+6>>1])|0)+c>>n,k=(0|lr[(d=A+(s<<1)|0)>>1])+((0|k)<-32768?-32768:(0|k)<32767?k:32767)|0,or[d>>1]=(0|k)<0?0:65535&((0|k)<(0|e)?k:a),d=(0|br(i,-84))+((0|br(l,-29))+((74*u|0)+(55*b|0)))+c>>n,d=(0|lr[(k=A+(s+1<<1)|0)>>1])+((0|d)<-32768?-32768:(0|d)<32767?d:32767)|0,or[k>>1]=(0|d)<0?0:65535&((0|d)<(0|e)?d:a),k=(74*i|0)+((0|br(l,-74))+(74*b|0))+c>>n,k=(0|lr[(d=A+(s+2<<1)|0)>>1])+((0|k)<-32768?-32768:(0|k)<32767?k:32767)|0,or[d>>1]=(0|k)<0?0:65535&((0|k)<(0|e)?k:a),b=(0|br(i,-29))+((55*l|0)+((0|br(u,-74))+(84*b|0)))+c>>n,b=(0|lr[(s=A+(s+3<<1)|0)>>1])+((0|b)<-32768?-32768:(0|b)<32767?b:32767)|0,or[s>>1]=(0|b)<0?0:65535&((0|b)<(0|e)?b:a),4!=(0|(o=o+1|0)););ur=t},function(A,e,r,i){zo(A|=0,r|=0,4,e|=0,i|=0)},function(A,e,r,i){zo(A|=0,r|=0,8,e|=0,i|=0)},function(A,e,r,i){zo(A|=0,r|=0,16,e|=0,i|=0)},function(A,e,r,i){zo(A|=0,r|=0,32,e|=0,i|=0)},function(A,e,r,i){A|=0,e|=0;var f,n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0;for(ur=(o=ur)+32|0,t=o,c=(r|=0)+-1|0,f=(a=1<<(i|=0))+65535|0,n=0-a|0,i=0;l=0|or[e+(i<<1)>>1],d=(74*(u=0|or[e+(i+4<<1)>>1])|0)+(29*l|0)+(84*(b=0|or[e+(i+8<<1)>>1])|0)+(55*(s=0|or[e+(i+12<<1)>>1])|0)+64>>7,or[t+(i<<1)>>1]=(0|d)<(0|n)?n:(0|d)<(0|a)?d:f,d=(0|br(s,-84))+((0|br(b,-29))+((74*u|0)+(55*l|0)))+64>>7,or[t+8+(i<<1)>>1]=(0|d)<(0|n)?n:(0|d)<(0|a)?d:f,d=(74*s|0)+((0|br(b,-74))+(74*l|0))+64>>7,or[t+16+(i<<1)>>1]=(0|d)<(0|n)?n:(0|d)<(0|a)?d:f,l=(0|br(s,-29))+((55*b|0)+((0|br(u,-74))+(84*l|0)))+64>>7,or[t+24+(i<<1)>>1]=(0|l)<(0|n)?n:(0|l)<(0|a)?l:f,4!=(0|(i=i+1|0)););for(a=1<<c,i=0;d=i<<2,s=0|or[t+(i<<3)>>1],c=74*(b=0|or[t+(i<<3)+2>>1])|0,u=0|or[t+(i<<3)+4>>1],l=0|or[t+(i<<3)+6>>1],ar[A+(d<<2)>>2]=(55*l|0)+((84*u|0)+(c+(29*s|0)))+a>>r,c=(0|br(l,-84))+((0|br(u,-29))+(c+(55*s|0)))+a>>r,ar[A+((1|d)<<2)>>2]=c,c=(74*l|0)+((0|br(u,-74))+(74*s|0))+a>>r,ar[A+((2|d)<<2)>>2]=c,s=(0|br(l,-29))+((55*u|0)+((0|br(b,-74))+(84*s|0)))+a>>r,ar[A+((3|d)<<2)>>2]=s,4!=(0|(i=i+1|0)););ur=o},function(A,e,r,i){So(A|=0,4,e|=0,r|=0,i|=0)},function(A,e,r,i){So(A|=0,8,e|=0,r|=0,i|=0)},function(A,e,r,i){So(A|=0,16,e|=0,r|=0,i|=0)},function(A,e,r,i){So(A|=0,32,e|=0,r|=0,i|=0)},Db,Db,Db,Db,Db,Db,Db,Db],os=[Jb,function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a=0,c=0,l=0,u=0,b=0;if(ur=(o=ur)+64|0,t=o+36|0,n=o+48|0,u=o,1==(0|ar[(r|=0)>>2])&&3==(0|ar[r+4>>2])&&8==(0|ar[r+12>>2]))return ar[t>>2]=0,ar[(b=4+t|0)>>2]=0,a=(ar[8+t>>2]=0)==(0|tr[(f=r+8|0)>>0])&&0==(0|tr[i+8>>0])?.25:0,ar[u>>2]=1,ar[u+4>>2]=11,tr[u+8>>0]=1,tr[(e=u+9|0)>>0]=0|tr[n>>0],tr[e+1>>0]=0|tr[1+n>>0],tr[e+2>>0]=0|tr[2+n>>0],ar[u+12>>2]=8,ar[u+16>>2]=0,ar[(e=u+20|0)>>2]=0,gA[u+24>>2]=.10000000149011612,gA[u+28>>2]=0,gA[u+32>>2]=a,l=8+t|0,Nl(t,u),0|(e=0|ar[e>>2])&&du(e),0!=(0|tr[f>>0])&&0!=(0|tr[i+8>>0])?c=.10000000149011612:(c=.20000000298023224,a=0),ar[u>>2]=1,ar[u+4>>2]=10,tr[u+8>>0]=0,tr[(f=u+9|0)>>0]=0|tr[n>>0],tr[f+1>>0]=0|tr[1+n>>0],tr[f+2>>0]=0|tr[2+n>>0],ar[u+12>>2]=8,ar[(f=u+16|0)>>2]=0,ar[(r=u+20|0)>>2]=0,gA[u+24>>2]=c,gA[u+28>>2]=0,gA[u+32>>2]=a,(e=0|ar[b>>2])>>>0>=(0|ar[l>>2])>>>0?(Nl(t,u),0|(e=0|ar[r>>2])&&du(e)):(ar[e>>2]=ar[u>>2],ar[e+4>>2]=ar[u+4>>2],ar[e+8>>2]=ar[u+8>>2],ar[e+12>>2]=ar[u+12>>2],ar[e+16>>2]=ar[f>>2],ar[e+20>>2]=ar[r>>2],ar[f>>2]=0,u=u+24|(ar[r>>2]=0),ar[(i=e+24|0)>>2]=ar[u>>2],ar[i+4>>2]=ar[u+4>>2],ar[i+8>>2]=ar[u+8>>2],ar[b>>2]=e+36),ar[A>>2]=ar[t>>2],ar[A+4>>2]=ar[b>>2],ar[A+8>>2]=ar[l>>2],void(ur=o);ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=o},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;if(ur=(b=ur)+32|0,o=b+16|0,a=b+12|0,c=b+8|0,l=b+4|0,u=b,t=0|Eo(0|ar[(r|=0)>>2],6),n=0!=(0|tr[i+8>>0]),(0|Vo(0|ar[r>>2],3))<<24>>24==8&&(0|Vo(0|ar[r>>2],4))<<24>>24==8&&(0|Vo(0|ar[r>>2],5))<<24>>24==8){if(t&&(0|Vo(0|ar[r>>2],6))<<24>>24!=8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=b);f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(i=f+12|0)>>2]=0,ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i+12>>2]=0,ar[i+16>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,Z=f+52|0,ar[(g=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[Z>>2]=0,ar[Z+4>>2]=0,ar[Z+8>>2]=0,ar[Z+12>>2]=0,ar[f+68>>2]=g,g=i,m=(Z=f)+16|0,bu(f),su(f),e=0|ar[m>>2],ar[i>>2]=g,ar[m>>2]=Z,0|e&&ku(e),du(f),h=0|ar[r>>2],yo(i,k=0|ar[h+24>>2],h=0|ar[h+28>>2],1,n?11:10),Bo(i,10,k,h,8),ar[o>>2]=0,ar[a>>2]=0,ar[c>>2]=0,ar[l>>2]=0,w=(ar[u>>2]=0)|Ro(0|ar[r>>2],3,o),v=0|Ro(0|ar[r>>2],4,a),m=0|Ro(0|ar[r>>2],5,c),d=0|Fo(i,10,u),f=t?0|Ro(0|ar[r>>2],6,l):0;A:do{if(0<(0|h)){s=t&n,r=0<(0|k),i=0;e:for(;;){r:do{if(s){if(r)for(e=0;B=w+((0|br(0|ar[o>>2],i))+e)|0,p=e<<2,y=d+((0|br(0|ar[u>>2],i))+p)|0,tr[y>>0]=0|tr[B>>0],y=v+((0|br(0|ar[a>>2],i))+e)|0,B=d+((1|p)+(0|br(0|ar[u>>2],i)))|0,tr[B>>0]=0|tr[y>>0],B=m+((0|br(0|ar[c>>2],i))+e)|0,y=d+((2|p)+(0|br(0|ar[u>>2],i)))|0,tr[y>>0]=0|tr[B>>0],y=f+((0|br(0|ar[l>>2],i))+e)|0,p=d+((3|p)+(0|br(0|ar[u>>2],i)))|0,tr[p>>0]=0|tr[y>>0],(0|(e=e+1|0))!=(0|k););}else{if(!n){if(!r)break;for(e=0;;)if(y=w+((0|br(0|ar[o>>2],i))+e)|0,B=3*e|0,p=d+((0|br(0|ar[u>>2],i))+B)|0,tr[p>>0]=0|tr[y>>0],p=v+((0|br(0|ar[a>>2],i))+e)|0,y=d+(B+1+(0|br(0|ar[u>>2],i)))|0,tr[y>>0]=0|tr[p>>0],y=m+((0|br(0|ar[c>>2],i))+e)|0,B=d+(B+2+(0|br(0|ar[u>>2],i)))|0,tr[B>>0]=0|tr[y>>0],(0|(e=e+1|0))==(0|k))break r}if(t)break e;if(r)for(e=0;p=w+((0|br(0|ar[o>>2],i))+e)|0,B=e<<2,y=d+((0|br(0|ar[u>>2],i))+B)|0,tr[y>>0]=0|tr[p>>0],y=v+((0|br(0|ar[a>>2],i))+e)|0,p=d+((1|B)+(0|br(0|ar[u>>2],i)))|0,tr[p>>0]=0|tr[y>>0],p=m+((0|br(0|ar[c>>2],i))+e)|0,y=d+((2|B)+(0|br(0|ar[u>>2],i)))|0,tr[y>>0]=0|tr[p>>0],B=d+((3|B)+(0|br(0|ar[u>>2],i)))|0,tr[B>>0]=-1,(0|(e=e+1|0))!=(0|k););}}while(0);if((0|h)<=(0|(i=i+1|0)))break A}sr(32223,32248,281,32272)}}while(0);return ar[A>>2]=g,ar[A+4>>2]=Z,void(ur=b)}ar[A>>2]=0,ar[A+4>>2]=0,ur=b},function(A,e,r,i,f){var n,t;if(A|=0,e|=0,i|=0,f|=0,ur=(t=ur)+48|0,n=t+36|0,f=t,0==(0|ar[(r|=0)>>2])&&1==(0|ar[r+4>>2])&&8==(0|ar[r+12>>2])&&0==(0|tr[r+8>>0])){if(0|(e=0|ar[r+16>>2])){switch(0|or[e+8>>1]){case 0:case 8:case 11:case 14:return ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,void(ur=t)}if(!(0|tr[e+10>>0]))return ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,void(ur=t)}return ar[n>>2]=0,ar[(i=4+n|0)>>2]=0,ar[8+n>>2]=0,ar[f>>2]=1,ar[f+4>>2]=10,tr[f+8>>0]=0,ar[f+12>>2]=8,ar[f+16>>2]=0,ar[(e=f+20|0)>>2]=0,gA[f+24>>2]=.5,gA[f+28>>2]=0,gA[f+32>>2]=0,Nl(n,f),0|(e=0|ar[e>>2])&&du(e),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[i>>2],ar[A+8>>2]=ar[8+n>>2],void(ur=t)}ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0;if(ur=(c=ur)+64|0,f=c+32|0,n=c+12|0,t=c+8|0,o=c+4|0,a=c,(0|Vo(0|ar[(r|=0)>>2],0))<<24>>24==8&&(0|Vo(0|ar[r>>2],1))<<24>>24==8&&(0|Vo(0|ar[r>>2],2))<<24>>24==8){if(i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(l=i+12|0)>>2]=0,ar[l+4>>2]=0,ar[l+8>>2]=0,ar[l+12>>2]=0,ar[l+16>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,p=i+52|0,ar[(Z=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[p>>2]=0,ar[p+4>>2]=0,ar[p+8>>2]=0,ar[p+12>>2]=0,ar[i+68>>2]=Z,Z=l,g=(p=i)+16|0,bu(i),su(i),e=0|ar[g>>2],ar[l>>2]=Z,ar[g>>2]=p,0|e&&ku(e),du(i),v=0|ar[r>>2],yo(l,w=0|ar[v+24>>2],v=0|ar[v+28>>2],1,10),Bo(l,10,w,v,8),m=0|ar[r>>2],e=0|ar[m+40>>2],(g=0==(0|(m=0|ar[m+44>>2])))||bu(m),Ze(f),0|e&&(pe(n,0|or[e+8>>1],0|or[e+4>>1]),ar[f>>2]=ar[n>>2],ar[f+4>>2]=ar[4+n>>2],ar[f+8>>2]=ar[8+n>>2],ar[f+12>>2]=ar[12+n>>2],ar[f+16>>2]=ar[16+n>>2]),d=0|ef(256*gA[f+4>>2]),k=0|ef(256*gA[f+12>>2]),h=0|ef(256*gA[f+8>>2]),u=0|ef(256*gA[f+16>>2]),ar[n>>2]=0,ar[t>>2]=0,ar[o>>2]=0,b=(ar[a>>2]=0)|Ro(0|ar[r>>2],0,n),s=0|Ro(0|ar[r>>2],1,t),r=0|Ro(0|ar[r>>2],2,o),f=0|Fo(l,10,a),0<(0|v)&0<(0|w)){i=0;do{for(l=(0|i)/2|0,e=0;B=b+((0|br(0|ar[n>>2],i))+e)|0,B=0|cr[B>>0],W=(0|e)/2|0,E=s+((0|br(0|ar[t>>2],l))+W)|0,E=(0|cr[E>>0])-128|0,W=r+((0|br(0|ar[o>>2],l))+W)|0,W=(0|cr[W>>0])-128|0,I=(128+(0|br(W,d))>>8)+B|0,y=3*e|0,X=f+((0|br(0|ar[a>>2],i))+y)|0,tr[X>>0]=(0|I)<0?0:255<(0|I)?-1:255&I,W=(128+(0|br(E,h))+(0|br(W,k))>>8)+B|0,X=f+(y+1+(0|br(0|ar[a>>2],i)))|0,tr[X>>0]=(0|W)<0?0:255<(0|W)?-1:255&W,B=(128+(0|br(E,u))>>8)+B|0,y=f+(y+2+(0|br(0|ar[a>>2],i)))|0,tr[y>>0]=(0|B)<0?0:255<(0|B)?-1:255&B,(0|(e=e+1|0))!=(0|w););i=i+1|0}while((0|i)!=(0|v))}return(ar[A>>2]=Z,ar[A+4>>2]=p,g)?void(ur=c):(du(m),void(ur=c))}ar[A>>2]=0,ar[A+4>>2]=0,ur=c},function(A,e,r,i,f){var n,t;if(A|=0,e|=0,i|=0,f|=0,ur=(t=ur)+48|0,n=t+36|0,f=t,0==(0|ar[(r|=0)>>2])&&1==(0|ar[r+4>>2])&&8==(0|ar[r+12>>2])){if(0|(e=0|ar[r+16>>2])){switch(0|or[e+8>>1]){case 0:case 8:case 11:case 14:return ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,void(ur=t)}if(!(0|tr[e+10>>0]))return ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,void(ur=t)}return ar[n>>2]=0,ar[(i=4+n|0)>>2]=0,ar[8+n>>2]=0,ar[f>>2]=1,ar[f+4>>2]=11,tr[f+8>>0]=1,ar[f+12>>2]=8,ar[f+16>>2]=0,ar[(e=f+20|0)>>2]=0,gA[f+24>>2]=.5,gA[f+28>>2]=0,gA[f+32>>2]=0,Nl(n,f),0|(e=0|ar[e>>2])&&du(e),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[i>>2],ar[A+8>>2]=ar[8+n>>2],void(ur=t)}ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0;if(ur=(l=ur)+64|0,f=l+36|0,t=l+16|0,o=l+12|0,a=l+8|0,c=l+4|0,n=l,(0|Vo(0|ar[(r|=0)>>2],0))<<24>>24==8&&(0|Vo(0|ar[r>>2],1))<<24>>24==8&&(0|Vo(0|ar[r>>2],2))<<24>>24==8){if(i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(u=i+12|0)>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u+12>>2]=0,ar[u+16>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,X=i+52|0,ar[(E=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[X>>2]=0,ar[X+4>>2]=0,ar[X+8>>2]=0,ar[X+12>>2]=0,ar[i+68>>2]=E,E=u,B=(X=i)+16|0,bu(i),su(i),e=0|ar[B>>2],ar[u>>2]=E,ar[B>>2]=X,0|e&&ku(e),du(i),p=0|ar[r>>2],yo(u,Z=0|ar[p+24>>2],p=0|ar[p+28>>2],1,11),Bo(u,10,Z,p,8),y=0|ar[r>>2],e=0|ar[y+40>>2],(B=0==(0|(y=0|ar[y+44>>2])))||bu(y),Ze(f),0|e&&(pe(t,0|or[e+8>>1],0|or[e+4>>1]),ar[f>>2]=ar[t>>2],ar[f+4>>2]=ar[4+t>>2],ar[f+8>>2]=ar[8+t>>2],ar[f+12>>2]=ar[12+t>>2],ar[f+16>>2]=ar[16+t>>2]),v=0|ef(256*gA[f+4>>2]),m=0|ef(256*gA[f+12>>2]),g=0|ef(256*gA[f+8>>2]),s=0|ef(256*gA[f+16>>2]),d=0|Eo(0|ar[r>>2],6),ar[t>>2]=0,ar[o>>2]=0,ar[a>>2]=0,ar[c>>2]=0,k=(ar[n>>2]=0)|Ro(0|ar[r>>2],0,t),h=0|Ro(0|ar[r>>2],1,o),w=0|Ro(0|ar[r>>2],2,a),b=d?0|Ro(0|ar[r>>2],6,c):0,f=0|Fo(u,10,n),0<(0|p)){u=0<(0|Z),i=0;do{if(u)if(r=(0|i)/2|0,d)for(e=0;C=k+((0|br(0|ar[t>>2],i))+e)|0,C=0|cr[C>>0],V=(0|e)/2|0,W=h+((0|br(0|ar[o>>2],r))+V)|0,W=(0|cr[W>>0])-128|0,V=w+((0|br(0|ar[a>>2],r))+V)|0,V=(0|cr[V>>0])-128|0,F=(128+(0|br(V,v))>>8)+C|0,I=e<<2,G=f+((0|br(0|ar[n>>2],i))+I)|0,tr[G>>0]=(0|F)<0?0:255<(0|F)?-1:255&F,V=(128+(0|br(W,g))+(0|br(V,m))>>8)+C|0,G=f+((1|I)+(0|br(0|ar[n>>2],i)))|0,tr[G>>0]=(0|V)<0?0:255<(0|V)?-1:255&V,C=(128+(0|br(W,s))>>8)+C|0,W=f+((2|I)+(0|br(0|ar[n>>2],i)))|0,tr[W>>0]=(0|C)<0?0:255<(0|C)?-1:255&C,W=0|br(0|ar[n>>2],i),C=b+((0|br(0|ar[c>>2],i))+e)|0,tr[f+((3|I)+W)>>0]=0|tr[C>>0],(0|(e=e+1|0))!=(0|Z););else for(e=0;G=k+((0|br(0|ar[t>>2],i))+e)|0,G=0|cr[G>>0],I=(0|e)/2|0,V=h+((0|br(0|ar[o>>2],r))+I)|0,V=(0|cr[V>>0])-128|0,I=w+((0|br(0|ar[a>>2],r))+I)|0,I=(0|cr[I>>0])-128|0,W=(128+(0|br(I,v))>>8)+G|0,F=e<<2,C=f+((0|br(0|ar[n>>2],i))+F)|0,tr[C>>0]=(0|W)<0?0:255<(0|W)?-1:255&W,I=(128+(0|br(V,g))+(0|br(I,m))>>8)+G|0,C=f+((1|F)+(0|br(0|ar[n>>2],i)))|0,tr[C>>0]=(0|I)<0?0:255<(0|I)?-1:255&I,G=(128+(0|br(V,s))>>8)+G|0,V=f+((2|F)+(0|br(0|ar[n>>2],i)))|0,tr[V>>0]=(0|G)<0?0:255<(0|G)?-1:255&G,F=f+((3|F)+(0|br(0|ar[n>>2],i)))|0,tr[F>>0]=-1,(0|(e=e+1|0))!=(0|Z););i=i+1|0}while((0|i)!=(0|p))}return(ar[A>>2]=E,ar[A+4>>2]=X,B)?void(ur=l):(du(y),void(ur=l))}ar[A>>2]=0,ar[A+4>>2]=0,ur=l},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0,b=0;if(ur=(t=ur)+64|0,n=t+36|0,c=t+48|0,u=t,1==(0|ar[(r|=0)>>2])&&3==(0|ar[r+4>>2])&&8!=(0|(o=0|ar[(a=r+12|0)>>2])))return ar[n>>2]=0,ar[(b=4+n|0)>>2]=0,(ar[8+n>>2]=0)|tr[r+8>>0]?(l=8+n|0,e=o,r=f=o=0):(ar[u>>2]=1,ar[u+4>>2]=12,tr[u+8>>0]=0,tr[(e=u+9|0)>>0]=0|tr[c>>0],tr[e+1>>0]=0|tr[c+1>>0],tr[e+2>>0]=0|tr[c+2>>0],ar[u+12>>2]=o,ar[u+16>>2]=0,ar[(e=u+20|0)>>2]=0,gA[u+24>>2]=.5,gA[u+28>>2]=0,i=8+n|(gA[u+32>>2]=0),Nl(n,u),0|(e=0|ar[e>>2])&&du(e),r=0|ar[b>>2],l=i,e=0|ar[a>>2],o=r,f=0|ar[i>>2]),ar[u>>2]=1,ar[u+4>>2]=13,tr[u+8>>0]=1,tr[(i=u+9|0)>>0]=0|tr[c>>0],tr[i+1>>0]=0|tr[c+1>>0],tr[i+2>>0]=0|tr[c+2>>0],ar[u+12>>2]=e,ar[(e=u+16|0)>>2]=0,ar[(i=u+20|0)>>2]=0,gA[u+24>>2]=.5,gA[u+28>>2]=0,f>>>(gA[u+32>>2]=0)<=o>>>0?(Nl(n,u),0|(e=0|ar[i>>2])&&du(e)):(ar[r>>2]=ar[u>>2],ar[r+4>>2]=ar[u+4>>2],ar[r+8>>2]=ar[u+8>>2],ar[r+12>>2]=ar[u+12>>2],ar[o+16>>2]=ar[e>>2],ar[o+20>>2]=ar[i>>2],ar[e>>2]=0,u=u+24|(ar[i>>2]=0),ar[(c=o+24|0)>>2]=ar[u>>2],ar[c+4>>2]=ar[u+4>>2],ar[c+8>>2]=ar[u+8>>2],ar[b>>2]=o+36),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[b>>2],ar[A+8>>2]=ar[l>>2],ar[l>>2]=0,void(ur=t);ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;if(ur=(l=ur)+32|0,n=l+16|0,t=l+12|0,o=l+8|0,a=l+4|0,c=l,(0|Vo(0|ar[(r|=0)>>2],3))<<24>>24!=8&&(0|Vo(0|ar[r>>2],4))<<24>>24!=8&&(0|Vo(0|ar[r>>2],5))<<24>>24!=8){v=0|Eo(0|ar[r>>2],6);do{if(v){if((0|Vo(0|ar[r>>2],6))<<24>>24==8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=l);if((0|(g=0|Xo(0|ar[r>>2],6)))==(0|Xo(0|ar[r>>2],4))&&(0|(g=0|Wo(0|ar[r>>2],6)))==(0|Wo(0|ar[r>>2],4)))break;return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=l)}}while(0);if(f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(u=f+12|0)>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u+12>>2]=0,ar[u+16>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,g=f+52|0,ar[(m=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[g>>2]=0,ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g+12>>2]=0,ar[f+68>>2]=m,m=u,w=(g=f)+16|0,bu(f),su(f),e=0|ar[w>>2],ar[u>>2]=m,ar[w>>2]=g,0|e&&ku(e),du(f),w=0|ar[r>>2],yo(u,h=0|ar[w+24>>2],w=0|ar[w+28>>2],1,0|tr[i+8>>0]?13:12),Bo(u,10,h,w,255&(0|Vo(0|ar[r>>2],3))),ar[n>>2]=0,ar[t>>2]=0,ar[o>>2]=0,ar[a>>2]=0,s=(ar[c>>2]=0)|Ro(0|ar[r>>2],3,n),d=0|Ro(0|ar[r>>2],4,t),k=0|Ro(0|ar[r>>2],5,o),b=0|Fo(u,10,c),e=v?(u=0|Ro(0|ar[r>>2],6,a),(0|ar[a>>2])/2|0):u=0,ar[n>>2]=(0|ar[n>>2])/2|0,ar[t>>2]=(0|ar[t>>2])/2|0,ar[o>>2]=(0|ar[o>>2])/2|0,ar[a>>2]=e,0<(0|w)){i=0<(0|h),f=0;do{if(v){if(i)for(e=0;E=s+((0|br(0|ar[n>>2],f))+e<<1)|0,E=0|or[E>>1],B=d+((0|br(0|ar[t>>2],f))+e<<1)|0,B=0|or[B>>1],y=k+((0|br(0|ar[o>>2],f))+e<<1)|0,y=0|or[y>>1],Z=u+((0|br(0|ar[a>>2],f))+e<<1)|0,Z=0|or[Z>>1],r=e<<3,p=b+((0|br(0|ar[c>>2],f))+r)|0,tr[p>>0]=(65535&E)>>>8,p=b+((1|r)+(0|br(0|ar[c>>2],f)))|0,tr[p>>0]=E,p=b+((2|r)+(0|br(0|ar[c>>2],f)))|0,tr[p>>0]=(65535&B)>>>8,p=b+((3|r)+(0|br(0|ar[c>>2],f)))|0,tr[p>>0]=B,p=b+((4|r)+(0|br(0|ar[c>>2],f)))|0,tr[p>>0]=(65535&y)>>>8,p=b+((5|r)+(0|br(0|ar[c>>2],f)))|0,tr[p>>0]=y,p=b+((6|r)+(0|br(0|ar[c>>2],f)))|0,tr[p>>0]=(65535&Z)>>>8,r=b+((7|r)+(0|br(0|ar[c>>2],f)))|0,tr[r>>0]=Z,(0|(e=e+1|0))!=(0|h););}else if(i)for(e=0;Z=s+((0|br(0|ar[n>>2],f))+e<<1)|0,Z=0|or[Z>>1],p=d+((0|br(0|ar[t>>2],f))+e<<1)|0,p=0|or[p>>1],B=k+((0|br(0|ar[o>>2],f))+e<<1)|0,B=0|or[B>>1],E=6*e|0,y=b+((0|br(0|ar[c>>2],f))+E)|0,tr[y>>0]=(65535&Z)>>>8,y=b+((1|E)+(0|br(0|ar[c>>2],f)))|0,tr[y>>0]=Z,y=b+(E+2+(0|br(0|ar[c>>2],f)))|0,tr[y>>0]=(65535&p)>>>8,y=b+(E+3+(0|br(0|ar[c>>2],f)))|0,tr[y>>0]=p,y=b+(E+4+(0|br(0|ar[c>>2],f)))|0,tr[y>>0]=(65535&B)>>>8,E=b+(E+5+(0|br(0|ar[c>>2],f)))|0,tr[E>>0]=B,(0|(e=e+1|0))!=(0|h););f=f+1|0}while((0|f)!=(0|w))}return ar[A>>2]=m,ar[A+4>>2]=g,void(ur=l)}ar[A>>2]=0,ar[A+4>>2]=0,ur=l},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0;if(ur=(t=ur)+64|0,n=t+36|0,a=t+48|0,l=t,1==(0|ar[(r|=0)>>2])&&3==(0|ar[r+4>>2])&&8==(0|ar[(o=r+12|0)>>2]))return ar[n>>2]=0,ar[(u=4+n|0)>>2]=0,(ar[8+n>>2]=0)|tr[r+8>>0]?(c=8+n|0,e=8,r=f=o=0):(ar[l>>2]=1,ar[l+4>>2]=12,tr[l+8>>0]=0,tr[(e=l+9|0)>>0]=0|tr[a>>0],tr[e+1>>0]=0|tr[a+1>>0],tr[e+2>>0]=0|tr[a+2>>0],ar[l+12>>2]=8,ar[l+16>>2]=0,ar[(e=l+20|0)>>2]=0,gA[l+24>>2]=.5,gA[l+28>>2]=0,i=8+n|(gA[l+32>>2]=0),Nl(n,l),0|(e=0|ar[e>>2])&&du(e),r=0|ar[u>>2],c=i,e=0|ar[o>>2],o=r,f=0|ar[i>>2]),ar[l>>2]=1,ar[l+4>>2]=13,tr[l+8>>0]=1,tr[(i=l+9|0)>>0]=0|tr[a>>0],tr[i+1>>0]=0|tr[a+1>>0],tr[i+2>>0]=0|tr[a+2>>0],ar[l+12>>2]=e,ar[(e=l+16|0)>>2]=0,ar[(i=l+20|0)>>2]=0,gA[l+24>>2]=.5,gA[l+28>>2]=0,f>>>(gA[l+32>>2]=0)<=o>>>0?(Nl(n,l),0|(e=0|ar[i>>2])&&du(e)):(ar[r>>2]=ar[l>>2],ar[r+4>>2]=ar[l+4>>2],ar[r+8>>2]=ar[l+8>>2],ar[r+12>>2]=ar[l+12>>2],ar[o+16>>2]=ar[e>>2],ar[o+20>>2]=ar[i>>2],ar[e>>2]=0,l=l+24|(ar[i>>2]=0),ar[(a=o+24|0)>>2]=ar[l>>2],ar[a+4>>2]=ar[l+4>>2],ar[a+8>>2]=ar[l+8>>2],ar[u>>2]=o+36),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[u>>2],ar[A+8>>2]=ar[c>>2],ar[c>>2]=0,void(ur=t);ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0;if(ur=(l=ur)+32|0,n=l+16|0,t=l+12|0,o=l+8|0,a=l+4|0,c=l,(0|Vo(0|ar[(r|=0)>>2],3))<<24>>24==8&&(0|Vo(0|ar[r>>2],4))<<24>>24==8&&(0|Vo(0|ar[r>>2],5))<<24>>24==8){if((v=0|Eo(0|ar[r>>2],6))&&(0|Vo(0|ar[r>>2],6))<<24>>24!=8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=l);if(f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(u=f+12|0)>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u+12>>2]=0,ar[u+16>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,g=f+52|0,ar[(m=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[g>>2]=0,ar[g+4>>2]=0,ar[g+8>>2]=0,ar[g+12>>2]=0,ar[f+68>>2]=m,m=u,w=(g=f)+16|0,bu(f),su(f),e=0|ar[w>>2],ar[u>>2]=m,ar[w>>2]=g,0|e&&ku(e),du(f),w=0|ar[r>>2],yo(u,h=0|ar[w+24>>2],w=0|ar[w+28>>2],1,0|tr[i+8>>0]?13:12),Bo(u,10,h,w,255&(0|Vo(0|ar[r>>2],3))),ar[n>>2]=0,ar[t>>2]=0,ar[o>>2]=0,ar[a>>2]=0,s=(ar[c>>2]=0)|Ro(0|ar[r>>2],3,n),d=0|Ro(0|ar[r>>2],4,t),k=0|Ro(0|ar[r>>2],5,o),b=0|Fo(u,10,c),f=v?0|Ro(0|ar[r>>2],6,a):0,0<(0|w)){u=0<(0|h),i=0;do{if(v){if(u)for(e=0;r=e<<3,p=b+((0|br(0|ar[c>>2],i))+r)|0,p=s+(((tr[p>>0]=0)|br(0|ar[n>>2],i))+e)|0,Z=b+((1|r)+(0|br(0|ar[c>>2],i)))|0,tr[Z>>0]=0|tr[p>>0],Z=b+((2|r)+(0|br(0|ar[c>>2],i)))|0,Z=d+(((tr[Z>>0]=0)|br(0|ar[t>>2],i))+e)|0,p=b+((3|r)+(0|br(0|ar[c>>2],i)))|0,tr[p>>0]=0|tr[Z>>0],p=b+((4|r)+(0|br(0|ar[c>>2],i)))|0,p=k+(((tr[p>>0]=0)|br(0|ar[o>>2],i))+e)|0,Z=b+((5|r)+(0|br(0|ar[c>>2],i)))|0,tr[Z>>0]=0|tr[p>>0],Z=b+((6|r)+(0|br(0|ar[c>>2],i)))|0,Z=f+(((tr[Z>>0]=0)|br(0|ar[a>>2],i))+e)|0,r=b+((7|r)+(0|br(0|ar[c>>2],i)))|0,tr[r>>0]=0|tr[Z>>0],(0|(e=e+1|0))!=(0|h););}else if(u)for(e=0;p=e<<3,Z=b+((0|br(0|ar[c>>2],i))+p)|0,Z=s+(((tr[Z>>0]=0)|br(0|ar[n>>2],i))+e)|0,r=b+((1|p)+(0|br(0|ar[c>>2],i)))|0,tr[r>>0]=0|tr[Z>>0],r=b+((2|p)+(0|br(0|ar[c>>2],i)))|0,r=d+(((tr[r>>0]=0)|br(0|ar[t>>2],i))+e)|0,Z=b+((3|p)+(0|br(0|ar[c>>2],i)))|0,tr[Z>>0]=0|tr[r>>0],Z=b+((4|p)+(0|br(0|ar[c>>2],i)))|0,Z=k+(((tr[Z>>0]=0)|br(0|ar[o>>2],i))+e)|0,p=b+((5|p)+(0|br(0|ar[c>>2],i)))|0,tr[p>>0]=0|tr[Z>>0],(0|(e=e+1|0))!=(0|h););i=i+1|0}while((0|i)!=(0|w))}return ar[A>>2]=m,ar[A+4>>2]=g,void(ur=l)}ar[A>>2]=0,ar[A+4>>2]=0,ur=l},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t=0,o=0;if(ur=(n=ur)+48|0,f=n+36|0,e=n,1==(0|ar[(r|=0)>>2])&&12==(-2&(t=0|ar[r+4>>2])|0)&&8!=(0|(o=0|ar[r+12>>2])))return ar[f>>2]=0,ar[(i=f+4|0)>>2]=0,ar[f+8>>2]=0,ar[e>>2]=1,ar[e+4>>2]=3,tr[e+8>>0]=15==(2|t)&1,ar[e+12>>2]=o,ar[e+16>>2]=0,ar[(o=e+20|0)>>2]=0,gA[e+24>>2]=.20000000298023224,gA[e+28>>2]=0,gA[e+32>>2]=0,Nl(f,e),0|(e=0|ar[o>>2])&&du(e),ar[A>>2]=ar[f>>2],ar[A+4>>2]=ar[i>>2],ar[A+8>>2]=ar[f+8>>2],void(ur=n);ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=n},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d,k,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0;if(ur=(k=ur)+32|0,d=k+16|0,h=k+12|0,w=k+8|0,v=k+4|0,m=k,s=15==(2|ar[36+(0|ar[(r|=0)>>2])>>2]),i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(f=i+12|0)>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f+12>>2]=0,ar[f+16>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,e=i+52|0,ar[(y=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[i+68>>2]=y,ar[A>>2]=f,y=(ar[A+4>>2]=i)+16|0,bu(i),su(i),e=0|ar[y>>2],ar[f>>2]=f,ar[y>>2]=i,0|e&&ku(e),du(i),p=0|ar[r>>2],yo(f,b=0|ar[p+24>>2],p=0|ar[p+28>>2],1,3),Bo(f,3,b,p,255&(0|Vo(0|ar[r>>2],10))),Bo(f,4,b,p,255&(0|Vo(0|ar[r>>2],10))),Bo(f,5,b,p,255&(0|Vo(0|ar[r>>2],10))),s&&Bo(f,6,b,p,255&(0|Vo(0|ar[r>>2],10))),ar[d>>2]=0,y=s?8:6,ar[h>>2]=0,ar[w>>2]=0,ar[v>>2]=0,a=(ar[m>>2]=0)|Ro(0|ar[r>>2],10,d),c=0|Fo(f,3,h),l=0|Fo(f,4,w),u=0|Fo(f,5,v),Z=s?(g=0|Fo(f,6,m),(0|ar[m>>2])/2|0):g=0,o=(0|ar[h>>2])/2|0,ar[h>>2]=o,t=(0|ar[w>>2])/2|0,ar[w>>2]=t,n=(0|ar[v>>2])/2|0,ar[v>>2]=n,ar[m>>2]=Z,(0|p)<=0)ur=k;else{A=0<(0|b),f=0;do{A:do{if(A){if(r=0|br(0|ar[d>>2],f),h=0|br(o,f),w=0|br(t,f),v=0|br(n,f),!s)for(e=0;;)if(B=r+(0|br(e,y))|0,i=65535&((0|cr[a+(B+2)>>0])<<8|0|cr[a+(B+3)>>0]),m=65535&((0|cr[a+(B+4)>>0])<<8|0|cr[a+(B+5)>>0]),or[c+(h+e<<1)>>1]=(0|cr[a+B>>0])<<8|0|cr[a+(B+1)>>0],or[l+(w+e<<1)>>1]=i,or[u+(v+e<<1)>>1]=m,(0|(e=e+1|0))==(0|b))break A;for(i=0|br(Z,f),e=0;E=r+(0|br(e,y))|0,m=65535&((0|cr[a+(E+2)>>0])<<8|0|cr[a+(E+3)>>0]),B=65535&((0|cr[a+(E+4)>>0])<<8|0|cr[a+(E+5)>>0]),or[c+(h+e<<1)>>1]=(0|cr[a+E>>0])<<8|0|cr[a+(E+1)>>0],or[l+(w+e<<1)>>1]=m,or[u+(v+e<<1)>>1]=B,B=r+(e<<3)|0,or[g+(i+e<<1)>>1]=(0|cr[a+(B+6)>>0])<<8|0|cr[a+(B+7)>>0],(0|(e=e+1|0))!=(0|b););}}while(0);f=f+1|0}while((0|f)!=(0|p));ur=k}},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0,l=0;if(ur=(t=ur)+64|0,n=t+36|0,i=t+48|0,c=t,1==(0|ar[(r|=0)>>2])&&12==(-4&(o=0|ar[(a=r+4|0)>>2])|0)){switch(ar[n>>2]=0,ar[(l=4+n|0)>>2]=0,(ar[8+n>>2]=0)|o){case 12:case 14:e=0|ar[r+12>>2],ar[c>>2]=1,ar[c+4>>2]=14==(0|o)?12:14,tr[c+8>>0]=0,tr[(o=c+9|0)>>0]=0|tr[i>>0],tr[o+1>>0]=0|tr[i+1>>0],tr[o+2>>0]=0|tr[i+2>>0],ar[c+12>>2]=e,ar[c+16>>2]=0,ar[(e=c+20|0)>>2]=0,gA[c+24>>2]=.10000000149011612,gA[c+28>>2]=0,gA[c+32>>2]=0,Nl(n,c),0|(e=0|ar[e>>2])&&du(e),e=0|ar[a>>2];break;default:e=o}switch(0|e){case 13:case 15:f=0|ar[r+12>>2],ar[c>>2]=1,ar[c+4>>2]=15==(0|e)?13:15,tr[c+8>>0]=1,tr[(o=c+9|0)>>0]=0|tr[i>>0],tr[o+1>>0]=0|tr[i+1>>0],tr[o+2>>0]=0|tr[i+2>>0],ar[c+12>>2]=f,ar[(i=c+16|0)>>2]=0,ar[(f=c+20|0)>>2]=0,gA[c+24>>2]=.10000000149011612,gA[c+28>>2]=0,(o=(gA[c+32>>2]=0)|ar[l>>2])>>>0>=(0|ar[(e=8+n|0)>>2])>>>0?(Nl(n,c),0|(i=0|ar[f>>2])&&du(i)):(ar[o>>2]=ar[c>>2],ar[o+4>>2]=ar[c+4>>2],ar[o+8>>2]=ar[c+8>>2],ar[o+12>>2]=ar[c+12>>2],ar[o+16>>2]=ar[i>>2],ar[o+20>>2]=ar[f>>2],ar[i>>2]=0,c=c+24|(ar[f>>2]=0),ar[(r=o+24|0)>>2]=ar[c>>2],ar[r+4>>2]=ar[c+4>>2],ar[r+8>>2]=ar[c+8>>2],ar[l>>2]=o+36);break;default:e=8+n|0}return ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[l>>2],ar[A+8>>2]=ar[e>>2],ar[e>>2]=0,void(ur=t)}ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a=0,c=0,l=0,u=0,b=0,s=0,d=0;switch(ur=(o=ur)+16|0,n=o+4|0,t=o,a=0|hu(80),ar[a+4>>2]=0,ar[a+8>>2]=0,ar[a>>2]=6208,ar[(i=a+12|0)>>2]=0,ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i+12>>2]=0,ar[i+16>>2]=0,ar[a+32>>2]=32215,ar[a+36>>2]=0,ar[a+40>>2]=0,ar[a+44>>2]=99,ar[a+48>>2]=99,u=a+52|0,ar[(l=a+72|0)>>2]=0,ar[a+76>>2]=0,ar[u>>2]=0,ar[u+4>>2]=0,ar[u+8>>2]=0,ar[u+12>>2]=0,ar[a+68>>2]=l,l=i,c=(u=a)+16|0,bu(a),su(a),e=0|ar[c>>2],ar[i>>2]=l,ar[c>>2]=u,0|e&&ku(e),du(a),e=0|ar[r>>2],f=0|ar[e+24>>2],c=0|ar[e+28>>2],0|ar[e+36>>2]){case 14:yo(i,f,c,1,12),e=i;break;case 12:yo(i,f,c,1,14),e=i;break;case 15:yo(i,f,c,1,13),e=i;break;case 13:yo(i,f,c,1,15),e=i;break;default:return ar[A>>2]=0,ar[A+4>>2]=0,du(a),void(ur=o)}if(Bo(e,10,f,c,255&(0|Vo(0|ar[r>>2],10))),ar[n>>2]=0,r=(ar[t>>2]=0)|Ro(0|ar[r>>2],10,n),f=0|Fo(e,10,t),0<(0|c)&0<(0|(a=(0|(i=0|ar[t>>2]))<(0|(a=0|ar[n>>2]))?i:a))){i=0;do{for(e=0;d=r+((b=1|e)+(0|br(0|ar[n>>2],i)))|0,s=f+((0|br(0|ar[t>>2],i))+e)|0,tr[s>>0]=0|tr[d>>0],s=r+((0|br(0|ar[n>>2],i))+e)|0,b=f+(b+(0|br(0|ar[t>>2],i)))|0,tr[b>>0]=0|tr[s>>0],(0|(e=e+2|0))<(0|a););i=i+1|0}while((0|i)!=(0|c))}ar[A>>2]=l,ar[A+4>>2]=u,ur=o},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t=0;if(ur=(n=ur)+48|0,f=n+36|0,e=n,2==(0|ar[(r|=0)>>2])&&0==(0|ar[r+4>>2]))return ar[f>>2]=0,ar[(i=f+4|0)>>2]=0,t=(ar[f+8>>2]=0)|tr[r+8>>0],r=0|ar[r+12>>2],ar[e>>2]=0,ar[e+4>>2]=1,tr[e+8>>0]=t,ar[e+12>>2]=r,ar[e+16>>2]=0,ar[(r=e+20|0)>>2]=0,gA[e+24>>2]=.10000000149011612,gA[e+28>>2]=0,gA[e+32>>2]=0,Nl(f,e),0|(e=0|ar[r>>2])&&du(e),ar[A>>2]=ar[f>>2],ar[A+4>>2]=ar[i>>2],ar[A+8>>2]=ar[f+8>>2],void(ur=n);ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=n},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0;if(ur=(s=ur)+16|0,u=s+12|0,b=s+8|0,a=s+4|0,c=s,i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(l=i+12|0)>>2]=0,ar[4+l>>2]=0,ar[8+l>>2]=0,ar[12+l>>2]=0,ar[16+l>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,e=i+52|0,ar[(B=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[i+68>>2]=B,ar[A>>2]=l,B=(ar[A+4>>2]=i)+16|0,bu(i),su(i),e=0|ar[B>>2],ar[l>>2]=l,ar[B>>2]=i,0|e&&ku(e),du(i),B=0|ar[r>>2],yo(l,o=0|ar[B+24>>2],B=0|ar[B+28>>2],0,1),n=(1+o|0)/2|0,p=(B+1|0)/2|0,Bo(l,0,o,B,i=255&(e=0|Vo(0|ar[r>>2],0))),Bo(l,1,n,p,i),Bo(l,2,n,p,i),(t=0|Eo(0|ar[r>>2],6))?Bo(l,6,o,B,y=255&(0|Vo(0|ar[r>>2],6))):y=0,e<<24>>24==8){if(ar[u>>2]=0,ar[b>>2]=0,ar[a>>2]=0,i=(ar[c>>2]=0)|Ro(0|ar[r>>2],0,c),f=0|Fo(l,0,a),g=0|Fo(l,1,u),Z=0|Fo(l,2,b),vb(0|g,-128,0|br(0|ar[u>>2],p)),vb(0|Z,-128,0|br(0|ar[b>>2],p)),0<(0|B))for(e=0;hb(0|(p=f+(0|br(0|ar[a>>2],e))|0),i+(0|br(0|ar[c>>2],e))|0,0|o),(0|(e=e+1|0))!=(0|B););}else{ar[u>>2]=0,ar[b>>2]=0,ar[a>>2]=0,g=(ar[c>>2]=0)|Ro(0|ar[r>>2],0,c),Z=0|Fo(l,0,a),k=0|Fo(l,1,u),h=0|Fo(l,2,b),ar[c>>2]=(0|ar[c>>2])/2|0,ar[a>>2]=(0|ar[a>>2])/2|0,w=(0|ar[u>>2])/2|0,ar[u>>2]=w,v=(0|ar[b>>2])/2|0,ar[b>>2]=v,m=0<(0|B);do{if(m){if(f=128<<i+-8&65535,0<(0|o)){i=0;do{for(A=0|br(w,i),d=0|br(v,i),e=0;or[k+(A+e<<1)>>1]=f,or[h+(d+e<<1)>>1]=f,(0|(e=e+1|0))<(0|n););i=i+1|0}while((0|i)<(0|p));if(!m)break}if(hb(0|Z,0|g,0|(e=o<<1)),1!=(0|B))for(i=1;hb(Z+((0|br(0|ar[a>>2],i))<<1)|0,g+((0|br(0|ar[c>>2],i))<<1)|0,0|e),(0|(i=i+1|0))!=(0|B););}}while(0)}if(t){if(ar[u>>2]=0,A=(ar[b>>2]=0)|Ro(0|ar[r>>2],6,u),f=0|Fo(l,6,b),i=o<<(8<y>>>0&1),0<(0|B))for(e=0;hb(0|(r=f+(0|br(0|ar[b>>2],e))|0),A+(0|br(0|ar[u>>2],e))|0,0|i),(0|(e=e+1|0))!=(0|B););ur=s}else ur=s},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0;switch(ur=(t=ur)+64|0,n=t+36|0,o=t+48|0,l=t,0|ar[(r|=0)>>2]){case 0:case 2:if(0==(0|ar[r+4>>2])&&8==(0|ar[r+12>>2]))return ar[n>>2]=0,ar[(u=4+n|0)>>2]=0,(ar[8+n>>2]=0)|tr[r+8>>0]?(c=8+n|0,r=f=a=0):(ar[l>>2]=1,ar[l+4>>2]=10,tr[l+8>>0]=0,tr[(e=l+9|0)>>0]=0|tr[o>>0],tr[e+1>>0]=0|tr[o+1>>0],tr[e+2>>0]=0|tr[o+2>>0],ar[l+12>>2]=8,ar[l+16>>2]=0,ar[(e=l+20|0)>>2]=0,gA[l+24>>2]=.10000000149011612,gA[l+28>>2]=0,i=8+n|(gA[l+32>>2]=0),Nl(n,l),0|(e=0|ar[e>>2])&&du(e),a=r=0|ar[u>>2],f=0|ar[(c=i)>>2]),ar[l>>2]=1,ar[l+4>>2]=11,tr[l+8>>0]=1,tr[(e=l+9|0)>>0]=0|tr[o>>0],tr[e+1>>0]=0|tr[o+1>>0],tr[e+2>>0]=0|tr[o+2>>0],ar[l+12>>2]=8,ar[(e=l+16|0)>>2]=0,ar[(i=l+20|0)>>2]=0,gA[l+24>>2]=.15000000596046448,gA[l+28>>2]=0,f>>>(gA[l+32>>2]=0)<=a>>>0?(Nl(n,l),0|(e=0|ar[i>>2])&&du(e)):(ar[r>>2]=ar[l>>2],ar[r+4>>2]=ar[l+4>>2],ar[r+8>>2]=ar[l+8>>2],ar[r+12>>2]=ar[l+12>>2],ar[a+16>>2]=ar[e>>2],ar[a+20>>2]=ar[i>>2],ar[e>>2]=0,l=l+24|(ar[i>>2]=0),ar[(o=a+24|0)>>2]=ar[l>>2],ar[o+4>>2]=ar[l+4>>2],ar[o+8>>2]=ar[l+8>>2],ar[u>>2]=a+36),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[u>>2],ar[A+8>>2]=ar[c>>2],ar[c>>2]=0,void(ur=t)}ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b=0,s=0,d=0,k=0,h=0,w=0,v=0;if(ur=(u=ur)+16|0,c=u+8|0,t=u+4|0,l=u,k=0|ar[(r|=0)>>2],o=0|ar[k+24>>2],a=0|ar[k+28>>2],(0|Vo(k,0))<<24>>24!=8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=u);if(f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(b=f+12|0)>>2]=0,ar[b+4>>2]=0,ar[b+8>>2]=0,ar[b+12>>2]=0,ar[b+16>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,k=f+52|0,ar[(d=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[k>>2]=0,ar[k+4>>2]=0,ar[k+8>>2]=0,ar[k+12>>2]=0,ar[f+68>>2]=d,d=b,s=(k=f)+16|0,bu(f),su(f),e=0|ar[s>>2],ar[b>>2]=d,ar[s>>2]=k,0|e&&ku(e),du(f),e=0|Eo(0|ar[r>>2],6),0|tr[(n=i+8|0)>>0]?yo(b,o,a,1,11):yo(b,o,a,1,10),Bo(b,10,o,a,8),ar[c>>2]=0,s=(ar[l>>2]=0)|Ro(0|ar[r>>2],0,c),i=e?0|Ro(0|ar[r>>2],6,t):0,b=0|Fo(b,10,l),0<(0|a))if(r=0<(0|o),e){f=0;do{if(0|tr[n>>0]){if(r)for(e=0;h=s+((0|br(0|ar[c>>2],f))+e)|0,h=0|tr[h>>0],v=e<<2,w=b+((0|br(0|ar[l>>2],f))+v)|0,tr[w>>0]=h,w=b+((1|v)+(0|br(0|ar[l>>2],f)))|0,tr[w>>0]=h,w=b+((2|v)+(0|br(0|ar[l>>2],f)))|0,tr[w>>0]=h,w=i+((0|br(0|ar[t>>2],f))+e)|0,v=b+((3|v)+(0|br(0|ar[l>>2],f)))|0,tr[v>>0]=0|tr[w>>0],(0|(e=e+1|0))!=(0|o););}else if(r)for(e=0;w=s+((0|br(0|ar[c>>2],f))+e)|0,w=0|tr[w>>0],h=3*e|0,v=b+((0|br(0|ar[l>>2],f))+h)|0,tr[v>>0]=w,v=b+(h+1+(0|br(0|ar[l>>2],f)))|0,tr[v>>0]=w,h=b+(h+2+(0|br(0|ar[l>>2],f)))|0,tr[h>>0]=w,(0|(e=e+1|0))!=(0|o););f=f+1|0}while((0|f)!=(0|a))}else{f=0;do{if(0|tr[n>>0]){if(r)for(e=0;h=s+((0|br(0|ar[c>>2],f))+e)|0,h=0|tr[h>>0],v=e<<2,w=b+((0|br(0|ar[l>>2],f))+v)|0,tr[w>>0]=h,w=b+((1|v)+(0|br(0|ar[l>>2],f)))|0,tr[w>>0]=h,w=b+((2|v)+(0|br(0|ar[l>>2],f)))|0,tr[w>>0]=h,v=b+((3|v)+(0|br(0|ar[l>>2],f)))|0,tr[v>>0]=-1,(0|(e=e+1|0))!=(0|o););}else if(r)for(e=0;w=s+((0|br(0|ar[c>>2],f))+e)|0,w=0|tr[w>>0],v=3*e|0,h=b+((0|br(0|ar[l>>2],f))+v)|0,tr[h>>0]=w,h=b+(v+1+(0|br(0|ar[l>>2],f)))|0,tr[h>>0]=w,v=b+(v+2+(0|br(0|ar[l>>2],f)))|0,tr[v>>0]=w,(0|(e=e+1|0))!=(0|o););f=f+1|0}while((0|f)!=(0|a))}ar[A>>2]=d,ar[A+4>>2]=k,ur=u},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a=0,c=0,l=0,u=0;if(ur=(o=ur)+64|0,t=o+36|0,n=o+48|0,u=o,1==(0|ar[(r|=0)>>2])&&10==(-2&(a=0|ar[(c=r+4|0)>>2])|0))return 3<=((e=0|ar[(f=i+4|0)>>2])+-1|0)>>>0||0|(l=0|ar[i+16>>2])&&0==(0|or[l+8>>1])?(ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0):(ar[t>>2]=0,ar[(l=4+t|0)>>2]=0,11==((ar[8+t>>2]=0)|(e=10==(0|a)?(ar[u>>2]=0,ar[u+4>>2]=e,tr[u+8>>0]=0,tr[(e=u+9|0)>>0]=0|tr[n>>0],tr[e+1>>0]=0|tr[1+n>>0],tr[e+2>>0]=0|tr[2+n>>0],ar[u+12>>2]=8,ar[u+16>>2]=0,ar[(e=u+20|0)>>2]=0,gA[u+24>>2]=.75,gA[u+28>>2]=.5,gA[u+32>>2]=0,Nl(t,u),0|(e=0|ar[e>>2])&&du(e),0|ar[c>>2]):a))?(f=0|ar[f>>2],ar[u>>2]=0,ar[u+4>>2]=f,tr[u+8>>0]=1,tr[(f=u+9|0)>>0]=0|tr[n>>0],tr[f+1>>0]=0|tr[1+n>>0],tr[f+2>>0]=0|tr[2+n>>0],ar[u+12>>2]=8,ar[(f=u+16|0)>>2]=0,ar[(r=u+20|0)>>2]=0,gA[u+24>>2]=.75,gA[u+28>>2]=.5,(i=(gA[u+32>>2]=0)|ar[l>>2])>>>0>=(0|ar[(e=8+t|0)>>2])>>>0?(Nl(t,u),0|(f=0|ar[r>>2])&&du(f)):(ar[i>>2]=ar[u>>2],ar[i+4>>2]=ar[u+4>>2],ar[i+8>>2]=ar[u+8>>2],ar[i+12>>2]=ar[u+12>>2],ar[i+16>>2]=ar[f>>2],ar[i+20>>2]=ar[r>>2],ar[f>>2]=0,u=u+24|(ar[r>>2]=0),ar[(c=i+24|0)>>2]=ar[u>>2],ar[c+4>>2]=ar[u+4>>2],ar[c+8>>2]=ar[u+8>>2],ar[l>>2]=i+36)):e=8+t|0,ar[A>>2]=ar[t>>2],ar[A+4>>2]=ar[l>>2],ar[A+8>>2]=ar[e>>2],ar[e>>2]=0),void(ur=o);ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=o},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d=0,k=0,h=0,w=0,v=0,m=0,g=0,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0;if(ur=(s=ur)+112|0,G=s+96|0,V=s+92|0,p=s+88|0,u=s+84|0,b=s+80|0,E=s+40|0,k=s,F=0|ar[(r|=0)>>2],l=0|ar[F+24>>2],F=0|ar[F+28>>2],f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(d=f+12|0)>>2]=0,ar[d+4>>2]=0,ar[d+8>>2]=0,ar[d+12>>2]=0,ar[d+16>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,e=f+52|0,ar[(C=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[f+68>>2]=C,ar[A>>2]=d,C=(ar[A+4>>2]=f)+16|0,bu(f),su(f),e=0|ar[C>>2],ar[d>>2]=d,ar[C>>2]=f,0|e&&ku(e),du(f),W=0|go(X=0|ar[i+4>>2]),I=0|Zo(X),yo(d,l,F,0,X),X=(l-1+(W&=255)|0)/(0|W)|0,C=(F+-1+(I&=255)|0)/(0|I)|0,c=11==(0|ar[36+(0|ar[r>>2])>>2]),Bo(d,0,l,F,8),Bo(d,1,X,C,8),Bo(d,2,X,C,8),c&&Bo(d,6,l,F,8),ar[G>>2]=0,ar[V>>2]=0,ar[p>>2]=0,ar[u>>2]=0,C=(ar[b>>2]=0)|Ro(0|ar[r>>2],10,b),Z=0|Fo(d,0,p),o=0|Fo(d,1,G),a=0|Fo(d,2,V),X=c?0|Fo(d,6,u):0,Be(E),e=0|ar[i+16>>2])for(A=0|tr[e+10>>0],ye(k,0|or[e+8>>1],0|or[e+4>>1]),A=A<<24>>24!=0,e=k,f=(r=E)+40|0;ar[r>>2]=ar[e>>2],e=e+4|0,(0|(r=r+4|0))<(0|f););else A=1;if(g=c?4:3,t=0<(0|F)){i=0<(0|l),k=E+4|0,v=E+8|0,m=E+12|0,d=0;do{e=C+(0|br(0|ar[b>>2],d))|0;A:do{if(i){if(A)r=0;else for(f=0;;){if(y=0|ef(.8554700016975403*((0|cr[e>>0])*gA[k>>2]+(0|cr[e+1>>0])*gA[v>>2]+(0|cr[e+2>>0])*gA[m>>2])),B=Z+((0|br(0|ar[p>>2],d))+f)|0,tr[B>>0]=(0|y)<0?16:((0|y)<219?y:219)+16&255,(0|(f=f+1|0))==(0|l))break A;e=e+g|0}for(;f=(0|(f=0|ef((0|cr[e>>0])*gA[k>>2]+(0|cr[e+1>>0])*gA[v>>2]+(0|cr[e+2>>0])*gA[m>>2])))<0?0:255<(0|f)?-1:255&f,B=Z+((0|br(0|ar[p>>2],d))+r)|0,tr[B>>0]=f,(0|(r=r+1|0))!=(0|l);)e=e+g|0}}while(0);d=d+1|0}while((0|d)!=(0|F));if(t){B=0<(0|l),m=0|br(g,W),g=E+16|0,Z=E+20|0,p=E+24|0,n=E+28|0,y=E+32|0,v=E+36|0,k=0;do{if(B)for(i=C+((d=0)|br(0|ar[b>>2],k))|0;N=+(0|cr[i>>0]),R=+(0|cr[i+1>>0]),w=+(0|cr[i+2>>0]),h=N*gA[g>>2]+R*gA[Z>>2]+w*gA[p>>2],w=N*gA[n>>2]+R*gA[y>>2]+w*gA[v>>2],r=(f=A?(E=0|ef(h+128),r=(0|k)/(0|I)|0,e=(0|d)/(0|W)|0,f=o+((0|br(0|ar[G>>2],r))+e)|0,tr[f>>0]=(0|E)<0?0:255<(0|E)?-1:255&E,(0|(f=0|ef(w+128)))<0?0:255<(0|f)?-1:255&f):(E=0|ef(.875*h+128),r=(0|k)/(0|I)|0,e=(0|d)/(0|W)|0,f=o+((0|br(0|ar[G>>2],r))+e)|0,tr[f>>0]=(0|E)<0?0:255<(0|E)?-1:255&E,(0|(f=0|ef(.875*w+128)))<0?0:255<(0|f)?-1:255&f),0|br(0|ar[V>>2],r)),tr[a+(e+r)>>0]=f,!((0|l)<=(0|(d=d+W|0)));)i=i+m|0;k=k+I|0}while((0|k)<(0|F));if(c&t&0<(0|l)){e=0;do{for(f=0;G=C+((f<<2|3)+(0|br(0|ar[b>>2],e)))|0,V=X+((0|br(0|ar[u>>2],e))+f)|0,tr[V>>0]=0|tr[G>>0],(0|(f=f+1|0))!=(0|l););e=e+1|0}while((0|e)!=(0|F));ur=s}else ur=s}else ur=s}else ur=s},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0,l=0;if(ur=(t=ur)+64|0,n=t+36|0,f=t+48|0,l=t,1==(0|ar[(r|=0)>>2])&&10==(-2&(o=0|ar[(a=r+4|0)>>2])|0))return!(e=0|ar[i+16>>2])||0|or[e+8>>1]||0|(c=0|ar[r+16>>2])&&0==(0|tr[c+10>>0])?(ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0):(ar[n>>2]=0,ar[(c=4+n|0)>>2]=0,11==((ar[8+n>>2]=0)|(e=10==(0|o)?(ar[l>>2]=0,ar[l+4>>2]=3,tr[l+8>>0]=0,tr[(e=l+9|0)>>0]=0|tr[f>>0],tr[e+1>>0]=0|tr[f+1>>0],tr[e+2>>0]=0|tr[f+2>>0],ar[l+12>>2]=8,ar[l+16>>2]=0,ar[(e=l+20|0)>>2]=0,gA[l+24>>2]=.75,gA[l+28>>2]=.5,gA[l+32>>2]=0,Nl(n,l),0|(e=0|ar[e>>2])&&du(e),0|ar[a>>2]):o))?(ar[l>>2]=0,ar[l+4>>2]=3,tr[l+8>>0]=1,tr[(i=l+9|0)>>0]=0|tr[f>>0],tr[i+1>>0]=0|tr[f+1>>0],tr[i+2>>0]=0|tr[f+2>>0],ar[l+12>>2]=8,ar[(f=l+16|0)>>2]=0,ar[(i=l+20|0)>>2]=0,gA[l+24>>2]=.75,gA[l+28>>2]=.5,(r=(gA[l+32>>2]=0)|ar[c>>2])>>>0>=(0|ar[(e=8+n|0)>>2])>>>0?(Nl(n,l),0|(f=0|ar[i>>2])&&du(f)):(ar[r>>2]=ar[l>>2],ar[r+4>>2]=ar[l+4>>2],ar[r+8>>2]=ar[l+8>>2],ar[r+12>>2]=ar[l+12>>2],ar[r+16>>2]=ar[f>>2],ar[r+20>>2]=ar[i>>2],ar[f>>2]=0,l=l+24|(ar[i>>2]=0),ar[(a=r+24|0)>>2]=ar[l>>2],ar[a+4>>2]=ar[l+4>>2],ar[a+8>>2]=ar[l+8>>2],ar[c>>2]=r+36)):e=8+n|0,ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[c>>2],ar[A+8>>2]=ar[e>>2],ar[e>>2]=0),void(ur=t);ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s=0,d=0,k=0,h=0,w=0,v=0,m=0;if(ur=(b=ur)+32|0,a=b+16|0,c=b+12|0,l=b+8|0,k=b+4|0,u=b,h=0|ar[(r|=0)>>2],o=0|ar[h+24>>2],h=0|ar[h+28>>2],f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(s=f+12|0)>>2]=0,ar[s+4>>2]=0,ar[s+8>>2]=0,ar[s+12>>2]=0,ar[s+16>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,e=f+52|0,ar[(d=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[f+68>>2]=d,ar[A>>2]=s,d=(ar[A+4>>2]=f)+16|0,bu(f),su(f),e=0|ar[d>>2],ar[s>>2]=s,ar[d>>2]=f,0|e&&ku(e),du(f),yo(s,o,h,0,3),f=11==(0|ar[36+(0|ar[r>>2])>>2]),Bo(s,0,o,h,8),Bo(s,1,o,h,8),Bo(s,2,o,h,8),f&&Bo(s,6,o,h,8),ar[a>>2]=0,ar[c>>2]=0,ar[l>>2]=0,ar[k>>2]=0,r=(ar[u>>2]=0)|Ro(0|ar[r>>2],10,u),n=0|Fo(s,0,l),t=0|Fo(s,1,a),d=0|Fo(s,2,c),A=f?0|Fo(s,6,k):0,(e=0|ar[i+16>>2])||sr(32569,32248,2161,32272),0|or[e+8>>1]&&sr(32595,32248,2162,32272),e=0<(0|h)&0<(0|o),f){if(!e)return void(ur=b);f=0;do{for(e=0;m=(0|br(0|ar[u>>2],f))+(e<<2)|0,w=0|tr[r+m>>0],v=0|tr[r+(m+2)>>0],s=0|tr[r+(m+3)>>0],i=n+((0|br(0|ar[l>>2],f))+e)|0,tr[i>>0]=0|tr[r+(m+1)>>0],i=t+((0|br(0|ar[a>>2],f))+e)|0,tr[i>>0]=v,i=d+((0|br(0|ar[c>>2],f))+e)|0,tr[i>>0]=w,i=A+((0|br(0|ar[k>>2],f))+e)|0,tr[i>>0]=s,(0|(e=e+1|0))!=(0|o););f=f+1|0}while((0|f)!=(0|h));ur=b}else if(e){e=0;do{for(f=0;k=(0|br(0|ar[u>>2],e))+(3*f|0)|0,v=0|tr[r+k>>0],w=0|tr[r+(k+2)>>0],m=n+((0|br(0|ar[l>>2],e))+f)|0,tr[m>>0]=0|tr[r+(k+1)>>0],m=t+((0|br(0|ar[a>>2],e))+f)|0,tr[m>>0]=w,m=d+((0|br(0|ar[c>>2],e))+f)|0,tr[m>>0]=v,(0|(f=f+1|0))!=(0|o););e=e+1|0}while((0|e)!=(0|h));ur=b}else ur=b},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l=0,u=0;if(ur=(c=ur)+64|0,a=c+36|0,n=c+48|0,o=c,(t=0|ar[(r|=0)+4>>2])>>>0<4&&0|tr[r+8>>0]&&0==(0|tr[i+8>>0])){if(ar[a>>2]=0,ar[(u=4+a|0)>>2]=0,e=(ar[8+a>>2]=0)|ar[r>>2],f=r+9|0,tr[n>>0]=0|tr[f>>0],tr[1+n>>0]=0|tr[f+1>>0],tr[2+n>>0]=0|tr[f+2>>0],f=0|ar[r+12>>2],i=0|ar[r+16>>2],(l=0==(0|(r=0|ar[r+20>>2])))||bu(r),ar[o>>2]=e,ar[o+4>>2]=t,tr[o+8>>0]=0,tr[(e=o+9|0)>>0]=0|tr[n>>0],tr[e+1>>0]=0|tr[1+n>>0],tr[e+2>>0]=0|tr[2+n>>0],ar[o+12>>2]=f,ar[o+16>>2]=i,ar[(e=o+20|0)>>2]=r,l||bu(r),gA[o+24>>2]=.10000000149011612,gA[o+28>>2]=0,f=8+a|(gA[o+32>>2]=0),Nl(a,o),0|(e=0|ar[e>>2])&&du(e),ar[A>>2]=ar[a>>2],ar[A+4>>2]=ar[u>>2],ar[A+8>>2]=ar[f>>2],ar[f>>2]=0,ar[u>>2]=0,ar[a>>2]=0,!l&&(du(r),0|(e=0|ar[a>>2]))){if((0|(f=0|ar[u>>2]))!=(0|e)){for(;i=f+-36|0,ar[u>>2]=i,(0|(f=(f=0|ar[f+-16>>2])?(du(f),0|ar[u>>2]):i))!=(0|e););e=0|ar[a>>2]}vu(e)}ur=c}else ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=c},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t=0,o=0;t=0|ar[(r|=0)>>2],n=0|ar[t+24>>2],t=0|ar[t+28>>2],i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(f=i+12|0)>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f+12>>2]=0,ar[f+16>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,o=i+52|0,ar[(e=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[o>>2]=0,ar[o+4>>2]=0,ar[o+8>>2]=0,ar[o+12>>2]=0,ar[i+68>>2]=e,ar[A>>2]=f,A=(ar[A+4>>2]=i)+16|0,bu(i),su(i),e=0|ar[A>>2],ar[f>>2]=f,ar[A>>2]=i,0|e&&ku(e),du(i),o=0|ar[r>>2],yo(f,n,t,0|ar[o+32>>2],0|ar[o+36>>2]),0|Eo(0|ar[r>>2],0)&&No(f,r,0,0),0|Eo(0|ar[r>>2],1)&&No(f,r,1,1),0|Eo(0|ar[r>>2],2)&&No(f,r,2,2),0|Eo(0|ar[r>>2],3)&&No(f,r,3,3),0|Eo(0|ar[r>>2],4)&&No(f,r,4,4),0|Eo(0|ar[r>>2],5)&&No(f,r,5,5)},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0,b=0;if(ur=(a=ur)+64|0,o=a+36|0,c=a+48|0,t=a,(n=0|ar[(r|=0)+4>>2])>>>0<4&&8==(0|ar[r+12>>2])){if(ar[o>>2]=0,ar[(b=4+o|0)>>2]=0,e=(ar[8+o>>2]=0)|ar[r>>2],f=0|tr[r+8>>0],l=r+9|0,tr[c>>0]=0|tr[l>>0],tr[c+1>>0]=0|tr[l+1>>0],tr[c+2>>0]=0|tr[l+2>>0],l=0|ar[r+16>>2],(u=0==(0|(r=0|ar[r+20>>2])))||bu(r),i=0|ar[i+12>>2],ar[t>>2]=e,ar[t+4>>2]=n,tr[t+8>>0]=f,tr[(e=t+9|0)>>0]=0|tr[c>>0],tr[e+1>>0]=0|tr[c+1>>0],tr[e+2>>0]=0|tr[c+2>>0],ar[t+12>>2]=i,ar[t+16>>2]=l,ar[(e=t+20|0)>>2]=r,u||bu(r),gA[t+24>>2]=.20000000298023224,gA[t+28>>2]=0,gA[t+32>>2]=.5,f=8+o|0,Nl(o,t),0|(e=0|ar[e>>2])&&du(e),ar[A>>2]=ar[o>>2],ar[A+4>>2]=ar[b>>2],ar[A+8>>2]=ar[f>>2],ar[f>>2]=0,ar[b>>2]=0,ar[o>>2]=0,!u&&(du(r),0|(e=0|ar[o>>2]))){if((0|(f=0|ar[b>>2]))!=(0|e)){for(;c=f+-36|0,ar[b>>2]=c,(0|(f=(f=0|ar[f+-16>>2])?(du(f),0|ar[b>>2]):c))!=(0|e););e=0|ar[o>>2]}vu(e)}ur=a}else ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=a},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0,w=0,v=0,m=0;ur=(a=ur)+16|0,t=a+4|0,o=a,f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(n=f+12|0)>>2]=0,ar[4+n>>2]=0,ar[8+n>>2]=0,ar[12+n>>2]=0,ar[16+n>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,e=f+52|0,ar[(u=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[f+68>>2]=u,ar[A>>2]=n,u=(ar[A+4>>2]=f)+16|0,bu(f),su(f),e=0|ar[u>>2],ar[n>>2]=n,ar[u>>2]=f,0|e&&ku(e),du(f),u=0|ar[r>>2],yo(n,0|ar[u+24>>2],0|ar[u+28>>2],0|ar[u+32>>2],0|ar[u+36>>2]),u=i+12|0,l=6796;do{if(e=0|ar[l>>2],0|Eo(0|ar[r>>2],e)&&(Bo(n,e,b=0|Xo(0|ar[r>>2],e),s=0|Wo(0|ar[r>>2],e),0|ar[u>>2]),d=255&(0|Vo(0|ar[r>>2],e)),k=8-(d=(0|ar[u>>2])-d|0)|0,h=0|Ro(0|ar[r>>2],e,t),w=0|Fo(n,e,o),v=(0|ar[o>>2])/2|0,ar[o>>2]=v,0<(0|s)&0<(0|b))){A=0|ar[t>>2],f=0;do{for(i=0|br(A,f),c=0|br(v,f),e=0;m=0|cr[h+(i+e)>>0],or[w+(c+e<<1)>>1]=m<<d|m>>>k,(0|(e=e+1|0))!=(0|b););f=f+1|0}while((0|f)!=(0|s))}l=l+4|0}while(6824!=(0|l));ur=a},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0;if(ur=(a=ur)+64|0,o=a+36|0,f=a+48|0,t=a,(n=0|ar[(r|=0)+4>>2])>>>0<4&&8!=(0|ar[r+12>>2])){if(ar[o>>2]=0,ar[(u=4+o|0)>>2]=0,e=(ar[8+o>>2]=0)|ar[r>>2],i=0|tr[r+8>>0],c=r+9|0,tr[f>>0]=0|tr[c>>0],tr[f+1>>0]=0|tr[c+1>>0],tr[f+2>>0]=0|tr[c+2>>0],c=0|ar[r+16>>2],(l=0==(0|(r=0|ar[r+20>>2])))||bu(r),ar[t>>2]=e,ar[t+4>>2]=n,tr[t+8>>0]=i,tr[(e=t+9|0)>>0]=0|tr[f>>0],tr[e+1>>0]=0|tr[f+1>>0],tr[e+2>>0]=0|tr[f+2>>0],ar[t+12>>2]=8,ar[t+16>>2]=c,ar[(e=t+20|0)>>2]=r,l||bu(r),gA[t+24>>2]=.20000000298023224,gA[t+28>>2]=0,gA[t+32>>2]=.5,i=8+o|0,Nl(o,t),0|(e=0|ar[e>>2])&&du(e),ar[A>>2]=ar[o>>2],ar[A+4>>2]=ar[u>>2],ar[A+8>>2]=ar[i>>2],ar[i>>2]=0,ar[u>>2]=0,ar[o>>2]=0,!l&&(du(r),0|(e=0|ar[o>>2]))){if((0|(i=0|ar[u>>2]))!=(0|e)){for(;f=i+-36|0,ar[u>>2]=f,(0|(i=(i=0|ar[i+-16>>2])?(du(i),0|ar[u>>2]):f))!=(0|e););e=0|ar[o>>2]}vu(e)}ur=a}else ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=a},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n,t,o,a,c=0,l=0,u=0,b=0,s=0,d=0;ur=(a=ur)+16|0,t=a+4|0,o=a,i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(n=i+12|0)>>2]=0,ar[4+n>>2]=0,ar[8+n>>2]=0,ar[12+n>>2]=0,ar[16+n>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,f=i+52|0,ar[(e=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[f>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f+12>>2]=0,ar[i+68>>2]=e,ar[A>>2]=n,A=(ar[A+4>>2]=i)+16|0,bu(i),su(i),e=0|ar[A>>2],ar[n>>2]=n,ar[A>>2]=i,0|e&&ku(e),du(i),f=0|ar[r>>2],yo(n,0|ar[f+24>>2],0|ar[f+28>>2],0|ar[f+32>>2],0|ar[f+36>>2]),f=6848;do{if(e=0|ar[f>>2],0|Eo(0|ar[r>>2],e)&&(Bo(n,e,c=0|Xo(0|ar[r>>2],e),l=0|Wo(0|ar[r>>2],e),8),u=(255&(0|Vo(0|ar[r>>2],e)))-8|0,b=0|Ro(0|ar[r>>2],e,t),ar[t>>2]=(0|ar[t>>2])/2|0,s=0|Fo(n,e,o),0<(0|l)&0<(0|c))){e=0;do{for(i=0;d=b+((0|br(0|ar[t>>2],e))+i<<1)|0,A=s+((0|br(0|ar[o>>2],e))+i)|0,tr[A>>0]=(0|lr[d>>1])>>>u,(0|(i=i+1|0))!=(0|c););e=e+1|0}while((0|e)!=(0|l))}f=f+4|0}while(6876!=(0|f));ur=a},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0;if(ur=(t=ur)+48|0,n=t+36|0,f=t,1==(0|ar[(r|=0)>>2])&&12==(-4&ar[r+4>>2]|0)&&8!=(0|(o=0|ar[r+12>>2]))){if(0|(e=0|ar[r+16>>2])){switch(0|or[e+8>>1]){case 0:case 8:case 11:case 14:return ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,void(ur=t)}if(!(0|tr[e+10>>0]))return ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,void(ur=t)}return ar[n>>2]=0,ar[(i=4+n|0)>>2]=0,e=(ar[8+n>>2]=0)|tr[r+8>>0],ar[f>>2]=0,ar[f+4>>2]=1,tr[f+8>>0]=e,ar[f+12>>2]=o,ar[f+16>>2]=0,ar[(e=f+20|0)>>2]=0,gA[f+24>>2]=.5,gA[f+28>>2]=0,gA[f+32>>2]=0,Nl(n,f),0|(e=0|ar[e>>2])&&du(e),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[i>>2],ar[A+8>>2]=ar[8+n>>2],void(ur=t)}ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0;if(ur=(y=ur)+112|0,g=y+96|0,a=y+92|0,Z=y+88|0,p=y+84|0,c=y+80|0,b=y+40|0,X=y,E=0|ar[(r|=0)>>2],v=0|ar[E+24>>2],m=0|ar[E+28>>2],E=255&(0|Vo(E,10)),o=15==(2|ar[36+(0|ar[r>>2])>>2]),f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(B=f+12|0)>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,ar[B+12>>2]=0,ar[B+16>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,e=f+52|0,ar[(K=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[f+68>>2]=K,ar[A>>2]=B,K=(ar[A+4>>2]=f)+16|0,bu(f),su(f),e=0|ar[K>>2],ar[B>>2]=B,ar[K>>2]=f,0|e&&ku(e),du(f),yo(B,v,m,0,1),h=o?8:6,L=(1+v|0)/2|0,K=(1+m|0)/2|0,Bo(B,0,v,m,E),Bo(B,1,L,K,E),Bo(B,2,L,K,E),o&&Bo(B,6,v,m,E),ar[g>>2]=0,ar[a>>2]=0,ar[Z>>2]=0,ar[p>>2]=0,w=(ar[c>>2]=0)|Ro(0|ar[r>>2],10,g),n=0|Fo(B,0,a),L=0|Fo(B,1,Z),K=0|Fo(B,2,p),x=o?0|Fo(B,6,c):0,ar[a>>2]=(0|ar[a>>2])/2|0,ar[Z>>2]=(0|ar[Z>>2])/2|0,ar[p>>2]=(0|ar[p>>2])/2|0,ar[c>>2]=(0|ar[c>>2])/2|0,l=1<<E+-1,u=(k=1<<E)-1|0,P=0|ar[r>>2],s=1&(t=15==(1|ar[P+36>>2])),e=0|ar[P+40>>2],(d=0==(0|(P=0|ar[P+44>>2])))||bu(P),Be(b),e)for(A=0|tr[10+(0|ar[i+16>>2])>>0],ye(X,0|or[e+8>>1],0|or[e+4>>1]),A=A<<24>>24!=0,e=X,f=(B=b)+40|0;ar[B>>2]=ar[e>>2],e=e+4|0,(0|(B=B+4|0))<(0|f););else A=1;if(r=0<(0|m)){X=0<(0|v),i=1^s,G=t?3:2,V=3^s,F=t?5:4,R=5-s|0,N=4+b|0,_=8+b|0,Y=12+b|0,Q=t?7:6,D=7^s,J=65535&u,E=0;do{if(X)if(W=+gA[N>>2],I=+gA[_>>2],C=+gA[Y>>2],M=0|br(0|ar[g>>2],E),A)for(f=0;B=w+(M+(0|br(f,h)))|0,e=(0|(e=0|ef(((0|cr[B+s>>0])<<8|0|cr[B+i>>0]|0)*W+((0|cr[B+G>>0])<<8|0|cr[B+V>>0]|0)*I+((0|cr[B+F>>0])<<8|0|cr[B+R>>0]|0)*C)))<0?0:(0|e)<(0|k)?65535&e:J,q=n+((0|br(0|ar[a>>2],E))+f<<1)|0,or[q>>1]=e,o&&(q=x+((0|br(0|ar[c>>2],E))+f<<1)|0,or[q>>1]=(0|cr[B+Q>>0])<<8|0|cr[B+D>>0]),(0|(f=f+1|0))!=(0|v););else for(f=0;B=w+(M+(0|br(f,h)))|0,e=(0|(e=0|ef(.8554700016975403*(((0|cr[B+s>>0])<<8|0|cr[B+i>>0]|0)*W+((0|cr[B+G>>0])<<8|0|cr[B+V>>0]|0)*I+((0|cr[B+F>>0])<<8|0|cr[B+R>>0]|0)*C)+16)))<0?0:(0|e)<(0|k)?65535&e:J,q=n+((0|br(0|ar[a>>2],E))+f<<1)|0,or[q>>1]=e,o&&(q=x+((0|br(0|ar[c>>2],E))+f<<1)|0,or[q>>1]=(0|cr[B+Q>>0])<<8|0|cr[B+D>>0]),(0|(f=f+1|0))!=(0|v););E=E+1|0}while((0|E)!=(0|m));if(r){D=0<(0|v),J=1^s,M=t?3:2,x=3^s,V=t?5:4,F=5-s|0,R=16+b|0,N=20+b|0,_=24+b|0,Y=28+b|0,Q=32+b|0,G=36+b|0,H=+(65535&l|0),r=65535&u,E=0;do{if(D)if(X=(0|E)/2|0,T=+gA[R>>2],U=+gA[N>>2],S=+gA[_>>2],O=+gA[Y>>2],z=+gA[Q>>2],j=+gA[G>>2],i=0|br(0|ar[g>>2],E),A)for(B=0;e=w+(i+(0|br(B,h)))|0,e=(0|(e=0|ef(H+((W=+((0|cr[e+s>>0])<<8|0|cr[e+J>>0]|0))*T+(I=+((0|cr[e+M>>0])<<8|0|cr[e+x>>0]|0))*U+(C=+((0|cr[e+V>>0])<<8|0|cr[e+F>>0]|0))*S))))<0?0:(0|e)<(0|k)?65535&e:r,f=(0|B)/2|0,q=L+((0|br(0|ar[Z>>2],X))+f<<1)|0,or[q>>1]=e,e=(0|(e=0|ef(H+(W*O+I*z+C*j))))<0?0:(0|e)<(0|k)?65535&e:r,q=K+((0|br(0|ar[p>>2],X))+f<<1)|0,or[q>>1]=e,(0|(B=B+2|0))<(0|v););else for(B=0;e=w+(i+(0|br(B,h)))|0,e=(0|(e=0|ef(H+.8554700016975403*((W=+((0|cr[e+s>>0])<<8|0|cr[e+J>>0]|0))*T+(I=+((0|cr[e+M>>0])<<8|0|cr[e+x>>0]|0))*U+(C=+((0|cr[e+V>>0])<<8|0|cr[e+F>>0]|0))*S))))<0?0:(0|e)<(0|k)?65535&e:r,f=(0|B)/2|0,q=L+((0|br(0|ar[Z>>2],X))+f<<1)|0,or[q>>1]=e,e=(0|(e=0|ef(H+.8554700016975403*(W*O+I*z+C*j))))<0?0:(0|e)<(0|k)?65535&e:r,q=K+((0|br(0|ar[p>>2],X))+f<<1)|0,or[q>>1]=e,(0|(B=B+2|0))<(0|v););E=E+2|0}while((0|E)<(0|m))}}ur=(d||du(P),y)},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0,c=0,l=0;if(ur=(t=ur)+64|0,n=t+36|0,f=t+48|0,l=t,0==(0|ar[(r|=0)>>2])&&1==(0|ar[r+4>>2])&&8!=(0|(o=0|ar[(a=r+12|0)>>2]))){e=0|ar[r+16>>2];A:do{if(0|e){switch(0|or[e+8>>1]){case 0:case 8:case 11:case 14:break;default:break A}return ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,void(ur=t)}}while(0);return ar[n>>2]=0,ar[(c=4+n|0)>>2]=0,e=(ar[8+n>>2]=0)|tr[(i=r+8|0)>>0],ar[l>>2]=1,ar[l+4>>2]=e<<24>>24?15:14,tr[l+8>>0]=e,ar[l+12>>2]=o,ar[l+16>>2]=0,ar[(e=l+20|0)>>2]=0,gA[l+24>>2]=.5,gA[l+28>>2]=0,r=8+n|(gA[l+32>>2]=0),Nl(n,l),0|(e=0|ar[e>>2])&&du(e),i=0|tr[i>>0],e=0|ar[a>>2],ar[l>>2]=1,ar[l+4>>2]=i<<24>>24?13:12,tr[l+8>>0]=i,tr[(i=l+9|0)>>0]=0|tr[f>>0],tr[i+1>>0]=0|tr[f+1>>0],tr[i+2>>0]=0|tr[f+2>>0],ar[l+12>>2]=e,ar[(e=l+16|0)>>2]=0,ar[(i=l+20|0)>>2]=0,gA[l+24>>2]=.5,gA[l+28>>2]=0,(f=(gA[l+32>>2]=0)|ar[c>>2])>>>0>=(0|ar[r>>2])>>>0?(Nl(n,l),0|(e=0|ar[i>>2])&&du(e)):(ar[f>>2]=ar[l>>2],ar[f+4>>2]=ar[l+4>>2],ar[f+8>>2]=ar[l+8>>2],ar[f+12>>2]=ar[l+12>>2],ar[f+16>>2]=ar[e>>2],ar[f+20>>2]=ar[i>>2],ar[e>>2]=0,l=l+24|(ar[i>>2]=0),ar[(a=f+24|0)>>2]=ar[l>>2],ar[a+4>>2]=ar[l+4>>2],ar[a+8>>2]=ar[l+8>>2],ar[c>>2]=f+36),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[c>>2],ar[A+8>>2]=ar[r>>2],void(ur=t)}ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0,ur=t},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z=0,p=0,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0;if(ur=(g=ur)+64|0,k=g+56|0,h=g+52|0,w=g+48|0,v=g+44|0,m=g+40|0,B=g+20|0,p=g,y=0|ar[(r|=0)>>2],b=0|ar[y+24>>2],s=0|ar[y+28>>2],y=255&(0|Vo(y,0)),d=0|Eo(0|ar[r>>2],6),u=1&(X=15==(1|ar[(f=i+4|0)>>2])),W=X<<31>>31,i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(Z=i+12|0)>>2]=0,ar[Z+4>>2]=0,ar[Z+8>>2]=0,ar[Z+12>>2]=0,ar[Z+16>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,e=i+52|0,ar[(j=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[e>>2]=0,ar[e+4>>2]=0,ar[e+8>>2]=0,ar[e+12>>2]=0,ar[i+68>>2]=j,ar[A>>2]=Z,j=(ar[A+4>>2]=i)+16|0,bu(i),su(i),e=0|ar[j>>2],ar[Z>>2]=Z,ar[j>>2]=i,0|e&&ku(e),du(i),yo(Z,b,s,1,0|ar[f>>2]),j=d?8:6,Bo(Z,10,b,s,y),d&&Bo(Z,6,b,s,y),ar[k>>2]=0,ar[h>>2]=0,ar[w>>2]=0,ar[v>>2]=0,t=(ar[m>>2]=0)|Fo(Z,10,k),o=0|Ro(0|ar[r>>2],0,h),a=0|Ro(0|ar[r>>2],1,w),c=0|Ro(0|ar[r>>2],2,v),z=d?0|Ro(0|ar[r>>2],6,m):0,f=(l=1<<y)-1|0,Ze(B),O=0|ar[r>>2],e=0|ar[O+40>>2],(n=0==(0|(O=0|ar[O+44>>2])))||bu(O),U=e?(U=0|tr[e+10>>0],pe(p,0|or[e+8>>1],0|or[e+4>>1]),ar[B>>2]=ar[p>>2],ar[B+4>>2]=ar[p+4>>2],ar[B+8>>2]=ar[p+8>>2],ar[B+12>>2]=ar[p+12>>2],ar[B+16>>2]=ar[p+16>>2],U<<24>>24!=0):1,0<(0|s)){S=0<(0|b),D=1<<y+-1,J=B+4|0,M=B+8|0,T=B+12|0,F=B+16|0,R=X?3:2,N=X?5:4,_=W+1|0,Y=W+3|0,Q=W+5|0,V=X?7:6,W=W+7|0,G=255&f,X=(65535&f)>>>8&255,y=0;do{if(S)for(B=(0|y)/2|0,p=0;e=o+(((0|br(0|ar[h>>2],y))/2|0)+p<<1)|0,I=+(0|lr[e>>1]),e=(0|p)/2|0,r=a+(((0|br(0|ar[w>>2],B))/2|0)+e<<1)|0,C=+((0|lr[r>>1])-D|0),e=c+(((0|br(0|ar[v>>2],B))/2|0)+e<<1)|0,E=+((0|lr[e>>1])-D|0),C=U?C:1.142899990081787*C,E=U?E:1.142899990081787*E,A=0<=(0|(e=0|ef((I=U?I:1.1689000129699707*(I+-16))+gA[J>>2]*E)))?(0|e)<(0|l)?(r=255&e,(65535&e)>>>8&255):(r=G,X):r=0,i=0<=(0|(e=0|ef(I+C*gA[M>>2]-E*gA[T>>2])))?(0|e)<(0|l)?(Z=255&e,(65535&e)>>>8&255):(Z=G,X):Z=0,e=0<=(0|(e=0|ef(I+C*gA[F>>2])))?(0|e)<(0|l)?(f=255&e,(65535&e)>>>8&255):(f=G,X):f=0,x=t+(((H=0|br(p,j))|u)+(0|br(0|ar[k>>2],y)))|0,tr[x>>0]=A,A=t+(R+H+(0|br(0|ar[k>>2],y)))|0,tr[A>>0]=i,A=t+(N+H+(0|br(0|ar[k>>2],y)))|0,tr[A>>0]=e,A=t+(_+H+(0|br(0|ar[k>>2],y)))|0,tr[A>>0]=r,r=t+(Y+H+(0|br(0|ar[k>>2],y)))|0,tr[r>>0]=Z,r=t+(Q+H+(0|br(0|ar[k>>2],y)))|0,tr[r>>0]=f,d&&(r=z+(((0|br(0|ar[m>>2],y))/2|0)+p<<1)|0,H=t+((V|(x=p<<3))+(0|br(0|ar[k>>2],y)))|0,tr[H>>0]=(0|lr[r>>1])>>>8,H=z+(((0|br(0|ar[m>>2],y))/2|0)+p<<1)|0,x=t+(W+x+(0|br(0|ar[k>>2],y)))|0,tr[x>>0]=or[H>>1]),(0|(p=p+1|0))!=(0|b););y=y+1|0}while((0|y)!=(0|s))}ur=(n||du(O),g)},function(A,e,r,i,f){var n,t;return A|=0,e|=0,i|=0,f|=0,ur=(t=ur)+48|0,n=t+36|0,e=t,8==(0|(i=0|ar[(r|=0)+12>>2]))||0|ar[r>>2]?(ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0):(ar[n>>2]=0,ar[(f=4+n|0)>>2]=0,r=(ar[8+n>>2]=0)|tr[r+8>>0],ar[e>>2]=1,ar[e+4>>2]=3,tr[e+8>>0]=r,ar[e+12>>2]=i,ar[e+16>>2]=0,ar[(r=e+20|0)>>2]=0,gA[e+24>>2]=.5,gA[e+28>>2]=0,gA[e+32>>2]=0,Nl(n,e),0|(e=0|ar[r>>2])&&du(e),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[f>>2],ar[A+8>>2]=ar[8+n>>2]),void(ur=t)},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0,fA=0,nA=0;if(ur=(W=ur)+80|0,p=W+68|0,y=W+64|0,B=W+60|0,E=W+56|0,X=W+52|0,v=W+48|0,m=W+44|0,g=W+40|0,R=W+20|0,V=W,e=0|ar[(r|=0)>>2],G=0|ar[e+36>>2],F=255&(e=0|Vo(e,0)),i=0|Vo(0|ar[r>>2],1),f=0|Vo(0|ar[r>>2],2),I=(Z=0|Eo(0|ar[r>>2],6))?255&(0|Vo(0|ar[r>>2],6)):0,e<<24>>24==8|i<<24>>24==8|f<<24>>24==8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=W);if(e<<24>>24!=i<<24>>24||e<<24>>24!=f<<24>>24)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=W);if(e=0|ar[r>>2],C=0|ar[e+40>>2],(w=0==(0|(h=0|ar[e+44>>2])))||(bu(h),e=0|ar[r>>2]),k=0|ar[e+24>>2],d=0|ar[e+28>>2],i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(f=i+12|0)>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f+12>>2]=0,ar[f+16>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,nA=i+52|0,ar[(fA=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[nA>>2]=0,ar[nA+4>>2]=0,ar[nA+8>>2]=0,ar[nA+12>>2]=0,ar[i+68>>2]=fA,fA=f,iA=(nA=i)+16|0,bu(i),su(i),e=0|ar[iA>>2],ar[f>>2]=fA,ar[iA>>2]=nA,0|e&&ku(e),du(i),yo(f,k,d,1,3),Bo(f,3,k,d,F),Bo(f,4,k,d,F),Bo(f,5,k,d,F),Z&&Bo(f,6,k,d,I),ar[p>>2]=0,ar[y>>2]=0,ar[B>>2]=0,ar[E>>2]=0,ar[X>>2]=0,ar[v>>2]=0,ar[m>>2]=0,c=(ar[g>>2]=0)|Ro(0|ar[r>>2],0,p),l=0|Ro(0|ar[r>>2],1,y),u=0|Ro(0|ar[r>>2],2,B),b=0|Fo(f,3,X),s=0|Fo(f,4,v),iA=0|Fo(f,5,m),eA=Z?(rA=0|Ro(0|ar[r>>2],6,E),0|Fo(f,6,g)):rA=0,o=(t=1<<F)-1|0,a=(255&(0|go(G)))-1|0,n=(255&(0|Zo(G)))-1|0,ar[p>>2]=(0|ar[p>>2])/2|0,ar[y>>2]=(0|ar[y>>2])/2|0,ar[B>>2]=(0|ar[B>>2])/2|0,ar[E>>2]=(0|ar[E>>2])/2|0,ar[X>>2]=(0|ar[X>>2])/2|0,ar[v>>2]=(0|ar[v>>2])/2|0,ar[m>>2]=(0|ar[m>>2])/2|0,ar[g>>2]=(0|ar[g>>2])/2|0,Ze(R),C?(e=0|or[C+8>>1],K=0|tr[C+10>>0],pe(V,e,0|or[C+4>>1]),ar[R>>2]=ar[V>>2],ar[R+4>>2]=ar[V+4>>2],ar[R+8>>2]=ar[V+8>>2],ar[R+12>>2]=ar[V+12>>2],ar[R+16>>2]=ar[V+16>>2],K=K<<24>>24!=0,e&=65535):(K=1,e=2),0<(0|d)){q=0<(0|k),$=k<<1,AA=0==(0|e),L=8==(0|e),j=1<<F+-1&65535,H=R+4|0,x=R+8|0,P=R+12|0,F=R+16|0,G=0;do{if(q){D=G>>n,R=0|br(0|ar[y>>2],D),Q=0|br(0|ar[p>>2],G),D=0|br(0|ar[B>>2],D),J=0|br(0|ar[X>>2],G),M=0|br(0|ar[m>>2],G),T=0|br(0|ar[v>>2],G),U=+gA[H>>2],S=+gA[x>>2],O=+gA[P>>2],z=+gA[F>>2],V=0;do{C=R+(e=V>>a)|0,r=Q+V|0,e=0|or[u+(D+e<<1)>>1];do{if(AA){if(i=M+V|0,f=J+V|0,I=T+V|0,K){or[b+(f<<1)>>1]=e,or[s+(I<<1)>>1]=0|or[c+(r<<1)>>1],e=0|or[l+(C<<1)>>1];break}or[b+(f<<1)>>1]=16+((128+(219*(65535&e)|0)|0)>>>8),or[s+(I<<1)>>1]=16+((128+(219*(0|lr[c+(r<<1)>>1])|0)|0)>>>8),e=16+((128+(219*(0|lr[l+(C<<1)>>1])|0)|0)>>>8)&65535;break}if(f=(65535&e)-j|0,i=0|or[c+(r<<1)>>1],e=(0|lr[l+(C<<1)>>1])-j|0,L){r=(i=(C=65535&i)-e|0)+f|0,or[b+(J+V<<1)>>1]=(0|r)<0?0:255<(0|r)?255:255&r,e=C+e|0,or[s+(T+V<<1)>>1]=(0|e)<0?0:255<(0|e)?255:255&e,e=(0|(e=i-f|0))<0?0:255<(0|e)?255:255&e,i=M+V|0;break}_=+(65535&i),Y=+(0|e),N=+(0|f),Y=K?Y:1.142899990081787*Y,e=(0|(e=0|ef((_=K?_:1.1689000129699707*(_+-16))+(N=K?N:1.142899990081787*N)*U)))<0?0:65535&((0|e)<(0|t)?e:o),or[b+(J+V<<1)>>1]=e,e=(0|(e=0|ef(_+Y*S+N*O)))<0?0:65535&((0|e)<(0|t)?e:o),or[s+(T+V<<1)>>1]=e,e=(0|(e=0|ef(_+Y*z)))<0?0:65535&((0|e)<(0|t)?e:o),i=M+V|0}while(0);or[iA+(i<<1)>>1]=e,V=V+1|0}while((0|V)!=(0|k))}Z&&hb(0|(T=eA+((0|br(0|ar[g>>2],G))<<1)|0),rA+((0|br(0|ar[E>>2],G))<<1)|0,0|$),G=G+1|0}while((0|G)!=(0|d))}ar[A>>2]=fA,ar[A+4>>2]=nA,ur=(w||du(h),W)},function(A,e,r,i,f){var n;return A|=0,e|=0,i|=0,f|=0,ur=(n=ur)+48|0,f=n+36|0,e=n,8!=(0|ar[(r|=0)+12>>2])||0|ar[r>>2]?(ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0):(ar[f>>2]=0,ar[(i=f+4|0)>>2]=0,r=(ar[f+8>>2]=0)|tr[r+8>>0],ar[e>>2]=1,ar[e+4>>2]=3,tr[e+8>>0]=r,ar[e+12>>2]=8,ar[e+16>>2]=0,ar[(r=e+20|0)>>2]=0,gA[e+24>>2]=.5,gA[e+28>>2]=0,gA[e+32>>2]=0,Nl(f,e),0|(e=0|ar[r>>2])&&du(e),ar[A>>2]=ar[f>>2],ar[A+4>>2]=ar[i>>2],ar[A+8>>2]=ar[f+8>>2]),void(ur=n)},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y,B,E,X,W,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0;if(ur=(W=ur)+80|0,p=W+68|0,y=W+64|0,B=W+60|0,E=W+56|0,X=W+52|0,v=W+48|0,m=W+44|0,g=W+40|0,Y=W+20|0,V=W,e=0|ar[(r|=0)>>2],G=0|ar[e+36>>2],_=255&(e=0|Vo(e,0)),i=0|Vo(0|ar[r>>2],1),f=0|Vo(0|ar[r>>2],2),I=(Z=0|Eo(0|ar[r>>2],6))?255&(0|Vo(0|ar[r>>2],6)):0,e<<24>>24!=8|i<<24>>24!=8|f<<24>>24!=8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=W);if(e=0|ar[r>>2],C=0|ar[e+40>>2],(w=0==(0|(h=0|ar[e+44>>2])))||(bu(h),e=0|ar[r>>2]),k=0|ar[e+24>>2],d=0|ar[e+28>>2],i=0|hu(80),ar[i+4>>2]=0,ar[i+8>>2]=0,ar[i>>2]=6208,ar[(f=i+12|0)>>2]=0,ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f+12>>2]=0,ar[f+16>>2]=0,ar[i+32>>2]=32215,ar[i+36>>2]=0,ar[i+40>>2]=0,ar[i+44>>2]=99,ar[i+48>>2]=99,P=i+52|0,ar[(x=i+72|0)>>2]=0,ar[i+76>>2]=0,ar[P>>2]=0,ar[P+4>>2]=0,ar[P+8>>2]=0,ar[P+12>>2]=0,ar[i+68>>2]=x,x=f,H=(P=i)+16|0,bu(i),su(i),e=0|ar[H>>2],ar[f>>2]=x,ar[H>>2]=P,0|e&&ku(e),du(i),yo(f,k,d,1,3),Bo(f,3,k,d,_),Bo(f,4,k,d,_),Bo(f,5,k,d,_),Z&&Bo(f,6,k,d,I),ar[p>>2]=0,ar[y>>2]=0,ar[B>>2]=0,ar[E>>2]=0,ar[X>>2]=0,ar[v>>2]=0,ar[m>>2]=0,c=(ar[g>>2]=0)|Ro(0|ar[r>>2],0,p),l=0|Ro(0|ar[r>>2],1,y),u=0|Ro(0|ar[r>>2],2,B),b=0|Fo(f,3,X),s=0|Fo(f,4,v),H=0|Fo(f,5,m),z=Z?(j=0|Ro(0|ar[r>>2],6,E),0|Fo(f,6,g)):j=0,o=(t=1<<_)-1|0,a=(255&(0|go(G)))-1|0,n=(255&(0|Zo(G)))-1|0,Ze(Y),C?(e=0|or[C+8>>1],T=0|tr[C+10>>0],pe(V,e,0|or[C+4>>1]),ar[Y>>2]=ar[V>>2],ar[Y+4>>2]=ar[V+4>>2],ar[Y+8>>2]=ar[V+8>>2],ar[Y+12>>2]=ar[V+12>>2],ar[Y+16>>2]=ar[V+16>>2],T=T<<24>>24!=0,e&=65535):(T=1,e=2),0<(0|d)){U=0<(0|k),S=k<<1,O=0==(0|e),M=8==(0|e),Q=1<<_+-1&65535,D=Y+4|0,J=Y+8|0,_=Y+12|0,G=Y+16|0,r=0;do{if(U){V=r>>n,C=0;do{i=C>>a,f=u+((0|br(0|ar[B>>2],V))+i)|0,f=0|tr[f>>0];do{if(O){if(e=(0|br(0|ar[X>>2],r))+C|0,T){tr[b+e>>0]=f,Y=c+((0|br(0|ar[p>>2],r))+C)|0,e=s+((0|br(0|ar[v>>2],r))+C)|0,tr[e>>0]=0|tr[Y>>0],e=l+((0|br(0|ar[y>>2],V))+i)|0,e=0|tr[e>>0];break}tr[b+e>>0]=16+((128+(219*(255&f)|0)|0)>>>8),Y=c+((0|br(0|ar[p>>2],r))+C)|0,e=s+((0|br(0|ar[v>>2],r))+C)|0,tr[e>>0]=16+((128+(219*(0|cr[Y>>0])|0)|0)>>>8),e=l+((0|br(0|ar[y>>2],V))+i)|0,e=16+((128+(219*(0|cr[e>>0])|0)|0)>>>8)&255;break}if(e=0|br(0|ar[y>>2],V),I=c+((0|br(0|ar[p>>2],r))+C)|0,I=0|tr[I>>0],i=(0|cr[l+(e+i)>>0])-Q|0,e=(255&f)-Q|0,M){L=(Y=(f=255&I)-i|0)+e|0,I=b+((0|br(0|ar[X>>2],r))+C)|0,tr[I>>0]=(0|L)<0?0:255<(0|L)?-1:255&L,f=i+f|0,I=s+((0|br(0|ar[v>>2],r))+C)|0,tr[I>>0]=(0|f)<0?0:255<(0|f)?-1:255&f,e=(0|(e=Y-e|0))<0?0:255<(0|e)?-1:255&e;break}R=+(255&I),N=+(0|i),F=+(0|e),N=T?N:1.142899990081787*N,e=(0|(e=0|ef((R=T?R:1.1689000129699707*(R+-16))+(F=T?F:1.142899990081787*F)*gA[D>>2])))<0?0:255&((0|e)<(0|t)?e:o),L=b+((0|br(0|ar[X>>2],r))+C)|0,tr[L>>0]=e,e=(0|(e=0|ef(R+N*gA[J>>2]+F*gA[_>>2])))<0?0:255&((0|e)<(0|t)?e:o),L=s+((0|br(0|ar[v>>2],r))+C)|0,tr[L>>0]=e,e=(0|(e=0|ef(R+N*gA[G>>2])))<0?0:255&((0|e)<(0|t)?e:o)}while(0);L=H+((0|br(0|ar[m>>2],r))+C)|0,tr[L>>0]=e,C=C+1|0}while((0|C)!=(0|k))}Z&&hb(0|(L=z+(0|br(0|ar[g>>2],r))|0),j+(0|br(0|ar[E>>2],r))|0,0|S),r=r+1|0}while((0|r)!=(0|d))}ar[A>>2]=x,ar[A+4>>2]=P,ur=(w||du(h),W)},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0;return ur=(t=ur)+48|0,n=t+36|0,e=t,8==(0|ar[(r|=0)+12>>2])&&1==(0|ar[r>>2])&&3==(0|ar[r+4>>2])?(ar[n>>2]=0,ar[(f=4+n|0)>>2]=0,o=(ar[8+n>>2]=0)|ar[i+4>>2],i=0|tr[r+8>>0],ar[e>>2]=0,ar[e+4>>2]=o,tr[e+8>>0]=i,ar[e+12>>2]=8,ar[e+16>>2]=0,ar[(i=e+20|0)>>2]=0,gA[e+24>>2]=.75,gA[e+28>>2]=.5,gA[e+32>>2]=0,Nl(n,e),0|(e=0|ar[i>>2])&&du(e),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[f>>2],ar[A+8>>2]=ar[8+n>>2]):(ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0),void(ur=t)},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0;if(ur=(p=ur)+112|0,w=p+108|0,v=p+104|0,T=p+100|0,Z=p+96|0,F=p+92|0,b=p+88|0,s=p+84|0,m=p+80|0,Y=p+40|0,X=p,U=0|ar[(r|=0)>>2],g=0|ar[U+24>>2],U=0|ar[U+28>>2],d=255&(0|go(f=0|ar[i+4>>2])),k=255&(0|Zo(f)),E=255&(O=0|Vo(0|ar[r>>2],3)),O<<24>>24!=8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=p);if((h=0|Eo(0|ar[r>>2],6))&&(0|Vo(0|ar[r>>2],6))<<24>>24!=8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=p);if(y=0|hu(80),ar[y+4>>2]=0,ar[y+8>>2]=0,ar[y>>2]=6208,ar[(B=y+12|0)>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,ar[B+12>>2]=0,ar[B+16>>2]=0,ar[y+32>>2]=32215,ar[y+36>>2]=0,ar[y+40>>2]=0,ar[y+44>>2]=99,ar[y+48>>2]=99,O=y+52|0,ar[(S=y+72|0)>>2]=0,ar[y+76>>2]=0,ar[O>>2]=0,ar[O+4>>2]=0,ar[O+8>>2]=0,ar[O+12>>2]=0,ar[y+68>>2]=S,S=B,M=(O=y)+16|0,bu(y),su(y),e=0|ar[M>>2],ar[B>>2]=S,ar[M>>2]=O,0|e&&ku(e),du(y),yo(B,g,U,0,f),J=(g-1+d|0)/(0|d)|0,M=(U+-1+k|0)/(0|k)|0,Bo(B,0,g,U,E),Bo(B,1,J,M,E),Bo(B,2,J,M,E),h&&Bo(B,6,g,U,E),ar[w>>2]=0,ar[v>>2]=0,ar[T>>2]=0,ar[Z>>2]=0,ar[F>>2]=0,ar[b>>2]=0,ar[s>>2]=0,c=(ar[m>>2]=0)|Ro(0|ar[r>>2],3,w),l=0|Ro(0|ar[r>>2],4,v),u=0|Ro(0|ar[r>>2],5,T),G=0|Fo(B,0,F),J=0|Fo(B,1,b),M=0|Fo(B,2,s),Q=h?(D=0|Ro(0|ar[r>>2],6,Z),0|Fo(B,6,m)):D=0,n=1<<E+-1,a=(o=1<<E)-1|0,Be(Y),e=0|ar[i+16>>2])for(r=0|tr[e+10>>0],ye(X,y=0|or[e+8>>1],0|or[e+4>>1]),r=r<<24>>24!=0,y&=65535,e=X,f=(B=Y)+40|0;ar[B>>2]=ar[e>>2],e=e+4|0,(0|(B=B+4|0))<(0|f););else y=2,r=1;if(t=0<(0|U)){E=0<(0|g),i=0==(0|y),X=Y+4|0,I=Y+8|0,C=Y+12|0,B=0;do{A:do{if(E){if(i)f=0;else for(f=0;;)if(_=l+((0|br(0|ar[v>>2],B))+f)|0,N=c+((0|br(0|ar[w>>2],B))+f)|0,e=u+((0|br(0|ar[T>>2],B))+f)|0,V=(0|cr[N>>0])*gA[X>>2]+(0|cr[_>>0])*gA[I>>2]+(0|cr[e>>0])*gA[C>>2],e=(0|(e=0|ef(r?V:219*V*.00390625+16)))<0?0:255&((0|e)<(0|o)?e:a),_=G+((0|br(0|ar[F>>2],B))+f)|0,tr[_>>0]=e,(0|(f=f+1|0))==(0|g))break A;for(;e=l+((0|br(0|ar[v>>2],B))+f)|0,e=0|tr[e>>0],r||(e=(0|(e=0|ef(219*(255&e)*.00390625+16)))<0?0:255&((0|e)<(0|o)?e:a)),_=G+((0|br(0|ar[F>>2],B))+f)|0,tr[_>>0]=e,(0|(f=f+1|0))!=(0|g););}}while(0);B=B+1|0}while((0|B)!=(0|U));if(t){_=0<(0|g),I=0==(0|y),C=Y+16|0,G=Y+20|0,F=Y+24|0,R=Y+28|0,N=Y+32|0,X=Y+36|0,V=+(65535&n|0),i=0;do{if(_)for(E=0;e=I?(e=u+((0|br(0|ar[T>>2],i))+E)|0,e=0|tr[e>>0],y=(e=r?(y=(0|i)/(0|k)|0,f=(0|E)/(0|d)|0,Y=J+((0|br(0|ar[b>>2],y))+f)|0,tr[Y>>0]=e,e=c+((0|br(0|ar[T>>2],i))+E)|0,0|tr[e>>0]):(e=(0|(e=0|ef(219*(255&e)*.00390625+16)))<0?0:255&((0|e)<(0|o)?e:a),y=(0|i)/(0|k)|0,f=(0|E)/(0|d)|0,Y=J+((0|br(0|ar[b>>2],y))+f)|0,tr[Y>>0]=e,e=c+((0|br(0|ar[T>>2],i))+E)|0,(0|(e=0|ef(219*(0|cr[e>>0])*.00390625+16)))<0?0:255&((0|e)<(0|o)?e:a)),0|br(0|ar[b>>2],y)),B=e,y+f|0):(e=c+((0|br(0|ar[w>>2],i))+E)|0,x=+(0|cr[e>>0]),e=l+((0|br(0|ar[v>>2],i))+E)|0,H=+(0|cr[e>>0]),e=u+((0|br(0|ar[T>>2],i))+E)|0,W=+(0|cr[e>>0]),z=224*(j=x*gA[C>>2]+H*gA[G>>2]+W*gA[F>>2])*.00390625,W=r?x*gA[R>>2]+H*gA[N>>2]+W*gA[X>>2]:224*z*.00390625,e=(0|(e=0|ef(V+(r?j:z))))<0?0:255&((0|e)<(0|o)?e:a),f=(0|i)/(0|k)|0,y=(0|E)/(0|d)|0,Y=J+((0|br(0|ar[b>>2],f))+y)|0,tr[Y>>0]=e,B=e=(0|(e=0|ef(V+W)))<0?0:255&((0|e)<(0|o)?e:a),(0|br(0|ar[s>>2],f))+y|0),tr[M+e>>0]=B,(0|(E=E+d|0))<(0|g););i=i+k|0}while((0|i)<(0|U));if(h&t)for(e=0;hb(0|(T=Q+(0|br(0|ar[m>>2],e))|0),D+(0|br(0|ar[Z>>2],e))|0,0|g),(0|(e=e+1|0))!=(0|U););}}ar[A>>2]=S,ar[A+4>>2]=O,ur=p},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o=0,a=0;return ur=(t=ur)+48|0,n=t+36|0,e=t,8!=(0|(f=0|ar[(r|=0)+12>>2]))&&1==(0|ar[r>>2])&&3==(0|ar[r+4>>2])?(ar[n>>2]=0,ar[(o=4+n|0)>>2]=0,a=(ar[8+n>>2]=0)|ar[i+4>>2],i=0|tr[r+8>>0],ar[e>>2]=0,ar[e+4>>2]=a,tr[e+8>>0]=i,ar[e+12>>2]=f,ar[e+16>>2]=0,ar[(i=e+20|0)>>2]=0,gA[e+24>>2]=.75,gA[e+28>>2]=.5,gA[e+32>>2]=0,Nl(n,e),0|(e=0|ar[i>>2])&&du(e),ar[A>>2]=ar[n>>2],ar[A+4>>2]=ar[o>>2],ar[A+8>>2]=ar[8+n>>2]):(ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=0),void(ur=t)},function(A,e,r,i,f){A|=0,e|=0,i|=0,f|=0;var n,t,o,a,c,l,u,b,s,d,k,h,w,v,m,g,Z,p,y=0,B=0,E=0,X=0,W=0,I=0,C=0,G=0,V=0,F=0,R=0,N=0,_=0,Y=0,Q=0,D=0,J=0,M=0,T=0,U=0,S=0,O=0,z=0,j=0,H=0,x=0,P=0,L=0,K=0,q=0,$=0,AA=0,eA=0,rA=0,iA=0;if(ur=(p=ur)+112|0,o=p+108|0,a=p+104|0,n=p+100|0,Z=p+96|0,V=p+92|0,t=p+88|0,H=p+84|0,g=p+80|0,l=p+40|0,X=p,eA=0|ar[(r|=0)>>2],w=0|ar[eA+24>>2],eA=0|ar[eA+28>>2],v=255&(0|go(y=0|ar[i+4>>2])),m=255&(0|Zo(y)),E=255&(e=0|Vo(0|ar[r>>2],3)),e<<24>>24==8)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=p);if((q=0|Eo(0|ar[r>>2],6))&&(0|Vo(0|ar[r>>2],6))<<24>>24!=e<<24>>24)return ar[A>>2]=0,ar[A+4>>2]=0,void(ur=p);if(f=0|hu(80),ar[f+4>>2]=0,ar[f+8>>2]=0,ar[f>>2]=6208,ar[(B=f+12|0)>>2]=0,ar[B+4>>2]=0,ar[B+8>>2]=0,ar[B+12>>2]=0,ar[B+16>>2]=0,ar[f+32>>2]=32215,ar[f+36>>2]=0,ar[f+40>>2]=0,ar[f+44>>2]=99,ar[f+48>>2]=99,AA=f+52|0,ar[($=f+72|0)>>2]=0,ar[f+76>>2]=0,ar[AA>>2]=0,ar[AA+4>>2]=0,ar[AA+8>>2]=0,ar[AA+12>>2]=0,ar[f+68>>2]=$,$=B,K=(AA=f)+16|0,bu(f),su(f),e=0|ar[K>>2],ar[B>>2]=$,ar[K>>2]=AA,0|e&&ku(e),du(f),yo(B,w,eA,0,y),L=(w-1+v|0)/(0|v)|0,K=(eA+-1+m|0)/(0|m)|0,Bo(B,0,w,eA,E),Bo(B,1,L,K,E),Bo(B,2,L,K,E),q&&Bo(B,6,w,eA,E),ar[o>>2]=0,ar[a>>2]=0,ar[n>>2]=0,ar[Z>>2]=0,ar[V>>2]=0,ar[t>>2]=0,ar[H>>2]=0,d=(ar[g>>2]=0)|Ro(0|ar[r>>2],3,o),k=0|Ro(0|ar[r>>2],4,a),h=0|Ro(0|ar[r>>2],5,n),J=0|Fo(B,0,V),L=0|Fo(B,1,t),K=0|Fo(B,2,H),x=q?(P=0|Ro(0|ar[r>>2],6,Z),0|Fo(B,6,g)):P=0,ar[o>>2]=(0|ar[o>>2])/2|0,ar[a>>2]=(0|ar[a>>2])/2|0,ar[n>>2]=(0|ar[n>>2])/2|0,ar[Z>>2]=(0|ar[Z>>2])/2|0,ar[V>>2]=(0|ar[V>>2])/2|0,ar[t>>2]=(0|ar[t>>2])/2|0,ar[H>>2]=(0|ar[H>>2])/2|0,ar[g>>2]=(0|ar[g>>2])/2|0,c=1<<E+-1,s=(b=1<<E)-1|0,Be(l),e=0|ar[i+16>>2])for(r=0|tr[e+10>>0],ye(X,y=0|or[e+8>>1],0|or[e+4>>1]),r=r<<24>>24!=0,y&=65535,e=X,f=(B=l)+40|0;ar[B>>2]=ar[e>>2],e=e+4|0,(0|(B=B+4|0))<(0|f););else y=2,r=1;if(u=0<(0|eA)){_=0<(0|w),Y=0==(0|y),Q=0|ar[a>>2],X=0|ar[V>>2],V=0|ar[o>>2],F=0|ar[n>>2],W=+gA[4+l>>2],I=+gA[8+l>>2],C=+gA[12+l>>2],i=0;do{A:do{if(_){if(R=0|br(Q,i),N=0|br(X,i),B=0|br(V,i),E=0|br(F,i),Y)f=0;else for(f=0;;)if(z=(0|lr[d+(B+f<<1)>>1])*W+(0|lr[k+(R+f<<1)>>1])*I+(0|lr[h+(E+f<<1)>>1])*C,e=(0|(e=0|ef(r?z:219*z*.00390625+16)))<0?0:65535&((0|e)<(0|b)?e:s),or[J+(N+f<<1)>>1]=e,(0|(f=f+1|0))==(0|w))break A;for(;e=0|or[k+(R+f<<1)>>1],r||(e=(0|(e=0|ef(219*(65535&e)*.00390625+16)))<0?0:65535&((0|e)<(0|b)?e:s)),or[J+(N+f<<1)>>1]=e,(0|(f=f+1|0))!=(0|w););}}while(0);i=i+1|0}while((0|i)!=(0|eA));if(u){j=0<(0|w),J=0==(0|y),Q=0|ar[n>>2],Y=0|ar[t>>2],_=0|ar[o>>2],N=0|ar[a>>2],T=+gA[16+l>>2],U=+gA[20+l>>2],S=+gA[24+l>>2],O=+gA[28+l>>2],z=+gA[32+l>>2],M=+gA[36+l>>2],D=+(65535&c|0),X=0|ar[H>>2],i=0;do{if(j)for(V=0|br(Q,i),F=0|br(_,i),R=0|br(N,i),E=0;e=0|or[h+((f=V+E|0)<<1)>>1],e=J?(e=r?(y=0|br(Y,(0|i)/(0|m)|0),or[L+(y+(H=(0|E)/(0|v)|0)<<1)>>1]=e,f=0|or[d+(f<<1)>>1],H):(e=(0|(e=0|ef(219*(65535&e)*.00390625+16)))<0?0:65535&((0|e)<(0|b)?e:s),y=0|br(Y,(0|i)/(0|m)|0),or[L+(y+(B=(0|E)/(0|v)|0)<<1)>>1]=e,f=(0|(e=0|ef(219*(0|lr[d+(f<<1)>>1])*.00390625+16)))<0?0:65535&((0|e)<(0|b)?e:s),B),y+e|0):(I=224*(iA=(C=+(0|lr[d+(F+E<<1)>>1]))*T+(G=+(0|lr[k+(R+E<<1)>>1]))*U+(W=+(65535&e))*S)*.00390625,e=(0|(e=0|ef(D+(r?iA:I))))<0?0:65535&((0|e)<(0|b)?e:s),B=(0|E)/(0|v)|0,H=L+((0|br(Y,y=(0|i)/(0|m)|0))+B<<1)|0,or[H>>1]=e,f=e=(0|(e=0|ef(D+(r?C*O+G*z+W*M:224*I*.00390625))))<0?0:65535&((0|e)<(0|b)?e:s),(0|br(X,y))+B|0),or[K+(e<<1)>>1]=f,(0|(E=E+v|0))<(0|w););i=i+m|0}while((0|i)<(0|eA))}}if(q&&(rA=w<<1,u))for(e=0;hb(0|(q=x+((0|br(0|ar[g>>2],e))<<1)|0),P+((0|br(0|ar[Z>>2],e))<<1)|0,0|rA),(0|(e=e+1|0))!=(0|eA););ar[A>>2]=$,ar[A+4>>2]=AA,ur=p},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n=0;do{if(0|xu(A,0|ar[e+8>>2]))Lu(0,e,r,i);else if(0|xu(A,0|ar[e>>2])){if(A=e+32|0,(0|ar[e+16>>2])!=(0|r)&&(0|ar[(n=e+20|0)>>2])!=(0|r)){ar[A>>2]=i,ar[n>>2]=r,ar[(i=e+40|0)>>2]=1+(0|ar[i>>2]),1==(0|ar[e+36>>2])&&2==(0|ar[e+24>>2])&&(tr[e+54>>0]=1),ar[e+44>>2]=4;break}1==(0|i)&&(ar[A>>2]=1)}}while(0)},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0,a=0;do{if(0|xu(A,0|ar[e+8>>2]))Lu(0,e,r,i);else{if(n=A+8|0,!(0|xu(A,0|ar[e>>2]))){o=0|ar[n>>2],os[63&ar[24+(0|ar[o>>2])>>2]](o,e,r,i,f);break}if(A=e+32|0,(0|ar[e+16>>2])!=(0|r)&&(0|ar[(t=e+20|0)>>2])!=(0|r)){if(ar[A>>2]=i,4==(0|ar[(i=e+44|0)>>2]))break;tr[(A=e+52|0)>>0]=0,n=(tr[(a=e+53|0)>>0]=0)|ar[n>>2],as[15&ar[20+(0|ar[n>>2])>>2]](n,e,r,r,1,f),0|tr[a>>0]?0|tr[A>>0]?A=3:(A=3,o=11):(A=4,o=11),11==(0|o)&&(ar[t>>2]=r,ar[(a=e+40|0)>>2]=1+(0|ar[a>>2]),1==(0|ar[e+36>>2])&&2==(0|ar[e+24>>2])&&(tr[e+54>>0]=1)),ar[i>>2]=A;break}1==(0|i)&&(ar[A>>2]=1)}}while(0)},function(A,e,r,i,f){A|=0,e|=0,r|=0,i|=0,f|=0;var n=0,t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0,d=0,k=0,h=0;A:do{if(0|xu(A,0|ar[e+8>>2]))Lu(0,e,r,i);else{if(t=A+12|0,d=e+24|0,k=e+36|0,h=e+54|0,b=A+8|0,l=A+16|0,!(0|xu(A,0|ar[e>>2]))){if(o=A+16+((s=0|ar[t>>2])<<3)|0,rb(l,e,r,i,f),n=A+24|0,(0|s)<=1)break;if(0==(2&(t=0|ar[b>>2])|0)&&1!=(0|ar[k>>2])){if(!(1&t))for(;;){if(0|tr[h>>0])break A;if(1==(0|ar[k>>2]))break A;if(rb(n,e,r,i,f),o>>>0<=(n=n+8|0)>>>0)break A}for(;;){if(0|tr[h>>0])break A;if(1==(0|ar[k>>2])&&1==(0|ar[d>>2]))break A;if(rb(n,e,r,i,f),o>>>0<=(n=n+8|0)>>>0)break A}}for(;;){if(0|tr[h>>0])break A;if(rb(n,e,r,i,f),o>>>0<=(n=n+8|0)>>>0)break A}}if(n=e+32|0,(0|ar[e+16>>2])!=(0|r)&&(0|ar[(s=e+20|0)>>2])!=(0|r)){if(ar[n>>2]=i,4==(0|ar[(u=e+44|0)>>2]))break;i=A+16+(ar[t>>2]<<3)|0,a=e+52|0,c=e+53|0,A=l,o=n=0;e:for(;;){if(i>>>0<=A>>>0){t=18;break}if(tr[a>>0]=0,tr[c>>0]=0,eb(A,e,r,r,1,f),0|tr[h>>0]){t=18;break}do{if(0|tr[c>>0]){if(!(0|tr[a>>0])){if(1&ar[b>>2]){n=1,t=o;break}n=1,t=18;break e}if(1==(0|ar[d>>2])){t=23;break e}if(!(2&ar[b>>2])){t=23;break e}t=n=1}else t=o}while(0);A=A+8|0,o=t}do{if(18==(0|t)){if(!o&&(ar[s>>2]=r,ar[(r=e+40|0)>>2]=1+(0|ar[r>>2]),1==(0|ar[k>>2]))&&2==(0|ar[d>>2])){if(tr[h>>0]=1,n){t=23;break}n=4;break}n?t=23:n=4}}while(0);23==(0|t)&&(n=3),ar[u>>2]=n;break}1==(0|i)&&(ar[n>>2]=1)}}while(0)},function(A,e,r,i,f){A|=0,e|=0,r|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0;if(!((0|(i|=0))<=0)){t=255+(n=1<<f)|0,f=0;do{for(a=0|br(f,e),c=0|br(f,i),o=0;u=(0|cr[(l=A+(o+a)|0)>>0])+(0|ar[r+(o+c<<2)>>2])|0,tr[l>>0]=(0|u)<0?0:255&((0|u)<(0|n)?u:t),(0|(o=o+1|0))!=(0|i););f=f+1|0}while((0|f)!=(0|i))}},function(A,e,r,i,f){A|=0,e|=0,r|=0,f|=0;var n,t,o=0,a=0,c=0,l=0,u=0;if(!((0|(i|=0))<=0)){t=65535+(n=1<<f)|0,f=0;do{for(a=0|br(f,e),c=0|br(f,i),o=0;u=(0|lr[(l=A+(o+a<<1)|0)>>1])+(0|ar[r+(o+c<<2)>>2])|0,or[l>>1]=(0|u)<0?0:65535&((0|u)<(0|n)?u:t),(0|(o=o+1|0))!=(0|i););f=f+1|0}while((0|f)!=(0|i))}},function(A,e,r,i,f){A|=0,e|=0,i|=0;var n,t=0,o=0,a=0,c=0,l=0;if(n=1<<(f|=0)+-1,0<(0|(r|=0))){a=0;do{for(c=0|br(a,r),o=t=0;o=((or[e+((l=t+c|0)<<1)>>1]<<i)+n>>f)+o|0,ar[A+(l<<2)>>2]=o,(0|(t=t+1|0))!=(0|r););a=a+1|0}while((0|a)!=(0|r))}},function(A,e,r,i,f){A|=0,e|=0,i|=0;var n,t=0,o=0,a=0,c=0;if(n=1<<(f|=0)+-1,0<(0|(r|=0))){a=0;do{for(o=t=0;c=(0|br(t,r))+a|0,o=((or[e+(c<<1)>>1]<<i)+n>>f)+o|0,ar[A+(c<<2)>>2]=o,(0|(t=t+1|0))!=(0|r););a=a+1|0}while((0|a)!=(0|r))}},function(A,e,r,i,f){A|=0,e|=0,i|=0;var n,t=0,o=0,a=0,c=0;if(n=1<<(f|=0)+-1,0<(0|(r|=0))){o=0;do{for(a=0|br(o,r),t=0;ar[A+((c=t+a|0)<<2)>>2]=(or[e+(c<<1)>>1]<<i)+n>>f,(0|(t=t+1|0))!=(0|r););o=o+1|0}while((0|o)!=(0|r))}},Jb,Jb,Jb,Jb,Jb,Jb,Jb,Jb,Jb,Jb,Jb,Jb,Jb,Jb,Jb],as=[Mb,function(A,e,r,i,f,n){A|=0,r|=0,i|=0,f|=0,n|=0;var t,o=0,a=0,c=0,l=0,u=0;l=(a=0|ar[(o=(e|=0)+44|0)>>2])>>>0<(c=u=0|ar[(t=e+24|0)>>2])>>>0?(ar[o>>2]=u,c):a,a=24&n;A:do{if(0==(0|a)||1==(0|f)&24==(0|a))o=a=-1;else{e:do{switch(0|f){case 0:a=o=0;break;case 1:if(8&n){a=((0|(o=a=(0|ar[e+12>>2])-(0|ar[e+8>>2])|0))<0)<<31>>31;break e}a=((0|(o=a=c-(0|ar[e+20>>2])|0))<0)<<31>>31;break e;case 2:(0|tr[(o=e+32|0)+11>>0])<0&&(o=0|ar[o>>2]),a=((0|(o=a=l-o|0))<0)<<31>>31;break;default:o=a=-1;break A}}while(0);if(a=0|tb(0|o,0|a,0|r,0|i),0<=(0|(o=D)))if((0|tr[(c=e+32|0)+11>>0])<0&&(c=0|ar[c>>2]),(0|(r=((0|(i=l-c|0))<0)<<31>>31))<(0|o)|(0|r)==(0|o)&i>>>0<a>>>0)o=a=-1;else{if(c=8&n,!(0==(0|a)&0==(0|o))){if(0|c&&0==(0|ar[e+12>>2])){o=a=-1;break}if(0!=(16&n|0)&0==(0|u)){o=a=-1;break}}0|c&&(ar[e+12>>2]=(0|ar[e+8>>2])+a,ar[e+16>>2]=l),16&n&&(ar[t>>2]=(0|ar[e+20>>2])+a)}else o=a=-1}}while(0);ar[(u=A)>>2]=0,ar[u+4>>2]=0,ar[(A=A+8|0)>>2]=a,ar[A+4>>2]=o},function(A,e,r,i,f,n){n|=0,ar[(n=A|=0)>>2]=0,ar[n+4>>2]=0,ar[(n=A+8|0)>>2]=-1,ar[n+4>>2]=-1},function(A,e,r,i,f,n){n|=0,ar[(n=A|=0)>>2]=0,ar[n+4>>2]=0,ar[(n=A+8|0)>>2]=-1,ar[n+4>>2]=-1},function(A,e,r,i,f,n){var t,o,a,c;for(A|=0,e|=0,r|=0,n|=0,t=ur=(o=ur)+31&-32,ur=ur+16|0,ar[t>>2]=0,ar[4+t>>2]=0,e=ar[8+t>>2]=0;3!=(0|e);)e=e+1|(ar[t+(e<<2)>>2]=0);for(n=(e=(c=(a=0|tr[n+11>>0])<<24>>24<0)?0|ar[n>>2]:n)+(c?0|ar[n+4>>2]:255&a)|0;!(n>>>0<=e>>>0);)_u(t,0|tr[e>>0]),e=e+1|0;for(r=0|tf(0,0,0,e=(0|tr[11+t>>0])<0?0|ar[t>>2]:t),ar[A>>2]=0,ar[A+4>>2]=0,n=ar[A+8>>2]=0;3!=(0|n);)n=n+1|(ar[A+(n<<2)>>2]=0);for(n=e+(0|Vc(r))|0;!(n>>>0<=e>>>0);)_u(A,0|tr[e>>0]),e=e+1|0;Bu(t),ur=o},function(A,e,r,i,f,n){A|=0,e|=0,n|=0;var t,o,a,c,l,u,b=0,s=0,d=0,k=0,h=0,w=0;for(w=ur=(u=ur)+31&-32,ur=ur+176|0,o=w+168|0,a=w+40|0,c=w+36|0,l=w+32|0,k=(t=w)+24|0,w=w+16|0,ar[t>>2]=0,ar[t+4>>2]=0,e=ar[t+8>>2]=0;3!=(0|e);)e=e+1|(ar[t+(e<<2)>>2]=0);for(ar[k+4>>2]=0,ar[k>>2]=16892,s=(e=(d=(s=0|tr[n+8+3>>0])<<24>>24<0)?0|ar[n>>2]:n)+((d?0|ar[n+4>>2]:255&s)<<2)|0,d=32+a|0,n=e,e=0;2!=(0|e)&n>>>0<s>>>0;){if(ar[l>>2]=n,2==(0|(b=0|es[15&ar[12+(0|ar[k>>2])>>2]](k,o,n,s,l,a,d,c)))||(0|ar[l>>2])==(0|n)){h=7;break}for(e=a;!(e>>>0>=(0|ar[c>>2])>>>0);)_u(t,0|tr[e>>0]),e=e+1|0;n=0|ar[l>>2],e=b}for(7==(0|h)&&ti(),an(),n=0|tf(0,0,0,b=(0|tr[t+11>>0])<0?0|ar[t>>2]:t),ar[A>>2]=0,ar[A+4>>2]=0,e=ar[A+8>>2]=0;3!=(0|e);)e=e+1|(ar[A+(e<<2)>>2]=0);for(ar[w+4>>2]=0,ar[w>>2]=16940,d=s=b+(0|Vc(n))|0,k=128+a|0,n=b,e=0;;){if(!(2!=(0|e)&n>>>0<s>>>0)){h=21;break}if(ar[l>>2]=n,2==(0|(b=0|es[15&ar[16+(0|ar[w>>2])>>2]](w,o,n,32<(d-n|0)?n+32|0:s,l,a,k,c)))||(0|ar[l>>2])==(0|n)){h=17;break}for(e=a;!(e>>>0>=(0|ar[c>>2])>>>0);)Ou(A,0|ar[e>>2]),e=e+4|0;n=0|ar[l>>2],e=b}if(17==(0|h))ti();else if(21==(0|h))return an(),Bu(t),void(ur=u)},function(A,e,r,i,f,n){r|=0,i|=0,f|=0,n|=0,0|xu(A|=0,0|ar[(e|=0)+8>>2])&&Ku(0,e,r,i,f)},function(A,e,r,i,f,n){r|=0,i|=0,f|=0,n|=0,0|xu(A|=0,0|ar[(e|=0)+8>>2])?Ku(0,e,r,i,f):(A=0|ar[A+8>>2],as[15&ar[20+(0|ar[A>>2])>>2]](A,e,r,i,f,n))},function(A,e,r,i,f,n){r|=0,i|=0,f|=0,n|=0;var t=0,o=0,a=0,c=0,l=0,u=0,b=0,s=0;if(0|xu(A|=0,0|ar[(e|=0)+8>>2]))Ku(0,e,r,i,f);else{t=0|tr[(s=e+52|0)>>0],a=0|tr[(o=e+53|0)>>0],c=A+16+((b=0|ar[A+12>>2])<<3)|0,tr[s>>0]=0,eb(A+16|(tr[o>>0]=0),e,r,i,f,n);A:do{if(1<(0|b)){l=e+24|0,u=e+54|0,b=A+8|0,A=A+24|0;do{if(0|tr[u>>0])break A;if(0|tr[s>>0]){if(1==(0|ar[l>>2]))break A;if(!(2&ar[b>>2]))break A}else if(0|tr[o>>0]&&0==(1&ar[b>>2]|0))break A;tr[s>>0]=0,tr[o>>0]=0,eb(A,e,r,i,f,n),A=A+8|0}while(A>>>0<c>>>0)}}while(0);tr[s>>0]=t,tr[o>>0]=a}},function(A,e,r,i,f,n){A|=0,e|=0,r|=0,i|=0,n|=0;var t=0,o=0,a=0,c=0,l=0;if(1&(f|=0)|0&&sr(36230,36243,40,36262),0<(0|n)&0<(0|f)){a=0;do{for(t=A+(0|br(a,e))|0,o=r+((0|br(a,i))<<1)|0,c=0;l=32+(0|or[o>>1])>>6,tr[t>>0]=(0|l)<0?0:255&((0|l)<255?l:255),l=32+(0|or[o+2>>1])>>6,tr[t+1>>0]=(0|l)<0?0:255&((0|l)<255?l:255),!((0|f)<=(0|(c=c+2|0)));)t=t+2|0,o=o+4|0;a=a+1|0}while((0|a)!=(0|n))}},Mb,Mb,Mb,Mb,Mb,Mb],cs=[Tb,function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,f|=0,t|=0;var o=0,a=0,c=0,l=0,u=0,b=0;if(1&(n|=0)|0&&sr(36230,36243,105,36363),0<(0|t)&0<(0|n)){l=0;do{for(c=0|br(l,f),o=A+(0|br(l,e))|0,a=i+(c<<1)|0,c=r+(c<<1)|0,u=0;b=64+(0|or[c>>1])+(0|or[a>>1])>>7,tr[o>>0]=(0|b)<0?0:255&((0|b)<255?b:255),b=64+(0|or[c+2>>1])+(0|or[a+2>>1])>>7,tr[o+1>>0]=(0|b)<0?0:255&((0|b)<255?b:255),!((0|n)<=(0|(u=u+2|0)));)o=o+2|0,a=a+4|0,c=c+4|0;l=l+1|0}while((0|l)!=(0|t))}},function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,n|=0;var o,a,c,l,u=0,b=0,s=0,d=0;if(c=0<(0|(l=14-(t|=0)|0))?1<<l-1:0,1&(f|=0)|0&&sr(36230,36243,172,36396),!((0|n)<=0)&&(a=65535+(o=1<<t)|0,0<(0|f))){b=0;do{for(t=A+((0|br(b,e))<<1)|0,u=r+((0|br(b,i))<<1)|0,s=0;d=(0|or[u>>1])+c>>l,or[t>>1]=(0|d)<0?0:65535&((0|d)<(0|o)?d:a),d=(0|or[u+2>>1])+c>>l,or[t+2>>1]=(0|d)<0?0:65535&((0|d)<(0|o)?d:a),!((0|f)<=(0|(s=s+2|0)));)t=t+4|0,u=u+4|0;b=b+1|0}while((0|b)!=(0|n))}},function(A,e,r,i,f,n,t){A|=0,e|=0,r|=0,i|=0,t|=0;var o=0,a=0,c=0,l=0,u=0,b=0;if(0<(0|(n|=0))&0<(0|(f|=0))){c=0;do{for(t=r+(0|br(c,i))|0,o=A+((0|br(c,e))<<1)|0,a=0;b=(0|cr[t+1>>0])<<6&65535,u=(0|cr[t+2>>0])<<6&65535,l=(0|cr[t+3>>0])<<6&65535,or[o>>1]=(0|cr[t>>0])<<6,or[o+2>>1]=b,or[o+4>>1]=u,or[o+6>>1]=l,!((0|f)<=(0|(a=a+4|0)));)t=t+4|0,o=o+8|0;c=c+1|0}while((0|c)!=(0|n))}},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,0,1,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,0,2,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,0,3,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,1,0,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,1,1,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,1,2,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,1,3,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,2,0,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,2,1,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,2,2,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,2,3,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,3,0,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,3,1,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,3,2,8)},function(A,e,r,i,f,n,t){xo(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,3,3,8)},Tb,Tb,Tb,Tb,Tb,Tb,Tb,Tb,Tb,Tb,Tb,Tb,Tb],ls=[Ub,function(A,e,r,i,f,n,t,o){A|=0,e|=0,r|=0,i|=0,f|=0,t|=0;var a,c,l,u,b=0,s=0,d=0,k=0,h=0;if(l=1<<(u=15-(o|=0)|0)-1,1&(n|=0)|0&&sr(36230,36243,238,36490),!((0|t)<=0)&&(c=65535+(a=1<<o)|0,0<(0|n))){d=0;do{for(s=0|br(d,f),o=A+((0|br(d,e))<<1)|0,b=i+(s<<1)|0,s=r+(s<<1)|0,k=0;h=(0|or[s>>1])+l+(0|or[b>>1])>>u,or[o>>1]=(0|h)<0?0:65535&((0|h)<(0|a)?h:c),h=(0|or[s+2>>1])+l+(0|or[b+2>>1])>>u,or[o+2>>1]=(0|h)<0?0:65535&((0|h)<(0|a)?h:c),!((0|n)<=(0|(k=k+2|0)));)o=o+4|0,b=b+4|0,s=s+4|0;d=d+1|0}while((0|d)!=(0|t))}},function(A,e,r,i,f,n,t,o){A|=0,e|=0,r|=0,i|=0,t|=0;var a,c=0,l=0;if(a=14-(o|=0)|0,0<(0|(n|=0))&0<(0|(f|=0))){c=0;do{for(t=A+((0|br(c,e))<<1)|0,o=r+((0|br(c,i))<<1)|0,l=0;or[t>>1]=(0|lr[o>>1])<<a,(0|(l=l+1|0))!=(0|f);)t=t+2|0,o=o+2|0;c=c+1|0}while((0|c)!=(0|n))}},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,0,1,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,0,2,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,0,3,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,1,0,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,1,1,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,1,2,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,1,3,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,2,0,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,2,1,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,2,2,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,2,3,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,3,0,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,3,1,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,3,2,o|=0)},function(A,e,r,i,f,n,t,o){Po(A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,3,3,o|=0)},Ub,Ub,Ub,Ub,Ub,Ub,Ub,Ub,Ub,Ub,Ub,Ub,Ub,Ub],us=[Sb,function(A,e,r,i,f,n,t,o,a){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0;var c,l=0,u=0,b=0,s=0,d=0;if((0|(a|=0))<=0&&sr(36293,36243,60,36303),c=1<<a+-1,0<(0|n)&0<(0|f)){b=0;do{for(l=A+(0|br(b,e))|0,u=r+((0|br(b,i))<<1)|0,s=0;d=((0|br(0|or[u>>1],t))+c>>a)+o|0,tr[l>>0]=(0|d)<0?0:255&((0|d)<255?d:255),(0|(s=s+1|0))!=(0|f);)l=l+1|0,u=u+2|0;b=b+1|0}while((0|b)!=(0|n))}},function(A,e,r,i,f,n,t,o,a){A|=0,e|=0,r|=0,i|=0,t|=0,o|=0,a|=0;var c=0;if(0<(0|(n|=0))&0<(0|(f|=0))){a=0;do{for(t=r+(0|br(a,i))|0,o=A+((0|br(a,e))<<1)|0,c=0;or[o>>1]=(0|cr[t>>0])<<6,(0|(c=c+1|0))!=(0|f);)t=t+1|0,o=o+2|0;a=a+1|0}while((0|a)!=(0|n))}},Sb],bs=[Ob,function(A,e,r,i,f,n,t,o,a,c){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,c|=0;var l,u,b,s=0,d=0,k=0,h=0;if((0|(a|=0))<=0&&sr(36293,36243,193,36428),b=1<<a+-1,!((0|n)<=0)&&(u=65535+(l=1<<c)|0,0<(0|f))){d=0;do{for(c=A+((0|br(d,e))<<1)|0,s=r+((0|br(d,i))<<1)|0,k=0;h=((0|br(0|or[s>>1],t))+b>>a)+o|0,or[c>>1]=(0|h)<0?0:65535&((0|h)<(0|l)?h:u),(0|(k=k+1|0))!=(0|f);)c=c+2|0,s=s+2|0;d=d+1|0}while((0|d)!=(0|n))}},function(A,e,r,i,f,n,t,o,a,c){A|=0,e|=0,r|=0,i|=0,t|=0,o|=0,a|=0;var l,u,b,s=0,d=0,k=0,h=0,w=0,v=0;if(b=ur,k=(c|=0)+-8|0,h=0|br((f|=0)<<1,l=(n|=0)+3|0),ur=(u=ur)+(15+(0|+h)&-16)|0,-1<(0|(h=n+2|0))){w=0<(0|f),a=-1;do{A:do{if(w)for(d=a+1|0,a=r+(((s=0)|br(a,i))-1)|0;;){switch(0|t){case 0:c=0|cr[(a=a+1|0)>>0];break;case 1:v=a+1|0,c=(0|br(0|cr[a>>0],-2))+(58*(0|cr[v>>0])|0)+(10*(0|cr[a+2>>0])|0)-(cr[a+3>>0]<<1)>>k&65535,a=v;break;case 2:v=a+1|0,c=(0|br(0|cr[a>>0],-4))+(54*(0|cr[v>>0])|0)+(cr[a+2>>0]<<4)-(cr[a+3>>0]<<1)>>k&65535,a=v;break;case 3:v=a+1|0,c=(0|br(0|cr[a>>0],-6))+(46*(0|cr[v>>0])|0)+(28*(0|cr[a+2>>0])|0)-(cr[a+3>>0]<<2)>>k&65535,a=v;break;case 4:v=a+1|0,c=(0|br(0|cr[a>>0],-4))-(cr[a+3>>0]<<2)+(36*((0|cr[a+2>>0])+(0|cr[v>>0])|0)|0)>>k&65535,a=v;break;case 5:v=a+1|0,c=(0|br(0|cr[a>>0],-4))+(28*(0|cr[v>>0])|0)+(46*(0|cr[a+2>>0])|0)+(0|br(0|cr[a+3>>0],-6))>>k&65535,a=v;break;case 6:v=a+1|0,c=(0|br(0|cr[a>>0],-2))+(cr[v>>0]<<4)+(54*(0|cr[a+2>>0])|0)-(cr[a+3>>0]<<2)>>k&65535,a=v;break;default:v=a+1|0,c=(0|br(0|cr[a>>0],-2))+(10*(0|cr[v>>0])|0)+(58*(0|cr[a+2>>0])|0)-(cr[a+3>>0]<<1)>>k&65535,a=v}if(v=u+(d+(0|br(s,l))<<1)|0,or[v>>1]=c,(0|(s=s+1|0))==(0|f)){a=d;break A}}else a=a+1|0}while(0)}while((0|a)!=(0|h))}if(k=0==(0|t)?k:6,(0|f)<=0)ur=b;else{h=0<(0|n),d=0;do{A:do{if(h)for(a=u+(((s=0)|br(d,l))<<1)|0;;){switch(0|o){case 0:c=0|or[(a=a+2|0)>>1];break;case 1:v=a+2|0,c=(0|br(0|or[a>>1],-2))+(58*(0|or[v>>1])|0)+(10*(0|or[a+4>>1])|0)-(or[a+6>>1]<<1)>>k&65535,a=v;break;case 2:v=a+2|0,c=(0|br(0|or[a>>1],-4))+(54*(0|or[v>>1])|0)+(or[a+4>>1]<<4)-(or[a+6>>1]<<1)>>k&65535,a=v;break;case 3:v=a+2|0,c=(0|br(0|or[a>>1],-6))+(46*(0|or[v>>1])|0)+(28*(0|or[a+4>>1])|0)-(or[a+6>>1]<<2)>>k&65535,a=v;break;case 4:v=a+2|0,c=(0|br(0|or[a>>1],-4))-(or[a+6>>1]<<2)+(36*((0|or[a+4>>1])+(0|or[v>>1])|0)|0)>>k&65535,a=v;break;case 5:v=a+2|0,c=(0|br(0|or[a>>1],-4))+(28*(0|or[v>>1])|0)+(46*(0|or[a+4>>1])|0)+(0|br(0|or[a+6>>1],-6))>>k&65535,a=v;break;case 6:v=a+2|0,c=(0|br(0|or[a>>1],-2))+(or[v>>1]<<4)+(54*(0|or[a+4>>1])|0)-(or[a+6>>1]<<2)>>k&65535,a=v;break;default:v=a+2|0,c=(0|br(0|or[a>>1],-2))+(10*(0|or[v>>1])|0)+(58*(0|or[a+4>>1])|0)-(or[a+6>>1]<<1)>>k&65535,a=v}if(v=A+((0|br(s,e))+d<<1)|0,or[v>>1]=c,(0|(s=s+1|0))==(0|n))break A}}while(0);d=d+1|0}while((0|d)!=(0|f));ur=b}},function(A,e,r,i,f,n,t,o,a,c){var l;if(A|=0,e|=0,r|=0,i|=0,t|=0,o|=0,a|=0,l=14-(c|=0)|0,0<(0|(n|=0))&0<(0|(f|=0))){a=0;do{for(t=r+((0|br(a,i))<<1)|0,o=A+((0|br(a,e))<<1)|0,c=0;or[o>>1]=(0|lr[t>>1])<<l,(0|(c=c+1|0))!=(0|f);)t=t+2|0,o=o+2|0;a=a+1|0}while((0|a)!=(0|n))}},function(A,e,r,i,f,n,t,o,a,c){A|=0,e|=0,r|=0,i|=0,t|=0,o|=0,a|=0;var l,u,b,s=0,d=0,k=0,h=0,w=0,v=0;if(b=ur,k=(c|=0)+-8|0,h=0|br((f|=0)<<1,l=(n|=0)+3|0),ur=(u=ur)+(15+(0|+h)&-16)|0,-1<(0|(h=n+2|0))){w=0<(0|f),a=-1;do{A:do{if(w)for(d=a+1|0,a=r+(((s=0)|br(a,i))-1<<1)|0;;){switch(0|t){case 0:c=0|or[(a=a+2|0)>>1];break;case 1:v=a+2|0,c=(0|br(0|lr[a>>1],-2))+(58*(0|lr[v>>1])|0)+(10*(0|lr[a+4>>1])|0)-(lr[a+6>>1]<<1)>>k&65535,a=v;break;case 2:v=a+2|0,c=(0|br(0|lr[a>>1],-4))+(54*(0|lr[v>>1])|0)+(lr[a+4>>1]<<4)-(lr[a+6>>1]<<1)>>k&65535,a=v;break;case 3:v=a+2|0,c=(0|br(0|lr[a>>1],-6))+(46*(0|lr[v>>1])|0)+(28*(0|lr[a+4>>1])|0)-(lr[a+6>>1]<<2)>>k&65535,a=v;break;case 4:v=a+2|0,c=(0|br(0|lr[a>>1],-4))-(lr[a+6>>1]<<2)+(36*((0|lr[a+4>>1])+(0|lr[v>>1])|0)|0)>>k&65535,a=v;break;case 5:v=a+2|0,c=(0|br(0|lr[a>>1],-4))+(28*(0|lr[v>>1])|0)+(46*(0|lr[a+4>>1])|0)+(0|br(0|lr[a+6>>1],-6))>>k&65535,a=v;break;case 6:v=a+2|0,c=(0|br(0|lr[a>>1],-2))+(lr[v>>1]<<4)+(54*(0|lr[a+4>>1])|0)-(lr[a+6>>1]<<2)>>k&65535,a=v;break;default:v=a+2|0,c=(0|br(0|lr[a>>1],-2))+(10*(0|lr[v>>1])|0)+(58*(0|lr[a+4>>1])|0)-(lr[a+6>>1]<<1)>>k&65535,a=v}if(v=u+(d+(0|br(s,l))<<1)|0,or[v>>1]=c,(0|(s=s+1|0))==(0|f)){a=d;break A}}else a=a+1|0}while(0)}while((0|a)!=(0|h))}if(k=0==(0|t)?k:6,(0|f)<=0)ur=b;else{h=0<(0|n),d=0;do{A:do{if(h)for(a=u+(((s=0)|br(d,l))<<1)|0;;){switch(0|o){case 0:c=0|or[(a=a+2|0)>>1];break;case 1:v=a+2|0,c=(0|br(0|or[a>>1],-2))+(58*(0|or[v>>1])|0)+(10*(0|or[a+4>>1])|0)-(or[a+6>>1]<<1)>>k&65535,a=v;break;case 2:v=a+2|0,c=(0|br(0|or[a>>1],-4))+(54*(0|or[v>>1])|0)+(or[a+4>>1]<<4)-(or[a+6>>1]<<1)>>k&65535,a=v;break;case 3:v=a+2|0,c=(0|br(0|or[a>>1],-6))+(46*(0|or[v>>1])|0)+(28*(0|or[a+4>>1])|0)-(or[a+6>>1]<<2)>>k&65535,a=v;break;case 4:v=a+2|0,c=(0|br(0|or[a>>1],-4))-(or[a+6>>1]<<2)+(36*((0|or[a+4>>1])+(0|or[v>>1])|0)|0)>>k&65535,a=v;break;case 5:v=a+2|0,c=(0|br(0|or[a>>1],-4))+(28*(0|or[v>>1])|0)+(46*(0|or[a+4>>1])|0)+(0|br(0|or[a+6>>1],-6))>>k&65535,a=v;break;case 6:v=a+2|0,c=(0|br(0|or[a>>1],-2))+(or[v>>1]<<4)+(54*(0|or[a+4>>1])|0)-(or[a+6>>1]<<2)>>k&65535,a=v;break;default:v=a+2|0,c=(0|br(0|or[a>>1],-2))+(10*(0|or[v>>1])|0)+(58*(0|or[a+4>>1])|0)-(or[a+6>>1]<<1)>>k&65535,a=v}if(v=A+((0|br(s,e))+d<<1)|0,or[v>>1]=c,(0|(s=s+1|0))==(0|n))break A}}while(0);d=d+1|0}while((0|d)!=(0|f));ur=b}},Ob,Ob,Ob],ss=[function(A,e,r,i,f,n,t,o,a,c,l,u){Z(22)},function(A,e,r,i,f,n,t,o,a,c,l,u){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0;var b,s,d=0,k=0,h=0;if((0|(u|=0))<=0&&sr(36293,36243,80,36332),s=a+1+l<<u,!((0|t)<=0)&&(b=u+1|0,0<(0|n))){d=0;do{for(u=0|br(d,f),l=A+(0|br(d,e))|0,a=i+(u<<1)|0,u=r+(u<<1)|0,k=0;h=(h=0|br(0|or[u>>1],o))+s+(0|br(0|or[a>>1],c))>>b,tr[l>>0]=(0|h)<0?0:255&((0|h)<255?h:255),(0|(k=k+1|0))!=(0|n);)l=l+1|0,a=a+2|0,u=u+2|0;d=d+1|0}while((0|d)!=(0|t))}}],ds=[function(A,e,r,i,f,n,t,o,a,c,l,u,b){Z(23)},function(A,e,r,i,f,n,t,o,a,c,l,u,b){A|=0,e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,b|=0;var s,d,k,h,w=0,v=0;if((0|(u|=0))<=0&&sr(36293,36243,213,36458),h=a+1+l<<u,!((0|t)<=0)&&(k=u+1|0,d=65535+(s=1<<b)|0,0<(0|n))){b=0;do{for(u=0|br(b,f),l=A+((0|br(b,e))<<1)|0,a=i+(u<<1)|0,u=r+(u<<1)|0,w=0;v=(v=0|br(0|or[u>>1],o))+h+(0|br(0|or[a>>1],c))>>k,or[l>>1]=(0|v)<0?0:65535&((0|v)<(0|s)?v:d),(0|(w=w+1|0))!=(0|n);)l=l+2|0,a=a+2|0,u=u+2|0;b=b+1|0}while((0|b)!=(0|t))}}];return{__GLOBAL__I_000101:function(){!function(A){A|=0;var e=0;(function(A,e,r){var i,f;e|=0,r|=0,f=ur=(i=ur)+31&-32,ur=ur+16|0,Sf(A|=0),ar[A>>2]=14636,ar[A+32>>2]=e,ar[A+40>>2]=r,r=-1,ar[A+48>>2]=r,tr[A+52>>0]=0,r=0|ar[8+(0|ar[A>>2])>>2],ru(f,A+4|0),fs[63&r](A,f),bn(f),ur=i})(58864,A=0|ar[2637],58920),ar[14546]=14208,ar[14548]=14228,ar[14547]=0,Jf(58192,58864),ar[14566]=0,e=-1,ar[14567]=e,function(A,e,r){var i,f;e|=0,r|=0,f=ur=(i=ur)+31&-32,ur=ur+16|0,Of(A|=0),ar[A>>2]=14572,ar[A+32>>2]=e,ar[A+40>>2]=r,r=-1,ar[A+48>>2]=r,tr[A+52>>0]=0,r=0|ar[8+(0|ar[A>>2])>>2],ru(f,A+4|0),fs[63&r](A,f),bn(f),ur=i}(58928,A,58984),ar[14568]=14256,ar[14570]=14276,ar[14569]=0,Jf(58280,58928),ar[14588]=0,A=-1,ar[14589]=A,qf(58992,A=0|ar[2543],59040),ar[14590]=28,ar[14591]=48,Jf(58364,58992),ar[14609]=0,e=-1,ar[14610]=e,$f(59048,A,59096),ar[14611]=14312,ar[14612]=14332,Jf(58448,59048),ar[14630]=0,A=-1,ar[14631]=A,qf(59104,A=0|ar[2669],59152),ar[14632]=28,ar[14633]=48,Jf(58532,59104),ar[14651]=0,e=-1,ar[14652]=e,e=0|ar[58528+(0|ar[(0|ar[14632])-12>>2])+24>>2],ar[14674]=28,ar[14675]=48,Jf(58700,e),ar[14693]=0,e=-1,ar[14694]=e,$f(59160,A,59208),ar[14653]=14312,ar[14654]=14332,Jf(58616,59160),ar[14672]=0,A=-1,ar[14673]=A,A=0|ar[58612+(0|ar[(0|ar[14653])-12>>2])+24>>2],ar[14695]=14312,ar[14696]=14332,Jf(58784,A),ar[14714]=0,A=-1,ar[14715]=A,ar[58184+(0|ar[(0|ar[14546])-12>>2])+72>>2]=58360,ar[58272+(0|ar[(0|ar[14568])-12>>2])+72>>2]=58444,A=58528+(0|ar[(0|ar[14632])-12>>2])+4|0,ar[A>>2]=8192|ar[A>>2],A=58612+(0|ar[(0|ar[14653])-12>>2])+4|0,ar[A>>2]=8192|ar[A>>2],ar[58528+(0|ar[(0|ar[14632])-12>>2])+72>>2]=58360,ar[58612+(0|ar[(0|ar[14653])-12>>2])+72>>2]=58444}(0)},__GLOBAL__sub_I_bind_cpp:function(){rA(4080,48907),S(4096,48912,1,1,0),L(4104,48917,1,-128,127),L(4120,48922,1,-128,127),L(4112,48934,1,0,255),L(4128,48948,2,-32768,32767),L(4136,48954,2,0,65535),L(4144,48969,4,-2147483648,2147483647),L(4152,48973,4,0,-1),L(4160,48986,4,-2147483648,2147483647),L(4168,48991,4,0,-1),x(4176,49005,4),x(4184,49011,8),q(1408,49018),q(2336,49030),$(2360,4,49063),z(1400,49076),K(2384,0,49092),K(2392,0,49122),K(2400,1,49159),K(2408,2,49198),K(2416,3,49229),K(2424,4,49269),K(2432,5,49298),K(2440,4,49336),K(2448,5,49366),K(2392,0,49405),K(2400,1,49437),K(2408,2,49470),K(2416,3,49503),K(2424,4,49537),K(2432,5,49570),K(2456,6,49604),K(2464,7,49635),K(2472,7,49667)},__GLOBAL__sub_I_box_cc:function(){var A,e;ur=(e=ur)+16|0,ar[(A=e)>>2]=0,ar[A+4>>2]=0,oo(56592,ar[A+8>>2]=0,0,A),ur=(0<=(0|tr[A+11>>0])||vu(0|ar[A>>2]),e)},__GLOBAL__sub_I_heif_cc:function(){!function(A){A|=0;var e=0;P(26177,1,6244,26194,67,435),P(26197,1,6248,26194,68,2),P(26221,1,6252,26194,69,3),P(26240,2,6256,26258,44,436),P(26262,3,6264,26292,32,77),P(26297,2,6276,26341,20,70),P(26345,2,6284,26341,21,45),P(26393,3,6292,26292,33,78),P(26426,4,6304,26447,7,10),P(26453,2,6320,26258,46,437),j(1224,26479,4,0),H(1224,26495,0),H(1224,26509,1),H(1224,26541,2),H(1224,26566,3),H(1224,26598,4),H(1224,26629,5),H(1224,26652,6),H(1224,26687,7),H(1224,26719,8),H(1224,26751,9),H(1224,26777,10),j(1232,26817,4,0),H(1232,26836,0),H(1232,26862,5e3),H(1232,26901,100),H(1232,26927,101),H(1232,26958,102),H(1232,26984,103),H(1232,27010,104),H(1232,27036,105),H(1232,27062,106),H(1232,27088,107),H(1232,27114,108),H(1232,27140,109),H(1232,27166,110),H(1232,27192,111),H(1232,27218,112),H(1232,27244,113),H(1232,27270,114),H(1232,27300,115),H(1232,27355,116),H(1232,27400,117),H(1232,27427,118),H(1232,27459,119),H(1232,27493,131),H(1232,27519,120),H(1232,27556,121),H(1232,27591,122),H(1232,27637,123),H(1232,27684,124),H(1232,27725,125),H(1232,27751,1e3),H(1232,27789,126),H(1232,27830,127),H(1232,27875,128),H(1232,27915,129),H(1232,27948,2e3),H(1232,27990,2001),H(1232,28026,2002),H(1232,28077,2003),H(1232,28118,2004),H(1232,28159,2005),H(1232,28195,2006),H(1232,28233,130),H(1232,28264,3e3),H(1232,28296,3001),H(1232,28333,3002),H(1232,28372,3003),H(1232,28415,3004),H(1232,28466,4e3),j(1240,28502,4,0),H(1240,28526,0),H(1240,28553,1),H(1240,28575,2),H(1240,28596,3),H(1240,28618,4),j(1248,28639,4,0),H(1248,28651,99),H(1248,28673,0),H(1248,28696,1),H(1248,28712,2),H(1248,28728,3),H(1248,28744,10),H(1248,28772,11),H(1248,28801,12),H(1248,28835,13),H(1248,28871,14),H(1248,28905,15),H(1248,28941,10),H(1248,28971,11),j(1256,29001,4,0),H(1256,29017,99),H(1256,29043,0),H(1256,29065,1),H(1256,29085,2),j(1264,29112,4,0),H(1264,29125,0),H(1264,29140,2),H(1264,29156,1),H(1264,29172,3),H(1264,29187,4),H(1264,29202,5),H(1264,29217,6),H(1264,29236,10),O(1272,1280,1296,0,26194,71,29274,0,29274,0,29261,29276,438),O(1312,1320,1336,0,26194,72,29274,0,29274,0,29279,29276,439),O(1352,1360,1376,0,26194,73,29274,0,29274,0,29297,29276,440),AA(1392,29308,29319,4,29276,441),A=0|hu(4),ar[A>>2]=0,e=0|hu(4),ar[e>>2]=0,eA(1392,29321,1224,26341,22,0|A,1224,29326,79,0|e),e=0|hu(4),ar[e>>2]=4,A=0|hu(4),ar[A>>2]=4,eA(1392,29331,1232,26341,23,0|e,1232,29326,80,0|A),U(1392)}(0)},__GLOBAL__sub_I_heif_plugin_registry_cc:function(){ar[14321]=0,ar[14322]=0,ar[14320]=57284,ar[14324]=0,ar[14325]=0,ar[14323]=57296,function(A){A|=0;var e,r=0,i=0,f=0;f=7580,0|(A=0|ar[(e=f)+8>>2])&&rs[7&A]();A=0|ar[14321];do{if(A){for(i=57284;;){if(r=0|ar[A+16>>2],f>>>0<r>>>0){if(!(r=0|ar[A>>2])){r=7;break}}else{if(f>>>0<=r>>>0){r=11;break}if(!(r=0|ar[(i=A+4|0)>>2])){r=10;break}A=i}i=A,A=r}if(7==(0|r)){i=f=A;break}if(10==(0|r)){f=A;break}if(11==(0|r)){f=A;break}}else i=f=57284}while(0);if(0|ar[i>>2])return;A=0|hu(20),ar[A+16>>2]=e,ar[A>>2]=0,ar[A+4>>2]=0,ar[A+8>>2]=f,ar[i>>2]=A,(r=0|ar[ar[14320]>>2])&&(ar[14320]=r,A=0|ar[i>>2]);so(0|ar[14321],A),ar[14322]=1+(0|ar[14322])}(61160)},__GLOBAL__sub_I_iostream_cpp:function(){},___cxa_can_catch:function(A,e,r){var i,f;return A|=0,e|=0,r|=0,i=ur=(f=ur)+31&-32,ur=ur+16|0,ar[i>>2]=ar[r>>2],(A=0|xb[63&ar[16+(0|ar[A>>2])>>2]](A,e,i))&&(ar[r>>2]=ar[i>>2]),ur=f,1&A|0},___cxa_is_pointer_type:function(A){return 1&(A=(A|=0)?0!=(0|qu(A,3960,4048,0)):0)|0},___errno_location:Cc,___getTypeName:function(A){return 0|(e=0|ar[(A|=0)+4>>2],(i=(i=0)|yc(r=1+(0|Vc(e|=0))|0))?hb(0|i,0|e,0|r):i=0,0|i);var e,r,i},___muldi3:nb,___udivdi3:lb,___uremdi3:ub,_bitshift64Ashr:bb,_bitshift64Lshr:sb,_bitshift64Shl:db,_emscripten_get_global_libc:function(){return 58064},_emscripten_replace_memory:function(A){return!(16777215&u(A)||u(A)<=16777215||2147483648<u(A))&&(tr=new i(A),or=new f(A),ar=new n(A),cr=new t(A),lr=new o(A),new a(A),gA=new c(A),Q=new l(A),r=A,!0)},_free:Bc,_i64Add:tb,_i64Subtract:ob,_llvm_bswap_i32:kb,_malloc:yc,_memcpy:hb,_memmove:wb,_memset:vb,_pthread_cond_broadcast:mb,_pthread_mutex_lock:gb,_pthread_mutex_unlock:Zb,_roundf:pb,_sbrk:yb,dynCall_i:function(A){return 0|zb[7&(A|=0)]()},dynCall_ii:function(A,e){return e|=0,0|jb[127&(A|=0)](0|e)},dynCall_iii:function(A,e,r){return e|=0,r|=0,0|Hb[31&(A|=0)](0|e,0|r)},dynCall_iiii:function(A,e,r,i){return e|=0,r|=0,i|=0,0|xb[63&(A|=0)](0|e,0|r,0|i)},dynCall_iiiii:function(A,e,r,i,f){return e|=0,r|=0,i|=0,f|=0,0|Pb[7&(A|=0)](0|e,0|r,0|i,0|f)},dynCall_iiiiid:function(A,e,r,i,f,n){return e|=0,r|=0,i|=0,f|=0,n=+n,0|Lb[7&(A|=0)](0|e,0|r,0|i,0|f,+n)},dynCall_iiiiii:function(A,e,r,i,f,n){return e|=0,r|=0,i|=0,f|=0,n|=0,0|Kb[31&(A|=0)](0|e,0|r,0|i,0|f,0|n)},dynCall_iiiiiid:function(A,e,r,i,f,n,t){return e|=0,r|=0,i|=0,f|=0,n|=0,t=+t,0|qb[3&(A|=0)](0|e,0|r,0|i,0|f,0|n,+t)},dynCall_iiiiiii:function(A,e,r,i,f,n,t){return e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,0|$b[63&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t)},dynCall_iiiiiiii:function(A,e,r,i,f,n,t,o){return e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,0|As[7&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t,0|o)},dynCall_iiiiiiiii:function(A,e,r,i,f,n,t,o,a){return e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,0|es[15&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t,0|o,0|a)},dynCall_v:function(A){rs[7&(A|=0)]()},dynCall_vi:function(A,e){e|=0,is[511&(A|=0)](0|e)},dynCall_vii:function(A,e,r){e|=0,r|=0,fs[63&(A|=0)](0|e,0|r)},dynCall_viii:function(A,e,r,i){e|=0,r|=0,i|=0,ns[127&(A|=0)](0|e,0|r,0|i)},dynCall_viiii:function(A,e,r,i,f){e|=0,r|=0,i|=0,f|=0,ts[31&(A|=0)](0|e,0|r,0|i,0|f)},dynCall_viiiii:function(A,e,r,i,f,n){e|=0,r|=0,i|=0,f|=0,n|=0,os[63&(A|=0)](0|e,0|r,0|i,0|f,0|n)},dynCall_viiiiii:function(A,e,r,i,f,n,t){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,as[15&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t)},dynCall_viiiiiii:function(A,e,r,i,f,n,t,o){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,cs[31&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t,0|o)},dynCall_viiiiiiii:function(A,e,r,i,f,n,t,o,a){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,ls[31&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t,0|o,0|a)},dynCall_viiiiiiiii:function(A,e,r,i,f,n,t,o,a,c){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,us[3&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t,0|o,0|a,0|c)},dynCall_viiiiiiiiii:function(A,e,r,i,f,n,t,o,a,c,l){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,bs[7&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t,0|o,0|a,0|c,0|l)},dynCall_viiiiiiiiiiii:function(A,e,r,i,f,n,t,o,a,c,l,u,b){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0,ss[1&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t,0|o,0|a,0|c,0|l,0|u,0|b)},dynCall_viiiiiiiiiiiii:function(A,e,r,i,f,n,t,o,a,c,l,u,b,s){e|=0,r|=0,i|=0,f|=0,n|=0,t|=0,o|=0,a|=0,c|=0,l|=0,u|=0,b|=0,s|=0,ds[1&(A|=0)](0|e,0|r,0|i,0|f,0|n,0|t,0|o,0|a,0|c,0|l,0|u,0|b,0|s)},establishStackSpace:function(A,e){ur=A|=0,e|=0},getTempRet0:function(){return 0|D},runPostSets:function(){},setTempRet0:function(A){D=A|=0},setThrew:function(A,e){A|=0,e|=0,k||(k=A,0)},stackAlloc:function(A){var e;return ur=(ur=(e=ur)+(A|=0)|0)+15&-16,0|e},stackRestore:function(A){ur=A|=0},stackSave:function(){return 0|ur}}}(d.asmGlobalArg,d.asmLibraryArg,y),Zr=d.__GLOBAL__I_000101=gr.__GLOBAL__I_000101,pr=d.__GLOBAL__sub_I_bind_cpp=gr.__GLOBAL__sub_I_bind_cpp,yr=d.__GLOBAL__sub_I_box_cc=gr.__GLOBAL__sub_I_box_cc,Br=d.__GLOBAL__sub_I_heif_cc=gr.__GLOBAL__sub_I_heif_cc,Er=d.__GLOBAL__sub_I_heif_plugin_registry_cc=gr.__GLOBAL__sub_I_heif_plugin_registry_cc,Xr=d.__GLOBAL__sub_I_iostream_cpp=gr.__GLOBAL__sub_I_iostream_cpp,Wr=(d.___cxa_can_catch=gr.___cxa_can_catch,d.___cxa_is_pointer_type=gr.___cxa_is_pointer_type,d.___errno_location=gr.___errno_location,d.___getTypeName=gr.___getTypeName),Ir=(d.___muldi3=gr.___muldi3,d.___udivdi3=gr.___udivdi3,d.___uremdi3=gr.___uremdi3,d._bitshift64Ashr=gr._bitshift64Ashr,d._bitshift64Lshr=gr._bitshift64Lshr,d._bitshift64Shl=gr._bitshift64Shl,d._emscripten_get_global_libc=gr._emscripten_get_global_libc,d._emscripten_replace_memory=gr._emscripten_replace_memory),Cr=d._free=gr._free,Gr=(d._i64Add=gr._i64Add,d._i64Subtract=gr._i64Subtract,d._llvm_bswap_i32=gr._llvm_bswap_i32,d._malloc=gr._malloc);d._memcpy=gr._memcpy,d._memmove=gr._memmove,d._memset=gr._memset,d._pthread_cond_broadcast=gr._pthread_cond_broadcast,d._pthread_mutex_lock=gr._pthread_mutex_lock,d._pthread_mutex_unlock=gr._pthread_mutex_unlock,d._roundf=gr._roundf,d._sbrk=gr._sbrk,d.establishStackSpace=gr.establishStackSpace,d.getTempRet0=gr.getTempRet0,d.runPostSets=gr.runPostSets,d.setTempRet0=gr.setTempRet0,d.setThrew=gr.setThrew,d.stackAlloc=gr.stackAlloc,d.stackRestore=gr.stackRestore,d.stackSave=gr.stackSave,d.dynCall_i=gr.dynCall_i,d.dynCall_ii=gr.dynCall_ii,d.dynCall_iii=gr.dynCall_iii,d.dynCall_iiii=gr.dynCall_iiii,d.dynCall_iiiii=gr.dynCall_iiiii,d.dynCall_iiiiid=gr.dynCall_iiiiid,d.dynCall_iiiiii=gr.dynCall_iiiiii,d.dynCall_iiiiiid=gr.dynCall_iiiiiid,d.dynCall_iiiiiii=gr.dynCall_iiiiiii,d.dynCall_iiiiiiii=gr.dynCall_iiiiiiii,d.dynCall_iiiiiiiii=gr.dynCall_iiiiiiiii,d.dynCall_v=gr.dynCall_v,d.dynCall_vi=gr.dynCall_vi,d.dynCall_vii=gr.dynCall_vii,d.dynCall_viii=gr.dynCall_viii,d.dynCall_viiii=gr.dynCall_viiii,d.dynCall_viiiii=gr.dynCall_viiiii,d.dynCall_viiiiii=gr.dynCall_viiiiii,d.dynCall_viiiiiii=gr.dynCall_viiiiiii,d.dynCall_viiiiiiii=gr.dynCall_viiiiiiii,d.dynCall_viiiiiiiii=gr.dynCall_viiiiiiiii,d.dynCall_viiiiiiiiii=gr.dynCall_viiiiiiiiii,d.dynCall_viiiiiiiiiiii=gr.dynCall_viiiiiiiiiiii,d.dynCall_viiiiiiiiiiiii=gr.dynCall_viiiiiiiiiiiii;if(k.stackAlloc=d.stackAlloc,k.stackSave=d.stackSave,k.stackRestore=d.stackRestore,k.establishStackSpace=d.establishStackSpace,k.setTempRet0=d.setTempRet0,k.getTempRet0=d.getTempRet0,d.asm=gr,bA)if("function"==typeof d.locateFile?bA=d.locateFile(bA):d.memoryInitializerPrefixURL&&(bA=d.memoryInitializerPrefixURL+bA),o||r){var Vr=d.readBinary(bA);E.set(Vr,k.GLOBAL_BASE)}else{lA();var Fr=function(A){A.byteLength&&(A=new Uint8Array(A)),E.set(A,k.GLOBAL_BASE),d.memoryInitializerRequest&&delete d.memoryInitializerRequest.response,uA()};function Rr(){d.readAsync(bA,Fr,function(){throw"could not load memory initializer "+bA})}var Nr=vr(bA);if(Nr)Fr(Nr.buffer);else if(d.memoryInitializerRequest){function _r(){var A=d.memoryInitializerRequest,e=A.response;if(200!==A.status&&0!==A.status){var r=vr(d.memoryInitializerRequestURL);if(!r)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+A.status+", retrying "+bA),void Rr();e=r.buffer}Fr(e)}d.memoryInitializerRequest.response?setTimeout(_r,0):d.memoryInitializerRequest.addEventListener("load",_r)}else Rr()}function Yr(A){this.name="ExitStatus",this.message="Program terminated with exit("+A+")",this.status=A}(Yr.prototype=new Error).constructor=Yr;var Qr=null;function Dr(A){function e(){d.calledRun||(d.calledRun=!0,n||(AA||(AA=!0,x(L)),x(K),d.onRuntimeInitialized&&d.onRuntimeInitialized(),function(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)A=d.postRun.shift(),$.unshift(A);var A;x($)}()))}A=A||d.arguments,null===Qr&&(Qr=Date.now()),0<oA||(function(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)A=d.preRun.shift(),P.unshift(A);var A;x(P)}(),0<oA||d.calledRun||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),e()},1)):e()))}cA=function A(){d.calledRun||Dr(),d.calledRun||(cA=A)},d.run=Dr,d.exit=function(A,e){e&&d.noExitRuntime&&0===A||(d.noExitRuntime||(n=!0,_=mr,x(q),d.onExit&&d.onExit(A)),o&&process.exit(A),d.quit(A,new Yr(A)))};var Jr=[];function Mr(e){d.onAbort&&d.onAbort(e),e=void 0!==e?(d.print(e),d.printErr(e),JSON.stringify(e)):"",n=!0,0;var r="abort("+e+") at "+p()+"\\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw Jr&&Jr.forEach(function(A){r=A(r,e)}),r}if(d.abort=Mr,d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();d.noExitRuntime=!0,Dr();function Tr(A){this.handle=A,this.img=null}Tr.prototype.free=function(){this.handle&&(zr.heif_image_handle_release(this.handle),this.handle=null)},Tr.prototype._ensureImage=function(){if(!this.img){var A=zr.heif_js_decode_image(this.handle,zr.heif_colorspace_YCbCr,zr.heif_chroma_420);A&&!A.code?(this.data=new Uint8Array(function(A){for(var e=new ArrayBuffer(A.length),r=new Uint8Array(e),i=0,f=A.length;i<f;i++)r[i]=A.charCodeAt(i);return e}(A.data)),delete A.data,this.img=A):console.log("Decoding image failed",this.handle,A)}},Tr.prototype.get_width=function(){return this._ensureImage(),this.img.width},Tr.prototype.get_height=function(){return this._ensureImage(),this.img.height},Tr.prototype.is_primary=function(){return this._ensureImage(),!!this.img.is_primary},Tr.prototype.display=function(m,g){var Z=this.get_width(),p=this.get_height();setTimeout(function(){if(this._ensureImage(),this.img){for(var A,e,r,i,f=0,n=0,t=0,o=0,a=0,c=0,l=Z*p,u=Z,b=Math.ceil(Z/2),s=Math.ceil(Z/2),d=Math.ceil(p/2),k=this.data,h=this.data.subarray(u*p,u*p+b*d),w=this.data.subarray(u*p+b*d,u*p+b*d+s*d),v=m.data;c<l;)i=f>>1,A=1.164*(k[t+f]-16),e=h[o+i]-128,r=w[a+i]-128,v[c<<2]=A+1.596*r,v[1+(c<<2)]=A-.813*r-.391*e,v[2+(c<<2)]=A+2.018*e,v[3+(c<<2)]=255,c++,++f<Z&&(A=1.164*(k[t+f]-16),v[c<<2]=A+1.596*r,v[1+(c<<2)]=A-.813*r-.391*e,v[2+(c<<2)]=A+2.018*e,v[3+(c<<2)]=255,c++,f++),f===Z&&(f=0,t+=u,o=(++n>>1)*b,a=(n>>1)*s);g(m)}else g(null)}.bind(this),0)};function Ur(){this.decoder=null}Ur.prototype.decode=function(A){if(this.decoder&&zr.heif_context_free(this.decoder),this.decoder=zr.heif_context_alloc(),!this.decoder)return console.log("Could not create HEIF context"),[];var e=zr.heif_context_read_from_memory(this.decoder,A);if(e.code!==zr.heif_error_Ok)return console.log("Could not parse HEIF file",e),[];var r=zr.heif_js_context_get_list_of_top_level_image_IDs(this.decoder);if(!r||r.code)return console.log("Error loading image ids",r),[];if(!r.length)return console.log("No images found"),[];for(var i=[],f=0;f<r.length;f++){var n=zr.heif_js_context_get_image_handle(this.decoder,r[f]);n&&!n.code?i.push(new Tr(n)):console.log("Could not get image data for id",r[f],n)}return i};var Sr,Or,zr={HeifDecoder:Ur,fourcc:function(A){return A.charCodeAt(0)<<24|A.charCodeAt(1)<<16|A.charCodeAt(2)<<8|A.charCodeAt(3)}},jr={heif_error_code:!0,heif_suberror_code:!0,heif_compression_format:!0,heif_chroma:!0,heif_colorspace:!0,heif_channel:!0};for(Or in jr)if(jr.hasOwnProperty(Or))for(Sr in d[Or])d[Or].hasOwnProperty(Sr)&&"values"!==Sr&&(zr[Sr]=d[Or][Sr]);for(Sr in d)jr.hasOwnProperty(Sr)||0!==Sr.indexOf("heif_")||(zr[Sr]=d[Sr]);function QA(A,e){return A=YA(A=A||"function_"+new Date),new Function("body","return function "+A+'() {\\n    "use strict";    return body.apply(this, arguments);\\n};\\n')(e)}delete this.Module;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=zr),exports.libheif=zr):this.libheif=zr,"function"==typeof define&&define.amd&&define([],function(){return zr})}).call(this);
;
function processSingleImage(image) {
    return new Promise((resolve, reject) => {
        const w = image.get_width();
        const h = image.get_height();
        const whiteImage = new ImageData(w, h);
        for (let i = 0; i < w * h; i++) {
            whiteImage.data[i * 4 + 3] = 255;
        }
        image.display(whiteImage, (imageData) => {
            if (!imageData) {
                return reject("ERR_LIBHEIF Error while processing single image and generating image data, could not ensure image");
            }
            resolve(imageData);
        });
    });
}
onmessage = (message) => {
    const id = message.data.id;
    try {
        const decoder = new libheif.HeifDecoder();
        let imagesArr = decoder.decode(message.data.buffer);
        if (!imagesArr || !imagesArr.length) {
            throw "ERR_LIBHEIF format not supported";
        }
        imagesArr = imagesArr.filter((x) => {
            let valid = true;
            try {
                /*
                sometimes the heic container is valid
                yet the images themselves are corrupt
                */
                x.get_height();
            }
            catch (e) {
                valid = false;
            }
            return valid;
        });
        if (!imagesArr.length) {
            throw "ERR_LIBHEIF Heic doesn't contain valid images";
        }
        Promise.all(imagesArr.map((image) => processSingleImage(image)))
            .then((imageDataArr) => {
            postMessage({ id, imageDataArr, error: "" });
        })
            .catch((e) => {
            postMessage({
                id,
                imageDataArr: [],
                error: e && e.toString ? e.toString() : e,
            });
        });
    }
    catch (e) {
        postMessage({
            id,
            imageDataArr: [],
            error: e && e.toString ? e.toString() : e,
        });
    }
};

`,s=new Blob([n],{type:"application/javascript"});window.__heic2any__worker=new Worker(URL.createObjectURL(s));var l=["image/png","image/jpeg","image/gif"],u={blobToDataURL:function(b){return new Promise(function(p,x){var N=new FileReader;N.onerror=function(){x("ERR_DOM Error on converting blob to data URL")},N.onload=function(v){p(N.result)},N.readAsDataURL(b)})},dataURItoBlob:function(b){try{for(var p=atob(b.split(",")[1]),x=b.split(",")[0].split(":")[1].split(";")[0],N=new ArrayBuffer(p.length),v=new Uint8Array(N),w=0;w<p.length;w++)v[w]=p.charCodeAt(w);var E=new Blob([N],{type:x});return E}catch(F){return"ERR_DOM Error on converting data URI to blob "+F&&F.toString?F.toString():F}},imageDataToBlob:function(b){var p=b.imageData,x=b.toType;x===void 0&&(x="image/png");var N=b.quality;return N===void 0&&(N=.92),(N>1||N<0)&&(N=.92),l.indexOf(x)===-1&&(x="image/png"),new Promise(function(v,w){var E=null;try{E=document.createElement("canvas")}catch{}if(!E)return w("ERR_CANVAS Error on converting imagedata to blob: Could not create canvas element");E.width=p.width,E.height=p.height;var F=E.getContext("2d");if(!F)return w("ERR_CANVAS Error on converting imagedata to blob: Could not get canvas context");F.putImageData(p,0,0),E.toBlob(function(V){return V?v(V):w("ERR_CANVAS Error on converting imagedata to blob: Could not get blob from canvas")},x,N)})},imagesToGif:function(b){var p=b.images,x=b.interval,N=b.gifHeight,v=b.gifWidth;return new Promise(function(w,E){gifshot.createGIF({images:p,interval:x,gifHeight:N,gifWidth:v},function(F){return F.error&&E("ERR_GIF "+F.errorCode+" "+F.errorMessage),w(F.image)})})},otherImageType:function(b){for(var p=new Uint8Array(b).subarray(0,4),x="",N=0;N<p.length;N++)x=x+p[N].toString(16);switch(x){case"89504e47":return"image/png";case"47494638":return"image/gif";case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":return"image/jpeg";default:return!1}},error:function(b){var p=0;b?typeof b!="string"&&(b.toString?b=b.toString():b=JSON.stringify(b)):b="ERR_UNKNOWN";for(var x=["ERR_USER","ERR_LIBHEIF","ERR_GIF","ERR_DOM","ERR_CANVAS"],N=0;N<x.length;N++){var v=x[N];b.indexOf(v)===0&&(p=N+1)}return{code:p,message:b}}};function d(b){return new Promise(function(p,x){var N=(Math.random()*new Date().getTime()).toString(),v={id:N,buffer:b};window.__heic2any__worker.postMessage(v),window.__heic2any__worker.addEventListener("message",function(w){if(w.data.id===N)return w.data.error?x(w.data.error):p(w.data.imageDataArr)})})}function A(b){var p=b.blob,x=b.toType;x===void 0&&(x="image/png");var N=b.quality;N===void 0&&(N=.92);var v=b.gifInterval;v===void 0&&(v=.4);var w=b.multiple;return w===void 0&&(w=void 0),new Promise(function(E,F){p instanceof Blob||u.error("ERR_USER library only accepts BLOBs as input"),typeof w!="boolean"&&u.error('ERR_USER "multiple" parameter should be of type "boolean"'),typeof N!="number"&&u.error('ERR_USER "quality" parameter should be of type "number"'),typeof v!="number"&&u.error('ERR_USER "gifInterval" parameter should be of type "number"');var V=new FileReader;V.onload=function(G){var Z=0,H=0,te=G.target.result,T=u.otherImageType(te);if(T)return F(u.error("ERR_USER Image is already browser readable: "+T));d(te).then(function(M){return Z=M[0].width,H=M[0].height,Promise.all(M.map(function(q){return u.imageDataToBlob({imageData:q,toType:x,quality:N})}))}).then(function(M){return x==="image/gif"?Promise.all(M.map(function(q){return u.blobToDataURL(q)})):w?(E(M),[""]):(E(M[0]),[""])}).then(function(M){return x==="image/gif"&&M?u.imagesToGif({images:M,interval:v,gifWidth:Z,gifHeight:H}):""}).then(function(M){if(x==="image/gif"&&M){var q=u.dataURItoBlob(M);typeof q=="string"?F(u.error(q)):E(q)}}).catch(function(M){F(u.error(M))})},V.readAsArrayBuffer(p)})}return A})})(PE);var lI=PE.exports;const y4=ym(lI),cI=Object.freeze(Object.defineProperty({__proto__:null,default:y4},Symbol.toStringTag,{value:"Module"}));var Cm=typeof self<"u"?self:global;const Hu=typeof navigator<"u",uI=Hu&&typeof HTMLImageElement>"u",fm=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),_m=Cm.Buffer,R2=Cm.BigInt,Sm=!!_m,dI=i=>i;function mm(i,r=dI){if(fm)try{return typeof require=="function"?Promise.resolve(r(require(i))):import(i).then(r)}catch{console.warn(`Couldn't load ${i}`)}}let w4=Cm.fetch;const fI=i=>w4=i;if(!Cm.fetch){const i=mm("http",s=>s),r=mm("https",s=>s),n=(s,{headers:l}={})=>new Promise(async(u,d)=>{let{port:A,hostname:b,pathname:p,protocol:x,search:N}=new URL(s);const v={method:"GET",hostname:b,path:encodeURI(p)+N,headers:l};A!==""&&(v.port=Number(A));const w=(x==="https:"?await r:await i).request(v,E=>{if(E.statusCode===301||E.statusCode===302){let F=new URL(E.headers.location,s).toString();return n(F,{headers:l}).then(u).catch(d)}u({status:E.statusCode,arrayBuffer:()=>new Promise(F=>{let V=[];E.on("data",G=>V.push(G)),E.on("end",()=>F(Buffer.concat(V)))})})});w.on("error",d),w.end()});fI(n)}function Nr(i,r,n){return r in i?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,i}const Am=i=>WE(i)?void 0:i,mI=i=>i!==void 0;function WE(i){return i===void 0||(i instanceof Map?i.size===0:Object.values(i).filter(mI).length===0)}function Ia(i){let r=new Error(i);throw delete r.stack,r}function es(i){return(i=function(r){for(;r.endsWith("\0");)r=r.slice(0,-1);return r}(i).trim())===""?void 0:i}function jh(i){let r=function(n){let s=0;return n.ifd0.enabled&&(s+=1024),n.exif.enabled&&(s+=2048),n.makerNote&&(s+=2048),n.userComment&&(s+=1024),n.gps.enabled&&(s+=512),n.interop.enabled&&(s+=100),n.ifd1.enabled&&(s+=1024),s+2048}(i);return i.jfif.enabled&&(r+=50),i.xmp.enabled&&(r+=2e4),i.iptc.enabled&&(r+=14e3),i.icc.enabled&&(r+=6e3),r}const Ch=i=>String.fromCharCode.apply(null,i),hy=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function GE(i){return hy?hy.decode(i):Sm?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(Ch(i)))}let Yi=class _l{static from(r,n){return r instanceof this&&r.le===n?r:new _l(r,void 0,void 0,n)}constructor(r,n=0,s,l){if(typeof l=="boolean"&&(this.le=l),Array.isArray(r)&&(r=new Uint8Array(r)),r===0)this.byteOffset=0,this.byteLength=0;else if(r instanceof ArrayBuffer){s===void 0&&(s=r.byteLength-n);let u=new DataView(r,n,s);this._swapDataView(u)}else if(r instanceof Uint8Array||r instanceof DataView||r instanceof _l){s===void 0&&(s=r.byteLength-n),(n+=r.byteOffset)+s>r.byteOffset+r.byteLength&&Ia("Creating view outside of available memory in ArrayBuffer");let u=new DataView(r.buffer,n,s);this._swapDataView(u)}else if(typeof r=="number"){let u=new DataView(new ArrayBuffer(r));this._swapDataView(u)}else Ia("Invalid input argument for BufferView: "+r)}_swapArrayBuffer(r){this._swapDataView(new DataView(r))}_swapBuffer(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}_swapDataView(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}_lengthToEnd(r){return this.byteLength-r}set(r,n,s=_l){return r instanceof DataView||r instanceof _l?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||Ia("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new s(this,n,r.byteLength)}subarray(r,n){return n=n||this._lengthToEnd(r),new _l(this,r,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)}getString(r=0,n=this.byteLength){return GE(this.getUint8Array(r,n))}getLatin1String(r=0,n=this.byteLength){let s=this.getUint8Array(r,n);return Ch(s)}getUnicodeString(r=0,n=this.byteLength){const s=[];for(let l=0;l<n&&r+l<this.byteLength;l+=2)s.push(this.getUint16(r+l));return Ch(s)}getInt8(r){return this.dataView.getInt8(r)}getUint8(r){return this.dataView.getUint8(r)}getInt16(r,n=this.le){return this.dataView.getInt16(r,n)}getInt32(r,n=this.le){return this.dataView.getInt32(r,n)}getUint16(r,n=this.le){return this.dataView.getUint16(r,n)}getUint32(r,n=this.le){return this.dataView.getUint32(r,n)}getFloat32(r,n=this.le){return this.dataView.getFloat32(r,n)}getFloat64(r,n=this.le){return this.dataView.getFloat64(r,n)}getFloat(r,n=this.le){return this.dataView.getFloat32(r,n)}getDouble(r,n=this.le){return this.dataView.getFloat64(r,n)}getUintBytes(r,n,s){switch(n){case 1:return this.getUint8(r,s);case 2:return this.getUint16(r,s);case 4:return this.getUint32(r,s);case 8:return this.getUint64&&this.getUint64(r,s)}}getUint(r,n,s){switch(n){case 8:return this.getUint8(r,s);case 16:return this.getUint16(r,s);case 32:return this.getUint32(r,s);case 64:return this.getUint64&&this.getUint64(r,s)}}toString(r){return this.dataView.toString(r,this.constructor.name)}ensureChunk(){}};function _h(i,r){Ia(`${i} '${r}' was not loaded, try using full build of exifr.`)}let E4=class extends Map{constructor(r){super(),this.kind=r}get(r,n){return this.has(r)||_h(this.kind,r),n&&(r in n||function(s,l){Ia(`Unknown ${s} '${l}'.`)}(this.kind,r),n[r].enabled||_h(this.kind,r)),super.get(r)}keyList(){return Array.from(this.keys())}};var on=new E4("file parser"),Ma=new E4("segment parser"),sn=new E4("file reader");function AI(i,r){return typeof i=="string"?gy(i,r):Hu&&!uI&&i instanceof HTMLImageElement?gy(i.src,r):i instanceof Uint8Array||i instanceof ArrayBuffer||i instanceof DataView?new Yi(i):Hu&&i instanceof Blob?Sh(i,r,"blob",cs):void Ia("Invalid input argument")}function gy(i,r){return(n=i).startsWith("data:")||n.length>1e4?Mh(i,r,"base64"):fm&&i.includes("://")?Sh(i,r,"url",ls):fm?Mh(i,r,"fs"):Hu?Sh(i,r,"url",ls):void Ia("Invalid input argument");var n}async function Sh(i,r,n,s){return sn.has(n)?Mh(i,r,n):s?async function(l,u){let d=await u(l);return new Yi(d)}(i,s):void Ia(`Parser ${n} is not loaded`)}async function Mh(i,r,n){let s=new(sn.get(n))(i,r);return await s.read(),s}const ls=i=>w4(i).then(r=>r.arrayBuffer()),cs=i=>new Promise((r,n)=>{let s=new FileReader;s.onloadend=()=>r(s.result||new ArrayBuffer),s.onerror=n,s.readAsArrayBuffer(i)});let bI=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};function va(i,r,n){let s=new bI;for(let[l,u]of n)s.set(l,u);if(Array.isArray(r))for(let l of r)i.set(l,s);else i.set(r,s);return s}function us(i,r,n){let s,l=i.get(r);for(s of n)l.set(s[0],s[1])}const Ua=new Map,C0=new Map,Ui=new Map,Zi=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Yl=["jfif","xmp","icc","iptc","ihdr"],ds=["tiff",...Yl],ba=["ifd0","ifd1","exif","gps","interop"],Oi=[...ds,...ba],Pi=["makerNote","userComment"],Hl=["translateKeys","translateValues","reviveValues","multiSegment"],Wi=[...Hl,"sanitize","mergeOutput","silentErrors"];let UE=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}};class Du extends UE{get needed(){return this.enabled||this.deps.size>0}constructor(r,n,s,l){if(super(),Nr(this,"enabled",!1),Nr(this,"skip",new Set),Nr(this,"pick",new Set),Nr(this,"deps",new Set),Nr(this,"translateKeys",!1),Nr(this,"translateValues",!1),Nr(this,"reviveValues",!1),this.key=r,this.enabled=n,this.parse=this.enabled,this.applyInheritables(l),this.canBeFiltered=ba.includes(r),this.canBeFiltered&&(this.dict=Ua.get(r)),s!==void 0)if(Array.isArray(s))this.parse=this.enabled=!0,this.canBeFiltered&&s.length>0&&this.translateTagSet(s,this.pick);else if(typeof s=="object"){if(this.enabled=!0,this.parse=s.parse!==!1,this.canBeFiltered){let{pick:u,skip:d}=s;u&&u.length>0&&this.translateTagSet(u,this.pick),d&&d.length>0&&this.translateTagSet(d,this.skip)}this.applyInheritables(s)}else s===!0||s===!1?this.parse=this.enabled=s:Ia(`Invalid options argument: ${s}`)}applyInheritables(r){let n,s;for(n of Hl)s=r[n],s!==void 0&&(this[n]=s)}translateTagSet(r,n){if(this.dict){let s,l,{tagKeys:u,tagValues:d}=this.dict;for(s of r)typeof s=="string"?(l=d.indexOf(s),l===-1&&(l=u.indexOf(Number(s))),l!==-1&&n.add(Number(u[l]))):n.add(s)}else for(let s of r)n.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,bm(this.pick,this.deps)):this.enabled&&this.pick.size>0&&bm(this.pick,this.deps)}}var gt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},vy=new Map;let gs=class extends UE{static useCached(r){let n=vy.get(r);return n!==void 0||(n=new this(r),vy.set(r,n)),n}constructor(r){super(),r===!0?this.setupFromTrue():r===void 0?this.setupFromUndefined():Array.isArray(r)?this.setupFromArray(r):typeof r=="object"?this.setupFromObject(r):Ia(`Invalid options argument ${r}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Hu?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let r;for(r of Zi)this[r]=gt[r];for(r of Wi)this[r]=gt[r];for(r of Pi)this[r]=gt[r];for(r of Oi)this[r]=new Du(r,gt[r],void 0,this)}setupFromTrue(){let r;for(r of Zi)this[r]=gt[r];for(r of Wi)this[r]=gt[r];for(r of Pi)this[r]=!0;for(r of Oi)this[r]=new Du(r,!0,void 0,this)}setupFromArray(r){let n;for(n of Zi)this[n]=gt[n];for(n of Wi)this[n]=gt[n];for(n of Pi)this[n]=gt[n];for(n of Oi)this[n]=new Du(n,!1,void 0,this);this.setupGlobalFilters(r,void 0,ba)}setupFromObject(r){let n;for(n of(ba.ifd0=ba.ifd0||ba.image,ba.ifd1=ba.ifd1||ba.thumbnail,Object.assign(this,r),Zi))this[n]=Sp(r[n],gt[n]);for(n of Wi)this[n]=Sp(r[n],gt[n]);for(n of Pi)this[n]=Sp(r[n],gt[n]);for(n of ds)this[n]=new Du(n,gt[n],r[n],this);for(n of ba)this[n]=new Du(n,gt[n],r[n],this.tiff);this.setupGlobalFilters(r.pick,r.skip,ba,Oi),r.tiff===!0?this.batchEnableWithBool(ba,!0):r.tiff===!1?this.batchEnableWithUserValue(ba,r):Array.isArray(r.tiff)?this.setupGlobalFilters(r.tiff,void 0,ba):typeof r.tiff=="object"&&this.setupGlobalFilters(r.tiff.pick,r.tiff.skip,ba)}batchEnableWithBool(r,n){for(let s of r)this[s].enabled=n}batchEnableWithUserValue(r,n){for(let s of r){let l=n[s];this[s].enabled=l!==!1&&l!==void 0}}setupGlobalFilters(r,n,s,l=s){if(r&&r.length){for(let d of l)this[d].enabled=!1;let u=Ny(r,s);for(let[d,A]of u)bm(this[d].pick,A),this[d].enabled=!0}else if(n&&n.length){let u=Ny(n,s);for(let[d,A]of u)bm(this[d].skip,A)}}filterNestedSegmentTags(){let{ifd0:r,exif:n,xmp:s,iptc:l,icc:u}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),s.enabled||r.skip.add(700),l.enabled||r.skip.add(33723),u.enabled||r.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:r,exif:n,gps:s,interop:l}=this;l.needed&&(n.deps.add(40965),r.deps.add(40965)),n.needed&&r.deps.add(34665),s.needed&&r.deps.add(34853),this.tiff.enabled=ba.some(u=>this[u].enabled===!0)||this.makerNote||this.userComment;for(let u of ba)this[u].finalizeFilters()}get onlyTiff(){return!Yl.map(r=>this[r].enabled).some(r=>r===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let r of ds)this[r].enabled&&!Ma.has(r)&&_h("segment parser",r)}};function Ny(i,r){let n,s,l,u,d=[];for(l of r){for(u of(n=Ua.get(l),s=[],n))(i.includes(u[0])||i.includes(u[1]))&&s.push(u[0]);s.length&&d.push([l,s])}return d}function Sp(i,r){return i!==void 0?i:r!==void 0?r:void 0}function bm(i,r){for(let n of r)i.add(n)}Nr(gs,"default",gt);class eo{constructor(r){Nr(this,"parsers",{}),Nr(this,"output",{}),Nr(this,"errors",[]),Nr(this,"pushToErrors",n=>this.errors.push(n)),this.options=gs.useCached(r)}async read(r){this.file=await AI(r,this.options)}setup(){if(this.fileParser)return;let{file:r}=this,n=r.getUint16(0);for(let[s,l]of on)if(l.canHandle(r,n))return this.fileParser=new l(this.options,this.file,this.parsers),r[s]=!0;this.file.close&&this.file.close(),Ia("Unknown file format")}async parse(){let{output:r,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(r.errors=n),Am(r)}async executeParsers(){let{output:r}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async s=>{let l=await s.parse();s.assignToOutput(r,l)});this.options.silentErrors&&(n=n.map(s=>s.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:r,file:n}=this,s=Ma.get("tiff",r);var l;if(n.tiff?l={start:0,type:"tiff"}:n.jpeg&&(l=await this.fileParser.getOrFindSegment("tiff")),l===void 0)return;let u=await this.fileParser.ensureSegmentChunk(l),d=this.parsers.tiff=new s(u,r,n),A=await d.extractThumbnail();return n.close&&n.close(),A}}async function Mm(i,r){let n=new eo(r);return await n.read(i),n.parse()}var pI=Object.freeze({__proto__:null,parse:Mm,Exifr:eo,fileParsers:on,segmentParsers:Ma,fileReaders:sn,tagKeys:Ua,tagValues:C0,tagRevivers:Ui,createDictionary:va,extendDictionary:us,fetchUrlAsArrayBuffer:ls,readBlobAsArrayBuffer:cs,chunkedProps:Zi,otherSegments:Yl,segments:ds,tiffBlocks:ba,segmentsAndBlocks:Oi,tiffExtractables:Pi,inheritables:Hl,allFormatters:Wi,Options:gs});class Im{constructor(r,n,s){Nr(this,"errors",[]),Nr(this,"ensureSegmentChunk",async l=>{let u=l.start,d=l.size||65536;if(this.file.chunked)if(this.file.available(u,d))l.chunk=this.file.subarray(u,d);else try{l.chunk=await this.file.readChunk(u,d)}catch(A){Ia(`Couldn't read segment: ${JSON.stringify(l)}. ${A.message}`)}else this.file.byteLength>u+d?l.chunk=this.file.subarray(u,d):l.size===void 0?l.chunk=this.file.subarray(u):Ia("Segment unreachable: "+JSON.stringify(l));return l.chunk}),this.extendOptions&&this.extendOptions(r),this.options=r,this.file=n,this.parsers=s}injectSegment(r,n){this.options[r].enabled&&this.createParser(r,n)}createParser(r,n){let s=new(Ma.get(r))(n,this.options,this.file);return this.parsers[r]=s}createParsers(r){for(let n of r){let{type:s,chunk:l}=n,u=this.options[s];if(u&&u.enabled){let d=this.parsers[s];d&&d.append||d||this.createParser(s,l)}}}async readSegments(r){let n=r.map(this.ensureSegmentChunk);await Promise.all(n)}}class k0{static findPosition(r,n){let s=r.getUint16(n+2)+2,l=typeof this.headerLength=="function"?this.headerLength(r,n,s):this.headerLength,u=n+l,d=s-l;return{offset:n,length:s,headerLength:l,start:u,size:d,end:u+d}}static parse(r,n={}){return new this(r,new gs({[this.type]:n}),r).parse()}normalizeInput(r){return r instanceof Yi?r:new Yi(r)}constructor(r,n={},s){Nr(this,"errors",[]),Nr(this,"raw",new Map),Nr(this,"handleError",l=>{if(!this.options.silentErrors)throw l;this.errors.push(l.message)}),this.chunk=this.normalizeInput(r),this.file=s,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(r,n){let s=Ui.get(n),l=C0.get(n),u=Ua.get(n),d=this.options[n],A=d.reviveValues&&!!s,b=d.translateValues&&!!l,p=d.translateKeys&&!!u,x={};for(let[N,v]of r)A&&s.has(N)?v=s.get(N)(v):b&&l.has(N)&&(v=this.translateValue(v,l.get(N))),p&&u.has(N)&&(N=u.get(N)||N),x[N]=v;return x}translateValue(r,n){return n[r]||n.DEFAULT||r}assignToOutput(r,n){this.assignObjectToOutput(r,this.constructor.type,n)}assignObjectToOutput(r,n,s){if(this.globalOptions.mergeOutput)return Object.assign(r,s);r[n]?Object.assign(r[n],s):r[n]=s}}Nr(k0,"headerLength",4),Nr(k0,"type",void 0),Nr(k0,"multiSegment",!1),Nr(k0,"canHandle",()=>!1);function hI(i){return i===192||i===194||i===196||i===219||i===221||i===218||i===254}function gI(i){return i>=224&&i<=239}function vI(i,r,n){for(let[s,l]of Ma)if(l.canHandle(i,r,n))return s}class xy extends Im{constructor(...r){super(...r),Nr(this,"appSegments",[]),Nr(this,"jpegSegments",[]),Nr(this,"unknownSegments",[])}static canHandle(r,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(r){r===!0?(this.findAll=!0,this.wanted=new Set(Ma.keyList())):(r=r===void 0?Ma.keyList().filter(n=>this.options[n].enabled):r.filter(n=>this.options[n].enabled&&Ma.has(n)),this.findAll=!1,this.remaining=new Set(r),this.wanted=new Set(r)),this.unfinishedMultiSegment=!1}async findAppSegments(r=0,n){this.setupSegmentFinderArgs(n);let{file:s,findAll:l,wanted:u,remaining:d}=this;if(!l&&this.file.chunked&&(l=Array.from(u).some(A=>{let b=Ma.get(A),p=this.options[A];return b.multiSegment&&p.multiSegment}),l&&await this.file.readWhole()),r=this.findAppSegmentsInRange(r,s.byteLength),!this.options.onlyTiff&&s.chunked){let A=!1;for(;d.size>0&&!A&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:b}=s,p=this.appSegments.some(x=>!this.file.available(x.offset||x.start,x.length||x.size));if(A=r>b&&!p?!await s.readNextChunk(r):!await s.readNextChunk(b),(r=this.findAppSegmentsInRange(r,s.byteLength))===void 0)return}}}findAppSegmentsInRange(r,n){n-=2;let s,l,u,d,A,b,{file:p,findAll:x,wanted:N,remaining:v,options:w}=this;for(;r<n;r++)if(p.getUint8(r)===255){if(s=p.getUint8(r+1),gI(s)){if(l=p.getUint16(r+2),u=vI(p,r,l),u&&N.has(u)&&(d=Ma.get(u),A=d.findPosition(p,r),b=w[u],A.type=u,this.appSegments.push(A),!x&&(d.multiSegment&&b.multiSegment?(this.unfinishedMultiSegment=A.chunkNumber<A.chunkCount,this.unfinishedMultiSegment||v.delete(u)):v.delete(u),v.size===0)))break;w.recordUnknownSegments&&(A=k0.findPosition(p,r),A.marker=s,this.unknownSegments.push(A)),r+=l+1}else if(hI(s)){if(l=p.getUint16(r+2),s===218&&w.stopAfterSos!==!1)return;w.recordJpegSegments&&this.jpegSegments.push({offset:r,length:l,marker:s}),r+=l+1}}return r}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let r=function(n,s){let l,u,d,A=new Map;for(let b=0;b<n.length;b++)l=n[b],u=l[s],A.has(u)?d=A.get(u):A.set(u,d=[]),d.push(l);return Array.from(A)}(this.appSegments,"type");this.mergedAppSegments=r.map(([n,s])=>{let l=Ma.get(n,this.options);return l.handleMultiSegments?{type:n,chunk:l.handleMultiSegments(s)}:s[0]})}getSegment(r){return this.appSegments.find(n=>n.type===r)}async getOrFindSegment(r){let n=this.getSegment(r);return n===void 0&&(await this.findAppSegments(0,[r]),n=this.getSegment(r)),n}}Nr(xy,"type","jpeg"),on.set("jpeg",xy);const NI=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class xI extends k0{parseHeader(){var r=this.chunk.getUint16();r===18761?this.le=!0:r===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(r,n,s=new Map){let{pick:l,skip:u}=this.options[n];l=new Set(l);let d=l.size>0,A=u.size===0,b=this.chunk.getUint16(r);r+=2;for(let p=0;p<b;p++){let x=this.chunk.getUint16(r);if(d){if(l.has(x)&&(s.set(x,this.parseTag(r,x,n)),l.delete(x),l.size===0))break}else!A&&u.has(x)||s.set(x,this.parseTag(r,x,n));r+=12}return s}parseTag(r,n,s){let{chunk:l}=this,u=l.getUint16(r+2),d=l.getUint32(r+4),A=NI[u];if(A*d<=4?r+=8:r=l.getUint32(r+8),(u<1||u>13)&&Ia(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${n.toString(16)}, type: ${u}, offset ${r}`),r>l.byteLength&&Ia(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${n.toString(16)}, type: ${u}, offset ${r} is outside of chunk size ${l.byteLength}`),u===1)return l.getUint8Array(r,d);if(u===2)return es(l.getString(r,d));if(u===7)return l.getUint8Array(r,d);if(d===1)return this.parseTagValue(u,r);{let b=new(function(x){switch(x){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(u))(d),p=A;for(let x=0;x<d;x++)b[x]=this.parseTagValue(u,r),r+=p;return b}}parseTagValue(r,n){let{chunk:s}=this;switch(r){case 1:return s.getUint8(n);case 3:return s.getUint16(n);case 4:return s.getUint32(n);case 5:return s.getUint32(n)/s.getUint32(n+4);case 6:return s.getInt8(n);case 8:return s.getInt16(n);case 9:return s.getInt32(n);case 10:return s.getInt32(n)/s.getInt32(n+4);case 11:return s.getFloat(n);case 12:return s.getDouble(n);case 13:return s.getUint32(n);default:Ia(`Invalid tiff type ${r}`)}}}class Mp extends xI{static canHandle(r,n){return r.getUint8(n+1)===225&&r.getUint32(n+4)===1165519206&&r.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:r}=this;return r.ifd0.enabled&&await this.parseIfd0Block(),r.exif.enabled&&await this.safeParse("parseExifBlock"),r.gps.enabled&&await this.safeParse("parseGpsBlock"),r.interop.enabled&&await this.safeParse("parseInteropBlock"),r.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(r){let n=this[r]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let r=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*r;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(r,n){let s=new Map;return this[n]=s,this.parseTags(r,n,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:r}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ia("Malformed EXIF data"),!r.chunked&&this.ifd0Offset>r.byteLength&&Ia(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${r.byteLength}`),r.tiff&&await r.ensureChunk(this.ifd0Offset,jh(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,jh(this.options));let r=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=r.get(40965)),this.makerNote=r.get(37500),this.userComment=r.get(37510),this.options.sanitize&&(r.delete(40965),r.delete(37500),r.delete(37510)),this.unpack(r,41728),this.unpack(r,41729),r}unpack(r,n){let s=r.get(n);s&&s.length===1&&r.set(n,s[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let r=this.parseBlock(this.gpsOffset,"gps");return r&&r.has(2)&&r.has(4)&&(r.set("latitude",yy(...r.get(2),r.get(1))),r.set("longitude",yy(...r.get(4),r.get(3)))),r}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(r=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||r))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let r=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(r,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let r,n,s,l={};for(n of ba)if(r=this[n],!WE(r))if(s=this.canTranslate?this.translateBlock(r,n):Object.fromEntries(r),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(l,s)}else l[n]=s;return this.makerNote&&(l.makerNote=this.makerNote),this.userComment&&(l.userComment=this.userComment),l}assignToOutput(r,n){if(this.globalOptions.mergeOutput)Object.assign(r,n);else for(let[s,l]of Object.entries(n))this.assignObjectToOutput(r,s,l)}}function yy(i,r,n,s){var l=i+r/60+n/3600;return s!=="S"&&s!=="W"||(l*=-1),l}Nr(Mp,"type","tiff"),Nr(Mp,"headerLength",10),Ma.set("tiff",Mp);var yI=Object.freeze({__proto__:null,default:pI,Exifr:eo,fileParsers:on,segmentParsers:Ma,fileReaders:sn,tagKeys:Ua,tagValues:C0,tagRevivers:Ui,createDictionary:va,extendDictionary:us,fetchUrlAsArrayBuffer:ls,readBlobAsArrayBuffer:cs,chunkedProps:Zi,otherSegments:Yl,segments:ds,tiffBlocks:ba,segmentsAndBlocks:Oi,tiffExtractables:Pi,inheritables:Hl,allFormatters:Wi,Options:gs,parse:Mm});const k4={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},D4=Object.assign({},k4,{firstChunkSize:4e4,gps:[1,2,3,4]});async function XE(i){let r=new eo(D4);await r.read(i);let n=await r.parse();if(n&&n.gps){let{latitude:s,longitude:l}=n.gps;return{latitude:s,longitude:l}}}const V4=Object.assign({},k4,{tiff:!1,ifd1:!0,mergeOutput:!1});async function zE(i){let r=new eo(V4);await r.read(i);let n=await r.extractThumbnail();return n&&Sm?_m.from(n):n}async function LE(i){let r=await this.thumbnail(i);if(r!==void 0){let n=new Blob([r]);return URL.createObjectURL(n)}}const j4=Object.assign({},k4,{firstChunkSize:4e4,ifd0:[274]});async function C4(i){let r=new eo(j4);await r.read(i);let n=await r.parse();if(n&&n.ifd0)return n.ifd0[274]}const _4=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let rs=!0,as=!0;if(typeof navigator=="object"){let i=navigator.userAgent;if(i.includes("iPad")||i.includes("iPhone")){let r=i.match(/OS (\d+)_(\d+)/);if(r){let[,n,s]=r;rs=Number(n)+.1*Number(s)<13.4,as=!1}}else if(i.includes("OS X 10")){let[,r]=i.match(/OS X 10[_.](\d+)/);rs=as=Number(r)<15}if(i.includes("Chrome/")){let[,r]=i.match(/Chrome\/(\d+)/);rs=as=Number(r)<81}else if(i.includes("Firefox/")){let[,r]=i.match(/Firefox\/(\d+)/);rs=as=Number(r)<77}}async function YE(i){let r=await C4(i);return Object.assign({canvas:rs,css:as},_4[r])}class wI extends Yi{constructor(...r){super(...r),Nr(this,"ranges",new EI),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(r,n,s){if(r===0&&this.byteLength===0&&s){let l=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(l)}else{let l=r+n;if(l>this.byteLength){let{dataView:u}=this._extend(l);this._swapDataView(u)}}}_extend(r){let n;n=Sm?_m.allocUnsafe(r):new Uint8Array(r);let s=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:s}}subarray(r,n,s=!1){return n=n||this._lengthToEnd(r),s&&this._tryExtend(r,n),this.ranges.add(r,n),super.subarray(r,n)}set(r,n,s=!1){s&&this._tryExtend(n,r.byteLength,r);let l=super.set(r,n);return this.ranges.add(n,l.byteLength),l}async ensureChunk(r,n){this.chunked&&(this.ranges.available(r,n)||await this.readChunk(r,n))}available(r,n){return this.ranges.available(r,n)}}class EI{constructor(){Nr(this,"list",[])}get length(){return this.list.length}add(r,n,s=0){let l=r+n,u=this.list.filter(d=>wy(r,d.offset,l)||wy(r,d.end,l));if(u.length>0){r=Math.min(r,...u.map(A=>A.offset)),l=Math.max(l,...u.map(A=>A.end)),n=l-r;let d=u.shift();d.offset=r,d.length=n,d.end=l,this.list=this.list.filter(A=>!u.includes(A))}else this.list.push({offset:r,length:n,end:l})}available(r,n){let s=r+n;return this.list.some(l=>l.offset<=r&&s<=l.end)}}function wy(i,r,n){return i<=r&&r<=n}class Rm extends wI{constructor(r,n){super(0),Nr(this,"chunksRead",0),this.input=r,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(r=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,s=await this.readChunk(r,n);return!!s&&s.byteLength===n}async readChunk(r,n){if(this.chunksRead++,(n=this.safeWrapAddress(r,n))!==0)return this._readChunk(r,n)}safeWrapAddress(r,n){return this.size!==void 0&&r+n>this.size?Math.max(0,this.size-r):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}sn.set("blob",class extends Rm{async readWhole(){this.chunked=!1;let i=await cs(this.input);this._swapArrayBuffer(i)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(i,r){let n=r?i+r:void 0,s=this.input.slice(i,n),l=await cs(s);return this.set(l,i,!0)}});var kI=Object.freeze({__proto__:null,default:yI,Exifr:eo,fileParsers:on,segmentParsers:Ma,fileReaders:sn,tagKeys:Ua,tagValues:C0,tagRevivers:Ui,createDictionary:va,extendDictionary:us,fetchUrlAsArrayBuffer:ls,readBlobAsArrayBuffer:cs,chunkedProps:Zi,otherSegments:Yl,segments:ds,tiffBlocks:ba,segmentsAndBlocks:Oi,tiffExtractables:Pi,inheritables:Hl,allFormatters:Wi,Options:gs,parse:Mm,gpsOnlyOptions:D4,gps:XE,thumbnailOnlyOptions:V4,thumbnail:zE,thumbnailUrl:LE,orientationOnlyOptions:j4,orientation:C4,rotations:_4,get rotateCanvas(){return rs},get rotateCss(){return as},rotation:YE});sn.set("url",class extends Rm{async readWhole(){this.chunked=!1;let i=await ls(this.input);i instanceof ArrayBuffer?this._swapArrayBuffer(i):i instanceof Uint8Array&&this._swapBuffer(i)}async _readChunk(i,r){let n=r?i+r-1:void 0,s=this.options.httpHeaders||{};(i||n)&&(s.range=`bytes=${[i,n].join("-")}`);let l=await w4(this.input,{headers:s}),u=await l.arrayBuffer(),d=u.byteLength;if(l.status!==416)return d!==r&&(this.size=i+d),this.set(u,i,!0)}});Yi.prototype.getUint64=function(i){let r=this.getUint32(i),n=this.getUint32(i+4);return r<1048575?r<<32|n:typeof R2!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),R2(r)<<R2(32)|R2(n)):void Ia("Trying to read 64b value but JS can only handle 53b numbers.")};class DI extends Im{parseBoxes(r=0){let n=[];for(;r<this.file.byteLength-4;){let s=this.parseBoxHead(r);if(n.push(s),s.length===0)break;r+=s.length}return n}parseSubBoxes(r){r.boxes=this.parseBoxes(r.start)}findBox(r,n){return r.boxes===void 0&&this.parseSubBoxes(r),r.boxes.find(s=>s.kind===n)}parseBoxHead(r){let n=this.file.getUint32(r),s=this.file.getString(r+4,4),l=r+8;return n===1&&(n=this.file.getUint64(r+8),l+=8),{offset:r,length:n,kind:s,start:l}}parseBoxFullHead(r){if(r.version!==void 0)return;let n=this.file.getUint32(r.start);r.version=n>>24,r.start+=4}}class HE extends DI{static canHandle(r,n){if(n!==0)return!1;let s=r.getUint16(2);if(s>50)return!1;let l=16,u=[];for(;l<s;)u.push(r.getString(l,4)),l+=4;return u.includes(this.type)}async parse(){let r=this.file.getUint32(0),n=this.parseBoxHead(r);for(;n.kind!=="meta";)r+=n.length,await this.file.ensureChunk(r,16),n=this.parseBoxHead(r);await this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&await this.findIcc(n),this.options.tiff.enabled&&await this.findExif(n)}async registerSegment(r,n,s){await this.file.ensureChunk(n,s);let l=this.file.subarray(n,s);this.createParser(r,l)}async findIcc(r){let n=this.findBox(r,"iprp");if(n===void 0)return;let s=this.findBox(n,"ipco");if(s===void 0)return;let l=this.findBox(s,"colr");l!==void 0&&await this.registerSegment("icc",l.offset+12,l.length)}async findExif(r){let n=this.findBox(r,"iinf");if(n===void 0)return;let s=this.findBox(r,"iloc");if(s===void 0)return;let l=this.findExifLocIdInIinf(n),u=this.findExtentInIloc(s,l);if(u===void 0)return;let[d,A]=u;await this.file.ensureChunk(d,A);let b=4+this.file.getUint32(d);d+=b,A-=b,await this.registerSegment("tiff",d,A)}findExifLocIdInIinf(r){this.parseBoxFullHead(r);let n,s,l,u,d=r.start,A=this.file.getUint16(d);for(d+=2;A--;){if(n=this.parseBoxHead(d),this.parseBoxFullHead(n),s=n.start,n.version>=2&&(l=n.version===3?4:2,u=this.file.getString(s+l+2,4),u==="Exif"))return this.file.getUintBytes(s,l);d+=n.length}}get8bits(r){let n=this.file.getUint8(r);return[n>>4,15&n]}findExtentInIloc(r,n){this.parseBoxFullHead(r);let s=r.start,[l,u]=this.get8bits(s++),[d,A]=this.get8bits(s++),b=r.version===2?4:2,p=r.version===1||r.version===2?2:0,x=A+l+u,N=r.version===2?4:2,v=this.file.getUintBytes(s,N);for(s+=N;v--;){let w=this.file.getUintBytes(s,b);s+=b+p+2+d;let E=this.file.getUint16(s);if(s+=2,w===n)return E>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(s+A,l),this.file.getUintBytes(s+A+l,u)];s+=E*x}}}class JE extends HE{}Nr(JE,"type","heic");class Ey extends HE{}Nr(Ey,"type","avif"),on.set("heic",JE),on.set("avif",Ey),va(Ua,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),va(Ua,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),va(Ua,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),va(C0,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Fu=va(C0,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const ky={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Fu.set(37392,ky),Fu.set(41488,ky);const Ip={0:"Normal",1:"Low",2:"High"};function Dy(i){return typeof i=="object"&&i.length!==void 0?i[0]:i}function Vy(i){let r=Array.from(i).slice(1);return r[1]>15&&(r=r.map(n=>String.fromCharCode(n))),r[2]!=="0"&&r[2]!==0||r.pop(),r.join(".")}function Rp(i){if(typeof i=="string"){var[r,n,s,l,u,d]=i.trim().split(/[-: ]/g).map(Number),A=new Date(r,n-1,s);return Number.isNaN(l)||Number.isNaN(u)||Number.isNaN(d)||(A.setHours(l),A.setMinutes(u),A.setSeconds(d)),Number.isNaN(+A)?i:A}}function Vu(i){if(typeof i=="string")return i;let r=[];if(i[1]===0&&i[i.length-1]===0)for(let n=0;n<i.length;n+=2)r.push(jy(i[n+1],i[n]));else for(let n=0;n<i.length;n+=2)r.push(jy(i[n],i[n+1]));return es(String.fromCodePoint(...r))}function jy(i,r){return i<<8|r}Fu.set(41992,Ip),Fu.set(41993,Ip),Fu.set(41994,Ip),va(Ui,["ifd0","ifd1"],[[50827,function(i){return typeof i!="string"?GE(i):i}],[306,Rp],[40091,Vu],[40092,Vu],[40093,Vu],[40094,Vu],[40095,Vu]]),va(Ui,"exif",[[40960,Vy],[36864,Vy],[36867,Rp],[36868,Rp],[40962,Dy],[40963,Dy]]),va(Ui,"gps",[[0,i=>Array.from(i).join(".")],[7,i=>Array.from(i).join(":")]]);class Tp extends k0{static canHandle(r,n){return r.getUint8(n+1)===225&&r.getUint32(n+4)===1752462448&&r.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(r,n){return r.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(r,n){let s=super.findPosition(r,n);return s.multiSegment=s.extended=s.headerLength===79,s.multiSegment?(s.chunkCount=r.getUint8(n+72),s.chunkNumber=r.getUint8(n+76),r.getUint8(n+77)!==0&&s.chunkNumber++):(s.chunkCount=1/0,s.chunkNumber=-1),s}static handleMultiSegments(r){return r.map(n=>n.chunk.getString()).join("")}normalizeInput(r){return typeof r=="string"?r:Yi.from(r).getString()}parse(r=this.chunk){if(!this.localOptions.parse)return r;r=function(u){let d={},A={};for(let b of KE)d[b]=[],A[b]=0;return u.replace(_I,(b,p,x)=>{if(p==="<"){let N=++A[x];return d[x].push(N),`${b}#${N}`}return`${b}#${d[x].pop()}`})}(r);let n=Tl.findAll(r,"rdf","Description");n.length===0&&n.push(new Tl("rdf","Description",void 0,r));let s,l={};for(let u of n)for(let d of u.properties)s=CI(d.ns,l),QE(d,s);return function(u){let d;for(let A in u)d=u[A]=Am(u[A]),d===void 0&&delete u[A];return Am(u)}(l)}assignToOutput(r,n){if(this.localOptions.parse)for(let[s,l]of Object.entries(n))switch(s){case"tiff":this.assignObjectToOutput(r,"ifd0",l);break;case"exif":this.assignObjectToOutput(r,"exif",l);break;case"xmlns":break;default:this.assignObjectToOutput(r,s,l)}else r.xmp=n}}Nr(Tp,"type","xmp"),Nr(Tp,"multiSegment",!0),Ma.set("xmp",Tp);class pm{static findAll(r){return $E(r,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(pm.unpackMatch)}static unpackMatch(r){let n=r[1],s=r[2],l=r[3].slice(1,-1);return l=qE(l),new pm(n,s,l)}constructor(r,n,s){this.ns=r,this.name=n,this.value=s}serialize(){return this.value}}class Tl{static findAll(r,n,s){if(n!==void 0||s!==void 0){n=n||"[\\w\\d-]+",s=s||"[\\w\\d-]+";var l=new RegExp(`<(${n}):(${s})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else l=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return $E(r,l).map(Tl.unpackMatch)}static unpackMatch(r){let n=r[1],s=r[2],l=r[4],u=r[8];return new Tl(n,s,l,u)}constructor(r,n,s,l){this.ns=r,this.name=n,this.attrString=s,this.innerXml=l,this.attrs=pm.findAll(s),this.children=Tl.findAll(l),this.value=this.children.length===0?qE(l):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:r,name:n}=this;return r==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return jI(this.children.map(VI));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let r={};for(let n of this.properties)QE(n,r);return this.value!==void 0&&(r.value=this.value),Am(r)}}function QE(i,r){let n=i.serialize();n!==void 0&&(r[i.name]=n)}var VI=i=>i.serialize(),jI=i=>i.length===1?i[0]:i,CI=(i,r)=>r[i]?r[i]:r[i]={};function $E(i,r){let n,s=[];if(!i)return s;for(;(n=r.exec(i))!==null;)s.push(n);return s}function qE(i){if(function(s){return s==null||s==="null"||s==="undefined"||s===""||s.trim()===""}(i))return;let r=Number(i);if(!Number.isNaN(r))return r;let n=i.toLowerCase();return n==="true"||n!=="false"&&i.trim()}const KE=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],_I=new RegExp(`(<|\\/)(${KE.join("|")})`,"g");var SI=Object.freeze({__proto__:null,default:kI,Exifr:eo,fileParsers:on,segmentParsers:Ma,fileReaders:sn,tagKeys:Ua,tagValues:C0,tagRevivers:Ui,createDictionary:va,extendDictionary:us,fetchUrlAsArrayBuffer:ls,readBlobAsArrayBuffer:cs,chunkedProps:Zi,otherSegments:Yl,segments:ds,tiffBlocks:ba,segmentsAndBlocks:Oi,tiffExtractables:Pi,inheritables:Hl,allFormatters:Wi,Options:gs,parse:Mm,gpsOnlyOptions:D4,gps:XE,thumbnailOnlyOptions:V4,thumbnail:zE,thumbnailUrl:LE,orientationOnlyOptions:j4,orientation:C4,rotations:_4,get rotateCanvas(){return rs},get rotateCss(){return as},rotation:YE});let Cy=mm("fs",i=>i.promises);sn.set("fs",class extends Rm{async readWhole(){this.chunked=!1,this.fs=await Cy;let i=await this.fs.readFile(this.input);this._swapBuffer(i)}async readChunked(){this.chunked=!0,this.fs=await Cy,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(i,r){this.fh===void 0&&await this.open(),i+r>this.size&&(r=this.size-i);var n=this.subarray(i,r,!0);return await this.fh.read(n.dataView,0,r,i),n}async close(){if(this.fh){let i=this.fh;this.fh=void 0,await i.close()}}});sn.set("base64",class extends Rm{constructor(...i){super(...i),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(i,r){let n,s,l=this.input;i===void 0?(i=0,n=0,s=0):(n=4*Math.floor(i/3),s=i-n/4*3),r===void 0&&(r=this.size);let u=i+r,d=n+4*Math.ceil(u/3);l=l.slice(n,d);let A=Math.min(r,this.size-i);if(Sm){let b=_m.from(l,"base64").slice(s,s+A);return this.set(b,i,!0)}{let b=this.subarray(i,A,!0),p=atob(l),x=b.toUint8();for(let N=0;N<A;N++)x[N]=p.charCodeAt(s+N);return b}}});class _y extends Im{static canHandle(r,n){return n===18761||n===19789}extendOptions(r){let{ifd0:n,xmp:s,iptc:l,icc:u}=r;s.enabled&&n.deps.add(700),l.enabled&&n.deps.add(33723),u.enabled&&n.deps.add(34675),n.finalizeFilters()}async parse(){let{tiff:r,xmp:n,iptc:s,icc:l}=this.options;if(r.enabled||n.enabled||s.enabled||l.enabled){let u=Math.max(jh(this.options),this.options.chunkSize);await this.file.ensureChunk(0,u),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(r){if(this.parsers.tiff[r]){let n=this.parsers.tiff[r];this.injectSegment(r,n)}}}Nr(_y,"type","tiff"),on.set("tiff",_y);let MI=mm("zlib");const II=["ihdr","iccp","text","itxt","exif"];class Sy extends Im{constructor(...r){super(...r),Nr(this,"catchError",n=>this.errors.push(n)),Nr(this,"metaChunks",[]),Nr(this,"unknownChunks",[])}static canHandle(r,n){return n===35152&&r.getUint32(0)===2303741511&&r.getUint32(4)===218765834}async parse(){let{file:r}=this;await this.findPngChunksInRange(8,r.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(r,n){let{file:s}=this;for(;r<n;){let l=s.getUint32(r),u=s.getUint32(r+4),d=s.getString(r+4,4).toLowerCase(),A=l+4+4+4,b={type:d,offset:r,length:A,start:r+4+4,size:l,marker:u};II.includes(d)?this.metaChunks.push(b):this.unknownChunks.push(b),r+=A}}parseTextChunks(){let r=this.metaChunks.filter(n=>n.type==="text");for(let n of r){let[s,l]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(s,l)}}injectKeyValToIhdr(r,n){let s=this.parsers.ihdr;s&&s.raw.set(r,n)}findIhdr(){let r=this.metaChunks.find(n=>n.type==="ihdr");r&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",r.chunk)}async findExif(){let r=this.metaChunks.find(n=>n.type==="exif");r&&this.injectSegment("tiff",r.chunk)}async findXmp(){let r=this.metaChunks.filter(n=>n.type==="itxt");for(let n of r)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)}async findIcc(){let r=this.metaChunks.find(A=>A.type==="iccp");if(!r)return;let{chunk:n}=r,s=n.getUint8Array(0,81),l=0;for(;l<80&&s[l]!==0;)l++;let u=l+2,d=n.getString(0,l);if(this.injectKeyValToIhdr("ProfileName",d),fm){let A=await MI,b=n.getUint8Array(u);b=A.inflateSync(b),this.injectSegment("icc",b)}}}Nr(Sy,"type","png"),on.set("png",Sy),va(Ua,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),us(Ua,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let My=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];us(Ua,"ifd0",My),us(Ua,"exif",My),va(C0,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class Bp extends k0{static canHandle(r,n){return r.getUint8(n+1)===224&&r.getUint32(n+4)===1246120262&&r.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Nr(Bp,"type","jfif"),Nr(Bp,"headerLength",9),Ma.set("jfif",Bp),va(Ua,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class Iy extends k0{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Nr(Iy,"type","ihdr"),Ma.set("ihdr",Iy),va(Ua,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),va(C0,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class Y2 extends k0{static canHandle(r,n){return r.getUint8(n+1)===226&&r.getUint32(n+4)===1229144927}static findPosition(r,n){let s=super.findPosition(r,n);return s.chunkNumber=r.getUint8(n+16),s.chunkCount=r.getUint8(n+17),s.multiSegment=s.chunkCount>1,s}static handleMultiSegments(r){return function(n){let s=function(l){let u=l[0].constructor,d=0;for(let p of l)d+=p.length;let A=new u(d),b=0;for(let p of l)A.set(p,b),b+=p.length;return A}(n.map(l=>l.chunk.toUint8()));return new Yi(s)}(r)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:r}=this;this.chunk.byteLength<84&&Ia("ICC header is too short");for(let[n,s]of Object.entries(RI)){n=parseInt(n,10);let l=s(this.chunk,n);l!=="\0\0\0\0"&&r.set(n,l)}}parseTags(){let r,n,s,l,u,{raw:d}=this,A=this.chunk.getUint32(128),b=132,p=this.chunk.byteLength;for(;A--;){if(r=this.chunk.getString(b,4),n=this.chunk.getUint32(b+4),s=this.chunk.getUint32(b+8),l=this.chunk.getString(n,4),n+s>p)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");u=this.parseTag(l,n,s),u!==void 0&&u!=="\0\0\0\0"&&d.set(r,u),b+=12}}parseTag(r,n,s){switch(r){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,s);case"sig ":return this.parseSig(n)}if(!(n+s>this.chunk.byteLength))return this.chunk.getUint8Array(n,s)}parseDesc(r){let n=this.chunk.getUint32(r+8)-1;return es(this.chunk.getString(r+12,n))}parseText(r,n){return es(this.chunk.getString(r+8,n-8))}parseSig(r){return es(this.chunk.getString(r+8,4))}parseMluc(r){let{chunk:n}=this,s=n.getUint32(r+8),l=n.getUint32(r+12),u=r+16,d=[];for(let A=0;A<s;A++){let b=n.getString(u+0,2),p=n.getString(u+2,2),x=n.getUint32(u+4),N=n.getUint32(u+8)+r,v=es(n.getUnicodeString(N,x));d.push({lang:b,country:p,text:v}),u+=l}return s===1?d[0].text:d}translateValue(r,n){return typeof r=="string"?n[r]||n[r.toLowerCase()]||r:n[r]||r}}Nr(Y2,"type","icc"),Nr(Y2,"multiSegment",!0),Nr(Y2,"headerLength",18);const RI={4:Rn,8:function(i,r){return[i.getUint8(r),i.getUint8(r+1)>>4,i.getUint8(r+1)%16].map(n=>n.toString(10)).join(".")},12:Rn,16:Rn,20:Rn,24:function(i,r){const n=i.getUint16(r),s=i.getUint16(r+2)-1,l=i.getUint16(r+4),u=i.getUint16(r+6),d=i.getUint16(r+8),A=i.getUint16(r+10);return new Date(Date.UTC(n,s,l,u,d,A))},36:Rn,40:Rn,48:Rn,52:Rn,64:(i,r)=>i.getUint32(r),80:Rn};function Rn(i,r){return es(i.getString(r,4))}Ma.set("icc",Y2),va(Ua,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const T2={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},Ry={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};va(C0,"icc",[[4,T2],[12,Ry],[40,Object.assign({},T2,Ry)],[48,T2],[80,T2],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class B2 extends k0{static canHandle(r,n,s){return r.getUint8(n+1)===237&&r.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(r,n,s)!==void 0}static headerLength(r,n,s){let l,u=this.containsIptc8bim(r,n,s);if(u!==void 0)return l=r.getUint8(n+u+7),l%2!=0&&(l+=1),l===0&&(l=4),u+8+l}static containsIptc8bim(r,n,s){for(let l=0;l<s;l++)if(this.isIptcSegmentHead(r,n+l))return l}static isIptcSegmentHead(r,n){return r.getUint8(n)===56&&r.getUint32(n)===943868237&&r.getUint16(n+4)===1028}parse(){let{raw:r}=this,n=this.chunk.byteLength-1,s=!1;for(let l=0;l<n;l++)if(this.chunk.getUint8(l)===28&&this.chunk.getUint8(l+1)===2){s=!0;let u=this.chunk.getUint16(l+3),d=this.chunk.getUint8(l+2),A=this.chunk.getLatin1String(l+5,u);r.set(d,this.pluralizeValue(r.get(d),A)),l+=4+u}else if(s)break;return this.translate(),this.output}pluralizeValue(r,n){return r!==void 0?r instanceof Array?(r.push(n),r):[r,n]:n}}Nr(B2,"type","iptc"),Nr(B2,"translateValues",!1),Nr(B2,"reviveValues",!1),Ma.set("iptc",B2),va(Ua,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),va(C0,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const TI=async(i,r)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${i}&lon=${r}&zoom=14`,{headers:{"User-Agent":"Kizu Photo App/1.0"}});if(!n.ok)return console.warn("Reverse geocoding failed:",n.status),null;const s=await n.json();if(s.address){const l=[];if(s.address.neighbourhood?l.push(s.address.neighbourhood):s.address.suburb?l.push(s.address.suburb):s.address.village&&l.push(s.address.village),s.address.city?l.push(s.address.city):s.address.town?l.push(s.address.town):s.address.municipality&&l.push(s.address.municipality),s.address.state?l.push(s.address.state):s.address.region&&l.push(s.address.region),s.address.country&&l.push(s.address.country),l.length>0)return l.join(", ")}return s.display_name?s.display_name:null}catch(n){return console.warn("Reverse geocoding error:",n),null}},BI=async i=>new Promise(r=>{const n={createdAt:null,latitude:null,longitude:null,locationName:null,make:null,model:null,lensMake:null,lensModel:null,width:null,height:null,orientation:null,iso:null,focalLength:null,focalLength35mm:null,aperture:null,shutterSpeed:null,flash:null,whiteBalance:null,duration:null,rawExif:null},s=document.createElement("video");s.preload="metadata",s.muted=!0,s.onloadedmetadata=()=>{console.log("=== VIDEO METADATA EXTRACTION ==="),console.log("Video file:",i.name),console.log("Video duration:",s.duration),console.log("Video dimensions:",s.videoWidth,"x",s.videoHeight);let l=null;i.lastModified&&(l=new Date(i.lastModified),console.log("File last modified:",l));const u={...n,width:s.videoWidth||null,height:s.videoHeight||null,duration:s.duration||null,createdAt:l,rawExif:{video_duration:s.duration,video_width:s.videoWidth,video_height:s.videoHeight,file_type:i.type,file_size:i.size}};console.log("Extracted video metadata:",u),console.log("=== VIDEO METADATA EXTRACTION COMPLETE ==="),URL.revokeObjectURL(s.src),r(u)},s.onerror=()=>{console.warn("Could not load video metadata"),URL.revokeObjectURL(s.src),r({...n,createdAt:i.lastModified?new Date(i.lastModified):null})},s.src=URL.createObjectURL(i)}),FI=async i=>{const r={createdAt:null,latitude:null,longitude:null,locationName:null,make:null,model:null,lensMake:null,lensModel:null,width:null,height:null,orientation:null,iso:null,focalLength:null,focalLength35mm:null,aperture:null,shutterSpeed:null,flash:null,whiteBalance:null,duration:null,rawExif:null};try{const n=await SI.parse(i,{tiff:!0,exif:!0,gps:!0,ifd1:!0,iptc:!0,xmp:!0,icc:!1,translateKeys:!0,translateValues:!1,reviveValues:!0});if(!n)return console.log("No EXIF data found in file:",i.name),r;console.log("Extracted EXIF data (full):",JSON.stringify(n,null,2));let s=null;n.DateTimeOriginal?s=new Date(n.DateTimeOriginal):n.CreateDate?s=new Date(n.CreateDate):n.ModifyDate&&(s=new Date(n.ModifyDate)),s&&isNaN(s.getTime())&&(s=null);const l=n.latitude??n.GPSLatitude??null,u=n.longitude??n.GPSLongitude??null,d=n.ImageWidth??n.ExifImageWidth??null,A=n.ImageHeight??n.ExifImageHeight??null;let b=null;try{b=JSON.parse(JSON.stringify(n))}catch{console.warn("Could not serialize raw EXIF data")}const p=typeof l=="number"?l:null,x=typeof u=="number"?u:null;let N=null;p!==null&&x!==null&&(console.log("Reverse geocoding coordinates:",p,x),N=await TI(p,x),console.log("Location name:",N));let v=null;if(n.ExposureTime){const F=n.ExposureTime;v=F<1?`1/${Math.round(1/F)}`:`${F}s`}let w=null;n.Flash!==void 0&&(w={0:"No Flash",1:"Fired",5:"Fired, Return not detected",7:"Fired, Return detected",16:"Off",24:"Auto, Did not fire",25:"Auto, Fired",32:"No flash function"}[n.Flash]||`Flash: ${n.Flash}`);let E=null;return n.WhiteBalance!==void 0&&(E=n.WhiteBalance===0?"Auto":"Manual"),{createdAt:s,latitude:p,longitude:x,locationName:N,make:n.Make??null,model:n.Model??null,lensMake:n.LensMake??null,lensModel:n.LensModel??n.Lens??null,width:d,height:A,duration:null,orientation:n.Orientation??null,iso:n.ISO??n.ISOSpeedRatings??null,focalLength:n.FocalLength??null,focalLength35mm:n.FocalLengthIn35mmFormat??n.FocalLenIn35mmFilm??null,aperture:n.FNumber??null,shutterSpeed:v,flash:w,whiteBalance:E,rawExif:b}}catch(n){return console.warn("Failed to extract EXIF data:",n),r}},Ty=i=>{const r=i.name.toLowerCase();return r.endsWith(".heic")||r.endsWith(".heif")||i.type==="image/heic"||i.type==="image/heif"},Fp=async i=>{console.log("Converting HEIC to JPEG:",i.name,"size:",Math.round(i.size/1024),"KB");try{const r=await y4({blob:i,toType:"image/jpeg",quality:.92}),n=Array.isArray(r)?r[0]:r;return console.log("HEIC conversion complete, size:",Math.round(n.size/1024),"KB"),n}catch(r){console.error("heic2any conversion failed:",r);try{return console.log("Trying canvas fallback for HEIC..."),await ZI(i)}catch(n){throw console.error("Canvas fallback also failed:",n),new Error(`HEIC conversion failed: ${r instanceof Error?r.message:"Unknown error"}`)}}},ZI=async i=>new Promise((r,n)=>{const s=new Image,l=document.createElement("canvas"),u=l.getContext("2d");s.onload=()=>{l.width=s.width,l.height=s.height,u?(u.drawImage(s,0,0),l.toBlob(d=>{URL.revokeObjectURL(s.src),d?(console.log("Canvas conversion successful, size:",Math.round(d.size/1024),"KB"),r(d)):n(new Error("Canvas toBlob returned null"))},"image/jpeg",.92)):(URL.revokeObjectURL(s.src),n(new Error("Could not get canvas context")))},s.onerror=()=>{URL.revokeObjectURL(s.src),n(new Error("Image failed to load"))},s.src=URL.createObjectURL(i)}),OI=async(i,r=300)=>new Promise((n,s)=>{const l=new Image,u=document.createElement("canvas"),d=u.getContext("2d");l.onload=()=>{let A=l.width,b=l.height;if(A>b?A>r&&(b=b*r/A,A=r):b>r&&(A=A*r/b,b=r),u.width=A,u.height=b,d){d.drawImage(l,0,0,A,b);const p=u.toDataURL("image/jpeg",.8);n(p)}else s(new Error("Could not get canvas context"));URL.revokeObjectURL(l.src)},l.onerror=()=>{URL.revokeObjectURL(l.src),s(new Error("Failed to load image for thumbnail"))},l.src=URL.createObjectURL(i)}),PI=async(i,r=300)=>new Promise((n,s)=>{const l=document.createElement("video"),u=document.createElement("canvas"),d=u.getContext("2d");l.preload="metadata",l.muted=!0,l.playsInline=!0,l.onloadedmetadata=()=>{const A=Math.min(2,l.duration*.1);l.currentTime=A},l.onseeked=()=>{let A=l.videoWidth,b=l.videoHeight;if(A>b?A>r&&(b=b*r/A,A=r):b>r&&(A=A*r/b,b=r),u.width=A,u.height=b,d){d.drawImage(l,0,0,A,b);const p=u.toDataURL("image/jpeg",.8);URL.revokeObjectURL(l.src),n(p)}else URL.revokeObjectURL(l.src),s(new Error("Could not get canvas context"))},l.onerror=()=>{URL.revokeObjectURL(l.src),s(new Error("Failed to load video for thumbnail"))},l.src=URL.createObjectURL(i)}),ek=({targetAlbumId:i,onImagesUploaded:r,onClose:n})=>{const[s,l]=h.useState([]),[u,d]=h.useState(!1),[A,b]=h.useState(!1),[p,x]=h.useState(!1),{user:N}=Xa(),v=()=>Math.random().toString(36).substr(2,9),w=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,j=>{const O=Math.random()*16|0;return(j==="x"?O:O&3|8).toString(16)}),E=async(j,O,Y)=>{var C;const ie=O||`${N.id}/${Date.now()}_${Math.random().toString(36).substr(2,9)}.${((C=j.name)==null?void 0:C.split(".").pop())||"jpg"}`,z=Y||j.type||j.type;console.log("Uploading file with contentType:",z,"size:",j.size);const{data:ee,error:D}=await Ge.storage.from("assets").upload(ie,j,{upsert:!0,contentType:z});if(D)throw D;const R=`https://quqlovduekdasldqadge.supabase.co/storage/v1/object/public/assets/${ee.path}`,X=ee.id||w();return console.log("Uploaded to:",R,"objectId:",X,"(from storage:",!!ee.id,")"),{url:R,objectId:X}},F=h.useCallback(async j=>{const O=[];for(const Y of Array.from(j)){const ie=Ty(Y);if(!Y.type.startsWith("image/")&&!Y.type.startsWith("video/")&&!ie){console.log("Skipping unsupported file:",Y.name,Y.type);continue}if(Y.size>50*1024*1024){console.log("Skipping large file:",Y.name,Y.size);continue}let z;if(ie)try{console.log("Converting HEIC for preview:",Y.name);const ee=await Fp(Y);z=URL.createObjectURL(ee)}catch(ee){console.warn("Could not create HEIC preview:",ee),z=""}else z=URL.createObjectURL(Y);O.push({file:Y,id:v(),preview:z,status:"pending",progress:0})}O.length>0&&l(Y=>[...Y,...O])},[]),V=h.useCallback(j=>{var O;j.preventDefault(),j.stopPropagation(),console.log(" handleDragOver triggered",{target:j.target.tagName,currentTarget:j.currentTarget.tagName,className:(O=j.currentTarget.className)==null?void 0:O.slice(0,50)}),d(!0)},[]),G=h.useCallback(j=>{var O,Y,ie;j.preventDefault(),j.stopPropagation(),console.log(" handleDragEnter triggered",{target:j.target.tagName,files:(Y=(O=j.dataTransfer)==null?void 0:O.files)==null?void 0:Y.length,types:(ie=j.dataTransfer)==null?void 0:ie.types}),d(!0)},[]),Z=h.useCallback(j=>{j.preventDefault(),j.stopPropagation(),console.log(" handleDragLeave triggered");const O=j.currentTarget.getBoundingClientRect();j.clientX>=O.left&&j.clientX<=O.right&&j.clientY>=O.top&&j.clientY<=O.bottom||d(!1)},[]),H=h.useCallback(j=>{var O,Y,ie,z,ee;j.preventDefault(),j.stopPropagation(),console.log(" handleDrop triggered!",{files:(Y=(O=j.dataTransfer)==null?void 0:O.files)==null?void 0:Y.length,fileNames:(ie=j.dataTransfer)!=null&&ie.files?Array.from(j.dataTransfer.files).map(D=>D.name):[],types:(z=j.dataTransfer)==null?void 0:z.types}),d(!1),(ee=j.dataTransfer)!=null&&ee.files&&j.dataTransfer.files.length>0?(console.log(" Calling handleFileSelect with",j.dataTransfer.files.length,"files"),F(j.dataTransfer.files)):console.log(" No files in dataTransfer")},[F]);Wl.useEffect(()=>{console.log(" ImageUploader mounted - setting up drag handlers");const j=O=>{O.preventDefault(),console.log(" Window dragover/drop prevented default",O.type)};return window.addEventListener("dragover",j),window.addEventListener("drop",j),()=>{console.log(" ImageUploader unmounting - removing drag handlers"),window.removeEventListener("dragover",j),window.removeEventListener("drop",j)}},[]);const te=h.useCallback(j=>{j.target.files&&F(j.target.files)},[F]),T=j=>{l(O=>{const Y=O.find(ie=>ie.id===j);return Y!=null&&Y.preview&&URL.revokeObjectURL(Y.preview),O.filter(ie=>ie.id!==j)})},M=async j=>{try{l(Ee=>Ee.map(ye=>ye.id===j.id?{...ye,status:"uploading",progress:0}:ye));const O=Ty(j.file),Y=j.file.type.startsWith("image/")||O,ie=Date.now();let z=null;const ee=j.file.type.startsWith("video/");ee?(console.log("Extracting video metadata from:",j.file.name),z=await BI(j.file),console.log("Video metadata:",z)):Y&&(console.log("Extracting EXIF metadata from:",j.file.name),z=await FI(j.file),console.log("EXIF metadata:",z)),console.log("Uploading original file:",j.file.name),console.log("File type:",j.file.type),console.log("File size:",Math.round(j.file.size/1024/1024*100)/100,"MB"),console.log("Is video:",ee),l(Ee=>Ee.map(ye=>ye.id===j.id?{...ye,progress:10}:ye));const D=`${N.id}/${ie}_${j.file.name}`;console.log("Upload path:",D);const R=await E(j.file,D,j.file.type),X=R.url,C=R.objectId;console.log("Original uploaded:",X),console.log("Object ID:",C);let I=X;if(O){console.log("Converting HEIC to JPEG for web display..."),l(Ee=>Ee.map(ye=>ye.id===j.id?{...ye,progress:30}:ye));try{const Ee=await Fp(j.file),ye=`web_${ie}_${j.file.name.replace(/\.(heic|heif)$/i,".jpg")}`,W=`${N.id}/web/${ye}`,he=new File([Ee],ye,{type:"image/jpeg"});console.log("Converted blob to File:",he.name,he.type,he.size),I=(await E(he,W,"image/jpeg")).url,console.log("Web version uploaded:",I)}catch(Ee){throw console.error("HEIC conversion failed:",Ee),new Error(`HEIC conversion failed for ${j.file.name}. Please convert to JPEG before uploading.`)}}let S=null;const P=j.file.type.startsWith("video/");if(l(Ee=>Ee.map(ye=>ye.id===j.id?{...ye,progress:50}:ye)),P)try{S=await PI(j.file),console.log("Video thumbnail generated, size:",Math.round(S.length/1024),"KB")}catch(Ee){console.warn("Video thumbnail generation failed:",Ee)}else if(Y)try{const Ee=O?await Fp(j.file):j.file;S=await OI(Ee),console.log("Thumbnail generated, size:",Math.round(S.length/1024),"KB")}catch(Ee){console.warn("Thumbnail generation failed:",Ee)}l(Ee=>Ee.map(ye=>ye.id===j.id?{...ye,progress:60}:ye));const U=z!=null&&z.createdAt?z.createdAt.toISOString():new Date().toISOString(),K=new Date().toISOString(),re=j.file.type.startsWith("video/")?"video":"photo",se={needsCreation:!0,path:X,thumbnail:S||X,web_uri:I,asset_file_id:C,created_at:U,uploaded_at:K,media_type:re,uri:I,mediaType:re};return z&&(z.latitude!==null&&(se.latitude=z.latitude),z.longitude!==null&&(se.longitude=z.longitude),z.locationName&&(se.location_name=z.locationName),z.make&&(se.camera_make=z.make),z.model&&(se.camera_model=z.model),z.lensMake&&(se.lens_make=z.lensMake),z.lensModel&&(se.lens_model=z.lensModel),z.width&&(se.width=z.width),z.height&&(se.height=z.height),z.duration!==null&&(se.duration=z.duration),z.orientation&&(se.orientation=z.orientation),z.iso&&(se.iso=z.iso),z.aperture&&(se.aperture=z.aperture),z.focalLength&&(se.focal_length=z.focalLength),z.focalLength35mm&&(se.focal_length_35mm=z.focalLength35mm),z.shutterSpeed&&(se.shutter_speed=z.shutterSpeed),z.flash&&(se.flash=z.flash),z.whiteBalance&&(se.white_balance=z.whiteBalance),z.rawExif&&(se.metadata=z.rawExif)),l(Ee=>Ee.map(ye=>ye.id===j.id?{...ye,progress:75}:ye)),i?(console.log("Adding to album with needsCreation:",se),await ZE({albumId:i,assets:[se]}),console.log("Photo added to album via edge function")):(console.log("Creating asset in library:",se),await sI(se),console.log("Asset created in library via edge function")),l(Ee=>Ee.map(ye=>ye.id===j.id?{...ye,status:"success",progress:100,url:I}:ye)),!0}catch(O){return console.error("Upload error:",O),l(Y=>Y.map(ie=>ie.id===j.id?{...ie,status:"error",error:O instanceof Error?O.message:"Upload failed"}:ie)),!1}},q=async()=>{const j=s.filter(ie=>ie.status==="pending");if(j.length===0)return;b(!0);let O=0;const Y=3;for(let ie=0;ie<j.length;ie+=Y){const z=j.slice(ie,ie+Y),ee=await Promise.all(z.map(D=>M(D)));O+=ee.filter(Boolean).length}b(!1),x(!0),setTimeout(()=>{r(O),n()},2e3)},$=j=>{M(j)},Ae=s.filter(j=>j.status==="pending"),L=s.filter(j=>j.status==="success").length,J=s.filter(j=>j.status==="error").length;return t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onDragOver:V,onDragEnter:G,onDragLeave:Z,onDrop:H,children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col","data-drop-zone":"true",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Photos"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:976,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:"Add photos from your camera roll or device"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:977,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:975,columnNumber:11},void 0),t.jsxDEV("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:981,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:974,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6","data-drop-zone":"true",onDragOver:V,onDragEnter:G,onDragLeave:Z,onDrop:H,children:s.length===0?t.jsxDEV("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${u?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:V,onDragEnter:G,onDragLeave:Z,onDrop:H,children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1010,columnNumber:15},void 0),t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Drag photos here or click to browse"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1011,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-gray-500 mb-6",children:"Supports JPG, PNG, GIF, MP4, MOV up to 50MB each"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1014,columnNumber:15},void 0),t.jsxDEV("label",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg cursor-pointer inline-flex items-center gap-2 transition-colors",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1019,columnNumber:17},void 0),"Choose Files",t.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:te,className:"hidden"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1021,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1018,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:999,columnNumber:13},void 0):t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"text-sm text-gray-600",children:[s.length," file",s.length!==1?"s":""," selected",L>0&&t.jsxDEV("span",{className:"ml-2 text-green-600",children:[" ",L," uploaded"]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1038,columnNumber:23},void 0),J>0&&t.jsxDEV("span",{className:"ml-2 text-red-600",children:[" ",J," failed"]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1043,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1035,columnNumber:19},void 0),t.jsxDEV("label",{className:"text-blue-600 hover:text-blue-800 cursor-pointer text-sm font-medium",children:["Add More",t.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:te,className:"hidden"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1051,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1049,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1034,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1033,columnNumber:15},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map(j=>t.jsxDEV("div",{className:"relative group",children:[t.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[t.jsxDEV("img",{src:j.preview,alt:"Preview",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1067,columnNumber:23},void 0),t.jsxDEV("div",{className:`absolute inset-0 flex items-center justify-center ${j.status==="uploading"?"bg-blue-500/20":j.status==="success"?"bg-green-500/20":j.status==="error"?"bg-red-500/20":""}`,children:[j.status==="uploading"&&t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin mb-2"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1081,columnNumber:29},void 0),t.jsxDEV("div",{className:"text-white text-sm font-medium",children:[j.progress,"%"]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1082,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1080,columnNumber:27},void 0),j.status==="success"&&t.jsxDEV("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1088,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1087,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1086,columnNumber:27},void 0),j.status==="error"&&t.jsxDEV("button",{onClick:()=>$(j),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Retry"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1093,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1074,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1066,columnNumber:21},void 0),j.status==="pending"&&t.jsxDEV("button",{onClick:()=>T(j.id),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-sm group-hover:opacity-100 opacity-0 transition-opacity",children:""},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1105,columnNumber:23},void 0),j.status==="error"&&j.error&&t.jsxDEV("div",{className:"mt-1 text-xs text-red-600 truncate",title:j.error,children:j.error},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1115,columnNumber:23},void 0)]},j.id,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1065,columnNumber:19},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1063,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1031,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:990,columnNumber:9},void 0),s.length>0&&t.jsxDEV("div",{className:"border-t px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("div",{className:"text-sm text-gray-600",children:[Ae.length," file",Ae.length!==1?"s":""," ready to upload",p&&L>0&&t.jsxDEV("span",{className:"ml-2 text-green-600 font-medium",children:" Upload complete! Closing..."},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1132,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1129,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:p?"Close":"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1139,columnNumber:15},void 0),Ae.length>0&&t.jsxDEV("button",{onClick:q,disabled:A,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-md transition-colors flex items-center gap-2",children:A?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1154,columnNumber:23},void 0),"Uploading..."]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1153,columnNumber:21},void 0):`Upload ${Ae.length} Photo${Ae.length!==1?"s":""}`},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1147,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1138,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:1128,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:972,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImageUploader.tsx",lineNumber:965,columnNumber:5},void 0)},rk=({assetId:i,canAddMemory:r=!0,onClose:n,onMemoriesUpdated:s})=>{const[l,u]=h.useState([]),[d,A]=h.useState(!0),[b,p]=h.useState(null),[x,N]=h.useState(new Set),[v,w]=h.useState(!1),[E,F]=h.useState(null),[V,G]=h.useState("text"),[Z,H]=h.useState(""),[te,T]=h.useState(null),[M,q]=h.useState(!1),$=h.useRef(null),[Ae,L]=h.useState(null),[J,j]=h.useState(""),[O,Y]=h.useState("file"),[ie,z]=h.useState(!1),[ee,D]=h.useState(null),[R,X]=h.useState(null),C=h.useRef(null),I=h.useRef(null),S=h.useRef([]),[P,U]=h.useState(0),K=h.useRef(null),re=4e3,se=h.useCallback(async()=>{try{A(!0),p(null);const me=await st.getMemories(i);me.success&&me.data?u(me.data.memories):p(me.error||"Failed to load memories")}catch(me){p("Failed to load memories"),console.error(me)}finally{A(!1)}},[i]);h.useEffect(()=>{se()},[se]);const Ee=me=>{const ze=new Date(me),xe=new Date,Pe=xe.getTime()-ze.getTime(),Ze=Math.floor(Pe/(1e3*60)),er=Math.floor(Pe/(1e3*60*60)),xr=Math.floor(Pe/(1e3*60*60*24));return Ze<1?"Just now":Ze<60?`${Ze}m ago`:er<24?`${er}h ago`:xr<7?`${xr}d ago`:ze.toLocaleDateString(void 0,{month:"short",day:"numeric",year:ze.getFullYear()!==xe.getFullYear()?"numeric":void 0})},ye=async me=>{if(!confirm("Are you sure you want to delete this memory?"))return;const ze=await st.deleteMemory(me);ze.success?(se(),s==null||s()):alert(ze.error||"Failed to delete memory")},W=me=>{me.memory_type==="text"&&(L(me.id),j(me.content_text||""))},he=()=>{L(null),j("")},oe=async me=>{if(!J.trim()){alert("Memory text cannot be empty");return}const ze=await st.editMemory(me,{content_text:J.trim()});ze.success?(L(null),j(""),se(),s==null||s()):alert(ze.error||"Failed to save changes")},ke=me=>{N(ze=>{const xe=new Set(ze);return xe.has(me)?xe.delete(me):xe.add(me),xe})},Ne=me=>{F(me),w(!0),G("text"),H(""),T(null)},je=()=>{Xe(),Be(),w(!1),F(null),H(""),T(null),Y("file"),D(null),U(0)},Be=()=>{R&&(R.getTracks().forEach(me=>me.stop()),X(null)),K.current&&(clearInterval(K.current),K.current=null)},De=async()=>{try{const me=V==="video"?{video:{facingMode:"user"},audio:!0}:{audio:!0},ze=await navigator.mediaDevices.getUserMedia(me);X(ze),I.current&&V==="video"&&(I.current.srcObject=ze,I.current.play());const xe=V==="video"?MediaRecorder.isTypeSupported("video/webm;codecs=vp9")?"video/webm;codecs=vp9":"video/webm":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",Pe=new MediaRecorder(ze,{mimeType:xe});C.current=Pe,S.current=[],Pe.ondataavailable=Ze=>{Ze.data.size>0&&S.current.push(Ze.data)},Pe.onstop=()=>{const Ze=new Blob(S.current,{type:xe});D(Ze),Be()},Pe.start(),z(!0),U(0),K.current=setInterval(()=>{U(Ze=>Ze>=30?(Xe(),30):Ze+1)},1e3)}catch(me){console.error("Error accessing media devices:",me),alert(`Could not access ${V==="video"?"camera":"microphone"}. Please check permissions.`)}},Xe=()=>{C.current&&C.current.state!=="inactive"&&C.current.stop(),z(!1),K.current&&(clearInterval(K.current),K.current=null)},ae=()=>{D(null),U(0)},fe=me=>{var xe;const ze=(xe=me.target.files)==null?void 0:xe[0];if(ze){const Pe=ze.type.startsWith("video/"),Ze=ze.type.startsWith("audio/");T(ze),G(Ze?"audio":Pe?"video":"image")}},be=async me=>{if(me.preventDefault(),V==="text"&&!Z.trim()){alert("Please enter some text");return}if((V==="image"||V==="video"||V==="audio")&&!(te||ee)){alert("Please select or record a file");return}try{q(!0);let xe;if(V==="text")xe={memory_type:"text",content_text:Z.trim()};else{let Ze;if(ee){const ur=`recorded_${V}_${Date.now()}.webm`;Ze=new File([ee],ur,{type:ee.type})}else Ze=te;const er=await st.uploadMemoryMedia(Ze,i,V);if(!er)throw new Error("Failed to upload file");xe={memory_type:V,content_url:er.url,thumbnail_url:er.thumbnailUrl}}let Pe;if(E?Pe=await st.addReply(E,xe):Pe=await st.addMemory(i,xe),Pe.success)je(),se(),s==null||s();else throw new Error(Pe.error||"Failed to add memory")}catch(xe){alert(xe instanceof Error?xe.message:"Failed to add memory")}finally{q(!1)}},Oe=me=>{const ze=Ae===me.id;switch(me.memory_type){case"text":return ze?t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[t.jsxDEV("textarea",{value:J,onChange:xe=>j(xe.target.value.slice(0,re)),className:"w-full h-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",autoFocus:!0},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:352,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex justify-between items-center mt-2",children:[t.jsxDEV("span",{className:"text-xs text-gray-500",children:[J.length,"/",re]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:359,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("button",{onClick:he,className:"px-3 py-1.5 text-sm text-gray-600 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:361,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>oe(me.id),className:"px-3 py-1.5 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Save"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:367,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:360,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:358,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:351,columnNumber:13},void 0):t.jsxDEV("p",{className:"text-gray-700 whitespace-pre-wrap",children:me.content_text},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:378,columnNumber:16},void 0);case"image":return t.jsxDEV("img",{src:me.content_url||"",alt:"Memory",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(me.content_url||"","_blank")},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:382,columnNumber:11},void 0);case"video":return t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("video",{src:me.content_url||"",controls:!0,className:"max-w-full rounded-lg"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:393,columnNumber:13},void 0),me.duration&&t.jsxDEV("span",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:[me.duration,"s"]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:399,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:392,columnNumber:11},void 0);case"audio":return t.jsxDEV("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-white",children:""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:411,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:410,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex-1",children:t.jsxDEV("audio",{src:me.content_url||"",controls:!0,className:"w-full h-8"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:414,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:413,columnNumber:15},void 0),me.duration&&t.jsxDEV("span",{className:"text-orange-600 text-sm font-medium",children:[me.duration,"s"]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:421,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:409,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:408,columnNumber:11},void 0);default:return null}},Fe=me=>t.jsxDEV("div",{className:"flex gap-3 ml-8 mt-3 pt-3 border-t border-gray-100",children:[me.user.avatar_url?t.jsxDEV("img",{src:me.user.avatar_url,alt:"",className:"w-8 h-8 rounded-full object-cover flex-shrink-0"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:437,columnNumber:9},void 0):t.jsxDEV("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-gray-500 text-sm font-medium",children:(me.user.name||me.user.email||"?").charAt(0).toUpperCase()},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:444,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:443,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV("span",{className:"font-medium text-sm text-gray-900",children:me.user.name||me.user.email},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:451,columnNumber:11},void 0),t.jsxDEV("span",{className:"text-xs text-gray-500",children:Ee(me.created_at)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:454,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:450,columnNumber:9},void 0),t.jsxDEV("div",{className:"text-sm",children:Oe(me)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:456,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex items-center gap-3 mt-2",children:[me.memory_type==="text"&&r&&t.jsxDEV("button",{onClick:()=>W(me),className:"text-xs text-blue-500 hover:text-blue-700",children:"Edit"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:459,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>ye(me.id),className:"text-xs text-red-500 hover:text-red-700",children:"Delete"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:466,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:457,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:449,columnNumber:7},void 0)]},me.id,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:435,columnNumber:5},void 0),$e=me=>{const ze=me.replies&&me.replies.length>0,xe=x.has(me.id);return t.jsxDEV("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:[t.jsxDEV("div",{className:"flex items-start gap-3",children:[me.user.avatar_url?t.jsxDEV("img",{src:me.user.avatar_url,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:486,columnNumber:13},void 0):t.jsxDEV("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-blue-600 font-medium",children:(me.user.name||me.user.email||"?").charAt(0).toUpperCase()},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:493,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:492,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxDEV("span",{className:"font-medium text-gray-900",children:me.user.name||me.user.email},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:500,columnNumber:15},void 0),t.jsxDEV("span",{className:"text-sm text-gray-500",children:Ee(me.created_at)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:503,columnNumber:15},void 0),t.jsxDEV("span",{className:`text-xs px-2 py-0.5 rounded-full ${me.memory_type==="text"?"bg-gray-100 text-gray-600":me.memory_type==="image"?"bg-blue-100 text-blue-600":me.memory_type==="audio"?"bg-orange-100 text-orange-600":"bg-purple-100 text-purple-600"}`,children:me.memory_type==="text"?"":me.memory_type==="image"?"":me.memory_type==="audio"?"":""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:504,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:499,columnNumber:13},void 0),t.jsxDEV("div",{className:"mt-2",children:Oe(me)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:515,columnNumber:13},void 0),t.jsxDEV("div",{className:"mt-3",children:t.jsxDEV(ss,{targetId:me.id,targetType:"memory",compact:!0},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:519,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:518,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[r&&t.jsxDEV("button",{onClick:()=>Ne(me.id),className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:533,columnNumber:19},void 0)," Reply"]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:529,columnNumber:17},void 0),ze&&t.jsxDEV("button",{onClick:()=>ke(me.id),className:"text-gray-600 hover:text-gray-800 flex items-center gap-1",children:[xe?"":""," ",me.replies.length," ",me.replies.length===1?"Reply":"Replies"]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:537,columnNumber:17},void 0),me.memory_type==="text"&&r&&t.jsxDEV("button",{onClick:()=>W(me),className:"text-blue-500 hover:text-blue-700 flex items-center gap-1",children:" Edit"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:545,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>ye(me.id),className:"text-red-500 hover:text-red-700 ml-auto",children:" Delete"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:552,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:527,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:498,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:484,columnNumber:9},void 0),ze&&xe&&t.jsxDEV("div",{className:"mt-2",children:me.replies.map(Fe)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:564,columnNumber:11},void 0)]},me.id,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:482,columnNumber:7},void 0)};return t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:t.jsxDEV("div",{className:"bg-gray-50 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:me=>me.stopPropagation(),children:[t.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-white rounded-t-xl",children:[t.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Memories"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:580,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-3",children:t.jsxDEV("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:582,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:581,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:579,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:d?t.jsxDEV("div",{className:"flex items-center justify-center py-12",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:595,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:594,columnNumber:13},void 0):b?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV("div",{className:"text-red-500 mb-2",children:""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:599,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-gray-600",children:b},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:600,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:598,columnNumber:13},void 0):l.length===0?t.jsxDEV("div",{className:"text-center py-8",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:604,columnNumber:15},void 0),t.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No memories yet"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:605,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-gray-500 mb-6",children:"Be the first to share a memory about this photo!"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:606,columnNumber:15},void 0),r&&t.jsxDEV("div",{className:"max-w-md mx-auto",children:t.jsxDEV(Yu,{assetId:i,onMemoryAdded:()=>{se(),s==null||s()},placeholder:"Share a memory...",variant:"inline"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:609,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:608,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:603,columnNumber:13},void 0):t.jsxDEV("div",{className:"space-y-4",children:l.map($e)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:622,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:592,columnNumber:9},void 0),!d&&!b&&l.length>0&&r&&!v&&t.jsxDEV("div",{className:"px-4 py-3 border-t bg-white rounded-b-xl",children:t.jsxDEV(Yu,{assetId:i,onMemoryAdded:()=>{se(),s==null||s()},placeholder:"Add a memory...",variant:"inline"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:631,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:630,columnNumber:11},void 0),v&&t.jsxDEV("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",children:t.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 p-6",children:[t.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:E?"Add Reply":"Add Memory"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:647,columnNumber:15},void 0),t.jsxDEV("form",{onSubmit:be,children:[t.jsxDEV("div",{className:"flex gap-2 mb-4",children:[t.jsxDEV("button",{type:"button",onClick:()=>{G("text"),T(null),D(null),Be()},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${V==="text"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Text"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:654,columnNumber:19},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{G("video"),T(null),D(null),Be()},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${V==="video"?"bg-purple-100 text-purple-700 border border-purple-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Video"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:665,columnNumber:19},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{G("audio"),T(null),D(null),Be()},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${V==="audio"?"bg-orange-100 text-orange-700 border border-orange-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Audio"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:676,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:653,columnNumber:17},void 0),V==="text"?t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("textarea",{value:Z,onChange:me=>H(me.target.value.slice(0,re)),placeholder:"Share a memory, thought, or story...",className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:692,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-right text-xs text-gray-500 mt-1",children:[Z.length,"/",re]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:698,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:691,columnNumber:19},void 0):t.jsxDEV("div",{className:"mb-4",children:[(V==="video"||V==="audio")&&t.jsxDEV("div",{className:"flex gap-2 mb-3",children:[t.jsxDEV("button",{type:"button",onClick:()=>{Y("file"),D(null),Be()},className:`flex-1 py-1.5 px-3 rounded text-xs font-medium transition-colors ${O==="file"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:"Upload File"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:707,columnNumber:25},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{Y("record"),T(null)},className:`flex-1 py-1.5 px-3 rounded text-xs font-medium transition-colors ${O==="record"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:V==="video"?"Use Camera":"Use Microphone"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:718,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:706,columnNumber:23},void 0),O==="file"?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("input",{type:"file",ref:$,onChange:fe,accept:V==="video"?"video/*":V==="audio"?"audio/*":"image/*",className:"hidden"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:734,columnNumber:25},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{var me;return(me=$.current)==null?void 0:me.click()},className:`w-full py-8 border-2 border-dashed rounded-lg transition-colors text-center ${V==="audio"?"border-orange-300 hover:border-orange-400 hover:bg-orange-50":V==="video"?"border-purple-300 hover:border-purple-400 hover:bg-purple-50":"border-gray-300 hover:border-blue-400 hover:bg-blue-50"}`,children:te?t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl mb-2",children:V==="video"?"":V==="audio"?"":""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:754,columnNumber:31},void 0),t.jsxDEV("p",{className:"text-sm text-gray-600",children:te.name},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:757,columnNumber:31},void 0),t.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:"Click to change"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:758,columnNumber:31},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:753,columnNumber:29},void 0):t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-2xl mb-2",children:""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:762,columnNumber:31},void 0),t.jsxDEV("p",{className:"text-sm text-gray-600",children:["Click to select ",V==="video"?"a video":V==="audio"?"an audio file":"an image"]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:763,columnNumber:31},void 0),(V==="video"||V==="audio")&&t.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:"Max 30 seconds"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:767,columnNumber:33},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:761,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:741,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:733,columnNumber:23},void 0):t.jsxDEV("div",{className:`rounded-lg border-2 ${V==="video"?"border-purple-300 bg-purple-50":"border-orange-300 bg-orange-50"} p-4`,children:[V==="video"&&t.jsxDEV("div",{className:"relative mb-3 rounded-lg overflow-hidden bg-black aspect-video",children:[t.jsxDEV("video",{ref:I,muted:!0,playsInline:!0,className:`w-full h-full object-cover ${!R&&!ee?"hidden":""}`},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:780,columnNumber:29},void 0),ee&&!R&&t.jsxDEV("video",{src:URL.createObjectURL(ee),controls:!0,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:787,columnNumber:31},void 0),!R&&!ee&&t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:t.jsxDEV("span",{className:"text-4xl",children:""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:795,columnNumber:33},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:794,columnNumber:31},void 0),ie&&t.jsxDEV("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[t.jsxDEV("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:800,columnNumber:33},void 0),"REC ",P,"s"]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:799,columnNumber:31},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:779,columnNumber:27},void 0),V==="audio"&&t.jsxDEV("div",{className:"mb-3",children:ee?t.jsxDEV("audio",{src:URL.createObjectURL(ee),controls:!0,className:"w-full"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:810,columnNumber:31},void 0):t.jsxDEV("div",{className:"flex items-center justify-center py-6",children:[t.jsxDEV("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${ie?"bg-red-500 animate-pulse":"bg-orange-200"}`,children:t.jsxDEV("span",{className:"text-2xl",children:ie?"":""},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:820,columnNumber:35},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:817,columnNumber:33},void 0),ie&&t.jsxDEV("span",{className:"ml-3 text-lg font-mono",children:[P,"s / 30s"]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:823,columnNumber:35},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:816,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:808,columnNumber:27},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[!ie&&!ee&&t.jsxDEV("button",{type:"button",onClick:De,className:`flex-1 py-2 px-4 rounded-lg text-white font-medium transition-colors ${V==="video"?"bg-purple-600 hover:bg-purple-700":"bg-orange-600 hover:bg-orange-700"}`,children:"Start Recording"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:832,columnNumber:29},void 0),ie&&t.jsxDEV("button",{type:"button",onClick:Xe,className:"flex-1 py-2 px-4 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors",children:"Stop Recording"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:843,columnNumber:29},void 0),ee&&!ie&&t.jsxDEV(t.Fragment,{children:t.jsxDEV("button",{type:"button",onClick:ae,className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium transition-colors",children:"Discard"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:853,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:852,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:830,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Max 30 seconds"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:863,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:775,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:703,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("button",{type:"button",onClick:je,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:871,columnNumber:19},void 0),t.jsxDEV("button",{type:"submit",disabled:M||V==="text"&&!Z.trim()||(V==="image"||V==="video"||V==="audio")&&!te&&!ee,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:M?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:885,columnNumber:25},void 0),t.jsxDEV("span",{children:"Posting..."},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:886,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:884,columnNumber:23},void 0):t.jsxDEV("span",{children:"Post"},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:889,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:878,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:870,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:651,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:646,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:645,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:574,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/MemoriesPanel.tsx",lineNumber:573,columnNumber:5},void 0)},WI=i=>{var n;switch(((n=i.split(".").pop())==null?void 0:n.toLowerCase().split("?")[0])||""){case"mp4":return"video/mp4";case"webm":return"video/webm";case"mov":return"video/quicktime";case"avi":return"video/x-msvideo";case"m4v":return"video/x-m4v";case"mkv":return"video/x-matroska";default:return"video/mp4"}},Ju=({src:i,className:r="",autoPlay:n=!0,controls:s=!0,onError:l})=>{const[u,d]=h.useState(null),[A,b]=h.useState(!0),p=h.useRef(null),x=i.toLowerCase().includes(".mov"),N=WI(i),v=()=>{console.error("Video playback error for:",i),d(x?"MOV format may not be supported in your browser. Try downloading the video instead.":"Unable to play this video. The format may not be supported by your browser."),b(!1),l==null||l()},w=()=>{b(!1),d(null)};return u?t.jsxDEV("div",{className:`flex flex-col items-center justify-center bg-black ${r}`,children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:58,columnNumber:9},void 0),t.jsxDEV("div",{className:"text-white text-center px-4",children:[t.jsxDEV("p",{className:"mb-2",children:u},void 0,!1,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:60,columnNumber:11},void 0),t.jsxDEV("a",{href:i,download:!0,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Download Video"},void 0,!1,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:61,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:59,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:57,columnNumber:7},void 0):t.jsxDEV("div",{className:"relative w-full h-full",children:[A&&t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:t.jsxDEV("div",{className:"text-white",children:"Loading video..."},void 0,!1,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:79,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:78,columnNumber:9},void 0),t.jsxDEV("video",{ref:p,src:i,controls:s,autoPlay:n,playsInline:!0,className:r,onError:v,onLoadedData:w,children:[t.jsxDEV("source",{src:i,type:N},void 0,!1,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:92,columnNumber:9},void 0),"Your browser does not support the video tag."]},void 0,!0,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:82,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/VideoPlayer.tsx",lineNumber:76,columnNumber:5},void 0)},GI=({asset:i,displayUrl:r,originalUrl:n,onClose:s,onShowInfo:l,onShowMemories:u,memoryCount:d=0,showDownload:A=!0,showInfo:b=!0,showMemories:p=!0,children:x})=>{const N=i.asset_type==="video",v=n||r,[w,E]=h.useState([]),[F,V]=h.useState(!0),G=i.asset_id||i.id||"",Z=h.useCallback(async()=>{if(G)try{V(!0);const te=await st.getMemories(G);te.success&&te.data&&E(te.data.memories)}catch(te){console.error("Failed to load memories:",te)}finally{V(!1)}},[G]);h.useEffect(()=>{Z()},[Z]);const H=te=>{const T=new Date(te),q=new Date().getTime()-T.getTime(),$=Math.floor(q/(1e3*60)),Ae=Math.floor(q/(1e3*60*60)),L=Math.floor(q/(1e3*60*60*24));return $<1?"Just now":$<60?`${$}m ago`:Ae<24?`${Ae}h ago`:L<7?`${L}d ago`:T.toLocaleDateString(void 0,{month:"short",day:"numeric"})};return t.jsxDEV("div",{className:"fixed inset-0 bg-black/90 z-50 overflow-y-auto",onClick:s,children:t.jsxDEV("div",{className:"min-h-full flex flex-col items-center justify-start p-4 pt-12",children:t.jsxDEV("div",{className:"relative max-w-5xl w-full",onClick:te=>te.stopPropagation(),children:[t.jsxDEV("button",{onClick:s,className:"absolute -top-10 right-0 text-white text-3xl hover:text-gray-300 z-10",children:""},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:114,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex justify-center",children:N?t.jsxDEV("div",{style:{marginTop:"10px"},children:t.jsxDEV(Ju,{src:r||"",className:"max-w-full max-h-[60vh] rounded-lg"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:125,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:124,columnNumber:13},void 0):t.jsxDEV("img",{src:r||"",alt:"Full size",className:"max-w-full max-h-[60vh] rounded-lg object-contain",style:{marginTop:"10px"}},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:131,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:122,columnNumber:9},void 0),t.jsxDEV("div",{className:"mt-4 flex justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:t.jsxDEV(ss,{targetId:G,targetType:"asset",className:"justify-center"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:143,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:142,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:141,columnNumber:9},void 0),t.jsxDEV("div",{className:"mt-4 bg-white rounded-xl max-h-[30vh] overflow-hidden flex flex-col",children:[t.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-gray-50",children:t.jsxDEV("h3",{className:"font-semibold text-gray-800",children:["Memories ",w.length>0&&`(${w.length})`]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:154,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:153,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[t.jsxDEV("div",{className:"mb-4",children:t.jsxDEV(Yu,{assetId:G,onMemoryAdded:Z,placeholder:"Share a memory...",variant:"inline"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:162,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:161,columnNumber:13},void 0),F?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:t.jsxDEV("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:173,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:172,columnNumber:15},void 0):w.length===0?t.jsxDEV("div",{className:"text-center py-4 text-gray-500",children:[t.jsxDEV("div",{className:"text-3xl mb-2",children:""},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:177,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm",children:"No memories yet. Be the first to share one!"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:178,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:176,columnNumber:15},void 0):t.jsxDEV("div",{className:"space-y-3",children:w.map(te=>t.jsxDEV("div",{className:"flex gap-3",children:[te.user.avatar_url?t.jsxDEV("img",{src:te.user.avatar_url,alt:"",className:"w-8 h-8 rounded-full object-cover flex-shrink-0"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:185,columnNumber:23},void 0):t.jsxDEV("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-blue-600 text-sm font-medium",children:(te.user.name||te.user.email||"?").charAt(0).toUpperCase()},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:192,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:191,columnNumber:23},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-0.5",children:[t.jsxDEV("span",{className:"font-medium text-sm text-gray-900",children:te.user.name||te.user.email},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:199,columnNumber:25},void 0),t.jsxDEV("span",{className:"text-xs text-gray-500",children:H(te.created_at)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:202,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:198,columnNumber:23},void 0),te.memory_type==="text"?t.jsxDEV("p",{className:"text-sm text-gray-700",children:te.content_text},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:205,columnNumber:25},void 0):te.memory_type==="image"?t.jsxDEV("img",{src:te.content_url||"",alt:"Memory",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(te.content_url||"","_blank")},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:207,columnNumber:25},void 0):te.memory_type==="video"?t.jsxDEV("video",{src:te.content_url||"",controls:!0,className:"max-w-xs rounded-lg"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:214,columnNumber:25},void 0):te.memory_type==="audio"?t.jsxDEV("audio",{src:te.content_url||"",controls:!0,className:"w-full max-w-xs"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:216,columnNumber:25},void 0):null,t.jsxDEV("div",{className:"mt-1",children:t.jsxDEV(ss,{targetId:te.id,targetType:"memory",compact:!0},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:220,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:219,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:197,columnNumber:21},void 0)]},te.id,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:183,columnNumber:19},void 0))},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:181,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:159,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:152,columnNumber:9},void 0),t.jsxDEV("div",{className:"mt-4 flex justify-center gap-3 flex-wrap",children:[b&&l&&t.jsxDEV("button",{onClick:te=>{te.stopPropagation(),l()},className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:246,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:245,columnNumber:15},void 0),"Info"]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:238,columnNumber:13},void 0),A&&v&&t.jsxDEV("a",{href:v,download:!0,target:"_blank",rel:"noopener noreferrer",className:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-6 rounded-lg flex items-center gap-2 transition-colors",onClick:te=>te.stopPropagation(),children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:263,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:262,columnNumber:15},void 0),"Download Original"]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:254,columnNumber:13},void 0),x]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:235,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:112,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:111,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:107,columnNumber:5},void 0)},UI=({asset:i,thumbnailUrl:r,onClose:n})=>{const s=(d,A)=>{if(A==null)return"-";switch(d){case"created_at":case"date_added":return new Date(A).toLocaleString();case"aperture":return`f/${A}`;case"focal_length":case"focal_length_35mm":return`${A}mm`;case"iso":return`ISO ${A}`;case"width":case"height":return`${A}px`;default:return String(A)}},u=(()=>{const d=[];if(i.created_at&&d.push({label:"Date Taken",value:s("created_at",i.created_at)}),i.date_added&&d.push({label:"Date Added",value:s("date_added",i.date_added)}),i.width&&i.height&&d.push({label:"Dimensions",value:`${i.width}  ${i.height}`}),i.location_name&&d.push({label:"Location",value:i.location_name}),i.camera_make||i.camera_model){const A=[i.camera_make,i.camera_model].filter(Boolean).join(" ");d.push({label:"Camera",value:A})}if(i.lens_make||i.lens_model){const A=[i.lens_make,i.lens_model].filter(Boolean).join(" ");d.push({label:"Lens",value:A})}return i.aperture&&d.push({label:"Aperture",value:s("aperture",i.aperture)}),i.shutter_speed&&d.push({label:"Shutter Speed",value:i.shutter_speed}),i.iso&&d.push({label:"ISO",value:s("iso",i.iso)}),i.focal_length&&d.push({label:"Focal Length",value:s("focal_length",i.focal_length)}),i.focal_length_35mm&&d.push({label:"Focal Length (35mm)",value:s("focal_length_35mm",i.focal_length_35mm)}),i.flash&&d.push({label:"Flash",value:i.flash}),i.white_balance&&d.push({label:"White Balance",value:i.white_balance}),d})();return t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",onClick:n,children:t.jsxDEV("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[80vh] flex flex-col",onClick:d=>d.stopPropagation(),children:[t.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsxDEV("h2",{className:"text-xl font-bold text-gray-800",children:"Photo Info"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:353,columnNumber:11},void 0),t.jsxDEV("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:354,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:352,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[r&&t.jsxDEV("div",{className:"mb-4 flex justify-center",children:t.jsxDEV("img",{src:r,alt:"Photo",className:"max-h-40 rounded-lg object-contain"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:367,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:366,columnNumber:13},void 0),t.jsxDEV("div",{className:"space-y-3",children:[u.length>0?u.map((d,A)=>t.jsxDEV("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsxDEV("span",{className:"text-gray-500 text-sm",children:d.label},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:380,columnNumber:19},void 0),t.jsxDEV("span",{className:"text-gray-800 text-sm font-medium text-right max-w-[60%]",children:d.value},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:381,columnNumber:19},void 0)]},A,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:379,columnNumber:17},void 0)):t.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[t.jsxDEV("div",{className:"text-4xl mb-2",children:""},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:386,columnNumber:17},void 0),t.jsxDEV("p",{children:"No metadata available"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:387,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:385,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsxDEV("span",{className:"text-gray-500 text-sm",children:"Type"},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:393,columnNumber:15},void 0),t.jsxDEV("span",{className:"text-gray-800 text-sm font-medium capitalize",children:i.asset_type==="photo"?"image":i.asset_type},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:394,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:392,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:376,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:363,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:347,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/MediaViewer.tsx",lineNumber:343,columnNumber:5},void 0)},rt=i=>i?i.startsWith("http://")||i.startsWith("https://")||i.startsWith("data:"):!1,vt=i=>{if(!i)return!1;const r=i.toLowerCase();return r.endsWith(".heic")||r.endsWith(".heif")},Ih=i=>{var r,n;return(r=i.thumbnail_uri)!=null&&r.startsWith("data:")?i.thumbnail_uri:(n=i.thumbnail)!=null&&n.startsWith("data:")?i.thumbnail:i.web_uri&&rt(i.web_uri)&&!vt(i.web_uri)?i.web_uri:i.thumbnail_uri&&rt(i.thumbnail_uri)&&!vt(i.thumbnail_uri)?i.thumbnail_uri:i.thumbnail&&rt(i.thumbnail)&&!vt(i.thumbnail)?i.thumbnail:i.asset_uri&&rt(i.asset_uri)&&!vt(i.asset_uri)?i.asset_uri:null},ts=i=>i.web_uri&&rt(i.web_uri)&&!vt(i.web_uri)?i.web_uri:i.asset_uri&&rt(i.asset_uri)&&!vt(i.asset_uri)?i.asset_uri:Ih(i),XI=i=>{const r=[];return i.created_at&&r.push(new Date(i.created_at).toLocaleDateString()),i.location_name&&r.push(i.location_name),(i.camera_make||i.camera_model)&&r.push([i.camera_make,i.camera_model].filter(Boolean).join(" ")),i.aperture&&r.push(`f/${i.aperture}`),i.iso&&r.push(`ISO ${i.iso}`),r},ak=({assets:i,onAssetClick:r,contextMenuItems:n=[],memoryCounts:s={},onMemoryClick:l,showMetadataOnHover:u=!0,gridSize:d="small",showDownload:A=!0,showInfo:b=!0,showMemories:p=!0,onShowMemories:x})=>{const[N,v]=h.useState(null),[w,E]=h.useState(null),[F,V]=h.useState(null),G=h.useRef(null);h.useEffect(()=>{const $=()=>v(null);if(N)return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[N]);const Z=h.useCallback(($,Ae)=>{$.preventDefault(),$.stopPropagation(),n.length>0&&v({x:$.clientX,y:$.clientY,asset:Ae})},[n]),H=h.useCallback(($,Ae)=>{if(n.length===0)return;const L="touches"in $?$.touches[0].clientX:$.clientX,J="touches"in $?$.touches[0].clientY:$.clientY;G.current=setTimeout(()=>{v({x:L,y:J,asset:Ae})},500)},[n]),te=h.useCallback(()=>{G.current&&(clearTimeout(G.current),G.current=null)},[]),T=h.useCallback($=>{if(N){v(null);return}r?r($):E($)},[N,r]),M={small:"w-[156px] h-[156px]",medium:"w-[219px] h-[219px]",large:"w-[282px] h-[282px]"},q=$=>{switch($){case"red":return"text-red-600 hover:bg-red-50";case"green":return"text-green-600 hover:bg-green-50";case"gray":return"text-gray-600 hover:bg-gray-50";default:return"text-blue-600 hover:bg-blue-50"}};return t.jsxDEV(t.Fragment,{children:[t.jsxDEV("style",{children:`
        .photo-grid-card {
          position: relative;
        }
        .photo-grid-card .photo-grid-overlay {
          position: absolute;
          inset: 0;
          background: rgba(0,0,0,0.75);
          opacity: 0;
          transition: opacity 0.2s;
          display: flex;
          flex-direction: column;
          justify-content: flex-end;
          padding: 4px;
          pointer-events: none;
          border-radius: 8px;
        }
        .photo-grid-card:hover .photo-grid-overlay {
          opacity: 1;
        }
        .photo-grid-overlay-text {
          color: white;
          font-size: 9px;
          line-height: 1.2;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
      `},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:266,columnNumber:7},void 0),t.jsxDEV("div",{className:"flex flex-wrap gap-2",onClick:()=>v(null),children:i.map($=>{const Ae=Ih($),L=$.asset_type==="video",J=s[$.asset_id]||0,j=u?XI($):[];return t.jsxDEV("div",{className:"flex flex-col",children:[t.jsxDEV("div",{className:`photo-grid-card ${M[d]} bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform ${(N==null?void 0:N.asset.id)===$.id?"ring-2 ring-blue-500":""}`,onClick:()=>T($),onContextMenu:O=>Z(O,$),onMouseDown:O=>H(O,$),onMouseUp:te,onMouseLeave:te,onTouchStart:O=>H(O,$),onTouchEnd:te,children:[Ae?t.jsxDEV("img",{src:Ae,alt:"Photo",className:"w-full h-full object-cover",draggable:!1},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:318,columnNumber:17},void 0):t.jsxDEV("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-500",children:[t.jsxDEV("div",{className:"text-sm mb-0.5",children:L?"":""},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:326,columnNumber:19},void 0),t.jsxDEV("div",{className:"text-[9px] text-center px-1",children:L?"Video":"Image"},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:327,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:325,columnNumber:17},void 0),L&&Ae&&t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:t.jsxDEV("div",{className:"bg-black/50 rounded-full p-1",children:t.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:335,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:334,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:333,columnNumber:17},void 0),u&&j.length>0&&t.jsxDEV("div",{className:"photo-grid-overlay",children:j.slice(0,3).map((O,Y)=>t.jsxDEV("div",{className:"photo-grid-overlay-text",children:O},Y,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:344,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:342,columnNumber:17},void 0),J>0&&l&&t.jsxDEV("button",{className:"absolute top-1 right-1 bg-black/50 hover:bg-black/70 rounded-full p-1 flex items-center gap-0.5 transition-colors z-10",onClick:O=>{O.stopPropagation(),l($.asset_id)},children:[t.jsxDEV("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:359,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:358,columnNumber:19},void 0),J>1&&t.jsxDEV("span",{className:"text-white text-[10px] font-medium",children:J},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:362,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:351,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:305,columnNumber:15},void 0),t.jsxDEV("div",{className:"mt-1 px-0.5",children:t.jsxDEV(ss,{targetId:$.asset_id,targetType:"asset",compact:!0,className:"justify-start"},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:371,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:370,columnNumber:15},void 0)]},$.id,!0,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:304,columnNumber:13},void 0)})},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:296,columnNumber:7},void 0),N&&n.length>0&&t.jsxDEV("div",{className:"fixed bg-white rounded-lg shadow-xl border border-gray-200 py-1 z-50",style:{left:N.x,top:N.y},onClick:$=>$.stopPropagation(),children:n.map(($,Ae)=>t.jsxDEV("button",{onClick:()=>{$.onClick(N.asset),v(null)},className:`w-full px-4 py-2 text-left text-sm flex items-center gap-2 ${q($.color)}`,children:[$.icon&&t.jsxDEV("span",{children:$.icon},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:399,columnNumber:29},void 0),$.label]},Ae,!0,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:391,columnNumber:13},void 0))},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:385,columnNumber:9},void 0),w&&t.jsxDEV(GI,{asset:w,displayUrl:ts(w),originalUrl:w.asset_uri,onClose:()=>E(null),onShowInfo:b?()=>{V(w)}:void 0,onShowMemories:p&&x?()=>{x(w)}:void 0,memoryCount:s[w.asset_id]||0,showDownload:A,showInfo:b,showMemories:p},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:408,columnNumber:9},void 0),F&&t.jsxDEV(UI,{asset:F,thumbnailUrl:Ih(F),onClose:()=>V(null)},void 0,!1,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:428,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/AlbumPhotoGrid.tsx",lineNumber:264,columnNumber:5},void 0)},zI=()=>{var me,ze,xe,Pe,Ze,er,xr,ur,ra;const[i,r]=h.useState([]),[n,s]=h.useState([]),[l,u]=h.useState(null),[d,A]=h.useState(null),[b,p]=h.useState(!0),[x,N]=h.useState(null),[v,w]=h.useState(!1),[E,F]=h.useState(!1),[V,G]=h.useState(!1),[Z,H]=h.useState(!1),[te,T]=h.useState(""),[M,q]=h.useState(""),[$,Ae]=h.useState(!1),[L,J]=h.useState("grid"),[j,O]=h.useState(new Set),[Y,ie]=h.useState(null),[z,ee]=h.useState({}),[D,R]=h.useState(!1),[X,C]=h.useState(""),[I,S]=h.useState("grid"),[P,U]=h.useState(0),{user:K,signOut:re}=Xa(),se=ua();h.useEffect(()=>{K!=null&&K.id?(Ee(),ye()):p(!1)},[K==null?void 0:K.id]),h.useEffect(()=>{(async()=>{if(!l||!l.album_assets||l.album_assets.length===0)return;console.log("Album assets:",l.album_assets);const ne=l.album_assets.map(k=>k.asset_id).filter(Boolean);if(console.log("Looking up memory counts for asset IDs:",ne),ne.length===0){console.log("No valid asset IDs found");return}const de=await st.getMemoryCounts(ne);console.log("Memory counts:",de),ee(de)})()},[l]);const Ee=async()=>{var we,ne;if(!(K!=null&&K.id))return console.warn("No user ID available for filtering albums"),r([]),p(!1),[];try{p(!0),N(null);const{data:{session:de},error:k}=await Ge.auth.getSession();if(k||!(de!=null&&de.access_token))return console.error("Authentication issue:",k),await re(),se("/login"),[];const Q=await br.getAlbums();if(!Q.success){if(Q.isAuthError)return await re(),se("/login"),[];throw new Error(br.handleApiError(Q))}const Ve=((we=Q.data)==null?void 0:we.albums)||[];return r(Ve),console.log("Albums API response stats:",(ne=Q.data)==null?void 0:ne.stats),Ve.forEach(Ce=>{var nr,Re;const Le=Fe(Ce);console.log(`Album "${Ce.title}":`,{id:Ce.id,isOwner:Ce.isOwner,keyphoto:Ce.keyphoto,hasKeyphoto:Xe(Ce.keyphoto),displayImage:Le,assetCount:((nr=Ce.album_assets)==null?void 0:nr.length)||0,assets:(Re=Ce.album_assets)==null?void 0:Re.slice(0,2)})}),O(new Set),N(null),Ve}catch(de){return console.error("Error loading albums:",de),N(de instanceof Error?de.message:"Failed to load albums"),[]}finally{p(!1)}},ye=async()=>{var we;if(!(K!=null&&K.id)){console.warn("No user ID available for filtering circles"),s([]);return}try{const{data:{session:ne},error:de}=await Ge.auth.getSession();if(de||!(ne!=null&&ne.access_token)){console.error("Authentication issue in loadCircles:",de),s([]);return}const k=await br.getCircles();if(!k.success){if(k.isAuthError){await re(),se("/login");return}console.error("Error loading circles:",br.handleApiError(k)),s([]);return}s(((we=k.data)==null?void 0:we.circles)||[])}catch(ne){console.error("Error loading circles:",ne),s([])}},W=async()=>{if(!(!l||!X.trim()))try{const we=await br.updateAlbum({album_id:l.id,title:X.trim()});if(!we.success){if(we.isAuthError){await re(),se("/login");return}throw new Error(br.handleApiError(we))}u({...l,title:X.trim()}),R(!1),await Ee()}catch(we){console.error("Error updating album title:",we),N(we instanceof Error?we.message:"Failed to update album title")}},he=async we=>{if(we.preventDefault(),!l)return;const ne=we.target,de=new FormData(ne);try{const k=de.get("circle_id"),Q=de.get("role"),{data:{session:Ve}}=await Ge.auth.getSession();if(!Ve)throw new Error("Not authenticated");const{data:Ce}=await Ge.from("album_shares").select("circle_id").eq("album_id",l.id).eq("is_active",!0),Le=(Ce||[]).map(Je=>Je.circle_id),nr=[...new Set([...Le,k])],Re=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?action=share",{method:"POST",headers:{Authorization:`Bearer ${Ve.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({album_id:l.id,circle_ids:nr,role:Q})}),We=await Re.json();if(!Re.ok)throw new Error(We.error||"Failed to share album");w(!1),ne.reset(),await Ee()}catch(k){console.error("Error sharing album:",k),N(k instanceof Error?k.message:"Failed to share album")}},oe=async we=>{if(confirm("Are you sure you want to stop sharing this album?")&&l)try{const{data:{session:ne}}=await Ge.auth.getSession();if(!ne)throw new Error("Not authenticated");const{data:de}=await Ge.from("album_shares").select("circle_id").eq("id",we).single();if(!de)throw new Error("Share not found");const{data:k}=await Ge.from("album_shares").select("circle_id").eq("album_id",l.id).eq("is_active",!0),Q=(k||[]).map(Le=>Le.circle_id).filter(Le=>Le!==de.circle_id),Ve=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?action=share",{method:"POST",headers:{Authorization:`Bearer ${ne.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({album_id:l.id,circle_ids:Q,role:"read_only"})}),Ce=await Ve.json();if(!Ve.ok)throw new Error(Ce.error||"Failed to remove share");await Ee()}catch(ne){console.error("Error removing share:",ne),N(ne instanceof Error?ne.message:"Failed to remove share")}},ke=async we=>{if(confirm("Are you sure you want to delete this album? This action cannot be undone."))try{const ne=await br.deleteAlbum(we);if(!ne.success){if(ne.isAuthError){await re(),se("/login");return}throw new Error(br.handleApiError(ne))}await Ee(),(l==null?void 0:l.id)===we&&u(null)}catch(ne){console.error("Error deleting album:",ne),N(ne instanceof Error?ne.message:"Failed to delete album")}},Ne=async we=>{if(we.preventDefault(),!!te.trim()){Ae(!0),N(null);try{const ne=await br.createAlbum({title:te.trim(),description:M.trim()||void 0});if(!ne.success){if(ne.isAuthError){await re(),se("/login");return}throw new Error(br.handleApiError(ne))}T(""),q(""),H(!1),await Ee()}catch(ne){console.error("Error creating album:",ne),N(ne instanceof Error?ne.message:"Failed to create album")}finally{Ae(!1)}}},je=(we,ne)=>{console.warn(`Failed to load keyphoto for album ${we}:`,ne),O(de=>new Set([...de,we]))},Be=async we=>{console.log(`Added ${we} photos to album`),F(!1);const ne=await Ee();if(l){const de=ne.find(k=>k.id===l.id);de&&u(de)}},De=async we=>{console.log(`Uploaded ${we} new images to album`),G(!1);const ne=await Ee();if(l){const de=ne.find(k=>k.id===l.id);de&&u(de)}},Xe=we=>!!(we&&we.trim()!==""),ae=we=>{var de;if(we.isOwner)return!0;const ne=["editor","admin"];return((de=we.shared_via)==null?void 0:de.some(k=>ne.includes(k.role)))||!1},fe=async we=>{if(l)try{const{error:ne}=await Ge.from("album_assets").delete().eq("id",we).eq("album_id",l.id);if(ne)throw ne;u(de=>{var k;return de&&{...de,album_assets:(k=de.album_assets)==null?void 0:k.filter(Q=>Q.id!==we)}}),await Ee()}catch(ne){console.error("Error removing from album:",ne),N(ne instanceof Error?ne.message:"Failed to remove from album")}},be=async we=>{if(l)try{const{error:ne}=await Ge.from("albums").update({keyphoto:we.asset_id}).eq("id",l.id).eq("user_id",K.id);if(ne)throw ne;u(de=>de&&{...de,keyphoto:we.asset_id,keyphoto_thumbnail:we.thumbnail_uri||null}),await Ee()}catch(ne){console.error("Error setting key photo:",ne),N(ne instanceof Error?ne.message:"Failed to set key photo")}},Oe=(we,ne)=>ne!=null&&ne.webUri&&rt(ne.webUri)&&!vt(ne.webUri)?ne.webUri:we&&rt(we)&&!vt(we)?we:ne!=null&&ne.thumbnailUri&&ne.thumbnailUri.startsWith("data:")||ne!=null&&ne.thumbnailUri&&rt(ne.thumbnailUri)&&!vt(ne.thumbnailUri)?ne.thumbnailUri:null,Fe=we=>{var ne;if((ne=we.keyphoto_thumbnail)!=null&&ne.startsWith("data:")||we.keyphoto_thumbnail&&rt(we.keyphoto_thumbnail)&&!vt(we.keyphoto_thumbnail))return we.keyphoto_thumbnail;if(Xe(we.keyphoto)&&rt(we.keyphoto)&&!vt(we.keyphoto))return we.keyphoto;if(we.album_assets&&we.album_assets.length>0){const de=we.album_assets.filter(k=>{var Q;return!!((Q=k.thumbnail_uri)!=null&&Q.startsWith("data:")||k.web_uri&&rt(k.web_uri)&&!vt(k.web_uri)||k.thumbnail_uri&&rt(k.thumbnail_uri)&&!vt(k.thumbnail_uri)||k.asset_uri&&rt(k.asset_uri)&&!vt(k.asset_uri))});if(de.length>0){const Q=de.find(Ve=>Ve.asset_type!=="video")||de[0];return Oe(Q.asset_uri,{webUri:Q.web_uri,thumbnailUri:Q.thumbnail_uri})}}return null},$e=we=>{switch(we){case"admin":return"bg-red-100 text-red-800";case"editor":return"bg-orange-100 text-orange-800";case"contributor":return"bg-green-100 text-green-800";case"read_only":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return b?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"spinner w-12 h-12"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:659,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:658,columnNumber:7},void 0):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-theme-primary",children:"Albums"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:667,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex items-center space-x-4",children:[t.jsxDEV("button",{onClick:()=>H(!0),className:"btn-primary flex items-center gap-2",children:[t.jsxDEV("span",{children:"+"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:673,columnNumber:13},void 0),"Create Album"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:669,columnNumber:11},void 0),t.jsxDEV("div",{className:"toggle-group flex",children:[t.jsxDEV("button",{onClick:()=>J("grid"),className:`toggle-btn ${L==="grid"?"active":""}`,children:"Grid"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:677,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>J("list"),className:`toggle-btn ${L==="list"?"active":""}`,children:"List"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:683,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:676,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:668,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:666,columnNumber:7},void 0),x&&t.jsxDEV("div",{className:"alert-error",children:x},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:694,columnNumber:9},void 0),L==="grid"?t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:i.map(we=>{var ne,de,k,Q,Ve;return t.jsxDEV("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>se(`/admin/albums/${we.id}`),children:[t.jsxDEV("div",{className:"aspect-square bg-surface-elevated rounded-t-lg overflow-hidden flex items-center justify-center",children:(()=>{const Ce=Fe(we);return t.jsxDEV("div",{className:"relative flex items-center justify-center w-full h-full",children:Ce&&!j.has(we.id)?t.jsxDEV("img",{src:Ce,alt:we.title,className:"w-full h-full object-cover",loading:"lazy",crossOrigin:"anonymous",onError:()=>je(we.id,Ce)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:713,columnNumber:25},void 0):t.jsxDEV("div",{className:"w-full h-full bg-primary-light flex items-center justify-center",children:t.jsxDEV("i",{className:"fi fi-sr-images text-5xl text-theme-accent opacity-50"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:723,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:722,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:711,columnNumber:21},void 0)})()},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:707,columnNumber:15},void 0),t.jsxDEV("div",{className:"p-3",children:[t.jsxDEV("div",{className:"flex items-center gap-1.5 mb-1",children:[t.jsxDEV("h3",{className:"font-semibold text-theme-primary truncate flex-1 text-sm",children:we.title},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:732,columnNumber:19},void 0),we.isOwner?t.jsxDEV("span",{className:"flex-shrink-0 badge-warning text-[10px] py-0.5 px-1.5 inline-flex items-center gap-0.5",children:[t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-2.5 h-2.5",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 00.374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 00-.722-.516 11.209 11.209 0 01-7.877-3.08z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:736,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:735,columnNumber:23},void 0),"Owner"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:734,columnNumber:21},void 0):t.jsxDEV("span",{className:`flex-shrink-0 px-1.5 py-0.5 rounded-full text-[10px] font-medium ${$e(((de=(ne=we.shared_via)==null?void 0:ne[0])==null?void 0:de.role)||"read_only")}`,children:(((Q=(k=we.shared_via)==null?void 0:k[0])==null?void 0:Q.role)||"read_only").replace("_"," ").replace(/\b\w/g,Ce=>Ce.toUpperCase())},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:741,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:731,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-xs text-theme-muted",children:[((Ve=we.album_assets)==null?void 0:Ve.length)||0," photos  ",new Date(we.date_created).toLocaleDateString()]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:746,columnNumber:17},void 0),we.isOwner===!1&&we.shared_via&&we.shared_via.length>0&&t.jsxDEV("p",{className:"text-[10px] text-theme-accent mt-0.5 truncate",children:["via ",we.shared_via.map(Ce=>Ce.circle_name).join(", ")]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:750,columnNumber:19},void 0),we.isOwner===!1&&we.profiles&&t.jsxDEV("div",{className:"flex items-center gap-1.5 mt-1.5",children:[we.profiles.avatar_url?t.jsxDEV("img",{src:we.profiles.avatar_url,alt:we.profiles.full_name||"Owner",className:"w-4 h-4 rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:758,columnNumber:23},void 0):t.jsxDEV("div",{className:"avatar w-4 h-4 text-[8px]",children:(we.profiles.full_name||we.profiles.email||"?")[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:764,columnNumber:23},void 0),t.jsxDEV("span",{className:"text-[10px] text-theme-muted truncate",children:we.profiles.full_name||we.profiles.email||"Unknown"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:768,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:756,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:730,columnNumber:15},void 0)]},we.id,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:702,columnNumber:13},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:700,columnNumber:9},void 0):t.jsxDEV("div",{className:"card overflow-hidden",children:t.jsxDEV("table",{className:"min-w-full",children:[t.jsxDEV("thead",{className:"table-header",children:t.jsxDEV("tr",{children:[t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider",children:"Album"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:782,columnNumber:17},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:785,columnNumber:17},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider",children:"Photos"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:788,columnNumber:17},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider",children:"Sharing"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:791,columnNumber:17},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider",children:"Created"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:794,columnNumber:17},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-secondary uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:797,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:781,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:780,columnNumber:13},void 0),t.jsxDEV("tbody",{children:i.map(we=>{var ne,de,k,Q,Ve;return t.jsxDEV("tr",{className:"table-row",children:[t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("div",{className:"flex-shrink-0 h-10 w-10 bg-surface-elevated rounded-lg overflow-hidden",children:(()=>{const Ce=Fe(we);return Ce&&!j.has(we.id)?t.jsxDEV("img",{src:Ce,alt:we.title,className:"w-full h-full object-cover",loading:"lazy",crossOrigin:"anonymous",onError:()=>je(we.id,Ce)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:811,columnNumber:29},void 0):t.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-theme-muted",children:t.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:821,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:820,columnNumber:29},void 0)})()},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:807,columnNumber:23},void 0),t.jsxDEV("div",{className:"ml-4",children:[t.jsxDEV("div",{className:"text-sm font-medium text-theme-primary",children:we.title},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:827,columnNumber:25},void 0),we.description&&t.jsxDEV("div",{className:"text-sm text-theme-secondary truncate max-w-xs",children:we.description},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:829,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:826,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:806,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:805,columnNumber:19},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:we.isOwner?t.jsxDEV("span",{className:"badge-warning inline-flex items-center gap-1",children:[t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 00.374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 00-.722-.516 11.209 11.209 0 01-7.877-3.08z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:840,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:839,columnNumber:25},void 0),"Owner"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:838,columnNumber:23},void 0):t.jsxDEV("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${$e(((de=(ne=we.shared_via)==null?void 0:ne[0])==null?void 0:de.role)||"read_only")}`,children:(((Q=(k=we.shared_via)==null?void 0:k[0])==null?void 0:Q.role)||"read_only").replace("_"," ").replace(/\b\w/g,Ce=>Ce.toUpperCase())},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:845,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:836,columnNumber:19},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-primary",children:((Ve=we.album_assets)==null?void 0:Ve.length)||0},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:850,columnNumber:19},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:we.isOwner?we.album_shares&&we.album_shares.filter(Ce=>Ce.is_active).length>0?t.jsxDEV("span",{className:"badge-success",children:[we.album_shares.filter(Ce=>Ce.is_active).length," circle(s)"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:856,columnNumber:25},void 0):t.jsxDEV("span",{className:"badge-primary",children:"Not shared"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:860,columnNumber:25},void 0):t.jsxDEV("div",{className:"space-y-1",children:[we.shared_via&&we.shared_via.length>0&&t.jsxDEV("span",{className:"text-xs text-theme-accent block",children:["via ",we.shared_via.map(Ce=>Ce.circle_name).join(", ")]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:867,columnNumber:27},void 0),we.profiles&&t.jsxDEV("div",{className:"flex items-center gap-1.5",children:[we.profiles.avatar_url?t.jsxDEV("img",{src:we.profiles.avatar_url,alt:we.profiles.full_name||"Owner",className:"w-5 h-5 rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:874,columnNumber:31},void 0):t.jsxDEV("div",{className:"avatar w-5 h-5 text-[10px]",children:(we.profiles.full_name||we.profiles.email||"?")[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:880,columnNumber:31},void 0),t.jsxDEV("span",{className:"text-xs text-theme-muted",children:we.profiles.full_name||we.profiles.email||"Unknown"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:884,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:872,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:865,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:853,columnNumber:19},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-muted",children:new Date(we.date_created).toLocaleDateString()},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:892,columnNumber:19},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.jsxDEV("div",{className:"flex space-x-2",children:[t.jsxDEV("button",{onClick:Ce=>{Ce.stopPropagation(),se(`/admin/albums/${we.id}`)},className:"link-primary",children:"View"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:897,columnNumber:23},void 0),we.isOwner&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("button",{onClick:Ce=>{Ce.stopPropagation(),u(we),w(!0)},className:"link-success",children:"Share"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:908,columnNumber:27},void 0),t.jsxDEV("button",{onClick:Ce=>{Ce.stopPropagation(),ke(we.id)},className:"link-danger",children:"Delete"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:918,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:907,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:896,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:895,columnNumber:19},void 0)]},we.id,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:804,columnNumber:17},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:802,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:779,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:778,columnNumber:9},void 0),i.length===0&&t.jsxDEV("div",{className:"empty-state",children:[t.jsxDEV("div",{className:"empty-state-icon",children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:940,columnNumber:11},void 0),t.jsxDEV("h3",{className:"empty-state-title",children:"No Albums Found"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:941,columnNumber:11},void 0),t.jsxDEV("p",{className:"empty-state-text",children:"Your albums will appear here when you create them."},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:942,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:939,columnNumber:9},void 0),l&&!v&&t.jsxDEV("div",{className:"modal-overlay items-start pt-4 overflow-y-auto",children:t.jsxDEV("div",{className:"modal-content p-6 w-full max-w-[95vw] xl:max-w-7xl mb-4 mx-4",children:[t.jsxDEV("div",{className:"flex justify-between items-start mb-6",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[l.isOwner&&D?t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("input",{type:"text",value:X,onChange:we=>C(we.target.value),className:"text-2xl font-bold text-theme-primary border-b-2 border-default focus:border-focus outline-none bg-transparent",autoFocus:!0,onKeyDown:we=>{we.key==="Enter"&&W(),we.key==="Escape"&&R(!1)}},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:956,columnNumber:23},void 0),t.jsxDEV("button",{onClick:W,className:"p-1 text-green-600 hover:text-green-800",children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:972,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:971,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:967,columnNumber:23},void 0),t.jsxDEV("button",{onClick:()=>R(!1),className:"p-1 text-red-600 hover:text-red-800",children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:980,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:979,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:975,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:955,columnNumber:21},void 0):t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("h3",{className:"text-2xl font-bold text-theme-primary",children:l.title},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:986,columnNumber:23},void 0),l.isOwner&&t.jsxDEV("button",{onClick:()=>{C(l.title),R(!0)},className:"p-1 text-theme-muted hover:text-theme-accent",children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsxDEV("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:996,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:995,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:988,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:985,columnNumber:21},void 0),l.isOwner?t.jsxDEV("span",{className:"badge-warning inline-flex items-center gap-1",children:[t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 00.374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 00-.722-.516 11.209 11.209 0 01-7.877-3.08z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1005,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1004,columnNumber:23},void 0),"Owner"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1003,columnNumber:21},void 0):t.jsxDEV("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${$e(((ze=(me=l.shared_via)==null?void 0:me[0])==null?void 0:ze.role)||"read_only")}`,children:(((Pe=(xe=l.shared_via)==null?void 0:xe[0])==null?void 0:Pe.role)||"read_only").replace("_"," ").replace(/\b\w/g,we=>we.toUpperCase())},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1010,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:952,columnNumber:17},void 0),l.description&&t.jsxDEV("p",{className:"text-theme-secondary mt-1",children:l.description},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1016,columnNumber:19},void 0),l.isOwner===!1&&l.shared_via&&l.shared_via.length>0&&t.jsxDEV("p",{className:"text-sm text-theme-accent mt-2",children:["via ",l.shared_via.map(we=>we.circle_name).join(", ")]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1019,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:951,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{u(null),R(!1),S("grid"),U(0)},className:"text-theme-muted hover:text-theme-secondary text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1024,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:950,columnNumber:13},void 0),l.isOwner&&t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[t.jsxDEV("h4",{className:"font-semibold text-theme-primary",children:"Shared with Circles"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1041,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>w(!0),className:"btn-primary text-sm py-1 px-3",children:"Share with Circle"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1042,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1040,columnNumber:17},void 0),t.jsxDEV("div",{className:"space-y-2",children:[((Ze=l.album_shares)==null?void 0:Ze.filter(we=>we.is_active).map(we=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-surface-elevated rounded-lg",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:we.circles.name},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1053,columnNumber:25},void 0),t.jsxDEV("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${$e(we.role)}`,children:we.role.replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1054,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1052,columnNumber:23},void 0),t.jsxDEV("button",{onClick:()=>oe(we.id),className:"link-danger text-sm",children:"Remove"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1058,columnNumber:23},void 0)]},we.id,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1051,columnNumber:21},void 0)))||[],((er=l.album_shares)==null?void 0:er.filter(we=>we.is_active).length)===0&&t.jsxDEV("p",{className:"text-theme-muted text-sm",children:"Not shared with any circles"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1067,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1049,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1039,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("h4",{className:"font-semibold text-theme-primary",children:["Photos (",((xr=l.album_assets)==null?void 0:xr.length)||0,")"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1077,columnNumber:19},void 0),t.jsxDEV("div",{className:"toggle-group flex",children:[t.jsxDEV("button",{onClick:()=>S("grid"),className:`toggle-btn ${I==="grid"?"active text-theme-accent":""}`,children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsxDEV("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1087,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1086,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1082,columnNumber:21},void 0),t.jsxDEV("button",{onClick:()=>S("carousel"),className:`toggle-btn ${I==="carousel"?"active text-theme-accent":""}`,children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1095,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1094,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1090,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1081,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1076,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("button",{onClick:()=>G(!0),className:"btn-primary flex items-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1105,columnNumber:21},void 0),"Upload New"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1101,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>F(!0),className:"btn-secondary flex items-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1112,columnNumber:21},void 0),"Add Existing"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1108,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1100,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1075,columnNumber:15},void 0),l.album_assets&&l.album_assets.length>0?I==="grid"?t.jsxDEV(ak,{assets:l.album_assets.map(we=>({...we,asset_type:we.asset_type})),onAssetClick:we=>A(we),memoryCounts:z,onMemoryClick:we=>ie(we),showMetadataOnHover:!0,gridSize:"large",contextMenuItems:ae(l)?[{label:"Set as Key Photo",icon:"",color:"blue",onClick:we=>be(we)},{label:"Remove from Album",icon:"",color:"red",onClick:we=>fe(we.id)}]:[],showDownload:!0,showInfo:!0,showMemories:!0,onShowMemories:we=>ie(we.asset_id)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1119,columnNumber:17},void 0):t.jsxDEV("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{height:"60vh"},children:l.album_assets&&l.album_assets[P]&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("img",{src:l.album_assets[P].web_uri||l.album_assets[P].asset_uri||"",alt:"Album photo",className:"w-full h-full object-contain",onClick:()=>A(l.album_assets[P])},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1153,columnNumber:25},void 0),t.jsxDEV("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[z[l.album_assets[P].asset_id]>0&&t.jsxDEV("button",{onClick:()=>ie(l.album_assets[P].asset_id),className:"bg-black/60 hover:bg-black/80 text-white px-3 py-2 rounded-full flex items-center gap-2 transition-colors",children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1168,columnNumber:33},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1167,columnNumber:31},void 0),t.jsxDEV("span",{className:"font-medium",children:z[l.album_assets[P].asset_id]},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1170,columnNumber:31},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1163,columnNumber:29},void 0),t.jsxDEV("button",{onClick:()=>ie(l.album_assets[P].asset_id),className:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full transition-colors",title:"Add memory",children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1179,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1178,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1173,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1161,columnNumber:25},void 0),P>0&&t.jsxDEV("button",{onClick:()=>U(P-1),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors",children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1190,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1189,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1185,columnNumber:27},void 0),P<(((ur=l.album_assets)==null?void 0:ur.length)||0)-1&&t.jsxDEV("button",{onClick:()=>U(P+1),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors",children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1200,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1199,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1195,columnNumber:27},void 0),t.jsxDEV("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-full text-sm font-medium",children:[P+1," / ",((ra=l.album_assets)==null?void 0:ra.length)||0]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1205,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1152,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1150,columnNumber:19},void 0):t.jsxDEV("div",{className:"text-center py-8",children:[t.jsxDEV("div",{className:"text-4xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1214,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-gray-500 text-sm mb-6",children:"No photos in this album yet"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1215,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex justify-center gap-3",children:[t.jsxDEV("button",{onClick:()=>G(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1221,columnNumber:23},void 0),"Upload from Camera Roll"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1217,columnNumber:21},void 0),t.jsxDEV("button",{onClick:()=>F(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1228,columnNumber:23},void 0),"Add from Other Albums"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1224,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1216,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1213,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1074,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:949,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:948,columnNumber:9},void 0),v&&l&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:["Share ",l.title]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1243,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:he,className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Circle"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1246,columnNumber:17},void 0),t.jsxDEV("select",{name:"circle_id",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsxDEV("option",{value:"",children:"Select a circle..."},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1254,columnNumber:19},void 0),n.map(we=>t.jsxDEV("option",{value:we.id,children:we.name},we.id,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1256,columnNumber:21},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1249,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1245,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1263,columnNumber:17},void 0),t.jsxDEV("select",{name:"role",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsxDEV("option",{value:"read_only",children:"Read Only"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1271,columnNumber:19},void 0),t.jsxDEV("option",{value:"contributor",children:"Contributor"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1272,columnNumber:19},void 0),t.jsxDEV("option",{value:"editor",children:"Editor"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1273,columnNumber:19},void 0),t.jsxDEV("option",{value:"admin",children:"Admin"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1274,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1266,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1262,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[t.jsxDEV("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"Share Album"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1278,columnNumber:17},void 0),t.jsxDEV("button",{type:"button",onClick:()=>w(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1284,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1277,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1244,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1242,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1241,columnNumber:9},void 0),E&&l&&t.jsxDEV(OE,{targetAlbumId:l.id,onPhotosAdded:Be,onClose:()=>F(!1)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1299,columnNumber:9},void 0),V&&l&&t.jsxDEV(ek,{targetAlbumId:l.id,onImagesUploaded:De,onClose:()=>G(!1)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1308,columnNumber:9},void 0),d&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/90 flex items-start justify-center z-50 p-4 pt-8 overflow-y-auto",onClick:()=>A(null),children:t.jsxDEV("div",{className:"relative max-w-4xl w-full mb-8",onClick:we=>we.stopPropagation(),children:[t.jsxDEV("button",{onClick:()=>A(null),className:"absolute top-2 right-2 z-10 bg-black/50 hover:bg-black/70 text-white text-xl w-8 h-8 rounded-full flex items-center justify-center",children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1322,columnNumber:13},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg overflow-hidden",children:[t.jsxDEV("div",{className:"aspect-video bg-gray-100",children:(()=>{var de;console.log("Selected asset:",{id:d.id,asset_type:d.asset_type,asset_uri:d.asset_uri,web_uri:d.web_uri,thumbnail_uri:d.thumbnail_uri});const we=d.web_uri&&rt(d.web_uri)||d.thumbnail_uri&&rt(d.thumbnail_uri)||rt(d.asset_uri),ne=d.asset_type==="video"||((de=d.asset_uri)==null?void 0:de.toLowerCase().match(/\.(mp4|mov|avi|webm|mkv)$/));if(console.log("Is video?",ne,"Has web URL?",we),we&&!ne){const k=Oe(d.asset_uri,{webUri:d.web_uri,thumbnailUri:d.thumbnail_uri});return console.log("Displaying image with URL:",k),t.jsxDEV("img",{src:k||"",alt:"Full size",className:"w-full h-full object-contain mt-[10px]"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1360,columnNumber:23},void 0)}else return we&&ne?t.jsxDEV("video",{src:d.web_uri||d.asset_uri,controls:!0,autoPlay:!0,className:"w-full h-full object-contain mt-[10px] bg-black rounded-lg",children:"Your browser does not support the video tag."},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1369,columnNumber:23},void 0):null})()||t.jsxDEV("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-500",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:d.asset_type==="video"?"":""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1383,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xl font-semibold mb-2",children:[d.asset_type==="video"?"Video":"Image"," Not Available"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1386,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-sm text-center max-w-md",children:["This ",d.asset_type," is stored locally on the device and cannot be viewed in the web interface.",t.jsxDEV("br",{},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1391,columnNumber:23},void 0),t.jsxDEV("span",{className:"text-xs text-gray-400 mt-2 block",children:["URL: ",d.asset_uri]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1392,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1389,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1382,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1330,columnNumber:15},void 0),t.jsxDEV("div",{className:"p-6",children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["From album: ",(l==null?void 0:l.title)||"Unknown Album"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1401,columnNumber:17},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"Type:"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1406,columnNumber:21},void 0)," ",d.asset_type||"unknown"]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1405,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"font-medium",children:"ID:"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1409,columnNumber:21},void 0)," ",d.id]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1408,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1404,columnNumber:17},void 0),t.jsxDEV("div",{className:"mt-4 flex space-x-2",children:[t.jsxDEV("button",{onClick:()=>ie(d.asset_id),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1420,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1419,columnNumber:21},void 0),"Memories",z[d.asset_id]>0&&t.jsxDEV("span",{className:"bg-white/20 text-white text-xs px-1.5 py-0.5 rounded-full",children:z[d.asset_id]},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1424,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1415,columnNumber:19},void 0),vt(d.asset_uri)?t.jsxDEV("a",{href:d.asset_uri,download:!0,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Download Original (HEIC)"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1431,columnNumber:21},void 0):t.jsxDEV("a",{href:d.asset_uri,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Open Original"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1439,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1413,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1400,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1329,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1321,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1317,columnNumber:9},void 0),Z&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Create New Album"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1460,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{H(!1),T(""),q(""),N(null)},className:"text-gray-400 hover:text-gray-600 text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1461,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1459,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:Ne,className:"p-6 space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"albumTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Album Title *"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1476,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",id:"albumTitle",value:te,onChange:we=>T(we.target.value),placeholder:"Enter album title",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,autoFocus:!0},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1479,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1475,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"albumDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1492,columnNumber:17},void 0),t.jsxDEV("textarea",{id:"albumDescription",value:M,onChange:we=>q(we.target.value),placeholder:"Enter album description",rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1495,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1491,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxDEV("button",{type:"button",onClick:()=>{H(!1),T(""),q(""),N(null)},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1506,columnNumber:17},void 0),t.jsxDEV("button",{type:"submit",disabled:$||!te.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-md transition-colors flex items-center gap-2",children:$?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1525,columnNumber:23},void 0),"Creating..."]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1524,columnNumber:21},void 0):"Create Album"},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1518,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1505,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1474,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1458,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1457,columnNumber:9},void 0),Y&&t.jsxDEV(rk,{assetId:Y,onClose:()=>ie(null),onMemoriesUpdated:async()=>{const we=await st.getMemoryCount(Y);we.data&&ee(ne=>({...ne,[Y]:we.data.count}))}},void 0,!1,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:1540,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AlbumsManager.tsx",lineNumber:665,columnNumber:5},void 0)},By={read_only:"View Only",contributor:"Contributor",editor:"Editor",admin:"Admin"},LI={add_memory:{title:"Add Memories",requiredRole:"contributor",description:"Adding memories to photos requires Contributor access or higher."},add_photo:{title:"Add Photos",requiredRole:"contributor",description:"Adding photos to this album requires Contributor access or higher."},edit:{title:"Edit Album",requiredRole:"editor",description:"Editing album details requires Editor access or higher."},admin:{title:"Admin Access",requiredRole:"admin",description:"This action requires Admin access."}},YI=({isOpen:i,onClose:r,albumId:n,albumTitle:s,currentRole:l,requestedPermission:u})=>{const[d,A]=h.useState(!1),[b,p]=h.useState(!1),[x,N]=h.useState(null),[v,w]=h.useState("");if(!i)return null;const E=LI[u],F=By[l]||l,V=By[E.requiredRole]||E.requiredRole,G=async()=>{A(!0),N(null);try{const{data:{session:Z}}=await Ge.auth.getSession();if(!Z)throw new Error("You must be logged in to request permissions");const H=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?action=request_permission",{method:"POST",headers:{Authorization:`Bearer ${Z.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({album_id:n,requested_role:E.requiredRole,permission_type:u,message:v.trim()||void 0})}),te=await H.json();if(!H.ok)throw new Error(te.error||"Failed to send permission request");p(!0)}catch(Z){N(Z instanceof Error?Z.message:"Failed to send request")}finally{A(!1)}};return t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 z-[60]",onClick:r},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:106,columnNumber:7},void 0),t.jsxDEV("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",onClick:Z=>Z.stopPropagation(),children:b?t.jsxDEV("div",{className:"p-6 text-center",children:[t.jsxDEV("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsxDEV("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:119,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:118,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:117,columnNumber:15},void 0),t.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Request Sent!"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:122,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:"The album owner and administrators have been notified of your request. You'll receive an email when your access is updated."},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:123,columnNumber:15},void 0),t.jsxDEV("button",{onClick:r,className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Done"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:126,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:116,columnNumber:13},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Permission Required"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:138,columnNumber:17},void 0),t.jsxDEV("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:144,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:143,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:139,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:137,columnNumber:15},void 0),t.jsxDEV("div",{className:"p-6",children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[t.jsxDEV("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:154,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:153,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:152,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-medium text-gray-900",children:E.title},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:158,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:E.description},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:159,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:157,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:151,columnNumber:17},void 0),t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Album:"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:165,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:s},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:166,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:164,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Your current role:"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:169,columnNumber:21},void 0),t.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${l==="read_only"?"bg-gray-100 text-gray-800":l==="contributor"?"bg-green-100 text-green-800":l==="editor"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:F},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:170,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:168,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Required role:"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:180,columnNumber:21},void 0),t.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${E.requiredRole==="contributor"?"bg-green-100 text-green-800":E.requiredRole==="editor"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:V},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:181,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:179,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:163,columnNumber:17},void 0),t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (optional)"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:192,columnNumber:19},void 0),t.jsxDEV("textarea",{value:v,onChange:Z=>w(Z.target.value),placeholder:"Add a note to your request...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:195,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:191,columnNumber:17},void 0),x&&t.jsxDEV("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:x},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:205,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:150,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex gap-3 px-6 py-4 border-t bg-gray-50 rounded-b-xl",children:[t.jsxDEV("button",{onClick:r,className:"flex-1 py-2.5 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:213,columnNumber:17},void 0),t.jsxDEV("button",{onClick:G,disabled:d,className:"flex-1 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:d?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:226,columnNumber:23},void 0),"Sending..."]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:225,columnNumber:21},void 0):"Request Access"},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:212,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:135,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:113,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:112,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/PermissionRequestDialog.tsx",lineNumber:104,columnNumber:5},void 0)},Fy=i=>{switch(i){case"admin":return"bg-purple-100 text-purple-800";case"editor":return"bg-blue-100 text-blue-800";case"contributor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},HI=(i,r)=>r?!0:["contributor","editor","admin"].includes(i),JI=({asset:i,memoryCounts:r,isOwner:n,userRole:s,albumId:l,albumTitle:u,onClose:d,onSetKeyPhoto:A,onRemove:b,onPrevious:p,onNext:x,hasPrevious:N=!1,hasNext:v=!1})=>{const[w,E]=h.useState([]),[F,V]=h.useState(!0),[G,Z]=h.useState(!1),[H,te]=h.useState(null),[T,M]=h.useState(""),[q,$]=h.useState(null),[Ae,L]=h.useState(!1),J=HI(s,n),j=I=>!!(n||["editor","admin"].includes(s)),O=I=>{te(I.id),M(I.content_text||"")},Y=async()=>{if(!(!H||!T.trim())){L(!0);try{(await st.editMemory(H,{content_text:T.trim()})).success&&(await z(),te(null),M(""))}catch(I){console.error("Failed to edit memory:",I)}finally{L(!1)}}},ie=async I=>{L(!0);try{(await st.deleteMemory(I)).success&&(await z(),$(null))}catch(S){console.error("Failed to delete memory:",S)}finally{L(!1)}},z=h.useCallback(async()=>{try{V(!0);const I=await st.getMemories(i.asset_id);I.success&&I.data&&E(I.data.memories)}catch(I){console.error("Failed to load memories:",I)}finally{V(!1)}},[i.asset_id]);h.useEffect(()=>{z()},[z]),h.useEffect(()=>{const I=S=>{S.key==="ArrowLeft"&&N&&p?(S.preventDefault(),p()):S.key==="ArrowRight"&&v&&x?(S.preventDefault(),x()):S.key==="Escape"&&(S.preventDefault(),d())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[N,v,p,x,d]);const ee=I=>{const S=new Date(I),U=new Date().getTime()-S.getTime(),K=Math.floor(U/(1e3*60)),re=Math.floor(U/(1e3*60*60)),se=Math.floor(U/(1e3*60*60*24));return K<1?"Just now":K<60?`${K}m ago`:re<24?`${re}h ago`:se<7?`${se}d ago`:S.toLocaleDateString(void 0,{month:"short",day:"numeric"})},[D,R]=h.useState(!1),X=I=>I?new Date(I).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}):null,C=()=>{R(!0)};return D?t.jsxDEV("div",{className:"fixed inset-0 bg-black z-[60] flex items-center justify-center",onClick:()=>R(!1),children:[t.jsxDEV("button",{onClick:()=>R(!1),className:"absolute top-4 right-4 text-white text-3xl hover:text-gray-300 z-10",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:210,columnNumber:9},void 0),i.asset_type==="video"?t.jsxDEV(Ju,{src:ts(i)||"",className:"max-w-full max-h-full"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:212,columnNumber:11},void 0):t.jsxDEV("img",{src:ts(i)||"",alt:"",className:"max-w-full max-h-full object-contain"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:214,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:209,columnNumber:7},void 0):t.jsxDEV("div",{className:"fixed inset-0 bg-black/95 z-50 flex",onClick:d,children:[t.jsxDEV("div",{className:"flex flex-col p-4 flex-1",onClick:I=>I.stopPropagation(),children:[t.jsxDEV("div",{className:"flex justify-end mb-2",children:t.jsxDEV("button",{onClick:d,className:"text-white/70 hover:text-white text-3xl leading-none",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:226,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:225,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 flex items-center justify-center relative min-h-0",children:[N&&p&&t.jsxDEV("button",{onClick:p,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full z-10 transition-colors",children:t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:238,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:237,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:233,columnNumber:13},void 0),t.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",children:i.asset_type==="video"?t.jsxDEV(Ju,{src:ts(i)||"",className:"max-w-full max-h-full rounded-lg object-contain"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:246,columnNumber:15},void 0):t.jsxDEV("img",{src:ts(i)||"",alt:"",className:"max-w-full max-h-full rounded-lg object-contain cursor-zoom-in",style:{maxHeight:"calc(100vh - 250px)"},onDoubleClick:C,title:"Double-click to view full size"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:248,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:244,columnNumber:11},void 0),v&&x&&t.jsxDEV("button",{onClick:x,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full z-10 transition-colors",children:t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:266,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:265,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:261,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:230,columnNumber:9},void 0),t.jsxDEV("div",{className:"mt-4 space-y-3",children:[(i.created_at||i.location_name)&&t.jsxDEV("div",{className:"text-white/80 text-sm",children:[i.created_at&&t.jsxDEV("span",{children:X(i.created_at)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:276,columnNumber:36},void 0),i.created_at&&i.location_name&&t.jsxDEV("span",{className:"mx-2",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:277,columnNumber:59},void 0),i.location_name&&t.jsxDEV("span",{children:[" ",i.location_name]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:278,columnNumber:39},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:275,columnNumber:13},void 0),t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2 inline-block",children:t.jsxDEV(ss,{targetId:i.asset_id,targetType:"asset"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:283,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:282,columnNumber:11},void 0),n&&t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("button",{onClick:A,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg text-sm",children:"Set as Key Photo"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:289,columnNumber:15},void 0),t.jsxDEV("button",{onClick:b,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm",children:"Remove"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:290,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:288,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:273,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:223,columnNumber:7},void 0),t.jsxDEV("div",{className:"bg-white flex flex-col w-96",onClick:I=>I.stopPropagation(),children:[t.jsxDEV("div",{className:"flex items-center justify-between px-4 py-4 border-b",children:t.jsxDEV("h3",{className:"font-bold text-gray-900 text-lg",children:["Memories ",w.length>0&&t.jsxDEV("span",{className:"text-gray-500 font-normal",children:["(",w.length,")"]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:301,columnNumber:46},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:300,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:299,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:F?t.jsxDEV("div",{className:"flex items-center justify-center py-12",children:t.jsxDEV("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:309,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:308,columnNumber:13},void 0):w.length===0?t.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:[t.jsxDEV("div",{className:"text-5xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:313,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"No memories yet"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:314,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:"Share your thoughts about this photo"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:315,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:312,columnNumber:13},void 0):t.jsxDEV("div",{className:"space-y-4",children:w.map(I=>t.jsxDEV("div",{className:"flex gap-3 group",children:[I.user.avatar_url?t.jsxDEV("img",{src:I.user.avatar_url,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:322,columnNumber:21},void 0):t.jsxDEV("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsxDEV("span",{className:"text-blue-600 font-medium",children:(I.user.name||I.user.email||"?").charAt(0).toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:325,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:324,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"font-medium text-gray-900",children:I.user.name||I.user.email},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:333,columnNumber:25},void 0),t.jsxDEV("span",{className:"text-xs text-gray-500",children:ee(I.created_at)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:334,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:332,columnNumber:23},void 0),j()&&t.jsxDEV("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[I.memory_type==="text"&&H!==I.id&&t.jsxDEV("button",{onClick:()=>O(I),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit",children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:346,columnNumber:33},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:345,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:340,columnNumber:29},void 0),t.jsxDEV("button",{onClick:()=>$(I.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete",children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:356,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:355,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:350,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:338,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:331,columnNumber:21},void 0),H===I.id?t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("textarea",{value:T,onChange:S=>M(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,autoFocus:!0},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:365,columnNumber:25},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("button",{onClick:Y,disabled:Ae||!T.trim(),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white text-sm rounded-lg",children:Ae?"Saving...":"Save"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:373,columnNumber:27},void 0),t.jsxDEV("button",{onClick:()=>{te(null),M("")},className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm rounded-lg",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:380,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:372,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:364,columnNumber:23},void 0):I.memory_type==="text"?t.jsxDEV("p",{className:"text-gray-700",children:I.content_text},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:389,columnNumber:23},void 0):I.memory_type==="image"?t.jsxDEV("img",{src:I.content_url||"",alt:"Memory",className:"max-w-full rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(I.content_url||"","_blank")},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:391,columnNumber:23},void 0):I.memory_type==="video"?t.jsxDEV("video",{src:I.content_url||"",controls:!0,className:"max-w-full rounded-lg"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:393,columnNumber:23},void 0):I.memory_type==="audio"?t.jsxDEV("audio",{src:I.content_url||"",controls:!0,className:"w-full"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:395,columnNumber:23},void 0):null,t.jsxDEV("div",{className:"mt-2",children:t.jsxDEV(ss,{targetId:I.id,targetType:"memory",compact:!0},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:398,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:397,columnNumber:21},void 0),q===I.id&&t.jsxDEV("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[t.jsxDEV("p",{className:"text-sm text-red-700 mb-2",children:"Delete this memory?"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:404,columnNumber:25},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("button",{onClick:()=>ie(I.id),disabled:Ae,className:"px-3 py-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white text-sm rounded-lg",children:Ae?"Deleting...":"Delete"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:406,columnNumber:27},void 0),t.jsxDEV("button",{onClick:()=>$(null),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm rounded-lg",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:413,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:405,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:403,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:330,columnNumber:19},void 0)]},I.id,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:320,columnNumber:17},void 0))},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:318,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:306,columnNumber:9},void 0),J&&t.jsxDEV("div",{className:"px-4 py-3 border-t bg-white",children:t.jsxDEV(Yu,{assetId:i.asset_id,onMemoryAdded:z,placeholder:"Add a memory...",variant:"inline"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:432,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:431,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:297,columnNumber:7},void 0),t.jsxDEV(YI,{isOpen:G,onClose:()=>Z(!1),albumId:l,albumTitle:u,currentRole:s,requestedPermission:"add_memory"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:443,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:221,columnNumber:5},void 0)},QI=()=>{var xe,Pe,Ze,er,xr,ur,ra,we,ne;const{albumId:i}=hs(),r=ua(),[n,s]=h.useState(null),[l,u]=h.useState([]),[d,A]=h.useState(!0),[b,p]=h.useState(null),[x,N]=h.useState(null),[v,w]=h.useState("grid"),[E,F]=h.useState(0),[V,G]=h.useState(!1),[Z,H]=h.useState(""),[te,T]=h.useState(!1),[M,q]=h.useState(""),[$,Ae]=h.useState("read_only"),[L,J]=h.useState(!1),[j,O]=h.useState(!1),[Y,ie]=h.useState({}),[z,ee]=h.useState(null),[D,R]=h.useState("read_only"),[X,C]=h.useState(!1),[I,S]=h.useState(new Set),[P,U]=h.useState([]),[K,re]=h.useState(null),[se,Ee]=h.useState(""),[ye,W]=h.useState(""),[he,oe]=h.useState(!1),ke=h.useCallback(async()=>{if(i)try{A(!0);const{data:{session:de}}=await Ge.auth.getSession();if(!de){r("/login");return}const k=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?album_id=${i}`,{headers:{Authorization:`Bearer ${de.access_token}`,"Content-Type":"application/json"}}),Q=await k.json();if(!k.ok)throw new Error(Q.error||"Failed to fetch album");s({...Q.album,isOwner:Q.isOwner,album_assets:Q.assets}),H(Q.album.title),R(Q.userRole||(Q.isOwner?"owner":"read_only"))}catch(de){p(de instanceof Error?de.message:"Failed to load album")}finally{A(!1)}},[i,r]),Ne=async()=>{try{const{data:{session:de}}=await Ge.auth.getSession();if(!de)return;const Q=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-circles-api",{headers:{Authorization:`Bearer ${de.access_token}`},method:"GET"})).json();Q.circles&&u(Q.circles)}catch(de){console.error("Error fetching circles:",de)}},je=h.useCallback(async()=>{var k;if(!((k=n==null?void 0:n.album_assets)!=null&&k.length))return;const de=await st.getMemoryCounts(n.album_assets.map(Q=>Q.asset_id));ie(de)},[n==null?void 0:n.album_assets]);h.useEffect(()=>{ke(),Ne()},[ke]),h.useEffect(()=>{je()},[je]);const Be=async()=>{if(!(!n||!Z.trim()))try{const{data:{session:de}}=await Ge.auth.getSession();if(!de)return;(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api",{method:"PUT",headers:{Authorization:`Bearer ${de.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({album_id:n.id,title:Z.trim()})})).ok&&(s({...n,title:Z.trim()}),G(!1))}catch(de){console.error("Error updating title:",de)}},De=async()=>{if(!(!n||!M))try{const{data:{session:de}}=await Ge.auth.getSession();if(!de)return;await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?action=share",{method:"POST",headers:{Authorization:`Bearer ${de.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({album_id:n.id,circle_ids:[M],role:$})}),T(!1),q(""),ke()}catch(de){console.error("Error sharing album:",de)}},Xe=async de=>{var k;if(confirm("Remove this share?"))try{const{data:Q}=await Ge.from("album_shares").select("circle_id").eq("id",de).single();if(!Q||!n)return;const{data:{session:Ve}}=await Ge.auth.getSession();if(!Ve)return;const Ce=((k=n.album_shares)==null?void 0:k.filter(Le=>Le.id!==de&&Le.is_active).map(Le=>Le.circle_id))||[];await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?action=share",{method:"POST",headers:{Authorization:`Bearer ${Ve.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({album_id:n.id,circle_ids:Ce,role:"read_only"})}),ke()}catch(Q){console.error("Error removing share:",Q)}},ae=async de=>{if(!(!n||!confirm("Remove this photo from the album?")))try{const{data:{session:k}}=await Ge.auth.getSession();if(!k)return;await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?album_id=${n.id}&action=remove_photo`,{method:"DELETE",headers:{Authorization:`Bearer ${k.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({asset_id:de})}),ke()}catch(k){console.error("Error removing photo:",k)}},fe=async de=>{if(n)try{const{data:{session:k}}=await Ge.auth.getSession();if(!k)return;await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api",{method:"PUT",headers:{Authorization:`Bearer ${k.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({album_id:n.id,keyphoto:de})}),ke()}catch(k){console.error("Error setting key photo:",k)}},be=n!=null&&n.isOwner?[{label:"Set as Key Photo",onClick:de=>fe(de.asset_id),color:"blue"},{label:"Remove from Album",onClick:de=>ae(de.asset_id),color:"red"}]:[],Oe=async()=>{try{const{data:{session:de}}=await Ge.auth.getSession();if(!de)return;const Q=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api",{headers:{Authorization:`Bearer ${de.access_token}`}})).json();Q.albums&&U(Q.albums.filter(Ve=>Ve.id!==i))}catch(de){console.error("Error fetching albums:",de)}},Fe=()=>{var de,k;I.size===((de=n==null?void 0:n.album_assets)==null?void 0:de.length)?S(new Set):S(new Set(((k=n==null?void 0:n.album_assets)==null?void 0:k.map(Q=>Q.asset_id))||[]))},$e=()=>{C(!1),S(new Set)},me=async()=>{if(I.size!==0&&confirm(`Remove ${I.size} photo(s) from this album?`))try{oe(!0);const{data:{session:de}}=await Ge.auth.getSession();if(!de)return;for(const k of I)await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?album_id=${n==null?void 0:n.id}&action=remove_photo`,{method:"DELETE",headers:{Authorization:`Bearer ${de.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({asset_id:k})});$e(),ke()}catch(de){console.error("Error deleting photos:",de),alert("Failed to delete some photos")}finally{oe(!1)}},ze=de=>{Oe(),re(de),Ee(""),W("")};return d?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:755,columnNumber:78},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:755,columnNumber:23},void 0):b||!n?t.jsxDEV("div",{className:"text-center py-16",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:759,columnNumber:7},void 0),t.jsxDEV("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Album Not Found"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:760,columnNumber:7},void 0),t.jsxDEV("p",{className:"text-gray-500 mb-4",children:b},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:761,columnNumber:7},void 0),t.jsxDEV("button",{onClick:()=>r("/admin/albums"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Back to Albums"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:762,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:758,columnNumber:5},void 0):t.jsxDEV("div",{className:"h-full flex flex-col",children:[t.jsxDEV("div",{className:"flex justify-between items-start mb-6",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("button",{onClick:()=>r("/admin/albums"),className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:773,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:772,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:771,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[n.isOwner&&V?t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("input",{type:"text",value:Z,onChange:de=>H(de.target.value),className:"text-2xl font-bold text-gray-900 border-b-2 border-blue-500 outline-none bg-transparent",autoFocus:!0,onKeyDown:de=>{de.key==="Enter"&&Be(),de.key==="Escape"&&G(!1)}},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:780,columnNumber:19},void 0),t.jsxDEV("button",{onClick:Be,className:"p-1 text-green-600 hover:text-green-800",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:784,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>G(!1),className:"p-1 text-red-600 hover:text-red-800",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:785,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:779,columnNumber:17},void 0):t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:n.title},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:789,columnNumber:19},void 0),n.isOwner&&t.jsxDEV("button",{onClick:()=>{H(n.title),G(!0)},className:"p-1 text-gray-400 hover:text-blue-600",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:791,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:788,columnNumber:17},void 0),t.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.isOwner?"bg-amber-100 text-amber-800":Fy(((Pe=(xe=n.shared_via)==null?void 0:xe[0])==null?void 0:Pe.role)||"read_only")}`,children:n.isOwner?"Owner":(((er=(Ze=n.shared_via)==null?void 0:Ze[0])==null?void 0:er.role)||"read_only").replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:795,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:777,columnNumber:13},void 0),n.description&&t.jsxDEV("p",{className:"text-gray-600 mt-1",children:n.description},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:799,columnNumber:35},void 0),!n.isOwner&&((xr=n.shared_via)==null?void 0:xr.length)&&t.jsxDEV("p",{className:"text-sm text-blue-600 mt-1",children:["via ",n.shared_via.map(de=>de.circle_name).join(", ")]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:800,columnNumber:60},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:776,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:770,columnNumber:9},void 0),n.isOwner&&t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("button",{onClick:()=>T(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Share"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:806,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>J(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Add from Library"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:807,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>O(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Upload New"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:808,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:805,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:769,columnNumber:7},void 0),n.isOwner&&((ur=n.album_shares)!=null&&ur.filter(de=>de.is_active).length)?t.jsxDEV("div",{className:"mb-6 bg-gray-50 rounded-lg p-4",children:[t.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-3",children:"Shared with"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:816,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:n.album_shares.filter(de=>de.is_active).map(de=>t.jsxDEV("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg border",children:[t.jsxDEV("span",{className:"font-medium text-sm",children:de.circles.name},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:820,columnNumber:17},void 0),t.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Fy(de.role)}`,children:de.role.replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:821,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>Xe(de.id),className:"text-red-500 hover:text-red-700 ml-1",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:822,columnNumber:17},void 0)]},de.id,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:819,columnNumber:15},void 0))},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:817,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:815,columnNumber:9},void 0):null,t.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("h4",{className:"font-semibold text-gray-900",children:["Photos (",((ra=n.album_assets)==null?void 0:ra.length)||0,")"]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:832,columnNumber:11},void 0),X&&t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("button",{onClick:Fe,className:"text-sm text-blue-600 hover:text-blue-800",children:I.size===((we=n.album_assets)==null?void 0:we.length)?"Deselect All":"Select All"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:835,columnNumber:15},void 0),t.jsxDEV("span",{className:"text-sm text-gray-500",children:[I.size," selected"]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:838,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:834,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:831,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[n.isOwner&&t.jsxDEV("button",{onClick:()=>X?$e():C(!0),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${X?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:X?"Cancel":"Select"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:846,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[t.jsxDEV("button",{onClick:()=>w("grid"),className:`px-3 py-1 rounded text-sm font-medium ${v==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:"Grid"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:854,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>w("carousel"),className:`px-3 py-1 rounded text-sm font-medium ${v==="carousel"?"bg-white text-blue-600 shadow-sm":"text-gray-600"}`,children:"Carousel"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:855,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:853,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:844,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:830,columnNumber:7},void 0),X&&I.size>0&&t.jsxDEV("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm font-medium text-blue-800",children:[I.size," photo",I.size!==1?"s":""," selected"]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:863,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("button",{onClick:()=>ze("copy"),disabled:he,className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg text-sm font-medium flex items-center gap-1",children:" Copy to..."},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:867,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>ze("move"),disabled:he,className:"px-3 py-1.5 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white rounded-lg text-sm font-medium flex items-center gap-1",children:" Move to..."},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:874,columnNumber:13},void 0),t.jsxDEV("button",{onClick:me,disabled:he,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg text-sm font-medium flex items-center gap-1",children:" Delete"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:881,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:866,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:862,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 overflow-auto",children:(ne=n.album_assets)!=null&&ne.length?v==="grid"?t.jsxDEV(ak,{assets:n.album_assets,onAssetClick:N,contextMenuItems:be,memoryCounts:Y,onMemoryClick:de=>ee(de)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:896,columnNumber:13},void 0):t.jsxDEV("div",{className:"relative h-[70vh] bg-black rounded-lg overflow-hidden",children:n.album_assets[E]&&t.jsxDEV(t.Fragment,{children:[n.album_assets[E].asset_type==="video"?t.jsxDEV(Ju,{src:ts(n.album_assets[E])||"",className:"w-full h-full object-contain"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:908,columnNumber:21},void 0):t.jsxDEV("img",{src:ts(n.album_assets[E])||"",alt:"",className:"w-full h-full object-contain"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:910,columnNumber:21},void 0),E>0&&t.jsxDEV("button",{onClick:()=>F(E-1),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full",children:t.jsxDEV("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:914,columnNumber:102},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:914,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:913,columnNumber:21},void 0),E<n.album_assets.length-1&&t.jsxDEV("button",{onClick:()=>F(E+1),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full",children:t.jsxDEV("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:919,columnNumber:102},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:919,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:918,columnNumber:21},void 0),t.jsxDEV("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-full text-sm",children:[E+1," / ",n.album_assets.length]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:922,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:906,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:904,columnNumber:13},void 0):t.jsxDEV("div",{className:"text-center py-16",children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:929,columnNumber:13},void 0),t.jsxDEV("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Photos Yet"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:930,columnNumber:13},void 0),n.isOwner&&t.jsxDEV("div",{className:"flex justify-center gap-3 mt-4",children:[t.jsxDEV("button",{onClick:()=>J(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Add from Library"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:933,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>O(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg",children:"Upload New"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:934,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:932,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:928,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:893,columnNumber:7},void 0),x&&t.jsxDEV(JI,{asset:x,memoryCounts:Y,isOwner:n.isOwner||!1,userRole:D,albumId:n.id,albumTitle:n.title,onClose:()=>N(null),onSetKeyPhoto:()=>{fe(x.asset_id),N(null)},onRemove:()=>{ae(x.asset_id),N(null)},hasPrevious:(()=>{var k;return(((k=n.album_assets)==null?void 0:k.findIndex(Q=>Q.asset_id===x.asset_id))??-1)>0})(),hasNext:(()=>{var k,Q;const de=((k=n.album_assets)==null?void 0:k.findIndex(Ve=>Ve.asset_id===x.asset_id))??-1;return de>=0&&de<(((Q=n.album_assets)==null?void 0:Q.length)??0)-1})(),onPrevious:()=>{var k;const de=((k=n.album_assets)==null?void 0:k.findIndex(Q=>Q.asset_id===x.asset_id))??-1;de>0&&n.album_assets&&N(n.album_assets[de-1])},onNext:()=>{var k;const de=((k=n.album_assets)==null?void 0:k.findIndex(Q=>Q.asset_id===x.asset_id))??-1;de>=0&&n.album_assets&&de<n.album_assets.length-1&&N(n.album_assets[de+1])}},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:943,columnNumber:9},void 0),te&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>T(!1),children:t.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",onClick:de=>de.stopPropagation(),children:[t.jsxDEV("h3",{className:"text-xl font-bold mb-4",children:"Share Album"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:980,columnNumber:13},void 0),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Circle"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:983,columnNumber:17},void 0),t.jsxDEV("select",{value:M,onChange:de=>q(de.target.value),className:"w-full border rounded-lg px-3 py-2",children:[t.jsxDEV("option",{value:"",children:"Choose a circle..."},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:985,columnNumber:19},void 0),l.map(de=>t.jsxDEV("option",{value:de.id,children:de.name},de.id,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:986,columnNumber:37},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:984,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:982,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:990,columnNumber:17},void 0),t.jsxDEV("select",{value:$,onChange:de=>Ae(de.target.value),className:"w-full border rounded-lg px-3 py-2",children:[t.jsxDEV("option",{value:"read_only",children:"View Only"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:992,columnNumber:19},void 0),t.jsxDEV("option",{value:"contributor",children:"Contributor"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:993,columnNumber:19},void 0),t.jsxDEV("option",{value:"editor",children:"Editor"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:994,columnNumber:19},void 0),t.jsxDEV("option",{value:"admin",children:"Admin"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:995,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:991,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:989,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:981,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex justify-end gap-3 mt-6",children:[t.jsxDEV("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-600",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:1e3,columnNumber:15},void 0),t.jsxDEV("button",{onClick:De,disabled:!M,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg",children:"Share"},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:1001,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:999,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:979,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:978,columnNumber:9},void 0),L&&t.jsxDEV(OE,{targetAlbumId:n.id,onPhotosAdded:()=>{J(!1),ke()},onClose:()=>J(!1)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:1009,columnNumber:9},void 0),j&&t.jsxDEV(ek,{targetAlbumId:n.id,onImagesUploaded:()=>{O(!1),ke()},onClose:()=>O(!1)},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:1018,columnNumber:9},void 0),z&&t.jsxDEV(rk,{assetId:z,onClose:()=>{ee(null),je()}},void 0,!1,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:1027,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AdminAlbumDetail.tsx",lineNumber:767,columnNumber:5},void 0)},tk=({onAssetSelect:i})=>{const[r,n]=h.useState([]),[s,l]=h.useState(!0),[u,d]=h.useState(null),[A,b]=h.useState("date_added"),[p,x]=h.useState("desc"),[N,v]=h.useState(""),[w,E]=h.useState(!1),[F,V]=h.useState(!1),[G,Z]=h.useState(new Set),[H,te]=h.useState("grid"),[T,M]=h.useState(!1),[q,$]=h.useState(null),[Ae,L]=h.useState(new Set),[J,j]=h.useState(null);h.useEffect(()=>{O()},[A]);const O=async()=>{l(!0);try{const U=await br.getImages("all",A);U.success&&U.data?(n(U.data.assets||[]),U.data.stats&&j({total:U.data.count||0,photos:U.data.stats.photos||0,videos:U.data.stats.videos||0}),d(null)):d(U.error||"Failed to load media")}catch{d("Failed to load media")}finally{l(!1)}},Y=h.useMemo(()=>{let U=[...r];if(N.trim()){const K=N.toLowerCase();U=U.filter(re=>{var W,he;const se=((W=re.filename)==null?void 0:W.toLowerCase())||"",Ee=(re.location_name||"").toLowerCase(),ye=((he=re.tags)==null?void 0:he.map(oe=>{var ke;return(ke=oe.value)==null?void 0:ke.toLowerCase()}).join(" "))||"";return se.includes(K)||Ee.includes(K)||ye.includes(K)})}return p==="asc"&&U.reverse(),U},[r,N,p]),ie=U=>{const K=(U.media_type||U.asset_type||"").toLowerCase(),re=(U.filename||"").toLowerCase(),se=[".mp4",".mov",".avi",".mkv",".webm",".m4v"];return K==="video"||K.includes("video")||se.some(Ee=>re.endsWith(Ee))},z=U=>{var K;return(K=U.thumbnail_uri)!=null&&K.startsWith("data:")?U.thumbnail_uri:U.web_uri&&ee(U.web_uri)?U.web_uri:U.thumbnail_uri&&ee(U.thumbnail_uri)?U.thumbnail_uri:U.asset_uri&&ee(U.asset_uri)?U.asset_uri:null},ee=U=>U?U.startsWith("http://")||U.startsWith("https://")||U.startsWith("data:"):!1,D=U=>{Z(K=>{const re=new Set(K);return re.has(U)?re.delete(U):re.add(U),re})},R=()=>{V(!1),Z(new Set)},X=()=>{Z(new Set(Y.map(U=>U.id)))},C=async U=>{if(!window.confirm(`Delete ${U.length} item(s)? This cannot be undone.`))return;let K=0;for(const re of U)(await br.deleteAsset(re)).success&&K++;K>0&&(O(),R()),alert(`Deleted ${K} of ${U.length} items`)},I=U=>({date_added:"Date Added",created_at:"Date Created",type:"Type",filename:"Filename"})[U],S=U=>{L(K=>new Set([...K,U]))},P=U=>{F?D(U.id):($(U),i==null||i(U))};return s?t.jsxDEV("div",{className:"flex items-center justify-center py-12",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-3"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:174,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-500",children:"Loading media..."},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:175,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:173,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:172,columnNumber:7},void 0):u?t.jsxDEV("div",{className:"bg-red-50 rounded-xl p-6 text-center",children:[t.jsxDEV("p",{className:"text-red-600 mb-3",children:u},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:184,columnNumber:9},void 0),t.jsxDEV("button",{onClick:O,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm",children:"Retry"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:185,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:183,columnNumber:7},void 0):t.jsxDEV("div",{className:"bg-white rounded-xl shadow-sm",children:[t.jsxDEV("div",{className:"border-b border-gray-200 p-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Media"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:201,columnNumber:13},void 0),J&&t.jsxDEV("span",{className:"text-sm text-gray-500",children:[J.total," items (",J.photos," photos, ",J.videos," videos)"]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:203,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:200,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("button",{onClick:()=>E(!w),className:`p-2 rounded-lg transition-colors ${w?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-600"}`,title:"Search",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:219,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:218,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:211,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>te(H==="grid"?"list":"grid"),className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600",title:H==="grid"?"List view":"Grid view",children:H==="grid"?t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:231,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:230,columnNumber:17},void 0):t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm10 0a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:235,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:234,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:224,columnNumber:13},void 0),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("button",{onClick:()=>M(!T),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-600 text-sm",children:[t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:247,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:246,columnNumber:17},void 0),I(A)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:242,columnNumber:15},void 0),T&&t.jsxDEV("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:[["date_added","created_at","type","filename"].map(U=>t.jsxDEV("button",{onClick:()=>{b(U),M(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 text-sm ${A===U?"text-blue-600 font-medium":"text-gray-700"}`,children:I(U)},U,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:255,columnNumber:21},void 0)),t.jsxDEV("div",{className:"border-t border-gray-200 mt-1 pt-1",children:t.jsxDEV("button",{onClick:()=>{x(p==="desc"?"asc":"desc"),M(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm text-gray-700 flex items-center gap-2",children:p==="desc"?" Descending":" Ascending"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:269,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:268,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:253,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:241,columnNumber:13},void 0),F?t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:[G.size," selected"]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:293,columnNumber:17},void 0),t.jsxDEV("button",{onClick:X,className:"px-3 py-1 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm",children:"All"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:294,columnNumber:17},void 0),t.jsxDEV("button",{onClick:R,className:"px-3 py-1 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:300,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:292,columnNumber:15},void 0):t.jsxDEV("button",{onClick:()=>V(!0),className:"px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-600 text-sm",children:"Select"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:285,columnNumber:15},void 0),t.jsxDEV("button",{onClick:O,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600",title:"Refresh",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:316,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:315,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:310,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:209,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:199,columnNumber:9},void 0),w&&t.jsxDEV("div",{className:"mt-3",children:t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:327,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:326,columnNumber:15},void 0),t.jsxDEV("input",{type:"text",value:N,onChange:U=>v(U.target.value),placeholder:"Search by filename, location, or tags...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:329,columnNumber:15},void 0),N&&t.jsxDEV("button",{onClick:()=>v(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:343,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:342,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:338,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:325,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:324,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:198,columnNumber:7},void 0),F&&G.size>0&&t.jsxDEV("div",{className:"border-b border-gray-200 bg-blue-50 px-4 py-3 flex items-center justify-between",children:[t.jsxDEV("span",{className:"text-sm text-blue-800 font-medium",children:[G.size," items selected"]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:355,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV("button",{onClick:()=>C(Array.from(G)),className:"flex items-center gap-1 px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm",children:[t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:362,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:361,columnNumber:15},void 0),"Delete"]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:357,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:356,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:354,columnNumber:9},void 0),Y.length===0?t.jsxDEV("div",{className:"p-12 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:373,columnNumber:11},void 0),t.jsxDEV("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:N?"No Matching Media":"No Media Yet"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:374,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-500",children:N?"Try adjusting your search terms":"Upload photos and videos from the mobile app to see them here"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:377,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:372,columnNumber:9},void 0):H==="grid"?t.jsxDEV("div",{className:"p-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-2",children:Y.map(U=>{const K=z(U),re=ie(U),se=G.has(U.id);return t.jsxDEV("div",{className:`relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer group ${se?"ring-2 ring-blue-500":""}`,onClick:()=>P(U),children:[K&&!Ae.has(U.id)?t.jsxDEV("img",{src:K,alt:U.filename,className:"w-full h-full object-cover",loading:"lazy",onError:()=>S(U.id)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:399,columnNumber:19},void 0):t.jsxDEV("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:re?t.jsxDEV("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:410,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:409,columnNumber:23},void 0):t.jsxDEV("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:414,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:413,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:407,columnNumber:19},void 0),re&&t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxDEV("div",{className:"w-10 h-10 bg-black/50 rounded-full flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-5 h-5 text-white ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{d:"M8 5v14l11-7z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:425,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:424,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:423,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:422,columnNumber:19},void 0),F&&t.jsxDEV("div",{className:"absolute top-2 right-2",children:t.jsxDEV("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${se?"bg-blue-600 border-blue-600":"bg-white/80 border-white"}`,children:se&&t.jsxDEV("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:441,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:440,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:434,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:433,columnNumber:19},void 0),t.jsxDEV("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:449,columnNumber:17},void 0)]},U.id,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:391,columnNumber:15},void 0)})},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:384,columnNumber:9},void 0):t.jsxDEV("div",{className:"divide-y divide-gray-200",children:Y.map(U=>{const K=z(U),re=ie(U),se=G.has(U.id);return t.jsxDEV("div",{className:`flex items-center gap-4 p-4 hover:bg-gray-50 cursor-pointer ${se?"bg-blue-50":""}`,onClick:()=>P(U),children:[F&&t.jsxDEV("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${se?"bg-blue-600 border-blue-600":"border-gray-300"}`,children:se&&t.jsxDEV("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:477,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:476,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:470,columnNumber:19},void 0),t.jsxDEV("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 relative",children:[K&&!Ae.has(U.id)?t.jsxDEV("img",{src:K,alt:U.filename,className:"w-full h-full object-cover",loading:"lazy",onError:()=>S(U.id)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:485,columnNumber:21},void 0):t.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",children:re?t.jsxDEV("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:496,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:495,columnNumber:25},void 0):t.jsxDEV("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:500,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:499,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:493,columnNumber:21},void 0),re&&K&&t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxDEV("div",{className:"w-6 h-6 bg-black/50 rounded-full flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-3 h-3 text-white ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{d:"M8 5v14l11-7z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:509,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:508,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:507,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:506,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:483,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-sm font-medium text-gray-900 truncate",children:U.filename},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:517,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500",children:[re?"Video":"Photo","  ",new Date(U.created_at).toLocaleDateString()]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:518,columnNumber:19},void 0),U.location_name&&t.jsxDEV("p",{className:"text-xs text-gray-400 truncate",children:U.location_name},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:522,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:516,columnNumber:17},void 0),t.jsxDEV("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:527,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:526,columnNumber:17},void 0)]},U.id,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:462,columnNumber:15},void 0)})},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:455,columnNumber:9},void 0),q&&t.jsxDEV($I,{asset:q,onClose:()=>$(null),onDelete:()=>{C([q.id]),$(null)}},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:537,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:196,columnNumber:5},void 0)},$I=({asset:i,onClose:r,onDelete:n})=>{var d;const s=i.media_type==="video"||i.asset_type==="video"||(((d=i.filename)==null?void 0:d.toLowerCase())||"").match(/\.(mp4|mov|avi|mkv|webm|m4v)$/),l=i.web_uri||i.asset_uri,u=(l==null?void 0:l.startsWith("http://"))||(l==null?void 0:l.startsWith("https://"));return t.jsxDEV("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",onClick:r,children:[t.jsxDEV("div",{className:"absolute top-4 right-4 flex items-center gap-2 z-10",children:[t.jsxDEV("button",{onClick:A=>{A.stopPropagation(),n()},className:"p-2 bg-red-600 hover:bg-red-700 rounded-full text-white",title:"Delete",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:575,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:574,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:566,columnNumber:9},void 0),t.jsxDEV("button",{onClick:r,className:"p-2 bg-white/20 hover:bg-white/30 rounded-full text-white",title:"Close",children:t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:584,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:583,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:578,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:565,columnNumber:7},void 0),t.jsxDEV("div",{className:"max-w-5xl max-h-[90vh] w-full mx-4",onClick:A=>A.stopPropagation(),children:[s&&u?t.jsxDEV("div",{className:"max-h-[80vh] mx-auto rounded-lg overflow-hidden",children:t.jsxDEV(Ju,{src:l,className:"max-w-full max-h-[80vh] mx-auto object-contain",autoPlay:!0,controls:!0},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:592,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:591,columnNumber:11},void 0):u?t.jsxDEV("img",{src:l,alt:i.filename,className:"max-w-full max-h-[80vh] mx-auto rounded-lg object-contain"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:600,columnNumber:11},void 0):t.jsxDEV("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:[t.jsxDEV("svg",{className:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:608,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:607,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-400",children:"Preview not available"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:610,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-500 text-sm mt-2",children:i.filename},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:611,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:606,columnNumber:11},void 0),t.jsxDEV("div",{className:"mt-4 bg-white/10 rounded-lg p-4 text-white",children:[t.jsxDEV("p",{className:"font-medium",children:i.filename},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:617,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex gap-4 mt-2 text-sm text-gray-300",children:[t.jsxDEV("span",{children:s?"Video":"Photo"},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:619,columnNumber:13},void 0),t.jsxDEV("span",{children:new Date(i.created_at).toLocaleString()},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:620,columnNumber:13},void 0),i.location_name&&t.jsxDEV("span",{children:i.location_name},void 0,!1,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:621,columnNumber:37},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:618,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:616,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:589,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/MediaGallery.tsx",lineNumber:564,columnNumber:5},void 0)},qI=()=>t.jsxDEV("div",{className:"p-4",children:t.jsxDEV(tk,{},void 0,!1,{fileName:"/app/src/components/admin/ImagesManager.tsx",lineNumber:7,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImagesManager.tsx",lineNumber:6,columnNumber:5},void 0),KI=()=>{var T;const[i,r]=h.useState([]),[n,s]=h.useState({total_users:0,active_users:0,users_last_30_days:0}),[l,u]=h.useState(null),[d,A]=h.useState(!0),[b,p]=h.useState(null),[x,N]=h.useState(""),[v,w]=h.useState("created"),{user:E}=Xa();h.useEffect(()=>{E!=null&&E.id?(F(),V()):A(!1)},[E==null?void 0:E.id]);const F=async()=>{try{A(!0);const{data:M,error:q}=await Ge.auth.admin.listUsers();if(q)throw q;const{data:$,error:Ae}=await Ge.from("profiles").select(`
          id,
          email,
          full_name,
          date_created,
          date_modified
        `);if(Ae)throw Ae;const{data:L,error:J}=await Ge.from("circle_users").select("id, user_id, role, status, circle_id");if(J)throw J;let j=[];if(L&&L.length>0){const z=[...new Set(L.map(D=>D.circle_id))],{data:ee}=await Ge.from("circles").select("id, name").in("id",z);j=ee||[]}const{data:O,error:Y}=await Ge.from("albums").select("user_id");if(Y)throw Y;const ie=M.users.map(z=>{const ee=$==null?void 0:$.find(X=>X.id===z.id),D=(L==null?void 0:L.filter(X=>X.user_id===z.id).map(X=>({...X,circles:j.find(C=>C.id===X.circle_id)||{id:X.circle_id,name:"Unknown Circle"}})))||[],R=(O==null?void 0:O.filter(X=>X.user_id===z.id).length)||0;return{id:z.id,email:z.email||(ee==null?void 0:ee.email)||null,full_name:(ee==null?void 0:ee.full_name)||null,date_created:(ee==null?void 0:ee.date_created)||z.created_at,date_modified:(ee==null?void 0:ee.date_modified)||z.updated_at||z.created_at,created_at:z.created_at,last_sign_in_at:z.last_sign_in_at,circle_memberships:D,album_count:R}});r(ie),p(null)}catch(M){console.error("Error loading users:",M),p(M instanceof Error?M.message:"Failed to load users")}finally{A(!1)}},V=async()=>{try{const{data:M,error:q}=await Ge.auth.admin.listUsers();if(q)throw q;const $=new Date,Ae=new Date($.getTime()-30*24*60*60*1e3),L=M.users.length,J=M.users.filter(O=>O.last_sign_in_at).length,j=M.users.filter(O=>O.created_at&&new Date(O.created_at)>Ae).length;s({total_users:L,active_users:J,users_last_30_days:j})}catch(M){console.error("Error loading stats:",M)}},Z=i.filter(M=>{var q,$;return((q=M.email)==null?void 0:q.toLowerCase().includes(x.toLowerCase()))||(($=M.full_name)==null?void 0:$.toLowerCase().includes(x.toLowerCase()))}).sort((M,q)=>{switch(v){case"name":const $=M.full_name||M.email||"",Ae=q.full_name||q.email||"";return $.localeCompare(Ae);case"last_active":const L=M.last_sign_in_at||"",J=q.last_sign_in_at||"";return new Date(J).getTime()-new Date(L).getTime();case"created":default:return new Date(q.created_at).getTime()-new Date(M.created_at).getTime()}}),H=M=>{switch(M){case"admin":return"bg-red-100 text-red-800";case"editor":return"bg-orange-100 text-orange-800";case"contributor":return"bg-green-100 text-green-800";case"read_only":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},te=M=>{switch(M){case"accepted":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return d?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:198,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:197,columnNumber:7},void 0):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:t.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Users Management"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:206,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:205,columnNumber:7},void 0),b&&t.jsxDEV("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:b},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:210,columnNumber:9},void 0),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxDEV("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:n.total_users},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:218,columnNumber:11},void 0),t.jsxDEV("div",{className:"text-gray-600",children:"Total Users"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:219,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:217,columnNumber:9},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxDEV("div",{className:"text-3xl font-bold text-green-600 mb-2",children:n.active_users},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:222,columnNumber:11},void 0),t.jsxDEV("div",{className:"text-gray-600",children:"Active Users"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:223,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:221,columnNumber:9},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxDEV("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:n.users_last_30_days},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:226,columnNumber:11},void 0),t.jsxDEV("div",{className:"text-gray-600",children:"New (30 days)"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:227,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:225,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:216,columnNumber:7},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Users"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:235,columnNumber:13},void 0),t.jsxDEV("input",{type:"text",value:x,onChange:M=>N(M.target.value),placeholder:"Search by name or email...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:238,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:234,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:247,columnNumber:13},void 0),t.jsxDEV("select",{value:v,onChange:M=>w(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsxDEV("option",{value:"created",children:"Date Created"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:255,columnNumber:15},void 0),t.jsxDEV("option",{value:"name",children:"Name"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:256,columnNumber:15},void 0),t.jsxDEV("option",{value:"last_active",children:"Last Active"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:250,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:246,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:233,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:232,columnNumber:7},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsxDEV("thead",{className:"bg-gray-50",children:t.jsxDEV("tr",{children:[t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:268,columnNumber:15},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Albums"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:271,columnNumber:15},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Circles"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:274,columnNumber:15},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:277,columnNumber:15},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:280,columnNumber:15},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:283,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:267,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:266,columnNumber:11},void 0),t.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(M=>{var q;return t.jsxDEV("tr",{className:"hover:bg-gray-50",children:[t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:295,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:294,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:293,columnNumber:21},void 0),t.jsxDEV("div",{className:"ml-4",children:[t.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:M.full_name||"Unnamed User"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:299,columnNumber:23},void 0),t.jsxDEV("div",{className:"text-sm text-gray-500",children:M.email},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:302,columnNumber:23},void 0),M.id===(E==null?void 0:E.id)&&t.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"You"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:304,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:298,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:292,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:291,columnNumber:17},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.album_count||0},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:311,columnNumber:17},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxDEV("div",{className:"text-sm text-gray-900",children:[((q=M.circle_memberships)==null?void 0:q.length)||0," memberships"]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:315,columnNumber:19},void 0),M.circle_memberships&&M.circle_memberships.length>0&&t.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:[M.circle_memberships.slice(0,2).map($=>t.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H($.role)}`,children:$.circles.name},$.id,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:321,columnNumber:25},void 0)),M.circle_memberships.length>2&&t.jsxDEV("span",{className:"text-xs text-gray-500",children:["+",M.circle_memberships.length-2," more"]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:329,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:319,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:314,columnNumber:17},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.last_sign_in_at?new Date(M.last_sign_in_at).toLocaleDateString():"Never"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:336,columnNumber:17},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:344,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:343,columnNumber:17},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.jsxDEV("div",{className:"flex space-x-2",children:t.jsxDEV("button",{onClick:()=>u(M),className:"text-blue-600 hover:text-blue-800",children:"View"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:350,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:349,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:348,columnNumber:17},void 0)]},M.id,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:290,columnNumber:15},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:288,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:265,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:264,columnNumber:7},void 0),Z.length===0&&t.jsxDEV("div",{className:"text-center py-16",children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:366,columnNumber:11},void 0),t.jsxDEV("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No Users Found"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:367,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-500",children:x?"No users match your search criteria.":"No users registered yet."},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:368,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:365,columnNumber:9},void 0),l&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxDEV("div",{className:"flex justify-between items-start mb-6",children:[t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("div",{className:"flex-shrink-0 h-16 w-16 bg-gray-100 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:382,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:381,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:380,columnNumber:17},void 0),t.jsxDEV("div",{className:"ml-4",children:[t.jsxDEV("h3",{className:"text-xl font-bold text-gray-900",children:l.full_name||"Unnamed User"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:386,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-gray-600",children:l.email},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:389,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:391,columnNumber:21},void 0),l.id===(E==null?void 0:E.id)&&t.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"You"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:395,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:390,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:385,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:379,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:402,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:378,columnNumber:13},void 0),t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-3",children:"Account Information"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:413,columnNumber:17},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-gray-500",children:"Created:"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:416,columnNumber:21},void 0),t.jsxDEV("span",{className:"ml-2",children:new Date(l.created_at).toLocaleDateString()},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:417,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:415,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-gray-500",children:"Last Sign In:"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:420,columnNumber:21},void 0),t.jsxDEV("span",{className:"ml-2",children:l.last_sign_in_at?new Date(l.last_sign_in_at).toLocaleDateString():"Never"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:421,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:419,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-gray-500",children:"Albums:"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:429,columnNumber:21},void 0),t.jsxDEV("span",{className:"ml-2",children:l.album_count||0},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:430,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:428,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-gray-500",children:"Circle Memberships:"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:433,columnNumber:21},void 0),t.jsxDEV("span",{className:"ml-2",children:((T=l.circle_memberships)==null?void 0:T.length)||0},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:434,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:432,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:414,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:412,columnNumber:15},void 0),l.circle_memberships&&l.circle_memberships.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-3",children:"Circle Memberships"},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:442,columnNumber:19},void 0),t.jsxDEV("div",{className:"space-y-2",children:l.circle_memberships.map(M=>t.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxDEV("div",{children:t.jsxDEV("span",{className:"font-medium",children:M.circles.name},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:447,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:446,columnNumber:25},void 0),t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H(M.role)}`,children:M.role.replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:450,columnNumber:27},void 0),t.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te(M.status)}`,children:M.status},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:453,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:449,columnNumber:25},void 0)]},M.id,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:445,columnNumber:23},void 0))},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:443,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:441,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:410,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:377,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:376,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/UsersManager.tsx",lineNumber:204,columnNumber:5},void 0)},eR=()=>t.jsxDEV("div",{className:"p-4",children:[t.jsxDEV("h2",{className:"text-xl font-bold mb-4",children:"Invitations Manager"},void 0,!1,{fileName:"/app/src/components/admin/InvitesManager.tsx",lineNumber:6,columnNumber:7},void 0),t.jsxDEV("p",{className:"text-gray-500",children:"Coming soon..."},void 0,!1,{fileName:"/app/src/components/admin/InvitesManager.tsx",lineNumber:7,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/InvitesManager.tsx",lineNumber:5,columnNumber:5},void 0);class rR{async getAuthHeaders(){try{const{data:{session:r},error:n}=await Ge.auth.getSession();return n||!(r!=null&&r.access_token)?null:{Authorization:`Bearer ${r.access_token}`}}catch{return null}}async makeApiCall(r,n={}){try{const s=await this.getAuthHeaders();if(!s)return{success:!1,error:"Authentication required"};const l=n.method||"POST";let d=`https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=${r}`;n.userId&&(d+=`&user_id=${n.userId}`);const A={method:l,headers:{...s,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}};l!=="GET"&&n.body&&(A.body=JSON.stringify(n.body));const b=await fetch(d,A),p=await b.json();return!b.ok||!p.success?{success:!1,error:p.error||"API call failed"}:{success:!0,data:p}}catch{return{success:!1,error:"Network error"}}}async getUserFriends(r){return this.makeApiCall("list",{method:"GET",userId:r})}async getUserRequests(r){return this.makeApiCall("requests",{method:"GET",userId:r})}async getUserFriendshipStats(r){return this.makeApiCall("stats",{method:"GET",userId:r})}async checkFriendship(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const l=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=check&user_id=${r}`,{method:"GET",headers:{...n,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}),u=await l.json();return!l.ok||!u.success?{success:!1,error:u.error||"Failed to check friendship"}:{success:!0,data:{isFriend:u.is_friend||!1,pendingRequest:u.pending_request?{id:u.pending_request.id,isIncoming:u.pending_request.is_incoming}:null}}}catch{return{success:!1,error:"Network error"}}}async sendFriendRequest(r,n){try{const s=await this.getAuthHeaders();if(!s)return{success:!1,error:"Authentication required"};const d=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=send",{method:"POST",headers:{...s,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({recipient_id:r,message:n})})).json();return{success:d.success,data:d,error:d.error}}catch{return{success:!1,error:"Network error"}}}async acceptFriendRequest(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const u=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=accept",{method:"POST",headers:{...n,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({request_id:r})})).json();return{success:u.success,error:u.error}}catch{return{success:!1,error:"Network error"}}}async declineFriendRequest(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const u=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=decline",{method:"POST",headers:{...n,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({request_id:r})})).json();return{success:u.success,error:u.error}}catch{return{success:!1,error:"Network error"}}}async cancelFriendRequest(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const u=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=cancel",{method:"POST",headers:{...n,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({request_id:r})})).json();return{success:u.success,error:u.error}}catch{return{success:!1,error:"Network error"}}}async unfriend(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const u=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=unfriend",{method:"POST",headers:{...n,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({friend_id:r})})).json();return{success:u.success,error:u.error}}catch{return{success:!1,error:"Network error"}}}}const Xo=new rR,H2="https://quqlovduekdasldqadge.supabase.co",aR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4";async function J2(){const{data:{session:i}}=await Ge.auth.getSession();return i!=null&&i.access_token?{Authorization:`Bearer ${i.access_token}`,"Content-Type":"application/json",apikey:aR}:(console.error("No valid session for chat API"),null)}async function l0(i,r={},n={}){try{const s=await J2();if(!s)return{success:!1,error:"Not authenticated"};const l=new URLSearchParams({action:i,...r}),u=`${H2}/functions/v1/messages-api?${l}`,d={method:n.method||"GET",headers:s};n.body&&n.method!=="GET"&&(d.body=JSON.stringify(n.body));const A=await fetch(u,d),b=await A.json();return A.ok?{success:!0,data:b}:{success:!1,error:b.error||"API call failed"}}catch(s){return console.error("Chat API error:",s),{success:!1,error:"Network error"}}}const Ct={getConversations:async()=>{try{const i=await J2();if(!i)return{success:!1,error:"Not authenticated"};const r=await fetch(`${H2}/functions/v1/admin-circles-api`,{method:"GET",headers:i});let n=[];r.ok&&(n=(await r.json()).circles||[]);for(const l of n)await l0("get_circle_chat",{circle_id:l.id});return await l0("conversations")}catch(i){return console.error("Error getting conversations:",i),{success:!1,error:"Failed to get conversations"}}},getMessages:async(i,r=1,n=20)=>l0("messages",{conversation_id:i,page:String(r),limit:String(n)}),pollMessages:async(i,r)=>l0("poll",{conversation_id:i,since:r}),sendMessage:async(i,r)=>l0("send",{},{method:"POST",body:{conversation_id:i,content_type:r.type,content_text:r.text||null,content_url:r.url||null,content_metadata:r.metadata||{}}}),markMessagesAsRead:async(i,r)=>(await l0("read",{},{method:"POST",body:{conversation_id:i,message_ids:r}})).success,getCircleChat:async i=>l0("get_circle_chat",{circle_id:i}),createDM:async i=>l0("create_dm",{},{method:"POST",body:{recipient_user_id:i}}),editMessage:async(i,r)=>l0("edit",{},{method:"PUT",body:{message_id:i,content_text:r}}),deleteMessage:async i=>l0("delete",{message_id:i},{method:"DELETE"}),clearChat:async i=>l0("clear_chat",{},{method:"POST",body:{conversation_id:i}}),searchMessages:async(i,r={})=>{var s,l;const n={query:i};return r.page&&(n.page=String(r.page)),r.limit&&(n.limit=String(r.limit)),(s=r.circleIds)!=null&&s.length&&(n.circle_ids=r.circleIds.join(",")),(l=r.userIds)!=null&&l.length&&(n.user_ids=r.userIds.join(",")),r.dateFrom&&(n.date_from=r.dateFrom),r.dateTo&&(n.date_to=r.dateTo),l0("search",n)},getTotalUnreadCount:async()=>{var r;const i=await Ct.getConversations();return!i.success||!((r=i.data)!=null&&r.conversations)?0:i.data.conversations.reduce((n,s)=>n+(s.unread_count||0),0)},searchGlobal:async i=>{try{const r=await J2();if(!r)return{success:!1,error:"Not authenticated"};const n=new URLSearchParams({action:"global",query:i}),s=await fetch(`${H2}/functions/v1/chat-search-api?${n}`,{headers:r}),l=await s.json();return s.ok?{success:!0,data:l}:{success:!1,error:l.error}}catch{return{success:!1,error:"Search failed"}}},searchConversation:async(i,r)=>{try{const n=await J2();if(!n)return{success:!1,error:"Not authenticated"};const s=new URLSearchParams({action:"conversation",conversation_id:i,query:r}),l=await fetch(`${H2}/functions/v1/chat-search-api?${s}`,{headers:n}),u=await l.json();return l.ok?{success:!0,data:u}:{success:!1,error:u.error}}catch{return{success:!1,error:"Search failed"}}}};class tR{constructor(){R5(this,"baseUrl");this.baseUrl="http://localhost:8000",console.log("[AI Service] Using AI server:",this.baseUrl)}async getAuthHeaders(){const{data:{session:r}}=await Ge.auth.getSession(),n={"Content-Type":"application/json"};return r!=null&&r.access_token&&(n.Authorization=`Bearer ${r.access_token}`),n}async request(r,n={}){try{const s=await this.getAuthHeaders(),l=await fetch(`${this.baseUrl}${r}`,{...n,headers:{...s,...n.headers}}),u=await l.json();if(!l.ok){let d=`HTTP ${l.status}`;return u.detail?Array.isArray(u.detail)?d=u.detail.map(A=>A.msg||JSON.stringify(A)).join(", "):typeof u.detail=="string"?d=u.detail:d=JSON.stringify(u.detail):u.error&&(d=typeof u.error=="string"?u.error:JSON.stringify(u.error)),{success:!1,error:d}}return{success:!0,data:u}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Network error"}}}async healthCheck(){return this.request("/health")}async processImage(r){const n={asset_id:r.asset_id||crypto.randomUUID(),image_url:r.image_url,image_base64:r.image_base64,operations:r.operations||r.features||["all"],store_results:r.store_results??!1,force_reprocess:r.force_reprocess??!1};return this.request("/api/v1/process/image",{method:"POST",body:JSON.stringify(n)})}async processBatch(r){return this.request("/api/v1/process/batch",{method:"POST",body:JSON.stringify(r)})}async getJob(r){return this.request(`/api/v1/jobs/${r}`)}async listJobs(r){const n=r?`?status=${r}`:"";return this.request(`/api/v1/jobs${n}`)}async cancelJob(r){return this.request(`/api/v1/jobs/${r}`,{method:"DELETE"})}async getClusters(r){const n=new URLSearchParams;(r==null?void 0:r.include_labeled)!==void 0&&n.set("include_labeled",String(r.include_labeled)),(r==null?void 0:r.include_unlabeled)!==void 0&&n.set("include_unlabeled",String(r.include_unlabeled));const s=n.toString()?`?${n}`:"";return this.request(`/api/v1/faces/clusters${s}`)}async getCluster(r){return this.request(`/api/v1/faces/clusters/${r}`)}async getClusterFaces(r){return this.request(`/api/v1/faces/clusters/${r}/faces`)}async assignCluster(r,n,s,l){return this.request(`/api/v1/faces/clusters/${r}/assign`,{method:"POST",body:JSON.stringify({knox_contact_id:n,name:s,exclude_face_ids:l!=null&&l.length?l:void 0})})}async mergeClusters(r){return this.request("/api/v1/faces/clusters/merge",{method:"POST",body:JSON.stringify({cluster_ids:r})})}async runClustering(r){return this.request("/api/v1/faces/cluster",{method:"POST",body:JSON.stringify(r||{})})}async clearClustering(r=!1){const n=r?"?clear_thumbnails=true":"";return this.request(`/api/v1/faces/clear-clustering${n}`,{method:"POST"})}async getContactImages(r,n=50){return this.request(`/api/v1/faces/contact/${r}/images?limit=${n}`)}async backfillFaceThumbnails(){return this.request("/api/v1/faces/backfill-thumbnails",{method:"POST"})}async searchByText(r){return this.request("/api/v1/search",{method:"POST",body:JSON.stringify(r)})}async searchByFace(r){return this.request("/api/v1/search/by-face",{method:"POST",body:JSON.stringify(r)})}async searchByObject(r){const n=new URLSearchParams({object_class:r.object_class});return r.min_confidence!==void 0&&n.set("min_confidence",String(r.min_confidence)),r.limit!==void 0&&n.set("limit",String(r.limit)),this.request(`/api/v1/search/by-object?${n}`,{method:"POST"})}async getDetectedObjects(){return this.request("/api/v1/search/objects")}async reindex(r=10,n=0){return this.request(`/api/v1/process/reindex?limit=${r}&offset=${n}`,{method:"POST"})}async searchByDescription(r){return this.request("/api/v1/search/by-description",{method:"POST",body:JSON.stringify(r)})}async searchByOcrText(r){return this.request("/api/v1/search/by-text",{method:"POST",body:JSON.stringify(r)})}async searchCombined(r){return this.request("/api/v1/search/combined",{method:"POST",body:JSON.stringify(r)})}async getQueueStats(){return this.request("/api/v1/jobs/queue/stats")}async getActiveJobs(r=10){return this.request(`/api/v1/jobs/queue/active?limit=${r}`)}async getRecentJobs(r=50,n){const s=new URLSearchParams({limit:String(r)});return n&&s.set("status",n),this.request(`/api/v1/jobs/queue/recent?${s}`)}async getWorkerStatus(){return this.request("/api/v1/jobs/queue/workers")}}const ea=new tR,Rh={id:"default",name:"Zip",description:"A quick zip sound",filename:"harmony_chord",category:"gentle",icon:"superpowers"},nk=[Rh,{id:"drama",name:"Drama",description:"A Dramatic Intro",filename:"drama",category:"playful",icon:"bolt"},{id:"crystal_chime",name:"Crystal Chime",description:"Sparkling crystal wind chimes",filename:"crystal_chime",category:"gentle",icon:"diamond"},{id:"quick_smack",name:"Quick Smack",description:"Quick smacking",filename:"quick_smack",category:"playful",icon:"th-large"},{id:"gasp",name:"Gasp",description:"Woman Gasping",filename:"gasp",category:"playful",icon:"exclamation-circle"},{id:"coming",name:"Anticipation",description:"Dramatic anticipation sound",filename:"movie",category:"nature",icon:"film"},{id:"Swoosh",name:"Swoosh",description:"A quick swooshing sound",filename:"swoosh",category:"nature",icon:"snapchat-ghost"},{id:"sad_sound",name:"Sad Sound",description:"When you lose a game",filename:"sad",category:"playful",icon:"frown-o"},{id:"action_sound",name:"Action",description:"Action sound",filename:"action",category:"playful",icon:"hand-rock-o"},{id:"woosh",name:"woosh",description:"Wooshing sound effect",filename:"woosh",category:"classic",icon:"fighter-jet"},{id:"sneeze",name:"Sneeze",description:"Sneeze",filename:"sneeze",category:"playful",icon:"meh-o"}],kl=i=>i&&nk.find(r=>r.id===i)||Rh,nR=[{id:"gentle",name:"Gentle",icon:"leaf"},{id:"musical",name:"Musical",icon:"music"},{id:"nature",name:"Nature",icon:"tree"},{id:"playful",name:"Playful",icon:"smile-o"},{id:"classic",name:"Classic",icon:"bell-o"}];/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function Th(i,r){(r==null||r>i.length)&&(r=i.length);for(var n=0,s=Array(r);n<r;n++)s[n]=i[n];return s}function iR(i){if(Array.isArray(i))return i}function oR(i){if(Array.isArray(i))return Th(i)}function sR(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function lR(i,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,ik(s.key),s)}}function cR(i,r,n){return r&&lR(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function Q2(i,r){var n=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!n){if(Array.isArray(i)||(n=S4(i))||r){n&&(i=n);var s=0,l=function(){};return{s:l,n:function(){return s>=i.length?{done:!0}:{done:!1,value:i[s++]}},e:function(b){throw b},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,A=!1;return{s:function(){n=n.call(i)},n:function(){var b=n.next();return d=b.done,b},e:function(b){A=!0,u=b},f:function(){try{d||n.return==null||n.return()}finally{if(A)throw u}}}}function Vr(i,r,n){return(r=ik(r))in i?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,i}function uR(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function dR(i,r){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var s,l,u,d,A=[],b=!0,p=!1;try{if(u=(n=n.call(i)).next,r===0){if(Object(n)!==n)return;b=!1}else for(;!(b=(s=u.call(n)).done)&&(A.push(s.value),A.length!==r);b=!0);}catch(x){p=!0,l=x}finally{try{if(!b&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(p)throw l}}return A}}function fR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zy(i,r){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,s)}return n}function He(i){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Zy(Object(n),!0).forEach(function(s){Vr(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Zy(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function Tm(i,r){return iR(i)||dR(i,r)||S4(i,r)||fR()}function V0(i){return oR(i)||uR(i)||S4(i)||mR()}function AR(i,r){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function ik(i){var r=AR(i,"string");return typeof r=="symbol"?r:r+""}function hm(i){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hm(i)}function S4(i,r){if(i){if(typeof i=="string")return Th(i,r);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Th(i,r):void 0}}var Oy=function(){},M4={},ok={},sk=null,lk={mark:Oy,measure:Oy};try{typeof window<"u"&&(M4=window),typeof document<"u"&&(ok=document),typeof MutationObserver<"u"&&(sk=MutationObserver),typeof performance<"u"&&(lk=performance)}catch{}var bR=M4.navigator||{},Py=bR.userAgent,Wy=Py===void 0?"":Py,Hi=M4,ia=ok,Gy=sk,F2=lk;Hi.document;var Hn=!!ia.documentElement&&!!ia.head&&typeof ia.addEventListener=="function"&&typeof ia.createElement=="function",ck=~Wy.indexOf("MSIE")||~Wy.indexOf("Trident/"),Zp,pR=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,hR=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,uk={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},gR={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},dk=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],at="classic",sd="duotone",fk="sharp",mk="sharp-duotone",Ak="chisel",bk="etch",pk="jelly",hk="jelly-duo",gk="jelly-fill",vk="notdog",Nk="notdog-duo",xk="slab",yk="slab-press",wk="thumbprint",Ek="utility",kk="utility-duo",Dk="utility-fill",Vk="whiteboard",vR="Classic",NR="Duotone",xR="Sharp",yR="Sharp Duotone",wR="Chisel",ER="Etch",kR="Jelly",DR="Jelly Duo",VR="Jelly Fill",jR="Notdog",CR="Notdog Duo",_R="Slab",SR="Slab Press",MR="Thumbprint",IR="Utility",RR="Utility Duo",TR="Utility Fill",BR="Whiteboard",jk=[at,sd,fk,mk,Ak,bk,pk,hk,gk,vk,Nk,xk,yk,wk,Ek,kk,Dk,Vk];Zp={},Vr(Vr(Vr(Vr(Vr(Vr(Vr(Vr(Vr(Vr(Zp,at,vR),sd,NR),fk,xR),mk,yR),Ak,wR),bk,ER),pk,kR),hk,DR),gk,VR),vk,jR),Vr(Vr(Vr(Vr(Vr(Vr(Vr(Vr(Zp,Nk,CR),xk,_R),yk,SR),wk,MR),Ek,IR),kk,RR),Dk,TR),Vk,BR);var FR={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},ZR={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},OR=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),PR={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},Ck=["fak","fa-kit","fakd","fa-kit-duotone"],Uy={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},WR=["kit"],GR="kit",UR="kit-duotone",XR="Kit",zR="Kit Duotone";Vr(Vr({},GR,XR),UR,zR);var LR={kit:{"fa-kit":"fak"}},YR={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},HR={kit:{fak:"fa-kit"}},Xy={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Op,Z2={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},JR=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],QR="classic",$R="duotone",qR="sharp",KR="sharp-duotone",eT="chisel",rT="etch",aT="jelly",tT="jelly-duo",nT="jelly-fill",iT="notdog",oT="notdog-duo",sT="slab",lT="slab-press",cT="thumbprint",uT="utility",dT="utility-duo",fT="utility-fill",mT="whiteboard",AT="Classic",bT="Duotone",pT="Sharp",hT="Sharp Duotone",gT="Chisel",vT="Etch",NT="Jelly",xT="Jelly Duo",yT="Jelly Fill",wT="Notdog",ET="Notdog Duo",kT="Slab",DT="Slab Press",VT="Thumbprint",jT="Utility",CT="Utility Duo",_T="Utility Fill",ST="Whiteboard";Op={},Vr(Vr(Vr(Vr(Vr(Vr(Vr(Vr(Vr(Vr(Op,QR,AT),$R,bT),qR,pT),KR,hT),eT,gT),rT,vT),aT,NT),tT,xT),nT,yT),iT,wT),Vr(Vr(Vr(Vr(Vr(Vr(Vr(Vr(Op,oT,ET),sT,kT),lT,DT),cT,VT),uT,jT),dT,CT),fT,_T),mT,ST);var MT="kit",IT="kit-duotone",RT="Kit",TT="Kit Duotone";Vr(Vr({},MT,RT),IT,TT);var BT={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},FT={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Bh={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},ZT=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],_k=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(JR,ZT),OT=["solid","regular","light","thin","duotone","brands","semibold"],Sk=[1,2,3,4,5,6,7,8,9,10],PT=Sk.concat([11,12,13,14,15,16,17,18,19,20]),WT=["aw","fw","pull-left","pull-right"],GT=[].concat(V0(Object.keys(FT)),OT,WT,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Z2.GROUP,Z2.SWAP_OPACITY,Z2.PRIMARY,Z2.SECONDARY]).concat(Sk.map(function(i){return"".concat(i,"x")})).concat(PT.map(function(i){return"w-".concat(i)})),UT={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Gn="___FONT_AWESOME___",Fh=16,Mk="fa",Ik="svg-inline--fa",fs="data-fa-i2svg",Zh="data-fa-pseudo-element",XT="data-fa-pseudo-element-pending",I4="data-prefix",R4="data-icon",zy="fontawesome-i2svg",zT="async",LT=["HTML","HEAD","STYLE","SCRIPT"],Rk=["::before","::after",":before",":after"],Tk=function(){try{return!1}catch{return!1}}();function ld(i){return new Proxy(i,{get:function(n,s){return s in n?n[s]:n[at]}})}var Bk=He({},uk);Bk[at]=He(He(He(He({},{"fa-duotone":"duotone"}),uk[at]),Uy.kit),Uy["kit-duotone"]);var YT=ld(Bk),Oh=He({},PR);Oh[at]=He(He(He(He({},{duotone:"fad"}),Oh[at]),Xy.kit),Xy["kit-duotone"]);var Ly=ld(Oh),Ph=He({},Bh);Ph[at]=He(He({},Ph[at]),HR.kit);var T4=ld(Ph),Wh=He({},BT);Wh[at]=He(He({},Wh[at]),LR.kit);ld(Wh);var HT=pR,Fk="fa-layers-text",JT=hR,QT=He({},FR);ld(QT);var $T=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Pp=gR,qT=[].concat(V0(WR),V0(GT)),Zu=Hi.FontAwesomeConfig||{};function KT(i){var r=ia.querySelector("script["+i+"]");if(r)return r.getAttribute(i)}function eB(i){return i===""?!0:i==="false"?!1:i==="true"?!0:i}if(ia&&typeof ia.querySelector=="function"){var rB=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];rB.forEach(function(i){var r=Tm(i,2),n=r[0],s=r[1],l=eB(KT(n));l!=null&&(Zu[s]=l)})}var Zk={styleDefault:"solid",familyDefault:at,cssPrefix:Mk,replacementClass:Ik,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Zu.familyPrefix&&(Zu.cssPrefix=Zu.familyPrefix);var Pl=He(He({},Zk),Zu);Pl.autoReplaceSvg||(Pl.observeMutations=!1);var fr={};Object.keys(Zk).forEach(function(i){Object.defineProperty(fr,i,{enumerable:!0,set:function(n){Pl[i]=n,Ou.forEach(function(s){return s(fr)})},get:function(){return Pl[i]}})});Object.defineProperty(fr,"familyPrefix",{enumerable:!0,set:function(r){Pl.cssPrefix=r,Ou.forEach(function(n){return n(fr)})},get:function(){return Pl.cssPrefix}});Hi.FontAwesomeConfig=fr;var Ou=[];function aB(i){return Ou.push(i),function(){Ou.splice(Ou.indexOf(i),1)}}var Dl=Fh,nn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function tB(i){if(!(!i||!Hn)){var r=ia.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=i;for(var n=ia.head.childNodes,s=null,l=n.length-1;l>-1;l--){var u=n[l],d=(u.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(d)>-1&&(s=u)}return ia.head.insertBefore(r,s),i}}var nB="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Yy(){for(var i=12,r="";i-- >0;)r+=nB[Math.random()*62|0];return r}function Jl(i){for(var r=[],n=(i||[]).length>>>0;n--;)r[n]=i[n];return r}function B4(i){return i.classList?Jl(i.classList):(i.getAttribute("class")||"").split(" ").filter(function(r){return r})}function Ok(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function iB(i){return Object.keys(i||{}).reduce(function(r,n){return r+"".concat(n,'="').concat(Ok(i[n]),'" ')},"").trim()}function Bm(i){return Object.keys(i||{}).reduce(function(r,n){return r+"".concat(n,": ").concat(i[n].trim(),";")},"")}function F4(i){return i.size!==nn.size||i.x!==nn.x||i.y!==nn.y||i.rotate!==nn.rotate||i.flipX||i.flipY}function oB(i){var r=i.transform,n=i.containerWidth,s=i.iconWidth,l={transform:"translate(".concat(n/2," 256)")},u="translate(".concat(r.x*32,", ").concat(r.y*32,") "),d="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),A="rotate(".concat(r.rotate," 0 0)"),b={transform:"".concat(u," ").concat(d," ").concat(A)},p={transform:"translate(".concat(s/2*-1," -256)")};return{outer:l,inner:b,path:p}}function sB(i){var r=i.transform,n=i.width,s=n===void 0?Fh:n,l=i.height,u=l===void 0?Fh:l,d="";return ck?d+="translate(".concat(r.x/Dl-s/2,"em, ").concat(r.y/Dl-u/2,"em) "):d+="translate(calc(-50% + ".concat(r.x/Dl,"em), calc(-50% + ").concat(r.y/Dl,"em)) "),d+="scale(".concat(r.size/Dl*(r.flipX?-1:1),", ").concat(r.size/Dl*(r.flipY?-1:1),") "),d+="rotate(".concat(r.rotate,"deg) "),d}var lB=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function Pk(){var i=Mk,r=Ik,n=fr.cssPrefix,s=fr.replacementClass,l=lB;if(n!==i||s!==r){var u=new RegExp("\\.".concat(i,"\\-"),"g"),d=new RegExp("\\--".concat(i,"\\-"),"g"),A=new RegExp("\\.".concat(r),"g");l=l.replace(u,".".concat(n,"-")).replace(d,"--".concat(n,"-")).replace(A,".".concat(s))}return l}var Hy=!1;function Wp(){fr.autoAddCss&&!Hy&&(tB(Pk()),Hy=!0)}var cB={mixout:function(){return{dom:{css:Pk,insertCss:Wp}}},hooks:function(){return{beforeDOMElementCreation:function(){Wp()},beforeI2svg:function(){Wp()}}}},Un=Hi||{};Un[Gn]||(Un[Gn]={});Un[Gn].styles||(Un[Gn].styles={});Un[Gn].hooks||(Un[Gn].hooks={});Un[Gn].shims||(Un[Gn].shims=[]);var D0=Un[Gn],Wk=[],Gk=function(){ia.removeEventListener("DOMContentLoaded",Gk),gm=1,Wk.map(function(r){return r()})},gm=!1;Hn&&(gm=(ia.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ia.readyState),gm||ia.addEventListener("DOMContentLoaded",Gk));function uB(i){Hn&&(gm?setTimeout(i,0):Wk.push(i))}function cd(i){var r=i.tag,n=i.attributes,s=n===void 0?{}:n,l=i.children,u=l===void 0?[]:l;return typeof i=="string"?Ok(i):"<".concat(r," ").concat(iB(s),">").concat(u.map(cd).join(""),"</").concat(r,">")}function Jy(i,r,n){if(i&&i[r]&&i[r][n])return{prefix:r,iconName:n,icon:i[r][n]}}var Gp=function(r,n,s,l){var u=Object.keys(r),d=u.length,A=n,b,p,x;for(s===void 0?(b=1,x=r[u[0]]):(b=0,x=s);b<d;b++)p=u[b],x=A(x,r[p],p,r);return x};function Uk(i){return V0(i).length!==1?null:i.codePointAt(0).toString(16)}function Qy(i){return Object.keys(i).reduce(function(r,n){var s=i[n],l=!!s.icon;return l?r[s.iconName]=s.icon:r[n]=s,r},{})}function Gh(i,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.skipHooks,l=s===void 0?!1:s,u=Qy(r);typeof D0.hooks.addPack=="function"&&!l?D0.hooks.addPack(i,Qy(r)):D0.styles[i]=He(He({},D0.styles[i]||{}),u),i==="fas"&&Gh("fa",r)}var Qu=D0.styles,dB=D0.shims,Xk=Object.keys(T4),fB=Xk.reduce(function(i,r){return i[r]=Object.keys(T4[r]),i},{}),Z4=null,zk={},Lk={},Yk={},Hk={},Jk={};function mB(i){return~qT.indexOf(i)}function AB(i,r){var n=r.split("-"),s=n[0],l=n.slice(1).join("-");return s===i&&l!==""&&!mB(l)?l:null}var Qk=function(){var r=function(u){return Gp(Qu,function(d,A,b){return d[b]=Gp(A,u,{}),d},{})};zk=r(function(l,u,d){if(u[3]&&(l[u[3]]=d),u[2]){var A=u[2].filter(function(b){return typeof b=="number"});A.forEach(function(b){l[b.toString(16)]=d})}return l}),Lk=r(function(l,u,d){if(l[d]=d,u[2]){var A=u[2].filter(function(b){return typeof b=="string"});A.forEach(function(b){l[b]=d})}return l}),Jk=r(function(l,u,d){var A=u[2];return l[d]=d,A.forEach(function(b){l[b]=d}),l});var n="far"in Qu||fr.autoFetchSvg,s=Gp(dB,function(l,u){var d=u[0],A=u[1],b=u[2];return A==="far"&&!n&&(A="fas"),typeof d=="string"&&(l.names[d]={prefix:A,iconName:b}),typeof d=="number"&&(l.unicodes[d.toString(16)]={prefix:A,iconName:b}),l},{names:{},unicodes:{}});Yk=s.names,Hk=s.unicodes,Z4=Fm(fr.styleDefault,{family:fr.familyDefault})};aB(function(i){Z4=Fm(i.styleDefault,{family:fr.familyDefault})});Qk();function O4(i,r){return(zk[i]||{})[r]}function bB(i,r){return(Lk[i]||{})[r]}function ns(i,r){return(Jk[i]||{})[r]}function $k(i){return Yk[i]||{prefix:null,iconName:null}}function pB(i){var r=Hk[i],n=O4("fas",i);return r||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ji(){return Z4}var qk=function(){return{prefix:null,iconName:null,rest:[]}};function hB(i){var r=at,n=Xk.reduce(function(s,l){return s[l]="".concat(fr.cssPrefix,"-").concat(l),s},{});return jk.forEach(function(s){(i.includes(n[s])||i.some(function(l){return fB[s].includes(l)}))&&(r=s)}),r}function Fm(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.family,s=n===void 0?at:n,l=YT[s][i];if(s===sd&&!i)return"fad";var u=Ly[s][i]||Ly[s][l],d=i in D0.styles?i:null,A=u||d||null;return A}function gB(i){var r=[],n=null;return i.forEach(function(s){var l=AB(fr.cssPrefix,s);l?n=l:s&&r.push(s)}),{iconName:n,rest:r}}function $y(i){return i.sort().filter(function(r,n,s){return s.indexOf(r)===n})}var qy=_k.concat(Ck);function Zm(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.skipLookups,s=n===void 0?!1:n,l=null,u=$y(i.filter(function(w){return qy.includes(w)})),d=$y(i.filter(function(w){return!qy.includes(w)})),A=u.filter(function(w){return l=w,!dk.includes(w)}),b=Tm(A,1),p=b[0],x=p===void 0?null:p,N=hB(u),v=He(He({},gB(d)),{},{prefix:Fm(x,{family:N})});return He(He(He({},v),yB({values:i,family:N,styles:Qu,config:fr,canonical:v,givenPrefix:l})),vB(s,l,v))}function vB(i,r,n){var s=n.prefix,l=n.iconName;if(i||!s||!l)return{prefix:s,iconName:l};var u=r==="fa"?$k(l):{},d=ns(s,l);return l=u.iconName||d||l,s=u.prefix||s,s==="far"&&!Qu.far&&Qu.fas&&!fr.autoFetchSvg&&(s="fas"),{prefix:s,iconName:l}}var NB=jk.filter(function(i){return i!==at||i!==sd}),xB=Object.keys(Bh).filter(function(i){return i!==at}).map(function(i){return Object.keys(Bh[i])}).flat();function yB(i){var r=i.values,n=i.family,s=i.canonical,l=i.givenPrefix,u=l===void 0?"":l,d=i.styles,A=d===void 0?{}:d,b=i.config,p=b===void 0?{}:b,x=n===sd,N=r.includes("fa-duotone")||r.includes("fad"),v=p.familyDefault==="duotone",w=s.prefix==="fad"||s.prefix==="fa-duotone";if(!x&&(N||v||w)&&(s.prefix="fad"),(r.includes("fa-brands")||r.includes("fab"))&&(s.prefix="fab"),!s.prefix&&NB.includes(n)){var E=Object.keys(A).find(function(V){return xB.includes(V)});if(E||p.autoFetchSvg){var F=OR.get(n).defaultShortPrefixId;s.prefix=F,s.iconName=ns(s.prefix,s.iconName)||s.iconName}}return(s.prefix==="fa"||u==="fa")&&(s.prefix=Ji()||"fas"),s}var wB=function(){function i(){sR(this,i),this.definitions={}}return cR(i,[{key:"add",value:function(){for(var n=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=l.reduce(this._pullDefinitions,{});Object.keys(d).forEach(function(A){n.definitions[A]=He(He({},n.definitions[A]||{}),d[A]),Gh(A,d[A]);var b=T4[at][A];b&&Gh(b,d[A]),Qk()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,s){var l=s.prefix&&s.iconName&&s.icon?{0:s}:s;return Object.keys(l).map(function(u){var d=l[u],A=d.prefix,b=d.iconName,p=d.icon,x=p[2];n[A]||(n[A]={}),x.length>0&&x.forEach(function(N){typeof N=="string"&&(n[A][N]=p)}),n[A][b]=p}),n}}])}(),Ky=[],Ml={},Bl={},EB=Object.keys(Bl);function kB(i,r){var n=r.mixoutsTo;return Ky=i,Ml={},Object.keys(Bl).forEach(function(s){EB.indexOf(s)===-1&&delete Bl[s]}),Ky.forEach(function(s){var l=s.mixout?s.mixout():{};if(Object.keys(l).forEach(function(d){typeof l[d]=="function"&&(n[d]=l[d]),hm(l[d])==="object"&&Object.keys(l[d]).forEach(function(A){n[d]||(n[d]={}),n[d][A]=l[d][A]})}),s.hooks){var u=s.hooks();Object.keys(u).forEach(function(d){Ml[d]||(Ml[d]=[]),Ml[d].push(u[d])})}s.provides&&s.provides(Bl)}),n}function Uh(i,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),l=2;l<n;l++)s[l-2]=arguments[l];var u=Ml[i]||[];return u.forEach(function(d){r=d.apply(null,[r].concat(s))}),r}function ms(i){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var l=Ml[i]||[];l.forEach(function(u){u.apply(null,n)})}function Qi(){var i=arguments[0],r=Array.prototype.slice.call(arguments,1);return Bl[i]?Bl[i].apply(null,r):void 0}function Xh(i){i.prefix==="fa"&&(i.prefix="fas");var r=i.iconName,n=i.prefix||Ji();if(r)return r=ns(n,r)||r,Jy(Kk.definitions,n,r)||Jy(D0.styles,n,r)}var Kk=new wB,DB=function(){fr.autoReplaceSvg=!1,fr.observeMutations=!1,ms("noAuto")},VB={i2svg:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Hn?(ms("beforeI2svg",r),Qi("pseudoElements2svg",r),Qi("i2svg",r)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.autoReplaceSvgRoot;fr.autoReplaceSvg===!1&&(fr.autoReplaceSvg=!0),fr.observeMutations=!0,uB(function(){CB({autoReplaceSvgRoot:n}),ms("watch",r)})}},jB={icon:function(r){if(r===null)return null;if(hm(r)==="object"&&r.prefix&&r.iconName)return{prefix:r.prefix,iconName:ns(r.prefix,r.iconName)||r.iconName};if(Array.isArray(r)&&r.length===2){var n=r[1].indexOf("fa-")===0?r[1].slice(3):r[1],s=Fm(r[0]);return{prefix:s,iconName:ns(s,n)||n}}if(typeof r=="string"&&(r.indexOf("".concat(fr.cssPrefix,"-"))>-1||r.match(HT))){var l=Zm(r.split(" "),{skipLookups:!0});return{prefix:l.prefix||Ji(),iconName:ns(l.prefix,l.iconName)||l.iconName}}if(typeof r=="string"){var u=Ji();return{prefix:u,iconName:ns(u,r)||r}}}},Yt={noAuto:DB,config:fr,dom:VB,parse:jB,library:Kk,findIconDefinition:Xh,toHtml:cd},CB=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.autoReplaceSvgRoot,s=n===void 0?ia:n;(Object.keys(D0.styles).length>0||fr.autoFetchSvg)&&Hn&&fr.autoReplaceSvg&&Yt.dom.i2svg({node:s})};function Om(i,r){return Object.defineProperty(i,"abstract",{get:r}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(function(s){return cd(s)})}}),Object.defineProperty(i,"node",{get:function(){if(Hn){var s=ia.createElement("div");return s.innerHTML=i.html,s.children}}}),i}function _B(i){var r=i.children,n=i.main,s=i.mask,l=i.attributes,u=i.styles,d=i.transform;if(F4(d)&&n.found&&!s.found){var A=n.width,b=n.height,p={x:A/b/2,y:.5};l.style=Bm(He(He({},u),{},{"transform-origin":"".concat(p.x+d.x/16,"em ").concat(p.y+d.y/16,"em")}))}return[{tag:"svg",attributes:l,children:r}]}function SB(i){var r=i.prefix,n=i.iconName,s=i.children,l=i.attributes,u=i.symbol,d=u===!0?"".concat(r,"-").concat(fr.cssPrefix,"-").concat(n):u;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:He(He({},l),{},{id:d}),children:s}]}]}function MB(i){var r=["aria-label","aria-labelledby","title","role"];return r.some(function(n){return n in i})}function P4(i){var r=i.icons,n=r.main,s=r.mask,l=i.prefix,u=i.iconName,d=i.transform,A=i.symbol,b=i.maskId,p=i.extra,x=i.watchable,N=x===void 0?!1:x,v=s.found?s:n,w=v.width,E=v.height,F=[fr.replacementClass,u?"".concat(fr.cssPrefix,"-").concat(u):""].filter(function(T){return p.classes.indexOf(T)===-1}).filter(function(T){return T!==""||!!T}).concat(p.classes).join(" "),V={children:[],attributes:He(He({},p.attributes),{},{"data-prefix":l,"data-icon":u,class:F,role:p.attributes.role||"img",viewBox:"0 0 ".concat(w," ").concat(E)})};!MB(p.attributes)&&!p.attributes["aria-hidden"]&&(V.attributes["aria-hidden"]="true"),N&&(V.attributes[fs]="");var G=He(He({},V),{},{prefix:l,iconName:u,main:n,mask:s,maskId:b,transform:d,symbol:A,styles:He({},p.styles)}),Z=s.found&&n.found?Qi("generateAbstractMask",G)||{children:[],attributes:{}}:Qi("generateAbstractIcon",G)||{children:[],attributes:{}},H=Z.children,te=Z.attributes;return G.children=H,G.attributes=te,A?SB(G):_B(G)}function e8(i){var r=i.content,n=i.width,s=i.height,l=i.transform,u=i.extra,d=i.watchable,A=d===void 0?!1:d,b=He(He({},u.attributes),{},{class:u.classes.join(" ")});A&&(b[fs]="");var p=He({},u.styles);F4(l)&&(p.transform=sB({transform:l,width:n,height:s}),p["-webkit-transform"]=p.transform);var x=Bm(p);x.length>0&&(b.style=x);var N=[];return N.push({tag:"span",attributes:b,children:[r]}),N}function IB(i){var r=i.content,n=i.extra,s=He(He({},n.attributes),{},{class:n.classes.join(" ")}),l=Bm(n.styles);l.length>0&&(s.style=l);var u=[];return u.push({tag:"span",attributes:s,children:[r]}),u}var Up=D0.styles;function zh(i){var r=i[0],n=i[1],s=i.slice(4),l=Tm(s,1),u=l[0],d=null;return Array.isArray(u)?d={tag:"g",attributes:{class:"".concat(fr.cssPrefix,"-").concat(Pp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(fr.cssPrefix,"-").concat(Pp.SECONDARY),fill:"currentColor",d:u[0]}},{tag:"path",attributes:{class:"".concat(fr.cssPrefix,"-").concat(Pp.PRIMARY),fill:"currentColor",d:u[1]}}]}:d={tag:"path",attributes:{fill:"currentColor",d:u}},{found:!0,width:r,height:n,icon:d}}var RB={found:!1,width:512,height:512};function TB(i,r){!Tk&&!fr.showMissingIcons&&i&&console.error('Icon with name "'.concat(i,'" and prefix "').concat(r,'" is missing.'))}function Lh(i,r){var n=r;return r==="fa"&&fr.styleDefault!==null&&(r=Ji()),new Promise(function(s,l){if(n==="fa"){var u=$k(i)||{};i=u.iconName||i,r=u.prefix||r}if(i&&r&&Up[r]&&Up[r][i]){var d=Up[r][i];return s(zh(d))}TB(i,r),s(He(He({},RB),{},{icon:fr.showMissingIcons&&i?Qi("missingIconAbstract")||{}:{}}))})}var r8=function(){},Yh=fr.measurePerformance&&F2&&F2.mark&&F2.measure?F2:{mark:r8,measure:r8},Tu='FA "7.1.0"',BB=function(r){return Yh.mark("".concat(Tu," ").concat(r," begins")),function(){return e9(r)}},e9=function(r){Yh.mark("".concat(Tu," ").concat(r," ends")),Yh.measure("".concat(Tu," ").concat(r),"".concat(Tu," ").concat(r," begins"),"".concat(Tu," ").concat(r," ends"))},W4={begin:BB,end:e9},$2=function(){};function a8(i){var r=i.getAttribute?i.getAttribute(fs):null;return typeof r=="string"}function FB(i){var r=i.getAttribute?i.getAttribute(I4):null,n=i.getAttribute?i.getAttribute(R4):null;return r&&n}function ZB(i){return i&&i.classList&&i.classList.contains&&i.classList.contains(fr.replacementClass)}function OB(){if(fr.autoReplaceSvg===!0)return q2.replace;var i=q2[fr.autoReplaceSvg];return i||q2.replace}function PB(i){return ia.createElementNS("http://www.w3.org/2000/svg",i)}function WB(i){return ia.createElement(i)}function r9(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.ceFn,s=n===void 0?i.tag==="svg"?PB:WB:n;if(typeof i=="string")return ia.createTextNode(i);var l=s(i.tag);Object.keys(i.attributes||[]).forEach(function(d){l.setAttribute(d,i.attributes[d])});var u=i.children||[];return u.forEach(function(d){l.appendChild(r9(d,{ceFn:s}))}),l}function GB(i){var r=" ".concat(i.outerHTML," ");return r="".concat(r,"Font Awesome fontawesome.com "),r}var q2={replace:function(r){var n=r[0];if(n.parentNode)if(r[1].forEach(function(l){n.parentNode.insertBefore(r9(l),n)}),n.getAttribute(fs)===null&&fr.keepOriginalSource){var s=ia.createComment(GB(n));n.parentNode.replaceChild(s,n)}else n.remove()},nest:function(r){var n=r[0],s=r[1];if(~B4(n).indexOf(fr.replacementClass))return q2.replace(r);var l=new RegExp("".concat(fr.cssPrefix,"-.*"));if(delete s[0].attributes.id,s[0].attributes.class){var u=s[0].attributes.class.split(" ").reduce(function(A,b){return b===fr.replacementClass||b.match(l)?A.toSvg.push(b):A.toNode.push(b),A},{toNode:[],toSvg:[]});s[0].attributes.class=u.toSvg.join(" "),u.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",u.toNode.join(" "))}var d=s.map(function(A){return cd(A)}).join(`
`);n.setAttribute(fs,""),n.innerHTML=d}};function t8(i){i()}function a9(i,r){var n=typeof r=="function"?r:$2;if(i.length===0)n();else{var s=t8;fr.mutateApproach===zT&&(s=Hi.requestAnimationFrame||t8),s(function(){var l=OB(),u=W4.begin("mutate");i.map(l),u(),n()})}}var G4=!1;function t9(){G4=!0}function Hh(){G4=!1}var vm=null;function n8(i){if(Gy&&fr.observeMutations){var r=i.treeCallback,n=r===void 0?$2:r,s=i.nodeCallback,l=s===void 0?$2:s,u=i.pseudoElementsCallback,d=u===void 0?$2:u,A=i.observeMutationsRoot,b=A===void 0?ia:A;vm=new Gy(function(p){if(!G4){var x=Ji();Jl(p).forEach(function(N){if(N.type==="childList"&&N.addedNodes.length>0&&!a8(N.addedNodes[0])&&(fr.searchPseudoElements&&d(N.target),n(N.target)),N.type==="attributes"&&N.target.parentNode&&fr.searchPseudoElements&&d([N.target],!0),N.type==="attributes"&&a8(N.target)&&~$T.indexOf(N.attributeName))if(N.attributeName==="class"&&FB(N.target)){var v=Zm(B4(N.target)),w=v.prefix,E=v.iconName;N.target.setAttribute(I4,w||x),E&&N.target.setAttribute(R4,E)}else ZB(N.target)&&l(N.target)})}}),Hn&&vm.observe(b,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function UB(){vm&&vm.disconnect()}function XB(i){var r=i.getAttribute("style"),n=[];return r&&(n=r.split(";").reduce(function(s,l){var u=l.split(":"),d=u[0],A=u.slice(1);return d&&A.length>0&&(s[d]=A.join(":").trim()),s},{})),n}function zB(i){var r=i.getAttribute("data-prefix"),n=i.getAttribute("data-icon"),s=i.innerText!==void 0?i.innerText.trim():"",l=Zm(B4(i));return l.prefix||(l.prefix=Ji()),r&&n&&(l.prefix=r,l.iconName=n),l.iconName&&l.prefix||(l.prefix&&s.length>0&&(l.iconName=bB(l.prefix,i.innerText)||O4(l.prefix,Uk(i.innerText))),!l.iconName&&fr.autoFetchSvg&&i.firstChild&&i.firstChild.nodeType===Node.TEXT_NODE&&(l.iconName=i.firstChild.data)),l}function LB(i){var r=Jl(i.attributes).reduce(function(n,s){return n.name!=="class"&&n.name!=="style"&&(n[s.name]=s.value),n},{});return r}function YB(){return{iconName:null,prefix:null,transform:nn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function i8(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=zB(i),s=n.iconName,l=n.prefix,u=n.rest,d=LB(i),A=Uh("parseNodeAttributes",{},i),b=r.styleParser?XB(i):[];return He({iconName:s,prefix:l,transform:nn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:u,styles:b,attributes:d}},A)}var HB=D0.styles;function n9(i){var r=fr.autoReplaceSvg==="nest"?i8(i,{styleParser:!1}):i8(i);return~r.extra.classes.indexOf(Fk)?Qi("generateLayersText",i,r):Qi("generateSvgReplacementMutation",i,r)}function JB(){return[].concat(V0(Ck),V0(_k))}function o8(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Hn)return Promise.resolve();var n=ia.documentElement.classList,s=function(N){return n.add("".concat(zy,"-").concat(N))},l=function(N){return n.remove("".concat(zy,"-").concat(N))},u=fr.autoFetchSvg?JB():dk.concat(Object.keys(HB));u.includes("fa")||u.push("fa");var d=[".".concat(Fk,":not([").concat(fs,"])")].concat(u.map(function(x){return".".concat(x,":not([").concat(fs,"])")})).join(", ");if(d.length===0)return Promise.resolve();var A=[];try{A=Jl(i.querySelectorAll(d))}catch{}if(A.length>0)s("pending"),l("complete");else return Promise.resolve();var b=W4.begin("onTree"),p=A.reduce(function(x,N){try{var v=n9(N);v&&x.push(v)}catch(w){Tk||w.name==="MissingIcon"&&console.error(w)}return x},[]);return new Promise(function(x,N){Promise.all(p).then(function(v){a9(v,function(){s("active"),s("complete"),l("pending"),typeof r=="function"&&r(),b(),x()})}).catch(function(v){b(),N(v)})})}function QB(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n9(i).then(function(n){n&&a9([n],r)})}function $B(i){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=(r||{}).icon?r:Xh(r||{}),l=n.mask;return l&&(l=(l||{}).icon?l:Xh(l||{})),i(s,He(He({},n),{},{mask:l}))}}var qB=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.transform,l=s===void 0?nn:s,u=n.symbol,d=u===void 0?!1:u,A=n.mask,b=A===void 0?null:A,p=n.maskId,x=p===void 0?null:p,N=n.classes,v=N===void 0?[]:N,w=n.attributes,E=w===void 0?{}:w,F=n.styles,V=F===void 0?{}:F;if(r){var G=r.prefix,Z=r.iconName,H=r.icon;return Om(He({type:"icon"},r),function(){return ms("beforeDOMElementCreation",{iconDefinition:r,params:n}),P4({icons:{main:zh(H),mask:b?zh(b.icon):{found:!1,width:null,height:null,icon:{}}},prefix:G,iconName:Z,transform:He(He({},nn),l),symbol:d,maskId:x,extra:{attributes:E,styles:V,classes:v}})})}},KB={mixout:function(){return{icon:$B(qB)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=o8,n.nodeCallback=QB,n}}},provides:function(r){r.i2svg=function(n){var s=n.node,l=s===void 0?ia:s,u=n.callback,d=u===void 0?function(){}:u;return o8(l,d)},r.generateSvgReplacementMutation=function(n,s){var l=s.iconName,u=s.prefix,d=s.transform,A=s.symbol,b=s.mask,p=s.maskId,x=s.extra;return new Promise(function(N,v){Promise.all([Lh(l,u),b.iconName?Lh(b.iconName,b.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(w){var E=Tm(w,2),F=E[0],V=E[1];N([n,P4({icons:{main:F,mask:V},prefix:u,iconName:l,transform:d,symbol:A,maskId:p,extra:x,watchable:!0})])}).catch(v)})},r.generateAbstractIcon=function(n){var s=n.children,l=n.attributes,u=n.main,d=n.transform,A=n.styles,b=Bm(A);b.length>0&&(l.style=b);var p;return F4(d)&&(p=Qi("generateAbstractTransformGrouping",{main:u,transform:d,containerWidth:u.width,iconWidth:u.width})),s.push(p||u.icon),{children:s,attributes:l}}}},eF={mixout:function(){return{layer:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.classes,u=l===void 0?[]:l;return Om({type:"layer"},function(){ms("beforeDOMElementCreation",{assembler:n,params:s});var d=[];return n(function(A){Array.isArray(A)?A.map(function(b){d=d.concat(b.abstract)}):d=d.concat(A.abstract)}),[{tag:"span",attributes:{class:["".concat(fr.cssPrefix,"-layers")].concat(V0(u)).join(" ")},children:d}]})}}}},rF={mixout:function(){return{counter:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.title;var l=s.classes,u=l===void 0?[]:l,d=s.attributes,A=d===void 0?{}:d,b=s.styles,p=b===void 0?{}:b;return Om({type:"counter",content:n},function(){return ms("beforeDOMElementCreation",{content:n,params:s}),IB({content:n.toString(),extra:{attributes:A,styles:p,classes:["".concat(fr.cssPrefix,"-layers-counter")].concat(V0(u))}})})}}}},aF={mixout:function(){return{text:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.transform,u=l===void 0?nn:l,d=s.classes,A=d===void 0?[]:d,b=s.attributes,p=b===void 0?{}:b,x=s.styles,N=x===void 0?{}:x;return Om({type:"text",content:n},function(){return ms("beforeDOMElementCreation",{content:n,params:s}),e8({content:n,transform:He(He({},nn),u),extra:{attributes:p,styles:N,classes:["".concat(fr.cssPrefix,"-layers-text")].concat(V0(A))}})})}}},provides:function(r){r.generateLayersText=function(n,s){var l=s.transform,u=s.extra,d=null,A=null;if(ck){var b=parseInt(getComputedStyle(n).fontSize,10),p=n.getBoundingClientRect();d=p.width/b,A=p.height/b}return Promise.resolve([n,e8({content:n.innerHTML,width:d,height:A,transform:l,extra:u,watchable:!0})])}}},i9=new RegExp('"',"ug"),s8=[1105920,1112319],l8=He(He(He(He({},{FontAwesome:{normal:"fas",400:"fas"}}),ZR),UT),YR),Jh=Object.keys(l8).reduce(function(i,r){return i[r.toLowerCase()]=l8[r],i},{}),tF=Object.keys(Jh).reduce(function(i,r){var n=Jh[r];return i[r]=n[900]||V0(Object.entries(n))[0][1],i},{});function nF(i){var r=i.replace(i9,"");return Uk(V0(r)[0]||"")}function iF(i){var r=i.getPropertyValue("font-feature-settings").includes("ss01"),n=i.getPropertyValue("content"),s=n.replace(i9,""),l=s.codePointAt(0),u=l>=s8[0]&&l<=s8[1],d=s.length===2?s[0]===s[1]:!1;return u||d||r}function oF(i,r){var n=i.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(r),l=isNaN(s)?"normal":s;return(Jh[n]||{})[l]||tF[n]}function c8(i,r){var n="".concat(XT).concat(r.replace(":","-"));return new Promise(function(s,l){if(i.getAttribute(n)!==null)return s();var u=Jl(i.children),d=u.filter(function(M){return M.getAttribute(Zh)===r})[0],A=Hi.getComputedStyle(i,r),b=A.getPropertyValue("font-family"),p=b.match(JT),x=A.getPropertyValue("font-weight"),N=A.getPropertyValue("content");if(d&&!p)return i.removeChild(d),s();if(p&&N!=="none"&&N!==""){var v=A.getPropertyValue("content"),w=oF(b,x),E=nF(v),F=p[0].startsWith("FontAwesome"),V=iF(A),G=O4(w,E),Z=G;if(F){var H=pB(E);H.iconName&&H.prefix&&(G=H.iconName,w=H.prefix)}if(G&&!V&&(!d||d.getAttribute(I4)!==w||d.getAttribute(R4)!==Z)){i.setAttribute(n,Z),d&&i.removeChild(d);var te=YB(),T=te.extra;T.attributes[Zh]=r,Lh(G,w).then(function(M){var q=P4(He(He({},te),{},{icons:{main:M,mask:qk()},prefix:w,iconName:Z,extra:T,watchable:!0})),$=ia.createElementNS("http://www.w3.org/2000/svg","svg");r==="::before"?i.insertBefore($,i.firstChild):i.appendChild($),$.outerHTML=q.map(function(Ae){return cd(Ae)}).join(`
`),i.removeAttribute(n),s()}).catch(l)}else s()}else s()})}function sF(i){return Promise.all([c8(i,"::before"),c8(i,"::after")])}function lF(i){return i.parentNode!==document.head&&!~LT.indexOf(i.tagName.toUpperCase())&&!i.getAttribute(Zh)&&(!i.parentNode||i.parentNode.tagName!=="svg")}var cF=function(r){return!!r&&Rk.some(function(n){return r.includes(n)})},uF=function(r){if(!r)return[];var n=new Set,s=r.split(/,(?![^()]*\))/).map(function(b){return b.trim()});s=s.flatMap(function(b){return b.includes("(")?b:b.split(",").map(function(p){return p.trim()})});var l=Q2(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;if(cF(d)){var A=Rk.reduce(function(b,p){return b.replace(p,"")},d);A!==""&&A!=="*"&&n.add(A)}}}catch(b){l.e(b)}finally{l.f()}return n};function u8(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Hn){var n;if(r)n=i;else if(fr.searchPseudoElementsFullScan)n=i.querySelectorAll("*");else{var s=new Set,l=Q2(document.styleSheets),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;try{var A=Q2(d.cssRules),b;try{for(A.s();!(b=A.n()).done;){var p=b.value,x=uF(p.selectorText),N=Q2(x),v;try{for(N.s();!(v=N.n()).done;){var w=v.value;s.add(w)}}catch(F){N.e(F)}finally{N.f()}}}catch(F){A.e(F)}finally{A.f()}}catch(F){fr.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(d.href," (").concat(F.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(F){l.e(F)}finally{l.f()}if(!s.size)return;var E=Array.from(s).join(", ");try{n=i.querySelectorAll(E)}catch{}}return new Promise(function(F,V){var G=Jl(n).filter(lF).map(sF),Z=W4.begin("searchPseudoElements");t9(),Promise.all(G).then(function(){Z(),Hh(),F()}).catch(function(){Z(),Hh(),V()})})}}var dF={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=u8,n}}},provides:function(r){r.pseudoElements2svg=function(n){var s=n.node,l=s===void 0?ia:s;fr.searchPseudoElements&&u8(l)}}},d8=!1,fF={mixout:function(){return{dom:{unwatch:function(){t9(),d8=!0}}}},hooks:function(){return{bootstrap:function(){n8(Uh("mutationObserverCallbacks",{}))},noAuto:function(){UB()},watch:function(n){var s=n.observeMutationsRoot;d8?Hh():n8(Uh("mutationObserverCallbacks",{observeMutationsRoot:s}))}}}},f8=function(r){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r.toLowerCase().split(" ").reduce(function(s,l){var u=l.toLowerCase().split("-"),d=u[0],A=u.slice(1).join("-");if(d&&A==="h")return s.flipX=!0,s;if(d&&A==="v")return s.flipY=!0,s;if(A=parseFloat(A),isNaN(A))return s;switch(d){case"grow":s.size=s.size+A;break;case"shrink":s.size=s.size-A;break;case"left":s.x=s.x-A;break;case"right":s.x=s.x+A;break;case"up":s.y=s.y-A;break;case"down":s.y=s.y+A;break;case"rotate":s.rotate=s.rotate+A;break}return s},n)},mF={mixout:function(){return{parse:{transform:function(n){return f8(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,s){var l=s.getAttribute("data-fa-transform");return l&&(n.transform=f8(l)),n}}},provides:function(r){r.generateAbstractTransformGrouping=function(n){var s=n.main,l=n.transform,u=n.containerWidth,d=n.iconWidth,A={transform:"translate(".concat(u/2," 256)")},b="translate(".concat(l.x*32,", ").concat(l.y*32,") "),p="scale(".concat(l.size/16*(l.flipX?-1:1),", ").concat(l.size/16*(l.flipY?-1:1),") "),x="rotate(".concat(l.rotate," 0 0)"),N={transform:"".concat(b," ").concat(p," ").concat(x)},v={transform:"translate(".concat(d/2*-1," -256)")},w={outer:A,inner:N,path:v};return{tag:"g",attributes:He({},w.outer),children:[{tag:"g",attributes:He({},w.inner),children:[{tag:s.icon.tag,children:s.icon.children,attributes:He(He({},s.icon.attributes),w.path)}]}]}}}},Xp={x:0,y:0,width:"100%",height:"100%"};function m8(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i.attributes&&(i.attributes.fill||r)&&(i.attributes.fill="black"),i}function AF(i){return i.tag==="g"?i.children:[i]}var bF={hooks:function(){return{parseNodeAttributes:function(n,s){var l=s.getAttribute("data-fa-mask"),u=l?Zm(l.split(" ").map(function(d){return d.trim()})):qk();return u.prefix||(u.prefix=Ji()),n.mask=u,n.maskId=s.getAttribute("data-fa-mask-id"),n}}},provides:function(r){r.generateAbstractMask=function(n){var s=n.children,l=n.attributes,u=n.main,d=n.mask,A=n.maskId,b=n.transform,p=u.width,x=u.icon,N=d.width,v=d.icon,w=oB({transform:b,containerWidth:N,iconWidth:p}),E={tag:"rect",attributes:He(He({},Xp),{},{fill:"white"})},F=x.children?{children:x.children.map(m8)}:{},V={tag:"g",attributes:He({},w.inner),children:[m8(He({tag:x.tag,attributes:He(He({},x.attributes),w.path)},F))]},G={tag:"g",attributes:He({},w.outer),children:[V]},Z="mask-".concat(A||Yy()),H="clip-".concat(A||Yy()),te={tag:"mask",attributes:He(He({},Xp),{},{id:Z,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[E,G]},T={tag:"defs",children:[{tag:"clipPath",attributes:{id:H},children:AF(v)},te]};return s.push(T,{tag:"rect",attributes:He({fill:"currentColor","clip-path":"url(#".concat(H,")"),mask:"url(#".concat(Z,")")},Xp)}),{children:s,attributes:l}}}},pF={provides:function(r){var n=!1;Hi.matchMedia&&(n=Hi.matchMedia("(prefers-reduced-motion: reduce)").matches),r.missingIconAbstract=function(){var s=[],l={fill:"currentColor"},u={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};s.push({tag:"path",attributes:He(He({},l),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var d=He(He({},u),{},{attributeName:"opacity"}),A={tag:"circle",attributes:He(He({},l),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||A.children.push({tag:"animate",attributes:He(He({},u),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:He(He({},d),{},{values:"1;0;1;1;0;1;"})}),s.push(A),s.push({tag:"path",attributes:He(He({},l),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:He(He({},d),{},{values:"1;0;0;0;0;1;"})}]}),n||s.push({tag:"path",attributes:He(He({},l),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:He(He({},d),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:s}}}},hF={hooks:function(){return{parseNodeAttributes:function(n,s){var l=s.getAttribute("data-fa-symbol"),u=l===null?!1:l===""?!0:l;return n.symbol=u,n}}}},gF=[cB,KB,eF,rF,aF,dF,fF,mF,bF,pF,hF];kB(gF,{mixoutsTo:Yt});Yt.noAuto;var $u=Yt.config,vF=Yt.library;Yt.dom;var o9=Yt.parse;Yt.findIconDefinition;Yt.toHtml;var NF=Yt.icon;Yt.layer;Yt.text;Yt.counter;var zp={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function i(C){if(C==null)return null;if(typeof C=="function")return C.$$typeof===J?null:C.displayName||C.name||null;if(typeof C=="string")return C;switch(C){case V:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case M:return"Suspense";case q:return"SuspenseList";case L:return"Activity"}if(typeof C=="object")switch(typeof C.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),C.$$typeof){case F:return"Portal";case te:return C.displayName||"Context";case H:return(C._context.displayName||"Context")+".Consumer";case T:var I=C.render;return C=C.displayName,C||(C=I.displayName||I.name||"",C=C!==""?"ForwardRef("+C+")":"ForwardRef"),C;case $:return I=C.displayName||null,I!==null?I:i(C.type)||"Memo";case Ae:I=C._payload,C=C._init;try{return i(C(I))}catch{}}return null}function r(C){return""+C}function n(C){try{r(C);var I=!1}catch{I=!0}if(I){I=console;var S=I.error,P=typeof Symbol=="function"&&Symbol.toStringTag&&C[Symbol.toStringTag]||C.constructor.name||"Object";return S.call(I,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",P),r(C)}}function s(C){if(C===V)return"<>";if(typeof C=="object"&&C!==null&&C.$$typeof===Ae)return"<...>";try{var I=i(C);return I?"<"+I+">":"<...>"}catch{return"<...>"}}function l(){var C=j.A;return C===null?null:C.getOwner()}function u(){return Error("react-stack-top-frame")}function d(C){if(O.call(C,"key")){var I=Object.getOwnPropertyDescriptor(C,"key").get;if(I&&I.isReactWarning)return!1}return C.key!==void 0}function A(C,I){function S(){z||(z=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",I))}S.isReactWarning=!0,Object.defineProperty(C,"key",{get:S,configurable:!0})}function b(){var C=i(this.type);return ee[C]||(ee[C]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),C=this.props.ref,C!==void 0?C:null}function p(C,I,S,P,U,K){var re=S.ref;return C={$$typeof:E,type:C,key:I,props:S,_owner:P},(re!==void 0?re:null)!==null?Object.defineProperty(C,"ref",{enumerable:!1,get:b}):Object.defineProperty(C,"ref",{enumerable:!1,value:null}),C._store={},Object.defineProperty(C._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(C,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(C,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:U}),Object.defineProperty(C,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:K}),Object.freeze&&(Object.freeze(C.props),Object.freeze(C)),C}function x(C,I,S,P,U,K){var re=I.children;if(re!==void 0)if(P)if(Y(re)){for(P=0;P<re.length;P++)N(re[P]);Object.freeze&&Object.freeze(re)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else N(re);if(O.call(I,"key")){re=i(C);var se=Object.keys(I).filter(function(ye){return ye!=="key"});P=0<se.length?"{key: someKey, "+se.join(": ..., ")+": ...}":"{key: someKey}",X[re+P]||(se=0<se.length?"{"+se.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,P,re,se,re),X[re+P]=!0)}if(re=null,S!==void 0&&(n(S),re=""+S),d(I)&&(n(I.key),re=""+I.key),"key"in I){S={};for(var Ee in I)Ee!=="key"&&(S[Ee]=I[Ee])}else S=I;return re&&A(S,typeof C=="function"?C.displayName||C.name||"Unknown":C),p(C,re,S,l(),U,K)}function N(C){v(C)?C._store&&(C._store.validated=1):typeof C=="object"&&C!==null&&C.$$typeof===Ae&&(C._payload.status==="fulfilled"?v(C._payload.value)&&C._payload.value._store&&(C._payload.value._store.validated=1):C._store&&(C._store.validated=1))}function v(C){return typeof C=="object"&&C!==null&&C.$$typeof===E}var w=h,E=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),te=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),J=Symbol.for("react.client.reference"),j=w.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.prototype.hasOwnProperty,Y=Array.isArray,ie=console.createTask?console.createTask:function(){return null};w={react_stack_bottom_frame:function(C){return C()}};var z,ee={},D=w.react_stack_bottom_frame.bind(w,u)(),R=ie(s(u)),X={};zp.Fragment=V,zp.jsx=function(C,I,S){var P=1e4>j.recentlyCreatedOwnerStacks++;return x(C,I,S,!1,P?Error("react-stack-top-frame"):D,P?ie(s(C)):R)},zp.jsxs=function(C,I,S){var P=1e4>j.recentlyCreatedOwnerStacks++;return x(C,I,S,!0,P?Error("react-stack-top-frame"):D,P?ie(s(C)):R)}})();function xF(i){return i=i-0,i===i}function s9(i){return xF(i)?i:(i=i.replace(/[_-]+(.)?/g,(r,n)=>n?n.toUpperCase():""),i.charAt(0).toLowerCase()+i.slice(1))}function yF(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Vl=new Map,wF=1e3;function EF(i){if(Vl.has(i))return Vl.get(i);const r={};let n=0;const s=i.length;for(;n<s;){const l=i.indexOf(";",n),u=l===-1?s:l,d=i.slice(n,u).trim();if(d){const A=d.indexOf(":");if(A>0){const b=d.slice(0,A).trim(),p=d.slice(A+1).trim();if(b&&p){const x=s9(b);r[x.startsWith("webkit")?yF(x):x]=p}}}n=u+1}if(Vl.size===wF){const l=Vl.keys().next().value;l&&Vl.delete(l)}return Vl.set(i,r),r}function l9(i,r,n={}){if(typeof r=="string")return r;const s=(r.children||[]).map(x=>l9(i,x)),l=r.attributes||{},u={};for(const[x,N]of Object.entries(l))switch(!0){case x==="class":{u.className=N;break}case x==="style":{u.style=EF(String(N));break}case x.startsWith("aria-"):case x.startsWith("data-"):{u[x.toLowerCase()]=N;break}default:u[s9(x)]=N}const{style:d,role:A,"aria-label":b,...p}=n;return d&&(u.style=u.style?{...u.style,...d}:d),A&&(u.role=A),b&&(u["aria-label"]=b,u["aria-hidden"]="false"),i(r.tag,{...p,...u},...s)}var kF=l9.bind(null,Wl.createElement),A8=(i,r)=>{const n=h.useId();return i||(r?n:void 0)},DF=class{constructor(r="react-fontawesome"){this.enabled=!1;let n=!1;try{n=typeof process<"u"&&!0}catch{}this.scope=r,this.enabled=n}log(...r){this.enabled&&console.log(`[${this.scope}]`,...r)}warn(...r){this.enabled&&console.warn(`[${this.scope}]`,...r)}error(...r){this.enabled&&console.error(`[${this.scope}]`,...r)}},VF="searchPseudoElementsFullScan"in $u?"7.0.0":"6.0.0",jF=Number.parseInt(VF)>=7,Pu="fa",Tn={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},CF={left:"fa-pull-left",right:"fa-pull-right"},_F={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},SF={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},Bn={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function MF(i){const r=$u.cssPrefix||$u.familyPrefix||Pu;return r===Pu?i:i.replace(new RegExp(String.raw`(?<=^|\s)${Pu}-`,"g"),`${r}-`)}function IF(i){const{beat:r,fade:n,beatFade:s,bounce:l,shake:u,spin:d,spinPulse:A,spinReverse:b,pulse:p,fixedWidth:x,inverse:N,border:v,flip:w,size:E,rotation:F,pull:V,swapOpacity:G,rotateBy:Z,widthAuto:H,className:te}=i,T=[];return te&&T.push(...te.split(" ")),r&&T.push(Tn.beat),n&&T.push(Tn.fade),s&&T.push(Tn.beatFade),l&&T.push(Tn.bounce),u&&T.push(Tn.shake),d&&T.push(Tn.spin),b&&T.push(Tn.spinReverse),A&&T.push(Tn.spinPulse),p&&T.push(Tn.pulse),x&&T.push(Bn.fixedWidth),N&&T.push(Bn.inverse),v&&T.push(Bn.border),w===!0&&T.push(Bn.flip),(w==="horizontal"||w==="both")&&T.push(Bn.flipHorizontal),(w==="vertical"||w==="both")&&T.push(Bn.flipVertical),E!=null&&T.push(SF[E]),F!=null&&F!==0&&T.push(_F[F]),V!=null&&T.push(CF[V]),G&&T.push(Bn.swapOpacity),jF?(Z&&T.push(Bn.rotateBy),H&&T.push(Bn.widthAuto),($u.cssPrefix||$u.familyPrefix||Pu)===Pu?T:T.map(MF)):T}var RF=i=>typeof i=="object"&&"icon"in i&&!!i.icon;function b8(i){if(i)return RF(i)?i:o9.icon(i)}function TF(i){return Object.keys(i)}var p8=new DF("FontAwesomeIcon"),c9={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},BF=new Set(Object.keys(c9)),Sl=Wl.forwardRef((i,r)=>{const n={...c9,...i},{icon:s,mask:l,symbol:u,title:d,titleId:A,maskId:b,transform:p}=n,x=A8(b,!!l),N=A8(A,!!d),v=b8(s);if(!v)return p8.error("Icon lookup is undefined",s),null;const w=IF(n),E=typeof p=="string"?o9.transform(p):p,F=b8(l),V=NF(v,{...w.length>0&&{classes:w},...E&&{transform:E},...F&&{mask:F},symbol:u,title:d,titleId:N,maskId:x});if(!V)return p8.error("Could not find icon",v),null;const{abstract:G}=V,Z={ref:r};for(const H of TF(n))BF.has(H)||(Z[H]=n[H]);return kF(G[0],Z)});Sl.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var u9={prefix:"fas",iconName:"hand-back-fist",icon:[384,512,["hand-rock"],"f255","M7.4 253.6C2.6 245.9 0 237.1 0 228l0-36c0-26.5 21.5-48 48-48l16 0 0-80c0-26.5 21.5-48 48-48 17.3 0 32.4 9.1 40.9 22.8 4.3-22.1 23.8-38.8 47.1-38.8 23.4 0 42.9 16.8 47.1 38.9 7.3-4.4 15.8-6.9 24.9-6.9 22.1 0 40.8 15 46.3 35.4 5.5-2.2 11.4-3.4 17.7-3.4 26.5 0 48 21.5 48 48l0 96.9c0 9.9-2.3 19.7-6.8 28.6l-39.6 79.1c-10.8 21.7-33 35.4-57.2 35.4L96 352c-16.5 0-31.8-8.4-40.6-22.4l-48-76zM32 480l0-48c0-17.7 14.3-32 32-32l256 0c17.7 0 32 14.3 32 32l0 48c0 17.7-14.3 32-32 32L64 512c-17.7 0-32-14.3-32-32z"]},d9={prefix:"fas",iconName:"paper-plane",icon:[576,512,[61913],"f1d8","M536.4-26.3c9.8-3.5 20.6-1 28 6.3s9.8 18.2 6.3 28l-178 496.9c-5 13.9-18.1 23.1-32.8 23.1-14.2 0-27-8.6-32.3-21.7l-64.2-158c-4.5-11-2.5-23.6 5.2-32.6l94.5-112.4c5.1-6.1 4.7-15-.9-20.6s-14.6-6-20.6-.9L229.2 276.1c-9.1 7.6-21.6 9.6-32.6 5.2L38.1 216.8c-13.1-5.3-21.7-18.1-21.7-32.3 0-14.7 9.2-27.8 23.1-32.8l496.9-178z"]},f9={prefix:"fas",iconName:"jet-fighter",icon:[576,512,["fighter-jet"],"f0fb","M496.2 206.8c-10.7-4.5-22.2-6.8-33.8-6.8L362 200 248 48 296 48c13.3 0 24-10.7 24-24S309.3 0 296 0L152 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l8 0 0 152-54.4 0-52.8-66c-3-3.8-7.6-6-12.5-6L16 128c-8.8 0-16 7.2-16 16l0 88 40 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-40 0 0 88c0 8.8 7.2 16 16 16l24.3 0c4.9 0 9.5-2.2 12.5-6l52.8-66 54.4 0 0 152-8 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 114-152 100.4 0c11.6 0 23.1-2.3 33.8-6.8l65-27.1c8.9-3.7 14.8-12.5 14.8-22.2s-5.8-18.4-14.8-22.2l-65-27.1z"]},m9={prefix:"fas",iconName:"face-meh",icon:[512,512,[128528,"meh"],"f11a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM176 176a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm128 32a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM176 320l160 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-160 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},A9={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zm0-192a32 32 0 1 0 0 64 32 32 0 1 0 0-64zm0-192c-18.2 0-32.7 15.5-31.4 33.7l7.4 104c.9 12.6 11.4 22.3 23.9 22.3 12.6 0 23-9.7 23.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z"]},Qh={prefix:"fas",iconName:"play",icon:[448,512,[9654],"f04b","M91.2 36.9c-12.4-6.8-27.4-6.5-39.6 .7S32 57.9 32 72l0 368c0 14.1 7.5 27.2 19.6 34.4s27.2 7.5 39.6 .7l336-184c12.8-7 20.8-20.5 20.8-35.1s-8-28.1-20.8-35.1l-336-184z"]},b9={prefix:"fas",iconName:"gem",icon:[512,512,[128142],"f3a5","M116.7 33.8c4.5-6.1 11.7-9.8 19.3-9.8l240 0c7.6 0 14.8 3.6 19.3 9.8l112 152c6.8 9.2 6.1 21.9-1.5 30.4l-232 256c-4.5 5-11 7.9-17.8 7.9s-13.2-2.9-17.8-7.9l-232-256c-7.7-8.5-8.3-21.2-1.5-30.4l112-152zm38.5 39.8c-3.3 2.5-4.2 7-2.1 10.5L210.5 179.8 63.3 192c-4.1 .3-7.3 3.8-7.3 8s3.2 7.6 7.3 8l192 16c.4 0 .9 0 1.3 0l192-16c4.1-.3 7.3-3.8 7.3-8s-3.2-7.6-7.3-8l-147.2-12.3 57.4-95.6c2.1-3.5 1.2-8.1-2.1-10.5s-7.9-2-10.7 1L256 172.2 165.9 74.6c-2.8-3-7.4-3.4-10.7-1z"]},p9={prefix:"fas",iconName:"table-cells",icon:[448,512,["th"],"f00a","M384 96l0 64-64 0 0-64 64 0zm0 128l0 64-64 0 0-64 64 0zm0 128l0 64-64 0 0-64 64 0zM256 288l-64 0 0-64 64 0 0 64zm-64 64l64 0 0 64-64 0 0-64zm-64-64l-64 0 0-64 64 0 0 64zM64 352l64 0 0 64-64 0 0-64zm0-192l0-64 64 0 0 64-64 0zm128 0l0-64 64 0 0 64-64 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},h9={prefix:"fas",iconName:"face-frown",icon:[512,512,[9785,"frown"],"f119","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zm90.6-113.9c-20.4-28-53.4-46.1-90.6-46.1s-70.2 18.1-90.6 46.1c-7.8 10.7-22.8 13.1-33.5 5.3s-13.1-22.8-5.3-33.5C155.7 330 202.8 304 256 304s100.3 26 129.4 65.9c7.8 10.7 5.4 25.7-5.3 33.5s-25.7 5.4-33.5-5.3zM144 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},g9={prefix:"fas",iconName:"film",icon:[448,512,[127902,62368,"film-alt","film-simple"],"f008","M0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM48 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm304-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM48 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm304-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM48 112l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16L64 96c-8.8 0-16 7.2-16 16zM352 96c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0z"]},v9={prefix:"fas",iconName:"ghost",icon:[384,512,[128123],"f6e2","M40.1 467.1l-11.2 9C25.7 478.6 21.8 480 17.8 480 8 480 0 472 0 462.2L0 192C0 86 86 0 192 0S384 86 384 192l0 270.2c0 9.8-8 17.8-17.8 17.8-4 0-7.9-1.4-11.1-3.9l-11.2-9c-13.4-10.7-32.8-9-44.1 3.9L269.3 506c-3.3 3.8-8.2 6-13.3 6s-9.9-2.2-13.3-6l-26.6-30.5c-12.7-14.6-35.4-14.6-48.2 0L141.3 506c-3.3 3.8-8.2 6-13.3 6s-9.9-2.2-13.3-6L84.2 471c-11.3-12.9-30.7-14.6-44.1-3.9zM160 192a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},FF={prefix:"fas",iconName:"volume-high",icon:[640,512,[128266,"volume-up"],"f028","M533.6 32.5c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C557.5 113.8 592 180.8 592 256s-34.5 142.2-88.7 186.3c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5C598.5 426.7 640 346.2 640 256S598.5 85.2 533.6 32.5zM473.1 107c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C475.3 170.7 496 210.9 496 256s-20.7 85.3-53.2 111.8c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5c43.2-35.2 70.9-88.9 70.9-149s-27.7-113.8-70.9-149zm-60.5 74.5c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C393.1 227.6 400 241 400 256s-6.9 28.4-17.7 37.3c-10.3 8.4-11.8 23.5-3.5 33.8s23.5 11.8 33.8 3.5C434.1 312.9 448 286.1 448 256s-13.9-56.9-35.4-74.5zM80 352l48 0 134.1 119.2c6.4 5.7 14.6 8.8 23.1 8.8 19.2 0 34.8-15.6 34.8-34.8l0-378.4c0-19.2-15.6-34.8-34.8-34.8-8.5 0-16.7 3.1-23.1 8.8L128 160 80 160c-26.5 0-48 21.5-48 48l0 96c0 26.5 21.5 48 48 48z"]},U4={prefix:"fas",iconName:"music",icon:[512,512,[127925],"f001","M468 7c7.6 6.1 12 15.3 12 25l0 304c0 44.2-43 80-96 80s-96-35.8-96-80 43-80 96-80c11.2 0 22 1.6 32 4.6l0-116.7-224 49.8 0 206.3c0 44.2-43 80-96 80s-96-35.8-96-80 43-80 96-80c11.2 0 22 1.6 32 4.6L128 96c0-15 10.4-28 25.1-31.2l288-64c9.5-2.1 19.4 .2 27 6.3z"]},N9={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M338.8-9.9c11.9 8.6 16.3 24.2 10.9 37.8L271.3 224 416 224c13.5 0 25.5 8.4 30.1 21.1s.7 26.9-9.6 35.5l-288 240c-11.3 9.4-27.4 9.9-39.3 1.3s-16.3-24.2-10.9-37.8L176.7 288 32 288c-13.5 0-25.5-8.4-30.1-21.1s-.7-26.9 9.6-35.5l288-240c11.3-9.4 27.4-9.9 39.3-1.3z"]},$h={prefix:"fas",iconName:"pause",icon:[384,512,[9208],"f04c","M48 32C21.5 32 0 53.5 0 80L0 432c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48L48 32zm224 0c-26.5 0-48 21.5-48 48l0 352c0 26.5 21.5 48 48 48l64 0c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48l-64 0z"]},x9={prefix:"fas",iconName:"keyboard",icon:[576,512,[9e3],"f11c","M64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 64zm16 64l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM64 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM176 128l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zM160 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm16 80l224 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-224 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80-176c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm16 80l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80-80c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm16 80l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80-80c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm16 80l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z"]};vF.add(U4,N9,b9,p9,x9,g9,d9,h9,u9,f9,m9,v9,A9,Qh,$h,FF);const ZF={music:U4,bolt:N9,diamond:b9,"th-large":p9,"keyboard-o":x9,film:g9,"snapchat-ghost":v9,"frown-o":h9,"hand-rock-o":u9,"fighter-jet":f9,"meh-o":m9,"paper-plane":d9,"exclamation-circle":A9},Lp=i=>ZF[i]||U4,OF=()=>{var Xe;const[i,r]=h.useState([]),[n,s]=h.useState(null),[l,u]=h.useState(!0),[d,A]=h.useState(null),[b,p]=h.useState(""),[x,N]=h.useState(!1),[v,w]=h.useState(null),[E,F]=h.useState(!1),[V,G]=h.useState(null),[Z,H]=h.useState([]),[te,T]=h.useState(!1),[M,q]=h.useState(null),[$,Ae]=h.useState(!1),[L,J]=h.useState(!1),[j,O]=h.useState(new Set),[Y,ie]=h.useState(null),z=h.useRef(null),ee=h.useCallback(()=>{z.current&&(z.current.pause(),z.current.currentTime=0,z.current=null),G(null)},[]),D=h.useCallback(ae=>{const fe=kl(ae);if(V===ae){ee();return}ee();const be=new Audio(`/sounds/${fe.filename}.wav`);z.current=be,G(ae),be.play().catch(Oe=>{console.error("Error playing sound:",Oe),G(null)}),be.onended=()=>{G(null),z.current=null}},[V,ee]);h.useEffect(()=>()=>{z.current&&(z.current.pause(),z.current=null)},[]);const[R,X]=h.useState({first_name:"",last_name:"",display_name:"",relationship_type:"",instagram_handle:"",facebook_handle:"",twitter_handle:"",linkedin_handle:"",notes:"",notification_sound:"default",email:"",phone:""}),{user:C,signOut:I}=Xa(),S=ua();h.useEffect(()=>{C!=null&&C.id?P():u(!1)},[C==null?void 0:C.id]);const P=async()=>{try{u(!0),A(null);const ae=await E0.getContacts(b||void 0,1,1e3);r(ae.contacts),U(ae.contacts)}catch(ae){console.error("Error loading contacts:",ae),A(ae instanceof Error?ae.message:"Failed to load contacts")}finally{u(!1)}},U=async ae=>{try{const{data:{user:fe}}=await Ge.auth.getUser();if(!fe)return;const{data:be,error:Oe}=await Ge.from("friendships").select("friend_id").eq("user_id",fe.id);if(Oe){console.error("Error loading friendships:",Oe);return}const Fe=new Set((be||[]).map($e=>$e.friend_id));O(Fe)}catch(fe){console.error("Error loading friend IDs:",fe)}},K=async(ae,fe)=>{var be;if(ae.stopPropagation(),!!fe.linked_profile_id){ie(fe.id);try{const Oe=await Ct.createDM(fe.linked_profile_id);Oe.success&&((be=Oe.data)!=null&&be.conversation)?S(`/admin?tab=chat&conversation=${Oe.data.conversation.id}`):alert(Oe.error||"Failed to create conversation")}catch(Oe){console.error("Error creating DM:",Oe),alert("Failed to start conversation")}finally{ie(null)}}};h.useEffect(()=>{const ae=setTimeout(()=>{C!=null&&C.id&&P()},300);return()=>clearTimeout(ae)},[b]);const re=async ae=>{var fe;s(ae),H([]),q(null),T(!0);try{const be=await ea.getContactImages(ae.id);be.success&&be.data&&H(be.data.images||[])}catch(be){console.error("Failed to load contact images:",be)}finally{T(!1)}if((fe=ae.linked_profile)!=null&&fe.id){Ae(!0);try{const be=await Xo.checkFriendship(ae.linked_profile.id);be.success&&be.data&&q(be.data)}catch(be){console.error("Failed to check friendship status:",be)}finally{Ae(!1)}}},se=()=>{w(null),X({first_name:"",last_name:"",display_name:"",relationship_type:"",instagram_handle:"",facebook_handle:"",twitter_handle:"",linkedin_handle:"",notes:"",notification_sound:"default",email:"",phone:""}),N(!0)},Ee=ae=>{var Oe,Fe,$e,me;w(ae);const fe=((Fe=(Oe=ae.email_addresses)==null?void 0:Oe[0])==null?void 0:Fe.email)||"",be=((me=($e=ae.phone_numbers)==null?void 0:$e[0])==null?void 0:me.number)||"";X({first_name:ae.first_name||"",last_name:ae.last_name||"",display_name:ae.display_name||"",relationship_type:ae.relationship_type||"",instagram_handle:ae.instagram_handle||"",facebook_handle:ae.facebook_handle||"",twitter_handle:ae.twitter_handle||"",linkedin_handle:ae.linkedin_handle||"",notes:ae.notes||"",notification_sound:ae.notification_sound||"default",email:fe,phone:be}),N(!0)},ye=async ae=>{var Oe,Fe,$e,me,ze,xe,Pe,Ze,er,xr;ae.preventDefault();const fe={};(Oe=R.first_name)!=null&&Oe.trim()&&(fe.first_name=R.first_name.trim()),(Fe=R.last_name)!=null&&Fe.trim()&&(fe.last_name=R.last_name.trim());const be=(($e=R.display_name)==null?void 0:$e.trim())||`${R.first_name||""} ${R.last_name||""}`.trim();if(be&&(fe.display_name=be),R.relationship_type&&(fe.relationship_type=R.relationship_type),(me=R.instagram_handle)!=null&&me.trim()&&(fe.instagram_handle=R.instagram_handle.trim().replace("@","")),(ze=R.facebook_handle)!=null&&ze.trim()&&(fe.facebook_handle=R.facebook_handle.trim()),(xe=R.twitter_handle)!=null&&xe.trim()&&(fe.twitter_handle=R.twitter_handle.trim().replace("@","")),(Pe=R.linkedin_handle)!=null&&Pe.trim()&&(fe.linkedin_handle=R.linkedin_handle.trim()),(Ze=R.notes)!=null&&Ze.trim()&&(fe.notes=R.notes.trim()),(er=R.email)!=null&&er.trim()&&(fe.email_addresses=[{type:"personal",email:R.email.trim()}]),(xr=R.phone)!=null&&xr.trim()&&(fe.phone_numbers=[{type:"mobile",number:R.phone.trim()}]),fe.notification_sound=R.notification_sound==="default"?null:R.notification_sound,console.log("Saving contact with input:",JSON.stringify(fe)),console.log("notification_sound value:",fe.notification_sound),!fe.display_name&&!fe.first_name&&!fe.last_name){alert("Please enter a name for the contact");return}try{F(!0);let ur;v?(console.log("Updating contact ID:",v.id),ur=await E0.updateContact(v.id,fe)):(console.log("Creating new contact"),ur=await E0.createContact(fe)),console.log("API result:",ur),console.log("Result notification_sound:",ur==null?void 0:ur.notification_sound),ur?(ee(),N(!1),await P(),v&&(n==null?void 0:n.id)===v.id&&s(ur)):alert("Failed to save contact - no result returned")}catch(ur){console.error("Error saving contact:",ur),alert("Failed to save contact: "+(ur instanceof Error?ur.message:"Unknown error"))}finally{F(!1)}},W=async ae=>{if(confirm(`Are you sure you want to delete ${ae.display_name||"this contact"}?`))try{await E0.deleteContact(ae.id)?(await P(),(n==null?void 0:n.id)===ae.id&&s(null)):alert("Failed to delete contact")}catch(fe){console.error("Error deleting contact:",fe),alert("Failed to delete contact")}},he=async()=>{var ae;if((ae=n==null?void 0:n.linked_profile)!=null&&ae.id){J(!0);try{const fe=await Xo.sendFriendRequest(n.linked_profile.id);if(fe.success){const be=await Xo.checkFriendship(n.linked_profile.id);be.success&&be.data&&q(be.data)}else alert(fe.error||"Failed to send friend request")}catch(fe){console.error("Error sending friend request:",fe),alert("Failed to send friend request")}finally{J(!1)}}},oe=async()=>{var ae;if((ae=M==null?void 0:M.pendingRequest)!=null&&ae.id){J(!0);try{const fe=await Xo.acceptFriendRequest(M.pendingRequest.id);fe.success?q({isFriend:!0,pendingRequest:null}):alert(fe.error||"Failed to accept friend request")}catch(fe){console.error("Error accepting friend request:",fe),alert("Failed to accept friend request")}finally{J(!1)}}},ke=async()=>{var ae;if((ae=M==null?void 0:M.pendingRequest)!=null&&ae.id){J(!0);try{const fe=await Xo.declineFriendRequest(M.pendingRequest.id);fe.success?q({isFriend:!1,pendingRequest:null}):alert(fe.error||"Failed to decline friend request")}catch(fe){console.error("Error declining friend request:",fe),alert("Failed to decline friend request")}finally{J(!1)}}},Ne=async()=>{var ae;if((ae=M==null?void 0:M.pendingRequest)!=null&&ae.id){J(!0);try{const fe=await Xo.cancelFriendRequest(M.pendingRequest.id);fe.success?q({isFriend:!1,pendingRequest:null}):alert(fe.error||"Failed to cancel friend request")}catch(fe){console.error("Error cancelling friend request:",fe),alert("Failed to cancel friend request")}finally{J(!1)}}},je=async()=>{var ae;if((ae=n==null?void 0:n.linked_profile)!=null&&ae.id&&confirm(`Are you sure you want to remove ${n.display_name||"this contact"} as a friend?`)){J(!0);try{const fe=await Xo.unfriend(n.linked_profile.id);fe.success?q({isFriend:!1,pendingRequest:null}):alert(fe.error||"Failed to remove friend")}catch(fe){console.error("Error removing friend:",fe),alert("Failed to remove friend")}finally{J(!1)}}},Be=ae=>{if(!ae)return"bg-gray-100 text-gray-800";const fe=rI[ae];return fe==="#8B5CF6"?"bg-purple-100 text-purple-800":fe==="#10B981"?"bg-green-100 text-green-800":fe==="#3B82F6"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"},De=ae=>{const fe=ae.display_name||`${ae.first_name||""} ${ae.last_name||""}`.trim();return fe?fe.split(" ").map(be=>be[0]).join("").toUpperCase().slice(0,2):"?"};return l?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:504,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:503,columnNumber:7},void 0):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Contacts"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:512,columnNumber:9},void 0),t.jsxDEV("button",{onClick:se,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Add Contact"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:513,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:511,columnNumber:7},void 0),d&&t.jsxDEV("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:d},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:522,columnNumber:9},void 0),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("input",{type:"text",placeholder:"Search contacts...",value:b,onChange:ae=>p(ae.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:529,columnNumber:9},void 0),t.jsxDEV("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:542,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:536,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:528,columnNumber:7},void 0),t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxDEV("div",{className:"bg-white rounded-lg shadow",children:[t.jsxDEV("div",{className:"p-6 border-b",children:t.jsxDEV("h3",{className:"text-lg font-semibold",children:["Your Contacts (",i.length,")"]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:555,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:554,columnNumber:11},void 0),t.jsxDEV("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:i.length===0?t.jsxDEV("div",{className:"p-6 text-center text-gray-500",children:b?"No contacts match your search":"No contacts found. Add your first contact!"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:559,columnNumber:15},void 0):i.map(ae=>t.jsxDEV("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${(n==null?void 0:n.id)===ae.id?"bg-primary-light border-l-4 border-primary":""}`,onClick:()=>re(ae),children:t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:ae.avatar_url?t.jsxDEV("img",{src:ae.avatar_url,alt:"",className:"w-full h-full rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:575,columnNumber:25},void 0):t.jsxDEV("span",{className:"text-blue-600 font-medium text-sm",children:De(ae)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:581,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:573,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("h4",{className:"font-semibold text-gray-900 truncate",children:ae.display_name||`${ae.first_name||""} ${ae.last_name||""}`.trim()||"Unnamed"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:589,columnNumber:25},void 0),ae.relationship_type&&t.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ml-2 ${Be(ae.relationship_type)}`,children:ae.relationship_type},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:593,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:588,columnNumber:23},void 0),t.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[ae.linked_profile&&ae.linked_profile_id&&j.has(ae.linked_profile_id)?t.jsxDEV("span",{className:"inline-flex items-center gap-1 text-emerald-600",children:[t.jsxDEV("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:602,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:601,columnNumber:29},void 0),"Friend"]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:600,columnNumber:27},void 0):ae.linked_profile?t.jsxDEV("span",{className:"inline-flex items-center gap-1 text-green-600",children:[t.jsxDEV("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:609,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:608,columnNumber:29},void 0),"On Kizu"]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:607,columnNumber:27},void 0):null,ae.notification_sound&&ae.notification_sound!=="default"&&t.jsxDEV("span",{className:"text-gray-400 flex items-center gap-1",children:[t.jsxDEV(Sl,{icon:Lp(kl(ae.notification_sound).icon),className:"w-3 h-3"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:616,columnNumber:29},void 0),kl(ae.notification_sound).name]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:615,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:598,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:587,columnNumber:21},void 0),ae.linked_profile_id&&j.has(ae.linked_profile_id)&&t.jsxDEV("button",{onClick:fe=>K(fe,ae),disabled:Y===ae.id,className:"flex-shrink-0 p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors disabled:opacity-50",title:"Send message",children:Y===ae.id?t.jsxDEV("div",{className:"w-5 h-5 animate-spin rounded-full border-2 border-blue-600 border-t-transparent"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:632,columnNumber:27},void 0):t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:635,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:634,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:625,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:571,columnNumber:19},void 0)},ae.id,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:564,columnNumber:17},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:557,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:553,columnNumber:9},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg shadow",children:n?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"p-6 border-b",children:t.jsxDEV("div",{className:"flex justify-between items-start",children:[t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:n.avatar_url?t.jsxDEV("img",{src:n.avatar_url,alt:"",className:"w-full h-full rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:656,columnNumber:25},void 0):t.jsxDEV("span",{className:"text-blue-600 font-bold text-xl",children:De(n)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:662,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:654,columnNumber:21},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:n.display_name||`${n.first_name||""} ${n.last_name||""}`.trim()},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:668,columnNumber:23},void 0),n.relationship_type&&t.jsxDEV("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${Be(n.relationship_type)}`,children:n.relationship_type},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:672,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:667,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:653,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("button",{onClick:()=>Ee(n),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Edit"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:679,columnNumber:21},void 0),t.jsxDEV("button",{onClick:()=>W(n),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Delete"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:685,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:678,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:652,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:651,columnNumber:15},void 0),t.jsxDEV("div",{className:"p-6 space-y-6",children:[n.linked_profile&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Kizu Profile"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:699,columnNumber:21},void 0),t.jsxDEV("div",{className:"p-3 bg-green-50 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-green-200 flex items-center justify-center",children:n.linked_profile.avatar_url?t.jsxDEV("img",{src:n.linked_profile.avatar_url,alt:"",className:"w-full h-full rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:704,columnNumber:29},void 0):t.jsxDEV("span",{className:"text-green-700 font-medium",children:(n.linked_profile.full_name||"?")[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:710,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:702,columnNumber:25},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"font-medium text-green-800",children:n.linked_profile.full_name},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:716,columnNumber:27},void 0),t.jsxDEV("p",{className:"text-sm text-green-600",children:n.linked_profile.email},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:717,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:715,columnNumber:25},void 0),$?t.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-green-600"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:721,columnNumber:27},void 0):M!=null&&M.isFriend?t.jsxDEV("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-700",children:[t.jsxDEV("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:725,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:724,columnNumber:29},void 0),"Connected"]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:723,columnNumber:27},void 0):null]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:701,columnNumber:23},void 0),!$&&t.jsxDEV("div",{className:"mt-3 flex flex-wrap gap-2",children:M!=null&&M.isFriend?t.jsxDEV("button",{onClick:je,disabled:L,className:"px-3 py-1.5 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50",children:L?"Removing...":"Remove Friend"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:737,columnNumber:29},void 0):(Xe=M==null?void 0:M.pendingRequest)!=null&&Xe.isIncoming?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("button",{onClick:oe,disabled:L,className:"px-3 py-1.5 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors disabled:opacity-50",children:L?"Accepting...":"Accept"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:747,columnNumber:31},void 0),t.jsxDEV("button",{onClick:ke,disabled:L,className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:"Decline"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:754,columnNumber:31},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:746,columnNumber:29},void 0):M!=null&&M.pendingRequest?t.jsxDEV("button",{onClick:Ne,disabled:L,className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:L?"Cancelling...":"Cancel Request"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:764,columnNumber:29},void 0):t.jsxDEV("button",{onClick:he,disabled:L,className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50",children:L?"Sending...":"Friend Request"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:773,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:734,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:700,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:698,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Notification Sound"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:789,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("button",{onClick:()=>D(n.notification_sound||"default"),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${V===(n.notification_sound||"default")?"bg-blue-600 text-white":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,title:V===(n.notification_sound||"default")?"Stop":"Preview sound",children:t.jsxDEV(Sl,{icon:V===(n.notification_sound||"default")?$h:Qh,className:"text-sm"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:800,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:791,columnNumber:21},void 0),t.jsxDEV("button",{onClick:()=>Ee(n),className:"flex-1 flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-left",children:[t.jsxDEV(Sl,{icon:Lp(kl(n.notification_sound).icon),className:"text-2xl text-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:809,columnNumber:23},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"font-medium text-gray-900",children:kl(n.notification_sound).name},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:811,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:kl(n.notification_sound).description},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:812,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:810,columnNumber:23},void 0),t.jsxDEV("span",{className:"text-gray-400",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:816,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:815,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:814,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:805,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:790,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:788,columnNumber:17},void 0),(n.instagram_handle||n.facebook_handle||n.twitter_handle||n.linkedin_handle)&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Social Media"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:826,columnNumber:21},void 0),t.jsxDEV("div",{className:"space-y-2",children:[n.instagram_handle&&t.jsxDEV("a",{href:`https://instagram.com/${n.instagram_handle}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 hover:underline",children:[t.jsxDEV("span",{className:"w-5 h-5 bg-gradient-to-br from-purple-600 to-pink-500 rounded text-white text-xs flex items-center justify-center",children:"IG"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:835,columnNumber:27},void 0),"@",n.instagram_handle]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:829,columnNumber:25},void 0),n.twitter_handle&&t.jsxDEV("a",{href:`https://twitter.com/${n.twitter_handle}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 hover:underline",children:[t.jsxDEV("span",{className:"w-5 h-5 bg-black rounded text-white text-xs flex items-center justify-center",children:"X"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:846,columnNumber:27},void 0),"@",n.twitter_handle]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:840,columnNumber:25},void 0),n.facebook_handle&&t.jsxDEV("a",{href:`https://facebook.com/${n.facebook_handle}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 hover:underline",children:[t.jsxDEV("span",{className:"w-5 h-5 bg-blue-600 rounded text-white text-xs flex items-center justify-center",children:"f"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:857,columnNumber:27},void 0),n.facebook_handle]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:851,columnNumber:25},void 0),n.linkedin_handle&&t.jsxDEV("a",{href:`https://linkedin.com/in/${n.linkedin_handle}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 hover:underline",children:[t.jsxDEV("span",{className:"w-5 h-5 bg-blue-700 rounded text-white text-xs flex items-center justify-center",children:"in"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:868,columnNumber:27},void 0),n.linkedin_handle]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:862,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:827,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:825,columnNumber:19},void 0),n.phone_numbers&&n.phone_numbers.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Phone Numbers"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:879,columnNumber:21},void 0),t.jsxDEV("div",{className:"space-y-2",children:n.phone_numbers.map((ae,fe)=>t.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[t.jsxDEV("span",{className:"text-gray-400 capitalize",children:[ae.type,":"]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:883,columnNumber:27},void 0),t.jsxDEV("a",{href:`tel:${ae.number}`,className:"text-blue-600 hover:underline",children:ae.number},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:884,columnNumber:27},void 0)]},fe,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:882,columnNumber:25},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:880,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:878,columnNumber:19},void 0),n.email_addresses&&n.email_addresses.length>0&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Email Addresses"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:896,columnNumber:21},void 0),t.jsxDEV("div",{className:"space-y-2",children:n.email_addresses.map((ae,fe)=>t.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[t.jsxDEV("span",{className:"text-gray-400 capitalize",children:[ae.type,":"]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:900,columnNumber:27},void 0),t.jsxDEV("a",{href:`mailto:${ae.email}`,className:"text-blue-600 hover:underline",children:ae.email},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:901,columnNumber:27},void 0)]},fe,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:899,columnNumber:25},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:897,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:895,columnNumber:19},void 0),n.notes&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Notes"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:913,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm text-gray-700 whitespace-pre-wrap bg-gray-50 p-3 rounded-lg",children:n.notes},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:914,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:912,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:["Photos ",Z.length>0&&`(${Z.length})`]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:922,columnNumber:19},void 0),te?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:927,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:926,columnNumber:21},void 0):Z.length>0?t.jsxDEV("div",{className:"grid grid-cols-4 gap-2",children:[Z.slice(0,12).map(ae=>t.jsxDEV("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:t.jsxDEV("img",{src:ae.thumbnail_url,alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:936,columnNumber:27},void 0)},ae.asset_id,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:932,columnNumber:25},void 0)),Z.length>12&&t.jsxDEV("div",{className:"aspect-square rounded-lg bg-gray-100 flex items-center justify-center text-gray-500 text-sm font-medium",children:["+",Z.length-12," more"]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:944,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:930,columnNumber:21},void 0):t.jsxDEV("p",{className:"text-sm text-gray-400 py-4 text-center bg-gray-50 rounded-lg",children:"No photos linked to this contact"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:950,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:921,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:695,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:650,columnNumber:13},void 0):t.jsxDEV("div",{className:"p-6 text-center text-gray-500",children:"Select a contact to view details"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:958,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:648,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:551,columnNumber:7},void 0),x&&t.jsxDEV("div",{className:"modal-overlay",children:t.jsxDEV("div",{className:"modal-content p-6 max-h-[90vh] overflow-y-auto relative",children:[t.jsxDEV("button",{type:"button",onClick:()=>{ee(),N(!1)},className:"icon-btn absolute top-4 right-4",title:"Close",children:t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:979,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:978,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:969,columnNumber:13},void 0),t.jsxDEV("h3",{className:"text-lg font-semibold mb-4 pr-8 text-theme-primary",children:v?"Edit Contact":"New Contact"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:982,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:ye,className:"space-y-4",children:[t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label",children:"First Name"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:989,columnNumber:19},void 0),t.jsxDEV("input",{type:"text",value:R.first_name||"",onChange:ae=>X({...R,first_name:ae.target.value}),className:"input",placeholder:"First name"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:990,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:988,columnNumber:17},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label",children:"Last Name"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:999,columnNumber:19},void 0),t.jsxDEV("input",{type:"text",value:R.last_name||"",onChange:ae=>X({...R,last_name:ae.target.value}),className:"input",placeholder:"Last name"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1e3,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:998,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:987,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label",children:"Display Name"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1011,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",value:R.display_name||"",onChange:ae=>X({...R,display_name:ae.target.value}),className:"input",placeholder:"Display name (optional)"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1012,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1010,columnNumber:15},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label",children:"Email"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1024,columnNumber:19},void 0),t.jsxDEV("input",{type:"email",value:R.email||"",onChange:ae=>X({...R,email:ae.target.value}),className:"input",placeholder:"email@example.com"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1025,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1023,columnNumber:17},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label",children:"Phone"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1034,columnNumber:19},void 0),t.jsxDEV("input",{type:"tel",value:R.phone||"",onChange:ae=>X({...R,phone:ae.target.value}),className:"input",placeholder:"+1 (555) 123-4567"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1035,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1033,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1022,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label",children:"Relationship"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1047,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex flex-wrap gap-2",children:eI.map(ae=>t.jsxDEV("button",{type:"button",onClick:()=>X({...R,relationship_type:R.relationship_type===ae?"":ae}),className:`chip ${R.relationship_type===ae?"active":""}`,children:ae},ae,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1050,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1048,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1046,columnNumber:15},void 0),t.jsxDEV("div",{className:"section-divider",children:[t.jsxDEV("h4",{className:"section-title",children:"Social Media"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1067,columnNumber:17},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label text-xs",children:"Instagram"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1070,columnNumber:21},void 0),t.jsxDEV("div",{className:"input-group",children:[t.jsxDEV("span",{className:"input-prefix",children:"@"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1072,columnNumber:23},void 0),t.jsxDEV("input",{type:"text",value:R.instagram_handle||"",onChange:ae=>X({...R,instagram_handle:ae.target.value}),className:"input-with-prefix",placeholder:"username"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1073,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1071,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1069,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label text-xs",children:"Twitter / X"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1083,columnNumber:21},void 0),t.jsxDEV("div",{className:"input-group",children:[t.jsxDEV("span",{className:"input-prefix",children:"@"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1085,columnNumber:23},void 0),t.jsxDEV("input",{type:"text",value:R.twitter_handle||"",onChange:ae=>X({...R,twitter_handle:ae.target.value}),className:"input-with-prefix",placeholder:"username"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1086,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1084,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1082,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label text-xs",children:"Facebook"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1096,columnNumber:21},void 0),t.jsxDEV("input",{type:"text",value:R.facebook_handle||"",onChange:ae=>X({...R,facebook_handle:ae.target.value}),className:"input",placeholder:"Profile name or ID"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1097,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1095,columnNumber:19},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label text-xs",children:"LinkedIn"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1106,columnNumber:21},void 0),t.jsxDEV("input",{type:"text",value:R.linkedin_handle||"",onChange:ae=>X({...R,linkedin_handle:ae.target.value}),className:"input",placeholder:"Profile username"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1107,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1105,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1068,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1066,columnNumber:15},void 0),t.jsxDEV("div",{className:"section-divider",children:[t.jsxDEV("label",{className:"form-label",children:"Notification Sound"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1120,columnNumber:17},void 0),t.jsxDEV("div",{className:"max-h-64 overflow-y-auto border border-default rounded-md",children:nR.map(ae=>{const fe=nk.filter(be=>be.category===ae.id);return fe.length===0?null:t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"sound-category",children:ae.name},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1127,columnNumber:25},void 0),fe.map(be=>t.jsxDEV("div",{className:`sound-item ${R.notification_sound===be.id?"selected":""}`,onClick:()=>X({...R,notification_sound:be.id}),children:[t.jsxDEV("button",{type:"button",onClick:Oe=>{Oe.stopPropagation(),D(be.id)},className:`play-btn ${V===be.id?"playing":""}`,title:V===be.id?"Stop":"Preview",children:t.jsxDEV(Sl,{icon:V===be.id?$h:Qh,className:"text-xs"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1143,columnNumber:31},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1134,columnNumber:29},void 0),t.jsxDEV(Sl,{icon:Lp(be.icon),className:"text-theme-accent w-4"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1148,columnNumber:29},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"text-sm font-medium text-theme-primary truncate",children:be.name},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1153,columnNumber:31},void 0),t.jsxDEV("p",{className:"text-xs text-theme-muted truncate",children:be.description},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1154,columnNumber:31},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1152,columnNumber:29},void 0),R.notification_sound===be.id&&t.jsxDEV("svg",{className:"w-5 h-5 text-theme-accent flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1158,columnNumber:33},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1157,columnNumber:31},void 0)]},be.id,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1129,columnNumber:27},void 0))]},ae.id,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1126,columnNumber:23},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1121,columnNumber:17},void 0),t.jsxDEV("p",{className:"hint-text",children:"Click play to preview, click the row to select"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1167,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1119,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"form-label",children:"Notes"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1174,columnNumber:17},void 0),t.jsxDEV("textarea",{value:R.notes||"",onChange:ae=>X({...R,notes:ae.target.value}),rows:3,className:"textarea",placeholder:"Add notes about this contact..."},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1175,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1173,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[t.jsxDEV("button",{type:"submit",disabled:E,className:"btn-primary flex-1 py-2",children:E?"Saving...":v?"Save Changes":"Create Contact"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1185,columnNumber:17},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{ee(),N(!1)},className:"btn-secondary flex-1 py-2",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1192,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:1184,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:985,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:968,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:967,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ContactsManager.tsx",lineNumber:510,columnNumber:5},void 0)},PF=({onSelectConversation:i,onClearSearch:r})=>{const[n,s]=h.useState(""),[l,u]=h.useState([]),[d,A]=h.useState(!1),[b,p]=h.useState(0),[x,N]=h.useState(!1),v=h.useRef();h.useEffect(()=>{if(v.current&&clearTimeout(v.current),n.length<2){u([]),p(0),N(!1);return}return A(!0),v.current=setTimeout(async()=>{const F=await Ct.searchGlobal(n);A(!1),F.success&&F.data&&(u(F.data.results),p(F.data.total_hits),N(!0))},300),()=>{v.current&&clearTimeout(v.current)}},[n]);const w=()=>{s(""),u([]),p(0),N(!1),r()},E=F=>{i(F.conversation_id,n),N(!1)};return t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 border-b border-gray-200",children:[t.jsxDEV("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:63,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:62,columnNumber:9},void 0),t.jsxDEV("input",{type:"text",value:n,onChange:F=>s(F.target.value),placeholder:"Search all chats...",className:"flex-1 bg-transparent text-sm outline-none placeholder-gray-400"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:65,columnNumber:9},void 0),d&&t.jsxDEV("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:73,columnNumber:11},void 0),n&&!d&&t.jsxDEV("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:78,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:77,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:76,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:61,columnNumber:7},void 0),x&&l.length>0&&t.jsxDEV("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:[t.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-200 text-xs text-gray-500",children:["Found ",b," matches in ",l.length," conversations"]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:86,columnNumber:11},void 0),l.map(F=>t.jsxDEV("button",{onClick:()=>E(F),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"font-medium text-gray-800 truncate",children:F.title},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:96,columnNumber:17},void 0),t.jsxDEV("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:[F.hit_count," ",F.hit_count===1?"match":"matches"]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:97,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:95,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500 truncate mt-1",children:F.preview},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:101,columnNumber:15},void 0)]},F.conversation_id,!0,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:90,columnNumber:13},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:85,columnNumber:9},void 0),x&&n.length>=2&&l.length===0&&!d&&t.jsxDEV("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-lg shadow-lg z-50 p-4 text-center text-gray-500 text-sm",children:['No messages found matching "',n,'"']},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:108,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchGlobal.tsx",lineNumber:60,columnNumber:5},void 0)},WF=({conversationId:i,initialQuery:r="",onNavigateToMessage:n,onClose:s})=>{const[l,u]=h.useState(r),[d,A]=h.useState([]),[b,p]=h.useState(!1),[x,N]=h.useState(0),v=h.useRef(),w=h.useRef(null);h.useEffect(()=>{var Z;(Z=w.current)==null||Z.focus(),r&&E(r)},[]);const E=async Z=>{if(Z.length<2){A([]);return}p(!0);const H=await Ct.searchConversation(i,Z);p(!1),H.success&&H.data&&(A(H.data.results),N(0),H.data.results.length>0&&n(H.data.results[0].id))};h.useEffect(()=>(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>E(l),300),()=>{v.current&&clearTimeout(v.current)}),[l]);const F=()=>{if(d.length===0)return;const Z=x>0?x-1:d.length-1;N(Z),n(d[Z].id)},V=()=>{if(d.length===0)return;const Z=x<d.length-1?x+1:0;N(Z),n(d[Z].id)},G=Z=>{Z.key==="Enter"?(Z.preventDefault(),Z.shiftKey?F():V()):Z.key==="Escape"&&s()};return t.jsxDEV("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 border-b border-blue-200",children:[t.jsxDEV("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:85,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:84,columnNumber:7},void 0),t.jsxDEV("input",{ref:w,type:"text",value:l,onChange:Z=>u(Z.target.value),onKeyDown:G,placeholder:"Search in conversation...",className:"flex-1 bg-transparent text-sm outline-none placeholder-blue-400"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:87,columnNumber:7},void 0),b?t.jsxDEV("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:97,columnNumber:9},void 0):d.length>0?t.jsxDEV("span",{className:"text-xs text-blue-600 whitespace-nowrap",children:[x+1," of ",d.length]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:99,columnNumber:9},void 0):l.length>=2?t.jsxDEV("span",{className:"text-xs text-blue-400",children:"No results"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:103,columnNumber:9},void 0):null,t.jsxDEV("div",{className:"flex items-center gap-1",children:[t.jsxDEV("button",{onClick:F,disabled:d.length===0,className:"p-1 text-blue-500 hover:bg-blue-100 rounded disabled:opacity-30",title:"Previous (Shift+Enter)",children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:113,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:112,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:106,columnNumber:9},void 0),t.jsxDEV("button",{onClick:V,disabled:d.length===0,className:"p-1 text-blue-500 hover:bg-blue-100 rounded disabled:opacity-30",title:"Next (Enter)",children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:123,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:122,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:116,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:105,columnNumber:7},void 0),t.jsxDEV("button",{onClick:s,className:"p-1 text-blue-500 hover:bg-blue-100 rounded",children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:129,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:128,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:127,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:83,columnNumber:5},void 0)},GF=(i,r)=>{if(!r||r.length<2)return i;const n=new RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return i.split(n).map((l,u)=>n.test(l)?t.jsxDEV("mark",{className:"bg-yellow-200 px-0.5 rounded",children:l},u,!1,{fileName:"/app/src/components/admin/chat/ChatSearchInChat.tsx",lineNumber:142,columnNumber:7},void 0):l)},UF=[{id:"reactions",name:"Reactions",icon:""},{id:"love",name:"Love",icon:""},{id:"celebrations",name:"Celebrations",icon:""},{id:"animals",name:"Animals",icon:""}],XF=[{id:"thumbs-up",category:"reactions",emoji:""},{id:"thumbs-down",category:"reactions",emoji:""},{id:"clap",category:"reactions",emoji:""},{id:"fire",category:"reactions",emoji:""},{id:"laugh",category:"reactions",emoji:""},{id:"wow",category:"reactions",emoji:""},{id:"sad",category:"reactions",emoji:""},{id:"angry",category:"reactions",emoji:""},{id:"thinking",category:"reactions",emoji:""},{id:"cool",category:"reactions",emoji:""},{id:"heart",category:"love",emoji:""},{id:"heart-eyes",category:"love",emoji:""},{id:"kiss",category:"love",emoji:""},{id:"hug",category:"love",emoji:""},{id:"sparkling-heart",category:"love",emoji:""},{id:"two-hearts",category:"love",emoji:""},{id:"rose",category:"love",emoji:""},{id:"party",category:"celebrations",emoji:""},{id:"confetti",category:"celebrations",emoji:""},{id:"balloon",category:"celebrations",emoji:""},{id:"gift",category:"celebrations",emoji:""},{id:"cake",category:"celebrations",emoji:""},{id:"trophy",category:"celebrations",emoji:""},{id:"star",category:"celebrations",emoji:""},{id:"dog",category:"animals",emoji:""},{id:"cat",category:"animals",emoji:""},{id:"bear",category:"animals",emoji:""},{id:"panda",category:"animals",emoji:""},{id:"unicorn",category:"animals",emoji:""},{id:"butterfly",category:"animals",emoji:""}],zF=()=>{var we;const{user:i}=Xa(),[r,n]=h.useState([]),[s,l]=h.useState(null),[u,d]=h.useState([]),[A,b]=h.useState(""),[p,x]=h.useState(!0),[N,v]=h.useState(!1),[w,E]=h.useState(!1),[F,V]=h.useState(null),G=h.useRef(null),Z=h.useRef(null),H=h.useRef(null),[te,T]=h.useState(!1),[M,q]=h.useState(!1),[$,Ae]=h.useState("reactions"),[L,J]=h.useState(!1),j=h.useRef(null),[O,Y]=h.useState({}),[ie,z]=h.useState({}),[ee,D]=h.useState(null),[R,X]=h.useState(new Set),[C,I]=h.useState(null),[S,P]=h.useState(1),[U,K]=h.useState(!1),[re,se]=h.useState(!1),[Ee,ye]=h.useState(!1),[W,he]=h.useState(""),[oe,ke]=h.useState(null),Ne=h.useRef({}),je=h.useCallback(async()=>{try{const ne=await Ct.getConversations();ne.success&&ne.data?n(ne.data.conversations):V(ne.error||"Failed to load conversations")}catch{V("Failed to load conversations")}finally{x(!1)}},[]),Be=h.useCallback(async(ne,de)=>{if(!i)return;const k=de.filter(Q=>Q.sender_id!==i.id).map(Q=>Q.id);k.length>0&&await Ct.markMessagesAsRead(ne,k)&&n(Ve=>Ve.map(Ce=>Ce.id===ne?{...Ce,unread_count:0}:Ce))},[i]),De=h.useCallback(async ne=>{var de;v(!0),P(1),K(!1);try{const k=await Ct.getMessages(ne,1,20);k.success&&k.data&&(d(k.data.messages),K(((de=k.data.pagination)==null?void 0:de.hasMore)||!1),k.data.messages.length>0&&(H.current=k.data.messages[k.data.messages.length-1].created_at,Be(ne,k.data.messages)))}catch(k){console.error("Error fetching messages:",k)}finally{v(!1)}},[Be]),Xe=h.useCallback(async()=>{if(!(!s||!H.current))try{const ne=await Ct.pollMessages(s.id,H.current);if(ne.success&&ne.data&&ne.data.messages.length>0){const de=ne.data.messages;d(k=>{const Q=new Set(k.map(Ce=>Ce.id)),Ve=de.filter(Ce=>!Q.has(Ce.id));return Ve.length===0?k:(H.current=Ve[Ve.length-1].created_at,[...k,...Ve])}),Be(s.id,de)}}catch(ne){console.error("Error polling messages:",ne)}},[s,Be]);h.useEffect(()=>{je()},[je]),h.useEffect(()=>(s&&(De(s.id),Z.current=setInterval(Xe,5e3)),()=>{Z.current&&(clearInterval(Z.current),Z.current=null)}),[s,De,Xe]),h.useEffect(()=>{var ne;(ne=G.current)==null||ne.scrollIntoView({behavior:"smooth"})},[u]);const ae=h.useCallback(async ne=>{try{const de=await dm.getReactions(ne,"message");Y(k=>({...k,[ne]:de.summary})),z(k=>({...k,[ne]:de.details}))}catch(de){console.error("Error fetching reactions:",de)}},[]),fe=ne=>{const de=new Date(ne),Q=new Date().getTime()-de.getTime(),Ve=Math.floor(Q/(1e3*60)),Ce=Math.floor(Q/(1e3*60*60)),Le=Math.floor(Q/(1e3*60*60*24));return Ve<1?"Just now":Ve<60?`${Ve}m ago`:Ce<24?`${Ce}h ago`:Le<7?`${Le}d ago`:de.toLocaleDateString(void 0,{month:"short",day:"numeric"})},be=h.useCallback(async ne=>{for(const de of ne)ae(de.id)},[ae]),Oe=h.useCallback(async()=>{var de;if(!s||re||!U)return;se(!0);const ne=S+1;try{const k=await Ct.getMessages(s.id,ne,20);k.success&&k.data&&(d(Q=>[...k.data.messages,...Q]),P(ne),K(((de=k.data.pagination)==null?void 0:de.hasMore)||!1),be(k.data.messages))}catch(k){console.error("Error loading more messages:",k)}finally{se(!1)}},[s,S,re,U,be]),Fe=h.useCallback(async(ne,de)=>{X(k=>new Set(k).add(ne)),D(null);try{const Q=(O[ne]||[]).find(Ve=>Ve.emoji===de&&Ve.hasReacted);await dm.toggleReaction(ne,"message",de,(Q==null?void 0:Q.reactionId)||null),await ae(ne)}catch(k){console.error("Error toggling reaction:",k)}finally{X(k=>{const Q=new Set(k);return Q.delete(ne),Q})}},[O,ae]);h.useEffect(()=>{u.length>0&&be(u)},[u,be]),h.useEffect(()=>{const ne=()=>D(null);if(ee)return document.addEventListener("click",ne),()=>document.removeEventListener("click",ne)},[ee]);const $e=async ne=>{var k;const de=(k=ne.target.files)==null?void 0:k[0];if(!(!de||!s)){T(!1),J(!0);try{const Q=de.type.startsWith("video/"),Ve=de.name.split(".").pop()||(Q?"mp4":"jpg"),Ce=de.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,"_").substring(0,50),Le=`chat/${s.id}/${Date.now()}_${Ce}.${Ve}`,{error:nr}=await Ge.storage.from("chat-images").upload(Le,de,{contentType:de.type,upsert:!1});if(nr){console.error("Upload error:",nr),alert("Failed to upload file. Please try again.");return}const{data:Re,error:We}=await Ge.storage.from("chat-images").createSignedUrl(Le,60*60*24*365);if(We||!(Re!=null&&Re.signedUrl)){console.error("Signed URL error:",We),alert("Failed to process upload.");return}const Je=await Ct.sendMessage(s.id,{type:Q?"video":"image",url:Re.signedUrl});Je.success&&Je.data&&(d(Ye=>[...Ye,Je.data.message]),H.current=Je.data.message.created_at)}catch(Q){console.error("Error uploading file:",Q),alert("Failed to upload file.")}finally{J(!1),j.current&&(j.current.value="")}}},me=async ne=>{if(s){q(!1),E(!0);try{const de=await Ct.sendMessage(s.id,{type:"sticker",metadata:{stickerId:ne.id,emoji:ne.emoji}});de.success&&de.data&&(d(k=>[...k,de.data.message]),H.current=de.data.message.created_at)}catch(de){console.error("Error sending sticker:",de)}finally{E(!1)}}},ze=async ne=>{if(ne.preventDefault(),!A.trim()||!s||w)return;const de=A.trim();b(""),E(!0);try{const k=await Ct.sendMessage(s.id,{type:"text",text:de});k.success&&k.data&&(d(Q=>[...Q,k.data.message]),H.current=k.data.message.created_at,n(Q=>Q.map(Ve=>Ve.id===s.id?{...Ve,last_message_preview:de,last_message_at:k.data.message.created_at}:Ve)))}catch(k){console.error("Error sending message:",k),b(de)}finally{E(!1)}},xe=ne=>{const de=new Date(ne),k=new Date,Q=de.toDateString()===k.toDateString(),Ve=de.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return Q?Ve:`${de.toLocaleDateString([],{month:"short",day:"numeric"})}, ${Ve}`},Pe=ne=>{var de,k;if(ne.title)return ne.title;if(ne.type==="dm"&&ne.participants){const Q=ne.participants.find(Ve=>Ve.user_id!==(i==null?void 0:i.id));return((de=Q==null?void 0:Q.profile)==null?void 0:de.full_name)||((k=Q==null?void 0:Q.profile)==null?void 0:k.email)||"Unknown"}return"Conversation"},Ze=ne=>{var de;if(ne.type==="dm"&&ne.participants){const k=ne.participants.find(Q=>Q.user_id!==(i==null?void 0:i.id));return(de=k==null?void 0:k.profile)==null?void 0:de.avatar_url}return null},er=(ne,de)=>{const k=r.find(Q=>Q.id===ne);k&&(l(k),he(de),ye(!0))},xr=ne=>{ke(ne);const de=Ne.current[ne];de&&de.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>ke(null),2e3)},ur=()=>{ye(!1),he(""),ke(null)},ra=(ne,de="md")=>{if(!ne||ne.length===0)return t.jsxDEV("div",{className:`${de==="md"?"w-12 h-12":"w-10 h-10"} rounded-full bg-blue-100 flex items-center justify-center`,children:t.jsxDEV("span",{className:"text-blue-600 font-medium text-lg",children:""},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:490,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:489,columnNumber:9},void 0);const k=3,Q=ne.slice(0,k),Ve=ne.length-k,Ce=de==="md"?"w-12 h-12":"w-10 h-10",Le=de==="md"?"w-7 h-7":"w-6 h-6",nr=de==="md"?"w-8 h-8":"w-7 h-7";return t.jsxDEV("div",{className:`${Ce} relative flex-shrink-0`,children:[Q.map((Re,We)=>{var rr,tr;const Je=We===0,Ye=Je?"top-0 left-0":We===1?"bottom-0 right-0":"top-0 right-0",ir=Je?nr:Le;return t.jsxDEV("div",{className:`absolute ${Ye} ${ir} rounded-full border-2 border-white overflow-hidden`,style:{zIndex:k-We},children:(rr=Re.profile)!=null&&rr.avatar_url?t.jsxDEV("img",{src:Re.profile.avatar_url,alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:520,columnNumber:17},void 0):t.jsxDEV("div",{className:"w-full h-full bg-blue-500 flex items-center justify-center",children:t.jsxDEV("span",{className:"text-white text-xs font-medium",children:(((tr=Re.profile)==null?void 0:tr.full_name)||"?")[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:527,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:526,columnNumber:17},void 0)},Re.id,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:514,columnNumber:13},void 0)}),Ve>0&&t.jsxDEV("div",{className:"absolute bottom-0 left-3 w-5 h-5 rounded-full bg-gray-400 border-2 border-white flex items-center justify-center",children:t.jsxDEV("span",{className:"text-white text-[8px] font-bold",children:["+",Ve]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:537,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:536,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:503,columnNumber:7},void 0)};return p?t.jsxDEV("div",{className:"flex items-center justify-center h-96",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:547,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:546,columnNumber:7},void 0):F?t.jsxDEV("div",{className:"bg-error-bg border border-error text-error p-4 rounded-lg",children:[F,t.jsxDEV("button",{onClick:je,className:"ml-4 text-error underline",children:"Retry"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:556,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:554,columnNumber:7},void 0):t.jsxDEV("div",{className:"h-[calc(100vh-12rem)]",children:[t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-theme-primary",children:"Chat"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:566,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-theme-secondary",children:"Messages with your circles and contacts"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:567,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:565,columnNumber:7},void 0),t.jsxDEV("div",{className:"bg-surface rounded-xl shadow-sm border border-default h-[calc(100%-4rem)] flex overflow-hidden",children:[t.jsxDEV("div",{className:"w-80 border-r border-default flex flex-col",children:[t.jsxDEV("div",{className:"p-4 border-b border-light",children:t.jsxDEV("h3",{className:"font-semibold text-theme-primary",children:"Conversations"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:574,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:573,columnNumber:11},void 0),t.jsxDEV(PF,{onSelectConversation:er,onClearSearch:()=>{}},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:578,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:r.length===0?t.jsxDEV("div",{className:"p-4 text-center text-theme-muted",children:[t.jsxDEV("p",{children:"No conversations yet"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:586,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm mt-1",children:"Start a chat from a circle or contact"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:587,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:585,columnNumber:15},void 0):r.map(ne=>{var de;return t.jsxDEV("div",{className:`group relative flex items-start gap-3 p-4 border-b border-light transition-colors ${(s==null?void 0:s.id)===ne.id?"bg-primary-light":"hover:bg-surface-hover"}`,children:[t.jsxDEV("button",{onClick:()=>l(ne),className:"absolute inset-0 w-full h-full","aria-label":`Open ${Pe(ne)}`},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:598,columnNumber:19},void 0),ne.type==="circle"?ra(ne.participants,"md"):t.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-primary-light flex items-center justify-center flex-shrink-0 overflow-hidden",children:Ze(ne)?t.jsxDEV("img",{src:Ze(ne),alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:610,columnNumber:25},void 0):t.jsxDEV("span",{className:"text-theme-accent font-medium text-lg",children:(de=Pe(ne)[0])==null?void 0:de.toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:616,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:608,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("span",{className:"font-medium text-theme-primary truncate",children:Pe(ne)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:626,columnNumber:23},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-xs text-theme-muted",children:xe(ne.last_message_at)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:630,columnNumber:25},void 0),t.jsxDEV("button",{onClick:k=>{k.stopPropagation(),l(ne),ye(!0),he("")},className:"relative z-10 p-1 rounded opacity-0 group-hover:opacity-100 hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-all",title:`Search in ${Pe(ne)}`,children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:645,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:644,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:634,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:629,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:625,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm text-theme-muted truncate mt-0.5",children:ne.last_message_preview||"No messages yet"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:650,columnNumber:21},void 0),ne.unread_count>0&&t.jsxDEV("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-primary rounded-full mt-1",children:ne.unread_count},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:654,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:624,columnNumber:19},void 0)]},ne.id,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:591,columnNumber:17},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:583,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:572,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 flex flex-col",children:s?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"p-4 border-b border-default flex items-center gap-3",children:[s.type==="circle"?ra(s.participants,"sm"):t.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-primary-light flex items-center justify-center overflow-hidden",children:Ze(s)?t.jsxDEV("img",{src:Ze(s),alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:676,columnNumber:23},void 0):t.jsxDEV("span",{className:"text-theme-accent font-medium",children:(we=Pe(s)[0])==null?void 0:we.toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:682,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:674,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h3",{className:"font-semibold text-theme-primary",children:Pe(s)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:689,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-xs text-theme-muted",children:s.type==="circle"?"Circle Chat":"Direct Message"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:692,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:688,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>ye(!Ee),className:`p-2 rounded-lg transition-colors ${Ee?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-500"}`,title:"Search in conversation (Ctrl+F)",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:705,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:704,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:697,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:670,columnNumber:15},void 0),Ee&&t.jsxDEV(WF,{conversationId:s.id,initialQuery:W,onNavigateToMessage:xr,onClose:ur},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:712,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-app",children:[N?t.jsxDEV("div",{className:"flex items-center justify-center h-full",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:724,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:723,columnNumber:19},void 0):u.length===0?t.jsxDEV("div",{className:"flex items-center justify-center h-full text-theme-muted",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("p",{className:"text-4xl mb-2",children:""},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:729,columnNumber:23},void 0),t.jsxDEV("p",{children:"No messages yet"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:730,columnNumber:23},void 0),t.jsxDEV("p",{className:"text-sm",children:"Send a message to start the conversation"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:731,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:728,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:727,columnNumber:19},void 0):t.jsxDEV(t.Fragment,{children:[U&&t.jsxDEV("div",{className:"flex justify-center pb-2",children:t.jsxDEV("button",{onClick:Oe,disabled:re,className:"px-4 py-2 text-sm text-theme-accent hover:bg-primary-light rounded-full transition-colors disabled:opacity-50 flex items-center gap-2",children:re?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:746,columnNumber:31},void 0),"Loading..."]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:745,columnNumber:29},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:752,columnNumber:33},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:751,columnNumber:31},void 0),"Load older messages"]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:750,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:739,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:738,columnNumber:23},void 0),u.map(ne=>{var Ve,Ce,Le,nr,Re,We,Je;const de=ne.sender_id===(i==null?void 0:i.id),k=O[ne.id]||[],Q=oe===ne.id;return t.jsxDEV("div",{ref:Ye=>{Ne.current[ne.id]=Ye},className:`flex ${de?"justify-end":"justify-start"} ${Q?"animate-pulse":""}`,children:t.jsxDEV("div",{className:`flex items-end gap-2 max-w-[70%] ${de?"flex-row-reverse":""}`,children:[!de&&t.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-surface-elevated flex items-center justify-center flex-shrink-0 overflow-hidden",children:(Ve=ne.sender)!=null&&Ve.avatar_url?t.jsxDEV("img",{src:ne.sender.avatar_url,alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:777,columnNumber:33},void 0):t.jsxDEV("span",{className:"text-theme-secondary text-sm font-medium",children:((nr=(Le=(Ce=ne.sender)==null?void 0:Ce.full_name)==null?void 0:Le[0])==null?void 0:nr.toUpperCase())||"?"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:783,columnNumber:33},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:775,columnNumber:29},void 0),t.jsxDEV("div",{className:"flex flex-col",children:[t.jsxDEV("div",{className:`rounded-2xl px-4 py-2 ${de?"bg-primary text-white":"bg-surface text-theme-primary border border-default"}`,children:[!de&&s.type==="circle"&&t.jsxDEV("p",{className:"text-xs font-medium mb-1 opacity-75",children:((Re=ne.sender)==null?void 0:Re.full_name)||((We=ne.sender)==null?void 0:We.email)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:801,columnNumber:33},void 0),ne.content_type==="text"&&t.jsxDEV("p",{className:"whitespace-pre-wrap break-words",children:Ee&&W?GF(ne.content_text||"",W):ne.content_text},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:808,columnNumber:33},void 0),ne.content_type==="image"&&ne.content_url&&t.jsxDEV("img",{src:ne.content_url,alt:"Shared image",className:"max-w-full rounded-lg",style:{maxHeight:"300px"}},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:815,columnNumber:33},void 0),ne.content_type==="video"&&ne.content_url&&t.jsxDEV("video",{src:ne.content_url,controls:!0,className:"max-w-full rounded-lg",style:{maxHeight:"300px"}},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:823,columnNumber:33},void 0),ne.content_type==="sticker"&&t.jsxDEV("p",{className:"text-4xl",children:((Je=ne.content_metadata)==null?void 0:Je.emoji)||""},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:831,columnNumber:33},void 0),t.jsxDEV("p",{className:`text-xs mt-1 ${de?"text-blue-200":"text-gray-500"}`,children:[xe(ne.created_at),ne.is_edited&&" (edited)"]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:834,columnNumber:31},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:793,columnNumber:29},void 0),t.jsxDEV("div",{className:`flex items-center gap-1 mt-1 ${de?"justify-end":"justify-start"}`,children:[k.map(Ye=>t.jsxDEV("button",{onClick:()=>Fe(ne.id,Ye.emoji),className:`px-2 py-0.5 rounded-full text-sm flex items-center gap-1 transition-colors ${Ye.hasReacted?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,disabled:R.has(ne.id),children:[t.jsxDEV("span",{children:Ko[Ye.emoji]},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:854,columnNumber:35},void 0),t.jsxDEV("span",{className:"text-xs",children:Ye.count},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:855,columnNumber:35},void 0)]},Ye.emoji,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:844,columnNumber:33},void 0)),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("button",{onClick:Ye=>{Ye.stopPropagation(),D(ee===ne.id?null:ne.id)},className:"w-6 h-6 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-500 transition-colors",disabled:R.has(ne.id),children:R.has(ne.id)?t.jsxDEV("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-500"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:870,columnNumber:37},void 0):t.jsxDEV("span",{className:"text-xs",children:""},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:872,columnNumber:37},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:861,columnNumber:33},void 0),ee===ne.id&&t.jsxDEV("div",{className:`absolute ${de?"right-0":"left-0"} bottom-full mb-1 bg-white rounded-lg shadow-xl border p-2 flex gap-1 z-10`,onClick:Ye=>Ye.stopPropagation(),children:BE.slice(0,6).map(Ye=>t.jsxDEV("button",{onClick:()=>Fe(ne.id,Ye),className:`w-8 h-8 rounded-full flex items-center justify-center text-lg hover:bg-gray-100 transition-colors ${k.find(ir=>ir.emoji===Ye&&ir.hasReacted)?"bg-blue-100":""}`,children:Ko[Ye]},Ye,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:883,columnNumber:39},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:878,columnNumber:35},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:860,columnNumber:31},void 0),k.length>0&&t.jsxDEV("button",{onClick:()=>I(ne.id),className:"w-5 h-5 rounded-full flex items-center justify-center text-gray-400 hover:text-gray-600 transition-colors",title:"See who reacted",children:t.jsxDEV("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:907,columnNumber:37},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:906,columnNumber:35},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:901,columnNumber:33},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:841,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:791,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:772,columnNumber:25},void 0)},ne.id,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:765,columnNumber:23},void 0)})]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:735,columnNumber:19},void 0),t.jsxDEV("div",{ref:G},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:919,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:721,columnNumber:15},void 0),t.jsxDEV("form",{onSubmit:ze,className:"p-4 border-t border-gray-200 relative",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("button",{type:"button",onClick:()=>T(!te),disabled:L,className:"w-10 h-10 text-blue-600 rounded-full flex items-center justify-center hover:bg-blue-50 transition-colors disabled:opacity-50",children:L?t.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:933,columnNumber:23},void 0):t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:936,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:935,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:926,columnNumber:19},void 0),t.jsxDEV("input",{type:"text",value:A,onChange:ne=>b(ne.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-2 border border-default bg-surface text-theme-primary rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent placeholder-muted",disabled:w||L},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:941,columnNumber:19},void 0),t.jsxDEV("button",{type:"submit",disabled:!A.trim()||w||L,className:"w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?t.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:955,columnNumber:23},void 0):t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:958,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:957,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:949,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:924,columnNumber:17},void 0),t.jsxDEV("input",{type:"file",ref:j,onChange:$e,accept:"image/*,video/*",className:"hidden"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:965,columnNumber:17},void 0),te&&t.jsxDEV("div",{className:"absolute bottom-full left-0 mb-2 bg-surface rounded-xl shadow-xl border border-default p-4 w-72",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[t.jsxDEV("span",{className:"font-semibold text-theme-primary",children:"Share"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:977,columnNumber:23},void 0),t.jsxDEV("button",{type:"button",onClick:()=>T(!1),className:"text-slate-400 hover:text-theme-secondary",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:984,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:983,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:978,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:976,columnNumber:21},void 0),t.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxDEV("button",{type:"button",onClick:()=>{var ne;return(ne=j.current)==null?void 0:ne.click()},className:"flex flex-col items-center gap-2 p-3 rounded-lg hover:bg-surface-hover transition-colors",children:[t.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-teal-500 flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:996,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:995,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:994,columnNumber:25},void 0),t.jsxDEV("span",{className:"text-xs text-theme-secondary font-medium",children:"Photos"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:999,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:989,columnNumber:23},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{T(!1),q(!0)},className:"flex flex-col items-center gap-2 p-3 rounded-lg hover:bg-surface-hover transition-colors",children:[t.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-yellow-400 flex items-center justify-center",children:t.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1010,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1009,columnNumber:25},void 0),t.jsxDEV("span",{className:"text-xs text-theme-secondary font-medium",children:"Stickers"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1012,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1001,columnNumber:23},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{T(!1),alert("Albums sharing coming soon!")},className:"flex flex-col items-center gap-2 p-3 rounded-lg hover:bg-surface-hover transition-colors",children:[t.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-green-400 flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1024,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1023,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1022,columnNumber:25},void 0),t.jsxDEV("span",{className:"text-xs text-theme-secondary font-medium",children:"Albums"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1027,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1014,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:988,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:975,columnNumber:19},void 0),M&&t.jsxDEV("div",{className:"absolute bottom-full left-0 mb-2 bg-surface rounded-xl shadow-xl border border-default w-80",children:[t.jsxDEV("div",{className:"flex justify-between items-center p-3 border-b border-default",children:[t.jsxDEV("span",{className:"font-semibold text-theme-primary",children:"Stickers"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1037,columnNumber:23},void 0),t.jsxDEV("button",{type:"button",onClick:()=>q(!1),className:"text-slate-400 hover:text-theme-secondary",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1044,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1043,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1038,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1036,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex gap-1 p-2 border-b border-default overflow-x-auto",children:UF.map(ne=>t.jsxDEV("button",{type:"button",onClick:()=>Ae(ne.id),className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${$===ne.id?"bg-primary text-white":"bg-surface-elevated text-theme-secondary hover:bg-surface-hover"}`,children:[ne.icon," ",ne.name]},ne.id,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1051,columnNumber:25},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1049,columnNumber:21},void 0),t.jsxDEV("div",{className:"grid grid-cols-5 gap-1 p-3 max-h-48 overflow-y-auto",children:XF.filter(ne=>ne.category===$).map(ne=>t.jsxDEV("button",{type:"button",onClick:()=>me(ne),className:"w-12 h-12 flex items-center justify-center text-2xl hover:bg-surface-hover rounded-lg transition-colors",children:ne.emoji},ne.id,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1068,columnNumber:25},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1066,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1035,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:923,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:668,columnNumber:13},void 0):t.jsxDEV("div",{className:"flex-1 flex items-center justify-center text-theme-muted bg-app",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("p",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1085,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-lg font-medium",children:"Select a conversation"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1086,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm",children:"Choose a conversation from the list to start chatting"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1087,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1084,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1083,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:666,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:570,columnNumber:7},void 0),C&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>I(null),children:t.jsxDEV("div",{className:"bg-surface rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[70vh] flex flex-col border border-default",onClick:ne=>ne.stopPropagation(),children:[t.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-default",children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-theme-primary",children:"Reactions"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1099,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>I(null),className:"w-8 h-8 rounded-full flex items-center justify-center text-slate-400 hover:bg-surface-hover hover:text-theme-secondary transition-colors",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1105,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1104,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1100,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1098,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:(ie[C]||[]).length===0?t.jsxDEV("p",{className:"text-theme-muted text-center py-8",children:"No reactions yet"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1111,columnNumber:17},void 0):t.jsxDEV("div",{className:"space-y-3",children:(ie[C]||[]).map(ne=>t.jsxDEV("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-surface-hover",children:[ne.user.avatar_url?t.jsxDEV("img",{src:ne.user.avatar_url,alt:"",className:"w-10 h-10 rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1117,columnNumber:25},void 0):t.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-surface-elevated flex items-center justify-center",children:t.jsxDEV("span",{className:"text-theme-secondary font-medium",children:(ne.user.name||"?")[0].toUpperCase()},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1124,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1123,columnNumber:25},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"font-medium text-theme-primary truncate",children:ne.user.name||"Unknown"},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1130,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-sm text-theme-muted",children:fe(ne.created_at)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1133,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1129,columnNumber:23},void 0),t.jsxDEV("span",{className:"text-2xl",children:Ko[ne.emoji]},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1137,columnNumber:23},void 0)]},ne.id,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1115,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1113,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1109,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1097,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:1096,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ChatManager.tsx",lineNumber:564,columnNumber:5},void 0)},LF=({isOpen:i,onClose:r})=>{var ae,fe,be,Oe;const n=ua(),{user:s,userProfile:l,signOut:u,isSuperAdmin:d}=Xa(),[A,b]=h.useState(!1),[p,x]=h.useState((l==null?void 0:l.avatar_url)||null),[N,v]=h.useState(null),[w,E]=h.useState(null),[F,V]=h.useState(!1),[G,Z]=h.useState(null),[H,te]=h.useState((l==null?void 0:l.full_name)||""),[T,M]=h.useState(!1),q=h.useRef(null),$=h.useRef(null),Ae=h.useRef(null),L=h.useRef(null),[J,j]=h.useState({albums:0,photos:0,circles:0,shared:0}),[O,Y]=h.useState(!1),[ie,z]=h.useState(!1),[ee,D]=h.useState(!1),[R,X]=h.useState(!1),[C,I]=h.useState(!1),[S,P]=h.useState(!1),[U,K]=h.useState(!1),[re,se]=h.useState(!1),Ee=async()=>{try{await u(),r()}catch(Fe){console.error("Error signing out:",Fe)}},ye=async()=>{se(!0);try{const{data:{session:Fe}}=await Ge.auth.getSession();if(!(Fe!=null&&Fe.access_token))throw new Error("Not authenticated");const $e=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/delete-account",{method:"POST",headers:{Authorization:`Bearer ${Fe.access_token}`,"Content-Type":"application/json"}}),me=await $e.json();if(!$e.ok||!me.success)throw new Error(me.error||"Failed to delete account");alert("Your account and all data have been permanently deleted."),await u(),r(),n("/")}catch(Fe){console.error("Delete account error:",Fe),alert(Fe instanceof Error?Fe.message:"Failed to delete account. Please try again.")}finally{se(!1),K(!1)}},W=()=>H!==((l==null?void 0:l.full_name)||"")||N!==null,he=async()=>{if(s&&W()){M(!0);try{const Fe={};if(H!==((l==null?void 0:l.full_name)||"")&&(Fe.full_name=H.trim()),N){const $e=N instanceof File?N.name.split(".").pop():"jpg",me=`${s.id}/avatar.${$e}`,{error:ze}=await Ge.storage.from("avatars").upload(me,N,{upsert:!0,contentType:N.type||"image/jpeg"});if(ze)throw ze;const{data:xe}=Ge.storage.from("avatars").getPublicUrl(me);Fe.avatar_url=xe.publicUrl}if(Object.keys(Fe).length>0){const{error:$e}=await Ge.from("profiles").update(Fe).eq("id",s.id);if($e)throw $e}window.location.reload()}catch(Fe){console.error("Error saving profile:",Fe),alert("Failed to save changes. Please try again."),M(!1)}}},oe=Fe=>{var ze;const $e=(ze=Fe.target.files)==null?void 0:ze[0];if(!$e||!s)return;b(!1),v($e);const me=URL.createObjectURL($e);E(me)},ke=async()=>{b(!1),Z(null),V(!0);try{const Fe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:640}}});L.current=Fe,$.current&&($.current.srcObject=Fe)}catch(Fe){console.error("Camera error:",Fe),Z("Could not access camera. Please check permissions.")}},Ne=()=>{L.current&&(L.current.getTracks().forEach(Fe=>Fe.stop()),L.current=null),V(!1),Z(null)},je=()=>{if(!$.current||!Ae.current||!s)return;const Fe=$.current,$e=Ae.current,me=Math.min(Fe.videoWidth,Fe.videoHeight);$e.width=me,$e.height=me;const ze=$e.getContext("2d");if(!ze)return;const xe=(Fe.videoWidth-me)/2,Pe=(Fe.videoHeight-me)/2;ze.drawImage(Fe,xe,Pe,me,me,0,0,me,me),$e.toBlob(Ze=>{if(!Ze)return;Ne(),v(Ze);const er=URL.createObjectURL(Ze);E(er)},"image/jpeg",.9)};if(h.useEffect(()=>{l!=null&&l.avatar_url&&x(l.avatar_url),(l==null?void 0:l.full_name)!==void 0&&te(l.full_name||"")},[l==null?void 0:l.avatar_url,l==null?void 0:l.full_name]),h.useEffect(()=>()=>{L.current&&L.current.getTracks().forEach(Fe=>Fe.stop())},[]),h.useEffect(()=>{if(!i)return;(async()=>{var $e,me,ze;Y(!0);try{const[xe,Pe,Ze]=await Promise.all([br.getAlbums(),br.getImages(),br.getCircles()]),er={albums:0,photos:0,circles:0,shared:0};xe.success&&xe.data&&(er.albums=xe.data.count||(($e=xe.data.albums)==null?void 0:$e.length)||0,xe.data.stats&&(er.shared=xe.data.stats.shared||0)),Pe.success&&Pe.data&&(er.photos=Pe.data.count||((me=Pe.data.assets)==null?void 0:me.length)||0),Ze.success&&Ze.data&&(er.circles=Ze.data.count||((ze=Ze.data.circles)==null?void 0:ze.length)||0),j(er)}catch(xe){console.error("Error fetching stats:",xe)}finally{Y(!1)}})()},[i]),!i)return null;const Be=(l==null?void 0:l.full_name)||(s==null?void 0:s.email)||"Unknown User",De=s!=null&&s.created_at?new Date(s.created_at):null,Xe=((fe=(ae=l==null?void 0:l.full_name)==null?void 0:ae[0])==null?void 0:fe.toUpperCase())||((Oe=(be=s==null?void 0:s.email)==null?void 0:be[0])==null?void 0:Oe.toUpperCase())||"U";return t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] flex flex-col",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Account Settings"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:303,columnNumber:11},void 0),t.jsxDEV("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:304,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:302,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsxDEV("div",{className:"text-center mb-8",children:[t.jsxDEV("div",{className:"relative inline-block",children:[t.jsxDEV("button",{onClick:()=>b(!A),disabled:T,className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 hover:ring-4 hover:ring-blue-200 transition-all cursor-pointer overflow-hidden relative",children:[w?t.jsxDEV("img",{src:w,alt:"New Avatar",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:324,columnNumber:19},void 0):p?t.jsxDEV("img",{src:p,alt:"Avatar",className:"w-full h-full object-cover",onError:()=>x(null)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:330,columnNumber:19},void 0):t.jsxDEV("span",{className:"text-3xl text-blue-600",children:Xe},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:337,columnNumber:19},void 0),t.jsxDEV("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/20 flex items-center justify-center transition-colors",children:t.jsxDEV("span",{className:"text-white opacity-0 hover:opacity-100 text-xs font-medium",children:"Change"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:340,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:339,columnNumber:17},void 0),w&&t.jsxDEV("div",{className:"absolute -bottom-1 -right-1 bg-blue-600 rounded-full p-1",children:t.jsxDEV("span",{className:"text-white text-xs",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:344,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:343,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:318,columnNumber:15},void 0),A&&t.jsxDEV("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-white rounded-lg shadow-xl border py-2 w-48 z-10",children:[t.jsxDEV("button",{onClick:()=>{var Fe;return(Fe=q.current)==null?void 0:Fe.click()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:356,columnNumber:21},void 0)," Choose Photo"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:352,columnNumber:19},void 0),t.jsxDEV("button",{onClick:ke,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:362,columnNumber:21},void 0)," Take Photo"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:358,columnNumber:19},void 0),(p||w)&&t.jsxDEV("button",{onClick:()=>{b(!1),w?(v(null),E(null)):(x(null),v(null))},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:380,columnNumber:23},void 0)," ",w?"Cancel New Photo":"Remove Avatar"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:365,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:351,columnNumber:17},void 0),t.jsxDEV("input",{ref:q,type:"file",accept:"image/*",onChange:oe,className:"hidden"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:387,columnNumber:15},void 0),t.jsxDEV("canvas",{ref:Ae,className:"hidden"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:395,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:317,columnNumber:13},void 0),t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:Be},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:398,columnNumber:13},void 0),(l==null?void 0:l.full_name)&&t.jsxDEV("p",{className:"text-sm text-gray-500 mb-2",children:s==null?void 0:s.email},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:402,columnNumber:15},void 0),d&&t.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Super Admin"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:405,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:315,columnNumber:11},void 0),t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("button",{onClick:()=>z(!ie),className:"w-full flex items-center justify-between text-sm font-medium text-gray-700 mb-3 hover:text-gray-900",children:[t.jsxDEV("span",{children:"Account Information"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:418,columnNumber:17},void 0),t.jsxDEV("svg",{className:`w-4 h-4 transition-transform ${ie?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:425,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:419,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:414,columnNumber:15},void 0),ie&&t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-md",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Name"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:431,columnNumber:21},void 0),t.jsxDEV("input",{type:"text",value:H,onChange:Fe=>te(Fe.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm w-40 text-right text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your name"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:432,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:430,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-md",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Email"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:441,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.email},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:442,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:440,columnNumber:19},void 0),De&&t.jsxDEV("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-md",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Account Created"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:446,columnNumber:23},void 0),t.jsxDEV("span",{className:"text-sm text-gray-500",children:De.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:447,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:445,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-md",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Account Type"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:457,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:d?"Super Admin":"User"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:458,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:456,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:429,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:413,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("button",{onClick:()=>D(!ee),className:"w-full flex items-center justify-between text-sm font-medium text-gray-700 mb-3 hover:text-gray-900",children:[t.jsxDEV("span",{children:"Kizu Statistics"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:472,columnNumber:17},void 0),t.jsxDEV("svg",{className:`w-4 h-4 transition-transform ${ee?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:479,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:473,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:468,columnNumber:15},void 0),ee&&t.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxDEV("div",{className:"text-center py-3 px-2 bg-blue-50 rounded-md",children:[t.jsxDEV("div",{className:"text-lg font-semibold text-blue-600",children:O?t.jsxDEV("span",{className:"inline-block w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:487,columnNumber:25},void 0):J.albums},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:485,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-gray-600",children:"Albums"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:492,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:484,columnNumber:19},void 0),t.jsxDEV("div",{className:"text-center py-3 px-2 bg-green-50 rounded-md",children:[t.jsxDEV("div",{className:"text-lg font-semibold text-green-600",children:O?t.jsxDEV("span",{className:"inline-block w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:497,columnNumber:25},void 0):J.photos},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:495,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-gray-600",children:"Photos"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:502,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:494,columnNumber:19},void 0),t.jsxDEV("div",{className:"text-center py-3 px-2 bg-purple-50 rounded-md",children:[t.jsxDEV("div",{className:"text-lg font-semibold text-purple-600",children:O?t.jsxDEV("span",{className:"inline-block w-4 h-4 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:507,columnNumber:25},void 0):J.circles},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:505,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-gray-600",children:"Circles"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:512,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:504,columnNumber:19},void 0),t.jsxDEV("div",{className:"text-center py-3 px-2 bg-orange-50 rounded-md",children:[t.jsxDEV("div",{className:"text-lg font-semibold text-orange-600",children:O?t.jsxDEV("span",{className:"inline-block w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:517,columnNumber:25},void 0):J.shared},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:515,columnNumber:21},void 0),t.jsxDEV("div",{className:"text-xs text-gray-600",children:"Shared"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:522,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:514,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:483,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:467,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("button",{onClick:()=>X(!R),className:"w-full flex items-center justify-between text-sm font-medium text-gray-700 mb-3 hover:text-gray-900",children:[t.jsxDEV("span",{children:"Features"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:534,columnNumber:17},void 0),t.jsxDEV("svg",{className:`w-4 h-4 transition-transform ${R?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:541,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:535,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:530,columnNumber:15},void 0),R&&t.jsxDEV("div",{className:"space-y-2",children:t.jsxDEV("button",{onClick:()=>{r(),n("/frame")},className:"w-full flex items-center gap-3 py-3 px-3 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 rounded-md transition-colors text-left",children:[t.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:553,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("span",{className:"text-sm font-medium text-gray-900 block",children:"Picture Frame Mode"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:555,columnNumber:23},void 0),t.jsxDEV("span",{className:"text-xs text-gray-500",children:"Use this browser as a photo display"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:556,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:554,columnNumber:21},void 0),t.jsxDEV("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:559,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:558,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:546,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:545,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:529,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("button",{onClick:()=>I(!C),className:"w-full flex items-center justify-between text-sm font-medium text-gray-700 mb-3 hover:text-gray-900",children:[t.jsxDEV("span",{children:"Application"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:572,columnNumber:17},void 0),t.jsxDEV("svg",{className:`w-4 h-4 transition-transform ${C?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:579,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:573,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:568,columnNumber:15},void 0),C&&t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-md",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Version"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:585,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-sm text-gray-500",children:"Kizu Web v1.0.0"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:586,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:584,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-md",children:[t.jsxDEV("span",{className:"text-sm text-gray-600",children:"Environment"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:589,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-sm text-gray-500",children:"Production"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:590,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:588,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:583,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:567,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("button",{onClick:()=>P(!S),className:"w-full flex items-center justify-between text-sm font-medium text-red-600 mb-3 hover:text-red-700",children:[t.jsxDEV("span",{children:"Danger Zone"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:604,columnNumber:17},void 0),t.jsxDEV("svg",{className:`w-4 h-4 transition-transform ${S?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:611,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:605,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:600,columnNumber:15},void 0),S&&t.jsxDEV("div",{className:"space-y-3",children:t.jsxDEV("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsxDEV("h4",{className:"text-sm font-semibold text-red-800 mb-2",children:"Delete Account"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:617,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-xs text-red-600 mb-3",children:"Permanently delete your account and all associated data. This action cannot be undone."},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:618,columnNumber:21},void 0),t.jsxDEV("button",{onClick:()=>K(!0),disabled:re,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-md transition-colors text-sm font-medium",children:re?"Deleting...":"Delete My Account"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:621,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:616,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:615,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:599,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:412,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:313,columnNumber:9},void 0),t.jsxDEV("div",{className:"border-t px-6 py-4 space-y-3",children:[t.jsxDEV("button",{onClick:he,disabled:T||!W(),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-md transition-colors text-sm font-medium",children:T?"Saving...":"Save Changes"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:637,columnNumber:11},void 0),t.jsxDEV("button",{onClick:Ee,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors text-sm font-medium",children:"Sign Out"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:644,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:636,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:300,columnNumber:7},void 0),A&&t.jsxDEV("div",{className:"fixed inset-0 z-0",onClick:()=>b(!1)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:655,columnNumber:9},void 0),F&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60]",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full mx-4 overflow-hidden",children:[t.jsxDEV("div",{className:"p-4 border-b flex justify-between items-center",children:[t.jsxDEV("h3",{className:"font-semibold text-gray-900",children:"Take Photo"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:666,columnNumber:15},void 0),t.jsxDEV("button",{onClick:Ne,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:667,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:665,columnNumber:13},void 0),t.jsxDEV("div",{className:"relative aspect-square bg-black",children:[G?t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center text-white text-center p-4",children:t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"text-4xl mb-4 block",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:679,columnNumber:21},void 0),t.jsxDEV("p",{children:G},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:680,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:678,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:677,columnNumber:17},void 0):t.jsxDEV("video",{ref:$,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:684,columnNumber:17},void 0),t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:t.jsxDEV("div",{className:"w-48 h-48 border-4 border-white/50 rounded-full"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:695,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:694,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:675,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-4 flex gap-3",children:[t.jsxDEV("button",{onClick:Ne,className:"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:700,columnNumber:15},void 0),t.jsxDEV("button",{onClick:je,disabled:!!G,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:711,columnNumber:17},void 0)," Capture"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:706,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:699,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:664,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:663,columnNumber:9},void 0),U&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[70]",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full mx-4 overflow-hidden",children:t.jsxDEV("div",{className:"p-6",children:[t.jsxDEV("div",{className:"text-center mb-4",children:[t.jsxDEV("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsxDEV("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:726,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:725,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:724,columnNumber:17},void 0),t.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Delete Account"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:729,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:["This action ",t.jsxDEV("span",{className:"font-semibold text-red-600",children:"CANNOT be undone"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:731,columnNumber:31},void 0),". All your data will be permanently deleted, including:"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:730,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:723,columnNumber:15},void 0),t.jsxDEV("ul",{className:"text-sm text-gray-700 space-y-2 mb-6 bg-red-50 p-4 rounded-lg",children:[t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:737,columnNumber:19},void 0)," All photos and videos"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:736,columnNumber:17},void 0),t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:740,columnNumber:19},void 0)," All albums and folders"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:739,columnNumber:17},void 0),t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:743,columnNumber:19},void 0)," All circles and shared content"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:742,columnNumber:17},void 0),t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:746,columnNumber:19},void 0)," Your profile and settings"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:745,columnNumber:17},void 0),t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:749,columnNumber:19},void 0)," Connected import sources"]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:748,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:735,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("button",{onClick:()=>K(!1),disabled:re,className:"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:754,columnNumber:17},void 0),t.jsxDEV("button",{onClick:ye,disabled:re,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:re?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:768,columnNumber:23},void 0),"Deleting..."]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:767,columnNumber:21},void 0):"Yes, Delete Everything"},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:761,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:753,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:722,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:721,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:720,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/AccountScreen.tsx",lineNumber:299,columnNumber:5},void 0)},X4="https://quqlovduekdasldqadge.supabase.co",$i=`${X4}/functions/v1/admin-folders-api`,YF=`${X4}/functions/v1/admin-documents-api`;async function ro(){const{data:{session:i},error:r}=await Ge.auth.getSession();if(r||!(i!=null&&i.access_token))throw new Error("User not authenticated");return{Authorization:`Bearer ${i.access_token}`,"Content-Type":"application/json",apikey:i.access_token}}async function y9(i=!1){const r=await ro(),n=i?`${$i}?show_all=true`:$i,s=await fetch(n,{method:"GET",headers:r}),l=await s.json();if(!s.ok)throw new Error(l.error||"Failed to fetch folders");return l}async function HF(i){const r=await ro(),n=await fetch(`${$i}?folder_id=${i}`,{method:"GET",headers:r}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to fetch folder details");return s}async function h8(i){const r=await ro(),n=await fetch($i,{method:"POST",headers:r,body:JSON.stringify(i)}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to create folder");return s}async function JF(i){const r=await ro(),n=await fetch($i,{method:"PUT",headers:r,body:JSON.stringify(i)}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to update folder");return s}async function QF(i){const r=await ro(),n=await fetch($i,{method:"DELETE",headers:r,body:JSON.stringify({folder_id:i})}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to delete folder")}async function $F(i){const r=await ro(),n=await fetch(`${$i}?action=add_item`,{method:"POST",headers:r,body:JSON.stringify(i)}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to add item to folder");return s}async function qF(i){const r=await ro(),n=await fetch(`${$i}?action=share`,{method:"POST",headers:r,body:JSON.stringify(i)}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to share folder");return s}async function KF(i){const r=await ro(),n=await fetch(YF,{method:"POST",headers:r,body:JSON.stringify(i)}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to create document");return s}async function eZ(i,r){const{data:{session:n},error:s}=await Ge.auth.getSession();if(s||!(n!=null&&n.user))throw new Error("User not authenticated");const l=n.user.id,u=Date.now(),d=i.name.replace(/[^a-zA-Z0-9.-]/g,"_"),A=`${l}/${u}_${d}`,{data:b,error:p}=await Ge.storage.from("documents").upload(A,i,{contentType:i.type,upsert:!1});if(p)throw console.error("Upload error:",p),new Error(`Failed to upload file: ${p.message}`);const{data:x}=await Ge.storage.from("documents").createSignedUrl(A,60*60*24*365),N=(x==null?void 0:x.signedUrl)||`${X4}/storage/v1/object/documents/${A}`;let v="file";return i.type==="text/plain"?v="text":i.type==="text/markdown"&&(v="markdown"),await KF({title:i.name,content_type:v,file_url:N,file_size:i.size,file_mime_type:i.type,folder_id:r})}function rZ(i){return["image/jpeg","image/png","image/gif","image/webp","image/heic","image/heif","video/mp4","video/quicktime","video/x-msvideo","video/x-matroska"].includes(i.type)}const aZ=()=>{var ir,rr,tr,_r,Sr,Ir,za,Xr,pa;const{user:i}=Xa(),[r,n]=h.useState([]),[s,l]=h.useState(null),[u,d]=h.useState([]),[A,b]=h.useState([]),[p,x]=h.useState([]),[N,v]=h.useState(!0),[w,E]=h.useState(null),[F,V]=h.useState("grid"),[G,Z]=h.useState(!1),[H,te]=h.useState(!1),[T,M]=h.useState(!1),[q,$]=h.useState(!1),[Ae,L]=h.useState(!1),[J,j]=h.useState(!1),[O,Y]=h.useState(!1),[ie,z]=h.useState([]),[ee,D]=h.useState(!1),[R,X]=h.useState(""),[C,I]=h.useState(""),S=h.useRef(null),[P,U]=h.useState(!1),[K,re]=h.useState(""),[se,Ee]=h.useState(null),[ye,W]=h.useState(""),[he,oe]=h.useState(""),[ke,Ne]=h.useState(""),[je,Be]=h.useState(""),[De,Xe]=h.useState([]),[ae,fe]=h.useState("read_only"),[be,Oe]=h.useState(!1),[Fe,$e]=h.useState(null);h.useEffect(()=>{i!=null&&i.id&&(me(),ze())},[i==null?void 0:i.id,G]);const me=async()=>{try{v(!0),E(null);const Me=await y9(G);n(Me.folders)}catch(Me){console.error("Error loading folders:",Me),E(Me instanceof Error?Me.message:"Failed to load folders")}finally{v(!1)}},ze=async()=>{var Me;try{const Ke=await br.getCircles();Ke.success&&((Me=Ke.data)!=null&&Me.circles)&&x(Ke.data.circles)}catch(Ke){console.error("Error loading circles:",Ke)}},xe=async Me=>{try{E(null);const Ke=await HF(Me);l(Ke.folder),d(Ke.items),b(Ke.shares),Oe(Ke.isOwner),$e(Ke.userRole)}catch(Ke){console.error("Error loading folder detail:",Ke),E(Ke instanceof Error?Ke.message:"Failed to load folder details")}},Pe=async Me=>{if(Me.preventDefault(),!!ye.trim())try{E(null),await h8({title:ye.trim(),description:he.trim()||void 0}),W(""),oe(""),te(!1),await me()}catch(Ke){console.error("Error creating folder:",Ke),E(Ke instanceof Error?Ke.message:"Failed to create folder")}},Ze=async Me=>{if(Me.preventDefault(),!(!s||!ke.trim()))try{E(null),await JF({folder_id:s.id,title:ke.trim(),description:je.trim()||void 0}),$(!1),await xe(s.id),await me()}catch(Ke){console.error("Error updating folder:",Ke),E(Ke instanceof Error?Ke.message:"Failed to update folder")}},er=async Me=>{if(confirm("Are you sure you want to delete this folder? This action cannot be undone."))try{E(null),await QF(Me),(s==null?void 0:s.id)===Me&&(l(null),d([]),b([])),await me()}catch(Ke){console.error("Error deleting folder:",Ke),E(Ke instanceof Error?Ke.message:"Failed to delete folder")}},xr=async Me=>{if(Me.preventDefault(),!!s)try{E(null),await qF({folder_id:s.id,circle_ids:De,role:ae}),M(!1),Xe([]),await xe(s.id)}catch(Ke){console.error("Error sharing folder:",Ke),E(Ke instanceof Error?Ke.message:"Failed to share folder")}},ur=async()=>{var Me;if(s)try{D(!0);const Ke=await br.getAlbums();if(Ke.success&&((Me=Ke.data)!=null&&Me.albums)){const mr=new Set(u.filter(La=>La.item_type==="album").map(La=>La.item_id)),Fa=Ke.data.albums.filter(La=>!mr.has(La.id));z(Fa)}}catch(Ke){console.error("Error loading albums:",Ke)}finally{D(!1)}},ra=async Me=>{var Ke;if(s)try{E(null),await $F({folder_id:s.id,item_type:"album",item_id:Me}),await xe(s.id),await ur()}catch(mr){console.error("Error adding album:",mr),(Ke=mr.message)!=null&&Ke.includes("already exists")?E("This album is already in the folder"):E(mr instanceof Error?mr.message:"Failed to add album")}},we=()=>{ur(),L(!0),j(!1)},ne=async Me=>{if(Me.preventDefault(),!(!s||!R.trim()))try{E(null),await h8({title:R.trim(),description:C.trim()||void 0,parent_folder_id:s.id}),X(""),I(""),Y(!1),await xe(s.id),await me()}catch(Ke){console.error("Error creating subfolder:",Ke),E(Ke instanceof Error?Ke.message:"Failed to create subfolder")}},de=async Me=>{const Ke=Me.target.files;if(!(!Ke||Ke.length===0||!s)){U(!0),j(!1);try{for(let mr=0;mr<Ke.length;mr++){const Fa=Ke[mr];if(re(`Uploading ${Fa.name} (${mr+1}/${Ke.length})...`),rZ(Fa)){E(`"${Fa.name}" is a photo/video. Please use Albums to upload media files.`);continue}const La=await eZ(Fa,s.id);console.log("Document uploaded:",La.document)}re(""),await xe(s.id)}catch(mr){console.error("Error uploading document:",mr),E(mr instanceof Error?mr.message:"Failed to upload document")}finally{U(!1),re(""),S.current&&(S.current.value="")}}},k=()=>{var Me;j(!1),(Me=S.current)==null||Me.click()},Q=()=>{s&&(Ne(s.title),Be(s.description||""),$(!0))},Ve=()=>{if(s){const Me=A.filter(Ke=>Ke.type==="circle"&&Ke.circle_id).map(Ke=>Ke.circle_id);Xe(Me),M(!0)}},Ce=Me=>{switch(Me){case"admin":return"bg-red-100 text-red-800";case"editor":return"bg-orange-100 text-orange-800";case"contributor":return"bg-green-100 text-green-800";case"read_only":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Le=Me=>{var Ke;switch(Me.item_type){case"folder":return t.jsxDEV("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsxDEV("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:364,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:363,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:362,columnNumber:9},void 0);case"album":return t.jsxDEV("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:371,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:370,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:369,columnNumber:9},void 0);case"document":{const mr=((Ke=Me.document)==null?void 0:Ke.file_mime_type)||"";return mr.startsWith("image/")?t.jsxDEV("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:380,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:379,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:378,columnNumber:11},void 0):mr==="application/pdf"?t.jsxDEV("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("span",{className:"text-red-600 font-bold text-xs",children:"PDF"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:386,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:385,columnNumber:11},void 0):mr.includes("word")||mr.includes("document")?t.jsxDEV("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("span",{className:"text-blue-600 font-bold text-xs",children:"DOC"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:391,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:390,columnNumber:11},void 0):mr.includes("excel")||mr.includes("spreadsheet")?t.jsxDEV("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("span",{className:"text-green-600 font-bold text-xs",children:"XLS"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:396,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:395,columnNumber:11},void 0):mr.includes("powerpoint")||mr.includes("presentation")?t.jsxDEV("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("span",{className:"text-orange-600 font-bold text-xs",children:"PPT"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:401,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:400,columnNumber:11},void 0):mr.startsWith("video/")?t.jsxDEV("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:407,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:406,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:405,columnNumber:11},void 0):mr.startsWith("audio/")?t.jsxDEV("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:414,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:413,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:412,columnNumber:11},void 0):mr==="application/zip"||mr.includes("compressed")?t.jsxDEV("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("span",{className:"text-yellow-600 font-bold text-xs",children:"ZIP"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:420,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:419,columnNumber:11},void 0):mr.startsWith("text/")||mr==="application/json"?t.jsxDEV("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("span",{className:"text-gray-600 font-bold text-xs",children:"TXT"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:425,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:424,columnNumber:11},void 0):t.jsxDEV("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:431,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:430,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:429,columnNumber:11},void 0)}case"list":return t.jsxDEV("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:439,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:438,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:437,columnNumber:9},void 0);case"asset":return t.jsxDEV("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:446,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:445,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:444,columnNumber:9},void 0);case"live_event":return t.jsxDEV("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:453,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:452,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:451,columnNumber:9},void 0);default:return t.jsxDEV("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsxDEV("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:460,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:459,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:458,columnNumber:9},void 0)}},nr=Me=>Me?["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","text/html","text/css","text/javascript","text/markdown","text/csv","application/json","image/jpeg","image/png","image/gif","image/webp","image/svg+xml","video/mp4","video/webm","audio/mpeg","audio/wav","audio/ogg"].includes(Me):!1,Re=Me=>Me?Me.includes("msword")||Me.includes("wordprocessingml")||Me.includes("excel")||Me.includes("spreadsheetml")||Me.includes("powerpoint")||Me.includes("presentationml"):!1,We=Me=>`https://docs.google.com/gview?url=${encodeURIComponent(Me)}&embedded=true`,Je=Me=>{console.log("Item clicked:",Me),Me.item_type==="folder"?xe(Me.item_id):Me.item_type==="document"&&(console.log("Opening document:",Me.document),Ee(Me))},Ye=Me=>Me.folder?Me.folder.title:Me.album?Me.album.title:Me.document?Me.document.title:Me.list?Me.list.title:Me.live_event?Me.live_event.title:Me.asset?`Asset ${Me.item_id.substring(0,8)}...`:`${Me.item_type} ${Me.item_id.substring(0,8)}...`;return N?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:536,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:535,columnNumber:7},void 0):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Folders"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:544,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex items-center space-x-4",children:[t.jsxDEV("button",{onClick:()=>te(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2",children:[t.jsxDEV("span",{children:"+"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:550,columnNumber:13},void 0),"Create Folder"]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:546,columnNumber:11},void 0),t.jsxDEV("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[t.jsxDEV("input",{type:"checkbox",checked:G,onChange:Me=>Z(Me.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:555,columnNumber:13},void 0),"Show all folders"]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:554,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex bg-gray-200 rounded-lg p-1",children:[t.jsxDEV("button",{onClick:()=>V("grid"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${F==="grid"?"bg-white text-gray-900 shadow":"text-gray-600"}`,children:"Grid"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:564,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>V("list"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${F==="list"?"bg-white text-gray-900 shadow":"text-gray-600"}`,children:"List"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:572,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:563,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:545,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:543,columnNumber:7},void 0),w&&t.jsxDEV("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:w},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:585,columnNumber:9},void 0),F==="grid"?t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.map(Me=>{var Ke,mr,Fa,La;return t.jsxDEV("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>xe(Me.id),children:[t.jsxDEV("div",{className:"aspect-square bg-gradient-to-br from-amber-50 to-amber-100 rounded-t-lg overflow-hidden flex items-center justify-center",children:t.jsxDEV("div",{className:"text-6xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:600,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:599,columnNumber:15},void 0),t.jsxDEV("div",{className:"p-3",children:[t.jsxDEV("div",{className:"flex items-center gap-1.5 mb-1",children:[t.jsxDEV("h3",{className:"font-semibold text-gray-900 truncate flex-1 text-sm",children:Me.title},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:604,columnNumber:19},void 0),Me.isOwner?t.jsxDEV("span",{className:"flex-shrink-0 inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] font-medium bg-amber-100 text-amber-800",children:"Owner"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:606,columnNumber:21},void 0):t.jsxDEV("span",{className:`flex-shrink-0 px-1.5 py-0.5 rounded-full text-[10px] font-medium ${Ce(((mr=(Ke=Me.shared_via)==null?void 0:Ke[0])==null?void 0:mr.role)||"read_only")}`,children:(((La=(Fa=Me.shared_via)==null?void 0:Fa[0])==null?void 0:La.role)||"read_only").replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:610,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:603,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500",children:[Me.item_count||0," items"]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:615,columnNumber:17},void 0),!Me.isOwner&&Me.shared_via&&Me.shared_via.length>0&&t.jsxDEV("p",{className:"text-[10px] text-blue-600 mt-0.5 truncate",children:["via ",Me.shared_via.map(vs=>vs.circle_name).filter(Boolean).join(", ")]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:619,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:602,columnNumber:15},void 0)]},Me.id,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:594,columnNumber:13},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:592,columnNumber:9},void 0):t.jsxDEV("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsxDEV("thead",{className:"bg-gray-50",children:t.jsxDEV("tr",{children:[t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Folder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:633,columnNumber:17},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:634,columnNumber:17},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:635,columnNumber:17},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:636,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:632,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:631,columnNumber:13},void 0),t.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(Me=>{var Ke,mr,Fa,La;return t.jsxDEV("tr",{className:"hover:bg-gray-50",children:[t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("span",{className:"text-2xl mr-3",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:644,columnNumber:23},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"text-sm font-medium text-gray-900",children:Me.title},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:646,columnNumber:25},void 0),Me.description&&t.jsxDEV("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:Me.description},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:648,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:645,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:643,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:642,columnNumber:19},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:Me.isOwner?t.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Owner"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:655,columnNumber:23},void 0):t.jsxDEV("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ce(((mr=(Ke=Me.shared_via)==null?void 0:Ke[0])==null?void 0:mr.role)||"read_only")}`,children:(((La=(Fa=Me.shared_via)==null?void 0:Fa[0])==null?void 0:La.role)||"read_only").replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:659,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:653,columnNumber:19},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Me.item_count||0},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:664,columnNumber:19},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.jsxDEV("div",{className:"flex space-x-2",children:[t.jsxDEV("button",{onClick:()=>xe(Me.id),className:"text-blue-600 hover:text-blue-800",children:"View"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:669,columnNumber:23},void 0),Me.isOwner&&t.jsxDEV("button",{onClick:vs=>{vs.stopPropagation(),er(Me.id)},className:"text-red-600 hover:text-red-800",children:"Delete"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:676,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:668,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:667,columnNumber:19},void 0)]},Me.id,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:641,columnNumber:17},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:639,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:630,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:629,columnNumber:9},void 0),r.length===0&&t.jsxDEV("div",{className:"text-center py-16",children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:697,columnNumber:11},void 0),t.jsxDEV("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No Folders Yet"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:698,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-500",children:"Create a folder to organize your albums, documents, and more."},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:699,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:696,columnNumber:9},void 0),s&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 pt-4 overflow-y-auto",children:t.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mb-4 mx-4 relative",children:[t.jsxDEV("div",{className:"flex justify-between items-start mb-6",children:[t.jsxDEV("div",{className:"flex-1",children:[s.parent_folder_id&&t.jsxDEV("button",{onClick:()=>xe(s.parent_folder_id),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-sm mb-2",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:715,columnNumber:21},void 0)," Back to parent folder"]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:711,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("span",{className:"text-3xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:719,columnNumber:19},void 0),t.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900",children:s.title},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:720,columnNumber:19},void 0),be?t.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Owner"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:722,columnNumber:21},void 0):t.jsxDEV("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ce(Fe||"read_only")}`,children:(Fe||"read_only").replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:726,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:718,columnNumber:17},void 0),s.description&&t.jsxDEV("p",{className:"text-gray-600 mt-1 ml-12",children:s.description},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:732,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:708,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{l(null),d([]),b([])},className:"text-gray-400 hover:text-gray-600 text-2xl",children:"x"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:735,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:707,columnNumber:13},void 0),be&&t.jsxDEV("div",{className:"flex gap-2 mb-6",children:[t.jsxDEV("button",{onClick:Q,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Edit"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:750,columnNumber:17},void 0),t.jsxDEV("button",{onClick:Ve,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Share"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:756,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:749,columnNumber:15},void 0),be&&A.length>0&&t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-3",children:"Shared with"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:768,columnNumber:17},void 0),t.jsxDEV("div",{className:"space-y-2",children:A.map(Me=>{var Ke,mr,Fa;return t.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-lg",children:Me.type==="circle"?"":""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:773,columnNumber:25},void 0),t.jsxDEV("span",{className:"font-medium",children:Me.type==="circle"?(Ke=Me.circles)==null?void 0:Ke.name:((mr=Me.profile)==null?void 0:mr.full_name)||((Fa=Me.profile)==null?void 0:Fa.email)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:774,columnNumber:25},void 0),t.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ce(Me.role)}`,children:Me.role.replace("_"," ")},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:777,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:772,columnNumber:23},void 0)},Me.id,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:771,columnNumber:21},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:769,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:767,columnNumber:15},void 0),u.length>0?t.jsxDEV("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map(Me=>t.jsxDEV("div",{className:"flex flex-col items-center p-3 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors group",onClick:()=>Je(Me),children:[t.jsxDEV("div",{className:"mb-2",children:Le(Me)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:796,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm text-gray-900 text-center truncate w-full",children:Ye(Me)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:799,columnNumber:21},void 0)]},Me.id,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:791,columnNumber:19},void 0))},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:789,columnNumber:15},void 0):t.jsxDEV("div",{className:"text-center py-16 text-gray-400",children:[t.jsxDEV("div",{className:"text-6xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:807,columnNumber:17},void 0),t.jsxDEV("p",{children:"Empty folder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:808,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:806,columnNumber:15},void 0),be&&t.jsxDEV("div",{className:"absolute bottom-6 right-6",children:[J&&t.jsxDEV("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-xl border w-56 overflow-hidden mb-2",children:[t.jsxDEV("button",{onClick:()=>{j(!1),Y(!0)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[t.jsxDEV("span",{className:"text-xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:825,columnNumber:23},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-gray-900",children:"New Subfolder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:827,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500",children:"Create a folder inside"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:828,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:826,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:818,columnNumber:21},void 0),t.jsxDEV("button",{onClick:we,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors border-t",children:[t.jsxDEV("span",{className:"text-xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:835,columnNumber:23},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-gray-900",children:"Add Album"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:837,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500",children:"Add an existing album"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:838,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:836,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:831,columnNumber:21},void 0),t.jsxDEV("button",{onClick:k,disabled:P,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors border-t disabled:opacity-50",children:[t.jsxDEV("span",{className:"text-xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:846,columnNumber:23},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-gray-900",children:P?"Uploading...":"Upload Document"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:848,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500",children:"Upload a file"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:851,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:847,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:841,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:817,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>j(!J),className:`w-14 h-14 rounded-full bg-blue-600 hover:bg-blue-700 text-white shadow-lg flex items-center justify-center transition-all ${J?"rotate-45":""}`,children:t.jsxDEV("span",{className:"text-3xl font-light",children:"+"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:861,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:857,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:814,columnNumber:15},void 0),t.jsxDEV("input",{type:"file",ref:S,onChange:de,className:"hidden",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,.md,.json,.zip"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:867,columnNumber:13},void 0),P&&t.jsxDEV("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center rounded-lg",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:880,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-gray-700 font-medium",children:K||"Uploading..."},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:881,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:879,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:878,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:706,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:705,columnNumber:9},void 0),O&&s&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Create Subfolder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:894,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{Y(!1),X(""),I("")},className:"text-gray-400 hover:text-gray-600 text-2xl",children:"x"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:895,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:893,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:ne,className:"p-6 space-y-4",children:[t.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center gap-2 text-sm text-gray-600",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:908,columnNumber:17},void 0),t.jsxDEV("span",{children:["Creating inside: ",t.jsxDEV("strong",{children:s.title},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:909,columnNumber:40},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:909,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:907,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder Name *"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:912,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",value:R,onChange:Me=>X(Me.target.value),placeholder:"Enter folder name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,autoFocus:!0},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:915,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:911,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:926,columnNumber:17},void 0),t.jsxDEV("textarea",{value:C,onChange:Me=>I(Me.target.value),placeholder:"Enter description",rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:929,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:925,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxDEV("button",{type:"button",onClick:()=>{Y(!1),X(""),I("")},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:938,columnNumber:17},void 0),t.jsxDEV("button",{type:"submit",disabled:!R.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-md transition-colors",children:"Create Subfolder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:949,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:937,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:906,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:892,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:891,columnNumber:9},void 0),H&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Create New Folder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:967,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>{te(!1),W(""),oe("")},className:"text-gray-400 hover:text-gray-600 text-2xl",children:"x"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:968,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:966,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:Pe,className:"p-6 space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder Name *"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:981,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",value:ye,onChange:Me=>W(Me.target.value),placeholder:"Enter folder name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,autoFocus:!0},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:984,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:980,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:995,columnNumber:17},void 0),t.jsxDEV("textarea",{value:he,onChange:Me=>oe(Me.target.value),placeholder:"Enter description",rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:998,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:994,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxDEV("button",{type:"button",onClick:()=>{te(!1),W(""),oe("")},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1007,columnNumber:17},void 0),t.jsxDEV("button",{type:"submit",disabled:!ye.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-md transition-colors",children:"Create Folder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1018,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1006,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:979,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:965,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:964,columnNumber:9},void 0),q&&s&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit Folder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1036,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"x"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1037,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1035,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:Ze,className:"p-6 space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder Name *"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1046,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",value:ke,onChange:Me=>Ne(Me.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,autoFocus:!0},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1049,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1045,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1059,columnNumber:17},void 0),t.jsxDEV("textarea",{value:je,onChange:Me=>Be(Me.target.value),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1062,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1058,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxDEV("button",{type:"button",onClick:()=>$(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1070,columnNumber:17},void 0),t.jsxDEV("button",{type:"submit",disabled:!ke.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-md transition-colors",children:"Save Changes"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1077,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1069,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1044,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1034,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1033,columnNumber:9},void 0),T&&s&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between",children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Share Folder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1095,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"x"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1096,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1094,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:xr,className:"p-6 space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Circles"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1105,columnNumber:17},void 0),t.jsxDEV("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-md p-2",children:p.map(Me=>t.jsxDEV("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[t.jsxDEV("input",{type:"checkbox",checked:De.includes(Me.id),onChange:Ke=>{Ke.target.checked?Xe([...De,Me.id]):Xe(De.filter(mr=>mr!==Me.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1111,columnNumber:23},void 0),t.jsxDEV("span",{className:"text-sm",children:Me.name},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1123,columnNumber:23},void 0)]},Me.id,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1110,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1108,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1104,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permission Level"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1129,columnNumber:17},void 0),t.jsxDEV("select",{value:ae,onChange:Me=>fe(Me.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsxDEV("option",{value:"read_only",children:"Read Only"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1137,columnNumber:19},void 0),t.jsxDEV("option",{value:"contributor",children:"Contributor"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1138,columnNumber:19},void 0),t.jsxDEV("option",{value:"editor",children:"Editor"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1139,columnNumber:19},void 0),t.jsxDEV("option",{value:"admin",children:"Admin"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1140,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1132,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1128,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsxDEV("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1144,columnNumber:17},void 0),t.jsxDEV("button",{type:"submit",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"Update Sharing"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1151,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1143,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1103,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1093,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1092,columnNumber:9},void 0),Ae&&s&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[80vh] flex flex-col",children:[t.jsxDEV("div",{className:"border-b px-6 py-4 flex items-center justify-between flex-shrink-0",children:[t.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:"Add Items to Folder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1168,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"x"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1169,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1167,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-6 overflow-y-auto flex-1",children:[t.jsxDEV("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1178,columnNumber:17},void 0),"Add Albums"]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1177,columnNumber:15},void 0),ee?t.jsxDEV("div",{className:"flex items-center justify-center py-8",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1184,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1183,columnNumber:17},void 0):ie.length===0?t.jsxDEV("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[t.jsxDEV("p",{className:"text-gray-500",children:"No albums available to add"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1188,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-sm text-gray-400 mt-1",children:"All your albums are already in this folder"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1189,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1187,columnNumber:17},void 0):t.jsxDEV("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:ie.map(Me=>{var Ke;return t.jsxDEV("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsxDEV("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:Me.keyphoto_thumbnail?t.jsxDEV("img",{src:Me.keyphoto_thumbnail,alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1200,columnNumber:27},void 0):t.jsxDEV("span",{className:"text-xl",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1202,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1198,columnNumber:23},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("p",{className:"font-medium text-gray-900 truncate",children:Me.title},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1206,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:[((Ke=Me.album_assets)==null?void 0:Ke.length)||0," photos"]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1207,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1205,columnNumber:23},void 0),t.jsxDEV("button",{onClick:()=>ra(Me.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md text-sm font-medium transition-colors flex-shrink-0",children:"Add"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1209,columnNumber:23},void 0)]},Me.id,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1194,columnNumber:21},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1192,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1176,columnNumber:13},void 0),t.jsxDEV("div",{className:"border-t px-6 py-4 flex justify-end flex-shrink-0",children:t.jsxDEV("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Done"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1221,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1220,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1166,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1165,columnNumber:9},void 0),se&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[70]",children:t.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-5xl h-[90vh] flex flex-col mx-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b flex-shrink-0",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"scale-75",children:Le(se)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1239,columnNumber:17},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"font-semibold text-gray-900",children:((ir=se.document)==null?void 0:ir.title)||Ye(se)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1241,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:((rr=se.document)==null?void 0:rr.file_mime_type)||"Document"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1242,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1240,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1238,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:[((tr=se.document)==null?void 0:tr.file_url)&&t.jsxDEV("a",{href:se.document.file_url,download:se.document.title,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors",children:"Download"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1247,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>Ee(null),className:"text-gray-400 hover:text-gray-600 text-2xl px-2",children:""},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1255,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1245,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1237,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex-1 overflow-auto bg-gray-100",children:se.document?nr(se.document.file_mime_type)?(_r=se.document.file_mime_type)!=null&&_r.startsWith("image/")?t.jsxDEV("div",{className:"flex items-center justify-center h-full p-4",children:t.jsxDEV("img",{src:se.document.file_url||"",alt:se.document.title,className:"max-w-full max-h-full object-contain"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1282,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1281,columnNumber:19},void 0):se.document.file_mime_type==="application/pdf"||Re(se.document.file_mime_type)?t.jsxDEV("iframe",{src:We(se.document.file_url||""),className:"w-full h-full",title:se.document.title},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1290,columnNumber:19},void 0):(Sr=se.document.file_mime_type)!=null&&Sr.startsWith("video/")?t.jsxDEV("div",{className:"flex items-center justify-center h-full p-4",children:t.jsxDEV("video",{src:se.document.file_url||"",controls:!0,className:"max-w-full max-h-full"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1297,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1296,columnNumber:19},void 0):(Ir=se.document.file_mime_type)!=null&&Ir.startsWith("audio/")?t.jsxDEV("div",{className:"flex items-center justify-center h-full p-4",children:t.jsxDEV("audio",{src:se.document.file_url||"",controls:!0,className:"w-full max-w-md"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1305,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1304,columnNumber:19},void 0):(za=se.document.file_mime_type)!=null&&za.startsWith("text/")||se.document.file_mime_type==="application/json"?t.jsxDEV("iframe",{src:se.document.file_url||"",className:"w-full h-full bg-white",title:se.document.title},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1313,columnNumber:19},void 0):t.jsxDEV("div",{className:"flex items-center justify-center h-full",children:t.jsxDEV("p",{className:"text-gray-500",children:"Preview not available"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1320,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1319,columnNumber:19},void 0):t.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[t.jsxDEV("div",{className:"mb-4",children:Le(se)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1326,columnNumber:19},void 0),t.jsxDEV("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Preview not available"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1327,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-gray-500 mb-6 max-w-md",children:["This file type (",((Xr=se.document)==null?void 0:Xr.file_mime_type)||"unknown",") cannot be previewed in the browser. Would you like to download it instead?"]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1330,columnNumber:19},void 0),((pa=se.document)==null?void 0:pa.file_url)&&t.jsxDEV("a",{href:se.document.file_url,download:se.document.title,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-medium transition-colors",children:"Download File"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1335,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1325,columnNumber:17},void 0):t.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[t.jsxDEV("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:t.jsxDEV("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1270,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1269,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1268,columnNumber:19},void 0),t.jsxDEV("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Document not found"},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1273,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-gray-500",children:"This document may have been deleted or is unavailable."},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1276,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1267,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1265,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1235,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:1234,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/FoldersManager.tsx",lineNumber:542,columnNumber:5},void 0)},tZ=()=>{};var g8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=function(i){const r=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?r[n++]=l:l<2048?(r[n++]=l>>6|192,r[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),r[n++]=l>>18|240,r[n++]=l>>12&63|128,r[n++]=l>>6&63|128,r[n++]=l&63|128):(r[n++]=l>>12|224,r[n++]=l>>6&63|128,r[n++]=l&63|128)}return r},nZ=function(i){const r=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)r[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];r[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],d=i[n++],A=i[n++],b=((l&7)<<18|(u&63)<<12|(d&63)<<6|A&63)-65536;r[s++]=String.fromCharCode(55296+(b>>10)),r[s++]=String.fromCharCode(56320+(b&1023))}else{const u=i[n++],d=i[n++];r[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return r.join("")},E9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,r){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,A=d?i[l+1]:0,b=l+2<i.length,p=b?i[l+2]:0,x=u>>2,N=(u&3)<<4|A>>4;let v=(A&15)<<2|p>>6,w=p&63;b||(w=64,d||(v=64)),s.push(n[x],n[N],n[v],n[w])}return s.join("")},encodeString(i,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(i):this.encodeByteArray(w9(i),r)},decodeString(i,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(i):nZ(this.decodeStringToByteArray(i,r))},decodeStringToByteArray(i,r){this.init_();const n=r?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],A=l<i.length?n[i.charAt(l)]:0;++l;const p=l<i.length?n[i.charAt(l)]:64;++l;const N=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||A==null||p==null||N==null)throw new iZ;const v=u<<2|A>>4;if(s.push(v),p!==64){const w=A<<4&240|p>>2;if(s.push(w),N!==64){const E=p<<6&192|N;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oZ=function(i){const r=w9(i);return E9.encodeByteArray(r,!0)},k9=function(i){return oZ(i).replace(/\./g,"")},sZ=function(i){try{return E9.decodeString(i,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ=()=>lZ().__FIREBASE_DEFAULTS__,uZ=()=>{if(typeof process>"u"||typeof g8>"u")return;const i=g8.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dZ=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=i&&sZ(i[1]);return r&&JSON.parse(r)},fZ=()=>{try{return tZ()||cZ()||uZ()||dZ()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},D9=()=>{var i;return(i=fZ())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}wrapCallback(r){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(n):r(n,s))}}}function V9(){try{return typeof indexedDB=="object"}catch{return!1}}function j9(){return new Promise((i,r)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;r(((u=l.error)==null?void 0:u.message)||"")}}catch(n){r(n)}})}function AZ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ="FirebaseError";class Ql extends Error{constructor(r,n,s){super(n),this.code=r,this.customData=s,this.name=bZ,Object.setPrototypeOf(this,Ql.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pm.prototype.create)}}class Pm{constructor(r,n,s){this.service=r,this.serviceName=n,this.errors=s}create(r,...n){const s=n[0]||{},l=`${this.service}/${r}`,u=this.errors[r],d=u?pZ(u,s):"Error",A=`${this.serviceName}: ${d} (${l}).`;return new Ql(l,A,s)}}function pZ(i,r){return i.replace(hZ,(n,s)=>{const l=r[s];return l!=null?String(l):`<${s}?>`})}const hZ=/\{\$([^}]+)}/g;function qh(i,r){if(i===r)return!0;const n=Object.keys(i),s=Object.keys(r);for(const l of n){if(!s.includes(l))return!1;const u=i[l],d=r[l];if(v8(u)&&v8(d)){if(!qh(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function v8(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(i){return i&&i._delegate?i._delegate:i}class qi{constructor(r,n,s){this.name=r,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(r,n){this.name=r,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const n=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(n)){const s=new mZ;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(r){const n=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),s=(r==null?void 0:r.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(NZ(r))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(r=Jo){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...r.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Jo){return this.instances.has(r)}getOptions(r=Jo){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:n={}}=r,s=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(u);s===A&&d.resolve(l)}return l}onInit(r,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(r),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&r(u,s),()=>{l.delete(r)}}invokeOnInitCallbacks(r,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(r,n)}catch{}}getOrInitializeService({instanceIdentifier:r,options:n={}}){let s=this.instances.get(r);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vZ(r),options:n}),this.instances.set(r,s),this.instancesOptions.set(r,n),this.invokeOnInitCallbacks(s,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,s)}catch{}return s||null}normalizeInstanceIdentifier(r=Jo){return this.component?this.component.multipleInstances?r:Jo:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vZ(i){return i===Jo?void 0:i}function NZ(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const n=this.getProvider(r.name);if(n.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);n.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const n=new gZ(r,this);return this.providers.set(r,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var na;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(na||(na={}));const yZ={debug:na.DEBUG,verbose:na.VERBOSE,info:na.INFO,warn:na.WARN,error:na.ERROR,silent:na.SILENT},wZ=na.INFO,EZ={[na.DEBUG]:"log",[na.VERBOSE]:"log",[na.INFO]:"info",[na.WARN]:"warn",[na.ERROR]:"error"},kZ=(i,r,...n)=>{if(r<i.logLevel)return;const s=new Date().toISOString(),l=EZ[r];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class DZ{constructor(r){this.name=r,this._logLevel=wZ,this._logHandler=kZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in na))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?yZ[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,na.DEBUG,...r),this._logHandler(this,na.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,na.VERBOSE,...r),this._logHandler(this,na.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,na.INFO,...r),this._logHandler(this,na.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,na.WARN,...r),this._logHandler(this,na.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,na.ERROR,...r),this._logHandler(this,na.ERROR,...r)}}const VZ=(i,r)=>r.some(n=>i instanceof n);let N8,x8;function jZ(){return N8||(N8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CZ(){return x8||(x8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _9=new WeakMap,Kh=new WeakMap,S9=new WeakMap,Yp=new WeakMap,z4=new WeakMap;function _Z(i){const r=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Wn(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return r.then(n=>{n instanceof IDBCursor&&_9.set(n,i)}).catch(()=>{}),z4.set(r,i),r}function SZ(i){if(Kh.has(i))return;const r=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Kh.set(i,r)}let e4={get(i,r,n){if(i instanceof IDBTransaction){if(r==="done")return Kh.get(i);if(r==="objectStoreNames")return i.objectStoreNames||S9.get(i);if(r==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wn(i[r])},set(i,r,n){return i[r]=n,!0},has(i,r){return i instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in i}};function MZ(i){e4=i(e4)}function IZ(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...n){const s=i.call(Hp(this),r,...n);return S9.set(s,r.sort?r.sort():[r]),Wn(s)}:CZ().includes(i)?function(...r){return i.apply(Hp(this),r),Wn(_9.get(this))}:function(...r){return Wn(i.apply(Hp(this),r))}}function RZ(i){return typeof i=="function"?IZ(i):(i instanceof IDBTransaction&&SZ(i),VZ(i,jZ())?new Proxy(i,e4):i)}function Wn(i){if(i instanceof IDBRequest)return _Z(i);if(Yp.has(i))return Yp.get(i);const r=RZ(i);return r!==i&&(Yp.set(i,r),z4.set(r,i)),r}const Hp=i=>z4.get(i);function Wm(i,r,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(i,r),A=Wn(d);return s&&d.addEventListener("upgradeneeded",b=>{s(Wn(d.result),b.oldVersion,b.newVersion,Wn(d.transaction),b)}),n&&d.addEventListener("blocked",b=>n(b.oldVersion,b.newVersion,b)),A.then(b=>{u&&b.addEventListener("close",()=>u()),l&&b.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),A}function Jp(i,{blocked:r}={}){const n=indexedDB.deleteDatabase(i);return r&&n.addEventListener("blocked",s=>r(s.oldVersion,s)),Wn(n).then(()=>{})}const TZ=["get","getKey","getAll","getAllKeys","count"],BZ=["put","add","delete","clear"],Qp=new Map;function y8(i,r){if(!(i instanceof IDBDatabase&&!(r in i)&&typeof r=="string"))return;if(Qp.get(r))return Qp.get(r);const n=r.replace(/FromIndex$/,""),s=r!==n,l=BZ.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||TZ.includes(n)))return;const u=async function(d,...A){const b=this.transaction(d,l?"readwrite":"readonly");let p=b.store;return s&&(p=p.index(A.shift())),(await Promise.all([p[n](...A),l&&b.done]))[0]};return Qp.set(r,u),u}MZ(i=>({...i,get:(r,n,s)=>y8(r,n)||i.get(r,n,s),has:(r,n)=>!!y8(r,n)||i.has(r,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZZ(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZZ(i){const r=i.getComponent();return(r==null?void 0:r.type)==="VERSION"}const r4="@firebase/app",w8="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new DZ("@firebase/app"),OZ="@firebase/app-compat",PZ="@firebase/analytics-compat",WZ="@firebase/analytics",GZ="@firebase/app-check-compat",UZ="@firebase/app-check",XZ="@firebase/auth",zZ="@firebase/auth-compat",LZ="@firebase/database",YZ="@firebase/data-connect",HZ="@firebase/database-compat",JZ="@firebase/functions",QZ="@firebase/functions-compat",$Z="@firebase/installations",qZ="@firebase/installations-compat",KZ="@firebase/messaging",eO="@firebase/messaging-compat",rO="@firebase/performance",aO="@firebase/performance-compat",tO="@firebase/remote-config",nO="@firebase/remote-config-compat",iO="@firebase/storage",oO="@firebase/storage-compat",sO="@firebase/firestore",lO="@firebase/ai",cO="@firebase/firestore-compat",uO="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="[DEFAULT]",dO={[r4]:"fire-core",[OZ]:"fire-core-compat",[WZ]:"fire-analytics",[PZ]:"fire-analytics-compat",[UZ]:"fire-app-check",[GZ]:"fire-app-check-compat",[XZ]:"fire-auth",[zZ]:"fire-auth-compat",[LZ]:"fire-rtdb",[YZ]:"fire-data-connect",[HZ]:"fire-rtdb-compat",[JZ]:"fire-fn",[QZ]:"fire-fn-compat",[$Z]:"fire-iid",[qZ]:"fire-iid-compat",[KZ]:"fire-fcm",[eO]:"fire-fcm-compat",[rO]:"fire-perf",[aO]:"fire-perf-compat",[tO]:"fire-rc",[nO]:"fire-rc-compat",[iO]:"fire-gcs",[oO]:"fire-gcs-compat",[sO]:"fire-fst",[cO]:"fire-fst-compat",[lO]:"fire-vertex","fire-js":"fire-js",[uO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new Map,fO=new Map,t4=new Map;function E8(i,r){try{i.container.addComponent(r)}catch(n){Xn.debug(`Component ${r.name} failed to register with FirebaseApp ${i.name}`,n)}}function As(i){const r=i.name;if(t4.has(r))return Xn.debug(`There were multiple attempts to register component ${r}.`),!1;t4.set(r,i);for(const n of Nm.values())E8(n,i);for(const n of fO.values())E8(n,i);return!0}function L4(i,r){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Pm("app","Firebase",mO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(r,n,s){this._isDeleted=!1,this._options={...r},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}function M9(i,r={}){let n=i;typeof r!="object"&&(r={name:r});const s={name:a4,automaticDataCollectionEnabled:!0,...r},l=s.name;if(typeof l!="string"||!l)throw Xi.create("bad-app-name",{appName:String(l)});if(n||(n=D9()),!n)throw Xi.create("no-options");const u=Nm.get(l);if(u){if(qh(n,u.options)&&qh(s,u.config))return u;throw Xi.create("duplicate-app",{appName:l})}const d=new xZ(l);for(const b of t4.values())d.addComponent(b);const A=new AO(n,s,d);return Nm.set(l,A),A}function bO(i=a4){const r=Nm.get(i);if(!r&&i===a4&&D9())return M9();if(!r)throw Xi.create("no-app",{appName:i});return r}function zi(i,r,n){let s=dO[i]??i;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=r.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${r}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Xn.warn(d.join(" "));return}As(new qi(`${s}-version`,()=>({library:s,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="firebase-heartbeat-database",hO=1,qu="firebase-heartbeat-store";let $p=null;function I9(){return $p||($p=Wm(pO,hO,{upgrade:(i,r)=>{switch(r){case 0:try{i.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xi.create("idb-open",{originalErrorMessage:i.message})})),$p}async function gO(i){try{const n=(await I9()).transaction(qu),s=await n.objectStore(qu).get(R9(i));return await n.done,s}catch(r){if(r instanceof Ql)Xn.warn(r.message);else{const n=Xi.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});Xn.warn(n.message)}}}async function k8(i,r){try{const s=(await I9()).transaction(qu,"readwrite");await s.objectStore(qu).put(r,R9(i)),await s.done}catch(n){if(n instanceof Ql)Xn.warn(n.message);else{const s=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xn.warn(s.message)}}}function R9(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=1024,NO=30;class xO{constructor(r){this.container=r,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var r,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D8();if(((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>NO){const d=EO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xn.warn(s)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D8(),{heartbeatsToSend:s,unsentEntries:l}=yO(this._heartbeatsCache.heartbeats),u=k9(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Xn.warn(n),""}}}function D8(){return new Date().toISOString().substring(0,10)}function yO(i,r=vO){const n=[];let s=i.slice();for(const l of i){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),V8(n)>r){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),V8(n)>r){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class wO{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V9()?j9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const s=await this.read();return k8(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const s=await this.read();return k8(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...r.heartbeats]})}else return}}function V8(i){return k9(JSON.stringify({version:2,heartbeats:i})).length}function EO(i){if(i.length===0)return-1;let r=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,r=s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(i){As(new qi("platform-logger",r=>new FZ(r),"PRIVATE")),As(new qi("heartbeat",r=>new xO(r),"PRIVATE")),zi(r4,w8,i),zi(r4,w8,"esm2020"),zi("fire-js","")}kO("");var DO="firebase",VO="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(DO,VO,"app");const T9="@firebase/installations",Y4="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=1e4,F9=`w:${Y4}`,Z9="FIS_v2",jO="https://firebaseinstallations.googleapis.com/v1",CO=60*60*1e3,_O="installations",SO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bs=new Pm(_O,SO,MO);function O9(i){return i instanceof Ql&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9({projectId:i}){return`${jO}/projects/${i}/installations`}function W9(i){return{token:i.token,requestStatus:2,expiresIn:RO(i.expiresIn),creationTime:Date.now()}}async function G9(i,r){const s=(await r.json()).error;return bs.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function U9({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function IO(i,{refreshToken:r}){const n=U9(i);return n.append("Authorization",TO(r)),n}async function X9(i){const r=await i();return r.status>=500&&r.status<600?i():r}function RO(i){return Number(i.replace("s","000"))}function TO(i){return`${Z9} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO({appConfig:i,heartbeatServiceProvider:r},{fid:n}){const s=P9(i),l=U9(i),u=r.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={fid:n,authVersion:Z9,appId:i.appId,sdkVersion:F9},A={method:"POST",headers:l,body:JSON.stringify(d)},b=await X9(()=>fetch(s,A));if(b.ok){const p=await b.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:W9(p.authToken)}}else throw await G9("Create Installation",b)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(i){return new Promise(r=>{setTimeout(r,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^[cdef][\w-]{21}$/,n4="";function OO(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=PO(i);return ZO.test(n)?n:n4}catch{return n4}}function PO(i){return FO(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new Map;function Y9(i,r){const n=Gm(i);H9(n,r),WO(n,r)}function H9(i,r){const n=L9.get(i);if(n)for(const s of n)s(r)}function WO(i,r){const n=GO();n&&n.postMessage({key:i,fid:r}),UO()}let is=null;function GO(){return!is&&"BroadcastChannel"in self&&(is=new BroadcastChannel("[Firebase] FID Change"),is.onmessage=i=>{H9(i.data.key,i.data.fid)}),is}function UO(){L9.size===0&&is&&(is.close(),is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="firebase-installations-database",zO=1,ps="firebase-installations-store";let qp=null;function H4(){return qp||(qp=Wm(XO,zO,{upgrade:(i,r)=>{switch(r){case 0:i.createObjectStore(ps)}}})),qp}async function xm(i,r){const n=Gm(i),l=(await H4()).transaction(ps,"readwrite"),u=l.objectStore(ps),d=await u.get(n);return await u.put(r,n),await l.done,(!d||d.fid!==r.fid)&&Y9(i,r.fid),r}async function J9(i){const r=Gm(i),s=(await H4()).transaction(ps,"readwrite");await s.objectStore(ps).delete(r),await s.done}async function Um(i,r){const n=Gm(i),l=(await H4()).transaction(ps,"readwrite"),u=l.objectStore(ps),d=await u.get(n),A=r(d);return A===void 0?await u.delete(n):await u.put(A,n),await l.done,A&&(!d||d.fid!==A.fid)&&Y9(i,A.fid),A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(i){let r;const n=await Um(i.appConfig,s=>{const l=LO(s),u=YO(i,l);return r=u.registrationPromise,u.installationEntry});return n.fid===n4?{installationEntry:await r}:{installationEntry:n,registrationPromise:r}}function LO(i){const r=i||{fid:OO(),registrationStatus:0};return Q9(r)}function YO(i,r){if(r.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(bs.create("app-offline"));return{installationEntry:r,registrationPromise:l}}const n={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},s=HO(i,n);return{installationEntry:n,registrationPromise:s}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:JO(i)}:{installationEntry:r}}async function HO(i,r){try{const n=await BO(i,r);return xm(i.appConfig,n)}catch(n){throw O9(n)&&n.customData.serverCode===409?await J9(i.appConfig):await xm(i.appConfig,{fid:r.fid,registrationStatus:0}),n}}async function JO(i){let r=await j8(i.appConfig);for(;r.registrationStatus===1;)await z9(100),r=await j8(i.appConfig);if(r.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await J4(i);return s||n}return r}function j8(i){return Um(i,r=>{if(!r)throw bs.create("installation-not-found");return Q9(r)})}function Q9(i){return QO(i)?{fid:i.fid,registrationStatus:0}:i}function QO(i){return i.registrationStatus===1&&i.registrationTime+B9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O({appConfig:i,heartbeatServiceProvider:r},n){const s=qO(i,n),l=IO(i,n),u=r.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={installation:{sdkVersion:F9,appId:i.appId}},A={method:"POST",headers:l,body:JSON.stringify(d)},b=await X9(()=>fetch(s,A));if(b.ok){const p=await b.json();return W9(p)}else throw await G9("Generate Auth Token",b)}function qO(i,{fid:r}){return`${P9(i)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(i,r=!1){let n;const s=await Um(i.appConfig,u=>{if(!$9(u))throw bs.create("not-registered");const d=u.authToken;if(!r&&rP(d))return u;if(d.requestStatus===1)return n=KO(i,r),u;{if(!navigator.onLine)throw bs.create("app-offline");const A=tP(u);return n=eP(i,A),A}});return n?await n:s.authToken}async function KO(i,r){let n=await C8(i.appConfig);for(;n.authToken.requestStatus===1;)await z9(100),n=await C8(i.appConfig);const s=n.authToken;return s.requestStatus===0?Q4(i,r):s}function C8(i){return Um(i,r=>{if(!$9(r))throw bs.create("not-registered");const n=r.authToken;return nP(n)?{...r,authToken:{requestStatus:0}}:r})}async function eP(i,r){try{const n=await $O(i,r),s={...r,authToken:n};return await xm(i.appConfig,s),n}catch(n){if(O9(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await J9(i.appConfig);else{const s={...r,authToken:{requestStatus:0}};await xm(i.appConfig,s)}throw n}}function $9(i){return i!==void 0&&i.registrationStatus===2}function rP(i){return i.requestStatus===2&&!aP(i)}function aP(i){const r=Date.now();return r<i.creationTime||i.creationTime+i.expiresIn<r+CO}function tP(i){const r={requestStatus:1,requestTime:Date.now()};return{...i,authToken:r}}function nP(i){return i.requestStatus===1&&i.requestTime+B9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(i){const r=i,{installationEntry:n,registrationPromise:s}=await J4(r);return s?s.catch(console.error):Q4(r).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(i,r=!1){const n=i;return await sP(n),(await Q4(n,r)).token}async function sP(i){const{registrationPromise:r}=await J4(i);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(i){if(!i||!i.options)throw Kp("App Configuration");if(!i.name)throw Kp("App Name");const r=["projectId","apiKey","appId"];for(const n of r)if(!i.options[n])throw Kp(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Kp(i){return bs.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="installations",cP="installations-internal",uP=i=>{const r=i.getProvider("app").getImmediate(),n=lP(r),s=L4(r,"heartbeat");return{app:r,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},dP=i=>{const r=i.getProvider("app").getImmediate(),n=L4(r,q9).getImmediate();return{getId:()=>iP(n),getToken:l=>oP(n,l)}};function fP(){As(new qi(q9,uP,"PUBLIC")),As(new qi(cP,dP,"PRIVATE"))}fP();zi(T9,Y4);zi(T9,Y4,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="/firebase-messaging-sw.js",AP="/firebase-cloud-messaging-push-scope",K9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bP="https://fcmregistrations.googleapis.com/v1",e7="google.c.a.c_id",pP="google.c.a.c_l",hP="google.c.a.ts",gP="google.c.a.e",_8=1e4;var S8;(function(i){i[i.DATA_MESSAGE=1]="DATA_MESSAGE",i[i.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(S8||(S8={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ku;(function(i){i.PUSH_RECEIVED="push-received",i.NOTIFICATION_CLICKED="notification-clicked"})(Ku||(Ku={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(i){const r=new Uint8Array(i);return btoa(String.fromCharCode(...r)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vP(i){const r="=".repeat((4-i.length%4)%4),n=(i+r).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(n),l=new Uint8Array(s.length);for(let u=0;u<s.length;++u)l[u]=s.charCodeAt(u);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="fcm_token_details_db",NP=5,M8="fcm_token_object_Store";async function xP(i){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(eh))return null;let r=null;return(await Wm(eh,NP,{upgrade:async(s,l,u,d)=>{if(l<2||!s.objectStoreNames.contains(M8))return;const A=d.objectStore(M8),b=await A.index("fcmSenderId").get(i);if(await A.clear(),!!b){if(l===2){const p=b;if(!p.auth||!p.p256dh||!p.endpoint)return;r={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:On(p.vapidKey)}}}else if(l===3){const p=b;r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:On(p.auth),p256dh:On(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:On(p.vapidKey)}}}else if(l===4){const p=b;r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:On(p.auth),p256dh:On(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:On(p.vapidKey)}}}}}})).close(),await Jp(eh),await Jp("fcm_vapid_details_db"),await Jp("undefined"),yP(r)?r:null}function yP(i){if(!i||!i.subscriptionOptions)return!1;const{subscriptionOptions:r}=i;return typeof i.createTime=="number"&&i.createTime>0&&typeof i.token=="string"&&i.token.length>0&&typeof r.auth=="string"&&r.auth.length>0&&typeof r.p256dh=="string"&&r.p256dh.length>0&&typeof r.endpoint=="string"&&r.endpoint.length>0&&typeof r.swScope=="string"&&r.swScope.length>0&&typeof r.vapidKey=="string"&&r.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="firebase-messaging-database",EP=1,ed="firebase-messaging-store";let rh=null;function r7(){return rh||(rh=Wm(wP,EP,{upgrade:(i,r)=>{switch(r){case 0:i.createObjectStore(ed)}}})),rh}async function kP(i){const r=a7(i),s=await(await r7()).transaction(ed).objectStore(ed).get(r);if(s)return s;{const l=await xP(i.appConfig.senderId);if(l)return await $4(i,l),l}}async function $4(i,r){const n=a7(i),l=(await r7()).transaction(ed,"readwrite");return await l.objectStore(ed).put(r,n),await l.done,r}function a7({appConfig:i}){return i.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Nt=new Pm("messaging","Messaging",DP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(i,r){const n=await K4(i),s=t7(r),l={method:"POST",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(q4(i.appConfig),l)).json()}catch(d){throw Nt.create("token-subscribe-failed",{errorInfo:d==null?void 0:d.toString()})}if(u.error){const d=u.error.message;throw Nt.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw Nt.create("token-subscribe-no-token");return u.token}async function jP(i,r){const n=await K4(i),s=t7(r.subscriptionOptions),l={method:"PATCH",headers:n,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${q4(i.appConfig)}/${r.token}`,l)).json()}catch(d){throw Nt.create("token-update-failed",{errorInfo:d==null?void 0:d.toString()})}if(u.error){const d=u.error.message;throw Nt.create("token-update-failed",{errorInfo:d})}if(!u.token)throw Nt.create("token-update-no-token");return u.token}async function CP(i,r){const s={method:"DELETE",headers:await K4(i)};try{const u=await(await fetch(`${q4(i.appConfig)}/${r}`,s)).json();if(u.error){const d=u.error.message;throw Nt.create("token-unsubscribe-failed",{errorInfo:d})}}catch(l){throw Nt.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function q4({projectId:i}){return`${bP}/projects/${i}/registrations`}async function K4({appConfig:i,installations:r}){const n=await r.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function t7({p256dh:i,auth:r,endpoint:n,vapidKey:s}){const l={web:{endpoint:n,auth:r,p256dh:i}};return s!==K9&&(l.web.applicationPubKey=s),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=7*24*60*60*1e3;async function SP(i){const r=await IP(i.swRegistration,i.vapidKey),n={vapidKey:i.vapidKey,swScope:i.swRegistration.scope,endpoint:r.endpoint,auth:On(r.getKey("auth")),p256dh:On(r.getKey("p256dh"))},s=await kP(i.firebaseDependencies);if(s){if(RP(s.subscriptionOptions,n))return Date.now()>=s.createTime+_P?MP(i,{token:s.token,createTime:Date.now(),subscriptionOptions:n}):s.token;try{await CP(i.firebaseDependencies,s.token)}catch(l){console.warn(l)}return I8(i.firebaseDependencies,n)}else return I8(i.firebaseDependencies,n)}async function MP(i,r){try{const n=await jP(i.firebaseDependencies,r),s={...r,token:n,createTime:Date.now()};return await $4(i.firebaseDependencies,s),n}catch(n){throw n}}async function I8(i,r){const s={token:await VP(i,r),createTime:Date.now(),subscriptionOptions:r};return await $4(i,s),s.token}async function IP(i,r){const n=await i.pushManager.getSubscription();return n||i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vP(r)})}function RP(i,r){const n=r.vapidKey===i.vapidKey,s=r.endpoint===i.endpoint,l=r.auth===i.auth,u=r.p256dh===i.p256dh;return n&&s&&l&&u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(i){const r={from:i.from,collapseKey:i.collapse_key,messageId:i.fcmMessageId};return TP(r,i),BP(r,i),FP(r,i),r}function TP(i,r){if(!r.notification)return;i.notification={};const n=r.notification.title;n&&(i.notification.title=n);const s=r.notification.body;s&&(i.notification.body=s);const l=r.notification.image;l&&(i.notification.image=l);const u=r.notification.icon;u&&(i.notification.icon=u)}function BP(i,r){r.data&&(i.data=r.data)}function FP(i,r){var l,u,d,A;if(!r.fcmOptions&&!((l=r.notification)!=null&&l.click_action))return;i.fcmOptions={};const n=((u=r.fcmOptions)==null?void 0:u.link)??((d=r.notification)==null?void 0:d.click_action);n&&(i.fcmOptions.link=n);const s=(A=r.fcmOptions)==null?void 0:A.analytics_label;s&&(i.fcmOptions.analyticsLabel=s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(i){return typeof i=="object"&&!!i&&e7 in i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(i){if(!i||!i.options)throw ah("App Configuration Object");if(!i.name)throw ah("App Name");const r=["projectId","apiKey","appId","messagingSenderId"],{options:n}=i;for(const s of r)if(!n[s])throw ah(s);return{appName:i.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ah(i){return Nt.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(r,n,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=OP(r);this.firebaseDependencies={app:r,appConfig:l,installations:n,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(i){try{i.swRegistration=await navigator.serviceWorker.register(mP,{scope:AP}),i.swRegistration.update().catch(()=>{}),await GP(i.swRegistration)}catch(r){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:r==null?void 0:r.message})}}async function GP(i){return new Promise((r,n)=>{const s=setTimeout(()=>n(new Error(`Service worker not registered after ${_8} ms`)),_8),l=i.installing||i.waiting;i.active?(clearTimeout(s),r()):l?l.onstatechange=u=>{var d;((d=u.target)==null?void 0:d.state)==="activated"&&(l.onstatechange=null,clearTimeout(s),r())}:(clearTimeout(s),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(i,r){if(!r&&!i.swRegistration&&await WP(i),!(!r&&i.swRegistration)){if(!(r instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");i.swRegistration=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(i,r){r?i.vapidKey=r:i.vapidKey||(i.vapidKey=K9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(i,r){if(!navigator)throw Nt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Nt.create("permission-blocked");return await XP(i,r==null?void 0:r.vapidKey),await UP(i,r==null?void 0:r.serviceWorkerRegistration),SP(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(i,r,n){const s=LP(r);(await i.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:n[e7],message_name:n[pP],message_time:n[hP],message_device_time:Math.floor(Date.now()/1e3)})}function LP(i){switch(i){case Ku.NOTIFICATION_CLICKED:return"notification_open";case Ku.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(i,r){const n=r.data;if(!n.isFirebaseMessaging)return;i.onMessageHandler&&n.messageType===Ku.PUSH_RECEIVED&&(typeof i.onMessageHandler=="function"?i.onMessageHandler(R8(n)):i.onMessageHandler.next(R8(n)));const s=n.data;ZP(s)&&s[gP]==="1"&&await zP(i,n.messageType,s)}const T8="@firebase/messaging",B8="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=i=>{const r=new PP(i.getProvider("app").getImmediate(),i.getProvider("installations-internal").getImmediate(),i.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>YP(r,n)),r},JP=i=>{const r=i.getProvider("messaging").getImmediate();return{getToken:s=>n7(r,s)}};function QP(){As(new qi("messaging",HP,"PUBLIC")),As(new qi("messaging-internal",JP,"PRIVATE")),zi(T8,B8),zi(T8,B8,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(){try{await j9()}catch{return!1}return typeof window<"u"&&V9()&&AZ()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(i=bO()){return $P().then(r=>{if(!r)throw Nt.create("unsupported-browser")},r=>{throw Nt.create("indexed-db-unsupported")}),L4(C9(i),"messaging").getImmediate()}async function KP(i,r){return i=C9(i),n7(i,r)}QP();const Gi={apiKey:"AIzaSyBzrrVMBC-E2Li-G8xCHWOv58c3B5Wxhbk",authDomain:"knox-da727.firebaseapp.com",projectId:"knox-da727",storageBucket:"knox-da727.firebasestorage.app",messagingSenderId:"444219013214",appId:"1:444219013214:web:5c4b3db1f31dd2e4a29ccf"};let th=null,nh=null;function i7(){return!Gi.apiKey||!Gi.projectId?(console.warn("Firebase config is missing. Please add VITE_FIREBASE_* variables to .env"),null):(th||(th=M9(Gi)),th)}function o7(){const i=i7();if(!i)return null;if(!nh)try{nh=qP(i)}catch(r){return console.error("Failed to initialize Firebase Messaging:",r),null}return nh}const eW="BHIIWhCz6iYlc51YF3Mb4rs-BpkgrsL9vuGVGYiwAPzfOMS6Nh8mOvdPNiIiuIIAfbIowRxNUyagemxdp04WT-0";function ud(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}function s7(){return ud()?Notification.permission:"unsupported"}async function rW(){if(!ud())throw new Error("Push notifications are not supported in this browser");return await Notification.requestPermission()}async function l7(){if(!("serviceWorker"in navigator))return console.warn("Service workers not supported"),null;try{const i=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});return console.log("Service Worker registered:",i.scope),i}catch(i){throw console.error("Service Worker registration failed:",i),i}}async function aW(i){try{const r=await l7();if(!r)return null;const n=await KP(i,{vapidKey:eW,serviceWorkerRegistration:r});return n?(console.log("FCM Token obtained:",n.substring(0,20)+"..."),n):(console.warn("No FCM token available. Request permission first."),null)}catch(r){throw console.error("Failed to get FCM token:",r),r}}async function tW(){const i={supported:ud(),permission:s7(),token:null,error:null};if(!i.supported)return i.error="Push notifications are not supported in this browser",i;const r=o7();if(!r)return i.error="Firebase Messaging not initialized. Check Firebase configuration.",i;if(i.permission!=="granted")try{i.permission=await rW()}catch(n){return i.error=`Permission request failed: ${n}`,i}if(i.permission!=="granted")return i.error="Notification permission denied by user",i;try{i.token=await aW(r)}catch(n){i.error=`Failed to get FCM token: ${n}`}return i}function nW(i,r){if(!ud()){console.warn("Notifications not supported");return}if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}new Notification(i,{icon:"/logo192.png",badge:"/logo192.png",...r})}function iW(){const i=[{key:"apiKey",envVar:"VITE_FIREBASE_API_KEY"},{key:"authDomain",envVar:"VITE_FIREBASE_AUTH_DOMAIN"},{key:"projectId",envVar:"VITE_FIREBASE_PROJECT_ID"},{key:"storageBucket",envVar:"VITE_FIREBASE_STORAGE_BUCKET"},{key:"messagingSenderId",envVar:"VITE_FIREBASE_MESSAGING_SENDER_ID"},{key:"appId",envVar:"VITE_FIREBASE_APP_ID"}],r=[],n=[];for(const{key:s,envVar:l}of i){const u=Gi[s];!u||u===""?r.push(l):n.push(l)}return r.length===0?{name:"Firebase Config Variables",passed:!0,message:"All Firebase config variables are set",details:{present:n}}:{name:"Firebase Config Variables",passed:!1,message:`Missing Firebase config: ${r.join(", ")}`,details:{missing:r,present:n}}}function oW(){const i="BHIIWhCz6iYlc51YF3Mb4rs-BpkgrsL9vuGVGYiwAPzfOMS6Nh8mOvdPNiIiuIIAfbIowRxNUyagemxdp04WT-0";return i.length>0?{name:"VAPID Key",passed:!0,message:"VAPID key is configured",details:{keyLength:i.length}}:{name:"VAPID Key",passed:!1,message:"VITE_FIREBASE_VAPID_KEY is not set. Get it from Firebase Console > Project Settings > Cloud Messaging > Web Push certificates"}}function sW(){const i=ud(),r={Notification:"Notification"in window,serviceWorker:"serviceWorker"in navigator,PushManager:"PushManager"in window};return i?{name:"Browser Support",passed:!0,message:"Browser supports push notifications",details:r}:{name:"Browser Support",passed:!1,message:`Browser missing: ${Object.entries(r).filter(([,s])=>!s).map(([s])=>s).join(", ")}`,details:r}}function lW(){const i=s7();return i==="granted"?{name:"Notification Permission",passed:!0,message:"Notifications are allowed",details:{permission:i}}:i==="denied"?{name:"Notification Permission",passed:!1,message:"Notifications are blocked. User must enable in browser settings.",details:{permission:i}}:{name:"Notification Permission",passed:!1,message:"Notification permission not yet requested (default)",details:{permission:i}}}function cW(){try{const i=i7();return i?{name:"Firebase App Initialization",passed:!0,message:"Firebase app initialized successfully",details:{name:i.name,options:{projectId:i.options.projectId}}}:{name:"Firebase App Initialization",passed:!1,message:"Firebase app not initialized - check config"}}catch(i){return{name:"Firebase App Initialization",passed:!1,message:`Firebase init error: ${i}`,details:{error:String(i)}}}}function uW(){try{return o7()?{name:"Firebase Messaging Initialization",passed:!0,message:"Firebase Messaging initialized successfully"}:{name:"Firebase Messaging Initialization",passed:!1,message:"Firebase Messaging not initialized - check Firebase app init"}}catch(i){return{name:"Firebase Messaging Initialization",passed:!1,message:`Messaging init error: ${i}`,details:{error:String(i)}}}}async function dW(){var i;try{const r=await l7();return r?{name:"Service Worker Registration",passed:!0,message:"Service worker registered successfully",details:{scope:r.scope,state:(i=r.active)==null?void 0:i.state}}:{name:"Service Worker Registration",passed:!1,message:"Service worker registration returned null"}}catch(r){return{name:"Service Worker Registration",passed:!1,message:`Service worker error: ${r}`,details:{error:String(r)}}}}async function fW(){try{const i=await tW();return i.token?{name:"Full Push Notification Init",passed:!0,message:"Push notifications fully configured!",details:{supported:i.supported,permission:i.permission,tokenPreview:i.token.substring(0,30)+"..."}}:{name:"Full Push Notification Init",passed:!1,message:i.error||"Failed to get FCM token",details:{...i}}}catch(i){return{name:"Full Push Notification Init",passed:!1,message:`Initialization error: ${i}`,details:{error:String(i)}}}}async function c7(){console.log(` Running Firebase Push Notification Tests...
`);const i=[];i.push(iW()),i.push(oW()),i.push(sW()),i.push(lW()),i.push(cW()),i.push(uW()),i.push(await dW()),i.push(await fW()),console.log(`
 Test Results:
`);for(const n of i){const s=n.passed?"":"";console.log(`${s} ${n.name}: ${n.message}`),n.details&&!n.passed&&console.log("   Details:",n.details)}const r={total:i.length,passed:i.filter(n=>n.passed).length,failed:i.filter(n=>!n.passed).length};return console.log(`
 Summary: ${r.passed}/${r.total} tests passed`),r.failed>0&&(console.log(`
 To fix issues:`),console.log("1. Add Firebase config to .env (see .env.example)"),console.log("2. Get VAPID key from Firebase Console > Cloud Messaging"),console.log("3. Ensure you're running on HTTPS (required for service workers)")),{timestamp:new Date().toISOString(),browser:navigator.userAgent,results:i,summary:r}}function u7(){const i=[];return Gi.apiKey||i.push("Missing VITE_FIREBASE_API_KEY"),Gi.projectId||i.push("Missing VITE_FIREBASE_PROJECT_ID"),Gi.messagingSenderId||i.push("Missing VITE_FIREBASE_MESSAGING_SENDER_ID"),Gi.appId||i.push("Missing VITE_FIREBASE_APP_ID"),{configured:i.length===0,issues:i}}function d7(){nW("Kizu Photo Test",{body:"Push notifications are working! ",tag:"test-notification"})}typeof window<"u"&&(window.testFirebasePush={runTests:c7,quickCheck:u7,sendTest:d7},console.log(" Firebase Push Test loaded. Run: testFirebasePush.runTests()"));function mW(){const[i,r]=h.useState(null),[n,s]=h.useState(!1),[l,u]=h.useState(null),d=()=>{const p=u7();u(p)},A=async()=>{s(!0),r(null);try{const p=await c7();r(p)}catch(p){console.error("Test failed:",p)}finally{s(!1)}},b=()=>{d7()};return t.jsxDEV("div",{className:"p-6 max-w-4xl mx-auto",children:[t.jsxDEV("h1",{className:"text-2xl font-bold mb-6",children:"Firebase Push Notification Test"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:38,columnNumber:7},this),t.jsxDEV("div",{className:"space-y-4 mb-8",children:t.jsxDEV("div",{className:"flex gap-4",children:[t.jsxDEV("button",{onClick:d,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Quick Config Check"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:42,columnNumber:11},this),t.jsxDEV("button",{onClick:A,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:n?"Running Tests...":"Run Full Test Suite"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:48,columnNumber:11},this),t.jsxDEV("button",{onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Send Test Notification"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:41,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:40,columnNumber:7},this),l&&t.jsxDEV("div",{className:`p-4 rounded mb-6 ${l.configured?"bg-green-100":"bg-red-100"}`,children:[t.jsxDEV("h3",{className:"font-semibold mb-2",children:l.configured?" Config looks good!":" Configuration Issues Found"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:66,columnNumber:11},this),l.issues.length>0&&t.jsxDEV("ul",{className:"list-disc list-inside text-sm",children:l.issues.map((p,x)=>t.jsxDEV("li",{className:"text-red-700",children:p},x,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:72,columnNumber:17},this))},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:70,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:65,columnNumber:9},this),i&&t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center p-4 bg-gray-100 rounded",children:[t.jsxDEV("span",{className:"font-semibold",children:"Test Summary"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:82,columnNumber:13},this),t.jsxDEV("span",{className:i.summary.failed===0?"text-green-600":"text-red-600",children:[i.summary.passed,"/",i.summary.total," passed"]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:81,columnNumber:11},this),t.jsxDEV("div",{className:"space-y-2",children:i.results.map((p,x)=>t.jsxDEV("div",{className:`p-4 rounded border ${p.passed?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"mr-2",children:p.passed?"":""},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:98,columnNumber:21},this),t.jsxDEV("span",{className:"font-medium",children:p.name},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:99,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:97,columnNumber:19},this)},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:96,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-gray-600 mt-1 ml-6",children:p.message},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:102,columnNumber:17},this),p.details&&!p.passed&&t.jsxDEV("pre",{className:"text-xs bg-gray-100 p-2 mt-2 rounded overflow-auto ml-6",children:JSON.stringify(p.details,null,2)},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:104,columnNumber:19},this)]},x,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:90,columnNumber:15},this))},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:88,columnNumber:11},this),t.jsxDEV("div",{className:"text-xs text-gray-500 mt-4",children:["Tested at: ",i.timestamp]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:112,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:80,columnNumber:9},this),t.jsxDEV("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded",children:[t.jsxDEV("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Setup Instructions"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:119,columnNumber:9},this),t.jsxDEV("ol",{className:"list-decimal list-inside text-sm text-yellow-700 space-y-1",children:[t.jsxDEV("li",{children:["Go to ",t.jsxDEV("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Firebase Console"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:121,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:121,columnNumber:11},this),t.jsxDEV("li",{children:"Create a project or select existing one"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:122,columnNumber:11},this),t.jsxDEV("li",{children:"Go to Project Settings  General  Your apps  Add Web App"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:123,columnNumber:11},this),t.jsxDEV("li",{children:"Copy the config values to your .env file (VITE_FIREBASE_*)"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:124,columnNumber:11},this),t.jsxDEV("li",{children:"Go to Project Settings  Cloud Messaging  Web Push certificates"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:125,columnNumber:11},this),t.jsxDEV("li",{children:"Generate key pair and copy to VITE_FIREBASE_VAPID_KEY"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:126,columnNumber:11},this),t.jsxDEV("li",{children:"Restart dev server after updating .env"},void 0,!1,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:127,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:120,columnNumber:9},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:118,columnNumber:7},this)]},void 0,!0,{fileName:"/app/src/components/admin/PushNotificationTest.tsx",lineNumber:37,columnNumber:5},this)}const F8=[{label:"3 Months",days:90},{label:"6 Months",days:180},{label:"1 Year",days:365},{label:"Perpetual (Forever)",days:null,isPerpetual:!0},{label:"Custom",days:-1}],AW=()=>{const[i,r]=h.useState([]),[n,s]=h.useState([]),[l,u]=h.useState(null),[d,A]=h.useState(null),[b,p]=h.useState([]),[x,N]=h.useState(!0),[v,w]=h.useState(null),[E,F]=h.useState(!1),[V,G]=h.useState(!1),[Z,H]=h.useState(!1),[te,T]=h.useState(""),[M,q]=h.useState(""),[$,Ae]=h.useState("90"),[L,J]=h.useState(""),[j,O]=h.useState(!1),[Y,ie]=h.useState("0"),[z,ee]=h.useState(""),[D,R]=h.useState(""),[X,C]=h.useState(""),{user:I,signOut:S}=Xa(),P=ua();h.useEffect(()=>{I!=null&&I.id?(K(),U()):N(!1)},[I==null?void 0:I.id]);const U=async()=>{var fe;try{const be=await br.getSubscriptionPlans();be.success&&((fe=be.data)!=null&&fe.plans)&&s(be.data.plans)}catch(be){console.error("Error loading subscription plans:",be)}},K=async()=>{var fe;try{N(!0),w(null);const be=await br.getPromoCodes();if(!be.success){if(be.isAuthError){await S(),P("/login");return}throw new Error(br.handleApiError(be))}r(((fe=be.data)==null?void 0:fe.promo_codes)||[])}catch(be){console.error("Error loading promo codes:",be),w(be instanceof Error?be.message:"Failed to load promo codes")}finally{N(!1)}},re=async fe=>{var be,Oe;try{const Fe=await br.getPromoCodeStats(fe);if(!Fe.success){console.warn("Could not load promo code stats:",br.handleApiError(Fe)),A(null),p([]);return}A(((be=Fe.data)==null?void 0:be.stats)||null),p(((Oe=Fe.data)==null?void 0:Oe.users)||[])}catch(Fe){console.error("Error loading promo code stats:",Fe),A(null),p([])}},se=async fe=>{u(fe),await re(fe.id)},Ee=()=>{T(""),q(""),Ae("90"),J(""),O(!1),ie("0"),ee(""),R(""),C("")},ye=fe=>{if(T(fe.code),q(fe.description||""),ie(String(fe.discount_percent||0)),ee(fe.max_uses?String(fe.max_uses):""),R(fe.expires_at?fe.expires_at.split("T")[0]:""),C(fe.subscription_plan_id||""),fe.is_perpetual_trial)Ae("perpetual"),O(!0);else if(fe.trial_days_override){const be=F8.find(Oe=>Oe.days===fe.trial_days_override);be?Ae(String(be.days)):(Ae("custom"),J(String(fe.trial_days_override))),O(!1)}else Ae("90"),O(!1)},W=()=>$==="perpetual"?{is_perpetual_trial:!0}:$==="custom"?{trial_days_override:parseInt(L)||90,is_perpetual_trial:!1}:{trial_days_override:parseInt($)||90,is_perpetual_trial:!1},he=async fe=>{if(fe.preventDefault(),!te.trim()){w("Promo code is required");return}try{H(!0),w(null);const{trial_days_override:be,is_perpetual_trial:Oe}=W(),Fe=await br.createPromoCode({code:te.toUpperCase().trim(),description:M||void 0,trial_days_override:be,is_perpetual_trial:Oe,discount_percent:parseInt(Y)||0,max_uses:z?parseInt(z):void 0,expires_at:D||void 0,subscription_plan_id:X||void 0});if(!Fe.success)throw new Error(br.handleApiError(Fe));F(!1),Ee(),await K()}catch(be){console.error("Error creating promo code:",be),w(be instanceof Error?be.message:"Failed to create promo code")}finally{H(!1)}},oe=async fe=>{var be;if(fe.preventDefault(),!!l)try{H(!0),w(null);const{trial_days_override:Oe,is_perpetual_trial:Fe}=W(),$e=await br.updatePromoCode({id:l.id,description:M||void 0,trial_days_override:Oe,is_perpetual_trial:Fe,discount_percent:parseInt(Y)||0,max_uses:z?parseInt(z):void 0,expires_at:D||void 0,subscription_plan_id:X||void 0});if(!$e.success)throw new Error(br.handleApiError($e));G(!1),Ee(),await K(),(be=$e.data)!=null&&be.promo_code&&u($e.data.promo_code)}catch(Oe){console.error("Error updating promo code:",Oe),w(Oe instanceof Error?Oe.message:"Failed to update promo code")}finally{H(!1)}},ke=async fe=>{try{const be=await br.updatePromoCode({id:fe.id,is_active:!fe.is_active});if(!be.success)throw new Error(br.handleApiError(be));await K()}catch(be){console.error("Error toggling promo code:",be),w(be instanceof Error?be.message:"Failed to update promo code")}},Ne=async fe=>{if(confirm("Are you sure you want to delete this promo code?"))try{const be=await br.deletePromoCode(fe);if(!be.success)throw new Error(br.handleApiError(be));(l==null?void 0:l.id)===fe&&(u(null),A(null),p([])),await K()}catch(be){console.error("Error deleting promo code:",be),w(be instanceof Error?be.message:"Failed to delete promo code")}},je=()=>{const fe="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let be="KIZU-";for(let Oe=0;Oe<5;Oe++)be+=fe.charAt(Math.floor(Math.random()*fe.length));T(be)},Be=fe=>new Date(fe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),De=fe=>fe.is_perpetual_trial?"Perpetual":fe.trial_days_override?fe.trial_days_override===90?"3 Months":fe.trial_days_override===180?"6 Months":fe.trial_days_override===365?"1 Year":`${fe.trial_days_override} Days`:"Standard",Xe=fe=>{if(!fe)return"Not Set";const be=n.find(Oe=>Oe.id===fe);return(be==null?void 0:be.display_name)||"Unknown"},ae=fe=>t.jsxDEV("form",{onSubmit:fe?oe:he,className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Promo Code *"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:368,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("input",{type:"text",value:te,onChange:be=>T(be.target.value.toUpperCase()),disabled:fe,placeholder:"e.g., KNOX-ABC123",className:"flex-1 input uppercase",required:!0},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:372,columnNumber:11},void 0),!fe&&t.jsxDEV("button",{type:"button",onClick:je,className:"px-3 py-2 btn-secondary",children:"Generate"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:382,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:371,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:367,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Description"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:395,columnNumber:9},void 0),t.jsxDEV("input",{type:"text",value:M,onChange:be=>q(be.target.value),placeholder:"e.g., Beta tester reward",className:"w-full input"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:398,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:394,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Subscription Level *"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:409,columnNumber:9},void 0),t.jsxDEV("select",{value:X,onChange:be=>C(be.target.value),className:"w-full input",required:!0,children:[t.jsxDEV("option",{value:"",children:"Select a plan..."},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:418,columnNumber:11},void 0),n.filter(be=>be.name!=="free").map(be=>t.jsxDEV("option",{value:be.id,children:be.display_name},be.id,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:420,columnNumber:13},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:412,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-xs text-theme-tertiary mt-1",children:"The subscription tier users get when redeeming this code"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:425,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:408,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Subscription Duration *"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:432,columnNumber:9},void 0),t.jsxDEV("select",{value:$,onChange:be=>{Ae(be.target.value),O(be.target.value==="perpetual")},className:"w-full input",children:F8.map(be=>t.jsxDEV("option",{value:be.isPerpetual?"perpetual":be.days===-1?"custom":be.days,children:be.label},be.label,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:444,columnNumber:13},void 0))},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:435,columnNumber:9},void 0),$==="custom"&&t.jsxDEV("input",{type:"number",value:L,onChange:be=>J(be.target.value),placeholder:"Number of days",min:"1",className:"w-full mt-2 input",required:!0},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:451,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xs text-theme-tertiary mt-1",children:"How long the subscription lasts after redemption"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:461,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:431,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Discount % (optional, for paid plans after trial)"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:468,columnNumber:9},void 0),t.jsxDEV("input",{type:"number",value:Y,onChange:be=>ie(be.target.value),min:"0",max:"100",className:"w-full input"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:471,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:467,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Max Uses (leave empty for unlimited)"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:483,columnNumber:9},void 0),t.jsxDEV("input",{type:"number",value:z,onChange:be=>ee(be.target.value),min:"1",placeholder:"Unlimited",className:"w-full input"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:486,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:482,columnNumber:7},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Code Valid Until (optional)"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:498,columnNumber:9},void 0),t.jsxDEV("input",{type:"date",value:D,onChange:be=>R(be.target.value),className:"w-full input"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:501,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-xs text-theme-tertiary mt-1",children:"Last date this code can be redeemed"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:507,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:497,columnNumber:7},void 0),t.jsxDEV("div",{className:"flex gap-2 pt-4",children:[t.jsxDEV("button",{type:"submit",disabled:Z,className:"flex-1 btn-primary",children:Z?"Saving...":fe?"Update Code":"Create Code"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:514,columnNumber:9},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{fe?G(!1):F(!1),Ee()},className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:521,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:513,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:365,columnNumber:5},void 0);return x?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:538,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:537,columnNumber:7},void 0):t.jsxDEV("div",{className:"p-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-theme-primary",children:"Promo Codes"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:546,columnNumber:9},void 0),t.jsxDEV("button",{onClick:()=>{Ee(),F(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2",children:[t.jsxDEV("span",{children:"+"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:554,columnNumber:11},void 0)," New Promo Code"]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:547,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:545,columnNumber:7},void 0),v&&t.jsxDEV("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:[v,t.jsxDEV("button",{onClick:()=>w(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:561,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:559,columnNumber:9},void 0),E&&t.jsxDEV("div",{className:"mb-6 p-6 card-themed rounded-lg shadow-md",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4 text-theme-primary",children:"Create New Promo Code"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:570,columnNumber:11},void 0),ae(!1)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:569,columnNumber:9},void 0),t.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxDEV("div",{className:"card-themed rounded-lg shadow-md overflow-hidden",children:[t.jsxDEV("div",{className:"p-4 bg-theme-secondary/10 border-b border-theme-border",children:t.jsxDEV("h3",{className:"font-semibold text-theme-primary",children:["All Promo Codes (",i.length,")"]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:579,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:578,columnNumber:11},void 0),i.length===0?t.jsxDEV("div",{className:"p-8 text-center text-theme-secondary",children:"No promo codes yet. Create one to get started."},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:585,columnNumber:13},void 0):t.jsxDEV("div",{className:"divide-y divide-theme-border",children:i.map(fe=>t.jsxDEV("div",{onClick:()=>se(fe),className:`p-4 cursor-pointer hover:bg-theme-hover transition-colors ${(l==null?void 0:l.id)===fe.id?"bg-blue-500/10 border-l-4 border-blue-500":""}`,children:t.jsxDEV("div",{className:"flex justify-between items-start",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"font-mono font-bold text-lg text-theme-primary",children:fe.code},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:601,columnNumber:25},void 0),!fe.is_active&&t.jsxDEV("span",{className:"px-2 py-0.5 bg-gray-500/20 text-theme-secondary text-xs rounded",children:"Inactive"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:603,columnNumber:27},void 0),fe.is_perpetual_trial&&t.jsxDEV("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 text-xs rounded",children:"Perpetual"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:608,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:600,columnNumber:23},void 0),fe.description&&t.jsxDEV("p",{className:"text-sm text-theme-secondary mt-1",children:fe.description},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:614,columnNumber:25},void 0),t.jsxDEV("div",{className:"text-xs text-theme-tertiary mt-2 space-x-3",children:[t.jsxDEV("span",{className:"text-blue-400",children:Xe(fe.subscription_plan_id)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:617,columnNumber:25},void 0),t.jsxDEV("span",{children:"|"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:618,columnNumber:25},void 0),t.jsxDEV("span",{children:De(fe)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:619,columnNumber:25},void 0),t.jsxDEV("span",{children:"|"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:620,columnNumber:25},void 0),t.jsxDEV("span",{children:[fe.usage_count||0," uses"]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:621,columnNumber:25},void 0),fe.max_uses&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{children:"/"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:624,columnNumber:29},void 0),t.jsxDEV("span",{children:[fe.max_uses," max"]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:625,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:623,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:616,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:599,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex items-center gap-2",children:t.jsxDEV("button",{onClick:be=>{be.stopPropagation(),ke(fe)},className:`px-2 py-1 text-xs rounded ${fe.is_active?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-gray-500/20 text-theme-secondary hover:bg-gray-500/30"}`,children:fe.is_active?"Active":"Disabled"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:631,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:630,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:598,columnNumber:19},void 0)},fe.id,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:591,columnNumber:17},void 0))},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:589,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:577,columnNumber:9},void 0),t.jsxDEV("div",{className:"card-themed rounded-lg shadow-md overflow-hidden",children:l?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"p-4 bg-theme-secondary/10 border-b border-theme-border flex justify-between items-center",children:[t.jsxDEV("h3",{className:"font-semibold text-theme-primary",children:[l.code," Details"]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:657,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("button",{onClick:()=>{ye(l),G(!0)},className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded hover:bg-blue-500/30 text-sm",children:"Edit"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:661,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>Ne(l.id),className:"px-3 py-1 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 text-sm",children:"Delete"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:670,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:660,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:656,columnNumber:15},void 0),V?t.jsxDEV("div",{className:"p-4",children:[t.jsxDEV("h4",{className:"font-medium mb-4 text-theme-primary",children:"Edit Promo Code"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:681,columnNumber:19},void 0),ae(!0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:680,columnNumber:17},void 0):t.jsxDEV("div",{className:"p-4 space-y-4",children:[d&&t.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxDEV("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-400",children:d.total_uses},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:690,columnNumber:25},void 0),t.jsxDEV("div",{className:"text-sm text-blue-400/80",children:"Total Uses"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:691,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:689,columnNumber:23},void 0),t.jsxDEV("div",{className:"p-3 bg-green-500/10 rounded-lg",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-green-400",children:d.active_users},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:694,columnNumber:25},void 0),t.jsxDEV("div",{className:"text-sm text-green-400/80",children:"Active Users"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:695,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:693,columnNumber:23},void 0),d.remaining_uses!==null&&t.jsxDEV("div",{className:"p-3 bg-orange-500/10 rounded-lg",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-orange-400",children:d.remaining_uses},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:699,columnNumber:27},void 0),t.jsxDEV("div",{className:"text-sm text-orange-400/80",children:"Remaining"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:700,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:698,columnNumber:25},void 0),t.jsxDEV("div",{className:"p-3 bg-theme-secondary/10 rounded-lg",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-theme-primary",children:d.cancelled_users},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:704,columnNumber:25},void 0),t.jsxDEV("div",{className:"text-sm text-theme-secondary",children:"Cancelled"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:705,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:703,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:688,columnNumber:21},void 0),t.jsxDEV("div",{className:"space-y-2 text-sm",children:[t.jsxDEV("div",{className:"flex justify-between py-2 border-b border-theme-border",children:[t.jsxDEV("span",{className:"text-theme-secondary",children:"Subscription Level:"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:713,columnNumber:23},void 0),t.jsxDEV("span",{className:"font-medium text-blue-400",children:Xe(l.subscription_plan_id)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:714,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:712,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex justify-between py-2 border-b border-theme-border",children:[t.jsxDEV("span",{className:"text-theme-secondary",children:"Duration:"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:717,columnNumber:23},void 0),t.jsxDEV("span",{className:"font-medium text-theme-primary",children:De(l)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:718,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:716,columnNumber:21},void 0),l.discount_percent>0&&t.jsxDEV("div",{className:"flex justify-between py-2 border-b border-theme-border",children:[t.jsxDEV("span",{className:"text-theme-secondary",children:"Discount:"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:722,columnNumber:25},void 0),t.jsxDEV("span",{className:"font-medium text-theme-primary",children:[l.discount_percent,"%"]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:723,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:721,columnNumber:23},void 0),t.jsxDEV("div",{className:"flex justify-between py-2 border-b border-theme-border",children:[t.jsxDEV("span",{className:"text-theme-secondary",children:"Created:"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:727,columnNumber:23},void 0),t.jsxDEV("span",{className:"font-medium text-theme-primary",children:Be(l.date_created)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:728,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:726,columnNumber:21},void 0),l.expires_at&&t.jsxDEV("div",{className:"flex justify-between py-2 border-b border-theme-border",children:[t.jsxDEV("span",{className:"text-theme-secondary",children:"Expires:"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:732,columnNumber:25},void 0),t.jsxDEV("span",{className:"font-medium text-theme-primary",children:Be(l.expires_at)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:733,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:731,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:711,columnNumber:19},void 0),b.length>0&&t.jsxDEV("div",{className:"mt-4",children:[t.jsxDEV("h4",{className:"font-medium mb-2 text-theme-primary",children:["Users (",b.length,")"]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:741,columnNumber:23},void 0),t.jsxDEV("div",{className:"max-h-48 overflow-y-auto border border-theme-border rounded-md divide-y divide-theme-border",children:b.map(fe=>t.jsxDEV("div",{className:"p-2 text-sm",children:[t.jsxDEV("div",{className:"font-medium text-theme-primary",children:fe.display_name||fe.email},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:745,columnNumber:29},void 0),t.jsxDEV("div",{className:"text-xs text-theme-tertiary flex justify-between",children:[t.jsxDEV("span",{children:fe.status},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:747,columnNumber:31},void 0),t.jsxDEV("span",{children:Be(fe.signed_up_at)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:748,columnNumber:31},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:746,columnNumber:29},void 0)]},fe.user_id,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:744,columnNumber:27},void 0))},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:742,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:740,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:685,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:655,columnNumber:13},void 0):t.jsxDEV("div",{className:"p-8 text-center text-theme-secondary",children:"Select a promo code to view details"},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:759,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:653,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:575,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/PromoCodesManager.tsx",lineNumber:544,columnNumber:5},void 0)},Z8=[{value:"all",label:"All Users"},{value:"new_users",label:"New Users Only"},{value:"upgrades",label:"Upgrades Only"}],bW=()=>{var z;const[i,r]=h.useState(null),[n,s]=h.useState(!0),[l,u]=h.useState(!1),[d,A]=h.useState(null),[b,p]=h.useState(null),[x,N]=h.useState(!1),[v,w]=h.useState("0"),[E,F]=h.useState(""),[V,G]=h.useState("all"),[Z,H]=h.useState(""),[te,T]=h.useState(""),[M,q]=h.useState(""),{user:$,signOut:Ae}=Xa(),L=ua();h.useEffect(()=>{$!=null&&$.id?J():s(!1)},[$==null?void 0:$.id]);const J=async()=>{var ee;try{s(!0),A(null);const D=await br.getDiscount();if(!D.success){if(D.isAuthError){await Ae(),L("/login");return}throw new Error(br.handleApiError(D))}const R=(ee=D.data)==null?void 0:ee.discount;R&&(r(R),j(R))}catch(D){console.error("Error loading discount:",D),A(D instanceof Error?D.message:"Failed to load discount settings")}finally{s(!1)}},j=ee=>{N(ee.enabled),w(String(ee.percent||0)),F(ee.code||""),G(ee.applies_to||"all"),H(ee.starts_at?ee.starts_at.split("T")[0]:""),T(ee.expires_at?ee.expires_at.split("T")[0]:""),q(ee.banner_message||"")},O=async ee=>{var D;ee.preventDefault();try{u(!0),A(null),p(null);const R=await br.setDiscount({enabled:x,percent:parseInt(v)||0,code:E||null,applies_to:V,starts_at:Z?new Date(Z).toISOString():null,expires_at:te?new Date(te).toISOString():null,banner_message:M||null});if(!R.success)throw new Error(br.handleApiError(R));p("Discount settings saved successfully"),(D=R.data)!=null&&D.discount&&r(R.data.discount)}catch(R){console.error("Error saving discount:",R),A(R instanceof Error?R.message:"Failed to save discount settings")}finally{u(!1)}},Y=ee=>ee?new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",ie=()=>{if(!i)return null;if(!i.enabled)return t.jsxDEV("span",{className:"px-3 py-1 bg-gray-500/20 text-gray-400 rounded-full text-sm",children:"Disabled"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:135,columnNumber:14},void 0);const ee=new Date;return i.starts_at&&new Date(i.starts_at)>ee?t.jsxDEV("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm",children:"Scheduled"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:140,columnNumber:14},void 0):i.expires_at&&new Date(i.expires_at)<ee?t.jsxDEV("span",{className:"px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:"Expired"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:143,columnNumber:14},void 0):t.jsxDEV("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Active"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:146,columnNumber:12},void 0)};return n?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:152,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:151,columnNumber:7},void 0):t.jsxDEV("div",{className:"p-6 max-w-4xl",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-theme-primary",children:"Sitewide Discount"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:161,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-theme-secondary mt-1",children:"Configure promotional discounts for all users"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:162,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:160,columnNumber:9},void 0),ie()]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:159,columnNumber:7},void 0),d&&t.jsxDEV("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 rounded-md text-red-700 dark:text-red-400",children:[d,t.jsxDEV("button",{onClick:()=>A(null),className:"ml-2 hover:underline",children:"Dismiss"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:168,columnNumber:9},void 0),b&&t.jsxDEV("div",{className:"mb-4 p-4 bg-green-50 dark:bg-green-500/10 border border-green-200 dark:border-green-500/20 rounded-md text-green-700 dark:text-green-400",children:[b,t.jsxDEV("button",{onClick:()=>p(null),className:"ml-2 hover:underline",children:"Dismiss"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:177,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:175,columnNumber:9},void 0),i&&t.jsxDEV("div",{className:"mb-6 p-6 card-themed rounded-lg shadow-md",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4 text-theme-primary",children:"Current Settings"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:184,columnNumber:11},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxDEV("div",{className:"p-3 bg-blue-500/10 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-2xl font-bold text-blue-400",children:[i.percent,"%"]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:187,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-sm text-blue-400/80",children:"Discount"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:188,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:186,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-3 bg-theme-secondary/10 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-lg font-bold text-theme-primary truncate",children:i.code||"None"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:191,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-sm text-theme-secondary",children:"Promo Code"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:194,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:190,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-3 bg-theme-secondary/10 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-lg font-bold text-theme-primary",children:((z=Z8.find(ee=>ee.value===i.applies_to))==null?void 0:z.label)||"All"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:197,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-sm text-theme-secondary",children:"Applies To"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:200,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:196,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-3 bg-theme-secondary/10 rounded-lg text-center",children:[t.jsxDEV("div",{className:"text-lg font-bold text-theme-primary",children:Y(i.expires_at)},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:203,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-sm text-theme-secondary",children:"Expires"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:206,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:202,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:185,columnNumber:11},void 0),i.banner_message&&t.jsxDEV("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[t.jsxDEV("div",{className:"text-sm text-yellow-400/80 mb-1",children:"Banner Message"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:211,columnNumber:15},void 0),t.jsxDEV("div",{className:"text-theme-primary",children:i.banner_message},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:212,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:210,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:183,columnNumber:9},void 0),t.jsxDEV("div",{className:"card-themed rounded-lg shadow-md p-6",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4 text-theme-primary",children:"Edit Discount"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:220,columnNumber:9},void 0),t.jsxDEV("form",{onSubmit:O,className:"space-y-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-theme-secondary/5 rounded-lg",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"font-medium text-theme-primary",children:"Enable Discount"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:226,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-sm text-theme-secondary",children:"Turn the sitewide discount on or off"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:227,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:225,columnNumber:13},void 0),t.jsxDEV("button",{type:"button",onClick:()=>N(!x),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${x?"bg-blue-600":"bg-gray-400"}`,children:t.jsxDEV("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${x?"translate-x-6":"translate-x-1"}`},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:236,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:229,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:224,columnNumber:11},void 0),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Discount Percentage *"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:247,columnNumber:15},void 0),t.jsxDEV("div",{className:"relative",children:[t.jsxDEV("input",{type:"number",value:v,onChange:ee=>w(ee.target.value),min:"0",max:"100",className:"w-full input pr-8",required:!0},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:251,columnNumber:17},void 0),t.jsxDEV("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-theme-secondary",children:"%"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:260,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:250,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:246,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Promo Code (optional)"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:266,columnNumber:15},void 0),t.jsxDEV("input",{type:"text",value:E,onChange:ee=>F(ee.target.value.toUpperCase()),placeholder:"e.g., LAUNCH50",className:"w-full input uppercase"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:269,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:265,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Applies To"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:280,columnNumber:15},void 0),t.jsxDEV("select",{value:V,onChange:ee=>G(ee.target.value),className:"w-full input",children:Z8.map(ee=>t.jsxDEV("option",{value:ee.value,children:ee.label},ee.value,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:289,columnNumber:19},void 0))},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:283,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:279,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Start Date (optional)"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:298,columnNumber:15},void 0),t.jsxDEV("input",{type:"date",value:Z,onChange:ee=>H(ee.target.value),className:"w-full input"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:301,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:297,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"End Date (optional)"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:311,columnNumber:15},void 0),t.jsxDEV("input",{type:"date",value:te,onChange:ee=>T(ee.target.value),className:"w-full input"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:314,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:310,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:244,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-theme-primary mb-1",children:"Banner Message (optional)"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:325,columnNumber:13},void 0),t.jsxDEV("textarea",{value:M,onChange:ee=>q(ee.target.value),placeholder:"e.g., Launch Special - 50% off all plans!",rows:2,className:"w-full input"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:328,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-xs text-theme-tertiary mt-1",children:"This message will be displayed to users when the discount is active"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:335,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:324,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex gap-4 pt-4 border-t border-theme-border",children:[t.jsxDEV("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[l&&t.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:348,columnNumber:17},void 0),l?"Saving...":"Save Changes"]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:342,columnNumber:13},void 0),t.jsxDEV("button",{type:"button",onClick:()=>i&&j(i),className:"px-6 py-2 btn-secondary",children:"Reset"},void 0,!1,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:352,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:341,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:222,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:219,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/DiscountManager.tsx",lineNumber:158,columnNumber:5},void 0)},pW=()=>{const[i,r]=h.useState([]),[n,s]=h.useState(!0),[l,u]=h.useState(null),[d,A]=h.useState(!1),{user:b,signOut:p}=Xa(),x=ua();h.useEffect(()=>{b!=null&&b.id?N():s(!1)},[b==null?void 0:b.id]),h.useEffect(()=>{if(i.some(G=>["pending","processing","downloading","generating","uploading"].includes(G.status))){const G=setInterval(N,5e3);return()=>clearInterval(G)}},[i]);const N=async()=>{var V;try{n||A(!0),u(null);const G=await br.getExportJobs();if(!G.success){if(G.isAuthError){await p(),x("/login");return}throw new Error(br.handleApiError(G))}r(((V=G.data)==null?void 0:V.jobs)||[])}catch(G){console.error("Error loading export jobs:",G),u(G instanceof Error?G.message:"Failed to load export jobs")}finally{s(!1),A(!1)}},v=V=>V?new Date(V).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",w=V=>V<1024?`${V} B`:V<1024*1024?`${(V/1024).toFixed(1)} KB`:V<1024*1024*1024?`${(V/(1024*1024)).toFixed(1)} MB`:`${(V/(1024*1024*1024)).toFixed(2)} GB`,E=V=>{const G={pending:{bg:"bg-gray-100",text:"text-gray-700",label:"Pending"},processing:{bg:"bg-blue-100",text:"text-blue-700",label:"Processing"},downloading:{bg:"bg-blue-100",text:"text-blue-700",label:"Downloading"},generating:{bg:"bg-blue-100",text:"text-blue-700",label:"Generating"},uploading:{bg:"bg-blue-100",text:"text-blue-700",label:"Uploading"},completed:{bg:"bg-green-100",text:"text-green-700",label:"Completed"},failed:{bg:"bg-red-100",text:"text-red-700",label:"Failed"},cancelled:{bg:"bg-gray-100",text:"text-gray-500",label:"Cancelled"}},Z=G[V]||G.pending;return t.jsxDEV("span",{className:`px-2 py-1 rounded text-xs font-medium ${Z.bg} ${Z.text}`,children:Z.label},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:126,columnNumber:7},void 0)},F=V=>new Date(V)<new Date;return n?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:139,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:138,columnNumber:7},void 0):t.jsxDEV("div",{className:"p-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:"Export Jobs"},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:147,columnNumber:9},void 0),t.jsxDEV("button",{onClick:N,disabled:d,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 flex items-center gap-2 disabled:opacity-50",children:[t.jsxDEV("span",{className:d?"animate-spin":"",children:""},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:153,columnNumber:11},void 0),"Refresh"]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:148,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:146,columnNumber:7},void 0),l&&t.jsxDEV("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:[l,t.jsxDEV("button",{onClick:()=>u(null),className:"ml-2 text-red-500 hover:text-red-700",children:"Dismiss"},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:159,columnNumber:9},void 0),t.jsxDEV("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[t.jsxDEV("div",{className:"p-4 bg-gray-50 border-b",children:[t.jsxDEV("h3",{className:"font-semibold text-gray-700",children:["Recent Exports (",i.length,")"]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:169,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"Export jobs are triggered from the mobile app. Downloads expire after 7 days."},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:172,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:168,columnNumber:9},void 0),i.length===0?t.jsxDEV("div",{className:"p-8 text-center text-gray-500",children:"No export jobs found. Exports can be requested from the Kizu mobile app."},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:178,columnNumber:11},void 0):t.jsxDEV("div",{className:"divide-y",children:i.map(V=>t.jsxDEV("div",{className:"p-4",children:t.jsxDEV("div",{className:"flex justify-between items-start",children:t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[E(V.status),t.jsxDEV("span",{className:"text-sm text-gray-500",children:v(V.timestamps.created)},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:189,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:187,columnNumber:21},void 0),["processing","downloading","generating","uploading"].includes(V.status)&&t.jsxDEV("div",{className:"mt-3",children:[t.jsxDEV("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[t.jsxDEV("span",{children:V.progress.current_step||"Processing..."},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:198,columnNumber:27},void 0),t.jsxDEV("span",{children:[V.progress.percent,"%"]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:199,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:197,columnNumber:25},void 0),t.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsxDEV("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${V.progress.percent}%`}},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:202,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:201,columnNumber:25},void 0),t.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:[V.progress.processed," / ",V.progress.total," assets"]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:207,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:196,columnNumber:23},void 0),V.status==="completed"&&V.result&&t.jsxDEV("div",{className:"mt-3 space-y-2",children:[t.jsxDEV("div",{className:"text-sm text-gray-600",children:[t.jsxDEV("span",{className:"font-medium",children:V.result.asset_count},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:217,columnNumber:27},void 0)," photos,"," ",t.jsxDEV("span",{className:"font-medium",children:V.result.album_count},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:218,columnNumber:27},void 0)," albums,"," ",t.jsxDEV("span",{className:"font-medium",children:V.result.folder_count},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:219,columnNumber:27},void 0)," folders"]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:216,columnNumber:25},void 0),t.jsxDEV("div",{className:"text-sm text-gray-600",children:["Size: ",w(V.result.file_size_bytes)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:221,columnNumber:25},void 0),F(V.result.expires_at)?t.jsxDEV("div",{className:"text-sm text-red-600",children:["Download expired on ",v(V.result.expires_at)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:225,columnNumber:27},void 0):t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("a",{href:V.result.download_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:"Download ZIP"},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:230,columnNumber:29},void 0),t.jsxDEV("span",{className:"text-xs text-gray-500",children:["Expires ",v(V.result.expires_at)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:238,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:229,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:215,columnNumber:23},void 0),V.status==="failed"&&V.error&&t.jsxDEV("div",{className:"mt-3 p-3 bg-red-50 rounded-md",children:[t.jsxDEV("div",{className:"text-sm text-red-700 font-medium",children:V.error.message},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:249,columnNumber:25},void 0),V.error.details&&t.jsxDEV("pre",{className:"mt-2 text-xs text-red-600 overflow-x-auto",children:JSON.stringify(V.error.details,null,2)},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:253,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:248,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:186,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:185,columnNumber:17},void 0)},V.id,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:184,columnNumber:15},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:182,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:167,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ExportManager.tsx",lineNumber:145,columnNumber:5},void 0)},_a="https://quqlovduekdasldqadge.supabase.co";async function Sa(){try{const{data:{session:i},error:r}=await Ge.auth.getSession();return r||!(i!=null&&i.access_token)?null:{Authorization:`Bearer ${i.access_token}`,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}catch{return null}}const hW={async list(){try{const i=await Sa();if(!i)return{success:!1,error:"Not authenticated"};const r=await fetch(`${_a}/functions/v1/import-services-api`,{method:"GET",headers:i}),n=await r.json();return!r.ok||!n.success?{success:!1,error:n.error||"Failed to fetch services"}:{success:!0,services:n.services}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}},ju={async list(){try{const i=await Sa();if(!i)return{success:!1,error:"Not authenticated"};const r=await fetch(`${_a}/functions/v1/import-sources-api`,{method:"GET",headers:i}),n=await r.json();return!r.ok||!n.success?{success:!1,error:n.error||"Failed to fetch sources"}:{success:!0,sources:n.sources,planInfo:n.plan_info}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}},async connect(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const n=`${window.location.origin}/auth/callback`,s=await fetch(`${_a}/functions/v1/import-sources-api?action=connect`,{method:"POST",headers:r,body:JSON.stringify({service_key:i,redirect_uri:n})}),l=await s.json();return!s.ok||!l.success?{success:!1,error:l.error||"Failed to connect"}:{success:!0,authUrl:l.auth_url,source:l.source}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async disconnect(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const n=await fetch(`${_a}/functions/v1/import-sources-api?action=disconnect`,{method:"POST",headers:r,body:JSON.stringify({source_id:i})}),s=await n.json();return!n.ok||!s.success?{success:!1,error:s.error||"Failed to disconnect"}:{success:!0}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async checkNew(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const n=await fetch(`${_a}/functions/v1/import-sources-api?action=check-new&source_id=${i}`,{method:"GET",headers:r}),s=await n.json();return!n.ok||!s.success?{success:!1,error:s.error||"Failed to check for new assets"}:{success:!0,newCount:s.new_count,estimatedSeconds:s.estimated_seconds}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async listAlbums(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const n=await fetch(`${_a}/functions/v1/import-sources-api?action=albums&source_id=${i}`,{method:"GET",headers:r}),s=await n.json();return!n.ok||!s.success?{success:!1,error:s.error||"Failed to list albums"}:{success:!0,albums:s.albums}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}},Cu={async list(){try{const i=await Sa();if(!i)return{success:!1,error:"Not authenticated"};const r=await fetch(`${_a}/functions/v1/import-api?action=list`,{method:"GET",headers:i}),n=await r.json();return!r.ok||!n.success?{success:!1,error:n.error||"Failed to fetch jobs"}:{success:!0,jobs:n.jobs}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}},async estimate(i,r){try{const n=await Sa();if(!n)return{success:!1,error:"Not authenticated"};const s=await fetch(`${_a}/functions/v1/import-api?action=estimate`,{method:"POST",headers:n,body:JSON.stringify({source_id:i,import_scope:(r==null?void 0:r.importScope)||"full",selected_album_ids:r==null?void 0:r.selectedAlbumIds})}),l=await s.json();return!s.ok||!l.success?{success:!1,error:l.error||"Failed to estimate"}:{success:!0,estimate:{total_assets:l.total_assets,estimated_duration_seconds:l.estimated_duration_seconds,plan_check:l.plan_check}}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}},async start(i,r){try{const n=await Sa();if(!n)return{success:!1,error:"Not authenticated"};const s=await fetch(`${_a}/functions/v1/import-api?action=start`,{method:"POST",headers:n,body:JSON.stringify({source_id:i,import_scope:(r==null?void 0:r.importScope)||"full",selected_album_ids:r==null?void 0:r.selectedAlbumIds,skip_deduplication:(r==null?void 0:r.skipDeduplication)||!1})}),l=await s.json();return!s.ok||!l.success?{success:!1,error:l.error||"Failed to start import"}:{success:!0,job:l.job}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error"}}},async status(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const n=await fetch(`${_a}/functions/v1/import-api?action=status&job_id=${i}`,{method:"GET",headers:r}),s=await n.json();return!n.ok||!s.success?{success:!1,error:s.error||"Failed to get status"}:{success:!0,job:s.job}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async pause(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const s=await(await fetch(`${_a}/functions/v1/import-api?action=pause`,{method:"POST",headers:r,body:JSON.stringify({job_id:i})})).json();return{success:s.success,error:s.error}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async resume(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const s=await(await fetch(`${_a}/functions/v1/import-api?action=resume`,{method:"POST",headers:r,body:JSON.stringify({job_id:i})})).json();return{success:s.success,error:s.error}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async cancel(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const s=await(await fetch(`${_a}/functions/v1/import-api?action=cancel`,{method:"POST",headers:r,body:JSON.stringify({job_id:i})})).json();return{success:s.success,error:s.error}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async rollback(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const s=await(await fetch(`${_a}/functions/v1/import-api?action=rollback`,{method:"POST",headers:r,body:JSON.stringify({job_id:i})})).json();return{success:s.success,deleted_assets:s.deleted_assets,error:s.error}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}},_u={async listJobs(){try{const i=await Sa();if(!i)return{success:!1,error:"Not authenticated"};const r=await fetch(`${_a}/functions/v1/dedup-api`,{method:"GET",headers:i}),n=await r.json();return!r.ok||!n.success?{success:!1,error:n.error||"Failed to fetch jobs"}:{success:!0,jobs:n.jobs}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error"}}},async startScan(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const n=await fetch(`${_a}/functions/v1/dedup-api?action=scan`,{method:"POST",headers:r,body:JSON.stringify(i||{})}),s=await n.json();return!n.ok||!s.success?{success:!1,error:s.error||"Failed to start scan"}:{success:!0,job:s.job}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async getStatus(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const n=await fetch(`${_a}/functions/v1/dedup-api?action=status&job_id=${i}`,{method:"GET",headers:r}),s=await n.json();return!n.ok||!s.success?{success:!1,error:s.error||"Failed to get status"}:{success:!0,job:s.job}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async getGroups(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const n=new URLSearchParams({action:"groups"});i!=null&&i.status&&n.append("status",i.status),i!=null&&i.type&&n.append("type",i.type),i!=null&&i.limit&&n.append("limit",i.limit.toString()),i!=null&&i.offset&&n.append("offset",i.offset.toString());const s=await fetch(`${_a}/functions/v1/dedup-api?${n}`,{method:"GET",headers:r}),l=await s.json();return!s.ok||!l.success?{success:!1,error:l.error||"Failed to get groups"}:{success:!0,groups:l.groups}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},async resolveGroup(i,r,n){try{const s=await Sa();if(!s)return{success:!1,error:"Not authenticated"};const l=await fetch(`${_a}/functions/v1/dedup-api?action=resolve`,{method:"POST",headers:s,body:JSON.stringify({group_id:i,action:r,keep_asset_id:n})}),u=await l.json();return!l.ok||!u.success?{success:!1,error:u.error||"Failed to resolve"}:{success:!0,deleted_count:u.deleted_count}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Unknown error"}}},async cancelScan(i){try{const r=await Sa();if(!r)return{success:!1,error:"Not authenticated"};const s=await(await fetch(`${_a}/functions/v1/dedup-api?action=cancel`,{method:"POST",headers:r,body:JSON.stringify({job_id:i})})).json();return{success:s.success,error:s.error}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}};function gW(i){switch(i){case"google_photos":return"";case"dropbox":return"";case"facebook":return"";case"camera_roll":return"";default:return""}}function vW(i){switch(i){case"google_photos":return"#4285f4";case"dropbox":return"#0061fe";case"facebook":return"#1877f2";case"camera_roll":return"#34c759";default:return"#666"}}const NW=()=>{var ze;const[i,r]=h.useState([]),[n,s]=h.useState([]),[l,u]=h.useState([]),[d,A]=h.useState(null),[b,p]=h.useState(!0),[x,N]=h.useState(null),[v,w]=h.useState(!1),[E,F]=h.useState(null),[V,G]=h.useState([]),[Z,H]=h.useState(new Set),[te,T]=h.useState(!1),[M,q]=h.useState(null),[$,Ae]=h.useState(!1),[L,J]=h.useState(!1),[j,O]=h.useState(null),Y=h.useRef(null),[ie,z]=h.useState(!1),[ee,D]=h.useState(null),[R,X]=h.useState([]),[C,I]=h.useState(!1),[S,P]=h.useState("sources"),U=h.useCallback(async()=>{p(!0),N(null);try{const[xe,Pe,Ze]=await Promise.all([hW.list(),ju.list(),Cu.list()]);if(xe.success&&xe.services&&r(xe.services),Pe.success&&(s(Pe.sources||[]),A(Pe.planInfo||null)),Ze.success&&Ze.jobs){u(Ze.jobs);const er=Ze.jobs.find(xr=>["pending","estimating","ready","importing"].includes(xr.status));er&&(O(er),K(er.id))}}catch(xe){N(xe instanceof Error?xe.message:"Failed to load data")}finally{p(!1)}},[]);h.useEffect(()=>(U(),()=>{Y.current&&clearInterval(Y.current)}),[U]);const K=h.useCallback(xe=>{Y.current&&clearInterval(Y.current);const Pe=async()=>{const Ze=await Cu.status(xe);Ze.success&&Ze.job&&(O(Ze.job),["completed","failed","cancelled","blocked_limit","paused"].includes(Ze.job.status)&&(Y.current&&(clearInterval(Y.current),Y.current=null),U()))};Y.current=setInterval(Pe,2e3),Pe()},[U]),re=xe=>n.some(Pe=>{const Ze=i.find(er=>er.id===Pe.service_id);return(Ze==null?void 0:Ze.service_key)===xe&&Pe.is_active}),se=xe=>n.find(Pe=>{const Ze=i.find(er=>er.id===Pe.service_id);return(Ze==null?void 0:Ze.service_key)===xe}),Ee=async xe=>{const Pe=i.find(er=>er.service_key===xe);if(!Pe)return;if(Pe.requires_app_review){alert("This service is coming soon!");return}if(xe==="camera_roll"){alert("Camera Roll import is only available on mobile devices.");return}const Ze=await ju.connect(xe);Ze.success&&Ze.authUrl?window.location.href=Ze.authUrl:Ze.success&&Ze.source?await U():alert(Ze.error||"Failed to connect")},ye=async xe=>{if(!confirm("Are you sure you want to disconnect this source?"))return;const Pe=await ju.disconnect(xe.id);Pe.success?await U():alert(Pe.error||"Failed to disconnect")},W=async xe=>{F(xe),w(!0),G([]),H(new Set),q(null);const Pe=await ju.checkNew(xe.id);Pe.success&&q(Pe.newCount??0)},he=async()=>{if(!E)return;T(!0);const xe=await ju.listAlbums(E.id);T(!1),xe.success&&xe.albums?G(xe.albums):alert(xe.error||"Failed to load albums")},oe=xe=>{H(Pe=>{const Ze=new Set(Pe);return Ze.has(xe)?Ze.delete(xe):Ze.add(xe),Ze})},ke=async()=>{if(!E)return;J(!0);const xe={importScope:Z.size>0?"albums":"full",selectedAlbumIds:Z.size>0?Array.from(Z):void 0,skipDeduplication:$},Pe=await Cu.start(E.id,xe);J(!1),Pe.success&&Pe.job?(w(!1),O(Pe.job),K(Pe.job.id)):alert(Pe.error||"Failed to start import")},Ne=async()=>{if(!j||!confirm("Are you sure you want to cancel this import?"))return;const xe=await Cu.cancel(j.id);xe.success?(Y.current&&(clearInterval(Y.current),Y.current=null),O(null),await U()):alert(xe.error||"Failed to cancel")},je=async()=>{I(!0);const xe=await _u.startScan();I(!1),xe.success&&xe.job?(D(xe.job),z(!0),be(xe.job.id)):alert(xe.error||"Failed to start scan")},[Be,De]=h.useState(null),[Xe,ae]=h.useState(!1),fe=async xe=>{const Pe=l.find(xr=>xr.id===xe);if(!Pe||!window.confirm(`Are you sure you want to undo this import?

This will permanently delete ${Pe.imported_assets} photos that were imported from this job.

This action cannot be undone.`))return;ae(!0),De(xe);const er=await Cu.rollback(xe);ae(!1),De(null),er.success?(alert(`Successfully rolled back import. ${er.deleted_assets} photos deleted.`),U()):alert(er.error||"Failed to rollback import")},be=xe=>{const Pe=async()=>{const Ze=await _u.getStatus(xe);if(Ze.success&&Ze.job)if(D(Ze.job),["completed","failed","cancelled"].includes(Ze.job.status)){const er=await _u.getGroups({status:"pending"});er.success&&er.groups&&X(er.groups)}else setTimeout(()=>Pe(),2e3)};Pe()},Oe=async()=>{I(!0);const xe=await _u.getGroups({status:"pending"});I(!1),xe.success&&xe.groups&&X(xe.groups)},Fe=async(xe,Pe,Ze)=>{const er=await _u.resolveGroup(xe,Pe,Ze);er.success?await Oe():alert(er.error||"Failed to resolve")},$e=xe=>i.find(Pe=>Pe.id===xe.service_id),me=xe=>xe.total_assets?Math.round(xe.processed_assets/xe.total_assets*100):0;return b?t.jsxDEV("div",{className:"flex items-center justify-center h-64",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:363,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:362,columnNumber:7},void 0):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Import Photos"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:373,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mt-1",children:"Import photos from other services into Kizu"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:374,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:372,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex gap-2",children:t.jsxDEV("button",{onClick:je,disabled:C,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:" Find Duplicates"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:377,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:376,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:371,columnNumber:7},void 0),d&&t.jsxDEV("div",{className:"bg-white rounded-lg border p-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[t.jsxDEV("span",{className:"font-medium text-gray-700",children:"Photo Capacity"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:391,columnNumber:13},void 0),t.jsxDEV("span",{className:"text-gray-600",children:[d.current_photos.toLocaleString()," / ",d.max_photos.toLocaleString()]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:392,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:390,columnNumber:11},void 0),t.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsxDEV("div",{className:`h-2 rounded-full ${d.remaining_photos<100?"bg-red-500":"bg-blue-600"}`,style:{width:`${Math.min(100,d.current_photos/d.max_photos*100)}%`}},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:397,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:396,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:[d.remaining_photos.toLocaleString()," photos remaining"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:404,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:389,columnNumber:9},void 0),j&&["pending","importing","estimating"].includes(j.status)&&t.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:415,columnNumber:15},void 0),t.jsxDEV("span",{className:"font-medium text-blue-800",children:"Importing Photos..."},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:416,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:414,columnNumber:13},void 0),t.jsxDEV("button",{onClick:Ne,className:"text-red-600 hover:text-red-800 text-sm",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:418,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:413,columnNumber:11},void 0),t.jsxDEV("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:t.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${me(j)}%`}},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:426,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:425,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex justify-between text-sm text-blue-700",children:[t.jsxDEV("span",{children:[j.imported_assets.toLocaleString()," of ",j.total_assets.toLocaleString()," photos"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:432,columnNumber:13},void 0),t.jsxDEV("span",{children:[me(j),"%"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:435,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:431,columnNumber:11},void 0),j.skipped_duplicates>0&&t.jsxDEV("p",{className:"text-sm text-blue-600 mt-1",children:[j.skipped_duplicates," duplicates skipped"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:438,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:412,columnNumber:9},void 0),t.jsxDEV("div",{className:"border-b border-gray-200",children:t.jsxDEV("nav",{className:"-mb-px flex gap-4",children:[t.jsxDEV("button",{onClick:()=>P("sources"),className:`py-2 px-1 border-b-2 font-medium text-sm ${S==="sources"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sources"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:448,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>P("history"),className:`py-2 px-1 border-b-2 font-medium text-sm ${S==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Import History"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:458,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>{P("duplicates"),Oe()},className:`py-2 px-1 border-b-2 font-medium text-sm ${S==="duplicates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Duplicates"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:468,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:447,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:446,columnNumber:7},void 0),S==="sources"&&t.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:i.filter(xe=>xe.is_active&&xe.service_key!=="camera_roll").map(xe=>{const Pe=re(xe.service_key),Ze=se(xe.service_key);return t.jsxDEV("div",{className:`bg-white rounded-lg border p-4 ${Pe?"cursor-pointer hover:border-blue-300":""}`,onClick:()=>Pe&&Ze&&W(Ze),children:t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-2xl",style:{backgroundColor:`${vW(xe.service_key)}15`},children:gW(xe.service_key)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:502,columnNumber:21},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("h3",{className:"font-medium text-gray-900",children:xe.display_name},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:509,columnNumber:23},void 0),Pe&&Ze?t.jsxDEV("p",{className:"text-sm text-gray-600",children:Ze.total_assets_synced>0?`${Ze.total_assets_synced.toLocaleString()} photos synced`:"Connected"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:511,columnNumber:25},void 0):t.jsxDEV("p",{className:"text-sm text-gray-500",children:xe.requires_app_review?"Coming soon":"Not connected"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:517,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:508,columnNumber:21},void 0),Pe?t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"w-3 h-3 bg-green-500 rounded-full"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:524,columnNumber:25},void 0),t.jsxDEV("button",{onClick:er=>{er.stopPropagation(),Ze&&ye(Ze)},className:"text-sm text-red-600 hover:text-red-800",children:"Disconnect"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:525,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:523,columnNumber:23},void 0):t.jsxDEV("button",{onClick:()=>Ee(xe.service_key),disabled:xe.requires_app_review,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Connect"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:536,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:501,columnNumber:19},void 0)},xe.id,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:494,columnNumber:17},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:486,columnNumber:9},void 0),S==="history"&&t.jsxDEV("div",{className:"bg-white rounded-lg border",children:l.length===0?t.jsxDEV("div",{className:"p-8 text-center text-gray-500",children:t.jsxDEV("p",{children:"No import history yet"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:556,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:555,columnNumber:13},void 0):t.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsxDEV("thead",{className:"bg-gray-50",children:t.jsxDEV("tr",{children:[t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Source"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:562,columnNumber:19},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:563,columnNumber:19},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Imported"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:564,columnNumber:19},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Skipped"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:565,columnNumber:19},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:566,columnNumber:19},void 0),t.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:567,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:561,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:560,columnNumber:15},void 0),t.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(xe=>{var Pe;return t.jsxDEV("tr",{children:[t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxDEV("span",{className:"text-sm text-gray-900",children:((Pe=xe.service)==null?void 0:Pe.display_name)||"Unknown"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:574,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:573,columnNumber:21},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxDEV("span",{className:`px-2 py-1 text-xs rounded-full ${xe.status==="completed"?"bg-green-100 text-green-800":xe.status==="rolled_back"?"bg-orange-100 text-orange-800":xe.status==="failed"?"bg-red-100 text-red-800":xe.status==="importing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:xe.status==="rolled_back"?"undone":xe.status},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:579,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:578,columnNumber:21},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe.imported_assets.toLocaleString()},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:595,columnNumber:21},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe.skipped_duplicates+xe.skipped_similar},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:598,columnNumber:21},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(xe.created_at).toLocaleDateString()},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:601,columnNumber:21},void 0),t.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[xe.status==="completed"&&xe.imported_assets>0&&t.jsxDEV("button",{onClick:()=>fe(xe.id),disabled:Xe,className:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed",children:Be===xe.id?"Undoing...":"Undo"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:606,columnNumber:25},void 0),xe.status==="rolled_back"&&t.jsxDEV("span",{className:"text-gray-400",children:"-"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:615,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:604,columnNumber:21},void 0)]},xe.id,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:572,columnNumber:19},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:570,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:559,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:553,columnNumber:9},void 0),S==="duplicates"&&t.jsxDEV("div",{className:"space-y-4",children:C?t.jsxDEV("div",{className:"flex items-center justify-center h-32",children:t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:631,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:630,columnNumber:13},void 0):R.length===0?t.jsxDEV("div",{className:"bg-white rounded-lg border p-8 text-center",children:[t.jsxDEV("p",{className:"text-gray-500 mb-4",children:"No duplicate groups found"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:635,columnNumber:15},void 0),t.jsxDEV("button",{onClick:je,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Scan for Duplicates"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:636,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:634,columnNumber:13},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("p",{className:"text-sm text-gray-600",children:[R.length," duplicate group",R.length!==1?"s":""," found"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:645,columnNumber:15},void 0),R.map(xe=>{var Pe;return t.jsxDEV("div",{className:"bg-white rounded-lg border p-4",children:[t.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[t.jsxDEV("span",{className:"font-medium",children:xe.group_type==="exact"?" Exact Duplicates":" Similar Images"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:651,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-sm text-gray-500",children:[xe.asset_count," photos"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:654,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:650,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex gap-2 overflow-x-auto pb-2",children:(Pe=xe.assets)==null?void 0:Pe.map(Ze=>{var er,xr;return t.jsxDEV("div",{className:`relative flex-shrink-0 w-24 h-24 rounded-lg overflow-hidden border-2 ${Ze.is_primary?"border-blue-500":"border-transparent"}`,children:[t.jsxDEV("img",{src:((er=Ze.asset)==null?void 0:er.thumbnail)||((xr=Ze.asset)==null?void 0:xr.path),alt:"",className:"w-full h-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:664,columnNumber:25},void 0),Ze.is_primary&&t.jsxDEV("div",{className:"absolute top-1 right-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Best"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:670,columnNumber:27},void 0)]},Ze.id,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:658,columnNumber:23},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:656,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex gap-2 mt-3",children:[t.jsxDEV("button",{onClick:()=>{var er;const Ze=(er=xe.assets)==null?void 0:er.find(xr=>xr.is_primary);Ze&&Fe(xe.id,"keep_one",Ze.asset_id)},className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Keep Best, Delete Others"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:678,columnNumber:21},void 0),t.jsxDEV("button",{onClick:()=>Fe(xe.id,"keep_all"),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Keep All"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:689,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:677,columnNumber:19},void 0)]},xe.id,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:649,columnNumber:17},void 0)})]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:644,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:628,columnNumber:9},void 0),v&&E&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxDEV("div",{className:"bg-white rounded-xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden",children:[t.jsxDEV("div",{className:"p-6 border-b",children:t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("h3",{className:"text-lg font-semibold",children:["Import from ",(ze=$e(E))==null?void 0:ze.display_name]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:709,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:""},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:712,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:708,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:707,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[60vh]",children:[t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("span",{className:"text-gray-600",children:"Photos available"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:725,columnNumber:19},void 0),t.jsxDEV("span",{className:"font-medium",children:M!==null?M.toLocaleString():"Checking..."},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:726,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:724,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:723,columnNumber:15},void 0),V.length===0?t.jsxDEV("button",{onClick:he,disabled:te,className:"w-full py-3 border border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50",children:te?"Loading albums...":"Select specific albums to import"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:734,columnNumber:17},void 0):t.jsxDEV("div",{className:"border rounded-lg divide-y max-h-48 overflow-y-auto",children:V.map(xe=>t.jsxDEV("label",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 cursor-pointer",children:[t.jsxDEV("input",{type:"checkbox",checked:Z.has(xe.id),onChange:()=>oe(xe.id),className:"rounded text-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:748,columnNumber:23},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"font-medium text-sm",children:xe.name},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:755,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500",children:[xe.asset_count||0," photos"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:754,columnNumber:23},void 0)]},xe.id,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:744,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:742,columnNumber:17},void 0),t.jsxDEV("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer",children:[t.jsxDEV("input",{type:"checkbox",checked:$,onChange:xe=>Ae(xe.target.checked),className:"rounded text-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:765,columnNumber:17},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium text-sm",children:"Skip duplicate check"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:772,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500",children:"Faster import, can check for duplicates later"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:773,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:771,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:764,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:721,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-6 border-t bg-gray-50",children:t.jsxDEV("button",{onClick:ke,disabled:L||M!==null&&M<=0,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:L?t.jsxDEV("span",{className:"flex items-center justify-center gap-2",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:786,columnNumber:21},void 0),"Starting..."]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:785,columnNumber:19},void 0):Z.size>0?`Import ${Z.size} Album${Z.size!==1?"s":""}`:M&&M>0?`Import ${M.toLocaleString()} Photos`:"No Photos to Import"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:779,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:778,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:706,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:705,columnNumber:9},void 0),ie&&ee&&t.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxDEV("div",{className:"bg-white rounded-xl max-w-md w-full mx-4 p-6",children:[t.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Scanning for Duplicates"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:806,columnNumber:13},void 0),ee.status==="completed"?t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:810,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-gray-700 mb-2",children:"Scan complete!"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:811,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500 mb-4",children:["Found ",ee.duplicates_found," exact duplicates and ",ee.similar_found," similar images"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:812,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>{z(!1),P("duplicates")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"View Results"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:815,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:809,columnNumber:15},void 0):ee.status==="failed"?t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:827,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-gray-700 mb-2",children:"Scan failed"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:828,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-red-500 mb-4",children:ee.error_message},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:829,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>z(!1),className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Close"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:830,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:826,columnNumber:15},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:840,columnNumber:19},void 0),t.jsxDEV("span",{className:"text-gray-600",children:ee.status==="scanning"?"Scanning photos...":"Finding duplicates..."},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:841,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:839,columnNumber:17},void 0),t.jsxDEV("div",{className:"bg-gray-100 rounded-full h-2 mb-2",children:t.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${ee.total_assets?ee.scanned_assets/ee.total_assets*100:0}%`}},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:846,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:845,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:[ee.scanned_assets," of ",ee.total_assets||"?"," photos scanned"]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:853,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:838,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:805,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:804,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ImportManager.tsx",lineNumber:369,columnNumber:5},void 0)};class xW{async getAuthHeaders(){try{const{data:{session:r},error:n}=await Ge.auth.getSession();return n||!(r!=null&&r.access_token)?null:{Authorization:`Bearer ${r.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}catch{return null}}async getNotifications(r=1,n=20){try{const s=await this.getAuthHeaders();if(!s)return{success:!1,error:"Authentication required"};const u=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/notifications-api?page=${r}&limit=${n}`,{method:"GET",headers:{...s,"Content-Type":"application/json"}}),d=await u.json();return u.ok?{success:!0,data:d}:{success:!1,error:d.error||"Failed to fetch notifications"}}catch{return{success:!1,error:"Network error"}}}async getUnreadCount(){try{const r=await this.getAuthHeaders();return r&&(await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/notifications-api?unread_count=true",{method:"GET",headers:{...r,"Content-Type":"application/json"}})).json()).unread_count||0}catch{return 0}}async markAsRead(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const l=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/notifications-api/mark-read",{method:"POST",headers:{...n,"Content-Type":"application/json"},body:JSON.stringify({notification_id:r})}),u=await l.json();return{success:l.ok,error:u.error}}catch{return{success:!1,error:"Network error"}}}async markAllAsRead(){try{const r=await this.getAuthHeaders();if(!r)return{success:!1,error:"Authentication required"};const s=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/notifications-api/mark-all-read",{method:"POST",headers:{...r,"Content-Type":"application/json"}}),l=await s.json();return{success:s.ok,error:l.error}}catch{return{success:!1,error:"Network error"}}}async deleteNotification(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const l=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/notifications-api?notification_id=${r}`,{method:"DELETE",headers:{...n,"Content-Type":"application/json"}}),u=await l.json();return{success:l.ok,error:u.error}}catch{return{success:!1,error:"Network error"}}}async acceptFriendRequest(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const u=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=respond",{method:"POST",headers:{...n,"Content-Type":"application/json"},body:JSON.stringify({request_id:r,response:"accept"})})).json();return{success:u.success,error:u.error}}catch{return{success:!1,error:"Network error"}}}async declineFriendRequest(r){try{const n=await this.getAuthHeaders();if(!n)return{success:!1,error:"Authentication required"};const u=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=respond",{method:"POST",headers:{...n,"Content-Type":"application/json"},body:JSON.stringify({request_id:r,response:"decline"})})).json();return{success:u.success,error:u.error}}catch{return{success:!1,error:"Network error"}}}async getPendingFriendRequests(){try{const r=await this.getAuthHeaders();if(!r)return{success:!1,error:"Authentication required"};const l=await(await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/friends-api?action=requests&type=received",{method:"GET",headers:{...r,"Content-Type":"application/json"}})).json();return{success:l.success,data:l,error:l.error}}catch{return{success:!1,error:"Network error"}}}}const Fn=new xW;function yW(i){const r=new Date(i),s=new Date().getTime()-r.getTime(),l=Math.floor(s/6e4),u=Math.floor(s/36e5),d=Math.floor(s/864e5);return l<1?"Just now":l<60?`${l}m ago`:u<24?`${u}h ago`:d<7?`${d}d ago`:r.toLocaleDateString()}function wW(i){switch(i){case"new_comments":return{icon:"fi-sr-comment",bgColor:"notif-bg-blue",iconColor:"notif-icon-blue"};case"new_photos":return{icon:"fi-sr-picture",bgColor:"notif-bg-green",iconColor:"notif-icon-green"};case"new_members":return{icon:"fi-sr-user-add",bgColor:"notif-bg-purple",iconColor:"notif-icon-purple"};case"album_shared":return{icon:"fi-sr-share",bgColor:"notif-bg-orange",iconColor:"notif-icon-orange"};case"new_messages":case"chat_message":return{icon:"fi-sr-messages",bgColor:"notif-bg-pink",iconColor:"notif-icon-pink"};case"friend_requests":return{icon:"fi-sr-user-add",bgColor:"notif-bg-emerald",iconColor:"notif-icon-emerald"};case"contact_activity":return{icon:"fi-sr-address-book",bgColor:"notif-bg-violet",iconColor:"notif-icon-violet"};default:return{icon:"fi-sr-bell",bgColor:"bg-surface-elevated",iconColor:"text-theme-secondary"}}}function EW(i){var r,n;return i.notification_type==="friend_requests"&&((r=i.title)==null?void 0:r.toLowerCase().includes("friend request"))&&!((n=i.title)!=null&&n.toLowerCase().includes("accepted"))}const kW=()=>{const[i,r]=h.useState("all"),[n,s]=h.useState([]),[l,u]=h.useState([]),[d,A]=h.useState(!0),[b,p]=h.useState(null),[x,N]=h.useState(0),[v,w]=h.useState(null),E=h.useCallback(async()=>{A(!0),p(null);try{const[M,q,$]=await Promise.all([Fn.getNotifications(1,50),Fn.getUnreadCount(),Fn.getPendingFriendRequests()]);M.success&&M.data&&s(M.data.notifications||[]),N(q),$.success&&$.data&&u($.data.requests||[])}catch{p("Failed to load notifications")}A(!1)},[]);h.useEffect(()=>{E();const M=setInterval(E,3e4);return()=>clearInterval(M)},[E]);const F=async M=>{await Fn.markAsRead(M),s(q=>q.map($=>$.id===M?{...$,is_read:!0}:$)),N(q=>Math.max(0,q-1))},V=async()=>{await Fn.markAllAsRead(),s(M=>M.map(q=>({...q,is_read:!0}))),N(0)},G=async M=>{await Fn.deleteNotification(M),s(q=>q.filter($=>$.id!==M))},Z=async(M,q)=>{w(M);try{(await Fn.acceptFriendRequest(M)).success&&(u(Ae=>Ae.filter(L=>L.id!==M)),q&&F(q),E())}finally{w(null)}},H=async(M,q)=>{w(M);try{(await Fn.declineFriendRequest(M)).success&&(u(Ae=>Ae.filter(L=>L.id!==M)),q&&G(q),E())}finally{w(null)}},te=M=>M?l.find(q=>{var $;return(($=q.requester)==null?void 0:$.id)===M||q.requester_id===M}):null,T=n.filter(M=>i==="unread"?!M.is_read:i==="friend_requests"?M.notification_type==="friend_requests":!0);return t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-theme-primary",children:"Notifications"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:167,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-theme-secondary",children:x>0?`${x} unread`:"All caught up!"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:168,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:166,columnNumber:9},void 0),x>0&&t.jsxDEV("button",{onClick:V,className:"px-4 py-2 text-sm font-medium text-theme-accent hover:opacity-80",children:"Mark all as read"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:173,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:165,columnNumber:7},void 0),t.jsxDEV("div",{className:"border-b border-default",children:t.jsxDEV("div",{className:"flex space-x-8",children:["all","unread","friend_requests"].map(M=>t.jsxDEV("button",{onClick:()=>r(M),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${i===M?"border-primary text-theme-accent":"border-transparent text-theme-secondary hover:text-theme-primary"}`,children:[M==="all"&&"All",M==="unread"&&`Unread (${x})`,M==="friend_requests"&&`Friend Requests (${l.length})`]},M,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:186,columnNumber:13},void 0))},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:184,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:183,columnNumber:7},void 0),d?t.jsxDEV("div",{className:"flex items-center justify-center py-12",children:t.jsxDEV("div",{className:"loading-spinner h-8 w-8"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:206,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:205,columnNumber:9},void 0):b?t.jsxDEV("div",{className:"text-center py-12 text-error",children:b},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:209,columnNumber:9},void 0):T.length===0?t.jsxDEV("div",{className:"text-center py-12",children:[t.jsxDEV("i",{className:"fi fi-sr-bell text-4xl text-theme-muted mb-4 block"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:212,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-theme-secondary",children:"No notifications"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:213,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:211,columnNumber:9},void 0):t.jsxDEV("div",{className:"bg-surface rounded-lg shadow divide-y divide-default",children:T.map(M=>{var L,J;const q=wW(M.notification_type),$=EW(M),Ae=$?te((L=M.actor)==null?void 0:L.id):null;return t.jsxDEV("div",{className:`p-4 hover:bg-surface-hover transition-colors ${M.is_read?"":"bg-primary-light"}`,children:t.jsxDEV("div",{className:"flex items-start gap-4",children:[t.jsxDEV("div",{className:`w-10 h-10 rounded-full ${q.bgColor} flex items-center justify-center flex-shrink-0`,children:(J=M.actor)!=null&&J.avatar_url?t.jsxDEV("img",{src:M.actor.avatar_url,alt:"",className:"w-full h-full rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:233,columnNumber:23},void 0):t.jsxDEV("i",{className:`fi ${q.icon} ${q.iconColor}`},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:239,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:231,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:`text-sm font-medium text-theme-primary ${M.is_read?"":"font-semibold"}`,children:M.title},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:247,columnNumber:25},void 0),t.jsxDEV("p",{className:"text-sm text-theme-secondary mt-0.5",children:M.body},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:252,columnNumber:25},void 0),M.actor&&t.jsxDEV("p",{className:"text-xs text-theme-muted mt-1",children:["From ",M.actor.full_name]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:256,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:246,columnNumber:23},void 0),t.jsxDEV("span",{className:"text-xs text-theme-muted flex-shrink-0",children:yW(M.created_at)},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:261,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:245,columnNumber:21},void 0),$&&Ae&&t.jsxDEV("div",{className:"flex items-center gap-2 mt-3",children:v===Ae.id?t.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-emerald-600"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:270,columnNumber:27},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("button",{onClick:()=>Z(Ae.id,M.id),className:"px-3 py-1.5 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors flex items-center gap-1",children:[t.jsxDEV("i",{className:"fi fi-sr-check text-xs"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:277,columnNumber:31},void 0),"Accept"]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:273,columnNumber:29},void 0),t.jsxDEV("button",{onClick:()=>H(Ae.id,M.id),className:"px-3 py-1.5 text-sm font-medium text-theme-secondary bg-surface-elevated hover:bg-surface-hover rounded-lg transition-colors",children:"Decline"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:280,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:272,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:268,columnNumber:23},void 0),!$&&t.jsxDEV("div",{className:"flex items-center gap-3 mt-2",children:[!M.is_read&&t.jsxDEV("button",{onClick:()=>F(M.id),className:"text-xs text-theme-accent hover:opacity-80",children:"Mark as read"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:295,columnNumber:27},void 0),t.jsxDEV("button",{onClick:()=>G(M.id),className:"text-xs text-theme-muted hover:text-error",children:"Delete"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:302,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:293,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:244,columnNumber:19},void 0),!M.is_read&&t.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-primary flex-shrink-0 mt-2"},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:314,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:229,columnNumber:17},void 0)},M.id,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:223,columnNumber:15},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:216,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/NotificationsManager.tsx",lineNumber:163,columnNumber:5},void 0)},os={operations:[{id:"embedding",label:"Embeddings",description:"Semantic vectors for search",icon:""},{id:"faces",label:"Faces",description:"Detect and recognize faces",icon:""},{id:"objects",label:"Objects",description:"Identify objects (YOLO)",icon:""},{id:"ocr",label:"OCR",description:"Extract text from images",icon:""},{id:"describe",label:"Description",description:"AI-generated captions",icon:""}],defaultOperations:["embedding","faces","objects"],jobPollInterval:5e3,healthCheckInterval:3e4,tabs:[{id:"single",label:"Single Test",icon:""},{id:"album",label:"Album Processing",icon:""},{id:"faces",label:"Face Clusters",icon:""},{id:"search",label:"Search Test",icon:""},{id:"activity",label:"Activity",icon:""},{id:"reindex",label:"Reindex",icon:""}]};function DW(){const[i,r]=h.useState(null),[n,s]=h.useState(null),[l,u]=h.useState(!0),[d,A]=h.useState(null),b=h.useCallback(async()=>{try{u(!0),A(null);const p=await ea.healthCheck();p.success&&p.data?(r(!0),s(p.data)):(r(!1),A(p.error||"Failed to connect"))}catch(p){r(!1),A(p instanceof Error?p.message:"Connection failed")}finally{u(!1)}},[]);return h.useEffect(()=>{b();const p=setInterval(b,os.healthCheckInterval);return()=>clearInterval(p)},[b]),{connected:i,health:n,loading:l,error:d,checkHealth:b}}function VW(i){const[r,n]=h.useState(null),[s,l]=h.useState(!1),[u,d]=h.useState(null),[A,b]=h.useState(!1),p=h.useRef(null),x=h.useCallback(()=>{p.current&&(clearInterval(p.current),p.current=null)},[]),N=h.useCallback(async()=>{var v,w;if(i)try{l(!0);const E=await ea.getJob(i);E.success&&E.data?(n(E.data),b(!1),["completed","failed"].includes(E.data.status)&&x()):((v=E.error)==null?void 0:v.toLowerCase().includes("not found"))||((w=E.error)==null?void 0:w.toLowerCase().includes("404"))?(b(!0),n(null),x()):d(E.error||"Failed to fetch job")}catch(E){d(E instanceof Error?E.message:"Failed to fetch job"),x()}finally{l(!1)}},[i,x]);return h.useEffect(()=>{if(!i){n(null),b(!1),d(null);return}return N(),p.current=setInterval(N,os.jobPollInterval),()=>x()},[i,N,x]),{job:r,loading:s,error:u,notFound:A,refresh:N}}function jW(){const[i,r]=h.useState({pending:0,processing:0,completed:0,failed:0,total:0}),[n,s]=h.useState([]),[l,u]=h.useState([]),[d,A]=h.useState([]),[b,p]=h.useState([]),[x,N]=h.useState(!0),[v,w]=h.useState(null),[E,F]=h.useState(!1),V=h.useRef(null),G=h.useCallback(async()=>{try{N(!0),w(null);const[T,M,q,$]=await Promise.all([ea.getQueueStats(),ea.getActiveJobs(10),ea.getRecentJobs(50),ea.getWorkerStatus()]);if(T.success&&T.data&&r(T.data),M.success&&M.data&&s(M.data.jobs),q.success&&q.data){u(q.data.jobs);const Ae=q.data.jobs.map(L=>({id:L.id,timestamp:L.completed_at||L.started_at||L.created_at,status:L.status,asset_id:L.asset_id,worker_id:L.worker_id,result:L.result}));p(Ae)}$.success&&$.data&&A($.data.workers)}catch(T){w(T instanceof Error?T.message:"Failed to fetch queue data")}finally{N(!1)}},[]),Z=h.useCallback(T=>{var $;if(E)return;const{eventType:M,new:q}=T;if(q){const Ae={id:`${q.id}-${Date.now()}`,timestamp:new Date().toISOString(),status:M==="INSERT"?"queued":q.status==="processing"?"started":String(q.status||"unknown"),asset_id:String(q.asset_id||""),worker_id:q.worker_id,result:q.result};p(L=>[Ae,...L].slice(0,100))}if(M==="INSERT")r(Ae=>({...Ae,pending:Ae.pending+1,total:Ae.total+1}));else if(M==="UPDATE"&&q){const Ae=q.status,L=($=T.old)==null?void 0:$.status;r(J=>{const j={...J};return L&&L in j&&(j[L]=Math.max(0,j[L]-1)),Ae&&Ae in j&&j[Ae]++,j})}ea.getActiveJobs(10).then(Ae=>{Ae.success&&Ae.data&&s(Ae.data.jobs)}),ea.getWorkerStatus().then(Ae=>{Ae.success&&Ae.data&&A(Ae.data.workers)})},[E]);h.useEffect(()=>{G();const T=Ge.channel("processing_queue_changes").on("postgres_changes",{event:"*",schema:"public",table:"processing_queue"},Z).subscribe(M=>{M==="SUBSCRIBED"?console.log("[ProcessingQueue] Realtime subscription active"):M==="CHANNEL_ERROR"&&(console.error("[ProcessingQueue] Realtime subscription error"),w("Real-time updates unavailable"))});return V.current=T,()=>{V.current&&Ge.removeChannel(V.current)}},[G,Z]),h.useEffect(()=>{const T=setInterval(()=>{E||G()},3e4);return()=>clearInterval(T)},[G,E]);const H=h.useCallback(()=>{F(T=>!T)},[]),te=h.useCallback(()=>{p([])},[]);return{stats:i,activeJobs:n,recentJobs:l,workers:d,activityLog:b,loading:x,error:v,isPaused:E,togglePause:H,clearActivityLog:te,refresh:G}}const f7=({selected:i,onChange:r,disabled:n=!1})=>{const s=u=>{if(u==="all"){const d=os.operations.map(b=>b.id),A=d.every(b=>i.includes(b));r(A?[]:d)}else{const d=i.includes(u)?i.filter(A=>A!==u):[...i,u];r(d)}},l=os.operations.every(u=>i.includes(u.id));return t.jsxDEV("div",{className:"operation-selector",children:[t.jsxDEV("label",{className:`operation-selector__item ${l?"operation-selector__item--selected":""}`,children:[t.jsxDEV("input",{type:"checkbox",className:"operation-selector__checkbox",checked:l,onChange:()=>s("all"),disabled:n},void 0,!1,{fileName:"/app/src/components/admin/ai/components/OperationSelector.tsx",lineNumber:42,columnNumber:9},void 0),t.jsxDEV("span",{className:"operation-selector__label",children:"All"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/OperationSelector.tsx",lineNumber:49,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/OperationSelector.tsx",lineNumber:41,columnNumber:7},void 0),os.operations.map(u=>t.jsxDEV("label",{className:`operation-selector__item ${i.includes(u.id)?"operation-selector__item--selected":""}`,title:u.description,children:[t.jsxDEV("input",{type:"checkbox",className:"operation-selector__checkbox",checked:i.includes(u.id),onChange:()=>s(u.id),disabled:n},void 0,!1,{fileName:"/app/src/components/admin/ai/components/OperationSelector.tsx",lineNumber:59,columnNumber:11},void 0),t.jsxDEV("span",{children:u.icon},void 0,!1,{fileName:"/app/src/components/admin/ai/components/OperationSelector.tsx",lineNumber:66,columnNumber:11},void 0),t.jsxDEV("span",{className:"operation-selector__label",children:u.label},void 0,!1,{fileName:"/app/src/components/admin/ai/components/OperationSelector.tsx",lineNumber:67,columnNumber:11},void 0)]},u.id,!0,{fileName:"/app/src/components/admin/ai/components/OperationSelector.tsx",lineNumber:54,columnNumber:9},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/OperationSelector.tsx",lineNumber:39,columnNumber:5},void 0)},m7=({progress:i,processed:r,total:n,label:s,showPercent:l=!0})=>{const u=Math.min(100,Math.max(0,i));return t.jsxDEV("div",{className:"progress-bar",children:[t.jsxDEV("div",{className:"progress-bar__track",children:t.jsxDEV("div",{className:"progress-bar__fill",style:{width:`${u}%`}},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProgressBar.tsx",lineNumber:28,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProgressBar.tsx",lineNumber:27,columnNumber:7},void 0),t.jsxDEV("div",{className:"progress-bar__label",children:[t.jsxDEV("span",{children:s||(r!==void 0&&n!==void 0?`${r} / ${n}`:"")},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProgressBar.tsx",lineNumber:34,columnNumber:9},void 0),l&&t.jsxDEV("span",{children:[Math.round(u),"%"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProgressBar.tsx",lineNumber:39,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProgressBar.tsx",lineNumber:33,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProgressBar.tsx",lineNumber:26,columnNumber:5},void 0)},CW=({result:i,loading:r=!1})=>r?t.jsxDEV("div",{className:"results-section",children:t.jsxDEV("div",{className:"ai-empty",children:[t.jsxDEV("div",{className:"ai-spinner ai-spinner--large"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:22,columnNumber:11},void 0),t.jsxDEV("p",{className:"ai-empty__text",children:"Processing image..."},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:23,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:21,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:20,columnNumber:7},void 0):i?t.jsxDEV("div",{className:"results-section",children:[i.objects&&i.objects.length>0&&t.jsxDEV("div",{style:{marginBottom:"1rem"},children:[t.jsxDEV("h4",{className:"results-section__title",children:["Objects Detected (",i.objects.length,")"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:36,columnNumber:11},void 0),t.jsxDEV("div",{className:"results-section__list",children:i.objects.map((n,s)=>t.jsxDEV("span",{className:"results-item",children:[n.class_name||n.class,t.jsxDEV("span",{className:"results-item__confidence",children:[Math.round(n.confidence*100),"%"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:41,columnNumber:17},void 0)]},s,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:39,columnNumber:15},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:37,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:35,columnNumber:9},void 0),i.faces&&i.faces.length>0&&t.jsxDEV("div",{style:{marginBottom:"1rem"},children:[t.jsxDEV("h4",{className:"results-section__title",children:["Faces Detected (",i.faces.length,")"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:53,columnNumber:11},void 0),t.jsxDEV("div",{className:"results-section__list",children:i.faces.map((n,s)=>t.jsxDEV("span",{className:"results-item",children:["Face ",s+1,t.jsxDEV("span",{className:"results-item__confidence",children:[Math.round(n.confidence*100),"%"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:58,columnNumber:17},void 0)]},s,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:56,columnNumber:15},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:54,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:52,columnNumber:9},void 0),i.text&&t.jsxDEV("div",{style:{marginBottom:"1rem"},children:[t.jsxDEV("h4",{className:"results-section__title",children:"Extracted Text"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:70,columnNumber:11},void 0),t.jsxDEV("p",{style:{padding:"0.75rem",backgroundColor:"#f3f4f6",borderRadius:"0.375rem",fontSize:"0.875rem",whiteSpace:"pre-wrap"},children:i.text},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:71,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:69,columnNumber:9},void 0),i.description&&t.jsxDEV("div",{style:{marginBottom:"1rem"},children:[t.jsxDEV("h4",{className:"results-section__title",children:"AI Description"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:86,columnNumber:11},void 0),t.jsxDEV("p",{style:{padding:"0.75rem",backgroundColor:"#eff6ff",borderRadius:"0.375rem",fontSize:"0.875rem",fontStyle:"italic"},children:i.description},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:87,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:85,columnNumber:9},void 0),i.embedding&&t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"results-section__title",children:"Embedding"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:102,columnNumber:11},void 0),t.jsxDEV("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["Generated ",i.embedding.length,"-dimensional vector"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:103,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:101,columnNumber:9},void 0),i.processing_time_ms&&t.jsxDEV("p",{style:{marginTop:"1rem",fontSize:"0.75rem",color:"#9ca3af",textAlign:"right"},children:["Processed in ",(i.processing_time_ms/1e3).toFixed(2),"s"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:111,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ProcessingResults.tsx",lineNumber:32,columnNumber:5},void 0):null,_W=({clusters:i,selectedIds:r=[],onSelect:n,onToggleSelect:s,selectionMode:l=!1,loading:u=!1})=>{if(u)return t.jsxDEV("div",{className:"ai-empty",children:[t.jsxDEV("div",{className:"ai-spinner ai-spinner--large"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:33,columnNumber:9},void 0),t.jsxDEV("p",{className:"ai-empty__text",children:"Loading clusters..."},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:34,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:32,columnNumber:7},void 0);if(i.length===0)return t.jsxDEV("div",{className:"ai-empty",children:[t.jsxDEV("div",{className:"ai-empty__icon",children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:42,columnNumber:9},void 0),t.jsxDEV("p",{className:"ai-empty__text",children:"No face clusters found"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:43,columnNumber:9},void 0),t.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.5rem"},children:"Process some images with face detection to create clusters"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:44,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:41,columnNumber:7},void 0);const d=A=>{l&&s?s(A.id):n&&n(A.id)};return t.jsxDEV("div",{className:"cluster-grid",children:i.map(A=>{var v;const b=r.includes(A.id),p=!!A.knox_contact_id||!!A.name,x=(v=A.sample_faces)==null?void 0:v[0],N=(x==null?void 0:x.is_from_video)??!1;return t.jsxDEV("div",{className:`cluster-card ${b?"cluster-card--selected":""}`,onClick:()=>d(A),children:[l&&t.jsxDEV("input",{type:"checkbox",checked:b,onChange:()=>s==null?void 0:s(A.id),style:{position:"absolute",top:"0.5rem",left:"0.5rem"},onClick:w=>w.stopPropagation()},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:74,columnNumber:15},void 0),t.jsxDEV("div",{className:"cluster-card__thumbnail",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",overflow:"hidden",position:"relative"},children:x!=null&&x.thumbnail_url?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("img",{src:x.thumbnail_url,alt:A.name||"Face",style:{width:"100%",height:"100%",objectFit:"cover"},onError:w=>{w.target.style.display="none"}},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:96,columnNumber:19},void 0),N&&t.jsxDEV("div",{style:{position:"absolute",bottom:"4px",right:"4px",background:"rgba(0,0,0,0.7)",color:"white",fontSize:"0.625rem",padding:"2px 4px",borderRadius:"2px",display:"flex",alignItems:"center",gap:"2px"},children:[t.jsxDEV("span",{style:{fontSize:"0.5rem"},children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:124,columnNumber:23},void 0)," Video"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:109,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:95,columnNumber:17},void 0):t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:129,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:83,columnNumber:13},void 0),t.jsxDEV("div",{className:"cluster-card__info",children:[t.jsxDEV("div",{className:"cluster-card__name",children:A.name||"Unknown"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:134,columnNumber:15},void 0),t.jsxDEV("div",{className:"cluster-card__count",children:[A.face_count," ",A.face_count===1?"face":"faces"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:137,columnNumber:15},void 0),t.jsxDEV("span",{className:`cluster-card__badge ${p?"cluster-card__badge--labeled":"cluster-card__badge--unlabeled"}`,children:p?A.name||"Linked":"Unlabeled"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:140,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:133,columnNumber:13},void 0)]},A.id,!0,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:68,columnNumber:11},void 0)})},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterGrid.tsx",lineNumber:60,columnNumber:5},void 0)},SW=({cluster:i,sampleFaces:r=[],onClose:n,onAssign:s,loading:l=!1})=>{const[u,d]=h.useState(new Set);h.useEffect(()=>{d(new Set)},[i.id]);const A=x=>{d(N=>{const v=new Set(N);return v.has(x)?v.delete(x):v.add(x),v})},b=()=>{s(Array.from(u))},p=r.length-u.size;return t.jsxDEV("div",{className:"cluster-detail",children:[t.jsxDEV("div",{className:"cluster-detail__header",children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{className:"cluster-detail__title",children:i.name||"Unknown Person"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:54,columnNumber:11},void 0),t.jsxDEV("p",{className:"cluster-detail__subtitle",children:[i.face_count," ",i.face_count===1?"face":"faces"," in cluster"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:57,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:53,columnNumber:9},void 0),t.jsxDEV("button",{className:"cluster-detail__close",onClick:n,children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:61,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:52,columnNumber:7},void 0),t.jsxDEV("div",{className:"cluster-detail__status",children:i.knox_contact_id?t.jsxDEV("span",{className:"cluster-card__badge cluster-card__badge--labeled",children:"Linked to contact"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:69,columnNumber:11},void 0):t.jsxDEV("span",{className:"cluster-card__badge cluster-card__badge--unlabeled",children:"Not linked"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:73,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:67,columnNumber:7},void 0),l?t.jsxDEV("div",{className:"ai-empty",style:{padding:"1rem"},children:t.jsxDEV("div",{className:"ai-spinner"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:82,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:81,columnNumber:9},void 0):t.jsxDEV("div",{className:"cluster-detail__faces-section",children:[t.jsxDEV("h4",{className:"cluster-detail__faces-title",children:["Faces (",p," of ",r.length," selected)"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:86,columnNumber:11},void 0),t.jsxDEV("p",{className:"cluster-detail__faces-hint",children:"Click faces to exclude them from assignment"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:89,columnNumber:11},void 0),t.jsxDEV("div",{className:"cluster-detail__faces-grid",children:r.length>0?r.map((x,N)=>{const v=x.id||`${x.asset_id}-${x.face_index}`,w=u.has(v);return t.jsxDEV("div",{onClick:()=>A(v),className:`cluster-detail__face ${w?"cluster-detail__face--excluded":""}`,children:x.thumbnail_url?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("img",{src:x.thumbnail_url,alt:`Face ${N+1}`,className:"cluster-detail__face-img"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:106,columnNumber:25},void 0),w&&t.jsxDEV("div",{className:"cluster-detail__face-excluded-mark",children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:112,columnNumber:27},void 0),x.is_from_video&&t.jsxDEV("div",{className:"cluster-detail__face-video-badge",children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:117,columnNumber:27},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:105,columnNumber:23},void 0):""},v,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:99,columnNumber:19},void 0)}):t.jsxDEV("p",{className:"cluster-detail__empty",children:"No face samples available"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:129,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:92,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:85,columnNumber:9},void 0),t.jsxDEV("div",{className:"cluster-detail__actions",children:t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:b,style:{flex:1},children:i.knox_contact_id?"Change Contact":"Assign to Contact"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:139,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:138,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ClusterDetail.tsx",lineNumber:51,columnNumber:5},void 0)},MW=({isOpen:i,onClose:r,onAssign:n,contacts:s,loading:l=!1})=>{const[u,d]=h.useState(""),[A,b]=h.useState(""),[p,x]=h.useState("contact");if(!i)return null;const N=v=>{if(v.preventDefault(),p==="contact"&&u){const w=s.find(E=>E.id===u);n(u,w==null?void 0:w.name)}else p==="custom"&&A.trim()&&n("",A.trim())};return t.jsxDEV("div",{className:"ai-modal",children:[t.jsxDEV("div",{className:"ai-modal__overlay",onClick:r},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:48,columnNumber:7},void 0),t.jsxDEV("div",{className:"ai-modal__content",children:[t.jsxDEV("div",{className:"ai-modal__header",children:[t.jsxDEV("h3",{className:"ai-modal__title",children:"Assign to Contact"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:51,columnNumber:11},void 0),t.jsxDEV("button",{className:"ai-modal__close",onClick:r,children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:52,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:50,columnNumber:9},void 0),t.jsxDEV("form",{onSubmit:N,children:[t.jsxDEV("div",{className:"ai-modal__body",children:[t.jsxDEV("div",{className:"mode-toggle",style:{marginBottom:"1rem"},children:[t.jsxDEV("button",{type:"button",className:`mode-toggle__option ${p==="contact"?"mode-toggle__option--active":""}`,onClick:()=>x("contact"),children:"Existing Contact"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:59,columnNumber:15},void 0),t.jsxDEV("button",{type:"button",className:`mode-toggle__option ${p==="custom"?"mode-toggle__option--active":""}`,onClick:()=>x("custom"),children:"Custom Name"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:66,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:58,columnNumber:13},void 0),p==="contact"?t.jsxDEV("div",{className:"form-group",children:[t.jsxDEV("label",{className:"form-group__label",children:"Select Contact"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:77,columnNumber:17},void 0),t.jsxDEV("select",{className:"ai-select",value:u,onChange:v=>d(v.target.value),disabled:l,children:[t.jsxDEV("option",{value:"",children:"Choose a contact..."},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:84,columnNumber:19},void 0),s.map(v=>t.jsxDEV("option",{value:v.id,children:v.name},v.id,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:86,columnNumber:21},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:78,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:76,columnNumber:15},void 0):t.jsxDEV("div",{className:"form-group",children:[t.jsxDEV("label",{className:"form-group__label",children:"Name"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:94,columnNumber:17},void 0),t.jsxDEV("input",{type:"text",className:"ai-input",value:A,onChange:v=>b(v.target.value),placeholder:"Enter name for this person",disabled:l},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:95,columnNumber:17},void 0),t.jsxDEV("p",{className:"form-group__help",children:"This will label the cluster without linking to a contact"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:103,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:93,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:56,columnNumber:11},void 0),t.jsxDEV("div",{className:"ai-modal__footer",children:[t.jsxDEV("button",{type:"button",className:"ai-button ai-button--secondary",onClick:r,disabled:l,children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:111,columnNumber:13},void 0),t.jsxDEV("button",{type:"submit",className:"ai-button ai-button--primary",disabled:l||(p==="contact"?!u:!A.trim()),children:l?"Assigning...":"Assign"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:119,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:110,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:55,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:49,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ContactAssignModal.tsx",lineNumber:47,columnNumber:5},void 0)},IW=({results:i,loading:r=!1,onSelect:n})=>r?t.jsxDEV("div",{className:"ai-empty",children:[t.jsxDEV("div",{className:"ai-spinner ai-spinner--large"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:23,columnNumber:9},void 0),t.jsxDEV("p",{className:"ai-empty__text",children:"Searching..."},void 0,!1,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:24,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:22,columnNumber:7},void 0):i.length===0?t.jsxDEV("div",{className:"ai-empty",children:[t.jsxDEV("div",{className:"ai-empty__icon",children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:32,columnNumber:9},void 0),t.jsxDEV("p",{className:"ai-empty__text",children:"No results found"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:33,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:31,columnNumber:7},void 0):t.jsxDEV("div",{className:"search-results",children:i.map((s,l)=>t.jsxDEV("div",{className:"search-result-card",onClick:()=>n==null?void 0:n(s),style:{cursor:n?"pointer":"default"},children:[s.thumbnail_url||s.web_uri?t.jsxDEV("img",{src:s.thumbnail_url||s.web_uri,alt:`Result ${l+1}`,className:"search-result-card__image",loading:"lazy"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:48,columnNumber:13},void 0):t.jsxDEV("div",{className:"search-result-card__image",style:{backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:55,columnNumber:13},void 0),t.jsxDEV("div",{className:"search-result-card__info",children:[t.jsxDEV("span",{className:"search-result-card__score",children:[Math.round(s.similarity*100),"%"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:69,columnNumber:13},void 0),s.matched_location&&t.jsxDEV("span",{className:"search-result-card__location",title:s.matched_location,children:[" ",s.matched_location.length>20?s.matched_location.substring(0,20)+"...":s.matched_location]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:73,columnNumber:15},void 0),s.matched_objects&&s.matched_objects.length>0&&t.jsxDEV("span",{className:"search-result-card__objects",children:[" ",s.matched_objects.join(", ")]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:80,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:68,columnNumber:11},void 0)]},s.asset_id||l,!0,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:41,columnNumber:9},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/components/SearchResults.tsx",lineNumber:39,columnNumber:5},void 0),RW=i=>{const r=i.name.toLowerCase();return r.endsWith(".heic")||r.endsWith(".heif")||i.type==="image/heic"||i.type==="image/heif"},TW=i=>i.type.startsWith("video/")||/\.(mp4|mov|avi|webm|mkv|m4v)$/i.test(i.name),BW=async(i,r=4)=>new Promise((n,s)=>{const l=document.createElement("video");l.preload="metadata",l.muted=!0,l.playsInline=!0;const u=[];let d=0;l.onloadedmetadata=()=>{const A=l.duration,b=A*.05,x=(A*.95-b)/(r-1),N=Array.from({length:r},(w,E)=>Math.min(b+x*E,A-.1)),v=()=>{if(d>=N.length){URL.revokeObjectURL(l.src),n(u);return}l.currentTime=N[d]};l.onseeked=()=>{const w=document.createElement("canvas");w.width=l.videoWidth,w.height=l.videoHeight;const E=w.getContext("2d");E?(E.drawImage(l,0,0),w.toBlob(F=>{F&&u.push({blob:F,timestamp:N[d]}),d++,v()},"image/jpeg",.9)):(d++,v())},v()},l.onerror=()=>{URL.revokeObjectURL(l.src),s(new Error("Failed to load video"))},l.src=URL.createObjectURL(i)}),FW=async i=>{console.log("ImagePicker: Converting HEIC to JPEG:",i.name);try{const r=await y4({blob:i,toType:"image/jpeg",quality:.92}),n=Array.isArray(r)?r[0]:r;return console.log("ImagePicker: HEIC conversion complete"),n}catch(r){return console.error("ImagePicker: heic2any failed, trying canvas fallback:",r),new Promise((n,s)=>{const l=new Image,u=document.createElement("canvas");l.onload=()=>{u.width=l.width,u.height=l.height;const d=u.getContext("2d");d?(d.drawImage(l,0,0),u.toBlob(A=>{URL.revokeObjectURL(l.src),A?n(A):s(new Error("Canvas toBlob failed"))},"image/jpeg",.92)):(URL.revokeObjectURL(l.src),s(new Error("No canvas context")))},l.onerror=()=>{URL.revokeObjectURL(l.src),s(new Error("Image load failed"))},l.src=URL.createObjectURL(i)})}},ZW=({imageUrl:i,onImageSelect:r,onClear:n,disabled:s=!1,onVideoFramesExtracted:l})=>{const[u,d]=h.useState(""),[A,b]=h.useState(!1),[p,x]=h.useState(!1),[N,v]=h.useState(!1),[w,E]=h.useState([]),[F,V]=h.useState(!1),[G,Z]=h.useState(null),H=h.useRef(null),[te,T]=h.useState([]),[M,q]=h.useState(!1),[$,Ae]=h.useState(null);h.useEffect(()=>{p&&L()},[p]);const L=async()=>{var S;V(!0);try{const P=await br.getImages("all","date_added");if(P.success&&((S=P.data)!=null&&S.assets)){const U=P.data.assets.slice(0,50).map(K=>({id:K.id,web_uri:K.web_uri||K.path||"",filename:K.filename||K.id}));E(U)}}catch(P){console.error("Failed to load assets:",P)}finally{V(!1)}},[J,j]=h.useState(!1),O=h.useCallback(async S=>{const P=RW(S);if(TW(S)){q(!0),T([]);try{console.log("Extracting frames from video:",S.name);const se=await BW(S,4);console.log("Extracted",se.length,"frames");const Ee=await Promise.all(se.map(async ye=>{const W=URL.createObjectURL(ye.blob),he=await new Promise(oe=>{const ke=new FileReader;ke.onload=()=>oe(ke.result),ke.readAsDataURL(ye.blob)});return{...ye,url:W,base64:he}}));T(Ee),Ae(0),l&&l(Ee.map(ye=>({url:ye.url,base64:ye.base64,timestamp:ye.timestamp}))),Ee.length>0&&r(Ee[0].url,Ee[0].base64,void 0)}catch(se){console.error("Video frame extraction failed:",se),alert("Failed to extract frames from video.")}q(!1);return}if(!S.type.startsWith("image/")&&!P)return;let K=S;if(P){j(!0);try{K=await FW(S)}catch(se){console.error("HEIC conversion failed:",se),alert("Failed to convert HEIC file. Please convert to JPEG first."),j(!1);return}j(!1)}T([]),Ae(null);const re=new FileReader;re.onload=()=>{const se=re.result;r(URL.createObjectURL(K),se,void 0)},re.readAsDataURL(K)},[r,l]),Y=S=>{var U;const P=(U=S.target.files)==null?void 0:U[0];P&&O(P)},ie=h.useCallback(S=>{S.preventDefault(),S.stopPropagation(),s||v(!0)},[s]),z=h.useCallback(S=>{S.preventDefault(),S.stopPropagation(),v(!1)},[]),ee=h.useCallback(S=>{var U;if(S.preventDefault(),S.stopPropagation(),v(!1),s)return;const P=(U=S.dataTransfer.files)==null?void 0:U[0];P&&O(P)},[s,O]),D=()=>{u.trim()&&(r(u.trim(),void 0,void 0),b(!1),d(""))},R=S=>{Z(S.id),r(S.web_uri,void 0,S.id),x(!1)},X=S=>{const P=Math.floor(S/60),U=Math.floor(S%60);return`${P}:${U.toString().padStart(2,"0")}`},C=S=>{Ae(S);const P=te[S];P&&r(P.url,P.base64,void 0)},I=()=>{n(),Z(null),T([]),Ae(null)};return i?t.jsxDEV("div",{className:"image-picker image-picker--has-image",children:[t.jsxDEV("img",{src:i,alt:"Selected",className:"image-picker__preview"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:359,columnNumber:9},void 0),te.length>0&&t.jsxDEV("div",{style:{marginTop:"0.75rem"},children:[t.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:"Video Frames (click to analyze different frame):"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:364,columnNumber:13},void 0),t.jsxDEV("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:te.map((S,P)=>t.jsxDEV("div",{onClick:()=>C(P),style:{cursor:"pointer",border:$===P?"2px solid #3b82f6":"2px solid transparent",borderRadius:"0.375rem",overflow:"hidden",position:"relative"},children:[t.jsxDEV("img",{src:S.url,alt:`Frame ${P+1}`,style:{width:"60px",height:"60px",objectFit:"cover"}},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:380,columnNumber:19},void 0),t.jsxDEV("span",{style:{position:"absolute",bottom:"2px",right:"2px",background:"rgba(0,0,0,0.7)",color:"white",fontSize:"0.6rem",padding:"1px 3px",borderRadius:"2px"},children:X(S.timestamp)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:385,columnNumber:19},void 0)]},P,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:369,columnNumber:17},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:367,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:363,columnNumber:11},void 0),G&&t.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#059669",marginTop:"0.5rem"},children:[" Asset ID: ",G.slice(0,8),"..."]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:404,columnNumber:11},void 0),t.jsxDEV("button",{className:"ai-button ai-button--secondary",onClick:I,disabled:s,style:{marginTop:"0.5rem"},children:["Clear ",te.length>0?"Video":"Image"]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:408,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:358,columnNumber:7},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:`image-picker ${N?"image-picker--dragging":""}`,onDragOver:ie,onDragLeave:z,onDrop:ee,children:[t.jsxDEV("input",{ref:H,type:"file",accept:"image/*,video/*,.heic,.heif",onChange:Y,style:{display:"none"},disabled:s},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:428,columnNumber:9},void 0),A?t.jsxDEV("div",{style:{display:"flex",gap:"0.5rem",width:"100%",padding:"1rem"},children:[t.jsxDEV("input",{type:"url",className:"ai-input",value:u,onChange:S=>d(S.target.value),placeholder:"Enter image URL...",disabled:s,onKeyDown:S=>S.key==="Enter"&&D()},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:439,columnNumber:13},void 0),t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:D,disabled:s||!u.trim(),children:"Load"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:448,columnNumber:13},void 0),t.jsxDEV("button",{className:"ai-button ai-button--secondary",onClick:()=>b(!1),children:"Cancel"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:449,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:438,columnNumber:11},void 0):t.jsxDEV("div",{className:`image-picker__placeholder ${N?"image-picker__placeholder--dragging":""}`,onDragOver:ie,onDragLeave:z,onDrop:ee,children:J||M?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"ai-spinner ai-spinner--large",style:{marginBottom:"1rem"}},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:460,columnNumber:17},void 0),t.jsxDEV("p",{children:M?"Extracting video frames...":"Converting HEIC to JPEG..."},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:461,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:459,columnNumber:15},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{className:"image-picker__icon",children:N?"":""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:465,columnNumber:17},void 0),t.jsxDEV("p",{style:{marginBottom:"1rem"},children:N?"Drop image or video here":"Drag & drop an image or video, or"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:466,columnNumber:17},void 0),t.jsxDEV("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",flexWrap:"wrap"},children:[t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:()=>x(!0),disabled:s,children:"Browse Library"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:470,columnNumber:19},void 0),t.jsxDEV("button",{className:"ai-button ai-button--secondary",onClick:()=>{var S;return(S=H.current)==null?void 0:S.click()},disabled:s,children:"Upload File"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:473,columnNumber:19},void 0),t.jsxDEV("button",{className:"ai-button ai-button--secondary",onClick:()=>b(!0),disabled:s,children:"Enter URL"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:476,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:469,columnNumber:17},void 0),t.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.75rem"},children:'Videos: 4 frames extracted for analysis  Use "Browse Library" to store results'},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:480,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:464,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:452,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:422,columnNumber:7},void 0),p&&t.jsxDEV("div",{className:"ai-modal",children:[t.jsxDEV("div",{className:"ai-modal__overlay",onClick:()=>x(!1)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:492,columnNumber:11},void 0),t.jsxDEV("div",{className:"ai-modal__content",style:{maxWidth:"800px",maxHeight:"80vh"},children:[t.jsxDEV("div",{className:"ai-modal__header",children:[t.jsxDEV("h3",{className:"ai-modal__title",children:"Select from Library"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:495,columnNumber:15},void 0),t.jsxDEV("button",{className:"ai-modal__close",onClick:()=>x(!1),children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:496,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:494,columnNumber:13},void 0),t.jsxDEV("div",{className:"ai-modal__body",style:{overflowY:"auto",maxHeight:"60vh"},children:F?t.jsxDEV("div",{className:"ai-empty",children:[t.jsxDEV("div",{className:"ai-spinner ai-spinner--large"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:501,columnNumber:19},void 0),t.jsxDEV("p",{children:"Loading assets..."},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:502,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:500,columnNumber:17},void 0):w.length===0?t.jsxDEV("div",{className:"ai-empty",children:t.jsxDEV("p",{children:"No assets found"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:506,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:505,columnNumber:17},void 0):t.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"0.75rem"},children:w.map(S=>t.jsxDEV("div",{onClick:()=>R(S),style:{cursor:"pointer",borderRadius:"0.5rem",overflow:"hidden",border:"2px solid transparent",transition:"border-color 0.2s"},onMouseEnter:P=>P.currentTarget.style.borderColor="#3b82f6",onMouseLeave:P=>P.currentTarget.style.borderColor="transparent",children:t.jsxDEV("img",{src:S.web_uri,alt:S.filename,style:{width:"100%",aspectRatio:"1",objectFit:"cover"}},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:524,columnNumber:23},void 0)},S.id,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:511,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:509,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:498,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:493,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:491,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/ImagePicker.tsx",lineNumber:421,columnNumber:5},void 0)},OW=({filters:i,onChange:r,contacts:n,clusters:s,detectedObjects:l,isExpanded:u,onToggleExpand:d})=>{const A=s.filter(v=>v.name||v.knox_contact_id),b=(v,w)=>{r({...i,[v]:w})},p=v=>{const w=i.people.includes(v)?i.people.filter(E=>E!==v):[...i.people,v];b("people",w)},x=v=>{const w=i.objectClasses.includes(v)?i.objectClasses.filter(E=>E!==v):[...i.objectClasses,v];b("objectClasses",w)},N=[i.dateStart||i.dateEnd,i.people.length>0,i.objectClasses.length>0,i.mediaType!=="all",i.descriptionQuery,i.textQuery].filter(Boolean).length;return t.jsxDEV("div",{className:"advanced-filters",children:[t.jsxDEV("button",{className:"advanced-filters__toggle",onClick:d,type:"button",children:[t.jsxDEV("span",{children:"Filters"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:96,columnNumber:9},void 0),N>0&&t.jsxDEV("span",{className:"advanced-filters__badge",children:N},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:98,columnNumber:11},void 0),t.jsxDEV("svg",{className:`advanced-filters__chevron ${u?"expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsxDEV("path",{d:"M6 9l6 6 6-6"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:109,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:100,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:91,columnNumber:7},void 0),u&&t.jsxDEV("div",{className:"advanced-filters__panel",children:[t.jsxDEV("div",{className:"advanced-filters__section",children:[t.jsxDEV("label",{className:"advanced-filters__label",children:"Date Range"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:117,columnNumber:13},void 0),t.jsxDEV("div",{className:"advanced-filters__date-row",children:[t.jsxDEV("input",{type:"date",className:"ai-input advanced-filters__date-input",value:i.dateStart,onChange:v=>b("dateStart",v.target.value)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:119,columnNumber:15},void 0),t.jsxDEV("span",{className:"advanced-filters__date-separator",children:"to"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:125,columnNumber:15},void 0),t.jsxDEV("input",{type:"date",className:"ai-input advanced-filters__date-input",value:i.dateEnd,onChange:v=>b("dateEnd",v.target.value)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:126,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:118,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:116,columnNumber:11},void 0),(n.length>0||A.length>0)&&t.jsxDEV("div",{className:"advanced-filters__section",children:[t.jsxDEV("label",{className:"advanced-filters__label",children:"People"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:138,columnNumber:15},void 0),t.jsxDEV("div",{className:"advanced-filters__tags",children:[n.map(v=>t.jsxDEV("button",{type:"button",className:`advanced-filters__tag ${i.people.includes(v.id)?"active":""}`,onClick:()=>p(v.id),children:v.name},v.id,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:141,columnNumber:19},void 0)),A.map(v=>t.jsxDEV("button",{type:"button",className:`advanced-filters__tag ${i.people.includes(v.id)?"active":""}`,onClick:()=>p(v.id),children:v.name||`Cluster (${v.face_count})`},v.id,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:153,columnNumber:19},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:137,columnNumber:13},void 0),l.length>0&&t.jsxDEV("div",{className:"advanced-filters__section",children:[t.jsxDEV("label",{className:"advanced-filters__label",children:"Objects"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:171,columnNumber:15},void 0),t.jsxDEV("div",{className:"advanced-filters__tags",children:l.slice(0,15).map(v=>t.jsxDEV("button",{type:"button",className:`advanced-filters__tag ${i.objectClasses.includes(v.class)?"active":""}`,onClick:()=>x(v.class),children:[v.class," (",v.count,")"]},v.class,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:174,columnNumber:19},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:172,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:170,columnNumber:13},void 0),t.jsxDEV("div",{className:"advanced-filters__section",children:[t.jsxDEV("label",{className:"advanced-filters__label",children:"Media Type"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:191,columnNumber:13},void 0),t.jsxDEV("div",{className:"advanced-filters__radio-group",children:["all","photo","video"].map(v=>t.jsxDEV("label",{className:"advanced-filters__radio",children:[t.jsxDEV("input",{type:"radio",name:"mediaType",checked:i.mediaType===v,onChange:()=>b("mediaType",v)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:195,columnNumber:19},void 0),t.jsxDEV("span",{children:v.charAt(0).toUpperCase()+v.slice(1)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:201,columnNumber:19},void 0)]},v,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:194,columnNumber:17},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:192,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:190,columnNumber:11},void 0),t.jsxDEV("div",{className:"advanced-filters__section",children:[t.jsxDEV("label",{className:"advanced-filters__label",children:"Search In"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:209,columnNumber:13},void 0),t.jsxDEV("div",{className:"advanced-filters__checkbox-group",children:[t.jsxDEV("label",{className:"advanced-filters__checkbox",children:[t.jsxDEV("input",{type:"checkbox",checked:i.searchInSemantic,onChange:v=>b("searchInSemantic",v.target.checked)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:212,columnNumber:17},void 0),t.jsxDEV("span",{children:"Semantic"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:217,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:211,columnNumber:15},void 0),t.jsxDEV("label",{className:"advanced-filters__checkbox",children:[t.jsxDEV("input",{type:"checkbox",checked:i.searchInDescriptions,onChange:v=>b("searchInDescriptions",v.target.checked)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:220,columnNumber:17},void 0),t.jsxDEV("span",{children:"Descriptions"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:225,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:219,columnNumber:15},void 0),t.jsxDEV("label",{className:"advanced-filters__checkbox",children:[t.jsxDEV("input",{type:"checkbox",checked:i.searchInOcr,onChange:v=>b("searchInOcr",v.target.checked)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:228,columnNumber:17},void 0),t.jsxDEV("span",{children:"OCR Text"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:233,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:227,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:210,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:208,columnNumber:11},void 0),i.searchInDescriptions&&t.jsxDEV("div",{className:"advanced-filters__section",children:[t.jsxDEV("label",{className:"advanced-filters__label",children:"Description Contains"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:241,columnNumber:15},void 0),t.jsxDEV("input",{type:"text",className:"ai-input",placeholder:"Filter by description text...",value:i.descriptionQuery,onChange:v=>b("descriptionQuery",v.target.value)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:242,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:240,columnNumber:13},void 0),i.searchInOcr&&t.jsxDEV("div",{className:"advanced-filters__section",children:[t.jsxDEV("label",{className:"advanced-filters__label",children:"OCR Text Contains"},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:255,columnNumber:15},void 0),t.jsxDEV("input",{type:"text",className:"ai-input",placeholder:"Filter by extracted text...",value:i.textQuery,onChange:v=>b("textQuery",v.target.value)},void 0,!1,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:256,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:254,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:114,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/components/AdvancedSearchFilters.tsx",lineNumber:90,columnNumber:5},void 0)},O8=()=>({dateStart:"",dateEnd:"",people:[],objectClasses:[],mediaType:"all",descriptionQuery:"",textQuery:"",searchInSemantic:!0,searchInDescriptions:!1,searchInOcr:!1}),PW=()=>{const[i,r]=h.useState(null),[n,s]=h.useState(null),[l,u]=h.useState(null),[d,A]=h.useState(os.defaultOperations),[b,p]=h.useState(!1),[x,N]=h.useState(null),[v,w]=h.useState(!1),[E,F]=h.useState(null),[V,G]=h.useState([]),[Z,H]=h.useState(!1),[te,T]=h.useState(null),M=(j,O,Y)=>{r(j),s(O||null),u(Y||null),N(null),F(null)},q=j=>{console.log("Video frames extracted:",j.length),G(j),N(null),F(null)},$=async()=>{var j,O,Y,ie;if(V.length!==0){if(d.length===0){F("Please select at least one operation");return}H(!0),F(null),N(null);try{const z=[],ee=[],D=[],R=[];for(let S=0;S<V.length;S++){T({current:S+1,total:V.length});const P=V[S],U={operations:d,store_results:!1,image_base64:P.base64},K=await ea.processImage(U);if(K.success&&K.data){const re=K.data.result||K.data,se=(((j=re.objects)==null?void 0:j.objects)||[]).map(ye=>({...ye,class_name:ye.class_name||ye.class}));z.push(...se);const Ee=(((O=re.faces)==null?void 0:O.faces)||[]).map((ye,W)=>({...ye,face_index:ye.index??ye.face_index??W}));ee.push(...Ee),(Y=re.ocr)!=null&&Y.text&&D.push(`[Frame ${S+1} @ ${Ae(P.timestamp)}]: ${re.ocr.text}`),(ie=re.description)!=null&&ie.description&&R.push(`[Frame ${S+1} @ ${Ae(P.timestamp)}]: ${re.description.description}`)}}const X=[],C=new Map;for(const S of z){const P=S.class_name||S.class||"",U=C.get(P);(!U||S.confidence>U.confidence)&&C.set(P,S)}X.push(...C.values());const I={objects:X,faces:ee,text:D.length>0?D.join(`

`):void 0,description:R.length>0?R.join(`

`):void 0};N(I)}catch(z){F(z instanceof Error?z.message:"Processing failed")}finally{H(!1),T(null)}}},Ae=j=>{const O=Math.floor(j/60),Y=Math.floor(j%60);return`${O}:${Y.toString().padStart(2,"0")}`},L=()=>{r(null),s(null),u(null),N(null),F(null),G([]),T(null)},J=async()=>{var j,O,Y,ie,z;if(!(!i&&!n)){if(d.length===0){F("Please select at least one operation");return}if(b&&!l){F("Select an asset from library to store results");return}w(!0),F(null),N(null);try{const ee={operations:d,store_results:b};l&&(ee.asset_id=l),n?ee.image_base64=n:i&&(ee.image_url=i);const D=await ea.processImage(ee);if(D.success&&D.data){const R=D.data.result||D.data,X={asset_id:R.asset_id,objects:((j=R.objects)==null?void 0:j.objects)||[],faces:((O=R.faces)==null?void 0:O.faces)||[],text:((Y=R.ocr)==null?void 0:Y.text)||void 0,description:((ie=R.description)==null?void 0:ie.description)||void 0,embedding:(z=R.embedding)!=null&&z.dimension?new Array(R.embedding.dimension):void 0};N(X)}else F(D.error||"Processing failed")}catch(ee){F(ee instanceof Error?ee.message:"Processing failed")}finally{w(!1)}}};return t.jsxDEV("div",{children:[t.jsxDEV("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem"},children:"Single Image Test"},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:207,columnNumber:7},void 0),t.jsxDEV("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1.5rem"},children:"Test AI processing on a single image before batch operations."},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:210,columnNumber:7},void 0),t.jsxDEV("div",{style:{marginBottom:"1.5rem"},children:t.jsxDEV(ZW,{imageUrl:i,onImageSelect:M,onClear:L,disabled:v||Z,onVideoFramesExtracted:q},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:216,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:215,columnNumber:7},void 0),t.jsxDEV("div",{className:"form-group",children:[t.jsxDEV("label",{className:"form-group__label",children:"Operations"},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:227,columnNumber:9},void 0),t.jsxDEV(f7,{selected:d,onChange:A,disabled:v},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:228,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:226,columnNumber:7},void 0),t.jsxDEV("div",{className:"form-group",children:[t.jsxDEV("label",{className:"operation-selector__item",style:{display:"inline-flex",cursor:"pointer"},children:[t.jsxDEV("input",{type:"checkbox",className:"operation-selector__checkbox",checked:b,onChange:j=>p(j.target.checked),disabled:v},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:238,columnNumber:11},void 0),t.jsxDEV("span",{className:"operation-selector__label",children:"Store results to database"},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:245,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:237,columnNumber:9},void 0),b&&t.jsxDEV("p",{className:"form-group__help",style:{color:l?"#059669":"#dc2626"},children:l?` Will save to asset: ${l.slice(0,8)}...`:" Select image from library (not drag & drop) to store results"},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:250,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:236,columnNumber:7},void 0),E&&t.jsxDEV("div",{className:"ai-error",children:E},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:259,columnNumber:17},void 0),t.jsxDEV("div",{style:{display:"flex",gap:"0.75rem",marginTop:"1rem",flexWrap:"wrap"},children:[t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:J,disabled:v||Z||!i&&!n||d.length===0,children:v?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{className:"ai-spinner",style:{width:"1rem",height:"1rem"}},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:270,columnNumber:15},void 0),"Processing..."]},void 0,!0,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:269,columnNumber:13},void 0):"Process Current Frame"},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:263,columnNumber:9},void 0),V.length>0&&t.jsxDEV("button",{className:"ai-button ai-button--secondary",onClick:$,disabled:v||Z||d.length===0,style:{background:Z?"#e5e7eb":"#10b981",color:"white",border:"none"},children:Z?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{className:"ai-spinner",style:{width:"1rem",height:"1rem"}},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:291,columnNumber:17},void 0),"Processing Frame ",te==null?void 0:te.current,"/",te==null?void 0:te.total,"..."]},void 0,!0,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:290,columnNumber:15},void 0):` Process All ${V.length} Frames`},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:279,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:262,columnNumber:7},void 0),V.length>0&&!Z&&t.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.5rem"},children:' Tip: "Process All Frames" analyzes all extracted frames and combines detected objects, faces, and text.'},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:303,columnNumber:9},void 0),t.jsxDEV(CW,{result:x,loading:v},void 0,!1,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:309,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SingleImageTab.tsx",lineNumber:206,columnNumber:5},void 0)},O2=i=>{const r=/\.(mp4|mov|avi|webm|mkv|m4v|quicktime)$/i,n=["video/","quicktime"];return r.test(i)||n.some(s=>i.toLowerCase().includes(s))},WW=async(i,r=2)=>new Promise((n,s)=>{const l=document.createElement("video");l.crossOrigin="anonymous",l.preload="metadata",l.muted=!0,l.playsInline=!0;const u=[];let d=0,A=[];l.onloadedmetadata=()=>{const x=l.duration,N=x*.1,w=(x*.9-N)/Math.max(1,r-1);A=Array.from({length:r},(E,F)=>Math.min(N+w*F,x-.1)),console.log("Video duration:",x,"Extracting at:",A),b()};const b=()=>{if(d>=A.length){URL.revokeObjectURL(l.src),n(u);return}l.currentTime=A[d]};l.onseeked=()=>{const x=document.createElement("canvas");x.width=l.videoWidth,x.height=l.videoHeight;const N=x.getContext("2d");N?(N.drawImage(l,0,0),x.toBlob(v=>{if(v){const w=new FileReader;w.onload=()=>{u.push({blob:v,base64:w.result,timestamp:A[d]}),d++,b()},w.readAsDataURL(v)}else d++,b()},"image/jpeg",.85)):(d++,b())},l.onerror=x=>{console.error("Video load error:",x),URL.revokeObjectURL(l.src),s(new Error("Failed to load video"))};const p=setTimeout(()=>{s(new Error("Video load timeout"))},3e4);l.oncanplay=()=>clearTimeout(p),l.src=i}),GW=()=>{const[i,r]=h.useState([]),[n,s]=h.useState(""),[l,u]=h.useState([]),[d,A]=h.useState(["embedding","objects","faces"]),[b,p]=h.useState(!1),[x,N]=h.useState(null),[v,w]=h.useState(null),[E,F]=h.useState(!0),[V,G]=h.useState(!1),[Z,H]=h.useState([]),[te,T]=h.useState(!0),[M,q]=h.useState(!1),$=h.useRef(!1);h.useEffect(()=>{(async()=>{var j;try{const O=await br.getAlbums();O.success&&((j=O.data)!=null&&j.albums)&&r(O.data.albums)}catch(O){console.error("Failed to load albums:",O)}finally{F(!1)}})()},[]),h.useEffect(()=>{if(!n){u([]);return}(async()=>{G(!0);try{const{data:{session:j}}=await Ge.auth.getSession();if(!j){console.error("No session for fetching album assets"),u([]);return}const O=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/admin-albums-api?album_id=${n}`,{headers:{Authorization:`Bearer ${j.access_token}`,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}});if(!O.ok)throw new Error("Failed to fetch album assets");const Y=await O.json();if(console.log("AI Tab - Album detail response:",Y),Y.assets&&Array.isArray(Y.assets)){const ie=Y.assets.filter(ee=>ee.asset_id||ee.id).map(ee=>({id:ee.asset_id||ee.id,web_uri:ee.web_uri||ee.asset_uri||ee.path||"",filename:ee.asset_id||ee.id||"unknown",media_type:ee.media_type||(O2(ee.web_uri||ee.asset_uri||ee.path||"")?"video":"photo"),ai_processed_at:ee.ai_processed_at})),z=ie.filter(ee=>ee.ai_processed_at).length;console.log("AI Tab - Extracted assets:",ie.length,"already processed:",z),u(ie)}else console.log("AI Tab - No assets in response"),u([])}catch(j){console.error("Failed to load album assets:",j),u([])}finally{G(!1)}})()},[n]);const Ae=async()=>{var O,Y,ie,z,ee,D,R,X,C,I,S,P,U;if(l.length===0||d.length===0)return;p(!0),w(null),H([]),$.current=!1;const J=te?l.filter(K=>!K.ai_processed_at):l;if(J.length===0){w('All assets have already been processed. Uncheck "Skip already processed" to reprocess them.'),p(!1);return}const j={current:0,total:J.length,succeeded:0,failed:0};N(j);for(const K of J){if($.current)break;const re=K.media_type==="video"||O2(K.web_uri);N(se=>se?{...se,currentAsset:`${K.filename}${re?" (video)":""}`,current:se.current}:null);try{if(re){if($.current)break;console.log("Processing video:",K.web_uri);try{const se=await WW(K.web_uri,2);if($.current)break;if(console.log("Extracted",se.length,"frames from video"),se.length===0)throw new Error("No frames extracted from video");let Ee=[],ye=0,W=!1,he=[],oe=[];for(let Ne=0;Ne<se.length&&!$.current;Ne++){const je=se[Ne],Be=await ea.processImage({asset_id:K.id,image_base64:je.base64,operations:d,store_results:!0,force_reprocess:M});if(Be.success){W=!0;const De=((O=Be.data)==null?void 0:O.result)||Be.data,Xe=((Y=De==null?void 0:De.objects)==null?void 0:Y.objects)||(De==null?void 0:De.objects)||[],ae=((ie=De==null?void 0:De.faces)==null?void 0:ie.faces)||(De==null?void 0:De.faces)||[],fe=((z=De==null?void 0:De.description)==null?void 0:z.description)||(De==null?void 0:De.description),be=((ee=De==null?void 0:De.ocr)==null?void 0:ee.text)||(De==null?void 0:De.text);Xe.forEach(Oe=>{const Fe=`${Oe.class||Oe.class_name} (${Math.round((Oe.confidence||0)*100)}%)`;Ee.includes(Fe)||Ee.push(Fe)}),ye=Math.max(ye,ae.length),fe&&typeof fe=="string"&&he.push(`Frame ${Ne+1}: ${fe}`),be&&typeof be=="string"&&oe.push(be)}}const ke={assetId:K.id,thumbnail:((D=se[0])==null?void 0:D.base64)||K.web_uri,objects:Ee,faces:ye,status:W?"success":"failed",error:W?void 0:"All frames failed to process",isVideo:!0,description:he.length>0?he.join(" | "):void 0,text:oe.length>0?[...new Set(oe)].join(" "):void 0};H(Ne=>[ke,...Ne]),W?j.succeeded++:j.failed++}catch(se){console.error("Video processing error:",se);const Ee={assetId:K.id,thumbnail:K.web_uri,objects:[],faces:0,status:"skipped",error:`Video: ${se instanceof Error?se.message:"Failed to extract frames"}`,isVideo:!0};H(ye=>[Ee,...ye]),j.failed++}}else{if($.current)break;const se=await ea.processImage({asset_id:K.id,image_url:K.web_uri,operations:d,store_results:!0,force_reprocess:M});if($.current)break;const Ee=((R=se.data)==null?void 0:R.result)||se.data,ye=((X=Ee==null?void 0:Ee.objects)==null?void 0:X.objects)||(Ee==null?void 0:Ee.objects)||[],W=((C=Ee==null?void 0:Ee.faces)==null?void 0:C.faces)||(Ee==null?void 0:Ee.faces)||[],he=((I=Ee==null?void 0:Ee.description)==null?void 0:I.description)||(Ee==null?void 0:Ee.description),oe=((S=Ee==null?void 0:Ee.ocr)==null?void 0:S.text)||(Ee==null?void 0:Ee.text),ke={assetId:K.id,thumbnail:K.web_uri,objects:ye.map(Ne=>`${Ne.class||Ne.class_name} (${Math.round((Ne.confidence||0)*100)}%)`),faces:W.length,status:se.success?"success":((P=se.data)==null?void 0:P.status)==="skipped"?"skipped":"failed",error:se.error||((U=se.data)==null?void 0:U.error),description:typeof he=="string"?he:void 0,text:typeof oe=="string"?oe:void 0};H(Ne=>[ke,...Ne]),se.success?j.succeeded++:(j.failed++,console.error(`Failed to process ${K.filename}:`,se.error))}}catch(se){const Ee={assetId:K.id,thumbnail:K.web_uri,objects:[],faces:0,status:"failed",error:se instanceof Error?se.message:"Unknown error"};H(ye=>[Ee,...ye]),j.failed++,console.error(`Error processing ${K.filename}:`,se)}j.current++,N({...j})}p(!1),N(K=>K?{...K,currentAsset:void 0}:null)},L=()=>{$.current=!0,N(J=>J?{...J,currentAsset:"Stopping..."}:null)};return i.find(J=>J.id===n),t.jsxDEV("div",{children:[t.jsxDEV("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem"},children:"Index Album for Search"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:447,columnNumber:7},void 0),t.jsxDEV("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1.5rem"},children:"Process all images in an album to enable AI-powered search. Embeddings will be stored in the database."},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:450,columnNumber:7},void 0),t.jsxDEV("div",{className:"form-group",children:[t.jsxDEV("label",{className:"form-group__label",children:"Select Album"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:456,columnNumber:9},void 0),t.jsxDEV("select",{className:"ai-select",value:n,onChange:J=>s(J.target.value),disabled:E||b,children:[t.jsxDEV("option",{value:"",children:"Choose an album..."},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:463,columnNumber:11},void 0),i.map(J=>t.jsxDEV("option",{value:J.id,children:J.title},J.id,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:465,columnNumber:13},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:457,columnNumber:9},void 0),n&&t.jsxDEV("p",{className:"form-group__help",children:V?"Loading assets...":(()=>{const J=l.filter(O=>O.media_type==="video"||O2(O.web_uri)).length;return`${l.length-J} photos${J>0?`, ${J} videos (2 frames each)`:""} in this album`})()},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:471,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:455,columnNumber:7},void 0),t.jsxDEV("div",{className:"form-group",children:[t.jsxDEV("label",{className:"form-group__label",children:"Operations to Run"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:483,columnNumber:9},void 0),t.jsxDEV(f7,{selected:d,onChange:A,disabled:b},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:484,columnNumber:9},void 0),t.jsxDEV("p",{className:"form-group__help",children:'Select "Embeddings" for search, "Faces" for face recognition, "Objects" for object search'},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:489,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:482,columnNumber:7},void 0),t.jsxDEV("div",{className:"form-group",children:[t.jsxDEV("label",{className:"form-group__label",children:"Processing Options"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:496,columnNumber:9},void 0),t.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[t.jsxDEV("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[t.jsxDEV("input",{type:"checkbox",checked:te,onChange:J=>T(J.target.checked),disabled:b,style:{accentColor:"#3b82f6"}},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:499,columnNumber:13},void 0),t.jsxDEV("span",{style:{fontSize:"0.875rem",color:"#374151"},children:["Skip already processed",l.length>0&&t.jsxDEV("span",{style:{color:"#6b7280",marginLeft:"0.5rem"},children:["(",l.filter(J=>J.ai_processed_at).length," of ",l.length," already done)"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:509,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:506,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:498,columnNumber:11},void 0),t.jsxDEV("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[t.jsxDEV("input",{type:"checkbox",checked:M,onChange:J=>q(J.target.checked),disabled:b||te,style:{accentColor:"#3b82f6"}},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:516,columnNumber:13},void 0),t.jsxDEV("span",{style:{fontSize:"0.875rem",color:te?"#9ca3af":"#374151"},children:"Force reprocess (clear existing AI data first)"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:523,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:515,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:497,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:495,columnNumber:7},void 0),v&&t.jsxDEV("div",{className:"ai-error",style:{marginBottom:"1rem"},children:v},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:531,columnNumber:17},void 0),x&&t.jsxDEV("div",{style:{marginBottom:"1.5rem"},children:[t.jsxDEV(m7,{progress:x.current/x.total*100,processed:x.current,total:x.total},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:536,columnNumber:11},void 0),t.jsxDEV("div",{style:{display:"flex",gap:"1.5rem",marginTop:"0.75rem",fontSize:"0.875rem"},children:[t.jsxDEV("span",{style:{color:"#059669"},children:[" ",x.succeeded," succeeded"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:542,columnNumber:13},void 0),x.failed>0&&t.jsxDEV("span",{style:{color:"#dc2626"},children:[" ",x.failed," failed"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:543,columnNumber:34},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:541,columnNumber:11},void 0),x.currentAsset&&t.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.5rem"},children:["Processing: ",x.currentAsset]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:546,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:535,columnNumber:9},void 0),t.jsxDEV("div",{style:{display:"flex",gap:"0.75rem"},children:b?t.jsxDEV("button",{className:"ai-button ai-button--danger",onClick:L,children:"Stop Processing"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:564,columnNumber:11},void 0):t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:Ae,disabled:l.length===0||d.length===0||V||te&&l.filter(J=>!J.ai_processed_at).length===0,children:["Start Indexing (",te?l.filter(J=>!J.ai_processed_at).length:l.length," photos)"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:556,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:554,columnNumber:7},void 0),Z.length>0&&t.jsxDEV("div",{style:{marginTop:"1.5rem",maxHeight:"400px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"0.5rem"},children:[t.jsxDEV("h4",{style:{fontSize:"0.875rem",fontWeight:"600",padding:"0.75rem",borderBottom:"1px solid #e5e7eb",margin:0,position:"sticky",top:0,background:"#fff"},children:"Processing Results"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:576,columnNumber:11},void 0),Z.map((J,j)=>t.jsxDEV("div",{style:{display:"flex",gap:"0.75rem",padding:"0.75rem",borderBottom:"1px solid #f3f4f6",alignItems:"flex-start"},children:[t.jsxDEV("img",{src:J.thumbnail,alt:"",style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"0.25rem",flexShrink:0}},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:581,columnNumber:15},void 0),t.jsxDEV("div",{style:{flex:1,minWidth:0},children:[t.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[t.jsxDEV("span",{style:{fontSize:"0.75rem",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",background:J.status==="success"?"#d1fae5":J.status==="skipped"?"#fef3c7":"#fee2e2",color:J.status==="success"?"#065f46":J.status==="skipped"?"#92400e":"#991b1b"},children:J.status},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:588,columnNumber:19},void 0),J.isVideo&&t.jsxDEV("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:" video"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:598,columnNumber:21},void 0),J.faces>0&&t.jsxDEV("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:[" ",J.faces," face",J.faces>1?"s":""]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:601,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:587,columnNumber:17},void 0),J.objects.length>0&&t.jsxDEV("div",{style:{fontSize:"0.8rem",color:"#374151"},children:[t.jsxDEV("strong",{children:"Objects:"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:606,columnNumber:21},void 0)," ",J.objects.join(", ")]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:605,columnNumber:19},void 0),J.description&&t.jsxDEV("div",{style:{fontSize:"0.8rem",color:"#4b5563",marginTop:"0.25rem"},children:[t.jsxDEV("strong",{children:" AI:"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:611,columnNumber:21},void 0)," ",J.description]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:610,columnNumber:19},void 0),J.text&&t.jsxDEV("div",{style:{fontSize:"0.8rem",color:"#6b7280",marginTop:"0.25rem"},children:[t.jsxDEV("strong",{children:" Text:"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:616,columnNumber:21},void 0)," ",J.text.length>100?J.text.slice(0,100)+"...":J.text]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:615,columnNumber:19},void 0),!J.objects.length&&!J.description&&!J.text&&J.status==="success"&&t.jsxDEV("div",{style:{fontSize:"0.8rem",color:"#9ca3af"},children:"No detections"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:620,columnNumber:19},void 0),J.error&&t.jsxDEV("div",{style:{fontSize:"0.75rem",color:"#dc2626",marginTop:"0.25rem"},children:J.error},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:623,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:586,columnNumber:15},void 0)]},j,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:580,columnNumber:13},void 0))]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:575,columnNumber:9},void 0),x&&!b&&x.current===x.total&&t.jsxDEV("div",{style:{marginTop:"1.5rem",padding:"1rem",backgroundColor:"#d1fae5",borderRadius:"0.5rem",color:"#065f46"},children:[t.jsxDEV("strong",{children:"Indexing Complete!"},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:640,columnNumber:11},void 0),t.jsxDEV("p",{style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:[x.succeeded," images indexed successfully. You can now search for these images using the Search tab."]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:641,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:633,columnNumber:9},void 0),l.length>0&&!b&&t.jsxDEV("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e5e7eb"},children:[t.jsxDEV("h4",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"1rem",color:"#6b7280"},children:["Preview (",l.length," photos)"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:650,columnNumber:11},void 0),t.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"0.5rem"},children:[l.slice(0,20).map(J=>{const j=J.media_type==="video"||O2(J.web_uri);return t.jsxDEV("div",{style:{position:"relative"},children:[t.jsxDEV("img",{src:J.web_uri,alt:J.filename,style:{width:"100%",aspectRatio:"1",objectFit:"cover",borderRadius:"0.25rem"}},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:658,columnNumber:19},void 0),j&&t.jsxDEV("div",{style:{position:"absolute",top:"4px",right:"4px",background:"rgba(0,0,0,0.7)",color:"white",fontSize:"0.6rem",padding:"2px 4px",borderRadius:"2px"},children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:664,columnNumber:21},void 0)]},J.id,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:657,columnNumber:17},void 0)}),l.length>20&&t.jsxDEV("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",borderRadius:"0.25rem",aspectRatio:"1",fontSize:"0.75rem",color:"#6b7280"},children:["+",l.length-20," more"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:681,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:653,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:649,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AlbumProcessingTab.tsx",lineNumber:446,columnNumber:5},void 0)},UW=()=>{const[i,r]=h.useState([]),[n,s]=h.useState([]),[l,u]=h.useState(null),[d,A]=h.useState(null),[b,p]=h.useState([]),[x,N]=h.useState(!1),[v,w]=h.useState([]),[E,F]=h.useState(!1),[V,G]=h.useState([]),[Z,H]=h.useState(!0),[te,T]=h.useState(!1),[M,q]=h.useState(null),[$,Ae]=h.useState(null),[L,J]=h.useState(!1),{job:j,notFound:O}=VW($);h.useEffect(()=>{O&&$&&Ae(null)},[O,$]);const Y=h.useCallback(async()=>{try{H(!0);const K=await ea.getClusters();if(K.success&&K.data){const re=(K.data.clusters||[]).map(se=>({id:se.cluster_id,name:se.name,knox_contact_id:se.knox_contact_id,face_count:se.face_count,sample_faces:se.sample_faces}));r(re)}}catch(K){q(K instanceof Error?K.message:"Failed to load clusters")}finally{H(!1)}},[]),ie=h.useCallback(async()=>{try{const K=await E0.getContacts();K.contacts&&K.contacts.length>0&&s(K.contacts.map(re=>({id:re.id,name:re.display_name||re.first_name||"Unknown"})))}catch(K){console.error("Failed to load contacts:",K)}},[]);h.useEffect(()=>{Y(),ie()},[Y,ie]),h.useEffect(()=>{(j==null?void 0:j.status)==="completed"?(Y(),J(!1),setTimeout(()=>Ae(null),1500)):(j==null?void 0:j.status)==="failed"&&(q(j.error_message||"Job failed"),J(!1),setTimeout(()=>Ae(null),3e3))},[j==null?void 0:j.status,Y]);const z=async K=>{u(K),T(!0);try{const[re,se]=await Promise.all([ea.getCluster(K),ea.getClusterFaces(K)]);if(re.success&&re.data){const Ee=re.data.cluster||re.data,ye={id:Ee.cluster_id||Ee.id,name:Ee.name,knox_contact_id:Ee.knox_contact_id,face_count:Ee.face_count};A(ye)}se.success&&se.data&&p(se.data.faces||[])}catch(re){console.error("Failed to load cluster detail:",re)}finally{T(!1)}},ee=()=>{u(null),A(null),p([]),G([])},D=K=>{w(re=>re.includes(K)?re.filter(se=>se!==K):[...re,K])},R=async(K,re)=>{if(l)try{(await ea.assignCluster(l,K,re,V.length>0?V:void 0)).success&&(F(!1),G([]),Y(),ee())}catch(se){console.error("Failed to assign cluster:",se)}},X=async()=>{if(!(v.length<2))try{(await ea.mergeClusters(v)).success&&(w([]),N(!1),Y())}catch(K){console.error("Failed to merge clusters:",K)}},C=async()=>{var K;try{q(null);const re=await ea.runClustering();re.success&&((K=re.data)!=null&&K.job_id)?Ae(re.data.job_id):re.error&&q(re.error)}catch(re){console.error("Failed to run clustering:",re),q(re instanceof Error?re.message:"Failed to start clustering")}},I=async()=>{var K;try{q(null),J(!0);const re=await ea.backfillFaceThumbnails();re.success&&((K=re.data)!=null&&K.job_id)?Ae(re.data.job_id):re.error&&(q(re.error),J(!1))}catch(re){console.error("Failed to backfill thumbnails:",re),q(re instanceof Error?re.message:"Failed to start backfill"),J(!1)}},S=async(K=!1)=>{const re=K?"This will delete all face clusters AND thumbnails. You will need to re-run clustering and regenerate thumbnails. Continue?":"This will delete all face clusters and contact assignments. Continue?";if(window.confirm(re))try{q(null),H(!0);const se=await ea.clearClustering(K);se.success?Y():se.error&&q(se.error)}catch(se){console.error("Failed to clear clustering:",se),q(se instanceof Error?se.message:"Failed to clear clustering")}finally{H(!1)}},P=$!==null&&(j==null?void 0:j.status)!=="completed"&&(j==null?void 0:j.status)!=="failed",U=()=>{if(!j)return"Starting clustering...";switch(j.status){case"pending":return"Preparing to cluster faces...";case"processing":return"Clustering faces...";case"completed":return"Clustering complete!";case"failed":return"Clustering failed";default:return"Processing..."}};return t.jsxDEV("div",{children:[t.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{style:{fontSize:"1.125rem",fontWeight:"600"},children:"Face Clusters"},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:269,columnNumber:11},void 0),t.jsxDEV("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[i.length," clusters found"]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:268,columnNumber:9},void 0),t.jsxDEV("div",{style:{display:"flex",gap:"0.5rem"},children:[t.jsxDEV("button",{className:`ai-button ${x?"ai-button--primary":"ai-button--secondary"}`,onClick:()=>{N(!x),w([])},disabled:P,children:x?"Cancel Selection":"Select for Merge"},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:275,columnNumber:11},void 0),t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:C,disabled:P,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:P?.7:1},children:[P&&t.jsxDEV("span",{className:"spinner",style:{width:"14px",height:"14px",border:"2px solid rgba(255,255,255,0.3)",borderTopColor:"#fff",borderRadius:"50%",animation:"spin 0.8s linear infinite"}},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:297,columnNumber:15},void 0),P?"Clustering...":"Run Clustering"]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:285,columnNumber:11},void 0),t.jsxDEV("button",{className:"ai-button ai-button--secondary",onClick:I,disabled:P||L,title:"Generate cropped face thumbnails for existing faces",style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:P||L?.7:1},children:[L&&t.jsxDEV("span",{className:"spinner",style:{width:"14px",height:"14px",border:"2px solid rgba(0,0,0,0.3)",borderTopColor:"#333",borderRadius:"50%",animation:"spin 0.8s linear infinite"}},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:321,columnNumber:15},void 0),"Crop Faces"]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:308,columnNumber:11},void 0),t.jsxDEV("button",{className:"ai-button ai-button--danger",onClick:()=>S(!0),disabled:P||L,title:"Clear all clustering data and thumbnails",children:"Clear All"},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:332,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:274,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:267,columnNumber:7},void 0),$&&t.jsxDEV("div",{style:{marginBottom:"1.5rem",padding:"1rem",backgroundColor:(j==null?void 0:j.status)==="failed"?"#fef2f2":(j==null?void 0:j.status)==="completed"?"#f0fdf4":"#eff6ff",borderRadius:"0.5rem",border:`1px solid ${(j==null?void 0:j.status)==="failed"?"#fecaca":(j==null?void 0:j.status)==="completed"?"#bbf7d0":"#bfdbfe"}`},children:[t.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:(j==null?void 0:j.status)==="processing"?"0.75rem":0},children:[(j==null?void 0:j.status)==="completed"?t.jsxDEV("span",{style:{color:"#16a34a",fontSize:"1.25rem"},children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:363,columnNumber:15},void 0):(j==null?void 0:j.status)==="failed"?t.jsxDEV("span",{style:{color:"#dc2626",fontSize:"1.25rem"},children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:365,columnNumber:15},void 0):t.jsxDEV("span",{className:"spinner",style:{width:"18px",height:"18px",border:"2px solid #bfdbfe",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 0.8s linear infinite"}},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:367,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{style:{fontWeight:500,color:(j==null?void 0:j.status)==="failed"?"#dc2626":(j==null?void 0:j.status)==="completed"?"#16a34a":"#1e40af"},children:U()},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:377,columnNumber:15},void 0),(j==null?void 0:j.processed)!==void 0&&(j==null?void 0:j.total)!==void 0&&j.total>0&&t.jsxDEV("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:[j.processed," of ",j.total," faces processed"]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:385,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:376,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:356,columnNumber:11},void 0),(j==null?void 0:j.status)==="processing"&&(j==null?void 0:j.progress)!==void 0&&t.jsxDEV(m7,{progress:j.progress,processed:j.processed,total:j.total},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:392,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:345,columnNumber:9},void 0),M&&!$&&t.jsxDEV("div",{className:"ai-error",style:{marginBottom:"1rem"},children:M},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:401,columnNumber:37},void 0),x&&v.length>=2&&t.jsxDEV("div",{style:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#eff6ff",borderRadius:"0.375rem"},children:[t.jsxDEV("span",{style:{marginRight:"1rem"},children:[v.length," clusters selected"]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:406,columnNumber:11},void 0),t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:X,children:"Merge Selected"},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:407,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:405,columnNumber:9},void 0),t.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:d?"1fr 300px":"1fr",gap:"1.5rem"},children:[t.jsxDEV(_W,{clusters:i,selectedIds:v,onSelect:z,onToggleSelect:D,selectionMode:x,loading:Z},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:415,columnNumber:9},void 0),d&&t.jsxDEV(SW,{cluster:d,sampleFaces:b,onClose:ee,onAssign:K=>{G(K),F(!0)},loading:te},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:426,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:413,columnNumber:7},void 0),t.jsxDEV(MW,{isOpen:E,onClose:()=>F(!1),onAssign:R,contacts:n,clusterId:l||void 0},void 0,!1,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:440,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/FaceClustersTab.tsx",lineNumber:266,columnNumber:5},void 0)},XW=({result:i,results:r,onClose:n,onNavigate:s})=>{const l=r.findIndex(p=>p.asset_id===i.asset_id),u=l>0,d=l<r.length-1,A=h.useCallback(p=>{p.key==="Escape"&&n(),p.key==="ArrowLeft"&&u&&s(r[l-1]),p.key==="ArrowRight"&&d&&s(r[l+1])},[n,s,u,d,r,l]);h.useEffect(()=>(window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)),[A]);const b=i.thumbnail_url||i.web_uri;return t.jsxDEV("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center",onClick:n,children:[t.jsxDEV("button",{onClick:n,className:"absolute top-4 right-4 text-white/70 hover:text-white text-4xl z-10",children:""},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:57,columnNumber:7},void 0),u&&t.jsxDEV("button",{onClick:p=>{p.stopPropagation(),s(r[l-1])},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full z-10",children:t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:71,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:70,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:66,columnNumber:9},void 0),t.jsxDEV("div",{onClick:p=>p.stopPropagation(),className:"max-w-[90vw] max-h-[90vh]",children:[b?t.jsxDEV("img",{src:b,alt:"",className:"max-w-full max-h-[85vh] object-contain rounded-lg"},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:79,columnNumber:11},void 0):t.jsxDEV("div",{className:"w-96 h-96 bg-gray-800 rounded-lg flex items-center justify-center text-6xl",children:"Image"},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:85,columnNumber:11},void 0),t.jsxDEV("div",{className:"mt-4 text-center text-white/80 text-sm",children:[t.jsxDEV("span",{className:"bg-white/20 px-3 py-1 rounded-full",children:[Math.round(i.similarity*100),"% match"]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:91,columnNumber:11},void 0),t.jsxDEV("span",{className:"ml-3 text-white/60",children:[l+1," of ",r.length]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:94,columnNumber:11},void 0),i.matched_objects&&i.matched_objects.length>0&&t.jsxDEV("span",{className:"ml-3",children:["Objects: ",i.matched_objects.join(", ")]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:98,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:90,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:77,columnNumber:7},void 0),d&&t.jsxDEV("button",{onClick:p=>{p.stopPropagation(),s(r[l+1])},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full z-10",children:t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:112,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:111,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:107,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:52,columnNumber:5},void 0)},zW=()=>{const[i,r]=h.useState(""),[n,s]=h.useState([]),[l,u]=h.useState([]),[d,A]=h.useState([]),[b,p]=h.useState([]),[x,N]=h.useState(!1),[v,w]=h.useState(null),[E,F]=h.useState(null),[V,G]=h.useState(null),[Z,H]=h.useState(O8()),[te,T]=h.useState(!1);h.useEffect(()=>{(async()=>{try{const[L,J,j]=await Promise.all([E0.getContacts(),ea.getClusters(),ea.getDetectedObjects()]);L.contacts&&L.contacts.length>0&&s(L.contacts.map(O=>({id:O.id,name:O.display_name||O.first_name||"Unknown"}))),J.success&&J.data&&u(J.data.clusters||[]),j.success&&j.data&&A(j.data.objects||[])}catch(L){console.error("Failed to load data:",L)}})()},[]);const M=()=>Z.dateStart||Z.dateEnd||Z.people.length>0||Z.objectClasses.length>0||Z.mediaType!=="all"||Z.descriptionQuery||Z.textQuery,q=async()=>{if(!i.trim()&&!M())return;N(!0),F(null),p([]),w(null);const Ae=Date.now();try{const L={};Z.dateStart&&(L.date_start=Z.dateStart),Z.dateEnd&&(L.date_end=Z.dateEnd),Z.people.length>0&&(L.people=Z.people),Z.objectClasses.length>0&&(L.object_classes=Z.objectClasses),Z.mediaType!=="all"&&(L.media_type=Z.mediaType),Z.searchInDescriptions&&Z.descriptionQuery&&(L.description_query=Z.descriptionQuery),Z.searchInOcr&&Z.textQuery&&(L.text_query=Z.textQuery);const J=Object.keys(L).length>0;let j;J||!Z.searchInSemantic?j=await ea.searchCombined({query:Z.searchInSemantic&&i.trim()?i:void 0,filters:J?L:void 0,limit:50}):j=await ea.searchByText({query:i,limit:50}),j.success&&j.data?(p(j.data.results||[]),w(Date.now()-Ae)):F(j.error||"Search failed")}catch(L){F(L instanceof Error?L.message:"Search failed")}finally{N(!1)}},$=()=>{H(O8())};return t.jsxDEV("div",{children:[t.jsxDEV("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem"},children:"Search Test"},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:253,columnNumber:7},void 0),t.jsxDEV("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1.5rem"},children:"Search by semantic text, detected objects, people, dates, and more."},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:256,columnNumber:7},void 0),t.jsxDEV("div",{className:"search-form",children:[t.jsxDEV("input",{type:"text",className:"ai-input search-form__input",value:i,onChange:Ae=>r(Ae.target.value),placeholder:"e.g., photos of people at the beach, sunset, dogs playing...",onKeyDown:Ae=>Ae.key==="Enter"&&q()},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:262,columnNumber:9},void 0),t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:q,disabled:x||!i.trim()&&!M(),children:x?"Searching...":"Search"},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:270,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:261,columnNumber:7},void 0),t.jsxDEV(OW,{filters:Z,onChange:H,contacts:n,clusters:l,detectedObjects:d,isExpanded:te,onToggleExpand:()=>T(!te)},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:280,columnNumber:7},void 0),M()&&t.jsxDEV("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",fontSize:"0.875rem",color:"#6b7280"},children:[t.jsxDEV("span",{children:"Active filters:"},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:300,columnNumber:11},void 0),Z.dateStart&&t.jsxDEV("span",{className:"advanced-filters__tag active",children:["From: ",Z.dateStart]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:301,columnNumber:33},void 0),Z.dateEnd&&t.jsxDEV("span",{className:"advanced-filters__tag active",children:["To: ",Z.dateEnd]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:302,columnNumber:31},void 0),Z.people.length>0&&t.jsxDEV("span",{className:"advanced-filters__tag active",children:[Z.people.length," people"]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:304,columnNumber:13},void 0),Z.objectClasses.length>0&&t.jsxDEV("span",{className:"advanced-filters__tag active",children:[Z.objectClasses.length," objects"]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:307,columnNumber:13},void 0),Z.mediaType!=="all"&&t.jsxDEV("span",{className:"advanced-filters__tag active",children:Z.mediaType},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:310,columnNumber:13},void 0),t.jsxDEV("button",{onClick:$,style:{marginLeft:"0.5rem",padding:"0.25rem 0.5rem",background:"none",border:"none",color:"#3b82f6",cursor:"pointer",fontSize:"0.75rem"},children:"Clear all"},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:312,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:292,columnNumber:9},void 0),E&&t.jsxDEV("div",{className:"ai-error",style:{marginBottom:"1rem"},children:E},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:330,columnNumber:17},void 0),v!==null&&t.jsxDEV("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem"},children:["Found ",b.length," results in ",(v/1e3).toFixed(2),"s"]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:334,columnNumber:9},void 0),t.jsxDEV(IW,{results:b,loading:x,onSelect:G},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:339,columnNumber:7},void 0),V&&t.jsxDEV(XW,{result:V,results:b,onClose:()=>G(null),onNavigate:G},void 0,!1,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:347,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/SearchTab.tsx",lineNumber:252,columnNumber:5},void 0)},LW=i=>{const r=new Date,n=new Date(i),s=r.getTime()-n.getTime(),l=Math.floor(s/1e3);if(l<60)return`${l}s ago`;const u=Math.floor(l/60);if(u<60)return`${u}m ago`;const d=Math.floor(u/60);return d<24?`${d}h ago`:n.toLocaleDateString()},YW=i=>new Date(i).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),HW=i=>{if(!i)return"";const r=[];return typeof i.faces=="number"&&i.faces>0&&r.push(`faces: ${i.faces}`),typeof i.objects=="number"&&i.objects>0&&r.push(`objects: ${i.objects}`),i.text&&r.push("text detected"),i.description&&r.push("described"),i.error&&r.push(`error: ${String(i.error).slice(0,30)}`),r.length>0?r.join(", "):""},JW=({stats:i})=>t.jsxDEV("div",{className:"activity-dashboard__section",children:[t.jsxDEV("div",{className:"activity-dashboard__section-header",children:t.jsxDEV("h4",{className:"activity-dashboard__section-title",children:"Queue Status"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:67,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:66,columnNumber:5},void 0),t.jsxDEV("div",{className:"queue-stats",children:[t.jsxDEV("div",{className:"queue-stat queue-stat--pending",children:[t.jsxDEV("div",{className:"queue-stat__value",children:i.pending},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:71,columnNumber:9},void 0),t.jsxDEV("div",{className:"queue-stat__label",children:"Pending"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:72,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:70,columnNumber:7},void 0),t.jsxDEV("div",{className:"queue-stat queue-stat--processing",children:[t.jsxDEV("div",{className:"queue-stat__value",children:i.processing},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:75,columnNumber:9},void 0),t.jsxDEV("div",{className:"queue-stat__label",children:"Active"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:76,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:74,columnNumber:7},void 0),t.jsxDEV("div",{className:"queue-stat queue-stat--completed",children:[t.jsxDEV("div",{className:"queue-stat__value",children:i.completed},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:79,columnNumber:9},void 0),t.jsxDEV("div",{className:"queue-stat__label",children:"Completed"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:80,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:78,columnNumber:7},void 0),t.jsxDEV("div",{className:"queue-stat queue-stat--failed",children:[t.jsxDEV("div",{className:"queue-stat__value",children:i.failed},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:83,columnNumber:9},void 0),t.jsxDEV("div",{className:"queue-stat__label",children:"Failed"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:84,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:82,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:69,columnNumber:5},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:65,columnNumber:3},void 0),QW=({workers:i})=>t.jsxDEV("div",{className:"activity-dashboard__section",children:[t.jsxDEV("div",{className:"activity-dashboard__section-header",children:t.jsxDEV("h4",{className:"activity-dashboard__section-title",children:"Workers"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:101,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:100,columnNumber:5},void 0),t.jsxDEV("div",{className:"workers-list",children:i.length===0?t.jsxDEV("div",{className:"activity-log__empty",children:"No active workers"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:105,columnNumber:9},void 0):i.map(r=>t.jsxDEV("div",{className:"worker-item",children:[t.jsxDEV("div",{className:"worker-item__status-dot"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:109,columnNumber:13},void 0),t.jsxDEV("div",{className:"worker-item__info",children:[t.jsxDEV("div",{className:"worker-item__id",children:r.worker_id},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:111,columnNumber:15},void 0),t.jsxDEV("div",{className:"worker-item__task",children:r.current_asset?`Processing ${r.current_asset.slice(0,8)}...`:"Idle"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:112,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:110,columnNumber:13},void 0),t.jsxDEV("div",{className:"worker-item__time",children:r.started_at?LW(r.started_at):""},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:118,columnNumber:13},void 0)]},r.worker_id,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:108,columnNumber:11},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:103,columnNumber:5},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:99,columnNumber:3},void 0),$W=({activityLog:i,isPaused:r,onTogglePause:n,onClear:s})=>t.jsxDEV("div",{className:"activity-dashboard__section",children:[t.jsxDEV("div",{className:"activity-dashboard__section-header",children:[t.jsxDEV("h4",{className:"activity-dashboard__section-title",children:"Live Activity"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:137,columnNumber:7},void 0),t.jsxDEV("div",{className:"activity-dashboard__section-actions",children:[t.jsxDEV("button",{className:"ai-button ai-button--secondary ai-button--small",onClick:s,children:"Clear"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:139,columnNumber:9},void 0),t.jsxDEV("button",{className:`ai-button ai-button--small ${r?"ai-button--primary":"ai-button--secondary"}`,onClick:n,children:r?"Resume":"Pause"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:145,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:138,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:136,columnNumber:5},void 0),t.jsxDEV("div",{className:"activity-log",children:i.length===0?t.jsxDEV("div",{className:"activity-log__empty",children:r?"Updates paused":"No recent activity"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:155,columnNumber:9},void 0):i.map(l=>t.jsxDEV("div",{className:"activity-log__item",children:[t.jsxDEV("span",{className:"activity-log__time",children:YW(l.timestamp)},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:161,columnNumber:13},void 0),t.jsxDEV("span",{className:`activity-log__status activity-log__status--${l.status}`,children:l.status},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:162,columnNumber:13},void 0),t.jsxDEV("div",{className:"activity-log__details",children:[t.jsxDEV("span",{className:"activity-log__asset-id",children:[l.asset_id.slice(0,12),"..."]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:166,columnNumber:15},void 0),l.worker_id&&t.jsxDEV("span",{style:{marginLeft:"0.5rem",color:"#9ca3af"},children:["(",l.worker_id,")"]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:170,columnNumber:17},void 0),l.result&&t.jsxDEV("div",{className:"activity-log__result",children:HW(l.result)},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:165,columnNumber:13},void 0)]},l.id,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:160,columnNumber:11},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:153,columnNumber:5},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:135,columnNumber:3},void 0),qW=()=>{const{stats:i,workers:r,activityLog:n,loading:s,error:l,isPaused:u,togglePause:d,clearActivityLog:A,refresh:b}=jW();return s&&n.length===0?t.jsxDEV("div",{className:"ai-empty",children:[t.jsxDEV("div",{className:"ai-spinner ai-spinner--large"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:203,columnNumber:9},void 0),t.jsxDEV("p",{className:"ai-empty__text",children:"Loading activity data..."},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:204,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:202,columnNumber:7},void 0):t.jsxDEV("div",{className:"activity-dashboard",children:[t.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[t.jsxDEV("div",{children:[t.jsxDEV("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"0.25rem"},children:"AI Activity Dashboard"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:218,columnNumber:11},void 0),t.jsxDEV("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Monitor AI processing in real-time"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:221,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:217,columnNumber:9},void 0),t.jsxDEV("button",{className:"ai-button ai-button--secondary",onClick:b,disabled:s,children:s?"Refreshing...":"Refresh"},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:225,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:211,columnNumber:7},void 0),l&&t.jsxDEV("div",{className:"ai-error",style:{marginBottom:"1rem"},children:l},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:235,columnNumber:9},void 0),t.jsxDEV(JW,{stats:i},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:240,columnNumber:7},void 0),t.jsxDEV(QW,{workers:r},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:241,columnNumber:7},void 0),t.jsxDEV($W,{activityLog:n,isPaused:u,onTogglePause:d,onClear:A},void 0,!1,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:242,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ActivityDashboardTab.tsx",lineNumber:210,columnNumber:5},void 0)},KW=()=>{const[i,r]=h.useState({totalAssets:0,processedAssets:0,currentOffset:0,errors:0,isRunning:!1,lastMessage:""}),[n,s]=h.useState(10),[l,u]=h.useState([]),d=h.useRef(!1),A=h.useRef(null);h.useEffect(()=>{(async()=>{try{const E=(await fetch("https://quqlovduekdasldqadge.supabase.co/rest/v1/assets?select=id",{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4",Prefer:"count=exact",Range:"0-0"}})).headers.get("content-range");if(E){const F=parseInt(E.split("/")[1],10);r(V=>({...V,totalAssets:F}))}}catch(w){console.error("Failed to get asset count:",w)}})()},[]),h.useEffect(()=>{var v;(v=A.current)==null||v.scrollIntoView({behavior:"smooth"})},[l]);const b=v=>{const w=new Date().toLocaleTimeString();u(E=>[...E.slice(-100),`[${w}] ${v}`])},p=async()=>{d.current=!1,r(F=>({...F,isRunning:!0,processedAssets:0,currentOffset:0,errors:0})),u([]),b("Starting reindex...");let v=0,w=0,E=0;for(;!d.current;)try{b(`Processing batch at offset ${v}...`);const F=await ea.reindex(n,v);if(!F.success){b(`Error: ${F.error}`),E++;break}const V=F.data;if(b(V.message),w+=V.processed||0,E+=V.errors||0,r(G=>({...G,processedAssets:w,currentOffset:v,errors:E,lastMessage:V.message})),V.status==="complete"){b("Reindex complete!");break}v=V.next_offset||v+n,await new Promise(G=>setTimeout(G,500))}catch(F){b(`Error: ${F instanceof Error?F.message:"Unknown error"}`),E++;break}d.current&&b("Reindex stopped by user"),r(F=>({...F,isRunning:!1}))},x=()=>{d.current=!0,b("Stopping...")},N=i.totalAssets>0?Math.round(i.currentOffset/i.totalAssets*100):0;return t.jsxDEV("div",{children:[t.jsxDEV("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem"},children:"Reindex All Assets"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:145,columnNumber:7},void 0),t.jsxDEV("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1.5rem"},children:"Process all assets with AI to generate embeddings, detect objects, and recognize faces. This is useful after clearing AI data or to reprocess with updated models."},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:148,columnNumber:7},void 0),t.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"1.5rem"},children:[t.jsxDEV("div",{className:"ai-card",style:{padding:"1rem",textAlign:"center"},children:[t.jsxDEV("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#3b82f6"},children:i.totalAssets.toLocaleString()},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:161,columnNumber:11},void 0),t.jsxDEV("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"Total Assets"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:164,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:160,columnNumber:9},void 0),t.jsxDEV("div",{className:"ai-card",style:{padding:"1rem",textAlign:"center"},children:[t.jsxDEV("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#10b981"},children:i.processedAssets.toLocaleString()},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:167,columnNumber:11},void 0),t.jsxDEV("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"Processed"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:166,columnNumber:9},void 0),t.jsxDEV("div",{className:"ai-card",style:{padding:"1rem",textAlign:"center"},children:[t.jsxDEV("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#f59e0b"},children:i.currentOffset.toLocaleString()},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:173,columnNumber:11},void 0),t.jsxDEV("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"Current Offset"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:176,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:172,columnNumber:9},void 0),t.jsxDEV("div",{className:"ai-card",style:{padding:"1rem",textAlign:"center"},children:[t.jsxDEV("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#ef4444"},children:i.errors},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:179,columnNumber:11},void 0),t.jsxDEV("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"Errors"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:182,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:178,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:154,columnNumber:7},void 0),i.isRunning&&t.jsxDEV("div",{style:{marginBottom:"1.5rem"},children:[t.jsxDEV("div",{style:{height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",overflow:"hidden"},children:t.jsxDEV("div",{style:{height:"100%",width:`${N}%`,backgroundColor:"#3b82f6",transition:"width 0.3s ease"}},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:195,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:189,columnNumber:11},void 0),t.jsxDEV("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:[N,"% complete"]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:202,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:188,columnNumber:9},void 0),t.jsxDEV("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1.5rem"},children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{style:{fontSize:"0.875rem",color:"#374151",marginRight:"0.5rem"},children:"Batch Size:"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:211,columnNumber:11},void 0),t.jsxDEV("select",{className:"ai-select",value:n,onChange:v=>s(Number(v.target.value)),disabled:i.isRunning,style:{width:"100px"},children:[t.jsxDEV("option",{value:5,children:"5"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:221,columnNumber:13},void 0),t.jsxDEV("option",{value:10,children:"10"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:222,columnNumber:13},void 0),t.jsxDEV("option",{value:25,children:"25"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:223,columnNumber:13},void 0),t.jsxDEV("option",{value:50,children:"50"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:224,columnNumber:13},void 0),t.jsxDEV("option",{value:100,children:"100"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:225,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:214,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:210,columnNumber:9},void 0),i.isRunning?t.jsxDEV("button",{className:"ai-button ai-button--danger",onClick:x,children:"Stop"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:237,columnNumber:11},void 0):t.jsxDEV("button",{className:"ai-button ai-button--primary",onClick:p,children:"Start Reindex"},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:230,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:209,columnNumber:7},void 0),t.jsxDEV("div",{style:{backgroundColor:"#1f2937",borderRadius:"0.5rem",padding:"1rem",maxHeight:"300px",overflow:"auto",fontFamily:"monospace",fontSize:"0.75rem",color:"#d1d5db"},children:[l.length===0?t.jsxDEV("div",{style:{color:"#6b7280"},children:"Logs will appear here..."},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:258,columnNumber:11},void 0):l.map((v,w)=>t.jsxDEV("div",{style:{marginBottom:"0.25rem"},children:v},w,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:261,columnNumber:13},void 0)),t.jsxDEV("div",{ref:A},void 0,!1,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:264,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:247,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/ReindexTab.tsx",lineNumber:144,columnNumber:5},void 0)},eG={single:PW,album:GW,faces:UW,search:zW,activity:qW,reindex:KW},rG=()=>{const[i,r]=h.useState("single"),{connected:n,health:s,loading:l}=DW(),u=eG[i];return t.jsxDEV("div",{className:"ai-processing",children:[t.jsxDEV("div",{className:"ai-processing__header",children:[t.jsxDEV("h2",{className:"ai-processing__title",children:"AI Processing"},void 0,!1,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:36,columnNumber:9},void 0),t.jsxDEV("div",{className:`ai-status ${l?"":n?"ai-status--connected":"ai-status--disconnected"}`,children:[t.jsxDEV("span",{className:"ai-status__dot"},void 0,!1,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:42,columnNumber:11},void 0),l?"Connecting...":n?t.jsxDEV(t.Fragment,{children:["Connected",(s==null?void 0:s.device)&&t.jsxDEV("span",{style:{marginLeft:"0.5rem",opacity:.7},children:["(",s.device,")"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:47,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:44,columnNumber:13},void 0):"Disconnected"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:39,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:35,columnNumber:7},void 0),t.jsxDEV("div",{className:"ai-processing__tabs",children:os.tabs.map(d=>t.jsxDEV("button",{className:`ai-processing__tab ${i===d.id?"ai-processing__tab--active":""}`,onClick:()=>r(d.id),children:[t.jsxDEV("span",{style:{marginRight:"0.5rem"},children:d.icon},void 0,!1,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:66,columnNumber:13},void 0),d.label]},d.id,!0,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:61,columnNumber:11},void 0))},void 0,!1,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:59,columnNumber:7},void 0),t.jsxDEV("div",{className:"ai-processing__content",children:!n&&!l?t.jsxDEV("div",{className:"ai-error",children:[t.jsxDEV("strong",{children:"AI API not connected"},void 0,!1,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:76,columnNumber:13},void 0),t.jsxDEV("p",{style:{marginTop:"0.5rem"},children:["Make sure the Kizu-AI service is running at"," ","http://localhost:8000"]},void 0,!0,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:75,columnNumber:11},void 0):t.jsxDEV(u,{},void 0,!1,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:83,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:73,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/admin/ai/AIProcessingManager.tsx",lineNumber:33,columnNumber:5},void 0)},eg=({className:i="",showLabel:r=!1,size:n="md"})=>{const{theme:s,resolvedTheme:l,setTheme:u,toggleTheme:d}=XM(),A={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},b={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return t.jsxDEV("div",{className:`flex items-center gap-2 ${i}`,children:[t.jsxDEV("button",{onClick:d,className:`${A[n]} flex items-center justify-center rounded-lg bg-surface-elevated hover:bg-surface-hover transition-colors`,"aria-label":`Switch to ${l==="dark"?"light":"dark"} mode`,title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?t.jsxDEV("svg",{className:`${b[n]} text-amber-400`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},void 0,!1,{fileName:"/app/src/components/ui/ThemeToggle.tsx",lineNumber:46,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/ui/ThemeToggle.tsx",lineNumber:39,columnNumber:11},void 0):t.jsxDEV("svg",{className:`${b[n]} text-theme-secondary`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},void 0,!1,{fileName:"/app/src/components/ui/ThemeToggle.tsx",lineNumber:61,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/ui/ThemeToggle.tsx",lineNumber:54,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/ui/ThemeToggle.tsx",lineNumber:31,columnNumber:7},void 0),r&&t.jsxDEV("span",{className:"text-sm text-theme-secondary capitalize",children:s==="system"?`System (${l})`:s},void 0,!1,{fileName:"/app/src/components/ui/ThemeToggle.tsx",lineNumber:70,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/ui/ThemeToggle.tsx",lineNumber:30,columnNumber:5},void 0)},aG=()=>{var M,q,$,Ae;const{user:i,userProfile:r,signOut:n,loading:s,isSuperAdmin:l}=Xa(),u=zn(),[d,A]=h.useState(!1),[b,p]=h.useState(0),[x,N]=h.useState(0),[v,w]=h.useState(0),[E,F]=h.useState(null),[V,G]=h.useState(!0),[Z,H]=h.useState({albums:0,media:0,folders:0,circles:0,contacts:0,invitations:0}),te=()=>{if(!(i!=null&&i.created_at))return"";const L=new Date(i.created_at),j=new Date().getTime()-L.getTime(),O=Math.floor(j/864e5),Y=Math.floor(O/30),ie=Math.floor(O/365);return ie>0?`${ie} year${ie>1?"s":""}`:Y>0?`${Y} month${Y>1?"s":""}`:O>0?`${O} day${O>1?"s":""}`:"today"};h.useEffect(()=>{(async()=>{if(i)try{const J=await br.getSubscriptionStatus();if(J.success&&J.data){const{subscription:j,plan:O}=J.data;let Y="";if(j.status==="trialing"&&j.trial_end){const ie=Math.ceil((new Date(j.trial_end).getTime()-Date.now())/864e5);Y=`${ie} day${ie!==1?"s":""} remaining`}else if(j.status==="active"&&j.current_period_end)Y=`Renews ${new Date(j.current_period_end).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`;else if(j.status==="cancelled"&&j.current_period_end){const ie=Math.ceil((new Date(j.current_period_end).getTime()-Date.now())/864e5);Y=`Expires in ${ie} day${ie!==1?"s":""}`}F({planName:j.status==="free"?"Guest":j.status==="trialing"?`${O.display_name} Trial`:O.display_name,status:j.status,expiry:Y})}}catch(J){console.error("Error fetching subscription:",J)}})()},[i]),h.useEffect(()=>{(async()=>{var J,j,O,Y,ie,z,ee,D;if(i){G(!0);try{const[R,X,C,I,S,P,U]=await Promise.all([br.getAlbums(),br.getImages(),br.getCircles(),br.getInvitations(),y9(),E0.getContacts(),Ct.getConversations()]);H({albums:R.success&&R.data&&(R.data.count||((J=R.data.albums)==null?void 0:J.length))||0,media:X.success&&X.data&&(X.data.count||((j=X.data.assets)==null?void 0:j.length))||0,folders:S.count||((O=S.folders)==null?void 0:O.length)||0,circles:C.success&&C.data&&(C.data.count||((Y=C.data.circles)==null?void 0:Y.length))||0,contacts:((ie=P.pagination)==null?void 0:ie.total)||((z=P.contacts)==null?void 0:z.length)||0,invitations:I.success&&I.data&&(I.data.count||((ee=I.data.invitations)==null?void 0:ee.length))||0}),U.success&&U.data&&N(((D=U.data.conversations)==null?void 0:D.length)||0)}catch(R){console.error("Error fetching counts:",R)}finally{G(!1)}}})()},[i]);const T=L=>V?t.jsxDEV("span",{className:"ml-1 inline-block w-4 h-4 border-2 loading-spinner rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:150,columnNumber:9},void 0):t.jsxDEV("span",{className:"ml-1 text-theme-muted text-sm",children:["(",L,")"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:153,columnNumber:12},void 0);return h.useEffect(()=>{const L=async()=>{if(i){const j=await Ct.getTotalUnreadCount();p(j)}};L();const J=setInterval(L,3e4);return()=>clearInterval(J)},[i]),h.useEffect(()=>{const L=async()=>{if(i){const j=await Fn.getUnreadCount();w(j)}};L();const J=setInterval(L,3e4);return()=>clearInterval(J)},[i]),console.log("AdminDashboard render:",{loading:s,hasUser:!!i,isSuperAdmin:l,currentPath:u.pathname}),s?t.jsxDEV("div",{className:"min-h-screen bg-app flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:197,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-theme-secondary",children:"Loading..."},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:198,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:196,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:195,columnNumber:7},void 0):i?t.jsxDEV("div",{className:"min-h-screen bg-app",children:[t.jsxDEV("header",{className:"bg-surface shadow-sm border-b border-default",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxDEV("div",{className:"flex justify-between items-center h-16",children:[t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("span",{className:"text-2xl mr-3",children:""},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:223,columnNumber:15},void 0),t.jsxDEV("h1",{className:"text-xl font-bold text-theme-primary",children:"Kizu Admin"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:224,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:222,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center space-x-4",children:[t.jsxDEV("div",{className:"text-right",children:[t.jsxDEV("div",{className:"text-sm text-theme-secondary",children:["Welcome, ",(r==null?void 0:r.full_name)||i.email,l&&t.jsxDEV("span",{className:"ml-2 px-2 py-1 badge-admin text-xs rounded-full font-medium",children:"Super Admin"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:232,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:229,columnNumber:17},void 0),t.jsxDEV("div",{className:"text-xs text-theme-muted",children:["Member for ",te(),E&&t.jsxDEV(t.Fragment,{children:["  ",t.jsxDEV("span",{className:"font-medium",children:E.planName},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:242,columnNumber:23},void 0),E.expiry&&t.jsxDEV("span",{className:"ml-1",children:["(",E.expiry,")"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:244,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:240,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:237,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:228,columnNumber:15},void 0),t.jsxDEV(eg,{size:"sm"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:250,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>A(!0),className:"w-10 h-10 avatar-btn",title:"Account Settings",children:r!=null&&r.avatar_url?t.jsxDEV("img",{src:r.avatar_url,alt:"Avatar",className:"w-full h-full object-cover",onError:L=>{L.target.style.display="none"}},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:257,columnNumber:19},void 0):t.jsxDEV("span",{className:"text-lg text-theme-accent",children:((q=(M=r==null?void 0:r.full_name)==null?void 0:M[0])==null?void 0:q.toUpperCase())||((Ae=($=i==null?void 0:i.email)==null?void 0:$[0])==null?void 0:Ae.toUpperCase())||"U"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:267,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:251,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:227,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:221,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:220,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:219,columnNumber:7},void 0),t.jsxDEV("div",{className:"flex",children:[t.jsxDEV("nav",{className:"bg-surface w-64 min-h-screen border-r border-default shadow-sm",children:t.jsxDEV("div",{className:"p-4",children:t.jsxDEV("ul",{className:"space-y-2",children:[t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/notifications",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/notifications")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-bell mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:291,columnNumber:19},void 0),"Notifications",v>0&&t.jsxDEV("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full min-w-[20px] text-center",children:v>99?"99+":v},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:294,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:283,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:282,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/chat",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/chat")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-messages mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:309,columnNumber:19},void 0),"Chats",T(x),b>0&&t.jsxDEV("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full min-w-[20px] text-center",children:b>99?"99+":b},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:313,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:301,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:300,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/albums",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/albums")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-picture mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:328,columnNumber:19},void 0),"Albums",T(Z.albums)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:320,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:319,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/images",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/images")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-gallery mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:342,columnNumber:19},void 0),"Media",T(Z.media)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:334,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:333,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/folders",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/folders")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-folder mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:356,columnNumber:19},void 0),"Folders",T(Z.folders)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:348,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:347,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/circles",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/circles")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-users mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:370,columnNumber:19},void 0),"Circles",T(Z.circles)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:362,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:361,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/contacts",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/contacts")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-address-book mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:384,columnNumber:19},void 0),"Contacts",T(Z.contacts)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:376,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:375,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/invites",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/invites")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-envelope mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:398,columnNumber:19},void 0),"Invitations",T(Z.invitations)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:390,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:389,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/import",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/import")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-inbox-in mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:412,columnNumber:19},void 0),"Import"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:404,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:403,columnNumber:15},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/ai-processing",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/ai-processing")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-microchip-ai mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:425,columnNumber:19},void 0),"AI Processing"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:417,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:416,columnNumber:15},void 0),l&&t.jsxDEV(t.Fragment,{children:[t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/users",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/users")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-user mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:440,columnNumber:23},void 0),"Users"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:432,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:431,columnNumber:19},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/push-test",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/push-test")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-bell mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:453,columnNumber:23},void 0),"Push Test"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:445,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:444,columnNumber:19},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/promo-codes",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/promo-codes")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-ticket mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:466,columnNumber:23},void 0),"Promo Codes"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:458,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:457,columnNumber:19},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/discount",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/discount")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-badge-percent mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:479,columnNumber:23},void 0),"Sitewide Discount"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:471,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:470,columnNumber:19},void 0),t.jsxDEV("li",{children:t.jsxDEV(Ka,{to:"/admin/exports",className:`flex items-center px-4 py-2 rounded-md transition-colors ${u.pathname.includes("/admin/exports")?"bg-primary-light text-theme-accent font-medium":"text-theme-secondary hover:bg-primary-light hover:text-theme-accent"}`,children:[t.jsxDEV("i",{className:"fi fi-sr-box mr-3 text-lg"},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:492,columnNumber:23},void 0),"Exports"]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:484,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:483,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:430,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:281,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:280,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:279,columnNumber:9},void 0),t.jsxDEV("main",{className:"flex-1 p-8 bg-app",children:t.jsxDEV(nw,{children:[t.jsxDEV(Zr,{index:!0,element:t.jsxDEV(Zn,{to:"/admin/notifications",replace:!0},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:505,columnNumber:35},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:505,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"notifications",element:t.jsxDEV(kW,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:506,columnNumber:50},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:506,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"folders",element:t.jsxDEV(aZ,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:507,columnNumber:44},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:507,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"albums",element:t.jsxDEV(zI,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:508,columnNumber:43},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:508,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"albums/:albumId",element:t.jsxDEV(QI,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:509,columnNumber:52},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:509,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"images",element:t.jsxDEV(qI,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:510,columnNumber:43},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:510,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"circles",element:t.jsxDEV(tI,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:511,columnNumber:44},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:511,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"circles/:circleId/members/:memberId",element:t.jsxDEV(nI,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:512,columnNumber:72},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:512,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"invites",element:t.jsxDEV(eR,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:513,columnNumber:44},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:513,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"contacts",element:t.jsxDEV(OF,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:514,columnNumber:45},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:514,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"import",element:t.jsxDEV(NW,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:515,columnNumber:43},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:515,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"ai-processing",element:t.jsxDEV(rG,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:516,columnNumber:50},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:516,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"chat",element:t.jsxDEV(zF,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:517,columnNumber:41},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:517,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"users",element:l?t.jsxDEV(KI,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:522,columnNumber:19},void 0):t.jsxDEV(Zn,{to:"/admin/albums",replace:!0},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:524,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:518,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"push-test",element:l?t.jsxDEV(mW,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:532,columnNumber:19},void 0):t.jsxDEV(Zn,{to:"/admin/albums",replace:!0},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:534,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:528,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"promo-codes",element:l?t.jsxDEV(AW,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:542,columnNumber:19},void 0):t.jsxDEV(Zn,{to:"/admin/albums",replace:!0},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:544,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:538,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"discount",element:l?t.jsxDEV(bW,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:552,columnNumber:19},void 0):t.jsxDEV(Zn,{to:"/admin/albums",replace:!0},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:554,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:548,columnNumber:13},void 0),t.jsxDEV(Zr,{path:"exports",element:l?t.jsxDEV(pW,{},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:562,columnNumber:19},void 0):t.jsxDEV(Zn,{to:"/admin/albums",replace:!0},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:564,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:558,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:504,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:503,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:277,columnNumber:7},void 0),t.jsxDEV(LF,{isOpen:d,onClose:()=>A(!1)},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:573,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:217,columnNumber:5},void 0):t.jsxDEV(Zn,{to:"/login",replace:!0},void 0,!1,{fileName:"/app/src/components/AdminDashboard.tsx",lineNumber:205,columnNumber:12},void 0)},P8="knox_remember_email",ih="knox_saved_email",tG=()=>{const[i,r]=h.useState(""),[n,s]=h.useState(""),[l,u]=h.useState(!1),[d,A]=h.useState(null),[b,p]=h.useState(!1),[x,N]=h.useState("code"),[v,w]=h.useState(!1),[E,F]=h.useState(""),[V,G]=h.useState(null),[Z,H]=h.useState(!1),[te,T]=h.useState(!1),[M,q]=h.useState(!1),{user:$,loading:Ae,signInWithMagicLink:L,signInWithCode:J,verifyCode:j,checkUserExists:O,signUp:Y}=Xa(),ie=ua(),[z]=Ln();h.useEffect(()=>{z.get("mode")==="signup"&&T(!0)},[z]),h.useEffect(()=>{if(localStorage.getItem(P8)==="true"){H(!0);const K=localStorage.getItem(ih);K&&r(K)}},[]);const ee=U=>{H(U),localStorage.setItem(P8,U?"true":"false"),U||localStorage.removeItem(ih)},D=()=>{Z&&i&&localStorage.setItem(ih,i.toLowerCase().trim())};if(Ae&&!v&&!b)return t.jsxDEV("div",{className:"min-h-screen auth-gradient flex items-center justify-center",children:t.jsxDEV("div",{className:"loading-spinner h-12 w-12"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:67,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:66,columnNumber:7},void 0);if($&&!v)return t.jsxDEV(Zn,{to:"/admin",replace:!0},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:74,columnNumber:12},void 0);const R=async U=>{U.preventDefault(),u(!0),A(null);try{x==="magic-link"?await X():await C()}catch{A("An unexpected error occurred")}finally{u(!1)}},X=async()=>{const{exists:U,error:K}=await O(i);if(K){A("Failed to verify user account. Please try again.");return}if(!U){A(`No account found for ${i}.`),T(!0);return}const{error:re}=await L(i);re?A(re.message):p(!0)},C=async()=>{const{exists:U,error:K}=await O(i);if(K){A("Failed to verify user account. Please try again.");return}if(!U){A(`No account found for ${i}.`),T(!0);return}const{error:re,code:se}=await J(i);re?A(re.message):(D(),w(!0),se&&G(se))},I=async U=>{if(U.preventDefault(),!E||E.length!==4){A("Please enter the 4-digit code");return}u(!0),A(null),console.log(" CODE VERIFICATION: Starting verification for:",i);try{const{error:K,success:re}=await j(i,E);K?A(K.message):re&&(console.log("Code verification successful, redirecting..."),ie("/admin",{replace:!0}))}catch{A("Verification failed. Please try again.")}finally{u(!1)}},S=()=>{p(!1),w(!1),F(""),G(null),r(""),A(null),T(!1),q(!1)},P=async U=>{if(U.preventDefault(),!n.trim()){A("Please enter your name");return}u(!0),A(null);try{const{error:K}=await Y(i,n.trim());K?A(K.message):q(!0)}catch{A("Failed to create account. Please try again.")}finally{u(!1)}};return t.jsxDEV("div",{className:"min-h-screen auth-gradient flex items-center justify-center p-4 relative",children:[t.jsxDEV("div",{className:"absolute top-4 right-4",children:t.jsxDEV(eg,{size:"sm"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:218,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:217,columnNumber:7},void 0),t.jsxDEV("div",{className:"auth-card p-8 w-full max-w-md",children:[t.jsxDEV("div",{className:"text-center mb-8",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:223,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-3xl font-bold text-theme-primary",children:"Kizu Admin"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:224,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-theme-secondary",children:M?"Account created successfully!":te?"Create your account":b?"Check your email for the magic link":v?`Enter the 4-digit code sent to ${i}`:"Passwordless Authentication"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:225,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:222,columnNumber:9},void 0),M?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"alert-success",children:t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("div",{className:"text-2xl mr-2",children:""},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:243,columnNumber:17},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:"Check your email!"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:245,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-sm",children:["We sent a verification link to ",i,". Click the link to activate your account."]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:246,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:244,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:242,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:241,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>{q(!1),T(!1),r("")},className:"w-full btn-secondary",children:"Back to Sign In"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:240,columnNumber:11},void 0):te?t.jsxDEV("form",{onSubmit:P,className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"fullName",className:"form-label",children:"Your Name"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:261,columnNumber:15},void 0),t.jsxDEV("input",{id:"fullName",type:"text",value:n,onChange:U=>s(U.target.value),required:!0,className:"input placeholder-muted",placeholder:"John Smith",autoComplete:"name"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:264,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:260,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"email",className:"form-label",children:"Email Address"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:277,columnNumber:15},void 0),t.jsxDEV("input",{id:"email",type:"email",value:i,onChange:U=>r(U.target.value),required:!0,className:"input placeholder-muted",placeholder:"your@email.com"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:280,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:276,columnNumber:13},void 0),d&&t.jsxDEV("div",{className:"alert-error",children:d},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:292,columnNumber:15},void 0),t.jsxDEV("button",{type:"submit",disabled:l||!i||!n.trim(),className:"w-full btn-primary",children:l?"Creating Account...":"Create Account"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:297,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-sm text-theme-secondary text-center",children:"We'll create your account and you can sign in immediately."},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:305,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:259,columnNumber:11},void 0):!b&&!v?t.jsxDEV("form",{onSubmit:R,className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"email",className:"form-label",children:"Email Address"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:312,columnNumber:15},void 0),t.jsxDEV("input",{id:"email",type:"email",value:i,onChange:U=>r(U.target.value),required:!0,className:"input placeholder-muted",placeholder:"your@email.com"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:315,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:311,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("input",{id:"remember-email",type:"checkbox",checked:Z,onChange:U=>ee(U.target.checked),className:"h-4 w-4 checkbox rounded cursor-pointer"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:328,columnNumber:17},void 0),t.jsxDEV("label",{htmlFor:"remember-email",className:"ml-2 block text-sm text-theme-secondary cursor-pointer",children:"Remember my email"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:335,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:327,columnNumber:15},void 0),t.jsxDEV("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Sending...":" Send Code"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:340,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:326,columnNumber:13},void 0),d&&t.jsxDEV("div",{className:"alert-error",children:d},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:353,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-sm text-theme-secondary text-center",children:x==="magic-link"?"No password needed! We'll send you a secure link to sign in.":"We'll send you a 4-digit code to verify your identity."},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:358,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:310,columnNumber:11},void 0):b?t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"alert-success",children:t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("div",{className:"text-2xl mr-2",children:""},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:369,columnNumber:17},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:"Magic link sent!"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:371,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-sm",children:["Check your email (",i,") and click the link to sign in."]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:372,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:370,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:368,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:367,columnNumber:13},void 0),t.jsxDEV("button",{onClick:S,className:"w-full btn-secondary",children:"Try Different Email"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:377,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:366,columnNumber:11},void 0):t.jsxDEV("div",{className:"space-y-6",children:[t.jsxDEV("div",{className:"alert-success",children:t.jsxDEV("div",{className:"flex items-center",children:[t.jsxDEV("div",{className:"text-2xl mr-2",children:""},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:388,columnNumber:17},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:"Code sent!"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:390,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-sm",children:["Enter the 4-digit code sent to ",i]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:391,columnNumber:19},void 0),V&&t.jsxDEV("p",{className:"dev-banner mt-2",children:["Dev Code: ",t.jsxDEV("strong",{children:V},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:394,columnNumber:33},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:393,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:389,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:387,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:386,columnNumber:13},void 0),t.jsxDEV("form",{onSubmit:I,className:"space-y-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"code",className:"form-label",children:"4-Digit Code"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:403,columnNumber:17},void 0),t.jsxDEV("input",{id:"code",type:"text",value:E,onChange:U=>{const K=U.target.value.toUpperCase().slice(0,4);F(K),K.length===4&&(console.log(" AUTO-SUBMIT: Code complete, auto-submitting for:",i),setTimeout(async()=>{u(!0),A(null);try{const{error:re,success:se}=await j(i,K);re?A(re.message):se&&ie("/admin",{replace:!0})}catch{A("Verification failed. Please try again.")}finally{u(!1)}},100))},maxLength:4,className:"input text-center text-2xl font-bold tracking-widest py-3",placeholder:"----",autoComplete:"one-time-code"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:406,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:402,columnNumber:15},void 0),d&&t.jsxDEV("div",{className:"alert-error",children:d},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:442,columnNumber:17},void 0),t.jsxDEV("button",{type:"submit",disabled:l||!E||E.length!==4,className:"w-full btn-primary py-2",children:l?"Verifying...":" Verify Code"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:447,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:401,columnNumber:13},void 0),t.jsxDEV("button",{onClick:S,className:"w-full btn-secondary",children:"Try Different Email"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:456,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:385,columnNumber:11},void 0),t.jsxDEV("div",{className:"mt-6 text-center text-sm text-theme-secondary",children:te?t.jsxDEV("p",{children:["Already have an account?"," ",t.jsxDEV("button",{onClick:()=>{T(!1),A(null)},className:"text-theme-link hover:underline font-medium",children:"Sign in"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:469,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:467,columnNumber:13},void 0):t.jsxDEV("p",{children:["Don't have an account?"," ",t.jsxDEV("button",{onClick:()=>T(!0),className:"text-theme-link hover:underline font-medium",children:"Create one"},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:479,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:477,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/Login.tsx",lineNumber:465,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:221,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/Login.tsx",lineNumber:215,columnNumber:5},void 0)},nG=()=>{const[i]=Ln(),r=i.get("invite"),n=i.get("email"),s=i.get("name"),[l,u]=h.useState(n||""),[d,A]=h.useState(s||""),[b,p]=h.useState(!1),[x,N]=h.useState(null),[v,w]=h.useState(!1),[E,F]=h.useState(null),[V,G]=h.useState([]),Z=D=>{const R=new Date().toLocaleTimeString();G(X=>[...X.slice(-10),`[${R}] ${D}`]),console.log(D)},[H,te]=h.useState(null),[T,M]=h.useState(!!r),{user:q,loading:$}=Xa(),L=(()=>{const D=navigator.userAgent||navigator.vendor||window.opera;return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(D.toLowerCase())})(),J=navigator.userAgent;h.useEffect(()=>{r?j():M(!1)},[r]);const j=async()=>{try{const{data:D,error:R}=await Ge.from("circle_users").select(`
          email,
          role,
          circle_id
        `).eq("id",r).single();if(!R&&D){let X="a photo circle";if(D.circle_id){const{data:C}=await Ge.from("circles").select("name").eq("id",D.circle_id).single();C!=null&&C.name&&(X=C.name)}te({circleName:X,role:D.role,inviterName:"Someone"}),D.email&&!l&&u(D.email)}else console.log("Could not load invite details (RLS), proceeding with generic signup")}catch(D){console.log("Could not load invite details:",D)}finally{M(!1)}};if(q&&!v)return window.location.href="/admin",null;const O=async D=>{var X,C;D.preventDefault(),p(!0),N(null);const R=r?`/view-circle/${r}`:"/admin";sessionStorage.setItem("postLoginRedirect",R),Z(`Starting signup for ${l} (mobile: ${L})`);try{const I=new AbortController,S=setTimeout(()=>{Z("Request timed out after 30s, aborting..."),I.abort()},3e4),P="https://quqlovduekdasldqadge.supabase.co",U="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4";Z("Calling edge function...");const K=await fetch(`${P}/functions/v1/create-session-with-code`,{method:"POST",headers:{"Content-Type":"application/json",apikey:U,Authorization:`Bearer ${U}`},body:JSON.stringify({email:l.toLowerCase().trim(),code:"SIGNUP",full_name:d.trim()||null}),signal:I.signal});clearTimeout(S),Z(`Response received: ${K.status}`);const re=await K.json();if(Z(`Parsed response: ${re.success?"success":"failed"}`),!K.ok||!(re!=null&&re.success)){console.error("Account creation failed",re),N((re==null?void 0:re.error)||"Failed to create account. Please try again."),p(!1);return}(X=re.session)!=null&&X.access_token&&((C=re.session)!=null&&C.refresh_token)?(Z("Got session tokens, showing success screen"),F({accessToken:re.session.access_token,refreshToken:re.session.refresh_token}),w(!0),p(!1)):(Z("No session tokens in response"),N("Account created but missing session. Please try logging in manually."),p(!1))}catch(I){console.error("Signup error",I),Z(`Error: ${I.name} - ${I.message}`),I.name==="AbortError"?N("Request timed out. Please check your connection and try again."):N(`Error: ${I.message||"An unexpected error occurred"}`),p(!1)}},Y=()=>{if(!E)return;const D=JSON.stringify({access_token:E.accessToken,refresh_token:E.refreshToken}),C=`kizu://auth-session/${btoa(D).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}`;Z("Opening app with deep link..."),console.log(" SIGNUP: Opening mobile app with deep link:",C.substring(0,60)+"..."),window.location.href=C},ie=async()=>{if(!E)return;p(!0);const{data:D,error:R}=await Ge.auth.setSession({access_token:E.accessToken,refresh_token:E.refreshToken});if(R){console.error("Failed to set session",R),N("Sign-in failed. Please try logging in manually."),p(!1);return}D.session&&D.user?window.location.href="/admin":(N("Sign-in failed. Please try logging in manually."),p(!1))},z=D=>({admin:"Admin",editor:"Editor",contributor:"Contributor",read_only:"Viewer"})[D]||D,ee=D=>({admin:"badge-error",editor:"badge-warning",contributor:"badge-success",read_only:"badge-default"})[D]||"badge-default";return t.jsxDEV("div",{className:"min-h-screen auth-gradient flex justify-center p-4 pt-16 relative",children:[t.jsxDEV("div",{className:"absolute top-4 right-4",children:t.jsxDEV(eg,{size:"sm"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:261,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:260,columnNumber:7},void 0),t.jsxDEV("div",{className:"auth-card p-8 w-full max-w-md h-fit",children:[t.jsxDEV("div",{className:"text-center mb-6",children:[t.jsxDEV("div",{className:"text-4xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:266,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-3xl font-bold text-theme-primary",children:"Join Kizu"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:267,columnNumber:11},void 0),H?t.jsxDEV("p",{className:"text-theme-secondary mt-2",children:[H.inviterName," invited you to join"," ",t.jsxDEV("strong",{children:H.circleName},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:271,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:269,columnNumber:13},void 0):r?t.jsxDEV("p",{className:"text-theme-secondary mt-2",children:"You've been invited to join a photo circle. Create your account to get started."},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:274,columnNumber:13},void 0):t.jsxDEV("p",{className:"text-theme-secondary mt-2",children:"Create your account to get started"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:278,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:265,columnNumber:9},void 0),v?t.jsxDEV("div",{className:"text-center space-y-6",children:[t.jsxDEV("div",{className:"text-6xl text-green-500",children:""},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:287,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"text-xl font-bold text-theme-primary mb-2",children:"Account Created!"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:289,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-theme-secondary",children:["Welcome to Kizu",d?`, ${d}`:"","!"]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:290,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:288,columnNumber:13},void 0),L?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("button",{onClick:Y,className:"w-full btn-primary py-4 text-lg font-semibold",children:"Open Kizu Mobile App"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:297,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-theme-secondary",children:"Make sure you have the Kizu app installed on your device."},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:303,columnNumber:17},void 0),t.jsxDEV("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:t.jsxDEV("button",{onClick:ie,disabled:b,className:"text-sm text-theme-secondary underline hover:text-theme-primary",children:b?"Loading...":"Or continue in browser"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:307,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:306,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:296,columnNumber:15},void 0):t.jsxDEV("button",{onClick:ie,disabled:b,className:"w-full btn-primary py-4 text-lg font-semibold",children:b?"Signing in...":"Continue to Dashboard"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:317,columnNumber:15},void 0),x&&t.jsxDEV("div",{className:"alert-error",children:x},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:327,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:286,columnNumber:11},void 0):t.jsxDEV(t.Fragment,{children:[H&&t.jsxDEV("div",{className:"badge-primary p-4 rounded-lg mb-6",children:t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:H.circleName},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:339,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-sm opacity-80",children:"Photo Circle"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:340,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:338,columnNumber:19},void 0),t.jsxDEV("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ee(H.role)}`,children:z(H.role)},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:342,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:337,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:336,columnNumber:15},void 0),t.jsxDEV("form",{onSubmit:O,className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"fullName",className:"form-label",children:"Full Name"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:351,columnNumber:13},void 0),t.jsxDEV("input",{id:"fullName",type:"text",value:d,onChange:D=>A(D.target.value),required:!0,className:"input placeholder-muted",placeholder:"Your name"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:354,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:350,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"email",className:"form-label",children:"Email Address"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:366,columnNumber:13},void 0),t.jsxDEV("input",{id:"email",type:"email",value:l,onChange:D=>u(D.target.value),required:!0,className:"input placeholder-muted disabled:input-disabled",placeholder:"your@email.com",disabled:!!n},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:369,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:365,columnNumber:11},void 0),x&&t.jsxDEV("div",{className:"alert-error",children:x},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:382,columnNumber:13},void 0),t.jsxDEV("button",{type:"submit",disabled:b||!d||!l,className:"w-full btn-primary py-3 flex items-center justify-center gap-2",children:b?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[t.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:395,columnNumber:19},void 0),t.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:396,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:394,columnNumber:17},void 0),"Creating account..."]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:393,columnNumber:15},void 0):"Create Account"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:387,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:349,columnNumber:13},void 0),t.jsxDEV("div",{className:"mt-6 text-center text-sm text-theme-secondary",children:t.jsxDEV("p",{children:["Already have an account?"," ",t.jsxDEV("a",{href:r?`/login?redirect=/view-circle/${r}`:"/login",className:"link-primary underline",children:"Sign in"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:409,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:407,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:406,columnNumber:13},void 0),t.jsxDEV("div",{className:"mt-4 p-3 bg-gray-100 dark:bg-gray-800 rounded text-xs text-gray-600 dark:text-gray-400",children:[t.jsxDEV("p",{children:[t.jsxDEV("strong",{children:"Device:"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:420,columnNumber:18},void 0)," ",L?" Mobile":" Desktop"]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:420,columnNumber:15},void 0),t.jsxDEV("p",{className:"mt-1 break-all",children:[t.jsxDEV("strong",{children:"UA:"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:421,columnNumber:45},void 0)," ",J.substring(0,100),"..."]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:421,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:419,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:333,columnNumber:11},void 0),V.length>0&&t.jsxDEV("div",{className:"mt-4 p-3 bg-black text-green-400 rounded text-xs font-mono max-h-40 overflow-y-auto",children:[t.jsxDEV("p",{className:"text-white mb-1 font-bold",children:"Debug Log:"},void 0,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:429,columnNumber:13},void 0),V.map((D,R)=>t.jsxDEV("p",{className:"break-all",children:D},R,!1,{fileName:"/app/src/components/Signup.tsx",lineNumber:431,columnNumber:15},void 0))]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:428,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:264,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/Signup.tsx",lineNumber:258,columnNumber:5},void 0)},iG=()=>{Ln();const[i,r]=h.useState(!1),[n,s]=h.useState(null),[l,u]=h.useState(""),[d,A]=h.useState("");h.useEffect(()=>{const p=sessionStorage.getItem("signupSuccess");if(p){const x=JSON.parse(p);u(x.fullName||""),A(x.circleName||"")}},[]);const b=async()=>{r(!0),s(null);try{const p=sessionStorage.getItem("signupSuccess");if(!p){s("Session expired. Please sign up again."),r(!1);return}const x=JSON.parse(p),{data:N,error:v}=await Ge.auth.signInWithPassword({email:x.email,password:x.tempPassword});if(v){console.error("Sign in failed",v),s("Failed to sign in. Please try logging in manually."),r(!1);return}N.session&&N.user&&(console.log("Successfully signed in"),sessionStorage.removeItem("signupSuccess"),window.location.href=x.redirectPath||"/admin")}catch(p){console.error("Error during sign in",p),s("An unexpected error occurred."),r(!1)}};return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-6",children:""},void 0,!1,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:69,columnNumber:9},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Account Created!"},void 0,!1,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:70,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-4",children:["Welcome to Kizu",l?`, ${l}`:"","! Your account has been verified and you're all set."]},void 0,!0,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:71,columnNumber:9},void 0),d&&t.jsxDEV("p",{className:"text-gray-600 mb-4",children:["You've been added to ",t.jsxDEV("strong",{children:d},void 0,!1,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:76,columnNumber:34},void 0),"."]},void 0,!0,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:75,columnNumber:11},void 0),n&&t.jsxDEV("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md mb-4",children:n},void 0,!1,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:81,columnNumber:11},void 0),t.jsxDEV("button",{onClick:b,disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white font-bold py-3 px-4 rounded-md transition-colors",children:i?"Signing in...":"OK"},void 0,!1,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:86,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:68,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/SignupSuccess.tsx",lineNumber:67,columnNumber:5},void 0)},oG=()=>{const[i,r]=h.useState("Processing authentication..."),[n,s]=h.useState(null),l=ua(),[u]=Ln();return h.useEffect(()=>{(async()=>{try{console.log("Auth callback initiated"),console.log("URL search params:",window.location.search),console.log("URL hash:",window.location.hash);const A=new URLSearchParams(window.location.hash.substring(1)),b=Object.fromEntries(u.entries());console.log("Hash params:",Object.fromEntries(A.entries())),console.log("Search params:",b);const p=A.get("access_token")||u.get("access_token"),x=A.get("refresh_token")||u.get("refresh_token"),N=A.get("token_type")||u.get("token_type"),v=A.get("error")||u.get("error"),w=A.get("error_description")||u.get("error_description");if(v){console.error("Auth callback error:",v,w);let H=w||v;v==="otp_expired"||w!=null&&w.includes("expired")?H="This link has expired. Please request a new one.":v==="access_denied"&&(H="Access was denied. Please try again."),s(H),r("Authentication failed");const te=u.get("invite"),T=te?`/signup?invite=${te}`:"/login";setTimeout(()=>l(T),3e3);return}if(!p){console.warn("No access token found in callback URL"),s("No authentication tokens found in URL"),r("Authentication failed"),setTimeout(()=>l("/login"),3e3);return}r("Setting up session..."),console.log("Setting up session with tokens");const{data:E,error:F}=await Ge.auth.setSession({access_token:p,refresh_token:x||""});if(F){console.error("Session setup error:",F),s(`Failed to setup session: ${F.message}`),r("Session setup failed"),setTimeout(()=>l("/login"),3e3);return}console.log("Session established:",E),r("Authentication successful! Redirecting...");const V=u.get("next"),G=u.get("invite");let Z="/admin";V?(Z=V,console.log("Using next parameter for redirect:",Z)):G&&(Z=`/view-circle/${G}`),console.log("Redirecting to:",Z),setTimeout(()=>{l(Z,{replace:!0})},1e3)}catch(A){console.error("Auth callback error:",A),s(A instanceof Error?A.message:"Unknown authentication error"),r("Authentication failed"),setTimeout(()=>l("/login"),3e3)}})()},[l,u]),t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white max-w-md w-full mx-4",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:118,columnNumber:9},void 0),t.jsxDEV("h2",{className:"text-2xl font-bold mb-4",children:"Kizu Authentication"},void 0,!1,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:119,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-lg mb-4",children:i},void 0,!1,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:120,columnNumber:9},void 0),n?t.jsxDEV("div",{className:"bg-red-500/20 border border-red-300 rounded-lg p-4 mb-4",children:[t.jsxDEV("p",{className:"text-red-100",children:n},void 0,!1,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:124,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-sm text-red-200 mt-2",children:"Redirecting to login page..."},void 0,!1,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:125,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:123,columnNumber:11},void 0):t.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"},void 0,!1,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:130,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:117,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/AuthCallback.tsx",lineNumber:116,columnNumber:5},void 0)},sG=()=>{const[i]=Ln(),r=ua(),[n,s]=h.useState("verifying"),[l,u]=h.useState(null),[d,A]=h.useState(5);return h.useEffect(()=>{(async()=>{const p=i.get("token"),x=i.get("invite");if(!p||!x){s("error"),u({success:!1,message:"Invalid verification link",error:"Missing token or invite ID"});return}try{const E=await(await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/verify-registration?token=${p}&invite=${x}`,{method:"GET",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4","Content-Type":"application/json"}})).json();E.success?(s("success"),u(E)):(s("error"),u({success:!1,message:E.error||"Verification failed",error:E.error}))}catch(N){s("error"),u({success:!1,message:"Failed to verify registration",error:N instanceof Error?N.message:"Unknown error"})}})()},[i]),h.useEffect(()=>{if(n==="success"&&(l!=null&&l.redirectUrl)){const b=setInterval(()=>{A(p=>{if(p<=1){clearInterval(b);const x=new URL(l.redirectUrl);return r(`${x.pathname}${x.search}`),0}return p-1})},1e3);return()=>clearInterval(b)}},[n,l,r]),n==="verifying"?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-6"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:100,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Verifying Your Account"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:101,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600",children:"Please wait while we complete your registration..."},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:102,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:99,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:98,columnNumber:7},void 0):n==="success"?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:112,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Welcome to Kizu!"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:113,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-4",children:"Your account has been verified successfully."},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:114,columnNumber:11},void 0),(l==null?void 0:l.user)&&t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-left",children:[t.jsxDEV("p",{className:"text-sm text-gray-600",children:[t.jsxDEV("strong",{children:"Name:"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:121,columnNumber:17},void 0)," ",l.user.firstName," ",l.user.lastName]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:120,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-sm text-gray-600",children:[t.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:124,columnNumber:17},void 0)," ",l.user.email]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:123,columnNumber:15},void 0),l.circle&&t.jsxDEV("p",{className:"text-sm text-gray-600",children:[t.jsxDEV("strong",{children:"Circle:"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:128,columnNumber:19},void 0)," ",l.circle.name]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:127,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:119,columnNumber:13},void 0),t.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:t.jsxDEV("p",{className:"text-blue-800",children:["Redirecting to sign in in ",t.jsxDEV("strong",{children:d},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:136,columnNumber:41},void 0)," seconds..."]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:135,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:134,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>{if(l!=null&&l.redirectUrl){const b=new URL(l.redirectUrl);r(`${b.pathname}${b.search}`)}},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Sign In Now"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:140,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:111,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:110,columnNumber:7},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:160,columnNumber:9},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Verification Failed"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:161,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-4",children:(l==null?void 0:l.message)||"We couldn't verify your account."},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:162,columnNumber:9},void 0),(l==null?void 0:l.error)&&t.jsxDEV("div",{className:"bg-red-50 rounded-lg p-4 mb-6 text-left",children:t.jsxDEV("p",{className:"text-sm text-red-800",children:l.error},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:168,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:167,columnNumber:11},void 0),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Try Again"},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:173,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:"If the problem persists, please contact support."},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:179,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:172,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:159,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/VerifyRegistration.tsx",lineNumber:158,columnNumber:5},void 0)},lG=()=>{var X,C;const i=ua(),{signOut:r}=Xa(),[n,s]=h.useState(null),[l,u]=h.useState(null),[d,A]=h.useState([]),[b,p]=h.useState([]),[x,N]=h.useState(!0),[v,w]=h.useState(null),[E,F]=h.useState(null),[V,G]=h.useState(null),[Z,H]=h.useState(null),[te,T]=h.useState(new Set),[M,q]=h.useState(null),[$,Ae]=h.useState("home"),L=()=>{if(!l)return"";const I=new Date(l),P=new Date().getTime()-I.getTime(),U=Math.floor(P/864e5),K=Math.floor(U/30),re=Math.floor(U/365);return re>0?`${re} year${re>1?"s":""}`:K>0?`${K} month${K>1?"s":""}`:U>0?`${U} day${U>1?"s":""}`:"today"};h.useEffect(()=>{J()},[]);const J=async()=>{var I,S,P;try{const{data:{session:U},error:K}=await Ge.auth.getSession();if(K||!U){i("/login");return}const re=U.user.id;u(U.user.created_at);try{const ke=await br.getSubscriptionStatus();if(ke.success&&ke.data){const{subscription:Ne,plan:je}=ke.data;let Be="";if(Ne.status==="trialing"&&Ne.trial_end){const De=Math.ceil((new Date(Ne.trial_end).getTime()-Date.now())/864e5);Be=`${De} day${De!==1?"s":""} remaining`}else if(Ne.status==="active"&&Ne.current_period_end)Be=`Renews ${new Date(Ne.current_period_end).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`;else if(Ne.status==="cancelled"&&Ne.current_period_end){const De=Math.ceil((new Date(Ne.current_period_end).getTime()-Date.now())/864e5);Be=`Expires in ${De} day${De!==1?"s":""}`}q({planName:Ne.status==="free"?"Guest":Ne.status==="trialing"?`${je.display_name} Trial`:je.display_name,expiry:Be})}}catch(ke){console.error("Error fetching subscription:",ke)}const{data:se,error:Ee}=await Ge.from("profiles").select("id, full_name, email, avatar_url").eq("id",re).single();Ee?console.error("Profile error:",Ee):s(se),!se&&U.user&&s({id:U.user.id,full_name:((I=U.user.user_metadata)==null?void 0:I.full_name)||"User",email:U.user.email||""});const{data:ye,error:W}=await Ge.from("circle_users").select(`
          id,
          role,
          circle_id,
          circles (
            id,
            name,
            description
          )
        `).eq("user_id",re).eq("status","accepted");W&&console.error("Circle users error:",W);const he=[];for(const ke of ye||[]){const Ne=ke.circles;if(Ne){const{count:je}=await Ge.from("album_shares").select("*",{count:"exact",head:!0}).eq("circle_id",Ne.id).eq("is_active",!0);he.push({id:Ne.id,name:Ne.name,description:Ne.description,role:ke.role,album_count:je||0,photo_count:0})}}A(he);const oe=await br.getAlbums();if(oe.success&&oe.data){const ke=[];for(const Ne of oe.data.albums||[]){let je="",Be=Ne.isOwner?"Owned":"Shared";Ne.shared_via&&Ne.shared_via.length>0?(je=Ne.shared_via[0].circle_id,Be=Ne.shared_via[0].circle_name):Ne.album_shares&&Ne.album_shares.length>0&&(je=Ne.album_shares[0].circle_id,Be=((S=Ne.album_shares[0].circles)==null?void 0:S.name)||"Shared"),ke.push({id:Ne.id,title:Ne.title,description:Ne.description,keyphoto:Ne.keyphoto,keyphoto_thumbnail:Ne.keyphoto_thumbnail,photo_count:((P=Ne.album_assets)==null?void 0:P.length)||0,circle_id:je,circle_name:Be,isOwner:Ne.isOwner,album_assets:(Ne.album_assets||[]).map(De=>({id:De.id,asset_id:De.asset_id,asset_uri:De.asset_uri,asset_type:De.asset_type,thumbnail_uri:De.thumbnail_uri,web_uri:De.web_uri}))})}p(ke)}else console.error("Failed to load albums:",oe.error);w(null)}catch(U){console.error("Error loading user data:",U),w("Failed to load your data")}finally{N(!1)}},j=async()=>{console.log(" LOGOUT: Sign Out button clicked");try{await r(),console.log(" LOGOUT: signOut() completed, navigating to /login"),i("/login")}catch(I){console.error(" LOGOUT ERROR:",I),i("/login")}},O=I=>{T(S=>new Set([...S,I]))},Y=I=>I?I.startsWith("http://")||I.startsWith("https://")||I.startsWith("data:"):!1,ie=I=>{if(!I)return!1;const S=I.toLowerCase();return S.endsWith(".heic")||S.endsWith(".heif")},z=I=>!!(I&&I.trim()!==""),ee=(I,S)=>S!=null&&S.webUri&&Y(S.webUri)&&!ie(S.webUri)?S.webUri:I&&Y(I)&&!ie(I)?I:S!=null&&S.thumbnailUri&&S.thumbnailUri.startsWith("data:")||S!=null&&S.thumbnailUri&&Y(S.thumbnailUri)&&!ie(S.thumbnailUri)?S.thumbnailUri:null,D=I=>{var S;if((S=I.keyphoto_thumbnail)!=null&&S.startsWith("data:")||I.keyphoto_thumbnail&&Y(I.keyphoto_thumbnail)&&!ie(I.keyphoto_thumbnail))return I.keyphoto_thumbnail;if(z(I.keyphoto)&&Y(I.keyphoto)&&!ie(I.keyphoto))return I.keyphoto;if(I.album_assets&&I.album_assets.length>0){const P=I.album_assets.filter(U=>{var K;return!!((K=U.thumbnail_uri)!=null&&K.startsWith("data:")||U.web_uri&&Y(U.web_uri)&&!ie(U.web_uri)||U.thumbnail_uri&&Y(U.thumbnail_uri)&&!ie(U.thumbnail_uri)||U.asset_uri&&Y(U.asset_uri)&&!ie(U.asset_uri))});if(P.length>0){const K=P.find(re=>re.asset_type!=="video")||P[0];return ee(K.asset_uri,{webUri:K.web_uri,thumbnailUri:K.thumbnail_uri})}}return null},R=E?b.filter(I=>I.circle_id===E):b;return x?t.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:363,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600",children:"Loading your dashboard..."},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:364,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:362,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:361,columnNumber:7},void 0):v?t.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:374,columnNumber:11},void 0),t.jsxDEV("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Error Loading Dashboard"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:375,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-4",children:v},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:376,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Retry"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:377,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:373,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:372,columnNumber:7},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[t.jsxDEV("header",{className:"bg-white shadow-sm",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:394,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-xl font-bold text-gray-800",children:"Kizu"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:395,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:393,columnNumber:11},void 0),t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"text-right",children:[t.jsxDEV("p",{className:"font-medium text-gray-800",children:n==null?void 0:n.full_name},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:399,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:n==null?void 0:n.email},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:402,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:398,columnNumber:13},void 0),t.jsxDEV("button",{onClick:j,className:"text-gray-600 hover:text-gray-800 px-3 py-2 rounded-lg hover:bg-gray-100",children:"Sign Out"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:404,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:397,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:392,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:391,columnNumber:7},void 0),t.jsxDEV("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome back, ",(X=n==null?void 0:n.full_name)==null?void 0:X.split(" ")[0],"!"]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:417,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mt-1",children:["Member for ",L(),M&&t.jsxDEV(t.Fragment,{children:["  ",t.jsxDEV("span",{className:"font-medium",children:M.planName},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:425,columnNumber:17},void 0),M.expiry&&t.jsxDEV("span",{className:"ml-1",children:["(",M.expiry,")"]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:427,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:423,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:420,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:416,columnNumber:9},void 0),t.jsxDEV("div",{className:"border-b border-gray-200 mb-6",children:t.jsxDEV("nav",{className:"-mb-px flex space-x-8",children:[t.jsxDEV("button",{onClick:()=>Ae("home"),className:`py-4 px-1 border-b-2 font-medium text-sm ${$==="home"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.jsxDEV("span",{className:"flex items-center gap-2",children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:447,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:446,columnNumber:17},void 0),"Home"]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:445,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:437,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>Ae("media"),className:`py-4 px-1 border-b-2 font-medium text-sm ${$==="media"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.jsxDEV("span",{className:"flex items-center gap-2",children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:462,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:461,columnNumber:17},void 0),"Media"]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:460,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:452,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:436,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:435,columnNumber:9},void 0),$==="media"?t.jsxDEV(tk,{},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:472,columnNumber:11},void 0):t.jsxDEV(t.Fragment,{children:[t.jsxDEV("section",{className:"mb-10",children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Your Circles"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:477,columnNumber:11},void 0),d.length===0?t.jsxDEV("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[t.jsxDEV("div",{className:"text-5xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:481,columnNumber:15},void 0),t.jsxDEV("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:"No Circles Yet"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:482,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-gray-500",children:"You'll see circles here when you're invited to join one."},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:483,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:480,columnNumber:13},void 0):t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(I=>t.jsxDEV("div",{onClick:()=>F(E===I.id?null:I.id),className:`bg-white rounded-xl shadow-sm p-6 cursor-pointer transition-all hover:shadow-md ${E===I.id?"ring-2 ring-blue-500":""}`,children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h4",{className:"font-semibold text-gray-800",children:I.name},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:499,columnNumber:23},void 0),I.description&&t.jsxDEV("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:I.description},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:501,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:498,columnNumber:21},void 0),t.jsxDEV("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full capitalize",children:I.role.replace("_"," ")},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:506,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:497,columnNumber:19},void 0),t.jsxDEV("div",{className:"mt-4 flex gap-4 text-sm text-gray-500",children:t.jsxDEV("span",{children:[" ",I.album_count," albums"]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:511,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:510,columnNumber:19},void 0)]},I.id,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:490,columnNumber:17},void 0))},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:488,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:476,columnNumber:9},void 0),t.jsxDEV("section",{children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[t.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:E?`Albums in ${(C=d.find(I=>I.id===E))==null?void 0:C.name}`:"All Albums"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:522,columnNumber:13},void 0),E&&t.jsxDEV("button",{onClick:()=>F(null),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Show all albums"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:528,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:521,columnNumber:11},void 0),R.length===0?t.jsxDEV("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[t.jsxDEV("div",{className:"text-5xl mb-4 opacity-50",children:""},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:539,columnNumber:15},void 0),t.jsxDEV("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:"No Albums Yet"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:540,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-gray-500",children:"Albums shared with your circles will appear here."},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:541,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:538,columnNumber:13},void 0):t.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:R.map(I=>{const S=D(I);return t.jsxDEV("div",{className:"cursor-pointer group",onClick:()=>G(I),children:[t.jsxDEV("div",{className:"relative aspect-square bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl overflow-hidden shadow-lg group-hover:shadow-xl transition-all group-hover:scale-[1.02] flex items-center justify-center",children:[t.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"w-32 h-32 md:w-40 md:h-40",children:[t.jsxDEV("path",{fill:"#FFA000",d:"M40 12H22l-4-4H8c-2.2 0-4 1.8-4 4v8h40v-4c0-2.2-1.8-4-4-4z"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:563,columnNumber:25},void 0),t.jsxDEV("path",{fill:"#FFCA28",d:"M40 12H8c-2.2 0-4 1.8-4 4v20c0 2.2 1.8 4 4 4h32c2.2 0 4-1.8 4-4V16c0-2.2-1.8-4-4-4z"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:564,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:558,columnNumber:23},void 0),S&&!te.has(I.id)?t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center pt-4",children:t.jsxDEV("img",{src:S,alt:I.title,className:"w-16 h-16 md:w-20 md:h-20 object-cover rounded-md border-2 border-white shadow-md",loading:"lazy",crossOrigin:"anonymous",onError:()=>O(I.id)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:569,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:568,columnNumber:25},void 0):t.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center pt-4",children:t.jsxDEV("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-amber-100 rounded-md border-2 border-white shadow-md flex items-center justify-center",children:t.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:581,columnNumber:29},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:580,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:579,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:556,columnNumber:21},void 0),t.jsxDEV("div",{className:"mt-3",children:[t.jsxDEV("h4",{className:"font-semibold text-gray-800 truncate",children:I.title},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:589,columnNumber:23},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:[I.photo_count," photos  ",I.circle_name]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:590,columnNumber:23},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:588,columnNumber:21},void 0)]},I.id,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:550,columnNumber:19},void 0)})},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:546,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:520,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:474,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:414,columnNumber:7},void 0),t.jsxDEV("footer",{className:"mt-auto py-8 text-center border-t bg-white",children:[t.jsxDEV("p",{className:"text-gray-600",children:["Powered by ",t.jsxDEV("span",{className:"font-bold text-blue-600",children:"Kizu"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:607,columnNumber:22},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:606,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-gray-500 text-sm",children:"Secure photo sharing for families and teams"},void 0,!1,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:609,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:605,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/Dashboard.tsx",lineNumber:389,columnNumber:5},void 0)},cG=()=>{const{token:i}=hs(),[r,n]=h.useState("loading"),[s,l]=h.useState(null),[u,d]=h.useState(null),[A,b]=h.useState(""),[p,x]=h.useState(""),[N,v]=h.useState(!1),[w,E]=h.useState(null);h.useEffect(()=>{F()},[i]);const F=async()=>{if(!i){l("Invalid invitation link"),n("error");return}try{const te=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/picture-frame-invite-api?token=${i}`,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}),T=await te.json();if(console.log("Invitation API result:",T),!te.ok||!T.success){l(T.error||"This invitation link is invalid or has expired."),n("error");return}const M=T.invitation;d({circleName:M.circle_name||"Family Circle",inviterName:M.inviter_name||"Someone",albumCount:M.album_count||0,email:M.prefilled_email||""}),M.prefilled_email&&x(M.prefilled_email),M.prefilled_name&&b(M.prefilled_name),n("register")}catch(Z){console.error("Error loading invitation:",Z),l("Failed to load invitation"),n("error")}},V=async Z=>{if(Z.preventDefault(),!(!A.trim()||!p.trim())){v(!0),l(null);try{const T=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/picture-frame-verify-api?action=activate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({qr_token:i,full_name:A.trim(),email:p.trim().toLowerCase()})}),M=await T.json();if(!T.ok){l(M.error||"Failed to activate picture frame"),v(!1);return}E(M.app_login_token),n("success")}catch{l("Something went wrong. Please try again.")}finally{v(!1)}}},G=w?`kizu://frame-login/${w}`:null;return r==="loading"?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:137,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-lg",children:"Loading invitation..."},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:138,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:136,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:135,columnNumber:7},void 0):r==="error"?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:149,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Unable to Load Invitation"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:150,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:s},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:151,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:"Please ask the person who invited you for a new link."},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:152,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:148,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:147,columnNumber:7},void 0):r==="register"?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[t.jsxDEV("div",{className:"text-center mb-6",children:[t.jsxDEV("div",{className:"text-5xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:164,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800",children:"Picture Frame Setup"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:165,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-600 mt-2",children:[t.jsxDEV("strong",{children:u==null?void 0:u.inviterName},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:167,columnNumber:15},void 0)," invited you to view photos from"," ",t.jsxDEV("strong",{children:u==null?void 0:u.circleName},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:168,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:166,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:163,columnNumber:11},void 0),t.jsxDEV("form",{onSubmit:V,className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:174,columnNumber:15},void 0),t.jsxDEV("input",{type:"text",value:A,onChange:Z=>b(Z.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg text-gray-900 placeholder-gray-400 bg-white",required:!0,autoFocus:!0},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:175,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:173,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:187,columnNumber:15},void 0),t.jsxDEV("input",{type:"email",value:p,onChange:Z=>x(Z.target.value),placeholder:"your.email@example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg text-gray-900 placeholder-gray-400 bg-white",required:!0},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:188,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:186,columnNumber:13},void 0),s&&t.jsxDEV("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm",children:s},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:199,columnNumber:15},void 0),t.jsxDEV("button",{type:"submit",disabled:N||!A.trim()||!p.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Setting up...":"Continue"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:202,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:172,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:162,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:161,columnNumber:7},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:219,columnNumber:9},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"You're All Set!"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:220,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Your picture frame is ready. Choose how you'd like to view it."},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:221,columnNumber:9},void 0),t.jsxDEV("div",{className:"space-y-4",children:[w&&t.jsxDEV("a",{href:`/frame?token=${w}`,className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:" Use This Browser as Frame"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:228,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-gray-400 text-sm",children:" or use a mobile device "},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:236,columnNumber:11},void 0),t.jsxDEV("a",{href:"https://play.google.com/store/apps/details?id=com.knox.mediavault",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-gray-800 hover:bg-gray-900 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Download from Play Store"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:238,columnNumber:11},void 0),G&&t.jsxDEV("a",{href:G,className:"block w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Open Kizu App"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:225,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-xs text-gray-400 mt-6",children:"Use browser for computers/TVs, or the app for tablets/phones"},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:257,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:218,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/FrameSetup.tsx",lineNumber:217,columnNumber:5},void 0)},W8={slideshow_interval:30,transition:"fade",display_order:"random",show_date:!0,show_location:!0},Ri=[5,10,15,20,30,45,60,90,120,180,240,300],G8=[{value:"random",label:"Randomize All",icon:""},{value:"by_album",label:"By Album",icon:""},{value:"by_album_random",label:"By Album Random",icon:""},{value:"date_newest",label:"Newest First",icon:""},{value:"date_oldest",label:"Oldest First",icon:""}],uG=i=>{if(i>=60){const r=Math.floor(i/60),n=i%60;return n===0?`${r} min`:`${r}m ${n}s`}return`${i}s`},dG=()=>{const[i]=Ln(),r=ua(),{session:n,userProfile:s,loading:l}=Xa(),u=i.get("token"),[d,A]=h.useState("loading"),[b,p]=h.useState(null),[x,N]=h.useState(null),[v,w]=h.useState([]),[E,F]=h.useState(0),[V,G]=h.useState(W8),[Z,H]=h.useState(!1),[te,T]=h.useState(!0),[M,q]=h.useState(!1),[$,Ae]=h.useState(null),[L,J]=h.useState(null),[j,O]=h.useState([]),[Y,ie]=h.useState(!1);h.useEffect(()=>{const W=localStorage.getItem("kizu_frame_settings");if(W)try{G({...W8,...JSON.parse(W)})}catch(he){console.error("Failed to parse stored settings:",he)}},[]);const z=W=>{G(he=>{const oe={...he,...W};return localStorage.setItem("kizu_frame_settings",JSON.stringify(oe)),oe})},ee=h.useRef(null),D=h.useRef(null),R="https://quqlovduekdasldqadge.supabase.co",X="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4";h.useEffect(()=>{if(l)return;if(u){P();return}const W=localStorage.getItem("kizu_frame_device_token");if(W){Ae(W),A("authenticating");return}if(n!=null&&n.access_token){ie(!0),J(n.access_token),C();return}p("Please log in or set up your frame first."),A("error")},[u,l,n]);const C=async()=>{try{const W=await fetch(`${R}/functions/v1/picture-frame-content-api?action=list_circles`,{headers:{Authorization:`Bearer ${n==null?void 0:n.access_token}`}}),he=await W.json();if(!W.ok||!he.success){console.error("Error loading circles:",he.error),p("Failed to load your circles"),A("error");return}const oe=he.circles||[];if(oe.length===0){p("You are not a member of any circles. Join a circle first."),A("error");return}if(oe.length===1){await I(oe[0]);return}O(oe),A("select_circle")}catch(W){console.error("Load circles error:",W),p("Failed to load circles"),A("error")}},I=async W=>{try{A("authenticating");const he=await fetch(`${R}/functions/v1/picture-frame-content-api?action=list_albums&circle_id=${W.id}`,{headers:{Authorization:`Bearer ${n==null?void 0:n.access_token}`}}),oe=await he.json();if(!he.ok||!oe.success){console.error("Error loading albums:",oe.error),p("Failed to load albums"),A("error");return}const ke=(oe.albums||[]).map(Ne=>Ne.id);N({deviceId:"web-browser",deviceName:"Web Browser",circleName:W.name,circleId:W.id,curatedAlbums:ke}),n!=null&&n.access_token&&ke.length>0?await S(n.access_token,ke):(w([]),A("ready"))}catch(he){console.error("Select circle error:",he),p("Failed to select circle"),A("error")}},S=async(W,he)=>{try{const oe=await fetch(`${R}/functions/v1/picture-frame-content-api?album_ids=${he.join(",")}`,{headers:{Authorization:`Bearer ${W}`}}),ke=await oe.json();if(!oe.ok||!ke.success){console.error("Error loading assets:",ke.error),p("Failed to load photos"),A("error");return}const je=[...(ke.assets||[]).map(Be=>({id:Be.id,web_uri:Be.web_uri||Be.path,thumbnail_uri:Be.thumbnail_uri,media_type:Be.media_type||"photo",created_at:Be.created_at,location_name:Be.location_name}))].sort(()=>Math.random()-.5);w(je),A("ready")}catch(oe){console.error("Load assets error:",oe),p("Failed to load photos"),A("error")}};h.useEffect(()=>{$&&d==="authenticating"&&U()},[$,d]),h.useEffect(()=>(te&&!M&&(ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{T(!1)},5e3)),()=>{ee.current&&clearTimeout(ee.current)}),[te,M]),h.useEffect(()=>{if(D.current&&(clearTimeout(D.current),D.current=null),Z||v.length===0||d!=="ready")return;const W=(V.slideshow_interval||30)*1e3;return D.current=setTimeout(()=>{F(he=>(he+1)%v.length)},W),()=>{D.current&&clearTimeout(D.current)}},[E,Z,v.length,V.slideshow_interval,d]);const P=async()=>{try{const W=await fetch(`${R}/functions/v1/picture-frame-auth?action=exchange-app-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({app_login_token:u})}),he=await W.json();if(!W.ok||!he.success){p(he.error||"Failed to authenticate frame"),A("error");return}localStorage.setItem("kizu_frame_device_token",he.device_token),localStorage.setItem("kizu_frame_info",JSON.stringify({deviceId:he.device.id,deviceName:he.device.name,circleName:he.circle.name,circleId:he.circle.id,curatedAlbums:he.curated_albums||[]})),Ae(he.device_token),J(he.access_token),N({deviceId:he.device.id,deviceName:he.device.name,circleName:he.circle.name,circleId:he.circle.id,curatedAlbums:he.curated_albums||[]}),r("/frame",{replace:!0}),A("authenticating")}catch(W){console.error("Exchange token error:",W),p("Failed to connect to server"),A("error")}},U=async()=>{var W;try{const he=await fetch(`${R}/functions/v1/picture-frame-auth?action=authenticate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${X}`},body:JSON.stringify({device_token:$})}),oe=await he.json();if(!he.ok||!oe.success){localStorage.removeItem("kizu_frame_device_token"),localStorage.removeItem("kizu_frame_info"),p(oe.error||"Frame authentication failed"),A("error");return}const ke=((W=oe.session)==null?void 0:W.access_token)||oe.access_token;if(!ke){console.error("No access token received from authentication"),p("Authentication failed - please try setting up the frame again"),A("error");return}if(J(ke),N({deviceId:oe.device.id,deviceName:oe.device.name,circleName:oe.circle.name,circleId:oe.circle.id,curatedAlbums:oe.curated_albums||[]}),!x){const Ne=localStorage.getItem("kizu_frame_info");Ne&&N(JSON.parse(Ne))}await K(ke,oe.curated_albums||[])}catch(he){console.error("Authenticate error:",he),p("Failed to authenticate frame"),A("error")}},K=async(W,he)=>{try{const oe=new URLSearchParams;he.length>0&&oe.set("album_ids",he.join(","));const ke=await fetch(`${R}/functions/v1/picture-frame-content-api?${oe.toString()}`,{headers:{Authorization:`Bearer ${W}`}});if(!ke.ok){const De=await ke.json();console.error("Failed to load assets:",De),p("Failed to load photos"),A("error");return}const Ne=await ke.json();if(!Ne.success||!Ne.assets){console.error("Invalid response from content API:",Ne),p("Failed to load photos"),A("error");return}const Be=[...Ne.assets.map(De=>({id:De.id,web_uri:De.web_uri||De.path,thumbnail_uri:De.thumbnail_uri,media_type:De.media_type||"photo",created_at:De.created_at,location_name:De.location_name}))].sort(()=>Math.random()-.5);w(Be),A("ready")}catch(oe){console.error("Load assets error:",oe),p("Failed to load photos"),A("error")}},re=h.useCallback(W=>{if(W.key==="Escape"&&M){q(!1);return}switch(W.key){case"ArrowRight":case" ":M||F(he=>(he+1)%v.length);break;case"ArrowLeft":M||F(he=>(he-1+v.length)%v.length);break;case"p":M||H(he=>!he);break;case"s":q(he=>!he);break;case"Escape":se();break}T(!0)},[v.length,M]);h.useEffect(()=>(window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)),[re]);const se=()=>{Y||(localStorage.removeItem("kizu_frame_device_token"),localStorage.removeItem("kizu_frame_info")),r("/admin")},Ee=async()=>{try{localStorage.removeItem("kizu_frame_device_token"),localStorage.removeItem("kizu_frame_info"),localStorage.removeItem("kizu_frame_settings");const{supabase:W}=await TE(async()=>{const{supabase:he}=await Promise.resolve().then(()=>WM);return{supabase:he}},[]);await W.auth.signOut(),r("/login")}catch(W){console.error("Logout error:",W),r("/login")}},ye=v[E];return d==="loading"||d==="authenticating"?t.jsxDEV("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center text-white",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-white mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:562,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-xl",children:d==="loading"?"Initializing...":"Loading photos..."},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:563,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:561,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:560,columnNumber:7},void 0):d==="select_circle"?t.jsxDEV("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-zinc-900 rounded-2xl max-w-md w-full mx-4 p-6",children:[t.jsxDEV("div",{className:"text-center mb-6",children:[t.jsxDEV("span",{className:"text-5xl mb-4 block",children:""},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:575,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-white mb-2",children:"Picture Frame Mode"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:576,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-zinc-400",children:"Select a circle to display photos from"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:577,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:574,columnNumber:11},void 0),t.jsxDEV("div",{className:"space-y-3",children:j.map(W=>t.jsxDEV("button",{onClick:()=>I(W),className:"w-full flex items-center gap-4 p-4 bg-zinc-800 hover:bg-zinc-700 rounded-xl transition-colors text-left",children:[t.jsxDEV("span",{className:"text-3xl",children:""},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:587,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-white font-semibold",children:W.name},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:589,columnNumber:19},void 0),t.jsxDEV("p",{className:"text-zinc-400 text-sm",children:"View all photos"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:590,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:588,columnNumber:17},void 0),t.jsxDEV("svg",{className:"w-5 h-5 text-zinc-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:593,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:592,columnNumber:17},void 0)]},W.id,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:582,columnNumber:15},void 0))},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:580,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>r(-1),className:"w-full mt-6 py-3 text-zinc-400 hover:text-white transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:599,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:573,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:572,columnNumber:7},void 0):d==="error"?t.jsxDEV("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-md text-center text-white",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:615,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold mb-4",children:"Frame Error"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:616,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-white/70 mb-6",children:b},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:617,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>r(n?"/admin":"/"),className:"bg-white/20 hover:bg-white/30 px-6 py-3 rounded-lg transition-colors",children:n?"Go Back":"Go Home"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:618,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:614,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:613,columnNumber:7},void 0):v.length===0?t.jsxDEV("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center text-white",children:[t.jsxDEV("div",{className:"text-8xl mb-4 opacity-30",children:""},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:634,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-3xl font-bold mb-2",children:"No Photos Yet"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:635,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-white/60 mb-4",children:"Photos shared with this frame will appear here."},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:636,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-white/40 text-sm",children:["Connected to ",(x==null?void 0:x.circleName)||"your family"]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:639,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:633,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:632,columnNumber:7},void 0):t.jsxDEV("div",{className:"fixed inset-0 bg-black cursor-none",onClick:()=>T(!0),onMouseMove:()=>T(!0),children:[t.jsxDEV("style",{children:`
        @keyframes kenburns-1 {
          0% { transform: scale(1.0) translate(0%, 0%); }
          100% { transform: scale(1.35) translate(-5%, -3%); }
        }
        @keyframes kenburns-2 {
          0% { transform: scale(1.35) translate(5%, 0%); }
          100% { transform: scale(1.0) translate(-3%, 5%); }
        }
        @keyframes kenburns-3 {
          0% { transform: scale(1.0) translate(-3%, 4%); }
          100% { transform: scale(1.3) translate(5%, -5%); }
        }
        @keyframes kenburns-4 {
          0% { transform: scale(1.25) translate(0%, -4%); }
          100% { transform: scale(1.0) translate(-5%, 3%); }
        }
        .ken-burns-effect {
          animation-timing-function: ease-in-out;
          animation-fill-mode: forwards;
        }
      `},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:655,columnNumber:7},void 0),t.jsxDEV("div",{className:`absolute inset-0 flex items-center justify-center overflow-hidden ${V.transition==="fade"||V.transition==="ken_burns"?"transition-opacity duration-1000":""}`,children:(ye==null?void 0:ye.media_type)==="video"?t.jsxDEV("video",{src:ye.web_uri,className:"max-w-full max-h-full object-contain",autoPlay:!0,muted:!0,onEnded:()=>F(W=>(W+1)%v.length)},ye.id,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:687,columnNumber:11},void 0):t.jsxDEV("img",{src:ye==null?void 0:ye.web_uri,alt:"",className:`max-w-full max-h-full object-contain ${V.transition==="ken_burns"?"ken-burns-effect":""}`,style:V.transition==="ken_burns"?{animationName:`kenburns-${E%4+1}`,animationDuration:`${V.slideshow_interval}s`}:void 0},ye==null?void 0:ye.id,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:696,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:679,columnNumber:7},void 0),te&&ye&&t.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-8 pt-24",children:[V.show_date&&ye.created_at&&t.jsxDEV("p",{className:"text-white/80 text-lg",children:new Date(ye.created_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:715,columnNumber:13},void 0),V.show_location&&ye.location_name&&t.jsxDEV("p",{className:"text-white/60",children:ye.location_name},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:725,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:713,columnNumber:9},void 0),te&&t.jsxDEV("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-b from-black/80 to-transparent p-6",children:t.jsxDEV("div",{className:"flex justify-between items-center",children:[t.jsxDEV("div",{className:"text-white",children:[t.jsxDEV("h1",{className:"text-xl font-semibold",children:x==null?void 0:x.circleName},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:735,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-white/60 text-sm",children:[E+1," / ",v.length]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:736,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:734,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex gap-4",children:[t.jsxDEV("button",{onClick:()=>H(W=>!W),className:"bg-white/20 hover:bg-white/30 p-3 rounded-full transition-colors",title:Z?"Play":"Pause",children:Z?t.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{d:"M8 5v14l11-7z"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:748,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:747,columnNumber:19},void 0):t.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:752,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:751,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:741,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>q(!0),className:"bg-white/20 hover:bg-white/30 p-3 rounded-full transition-colors",title:"Settings",children:t.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:762,columnNumber:19},void 0),t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:763,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:761,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:756,columnNumber:15},void 0),t.jsxDEV("button",{onClick:se,className:"bg-white/20 hover:bg-white/30 p-3 rounded-full transition-colors",title:"Exit Frame Mode",children:t.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:772,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:771,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:766,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:740,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:733,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:732,columnNumber:9},void 0),t.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/20",children:t.jsxDEV("div",{className:"h-full bg-white/60 transition-all duration-300",style:{width:`${(E+1)/v.length*100}%`}},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:782,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:781,columnNumber:7},void 0),Z&&t.jsxDEV("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:t.jsxDEV("div",{className:"bg-black/60 rounded-full p-6",children:t.jsxDEV("svg",{className:"w-12 h-12 text-white/80",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:793,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:792,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:791,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:790,columnNumber:9},void 0),te&&!M&&t.jsxDEV("div",{className:"absolute bottom-8 right-8 text-white/40 text-xs",children:t.jsxDEV("p",{children:"  Navigate  Space/P Pause  S Settings  Esc Exit"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:802,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:801,columnNumber:9},void 0),M&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",onClick:W=>{W.target===W.currentTarget&&q(!1)},children:t.jsxDEV("div",{className:"bg-zinc-900 rounded-2xl max-w-md w-full mx-4 max-h-[85vh] overflow-hidden",children:[t.jsxDEV("div",{className:"flex justify-between items-center p-5 border-b border-zinc-700",children:[t.jsxDEV("h2",{className:"text-2xl font-semibold text-white",children:"Settings"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:817,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>q(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:t.jsxDEV("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:823,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:822,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:818,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:816,columnNumber:13},void 0),t.jsxDEV("div",{className:"p-5 overflow-y-auto max-h-[calc(85vh-80px)]",children:[x&&t.jsxDEV("div",{className:"flex items-center gap-3 bg-zinc-800 p-4 rounded-xl mb-6",children:[t.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:832,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"text-white font-semibold",children:x.circleName},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:834,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-zinc-400 text-sm",children:[x.curatedAlbums.length," albums"]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:835,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:833,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:831,columnNumber:17},void 0),t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("h3",{className:"text-zinc-400 text-sm font-semibold uppercase tracking-wider mb-3",children:"Slideshow"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:842,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[t.jsxDEV("span",{className:"text-white",children:"Duration"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:846,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex items-center bg-zinc-800 rounded-lg",children:[t.jsxDEV("button",{onClick:()=>{const W=Ri.indexOf(V.slideshow_interval);W>0&&z({slideshow_interval:Ri[W-1]})},className:"w-11 h-11 flex items-center justify-center hover:bg-white/10 rounded-l-lg transition-colors disabled:opacity-30",disabled:V.slideshow_interval<=Ri[0],children:t.jsxDEV("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:857,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:856,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:848,columnNumber:21},void 0),t.jsxDEV("span",{className:"w-16 text-center text-blue-400 font-semibold",children:uG(V.slideshow_interval)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:860,columnNumber:21},void 0),t.jsxDEV("button",{onClick:()=>{const W=Ri.indexOf(V.slideshow_interval);W<Ri.length-1&&z({slideshow_interval:Ri[W+1]})},className:"w-11 h-11 flex items-center justify-center hover:bg-white/10 rounded-r-lg transition-colors disabled:opacity-30",disabled:V.slideshow_interval>=Ri[Ri.length-1],children:t.jsxDEV("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:872,columnNumber:25},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:871,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:863,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:847,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:845,columnNumber:17},void 0),t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("span",{className:"text-white block mb-2",children:"Transition"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:880,columnNumber:19},void 0),t.jsxDEV("div",{className:"flex gap-3",children:[{value:"fade",label:"Fade"},{value:"ken_burns",label:"Ken Burns"},{value:"none",label:"None"}].map(W=>t.jsxDEV("button",{onClick:()=>z({transition:W.value}),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${V.transition===W.value?"bg-blue-500 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:W.label},W.value,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:887,columnNumber:23},void 0))},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:881,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:879,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:841,columnNumber:15},void 0),t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("h3",{className:"text-zinc-400 text-sm font-semibold uppercase tracking-wider mb-3",children:"Photo Order"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:905,columnNumber:17},void 0),t.jsxDEV("div",{className:"bg-zinc-800 rounded-xl overflow-hidden",children:G8.map((W,he)=>t.jsxDEV("button",{onClick:()=>z({display_order:W.value}),className:`w-full flex items-center gap-3 px-4 py-3.5 transition-colors ${V.display_order===W.value?"bg-blue-500 text-white":"text-zinc-300 hover:bg-zinc-700"} ${he!==G8.length-1?"border-b border-zinc-700":""}`,children:[t.jsxDEV("span",{className:"w-7",children:W.icon},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:917,columnNumber:23},void 0),t.jsxDEV("span",{className:"flex-1 text-left",children:W.label},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:918,columnNumber:23},void 0),V.display_order===W.value&&t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:921,columnNumber:27},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:920,columnNumber:25},void 0)]},W.value,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:908,columnNumber:21},void 0))},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:906,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:904,columnNumber:15},void 0),t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("h3",{className:"text-zinc-400 text-sm font-semibold uppercase tracking-wider mb-3",children:"Display"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:931,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex justify-between items-center py-3 border-b border-zinc-800",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("span",{className:"text-zinc-400",children:""},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:936,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-white",children:"Show Date"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:937,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:935,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>z({show_date:!V.show_date}),className:`w-12 h-7 rounded-full transition-colors ${V.show_date?"bg-blue-500":"bg-zinc-600"}`,children:t.jsxDEV("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transform transition-transform ${V.show_date?"translate-x-6":"translate-x-1"}`},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:945,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:939,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:934,columnNumber:17},void 0),t.jsxDEV("div",{className:"flex justify-between items-center py-3",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("span",{className:"text-zinc-400",children:""},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:956,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-white",children:"Show Location"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:957,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:955,columnNumber:19},void 0),t.jsxDEV("button",{onClick:()=>z({show_location:!V.show_location}),className:`w-12 h-7 rounded-full transition-colors ${V.show_location?"bg-blue-500":"bg-zinc-600"}`,children:t.jsxDEV("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transform transition-transform ${V.show_location?"translate-x-6":"translate-x-1"}`},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:965,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:959,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:954,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:930,columnNumber:15},void 0),t.jsxDEV("button",{onClick:()=>q(!1),className:"w-full flex items-center justify-center gap-2 py-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-xl transition-colors mb-4",children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:980,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:979,columnNumber:17},void 0),"Done"]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:975,columnNumber:15},void 0),t.jsxDEV("button",{onClick:se,className:"w-full flex items-center justify-center gap-3 py-4 bg-zinc-800 hover:bg-zinc-700 rounded-xl transition-colors mb-3",children:[t.jsxDEV("svg",{className:"w-5 h-5 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:991,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:990,columnNumber:17},void 0),t.jsxDEV("span",{className:"text-zinc-300 font-semibold",children:"Exit Picture Frame Mode"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:993,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:986,columnNumber:15},void 0),t.jsxDEV("button",{onClick:Ee,className:"w-full flex items-center justify-center gap-3 py-4 bg-red-500/20 hover:bg-red-500/30 border border-red-500/40 rounded-xl transition-colors",children:[t.jsxDEV("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:1002,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:1001,columnNumber:17},void 0),t.jsxDEV("span",{className:"text-red-400 font-semibold",children:"Sign Out"},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:1004,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:997,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:828,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:814,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:808,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/FrameMode.tsx",lineNumber:649,columnNumber:5},void 0)},fG=()=>{var te,T;const[i]=Ln(),r=ua(),n=i.get("token"),[s,l]=h.useState(!0),[u,d]=h.useState(!1),[A,b]=h.useState(null),[p,x]=h.useState(null),[N,v]=h.useState(!1),[w,E]=h.useState(null);h.useEffect(()=>{n?F():(b("No share token provided"),l(!1))},[n]);const F=async()=>{try{l(!0);const q=await fetch(`https://quqlovduekdasldqadge.supabase.co/functions/v1/share-api?action=view&token=${n}`,{method:"GET",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}),$=await q.json();if(!q.ok){$.expired?b("This share request has expired"):b($.error||"Failed to load share request");return}x($.request),$.request.status!=="pending"&&(v(!0),E($.request.status))}catch(M){console.error("Error loading share request:",M),b("Failed to load share request")}finally{l(!1)}},V=async M=>{if(n)try{d(!0);const $=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/share-api?action=respond",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({token:n,response:M})}),Ae=await $.json();if(!$.ok)throw new Error(Ae.error||"Failed to respond to request");v(!0),E(M)}catch(q){console.error("Error responding to share request:",q),b(q instanceof Error?q.message:"Failed to respond")}finally{d(!1)}},G=M=>({contact_info:"Contact Information",document:"Document",list:"List",album:"Album",folder:"Folder",asset:"Photo",custom:"Item"})[M]||"Item",Z=M=>({contact_info:"",document:"",list:"",album:"",folder:"",asset:"",custom:""})[M]||"";if(s)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:156,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-lg",children:"Loading share request..."},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:157,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:154,columnNumber:7},void 0);if(A)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:167,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Unable to Load Request"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:168,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:A},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:169,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>r("/"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Go Home"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:166,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:165,columnNumber:7},void 0);if(!p)return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-500 to-gray-600 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white",children:t.jsxDEV("p",{className:"text-lg",children:"Share request not found"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:185,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:184,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:183,columnNumber:7},void 0);if(N)return t.jsxDEV("div",{className:`min-h-screen bg-gradient-to-br ${w==="accepted"?"from-green-500 to-teal-600":"from-gray-500 to-gray-600"} flex items-center justify-center p-4`,children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:w==="accepted"?"":""},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:196,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:w==="accepted"?"Request Accepted!":"Request Declined"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:199,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:w==="accepted"?p.share_type==="contact_info"?t.jsxDEV(t.Fragment,{children:["You've shared ",t.jsxDEV("strong",{children:p.metadata.person_name||"the contact"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:205,columnNumber:33},void 0),"'s information with ",p.requester.full_name,"."]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:205,columnNumber:17},void 0):t.jsxDEV(t.Fragment,{children:["You've accepted the share request from ",p.requester.full_name,"."]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:207,columnNumber:17},void 0):t.jsxDEV(t.Fragment,{children:"You've declined this share request."},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:210,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:202,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>r("/"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Go to Dashboard"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:213,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:195,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:194,columnNumber:7},void 0);const H=p.metadata.person_name||"a contact";return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[t.jsxDEV("div",{className:"text-center mb-6",children:[t.jsxDEV("div",{className:"text-6xl mb-4",children:Z(p.share_type)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:231,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Share Request"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:232,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:230,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex items-center gap-4 bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsxDEV("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:p.requester.avatar_url?t.jsxDEV("img",{src:p.requester.avatar_url,alt:p.requester.full_name,className:"w-full h-full rounded-full object-cover"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:239,columnNumber:15},void 0):((T=(te=p.requester.full_name)==null?void 0:te.charAt(0))==null?void 0:T.toUpperCase())||"?"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:237,columnNumber:11},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-semibold text-gray-800",children:p.requester.full_name},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:249,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:p.requester.email},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:250,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:248,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:236,columnNumber:9},void 0),t.jsxDEV("div",{className:"text-center mb-6",children:p.share_type==="contact_info"?t.jsxDEV("p",{className:"text-gray-600",children:[t.jsxDEV("strong",{children:p.requester.full_name},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:258,columnNumber:15},void 0)," saw ",t.jsxDEV("strong",{children:H},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:258,columnNumber:66},void 0)," tagged in a shared photo and would like you to share their contact information."]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:257,columnNumber:13},void 0):t.jsxDEV("p",{className:"text-gray-600",children:[t.jsxDEV("strong",{children:p.requester.full_name},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:262,columnNumber:15},void 0)," is requesting access to share a ",G(p.share_type).toLowerCase()," with you."]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:261,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:255,columnNumber:9},void 0),t.jsxDEV("div",{className:"space-y-3",children:[t.jsxDEV("button",{onClick:()=>V("accepted"),disabled:u,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[t.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:277,columnNumber:19},void 0),t.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:278,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:276,columnNumber:17},void 0),"Processing..."]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:275,columnNumber:15},void 0):p.share_type==="contact_info"?`Share ${H}'s Contact`:"Accept Request"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:269,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>V("declined"),disabled:u,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Decline"},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:289,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:268,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500 text-center mt-6",children:["This request will expire on ",new Date(p.expires_at).toLocaleDateString(),"."]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:298,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:229,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/components/ShareRequest.tsx",lineNumber:228,columnNumber:5},void 0)},mG=()=>{var q,$,Ae;const{token:i}=hs(),r=ua(),[n,s]=h.useState("loading"),[l,u]=h.useState(null),[d,A]=h.useState(null),[b,p]=h.useState(null),[x,N]=h.useState(""),[v,w]=h.useState(""),[E,F]=h.useState(!1),[V,G]=h.useState(!1);h.useEffect(()=>{i?Z():(A("No share token provided"),s("error"))},[i]);const Z=async()=>{try{s("loading");const L="https://quqlovduekdasldqadge.supabase.co",J=await fetch(`${L}/functions/v1/asset-share-api?action=view&token=${i}`,{method:"GET",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"}}),j=await J.json();if(!J.ok){A(j.error||"Failed to load shared asset"),s("error");return}u(j),j.valid?(s("valid"),p(`${L}/functions/v1/asset-share-api?action=serve&token=${i}`)):j.expired?s(j.in_album?"expired_in_album":"expired_not_in_album"):(A("Invalid token"),s("error"))}catch(L){console.error("Error loading shared asset:",L),A("Failed to load shared asset"),s("error")}},H=async L=>{if(L.preventDefault(),!(!i||!v))try{F(!0);const j=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/asset-share-api?action=request-access",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},body:JSON.stringify({token:i,requester_email:v,requester_name:x||void 0})}),O=await j.json();if(!j.ok)throw new Error(O.error||"Failed to submit access request");G(!0)}catch(J){console.error("Error requesting access:",J),A(J instanceof Error?J.message:"Failed to submit request")}finally{F(!1)}},te=L=>new Date(L).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),T=L=>new Date(L).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}),M=({src:L,alt:J})=>{const[j,O]=h.useState(1),[Y,ie]=h.useState({x:0,y:0}),[z,ee]=h.useState(!1),[D,R]=h.useState({x:0,y:0}),[X,C]=h.useState(0),[I,S]=h.useState(!1),P=h.useRef(null),U=h.useRef(0),K=h.useRef(1),re=h.useCallback(()=>{j>1?(O(1),ie({x:0,y:0})):O(2.5)},[j]),se=h.useCallback(oe=>{if(oe.touches.length===2){const ke=Math.hypot(oe.touches[0].clientX-oe.touches[1].clientX,oe.touches[0].clientY-oe.touches[1].clientY);U.current=ke,K.current=j}else if(oe.touches.length===1){const ke=Date.now();ke-X<300&&re(),C(ke),j>1&&(ee(!0),R({x:oe.touches[0].clientX-Y.x,y:oe.touches[0].clientY-Y.y}))}},[j,X,Y,re]),Ee=h.useCallback(oe=>{if(oe.touches.length===2){oe.preventDefault();const ke=Math.hypot(oe.touches[0].clientX-oe.touches[1].clientX,oe.touches[0].clientY-oe.touches[1].clientY),Ne=Math.min(Math.max(K.current*(ke/U.current),1),5);O(Ne),Ne===1&&ie({x:0,y:0})}else if(oe.touches.length===1&&z&&j>1){const ke=oe.touches[0].clientX-D.x,Ne=oe.touches[0].clientY-D.y;ie({x:ke,y:Ne})}},[z,j,D]),ye=h.useCallback(()=>{ee(!1)},[]),W=h.useCallback(oe=>{oe.preventDefault();const ke=oe.deltaY>0?.9:1.1,Ne=Math.min(Math.max(j*ke,1),5);O(Ne),Ne===1&&ie({x:0,y:0})},[j]),he=h.useCallback(()=>{S(!I),I||(O(1),ie({x:0,y:0}))},[I]);return t.jsxDEV(t.Fragment,{children:[t.jsxDEV("div",{ref:P,className:`relative overflow-hidden rounded-lg shadow-2xl cursor-zoom-in ${I?"fixed inset-0 z-50 bg-black rounded-none":""}`,onDoubleClick:re,onTouchStart:se,onTouchMove:Ee,onTouchEnd:ye,onWheel:W,style:{touchAction:j>1?"none":"auto"},children:[t.jsxDEV("img",{src:L,alt:J,className:"w-full select-none",style:{maxHeight:I?"100vh":"70vh",objectFit:"contain",transform:`scale(${j}) translate(${Y.x/j}px, ${Y.y/j}px)`,transition:z?"none":"transform 0.2s ease-out"},draggable:!1},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:250,columnNumber:11},void 0),I&&t.jsxDEV("button",{onClick:he,className:"absolute top-4 right-4 bg-black/50 text-white p-2 rounded-full hover:bg-black/70",children:t.jsxDEV("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:268,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:267,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:263,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:240,columnNumber:9},void 0),!I&&t.jsxDEV("button",{onClick:he,className:"absolute top-2 right-2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:279,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:278,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:274,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:239,columnNumber:7},void 0)};if(n==="loading")return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-8 text-center text-white",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:291,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-lg",children:"Loading..."},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:292,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:290,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:289,columnNumber:7},void 0);if(n==="error")return t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("svg",{className:"w-16 h-16 mx-auto text-red-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:303,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:302,columnNumber:11},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Unable to Load"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:305,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:d},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:306,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>r("/"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Go Home"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:307,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:301,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:300,columnNumber:7},void 0);if(n==="valid"&&l){const L=(q=l.asset.media_type)==null?void 0:q.startsWith("video"),J=l.memories||[],j=l.reactions||[],O=J.filter(Y=>!Y.parent_id);return t.jsxDEV("div",{className:"h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex flex-col overflow-hidden",children:[t.jsxDEV("header",{className:"bg-black/30 backdrop-blur-sm p-4 flex-shrink-0",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center gap-3",children:[t.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:((Ae=($=l.owner.name)==null?void 0:$.charAt(0))==null?void 0:Ae.toUpperCase())||"K"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:327,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-white font-medium",children:l.owner.name},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:331,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-white/60 text-sm",children:te(l.asset.created_at)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:332,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:330,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:326,columnNumber:13},void 0),t.jsxDEV("div",{className:"text-white/60 text-sm flex items-center gap-2",children:[t.jsxDEV("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:337,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:336,columnNumber:15},void 0),"Shared via Kizu"]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:335,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:325,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:324,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex-shrink-0 max-w-4xl mx-auto w-full px-4 pt-4",children:[t.jsxDEV("div",{className:"relative group",children:L?t.jsxDEV("video",{src:`${b}&type=original`,controls:!0,className:"w-full rounded-lg shadow-2xl max-h-[50vh] object-contain bg-black",poster:b||void 0},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:348,columnNumber:15},void 0):t.jsxDEV("div",{className:"max-h-[50vh] overflow-hidden rounded-lg shadow-2xl",children:t.jsxDEV(M,{src:`${b}&type=original`,alt:"Shared photo"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:351,columnNumber:17},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:350,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:346,columnNumber:11},void 0),j.length>0&&t.jsxDEV("div",{className:"flex gap-2 mt-4 flex-wrap",children:j.map((Y,ie)=>t.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-full px-3 py-1.5 flex items-center gap-1.5",children:[t.jsxDEV("span",{className:"text-xl",children:Y.emoji},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:361,columnNumber:19},void 0),t.jsxDEV("span",{className:"text-white/80 text-sm font-medium",children:Y.count},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:362,columnNumber:19},void 0)]},ie,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:360,columnNumber:17},void 0))},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:358,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:345,columnNumber:9},void 0),O.length>0?t.jsxDEV("div",{className:"flex-1 min-h-0 max-w-4xl mx-auto w-full px-4 py-4",children:t.jsxDEV("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 h-full flex flex-col",children:[t.jsxDEV("h3",{className:"text-white/80 font-semibold mb-4 flex items-center gap-2 flex-shrink-0",children:[t.jsxDEV("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:375,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:374,columnNumber:17},void 0),"Memories (",O.length,")"]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:373,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:O.map(Y=>{var z,ee;const ie=J.filter(D=>D.parent_id===Y.id);return t.jsxDEV("div",{className:"space-y-2",children:[t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0",children:((ee=(z=Y.user.full_name)==null?void 0:z.charAt(0))==null?void 0:ee.toUpperCase())||"?"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:386,columnNumber:25},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-baseline gap-2",children:[t.jsxDEV("span",{className:"text-white font-medium text-sm",children:Y.user.full_name},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:391,columnNumber:29},void 0),t.jsxDEV("span",{className:"text-white/40 text-xs",children:T(Y.created_at)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:392,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:390,columnNumber:27},void 0),Y.memory_type==="video"&&Y.content_url?t.jsxDEV("video",{src:Y.content_url,controls:!0,className:"mt-1 w-full max-w-xs rounded",poster:Y.thumbnail_url},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:395,columnNumber:29},void 0):Y.memory_type==="image"&&Y.content_url?t.jsxDEV("img",{src:Y.content_url,alt:"Memory",className:"mt-1 max-w-xs rounded"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:397,columnNumber:29},void 0):t.jsxDEV("p",{className:"text-white/80 text-sm mt-0.5",children:Y.content_text},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:399,columnNumber:29},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:389,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:385,columnNumber:23},void 0),ie.length>0&&t.jsxDEV("div",{className:"ml-11 space-y-2 border-l-2 border-white/10 pl-3",children:ie.map(D=>{var R,X;return t.jsxDEV("div",{className:"flex gap-2",children:[t.jsxDEV("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:((X=(R=D.user.full_name)==null?void 0:R.charAt(0))==null?void 0:X.toUpperCase())||"?"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:408,columnNumber:31},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("div",{className:"flex items-baseline gap-2",children:[t.jsxDEV("span",{className:"text-white font-medium text-xs",children:D.user.full_name},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:413,columnNumber:35},void 0),t.jsxDEV("span",{className:"text-white/40 text-xs",children:T(D.created_at)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:414,columnNumber:35},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:412,columnNumber:33},void 0),D.memory_type==="video"&&D.content_url?t.jsxDEV("video",{src:D.content_url,controls:!0,className:"mt-1 w-full max-w-xs rounded",poster:D.thumbnail_url},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:417,columnNumber:35},void 0):D.memory_type==="image"&&D.content_url?t.jsxDEV("img",{src:D.content_url,alt:"Reply",className:"mt-1 max-w-xs rounded"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:419,columnNumber:35},void 0):t.jsxDEV("p",{className:"text-white/70 text-sm",children:D.content_text},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:421,columnNumber:35},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:411,columnNumber:31},void 0)]},D.id,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:407,columnNumber:29},void 0)})},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:405,columnNumber:25},void 0)]},Y.id,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:383,columnNumber:21},void 0)})},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:379,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:372,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:371,columnNumber:11},void 0):t.jsxDEV("div",{className:"flex-1"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:435,columnNumber:11},void 0),t.jsxDEV("footer",{className:"bg-black/30 backdrop-blur-sm p-4 text-center flex-shrink-0",children:t.jsxDEV("p",{className:"text-white/60 text-sm",children:"Shared with Kizu - Private by design"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:440,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:439,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:322,columnNumber:7},void 0)}return n==="expired_in_album"&&l?V?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[t.jsxDEV("svg",{className:"w-16 h-16 mx-auto text-green-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:452,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:451,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Request Submitted!"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:454,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-600 mb-6",children:[l.owner.name," has been notified. You'll receive an email if they grant you access."]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:455,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>r("/"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Go Home"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:456,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:450,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:449,columnNumber:9},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[t.jsxDEV("div",{className:"text-center mb-6",children:[t.jsxDEV("svg",{className:"w-16 h-16 mx-auto text-amber-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:469,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:468,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"This link has expired"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:471,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:467,columnNumber:11},void 0),t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsxDEV("p",{className:"text-gray-700 text-center",children:["Request access from ",t.jsxDEV("strong",{children:l.owner.name},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:474,columnNumber:74},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:474,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-500 text-sm text-center mt-2",children:"You'll need a Kizu account to get permanent access."},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:475,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:473,columnNumber:11},void 0),d&&t.jsxDEV("div",{className:"bg-red-50 text-red-700 rounded-lg p-3 mb-4 text-sm",children:d},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:477,columnNumber:21},void 0),t.jsxDEV("form",{onSubmit:H,className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:480,columnNumber:15},void 0),t.jsxDEV("input",{type:"text",id:"name",value:x,onChange:L=>N(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"John Smith"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:481,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:479,columnNumber:13},void 0),t.jsxDEV("div",{children:[t.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Your Email ",t.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:484,columnNumber:106},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:484,columnNumber:15},void 0),t.jsxDEV("input",{type:"email",id:"email",required:!0,value:v,onChange:L=>w(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"john@example.com"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:485,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:483,columnNumber:13},void 0),t.jsxDEV("button",{type:"submit",disabled:E||!v,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:E?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[t.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:489,columnNumber:77},void 0),t.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:489,columnNumber:183},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:489,columnNumber:19},void 0),"Submitting..."]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:489,columnNumber:17},void 0):"Request Access"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:487,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:478,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:466,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:465,columnNumber:7},void 0):n==="expired_not_in_album"&&l?t.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-500 to-gray-700 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[t.jsxDEV("div",{className:"text-center mb-6",children:[t.jsxDEV("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:504,columnNumber:15},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:503,columnNumber:13},void 0),t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"This link has expired"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:506,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:502,columnNumber:11},void 0),t.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsxDEV("p",{className:"text-gray-700 mb-4",children:["To get access, contact ",t.jsxDEV("strong",{children:l.owner.name},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:509,columnNumber:70},void 0)," and ask them to:"]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:509,columnNumber:13},void 0),t.jsxDEV("ol",{className:"list-decimal list-inside text-gray-600 space-y-2",children:[t.jsxDEV("li",{children:"Add this photo to an album"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:511,columnNumber:15},void 0),t.jsxDEV("li",{children:"Share the album with a circle that includes you"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:512,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:510,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-gray-500 text-sm mt-4",children:"You'll also need a Kizu account."},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:514,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:508,columnNumber:11},void 0),t.jsxDEV("a",{href:"https://kizu.online",className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors text-center",children:"Create Kizu Account"},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:516,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:501,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/SharedAssetViewer.tsx",lineNumber:500,columnNumber:7},void 0):null},Su="https://quqlovduekdasldqadge.supabase.co",U8=i=>{i.preventDefault(),i.stopPropagation(),window.location.href="kizu://subscription-complete",setTimeout(()=>{window.close(),setTimeout(()=>{document.hidden||alert("Please return to the Kizu app manually.")},300)},500)},AG=()=>{var he;const i=ua(),[r]=Ln(),[n,s]=h.useState(!0),[l,u]=h.useState("authenticating"),[d,A]=h.useState(null),[b,p]=h.useState([]),[x,N]=h.useState(null),[v,w]=h.useState(null),[E,F]=h.useState(null),[V,G]=h.useState(null),[Z,H]=h.useState("monthly"),[te,T]=h.useState(null),[M,q]=h.useState(""),[$,Ae]=h.useState(!1),[L,J]=h.useState(null),[j,O]=h.useState(!1),[Y,ie]=h.useState(null),[z,ee]=h.useState(null),[D,R]=h.useState(null);h.useEffect(()=>{X()},[]),h.useEffect(()=>{r.get("success")==="true"&&(R("Your subscription has been updated. Return to Kizu to continue."),C())},[r]);const X=async()=>{var Xe,ae,fe,be,Oe;const oe=r.get("access_token"),ke=r.get("refresh_token");if(oe)try{const Fe=JSON.parse(atob(oe.split(".")[1])),$e=((Xe=Fe.user_metadata)==null?void 0:Xe.full_name)||((ae=Fe.user_metadata)==null?void 0:ae.name)||((fe=Fe.email)==null?void 0:fe.split("@")[0])||null;$e&&A($e)}catch{}if(u("authenticating"),oe&&ke)try{await Ge.auth.setSession({access_token:oe,refresh_token:ke}),window.history.replaceState({},"","/subscription")}catch{ee("Failed to authenticate. Please try again from the app."),s(!1);return}const{data:{session:Ne}}=await Ge.auth.getSession();if(!Ne){i("/login?redirect=/subscription");return}const je=(be=Ne.user)==null?void 0:be.email,Be=(Oe=Ne.user)==null?void 0:Oe.user_metadata,De=(Be==null?void 0:Be.full_name)||(Be==null?void 0:Be.name)||(je==null?void 0:je.split("@")[0])||null;A(De),u("loading_account"),C()},C=async()=>{const oe=performance.now();console.log("[SubscriptionPage] Starting data load");try{const{data:{session:ke}}=await Ge.auth.getSession();if(console.log("[SubscriptionPage] Got session in",(performance.now()-oe).toFixed(0),"ms"),!(ke!=null&&ke.access_token)){i("/login");return}const Ne={Authorization:`Bearer ${ke.access_token}`,"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1cWxvdmR1ZWtkYXNsZHFhZGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NzQ5MjgsImV4cCI6MjA4MTE1MDkyOH0.bePrytQ_iJtzBjjkguFSCBrIpgzZlhBeOrbmsmzo5x4"},je=performance.now(),Be=await fetch(`${Su}/functions/v1/subscription-api?action=page_data`,{headers:Ne});console.log("[SubscriptionPage] API response in",(performance.now()-je).toFixed(0),"ms");const De=await Be.json();console.log("[SubscriptionPage] Total load time:",(performance.now()-oe).toFixed(0),"ms"),De.success?(p(De.plans||[]),N(De.subscription),w(De.plan),F(De.usage),G(De.limits),De.discount&&ie(De.discount)):ee(De.error||"Failed to load subscription data")}catch(ke){console.error("Error loading subscription data:",ke),ee("Failed to load subscription data")}finally{s(!1)}},I=async()=>{if(M.trim()){Ae(!0),J(null);try{const{data:{session:oe}}=await Ge.auth.getSession();if(!(oe!=null&&oe.access_token))return;const Ne=await(await fetch(`${Su}/functions/v1/subscription-api?action=validate_promo&code=${encodeURIComponent(M.trim())}`,{headers:{Authorization:`Bearer ${oe.access_token}`}})).json();Ne.valid?J({valid:!0,benefits:Ne.promo.benefits,discount_percent:Ne.promo.discount_percent,trial_days:Ne.promo.trial_days,is_perpetual:Ne.promo.is_perpetual}):J({valid:!1,error:Ne.error||"Invalid promo code"})}catch{J({valid:!1,error:"Failed to validate promo code"})}finally{Ae(!1)}}},S=async()=>{if(M.trim()){Ae(!0);try{const{data:{session:oe}}=await Ge.auth.getSession();if(!(oe!=null&&oe.access_token))return;const Ne=await(await fetch(`${Su}/functions/v1/subscription-api?action=apply_promo`,{method:"POST",headers:{Authorization:`Bearer ${oe.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({code:M.trim()})})).json();Ne.success?(R(Ne.message),q(""),J(null),O(!1),C()):ee(Ne.error||"Failed to apply promo code")}catch{ee("Failed to apply promo code")}finally{Ae(!1)}}},P=async oe=>{if(!((v==null?void 0:v.id)===oe.id&&(x==null?void 0:x.status)!=="trialing")){if(oe.name==="free"){ee("To downgrade to free, use Manage Billing below or contact support.");return}T(oe.id);try{const{data:{session:ke}}=await Ge.auth.getSession();if(!(ke!=null&&ke.access_token))return;const je=await(await fetch(`${Su}/functions/v1/stripe-checkout-api?action=create_checkout`,{method:"POST",headers:{Authorization:`Bearer ${ke.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({plan_id:oe.id,billing_cycle:Z,promo_code:L!=null&&L.valid?M.trim():void 0,platform:"web"})})).json();je.success&&je.checkout_url?window.location.href=je.checkout_url:ee(je.error||"Failed to start checkout")}catch{ee("Failed to start checkout")}finally{T(null)}}},U=async()=>{try{const{data:{session:oe}}=await Ge.auth.getSession();if(!(oe!=null&&oe.access_token))return;const Ne=await(await fetch(`${Su}/functions/v1/stripe-checkout-api?action=create_portal`,{method:"POST",headers:{Authorization:`Bearer ${oe.access_token}`}})).json();Ne.success&&Ne.portal_url?window.location.href=Ne.portal_url:ee(Ne.error||"Failed to open billing portal")}catch{ee("Failed to open billing portal")}},K=oe=>oe===0?"Free":`$${(oe/100).toFixed(2)}`,re=oe=>{const ke=oe/1073741824;return ke>=1?`${ke} GB`:`${oe/(1024*1024)} MB`},se=(x==null?void 0:x.status)==="trialing",Ee=(x==null?void 0:x.status)==="active",ye=(x==null?void 0:x.status)==="expired",W=se&&!(x!=null&&x.trial_end);if(x!=null&&x.has_promo,n){const oe=()=>l==="authenticating"?d?`Authenticating ${d}...`:"Authenticating...":d?`Looking up account information for ${d}...`:"Looking up account information...";return t.jsxDEV("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:379,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:oe()},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:380,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:378,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:377,columnNumber:7},void 0)}return z&&!x?t.jsxDEV("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:t.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 max-w-md text-center",children:[t.jsxDEV("div",{className:"text-5xl mb-4",children:""},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:392,columnNumber:11},void 0),t.jsxDEV("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Error"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:393,columnNumber:11},void 0),t.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:z},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:394,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>i("/login"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg",children:"Go to Login"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:395,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:391,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:390,columnNumber:7},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t.jsxDEV("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:t.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 py-4 flex justify-between items-center",children:[t.jsxDEV("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Manage Subscription"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:410,columnNumber:11},void 0),t.jsxDEV("button",{onClick:U8,className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400",children:"Done"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:411,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:409,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:408,columnNumber:7},void 0),t.jsxDEV("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[D&&t.jsxDEV("div",{className:"bg-green-100 dark:bg-green-900/30 border border-green-400 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg mb-6",children:D},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:422,columnNumber:11},void 0),z&&t.jsxDEV("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg mb-6",children:[z,t.jsxDEV("button",{onClick:()=>ee(null),className:"ml-4 underline",children:"Dismiss"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:430,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:428,columnNumber:11},void 0),ye&&t.jsxDEV("div",{className:"bg-red-600 text-white p-4 rounded-lg mb-6",children:[t.jsxDEV("h3",{className:"font-bold text-lg",children:"Subscription Expired"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:436,columnNumber:13},void 0),t.jsxDEV("p",{children:"Please select a plan to continue using all features."},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:437,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:435,columnNumber:11},void 0),Y&&t.jsxDEV("div",{className:"bg-emerald-500 text-white p-4 rounded-lg mb-6 flex items-center gap-4",children:[t.jsxDEV("span",{className:"text-3xl",children:""},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:443,columnNumber:13},void 0),t.jsxDEV("div",{className:"flex-1",children:[t.jsxDEV("p",{className:"font-bold",children:Y.label},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:445,columnNumber:15},void 0),t.jsxDEV("p",{className:"text-sm opacity-90",children:Y.description},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:446,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:444,columnNumber:13},void 0),t.jsxDEV("span",{className:"text-2xl font-bold",children:[Y.percent,"% OFF"]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:448,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:442,columnNumber:11},void 0),t.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Your Plan"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:456,columnNumber:15},void 0),t.jsxDEV("h2",{className:"text-3xl font-bold text-indigo-600",children:(v==null?void 0:v.display_name)||"Free"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:457,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:455,columnNumber:13},void 0),t.jsxDEV("div",{className:`px-4 py-2 rounded-full text-white font-semibold ${Ee?"bg-green-500":se?W?"bg-green-500":"bg-orange-500":ye?"bg-red-500":"bg-gray-500"}`,children:Ee?"Active":se?W?" Unlimited":`${x!=null&&x.trial_end?Math.ceil((new Date(x.trial_end).getTime()-Date.now())/(1e3*60*60*24)):0}d left`:ye?"Expired":"Free"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:459,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:454,columnNumber:11},void 0),se&&!W&&(x==null?void 0:x.trial_end)&&t.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Trial ends ",new Date(x.trial_end).toLocaleDateString()]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:470,columnNumber:13},void 0),Ee&&(x==null?void 0:x.current_period_end)&&t.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Subscription renews ",new Date(x.current_period_end).toLocaleDateString()]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:475,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:453,columnNumber:9},void 0),E&&V&&t.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[t.jsxDEV("h3",{className:"font-semibold text-gray-800 dark:text-white mb-4",children:"Account Usage"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:484,columnNumber:13},void 0),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-1",children:[t.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Photos"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:489,columnNumber:19},void 0),t.jsxDEV("span",{className:E.photos>=V.max_photos?"text-red-500 font-semibold":"text-gray-800 dark:text-white",children:[E.photos.toLocaleString()," / ",V.max_photos.toLocaleString()]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:490,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:488,columnNumber:17},void 0),t.jsxDEV("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:`h-full rounded-full ${E.photos>=V.max_photos?"bg-red-500":"bg-indigo-500"}`,style:{width:`${Math.min(100,E.photos/V.max_photos*100)}%`}},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:495,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:494,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:487,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-1",children:[t.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Storage"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:505,columnNumber:19},void 0),t.jsxDEV("span",{className:E.storage_bytes>=V.max_storage_bytes?"text-red-500 font-semibold":"text-gray-800 dark:text-white",children:[re(E.storage_bytes)," / ",re(V.max_storage_bytes)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:506,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:504,columnNumber:17},void 0),t.jsxDEV("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:`h-full rounded-full ${E.storage_bytes>=V.max_storage_bytes?"bg-red-500":"bg-emerald-500"}`,style:{width:`${Math.min(100,E.storage_bytes/V.max_storage_bytes*100)}%`}},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:511,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:510,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:503,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-1",children:[t.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Video Minutes"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:521,columnNumber:19},void 0),t.jsxDEV("span",{className:E.video_minutes>=V.max_video_minutes?"text-red-500 font-semibold":"text-gray-800 dark:text-white",children:[E.video_minutes," / ",V.max_video_minutes]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:522,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:520,columnNumber:17},void 0),t.jsxDEV("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:`h-full rounded-full ${E.video_minutes>=V.max_video_minutes?"bg-red-500":"bg-purple-500"}`,style:{width:`${V.max_video_minutes>0?Math.min(100,E.video_minutes/V.max_video_minutes*100):0}%`}},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:527,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:526,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:519,columnNumber:15},void 0),V.max_editors>0&&t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-1",children:[t.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Editors"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:538,columnNumber:21},void 0),t.jsxDEV("span",{className:(E.editors||0)>=V.max_editors?"text-red-500 font-semibold":"text-gray-800 dark:text-white",children:[E.editors||0," / ",V.max_editors]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:539,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:537,columnNumber:19},void 0),t.jsxDEV("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:`h-full rounded-full ${(E.editors||0)>=V.max_editors?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.min(100,(E.editors||0)/V.max_editors*100)}%`}},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:544,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:543,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:536,columnNumber:17},void 0),V.max_contributors>0&&t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-1",children:[t.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Contributors"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:556,columnNumber:21},void 0),t.jsxDEV("span",{className:(E.contributors||0)>=V.max_contributors?"text-red-500 font-semibold":"text-gray-800 dark:text-white",children:[E.contributors||0," / ",V.max_contributors]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:557,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:555,columnNumber:19},void 0),t.jsxDEV("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:`h-full rounded-full ${(E.contributors||0)>=V.max_contributors?"bg-red-500":"bg-teal-500"}`,style:{width:`${Math.min(100,(E.contributors||0)/V.max_contributors*100)}%`}},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:562,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:561,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:554,columnNumber:17},void 0),V.max_read_only>0&&t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"flex justify-between text-sm mb-1",children:[t.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Read-Only Users"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:574,columnNumber:21},void 0),t.jsxDEV("span",{className:(E.read_only_users||0)>=V.max_read_only?"text-red-500 font-semibold":"text-gray-800 dark:text-white",children:[E.read_only_users||0," / ",V.max_read_only===-1?"":V.max_read_only]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:575,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:573,columnNumber:19},void 0),V.max_read_only!==-1&&t.jsxDEV("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsxDEV("div",{className:`h-full rounded-full ${(E.read_only_users||0)>=V.max_read_only?"bg-red-500":"bg-cyan-500"}`,style:{width:`${Math.min(100,(E.read_only_users||0)/V.max_read_only*100)}%`}},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:581,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:580,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:572,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:485,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:483,columnNumber:11},void 0),t.jsxDEV("div",{className:"sticky top-0 z-10 bg-gray-50 dark:bg-gray-900 py-4 -mx-4 px-4 border-b border-gray-200 dark:border-gray-700",children:t.jsxDEV("div",{className:"flex justify-center gap-4",children:[t.jsxDEV("button",{onClick:()=>H("monthly"),className:`px-6 py-2 rounded-lg font-medium transition ${Z==="monthly"?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600"}`,children:"Monthly"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:596,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>H("yearly"),className:`px-6 py-2 rounded-lg font-medium transition flex items-center gap-2 ${Z==="yearly"?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600"}`,children:["Yearly",t.jsxDEV("span",{className:"bg-green-500 text-white text-xs px-2 py-0.5 rounded",children:"SAVE"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:615,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:606,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:595,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:594,columnNumber:9},void 0),!Ee&&t.jsxDEV("div",{className:"mb-6 mt-6",children:[t.jsxDEV("button",{onClick:()=>O(!j),className:"text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-2",children:[" ",j?"Hide promo code":"Have a promo code?"]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:622,columnNumber:13},void 0),j&&t.jsxDEV("div",{className:"mt-4 bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("input",{type:"text",value:M,onChange:oe=>{q(oe.target.value.toUpperCase()),J(null)},placeholder:"Enter promo code",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-white"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:632,columnNumber:19},void 0),t.jsxDEV("button",{onClick:I,disabled:$||!M.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:$?"Checking...":"Check"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:642,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:631,columnNumber:17},void 0),L&&t.jsxDEV("div",{className:`mt-3 p-3 rounded-lg ${L.valid?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:L.valid?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("p",{className:"text-green-700 dark:text-green-400 font-medium",children:" Valid code!"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:655,columnNumber:25},void 0),(he=L.benefits)==null?void 0:he.map((oe,ke)=>t.jsxDEV("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:oe},ke,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:657,columnNumber:27},void 0)),t.jsxDEV("button",{onClick:S,className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Apply Now"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:659,columnNumber:25},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:654,columnNumber:23},void 0):t.jsxDEV("p",{className:"text-red-700 dark:text-red-400",children:[" ",L.error]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:667,columnNumber:23},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:652,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:630,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:621,columnNumber:11},void 0),t.jsxDEV("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:b.map(oe=>{const ke=(v==null?void 0:v.id)===oe.id,Ne=Z==="yearly"?oe.price_yearly_cents:oe.price_monthly_cents,je=v?Z==="yearly"?v.price_yearly_cents:v.price_monthly_cents:0,Be=v&&Ne<je,De=Y&&Ne>0?Math.round(Ne*(1-Y.percent/100)):Ne,Xe=te===oe.id,ae=()=>Xe?"Loading...":ke?"Current Plan":Be?"Downgrade":"Upgrade",fe=()=>ke?"bg-gray-400 cursor-not-allowed":Be?"bg-orange-500 hover:bg-orange-600":"bg-indigo-600 hover:bg-indigo-700";return t.jsxDEV("div",{className:`bg-white dark:bg-gray-800 rounded-xl p-6 transition ${ke?"border-8 border-indigo-500":"border-2 border-gray-200 dark:border-gray-700"}`,children:[t.jsxDEV("div",{className:"flex justify-between items-start mb-4",children:[t.jsxDEV("h3",{className:`text-lg font-bold ${ke?"text-indigo-600":"text-gray-800 dark:text-white"}`,children:oe.display_name},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:711,columnNumber:19},void 0),ke&&t.jsxDEV("span",{className:`text-xs font-bold px-2 py-1 rounded ${W?"bg-green-500":se?"bg-orange-500":"bg-indigo-500"} text-white`,children:W?"":se?"TRIAL":x!=null&&x.current_period_end?`Renews ${new Date(x.current_period_end).toLocaleDateString()}`:"ACTIVE"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:715,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:710,columnNumber:17},void 0),t.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-4",children:[Y&&Ne>0&&t.jsxDEV("span",{className:"text-sm text-gray-400 line-through mr-2",children:K(Ne)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:725,columnNumber:21},void 0),t.jsxDEV("span",{className:"text-xl font-bold text-indigo-600",children:K(De)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:727,columnNumber:19},void 0),t.jsxDEV("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",Z==="yearly"?"year":"month"]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:728,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:723,columnNumber:17},void 0),t.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[t.jsxDEV("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[t.jsxDEV("p",{className:"font-semibold text-gray-800 dark:text-white",children:re(oe.storage_bytes)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:733,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Storage"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:734,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:732,columnNumber:19},void 0),t.jsxDEV("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[t.jsxDEV("p",{className:"font-semibold text-gray-800 dark:text-white",children:oe.max_photos.toLocaleString()},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:737,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Photos"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:738,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:736,columnNumber:19},void 0),t.jsxDEV("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[t.jsxDEV("p",{className:"font-semibold text-gray-800 dark:text-white",children:oe.max_video_minutes||0},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:741,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Video mins"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:742,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:740,columnNumber:19},void 0),t.jsxDEV("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[t.jsxDEV("p",{className:"font-semibold text-gray-800 dark:text-white",children:oe.max_editors},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:745,columnNumber:21},void 0),t.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Editors"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:746,columnNumber:21},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:744,columnNumber:19},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:731,columnNumber:17},void 0),t.jsxDEV("button",{onClick:()=>P(oe),disabled:Xe||oe.name==="free"||ke,className:`w-full py-3 text-white rounded-lg font-medium disabled:opacity-50 transition ${fe()}`,children:ae()},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:750,columnNumber:17},void 0),Be&&!ke&&t.jsxDEV("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-2 text-center",children:["You'll keep your current features until ",x!=null&&x.current_period_end?new Date(x.current_period_end).toLocaleDateString():"your billing period ends"]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:759,columnNumber:19},void 0)]},oe.id,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:704,columnNumber:15},void 0)})},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:676,columnNumber:9},void 0),Ee&&(x==null?void 0:x.stripe_customer_id)&&t.jsxDEV("div",{className:"mt-8",children:t.jsxDEV("button",{onClick:U,className:"w-full py-4 border-2 border-indigo-600 text-indigo-600 dark:text-indigo-400 rounded-lg font-medium hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition flex items-center justify-center gap-2",children:" Manage Billing & Payment"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:770,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:769,columnNumber:11},void 0),t.jsxDEV("div",{className:"mt-8 mb-8 flex justify-center",children:t.jsxDEV("button",{onClick:U8,className:"px-8 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg font-medium transition",children:"Done"},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:780,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:779,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:420,columnNumber:7},void 0)]},void 0,!0,{fileName:"/app/src/components/SubscriptionPage.tsx",lineNumber:407,columnNumber:5},void 0)},bG=()=>{var p,x,N,v;const i=ua(),{user:r,userProfile:n,signOut:s}=Xa(),[l,u]=h.useState(!1),[d,A]=h.useState(!1),b=async()=>{A(!0);try{const{data:{session:w}}=await Ge.auth.getSession();if(!(w!=null&&w.access_token))throw new Error("Not authenticated");const E=await fetch("https://quqlovduekdasldqadge.supabase.co/functions/v1/delete-account",{method:"POST",headers:{Authorization:`Bearer ${w.access_token}`,"Content-Type":"application/json"}}),F=await E.json();if(!E.ok||!F.success)throw new Error(F.error||"Failed to delete account");alert("Your account and all data have been permanently deleted."),await s(),i("/")}catch(w){console.error("Delete account error:",w),alert(w instanceof Error?w.message:"Failed to delete account. Please try again.")}finally{A(!1),u(!1)}};return r?t.jsxDEV("div",{className:"min-h-screen bg-gray-100 py-12 px-4",children:[t.jsxDEV("div",{className:"max-w-md mx-auto",children:t.jsxDEV("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[t.jsxDEV("div",{className:"bg-gray-50 px-6 py-4 border-b",children:t.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:"Account Settings"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:71,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:70,columnNumber:11},void 0),t.jsxDEV("div",{className:"p-6 border-b",children:t.jsxDEV("div",{className:"flex items-center gap-4",children:[t.jsxDEV("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:n!=null&&n.avatar_url?t.jsxDEV("img",{src:n.avatar_url,alt:"Avatar",className:"w-full h-full object-cover rounded-full"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:79,columnNumber:19},void 0):t.jsxDEV("span",{className:"text-2xl text-blue-600",children:((x=(p=n==null?void 0:n.full_name)==null?void 0:p[0])==null?void 0:x.toUpperCase())||((v=(N=r.email)==null?void 0:N[0])==null?void 0:v.toUpperCase())||"U"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:85,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:77,columnNumber:15},void 0),t.jsxDEV("div",{children:[t.jsxDEV("h2",{className:"font-semibold text-gray-900",children:(n==null?void 0:n.full_name)||"User"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:91,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-gray-500",children:r.email},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:94,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:90,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:76,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:75,columnNumber:11},void 0),t.jsxDEV("div",{className:"p-6 space-y-4",children:t.jsxDEV("button",{onClick:()=>i("/admin"),className:"w-full px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors text-left flex items-center gap-3",children:[t.jsxDEV("span",{children:""},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:105,columnNumber:15},void 0)," Back to Dashboard"]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:101,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:100,columnNumber:11},void 0),t.jsxDEV("div",{className:"p-6 bg-red-50 border-t border-red-100",children:[t.jsxDEV("h3",{className:"text-sm font-semibold text-red-800 mb-2",children:"Danger Zone"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:111,columnNumber:13},void 0),t.jsxDEV("p",{className:"text-xs text-red-600 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:112,columnNumber:13},void 0),t.jsxDEV("button",{onClick:()=>u(!0),disabled:d,className:"w-full px-4 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors",children:d?"Deleting...":"Delete My Account"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:110,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:68,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:67,columnNumber:7},void 0),l&&t.jsxDEV("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:t.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full overflow-hidden",children:t.jsxDEV("div",{className:"p-6",children:[t.jsxDEV("div",{className:"text-center mb-4",children:[t.jsxDEV("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsxDEV("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:134,columnNumber:21},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:133,columnNumber:19},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:132,columnNumber:17},void 0),t.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Delete Account"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:137,columnNumber:17},void 0),t.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:["This action ",t.jsxDEV("span",{className:"font-semibold text-red-600",children:"CANNOT be undone"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:139,columnNumber:31},void 0),". All your data will be permanently deleted, including:"]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:138,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:131,columnNumber:15},void 0),t.jsxDEV("ul",{className:"text-sm text-gray-700 space-y-2 mb-6 bg-red-50 p-4 rounded-lg",children:[t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:145,columnNumber:19},void 0)," All photos and videos"]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:144,columnNumber:17},void 0),t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:148,columnNumber:19},void 0)," All albums and folders"]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:147,columnNumber:17},void 0),t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:151,columnNumber:19},void 0)," All circles and shared content"]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:150,columnNumber:17},void 0),t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:154,columnNumber:19},void 0)," Your profile and settings"]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:153,columnNumber:17},void 0),t.jsxDEV("li",{className:"flex items-center gap-2",children:[t.jsxDEV("span",{className:"text-red-500",children:""},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:157,columnNumber:19},void 0)," Connected import sources"]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:156,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:143,columnNumber:15},void 0),t.jsxDEV("div",{className:"flex gap-3",children:[t.jsxDEV("button",{onClick:()=>u(!1),disabled:d,className:"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:162,columnNumber:17},void 0),t.jsxDEV("button",{onClick:b,disabled:d,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:d?t.jsxDEV(t.Fragment,{children:[t.jsxDEV("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:176,columnNumber:23},void 0),"Deleting..."]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:175,columnNumber:21},void 0):"Yes, Delete Everything"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:169,columnNumber:17},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:161,columnNumber:15},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:130,columnNumber:13},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:129,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:128,columnNumber:9},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:66,columnNumber:5},void 0):t.jsxDEV("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsxDEV("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[t.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:"Please sign in"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:53,columnNumber:11},void 0),t.jsxDEV("button",{onClick:()=>i("/login"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go to Login"},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:54,columnNumber:11},void 0)]},void 0,!0,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:52,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/components/AccountPage.tsx",lineNumber:51,columnNumber:7},void 0)};function pG(){return t.jsxDEV("div",{className:"App",children:t.jsxDEV(nw,{children:[t.jsxDEV(Zr,{path:"/album/:inviteId",element:t.jsxDEV(QM,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:24,columnNumber:49},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:24,columnNumber:9},this),t.jsxDEV(Zr,{path:"/album/:inviteId/:albumId",element:t.jsxDEV($M,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:25,columnNumber:58},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:25,columnNumber:9},this),t.jsxDEV(Zr,{path:"/view-circle/:inviteId",element:t.jsxDEV(qM,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:28,columnNumber:55},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:28,columnNumber:9},this),t.jsxDEV(Zr,{path:"/frame-setup/:token",element:t.jsxDEV(cG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:31,columnNumber:52},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:31,columnNumber:9},this),t.jsxDEV(Zr,{path:"/frame",element:t.jsxDEV(dG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:34,columnNumber:39},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:34,columnNumber:9},this),t.jsxDEV(Zr,{path:"/share",element:t.jsxDEV(fG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:37,columnNumber:39},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:37,columnNumber:9},this),t.jsxDEV(Zr,{path:"/asset/:token",element:t.jsxDEV(mG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:40,columnNumber:46},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:40,columnNumber:9},this),t.jsxDEV(Zr,{path:"/subscription",element:t.jsxDEV(AG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:43,columnNumber:46},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:43,columnNumber:9},this),t.jsxDEV(Zr,{path:"/account",element:t.jsxDEV(bG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:46,columnNumber:41},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:46,columnNumber:9},this),t.jsxDEV(Zr,{path:"/verify",element:t.jsxDEV(sG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:49,columnNumber:40},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:49,columnNumber:9},this),t.jsxDEV(Zr,{path:"/dashboard",element:t.jsxDEV(lG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:52,columnNumber:43},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:52,columnNumber:9},this),t.jsxDEV(Zr,{path:"/login",element:t.jsxDEV(tG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:55,columnNumber:39},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:55,columnNumber:9},this),t.jsxDEV(Zr,{path:"/signup",element:t.jsxDEV(nG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:56,columnNumber:40},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:56,columnNumber:9},this),t.jsxDEV(Zr,{path:"/signup-success",element:t.jsxDEV(iG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:57,columnNumber:48},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:57,columnNumber:9},this),t.jsxDEV(Zr,{path:"/auth/callback",element:t.jsxDEV(oG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:58,columnNumber:47},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:58,columnNumber:9},this),t.jsxDEV(Zr,{path:"/admin/*",element:t.jsxDEV(aG,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:61,columnNumber:41},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:61,columnNumber:9},this),t.jsxDEV(Zr,{path:"/",element:t.jsxDEV(Zn,{to:"/admin",replace:!0},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:64,columnNumber:34},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:22,columnNumber:7},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:21,columnNumber:5},this)}aC.createRoot(document.getElementById("root")).render(t.jsxDEV(Wl.StrictMode,{children:t.jsxDEV(UM,{children:t.jsxDEV(c_,{children:t.jsxDEV(GM,{children:t.jsxDEV(pG,{},void 0,!1,{fileName:"/app/src/main.tsx",lineNumber:15,columnNumber:11},void 0)},void 0,!1,{fileName:"/app/src/main.tsx",lineNumber:14,columnNumber:9},void 0)},void 0,!1,{fileName:"/app/src/main.tsx",lineNumber:13,columnNumber:7},void 0)},void 0,!1,{fileName:"/app/src/main.tsx",lineNumber:12,columnNumber:5},void 0)},void 0,!1,{fileName:"/app/src/main.tsx",lineNumber:11,columnNumber:3},void 0));
